/*esmap-3.0.min.js 4/12/2023, 4:37:19 PM*/
/*esmapcore 3.0 2023-4-12 16:37:02*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(114),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(170),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},,,,,function(t,n,r){var e=r(14),o=r(3),i=r(24),u=r(26),s=r(25),f=function(t,n,r){var c,a,l,h=t&f.F,p=t&f.G,v=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,m=p?o:o[n]||(o[n]={}),b=m.prototype,_=p?e:v?e[n]:(e[n]||{}).prototype;for(c in p&&(r=n),r)(a=!h&&_&&void 0!==_[c])&&s(m,c)||(l=a?_[c]:r[c],m[c]=p&&"function"!=typeof _[c]?r[c]:y&&a?i(l,e):g&&_[c]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):d&&"function"==typeof l?i(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[c]=l,t&f.R&&b&&!b[c]&&u(b,c,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n,r){t.exports={default:r(215),__esModule:!0}},function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(200)),o=u(r(104)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},,function(t,n,r){t.exports=r(213)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(9),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){t.exports={default:r(172),__esModule:!0}},function(t,n,r){var e=r(77)("wks"),o=r(58),i=r(14).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,n,r){t.exports={default:r(187),__esModule:!0}},,function(t,n,r){t.exports=!r(29)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(22),o=r(105),i=r(75),u=Object.defineProperty;n.f=r(20)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(15);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},,function(t,n,r){var e=r(45);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(21),o=r(46);t.exports=r(20)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){t.exports={default:r(162),__esModule:!0}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(27),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return(0,i.default)(t)}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(80),o=r(81);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(205),__esModule:!0}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(225),e.base64=r(226),e.EventEmitter=r(227),e.float=r(228),e.inquire=r(229),e.utf8=r(230),e.pool=r(231),e.LongBits=r(232),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(97))},,function(t,n,r){var e=r(58)("meta"),o=r(15),i=r(25),u=r(21).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(29)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(106),o=r(84);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n,r){"use strict";var e=r(163)(!0);r(86)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){var e=r(81);t.exports=function(t){return Object(e(t))}},,function(t,n,r){r(179);for(var e=r(14),o=r(26),i=r(52),u=r(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){var e=r(24),o=r(116),i=r(117),u=r(22),s=r(59),f=r(87),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(21).f,o=r(25),i=r(17)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(114),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},function(t,n,r){t.exports={default:r(178),__esModule:!0}},function(t,n,r){t.exports={default:r(189),__esModule:!0}},,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(82),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(22),o=r(109),i=r(84),u=r(83)("IE_PROTO"),s=function(){},f=function(){var t,n=r(74)("iframe"),e=i.length;for(n.style.display="none",r(110).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;e--;)delete f.prototype[i[e]];return f()};t.exports=Object.create||function(t,n){var r;return null!==t?(s.prototype=e(t),r=new s,s.prototype=null,r[u]=t):r=f(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(8),o=r(3),i=r(29);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){var e=r(26);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){t.exports={default:r(191),__esModule:!0}},function(t,n,r){"use strict";t.exports=r(224)},,,,,,,,,function(t,n,r){var e=r(15),o=r(14).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(26)},function(t,n,r){var e=r(3),o=r(14),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(47)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(17)},function(t,n,r){var e=r(14),o=r(3),i=r(47),u=r(78),s=r(21).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(77)("keys"),o=r(58);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){"use strict";var e=r(47),o=r(8),i=r(76),u=r(26),s=r(52),f=r(164),c=r(48),a=r(115),l=r(17)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(88),o=r(17)("iterator"),i=r(52);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(49),o=r(17)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){t.exports={default:r(177),__esModule:!0}},function(t,n,r){var e=r(24),o=r(80),i=r(38),u=r(59),s=r(182);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(14),o=r(8),i=r(35),u=r(29),s=r(26),f=r(62),c=r(41),a=r(63),l=r(15),h=r(48),p=r(21).f,v=r(90)(0),d=r(20);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(8);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(8),o=r(45),i=r(24),u=r(41);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(198),__esModule:!0}},function(t,n,r){"use strict";var e=r(45);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,function(t,n,r){t.exports={default:r(149),__esModule:!0}},function(t,n,r){t.exports=!r(20)&&!r(29)((function(){return 7!=Object.defineProperty(r(74)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(25),o=r(30),i=r(152)(!1),u=r(83)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(82),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(49);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(21),o=r(22),i=r(36);t.exports=r(20)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(30),o=r(112).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(106),o=r(84).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){var e=r(50),o=r(46),i=r(30),u=r(75),s=r(25),f=r(105),c=Object.getOwnPropertyDescriptor;n.f=r(20)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){t.exports={default:r(157),__esModule:!0}},function(t,n,r){var e=r(25),o=r(38),i=r(83)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(22);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(52),o=r(17)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(17)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(36),o=r(85),i=r(50),u=r(38),s=r(80),f=Object.assign;t.exports=!f||r(29)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e}))?function(t,n){for(var r=u(t),f=arguments.length,c=1,a=o.f,l=i.f;f>c;)for(var h,p=s(arguments[c++]),v=a?e(p).concat(a(p)):e(p),d=v.length,y=0;d>y;)l.call(p,h=v[y++])&&(r[h]=p[h]);return r}:f},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(21).f,o=r(60),i=r(62),u=r(24),s=r(63),f=r(41),c=r(86),a=r(120),l=r(122),h=r(20),p=r(35).fastKey,v=r(42),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(14),o=r(3),i=r(21),u=r(20),s=r(17)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(88),o=r(208);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(22),o=r(45),i=r(17)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(24),s=r(217),f=r(110),c=r(74),a=r(14),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(49)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script")).onreadystatechange=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(22),o=r(15),i=r(95);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(33),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(33),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,,,,function(t,n,r){r(150),r(51),r(153),r(154),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(14),o=r(25),i=r(20),u=r(8),s=r(76),f=r(35).KEY,c=r(29),a=r(77),l=r(48),h=r(58),p=r(17),v=r(78),d=r(79),y=r(151),g=r(108),m=r(22),b=r(15),_=r(30),w=r(75),x=r(46),S=r(60),O=r(111),E=r(113),M=r(21),j=r(36),L=E.f,P=M.f,k=O.f,A=e.Symbol,N=e.JSON,B=N&&N.stringify,C=p("_hidden"),F=p("toPrimitive"),T={}.propertyIsEnumerable,D=a("symbol-registry"),G=a("symbols"),R=a("op-symbols"),I=Object.prototype,W="function"==typeof A,z=e.QObject,U=!z||!z.prototype||!z.prototype.findChild,J=i&&c((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=L(I,n);e&&delete I[n],P(t,n,r),e&&t!==I&&P(I,n,e)}:P,q=function(t){var n=G[t]=S(A.prototype);return n._k=t,n},H=W&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},V=function(t,n,r){return t===I&&V(R,n,r),m(t),n=w(n,!0),m(r),o(G,n)?(r.enumerable?(o(t,C)&&t[C][n]&&(t[C][n]=!1),r=S(r,{enumerable:x(0,!1)})):(o(t,C)||P(t,C,x(1,{})),t[C][n]=!0),J(t,n,r)):P(t,n,r)},Y=function(t,n){m(t);for(var r,e=y(n=_(n)),o=0,i=e.length;i>o;)V(t,r=e[o++],n[r]);return t},K=function(t){var n=T.call(this,t=w(t,!0));return!(this===I&&o(G,t)&&!o(R,t))&&(!(n||!o(this,t)||!o(G,t)||o(this,C)&&this[C][t])||n)},$=function(t,n){if(t=_(t),n=w(n,!0),t!==I||!o(G,n)||o(R,n)){var r=L(t,n);return!r||!o(G,n)||o(t,C)&&t[C][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=k(_(t)),e=[],i=0;r.length>i;)o(G,n=r[i++])||n==C||n==f||e.push(n);return e},X=function(t){for(var n,r=t===I,e=k(r?R:_(t)),i=[],u=0;e.length>u;)!o(G,n=e[u++])||r&&!o(I,n)||i.push(G[n]);return i};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===I&&n.call(R,r),o(this,C)&&o(this[C],t)&&(this[C][t]=!1),J(this,t,x(1,r))};return i&&U&&J(I,t,{configurable:!0,set:n}),q(t)},s(A.prototype,"toString",(function(){return this._k})),E.f=$,M.f=V,r(112).f=O.f=Z,r(50).f=K,r(85).f=X,i&&!r(47)&&s(I,"propertyIsEnumerable",K,!0),v.f=function(t){return q(p(t))}),u(u.G+u.W+u.F*!W,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var nt=j(p.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!W,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){U=!0},useSimple:function(){U=!1}}),u(u.S+u.F*!W,"Object",{create:function(t,n){return void 0===n?S(t):Y(S(t),n)},defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),N&&u(u.S+u.F*(!W||c((function(){var t=A();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!H(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!H(n))return n}),e[1]=n,B.apply(N,e)}}),A.prototype[F]||r(26)(A.prototype,F,A.prototype.valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(36),o=r(85),i=r(50);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(30),o=r(59),i=r(107);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){r(79)("asyncIterator")},function(t,n,r){r(79)("observable")},,,function(t,n,r){r(158);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(8);e(e.S+e.F*!r(20),"Object",{defineProperty:r(21).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(37),r(165),t.exports=r(3).Array.from},function(t,n,r){var e=r(82),o=r(81);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(60),o=r(46),i=r(48),u={};r(26)(u,r(17)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(24),o=r(8),i=r(38),u=r(116),s=r(117),f=r(59),c=r(166),a=r(87);o(o.S+o.F*!r(118)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(21),o=r(46);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(168),__esModule:!0}},function(t,n,r){r(169);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(61)("getOwnPropertyNames",(function(){return r(111).f}))},function(t,n,r){r(171),t.exports=r(3).Object.assign},function(t,n,r){var e=r(8);e(e.S+e.F,"Object",{assign:r(119)})},function(t,n,r){r(173),t.exports=r(3).Object.keys},function(t,n,r){var e=r(38),o=r(36);r(61)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(175),__esModule:!0}},function(t,n,r){r(176),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(15),o=r(35).onFreeze;r(61)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(51),r(40),r(181),r(185),r(186),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(180),o=r(120),i=r(52),u=r(30);t.exports=r(86)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(14),i=r(90)(0),u=r(76),s=r(35),f=r(119),c=r(184),a=r(15),l=r(42),h=r(42),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(91)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(183);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(15),o=r(108),i=r(17)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(62),o=r(35).getWeak,i=r(22),u=r(15),s=r(63),f=r(41),c=r(90),a=r(25),l=r(42),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(92)("WeakMap")},function(t,n,r){r(93)("WeakMap")},function(t,n,r){r(188);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(8);e(e.S,"Object",{create:r(60)})},function(t,n,r){r(190);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(8);e(e.S+e.F*!r(20),"Object",{defineProperties:r(109)})},function(t,n,r){r(192),t.exports=r(3).Math.sign},function(t,n,r){var e=r(8);e(e.S,"Math",{sign:r(193)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(195),__esModule:!0}},function(t,n,r){r(196),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(8);e(e.S,"Number",{isInteger:r(197)})},function(t,n,r){var e=r(15),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(199),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(8);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(201),__esModule:!0}},function(t,n,r){r(37),r(40),t.exports=r(78).f("iterator")},function(t,n,r){t.exports={default:r(203),__esModule:!0}},function(t,n,r){r(204),t.exports=r(3).Math.log10},function(t,n,r){var e=r(8);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(51),r(37),r(40),r(206),r(207),r(209),r(210),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(121),o=r(42);t.exports=r(91)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(8);e(e.P+e.R,"Set",{toJSON:r(123)("Set")})},function(t,n,r){var e=r(41);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(92)("Set")},function(t,n,r){r(93)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(214),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(51),r(37),r(40),r(216),r(220),r(221),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(47),f=r(14),c=r(24),a=r(88),l=r(8),h=r(15),p=r(45),v=r(63),d=r(41),y=r(124),g=r(125).set,m=r(218)(),b=r(95),_=r(126),w=r(219),x=r(127),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f.Promise,P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(17)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(62)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(48)(L,S),r(122)(S),u=r(3).Promise,l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(118)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(14),o=r(125).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(49)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(14).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(8),o=r(3),i=r(14),u=r(124),s=r(127);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(8),o=r(95),i=r(126);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(128),e.BufferWriter=r(233),e.Reader=r(129),e.BufferReader=r(234),e.util=r(33),e.rpc=r(235),e.roots=r(237),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(33);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(128);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(33),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(129);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(33);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(236)},function(t,n,r){"use strict";t.exports=o;var e=r(33);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}},,function(t,n,r){t.exports={default:r(240),__esModule:!0}},function(t,n,r){r(241),t.exports=r(3).String.fromCodePoint},function(t,n,r){var e=r(8),o=r(107),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{143:function(e,t,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=u,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(u>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,l):s._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=u,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)(n=r._soundById(t[c]))&&(n._volume=e,o[2]||r._stopFade(t[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var u=i.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=c*o,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=r._soundById(t[c])){r.playing(t[c])&&(n._rateSeek=r.seek(t[c]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=r.seek(t[c]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[c]]&&n._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?i.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function(){n._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},u=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var u=r._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(97))},247:function(e,t,n){n(40),n(37),e.exports=n(248)},248:function(e,t,n){var r=n(22),o=n(87);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},249:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===l(e)}n.r(t),n.d(t,"default",(function(){return q}));function o(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return s(e)&&null!==e}(e)&&"[object Boolean]"==l(e)}function s(e){return"object"==typeof e}function c(e){return null!=e}function u(e){return!e.trim().length}function l(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const d=Object.prototype.hasOwnProperty;class f{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=_(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _(e){let t=null,n=null,i=null,a=1,s=null;if(o(e)||r(e))i=e,t=h(e),n=p(e);else{if(!d.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const r=e.name;if(i=r,d.call(e,"weight")&&(a=e.weight,a<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(r));t=h(r),n=p(r),s=e.getFn}return{path:t,id:n,weight:a,src:i,getFn:s}}function h(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}var m={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],s=!1;const u=(e,t,l)=>{if(c(e))if(t[l]){const d=e[t[l]];if(!c(d))return;if(l===t.length-1&&(o(d)||i(d)||a(d)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(d));else if(r(d)){s=!0;for(let e=0,n=d.length;e<n;e+=1)u(d[e],t,l+1)}else t.length&&u(d,t,l+1)}else n.push(e)};return u(e,o(t)?t.split("."):t,0),s?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const g=/[^ ]+/g;class v{constructor({getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(g).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();o(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!c(e)||u(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(c(a))if(r(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(c(i))if(o(i)&&!u(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else r(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(o(a)&&!u(a)){let e={v:a,n:this.norm.get(a)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=m.getFn,fieldNormWeight:r=m.fieldNormWeight}={}){const o=new v({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(_)),o.setSources(t),o.create(),o}function b(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=m.distance,ignoreLocation:i=m.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const w=32;function A(e,t,n,{location:r=m.location,distance:o=m.distance,threshold:i=m.threshold,findAllMatches:a=m.findAllMatches,minMatchCharLength:s=m.minMatchCharLength,includeMatches:c=m.includeMatches,ignoreLocation:u=m.ignoreLocation}={}){if(t.length>w)throw new Error(`Pattern length exceeds max of ${w}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||c,g=p?Array(d):[];let v;for(;(v=e.indexOf(t,h))>-1;){let e=b(t,{currentLocation:v,expectedLocation:f,distance:o,ignoreLocation:u});if(_=Math.min(e,_),h=v+l,p){let e=0;for(;e<l;)g[v+e]=1,e+=1}}h=-1;let y=[],A=1,x=l+d;const T=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=x;for(;i<s;){b(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:u})<=_?i=s:x=s,s=Math.floor((x-i)/2+i)}x=s;let c=Math.max(1,f-s+1),m=a?d:Math.min(f+s,d)+l,v=Array(m+2);v[m+1]=(1<<r)-1;for(let i=m;i>=c;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(g[a]=+!!s),v[i]=(v[i+1]<<1|1)&s,r&&(v[i]|=(y[i+1]|y[i])<<1|1|y[i+1]),v[i]&T&&(A=b(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:u}),A<=_)){if(_=A,h=a,h<=f)break;c=Math.max(1,2*f-h)}}if(b(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:u})>_)break;y=v}const S={isMatch:h>=0,score:Math.max(.001,A)};if(p){const e=function(e=[],t=m.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function x(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class T{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:x(e),startIndex:t})},l=this.pattern.length;if(l>w){let e=0;const t=l%w,n=l-t;for(;e<n;)u(this.pattern.substr(e,w),e),e+=w;if(t){const e=l-w;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let u=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=A(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});h&&(d=!0),l+=p,h&&m&&(u=[...u,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=u),f}}class S{constructor(e){this.pattern=e}static isMultiMatch(e){return M(e,this.multiRegex)}static isSingleMatch(e){return M(e,this.singleRegex)}search(){}}function M(e,t){const n=e.match(t);return n?n[1]:null}class k extends S{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){super(e),this._bitapSearch=new T(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class C extends S{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const I=[class extends S{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},C,class extends S{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},k],E=I.length,L=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const O=new Set([k.type,C.type]);class P{constructor(e,{isCaseSensitive:t=m.isCaseSensitive,includeMatches:n=m.includeMatches,minMatchCharLength:r=m.minMatchCharLength,ignoreLocation:o=m.ignoreLocation,findAllMatches:i=m.findAllMatches,location:a=m.location,threshold:s=m.threshold,distance:c=m.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(L).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<E;){const e=I[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<E;){const e=I[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:c,indices:u,score:l}=r.search(e);if(!c){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;O.has(e)?i=[...i,...u]:i.push(u)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const F=[];function R(e,t){for(let n=0,r=F.length;n<r;n+=1){let r=F[n];if(r.condition(e,t))return new r(e,t)}return new T(e,t)}const $="$and",B="$or",D="$path",H="$val",j=e=>!(!e[$]&&!e[B]),N=e=>({[$]:Object.keys(e).map((t=>({[t]:e[t]})))});function V(e,t,{auto:n=!0}={}){const i=e=>{let a=Object.keys(e);const c=(e=>!!e[D])(e);if(!c&&a.length>1&&!j(e))return i(N(e));if((e=>!r(e)&&s(e)&&!j(e))(e)){const r=c?e[D]:a[0],i=c?e[H]:e[r];if(!o(i))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:p(r),pattern:i};return n&&(s.searcher=R(i,t)),s}let u={children:[],operator:a[0]};return a.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(i(e))}))})),u};return j(e)||(e=N(e)),i(e)}function G(e,t){const n=e.matches;t.matches=[],c(n)&&n.forEach((e=>{if(!c(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function W(e,t){t.score=e.score}class q{constructor(e,t={},n){this.options={...m,...t},this.options.useExtendedSearch,this._keyStore=new f(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){c(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let u=o(e)?o(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=m.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(u,{ignoreFieldNorm:c}),a&&u.sort(s),i(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=m.includeMatches,includeScore:r=m.includeScore}={}){const o=[];return n&&o.push(G),r&&o.push(W),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=R(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!c(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=V(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===$)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(c(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=R(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!c(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!c(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!c(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:c}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:c})}return o}}q.version="6.6.2",q.createIndex=y,q.parseIndex=function(e,{getFn:t=m.getFn,fieldNormWeight:n=m.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new v({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},q.config=m,q.parseQuery=V,function(...e){F.push(...e)}(P)},269:function(e,t,n){n(270),e.exports=n(3).Object.getPrototypeOf},270:function(e,t,n){var r=n(38),o=n(115);n(61)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},271:function(e,t,n){e.exports={default:n(272),__esModule:!0}},272:function(e,t,n){n(273),e.exports=n(3).Object.setPrototypeOf},273:function(e,t,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(274).set})},274:function(e,t,n){var r=n(15),o=n(22),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(24)(Function.call,n(113).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},289:function(e,t,n){n(290),e.exports=n(3).Object.values},290:function(e,t,n){var r=n(8),o=n(291)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},291:function(e,t,n){var r=n(36),o=n(30),i=n(50).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),c=s.length,u=0,l=[];c>u;)i.call(a,n=s[u++])&&l.push(e?[n,a[n]]:a[n]);return l}}},294:function(e,t,n){e.exports={default:n(295),__esModule:!0}},295:function(e,t,n){n(296),e.exports=n(3).Math.hypot},296:function(e,t,n){var r=n(8),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},299:function(e,t,n){n(51),n(37),n(40),n(300),n(301),n(302),n(303),e.exports=n(3).Map},300:function(e,t,n){"use strict";var r=n(121),o=n(42),i="Map";e.exports=n(91)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},301:function(e,t,n){var r=n(8);r(r.P+r.R,"Map",{toJSON:n(123)("Map")})},302:function(e,t,n){n(92)("Map")},303:function(e,t,n){n(93)("Map")},356:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},376:function(e,t,n){"use strict";n.r(t);var r=n(7);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const c=document.createElement("style");c.appendChild(o(s,n,i)),t.appendChild(c)}const a="application/font-woff",s="image/jpeg",c={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function u(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return c[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=u(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await g(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}function m(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function g(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=null!=(a=e).tagName&&"SLOT"===a.tagName.toUpperCase()&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);var a;return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>g(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>m(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await g(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const v=/url\((['"]?)([^'"]+?)\1\)/g,y=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,b=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function w(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=u(t);let c;if(i){c=d(await i(a),s)}else c=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${c}$3`)}catch(e){}return e}function A(e){return-1!==e.search(v)}async function x(e,t,n){if(!A(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(b,(e=>{for(;;){const[n,,r]=y.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(v,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>w(e,r,t,n)))),Promise.resolve(r))}async function T(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await x(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,u(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>T(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const S={};async function M(e){let t=S[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},S[e]=t,t}async function k(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function C(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function I(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=M(e.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(M(n.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>A(e.style.getPropertyValue("src"))))}(o)}async function E(e,t){const n=await I(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return x(e.cssText,n,t)})))).join("\n")}async function L(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await g(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await E(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await T(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await L(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),c=s.getContext("2d"),u=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*u,s.height=d*u,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(a,0,0,s.width,s.height),s}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await O(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function F(e,t={}){return(await O(e,t)).toDataURL()}async function R(e,t={}){return(await O(e,t)).toDataURL("image/jpeg",t.quality||1)}async function $(e,t={}){const n=await O(e,t);return await Object(r.a)(n)}async function B(e,t={}){return E(e,t)}n.d(t,"toSvg",(function(){return L})),n.d(t,"toCanvas",(function(){return O})),n.d(t,"toPixelData",(function(){return P})),n.d(t,"toPng",(function(){return F})),n.d(t,"toJpeg",(function(){return R})),n.d(t,"toBlob",(function(){return $})),n.d(t,"getFontEmbedCSS",(function(){return B}))},4:function(e,t,n){e.exports={default:n(269),__esModule:!0}},43:function(e,t,n){e.exports={default:n(247),__esModule:!0}},5:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},57:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[Ã-Ã][Â-Â¿]","[Ã -Ã¯][Â-Â¿]{2}","[Ã°-Ã·][Â-Â¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(97))},6:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(271)),o=a(n(18)),i=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},66:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},69:function(e,t,n){e.exports={default:n(289),__esModule:!0}},7:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function c(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const u=16384;function l(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(66))},71:function(e,t,n){e.exports={default:n(299),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=h(i(16)),n=h(i(32)),a=h(i(27)),o=h(i(0)),s=h(i(1)),u=h(i(10));e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=c,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=function(t){return"object"===(void 0===t?"undefined":(0,u.default)(t))&&!!t},e.isString=function(t){if(c(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(c(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return p.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,a.default)(new n.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),m=u-n,v=l-a,g=Math.sqrt(m*m+v*v);if(d(p))return d(g)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,g);var y=h/p,x=c/p,b=y*m+x*v;if(!function(t){return t>f}(b))return r.x=e.x,r.y=e.y,g;if(!function(t){return t<-f}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,r.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return l.default.transform([t[0],t[1]],l.default.WGS84,l.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}};var l=h(i(96));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return null==t}var p=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,o.default)(this,t),this.fns=[]}return(0,s.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function d(t){return t<f&&t>-f}var f=1e-5},130:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},155:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(156),a=(r=n)&&r.__esModule?r:{default:r};var o=i(242);e.THREE_=o,e.esWorker=a.default},156:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(159));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(160))}}]),t}();e.default=s},160:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(161)),n=o(i(212)),a=o(i(238));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}else if(3==i.data.messageType)switch(i.data.level){case"error":default:a.default.error(i.data.msg);break;case"log":a.default.log(i.data.msg);break;case"warning":a.default.warning(i.data.msg);break;case"custom":a.default.logCustom(i.data.msg)}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},161:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(27)),n=d(i(53)),a=d(i(167)),o=d(i(2)),s=d(i(16)),u=d(i(0)),l=d(i(1)),h=i(39),c=i(31),p=i(211);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"createRooms",value:function(t){var e={},i={},r={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var s=t.lod,u={},l=t.id,p={},d={},f=t.fnum,v={},g=[],y=[],x=[],b=[],w=[],_={},M=t.layers,S=t.layerType,A=t.bid,T=t.isTile,L=5,P=t.isMerge,C=t.showBase,E=t.editMode,I={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},D=0,B=this;if(!m){var O=t.maxX-t.minX;m=B.getRandomHeight(O)}for(var z=0;z<M.length;z++){var N,R=M[z];switch(S){case 0:N=R.modelbases;break;case 1:N=R.models}for(var F=N.length,U=0;U<F;U++){var k=N[U];if(k.hasOwnProperty("RoomHigh")&&null!=k.RoomHigh&&k.RoomHigh>0&&(L=k.RoomHigh),k.hasOwnProperty("RoomLogo")&&null!=k.RoomLogo&&k.RoomLogo.length>1&&0==k.FsId&&""!=k.RoomLogoSize){for(var G=k.RoomLogoSize.split(";"),V=k.RoomLogo.split(";"),W=[],H=0;H<G.length;H++){var j={};j.layerType=S,j.RoomStyle=k.RoomStyle,j.fnum=f,j.dataID=k.FC;var X=G[H].split(",");if(j.coord={x:k.CenX,y:k.CenY},j.size=[parseFloat(X[0]),parseFloat(X[1])],j.RoomLogo=V[H],j.id=k.oid,j.height=k.RoomHigh+.05,j.rotate=X.length>2?parseFloat(X[2]):0,j.angle=X.length>3?parseFloat(X[3]):0,j.offset=X.length>5?{x:parseFloat(X[4]),y:parseFloat(X[5]),z:parseFloat(X[6])||0}:{x:0,y:0,z:0},k.hasOwnProperty("offset")&&k.offset.length>0&&!(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel)){var q=k.offset.split(",");j.offset.x+=parseFloat(q[0]),j.offset.z+=parseFloat(q[1]),j.offset.y+=parseFloat(q[2])}var Y=void 0;j.repeatType=1*X[7];var J=1*X[3];if(1*J<3){j.TextureType=J,(Y=new h.PlaneBufferGeometry(1,1,1,1)).scale(j.size[0],j.size[1],1),j.angle?(Y.rotateZ((180-j.rotate)*(Math.PI/180)),Y.rotateX(Math.PI)):(Y.rotateX(-Math.PI/2),Y.rotateZ((j.rotate-180)*(Math.PI/180))),Y.translate(-I.sceneX-j.coord.x+j.offset.x,j.coord.y-I.sceneZ+j.offset.y,-(j.offset.z+j.height));var Z=new Array(Y.attributes.position.count);Z.fill(0,0,Y.attributes.position.count),Y.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Z),1)),P?(g.push(j),y.push(Y)):(p[k.oid]||(p[k.oid]=[]),v[k.oid]||(v[k.oid]=[]),p[k.oid].push(j),v[k.oid]=Y)}else j.TextureType=J,j.RS=k.RS,W.push(j)}if(W.length>0)if(P){var Q=f+"_"+S+"_"+k.RoomStyle+"_"+k.RoomLogo+"_"+k.RoomLogoSize;i[Q]||(i[Q]=!0,x.push(W))}else d[k.oid]=W}if(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel){var K={brief:k.Brief,model:k.RModel,name:k.name,scale:k.scale,dataID:k.FC,mapId:k.bids,rotate:k.rotate,x:k.CenX,y:k.CenY,gid:k.gid,offset:k.offset,id:k.oid,bclick:k.bclick,rank:k.ShowLevel,top:k.top};if(K.roomdata=k,k.RModel.indexOf("BIM-")>-1?(K.fnum=f,w.push(K)):b.push(K),!E)continue}var $=0;void 0===($=T?E?k.RoomStyle:this.tileStylesMap[k.RoomStyle]:P?k.texturekey?k.texturekey:k.RoomStyle:k.oid||0)&&($=0),e[$]||(e[$]={},r.extrudes[$]=[],r.planes[$]=[],r.tubes[$]=[],u[$]=[],e[$].brothers=[],e[$].groupIndex=0,e[$].lineIndex=0,e[$].planes=null,P&&(_[$]={}));var tt,et=!1,it=!1;if(L<=.3&&[120005,40003,40004].indexOf(k.Typeid),!k.RModel||2!=k.top&&3!=k.top)if(k.isTube?(it=!0,tt=B.createTubeGeo(k,I,L,1,et)):tt=B.createGeometry_(k,I,L,1,et,E,T),tt){var rt=tt.geometry,nt=tt.pointsGeometry,at=tt.geometry.userData.groupInfo,ot=e[$],st=r.extrudes[$];it&&(e[$].tubes||(e[$].tubes={brothers:[],groupIndex:0,geos:[]}),ot=e[$].tubes,st=r.tubes[$],e[$].tubes.geos.push(tt));var ut=P?ot.groupIndex:0,lt={},ht=(0,o.default)({},k);if(E&&C&&(lt.data_=ht),lt.FloorNum=ht.floornum,lt.ID=ht.oid,lt.bid=A,lt.name=ht.name,lt.top=ht.top,lt.typeID=ht.Typeid,lt.nodeType=5,lt.isTube=ht.isTube,lt.RoomHigh=ht.RoomHigh,lt.dataID=ht.FC,lt.gid=ht.gid,lt.RoomLogo=ht.RoomLogo,lt.RoomStyle=ht.RoomStyle,lt.classID=ht.classID,lt.points=ht.originalPoints,ht.bids&&(lt.mapId=ht.bids),lt.ShowLevel=ht.ShowLevel||24,lt.TextureType=k.TextureType,lt.mapCoord={x:ht.CenX,y:ht.CenY},T&&(lt.Fnums=ht.fnums,lt.x=ht.x,lt.y=ht.y,lt.size=ht.AS),ot.brothers.push(lt),st.push(rt),D++,it)ot.groupIndex+=rt.index.count,lt.faceRange=[ut,ot.groupIndex];else{if(u[$].push(nt),ot.groupIndex+=rt.attributes.position.count,P){for(var ct=0;ct<at.length;ct++)at[ct].start+=ut;_[$][lt.ID]=at}e[$].lineIndex+=nt.attributes.position.count,lt.faceRange=[ut,ot.groupIndex]}}else r.extrudes[$].push(null),D++,console.info("outline error id: ",k.oid);else r.extrudes[$].push(null),D++}}var pt=[],dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=[],Lt=new Float32Array,Pt=new Float32Array,Ct=new Float32Array,Et=new Uint16Array,It=[],Dt=[],Bt=new Float32Array,Ot=[];if(P&&y.length>0){var zt=c.BufferGeometryUtils.mergeBufferGeometries(y,!0);if(zt){Lt=zt.getAttribute("position").array,Pt=zt.getAttribute("normal").array,Ct=zt.getAttribute("uv").array,Bt=zt.getAttribute("isHideFlags").array,Et=zt.index.array;var Nt=zt.groups;Dt=Nt.map((function(t){return(0,o.default)({},t)}));for(var Rt=[],Ft=0;Ft<g.length;Ft++)Dt[Ft].id=g[Ft].id,0!=Rt.length&&Rt[Rt.length-1]==g[Ft].RoomLogo||Rt.push(g[Ft].RoomLogo),g[Ft].hasOwnProperty("matindex")||(g[Ft].matindex=Nt[Ft].materialIndex),g[Ft+1]&&g[Ft].RoomLogo==g[Ft+1].RoomLogo&&(g[Ft+1].matindex=Nt[Ft].materialIndex,Nt[Ft+1].materialIndex=Nt[Ft].materialIndex);for(var Ut=0;Ut<Nt.length;Ut++)Nt[Ut+1]&&Nt[Ut].materialIndex==Nt[Ut+1].materialIndex&&(Nt[Ut].count=Nt[Ut].count+Nt[Ut+1].count,Nt.splice(Ut+1,1),Ut--);It=Nt}}if(P){for(var kt in r.extrudes)r.extrudes[kt].forEach((function(t){if(t){pt.push(t.getAttribute("uv")),dt.push(t.getAttribute("position")),ft.push(t.getAttribute("normal")),At.push(t.getAttribute("normalizeUv")),mt.push(t.getAttribute("topFaceFlags")),Mt.push(t.getAttribute("isHideFlags")),vt.push(t.getAttribute("highLightFlags")),gt.push(t.getAttribute("buildingsHeight")),yt.push(t.getAttribute("randomFactor")),bt.push(t.getAttribute("highLightColor")),xt.push(t.getAttribute("buildingsColor")),St.push(t.getAttribute("isSelectFlags")),Ot.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&wt.push(e),i&&_t.push(i)}})),u[kt].forEach((function(t){Tt.push(t.getAttribute("position"))}));for(var Gt in r.tubes)if(r.tubes[Gt].length>0){var Vt;Vt=c.BufferGeometryUtils.mergeBufferGeometries(r.tubes[Gt]),e[Gt].tubeData=Vt}var Wt=new Float32Array,Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array,ie=new Float32Array,re=new Float32Array,ne=new Float32Array;return 0!=(0,a.default)(r).length&&0!=pt.length&&(Wt=c.BufferGeometryUtils.mergeBufferAttributes(pt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(At).array,Ht=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(Tt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(Ot).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,re=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array,ne=c.BufferGeometryUtils.mergeBufferAttributes(St).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Kt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,$t=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,te=c.BufferGeometryUtils.mergeBufferAttributes(bt).array,wt.length>0&&(ee=c.BufferGeometryUtils.mergeBufferAttributes(wt).array),_t.length>0&&(ie=c.BufferGeometryUtils.mergeBufferAttributes(_t).array)),void B.worker.postMessage({lod:s,bid:A,isTile:T,id:l,types:e,fnum:t.fnum,pointGeometrys:Xt,layerType:t.layerType,uvs:Wt,rUvs:Yt,normalizeUvs:qt,isMerge:P,vertices:Ht,highLightColorAttr:te,buildingsColorAttr:$t,topFaceFlags:Jt,isHideFlags:re,isSelectFlags:ne,highLightFlags:Zt,buildingsHeight:Qt,buildingsRandomFactor:Kt,topTexIndex:ee,sideTexIndex:ie,bimModelData:w,showBase:C,normals:jt,groups:_,modelTexturesData:x,modelImagesData:g,model3DData:b,modelImagePos:Lt,modelImageNor:Pt,modelImageUv:Ct,modelImageGroups:It,modelImageIndex:Et,modelImageHideFlags:Bt,modelImageGroupsCopy:Dt},[Wt.buffer,qt.buffer,Ht.buffer,jt.buffer,Xt.buffer,Lt.buffer,Pt.buffer,Ct.buffer,Et.buffer,Jt.buffer,re.buffer,Zt.buffer,Qt.buffer,Kt.buffer,te.buffer,$t.buffer,ee.buffer,ie.buffer,ne.buffer,Yt.buffer,Bt.buffer])}var ae=!1,oe=!1,se=function(i){oe=!0,r.planes[i].forEach((function(r,n){var a=new Float32Array,o=new Float32Array,h=new Float32Array,c={},f=[],m=new Float32Array;r?(c[i]={brothers:[],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex,planes:e[i].planes},a=r.getAttribute("uv").array,o=r.getAttribute("normal").array,h=r.getAttribute("position").array,m=u[i][0].getAttribute("position").array):c[i]=null;var g=p[i]||null;ae||(ae=!0,f=b);var y=new Float32Array,x=new Float32Array,M=new Float32Array,S=new Uint16Array,T=[];v[i]&&(y=v[i].getAttribute("position").array,x=v[i].getAttribute("normal").array,M=v[i].getAttribute("uv").array,S=v[i].index.array,T=v[i].groups),B.worker.postMessage({lod:s,bid:A,id:l,types:c,fnum:t.fnum,roomid:i,layerType:t.layerType,pointGeometrys:m,uvs:a,normals:o,isMerge:P,vertices:h,modelImagesData:g,modelTexturesData:d,groups:_,postcount:D,showBase:C,model3DData:f,bimModelData:w,modelImagePos:y,modelImageNor:x,modelImageUv:M,modelImageGroups:T,modelImageIndex:S},[a.buffer,h.buffer,o.buffer,y.buffer,m.buffer,x.buffer,M.buffer,S.buffer]),D--}))};for(var ue in r.planes)se(ue);for(var le in r.tubes)if(r.tubes[le].length>0){var he=(0,n.default)({},le,e[le]);he[le].tubeData=r.tubes[le][0],B.worker.postMessage({id:l,types:he,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:le,model3DData:[],isMerge:P,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:D,showBase:C}),D--}var ce=function(i){oe=!0,r.extrudes[i].forEach((function(r,a){var o=new Float32Array,h=new Float32Array,c=new Float32Array,f=new Float32Array,m={},g=[],y=[],x=new Float32Array,_=(0,n.default)({},i,r?(0,n.default)({},i,r.userData.groupInfo):[]);r?(m[i]={brothers:[e[i].brothers[a]],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex},o=r.getAttribute("uv").array,h=r.getAttribute("normal").array,c=r.getAttribute("normalizeUv").array,f=r.getAttribute("position").array,x=u[i][0].getAttribute("position").array):m[i]=null;var M=p[i]||null,S=d[i]||null;ae||(ae=!0,g=b,y=w);var T=new Float32Array,L=new Float32Array,E=new Float32Array,I=new Uint16Array,O=[];if(v[i]){var z=v[i];T=z.getAttribute("position").array,L=z.getAttribute("normal").array,E=z.getAttribute("uv").array,I=z.index.array,O=z.groups}B.worker.postMessage({bid:A,lod:s,id:l,types:m,fnum:t.fnum,layerType:t.layerType,pointGeometrys:x,uvs:o,normals:h,roomid:i,isMerge:P,vertices:f,modelImagesData:M,modelTexturesData:S,groups:_,postcount:D,normalizeUvs:c,showBase:C,model3DData:g,bimModelData:y,modelImagePos:T,modelImageNor:L,modelImageUv:E,modelImageGroups:O,modelImageIndex:I},[o.buffer,f.buffer,h.buffer,T.buffer,c.buffer,x.buffer,L.buffer,E.buffer,I.buffer]),D--}))};for(var pe in r.extrudes)ce(pe);oe||B.worker.postMessage({id:l,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.styleIndexMap;g=y[t.RoomStyle]?y[t.RoomStyle][1]:0}var x=o;a&&(i=0),t.normalizeTop&&x&&(f=!0),t.normalizeSide&&x&&(v=!0);var b=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var w,_=new h.Shape,M=0;M<u.length;M++){var S=u[M];0==M?_.moveTo(S.x-c,S.y-d):_.lineTo(S.x-c,S.y-d),b.push(new h.Vector3(S.x-c,S.y-d,0),new h.Vector3(S.x-c,S.y-d,0))}if(t.holes&&t.holes.length>0)for(var A in t.holes){var T=t.holes[A],L=new h.Path;for(var M in T){S=T[M];0==M?L.moveTo(S.x-c,S.y-d):L.lineTo(S.x-c,S.y-d)}_.holes.push(L)}w=a?new h.ShapeBufferGeometry(_):new h.ExtrudeBufferGeometry(_,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var P=e.minX,C=e.minY,E=e.maxX-P,I=e.maxY-C,D=w.getAttribute("uv"),B=w.getAttribute("normal").array,O=w.getAttribute("position").array,z=(0,p.getRUv)(_,{height:i,gridSize:{x:i,y:i}}),N=[];A=0;var R=D.array,F=(0,r.default)(R),U=(Math.max(E,I),D.count/3),k=e.floorCenX,G=e.floorCenZ,V=Math.abs(k)-Math.abs(e.sceneX),W=Math.abs(G)-Math.abs(e.sceneZ);if(n){if(!a){var H=function(t){var e={x:O[9*t],y:O[9*t+1]},i={x:O[9*t+3],y:O[9*t+4]},r={x:O[9*t+6],y:O[9*t+7]};return B[9*t+2]==B[9*t+5]?l.getDis(e,i):B[9*t+2]==B[9*t+8]?l.getDis(e,r):B[9*t+5]==B[9*t+8]?l.getDis(i,r):void 0};w.computeBoundingBox();var j=w.boundingBox.max,X=w.boundingBox.min,q=new h.Vector2(0-X.x,0-X.y),Y=new h.Vector2(j.x-X.x,j.y-X.y),J=Y.x/1,Z=Y.y/1,Q=1,K=1;for(f&&(Q=J,K=Z),U=w.groups[0].count/3;A<U;A++)R[6*A]=(O[9*A]+q.x)/Q,R[6*A+1]=(O[9*A+1]+q.y)/K,R[6*A+2]=(O[9*A+3]+q.x)/Q,R[6*A+3]=(O[9*A+4]+q.y)/K,R[6*A+4]=(O[9*A+6]+q.x)/Q,R[6*A+5]=(O[9*A+7]+q.y)/K,F[6*A]=(O[9*A]+q.x)/J,F[6*A+1]=(O[9*A+1]+q.y)/Z,F[6*A+2]=(O[9*A+3]+q.x)/J,F[6*A+3]=(O[9*A+4]+q.y)/Z,F[6*A+4]=(O[9*A+6]+q.x)/J,F[6*A+5]=(O[9*A+7]+q.y)/Z;for(var $=w.groups[1].count/6,tt=U/2,et=0;et<$;et++,tt++){var it=H(2*tt);it<1&&(it=1),v?(R[12*tt]=1,R[12*tt+1]=1,R[12*tt+2]=0,R[12*tt+3]=1,R[12*tt+4]=1,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=1,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=1,R[12*tt+11]=0):(R[12*tt]=it,R[12*tt+1]=i,R[12*tt+2]=0,R[12*tt+3]=i,R[12*tt+4]=it,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=i,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=it,R[12*tt+11]=0),F[12*tt]=1,F[12*tt+1]=1,F[12*tt+2]=0,F[12*tt+3]=1,F[12*tt+4]=1,F[12*tt+5]=0,F[12*tt+6]=0,F[12*tt+7]=1,F[12*tt+8]=0,F[12*tt+9]=0,F[12*tt+10]=1,F[12*tt+11]=0}}}else for(;A<U;A++)N[6*A]=(O[9*A]-P-k+V)/E,N[6*A+1]=(O[9*A+1]-C+G-W)/I,N[6*A+2]=(O[9*A+3]-P-k+V)/E,N[6*A+3]=(O[9*A+4]-C+G-W)/I,N[6*A+4]=(O[9*A+6]-P-k+V)/E,N[6*A+5]=(O[9*A+7]-C+G-W)/I;var rt=(new h.BufferGeometry).setFromPoints(b),nt=[],at=rt.getAttribute("position").array,ot=null;if(s&&this.styleIndexMap&&(ot=this.getStyleFromRoomStyle(t.RoomStyle)),n){var st={x:0,y:0,z:0};if(t.offset&&!t.RModel){var ut=t.offset.split(",");ut.length>=2&&(st.x+=parseFloat(ut[0]),st.y+=parseFloat(ut[2]),st.z+=parseFloat(ut[1]))}st.z+=i;var lt=w.getAttribute("position").count,ht=w.getAttribute("position").array,ct=st.z;if(a)for(var pt,dt=3*lt;pt<dt;pt+=3)ht[pt]-=ct;else{var ft=[],mt=[],vt=[],gt=[],yt=w.getAttribute("normal").array,xt=w.getAttribute("uv").array,bt=[];n&&(bt=F);for(var wt=[],_t=ht[2],Mt=ot?1*ot.height:0,St=0,At=0;At<lt;At++)ht[3*At+2]==_t||0!=St&&At>St?(mt.push(ht[3*At],ht[3*At+1],ht[3*At+2]-ct-Mt),ft.push(yt[3*At],yt[3*At+1],yt[3*At+2]),vt.push(xt[2*At],xt[2*At+1]),wt.push(z[2*At],z[2*At+1]),n&&gt.push(bt[2*At],bt[2*At+1])):0==St&&(St=2*At);w.addAttribute("position",new h.BufferAttribute(new Float32Array(mt),3)),w.addAttribute("normal",new h.BufferAttribute(new Float32Array(ft),3)),w.addAttribute("uv",new h.BufferAttribute(new Float32Array(vt),2)),w.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(gt),2)),w.addAttribute("rUv",new h.BufferAttribute(new Float32Array(wt),2)),w.groups[0].count-=St/2,w.groups[1].start-=St/2}st.z-=.002;for(var Tt=m,Lt=at.length,Pt=0;Pt<=Lt-3;Pt+=3){at[Pt];at[Pt]+=parseFloat(st.x),at[Pt+1]+=parseFloat(st.y),at[Pt+2]-=parseFloat(st.z),0==Pt||Pt==Lt-3?nt.push(at[Pt],at[Pt+1],at[Pt+2]):nt.push(at[Pt],at[Pt+1],at[Pt+2]-Tt,at[Pt],at[Pt+1],at[Pt+2]-Tt)}}else w.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(N),2));nt=new Float32Array(nt);var Ct=rt.getAttribute("position");if(Ct.setArray(nt),Ct.needsUpdate=!0,!a){var Et=w.groups;w.userData.groupInfo=Et,w.clearGroups(),w.addGroup(Et[0].start,Et[1].start+Et[1].count,0);var It=w.attributes.position.count,Dt=new Array(It);Dt.fill(1,Et[0].start,Et[1].start),Dt.fill(0,Et[1].start,Et[1].start+Et[1].count),w.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Dt),1));var Bt=new Array(It);Bt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(It);Ot.fill(i,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(It);zt.fill(h.Math.randFloat(0,1),Et[0].start,Et[1].start+Et[1].count),w.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(It);Nt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(It);Rt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=[],Ut=[],kt=void 0,Gt=void 0;if(kt=new Array(It),Gt=new Array(It),ot&&ot.filltype&&1*ot.filltype==1&&ot.color)for(var Vt=ot.color.split(","),Wt=0;Wt<It;Wt++)Ft.push(1*Vt[0]/255,1*Vt[1]/255,1*Vt[2]/255,1*ot.opacity),Ut.push(1,1,1,1);else if(ot&&ot.filltype&&1*ot.filltype==2&&(ot.topimage||ot.sideimage)){for(var Ht=0;Ht<It;Ht++)Ft.push(1,1,1,1*ot.opacity),Ut.push(1,1,1,1);ot.topimage&&kt.fill(g,0,Et[1].start+Et[1].count),ot.sideimage&&Gt.fill(g,0,Et[1].start+Et[1].count)}w.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ft),4)),w.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(Ut),4)),w.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(kt),1)),w.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Gt),1))}return{geometry:w,pointsGeometry:rt,model:t}}return null}}]),t}();e.default=v},211:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(39);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},212:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(16)),n=d(i(12)),a=d(i(13)),o=d(i(9)),s=d(i(0)),u=d(i(1)),l=d(i(222)),h=d(i(223)),c=i(39),p=i(31);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(e=this).useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},222:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(11);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},223:function(t,e,i){"use strict";var r=a(i(10)),n=a(i(16));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(65),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},238:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(28)),n=s(i(239)),a=s(i(0)),o=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,a.default)(this,t)}return(0,o.default)(t,[{key:"error",value:function(t){console.info("%cESMapError"+(0,n.default)(9940)+": "+t+";","color: #FF0000;font-weight: bolder;font-size: 14px;")}},{key:"warning",value:function(t){console.info("%cESMapWarning"+(0,n.default)(9888)+": "+t+";","color: #FFA500;font-weight: bolder;font-size: 14px;")}},{key:"log",value:function(t){console.info("%cESMapLog"+(0,n.default)(128640)+": "+t+";","color: #555555;font-weight: bolder;font-size: 14px;")}},{key:"logCustom",value:function(t){var e;Array.isArray(t)?(e=console).info.apply(e,(0,r.default)(t)):console.info(t)}}]),t}();e.default=new u},242:function(t,e,i){"use strict";var r=i(243),n=i(244),a=i(245),o=i(39);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},243:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(12)),n=s(i(13)),a=s(i(2)),o=i(130);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(39),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a,s){var u,l,c,p,d,f,m,v,g,y,x,b,w,_,M,S;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&!THREE.ESCache.enabled&&(s=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),!s&&THREE.ESCache.enabled&&THREE.ESCache.timeMap.has(e)&&(s={updatetime:THREE.ESCache.timeMap.get(e)}),u=this,void 0===(l=o.Cache.get(e))){t.next=11;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 11:if(!s){t.next=23;break}return c=s.updatetime,t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:c});case 15:if(!t.sent){t.next=23;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(p=t.sent)){t.next=23;break}return i&&i(p.data),t.abrupt("return");case 23:if(void 0===h[e]){t.next=26;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 26:if(d=/^data:(.*?)(;base64)?,(.*)$/,!(f=e.match(d))){t.next=58;break}m=f[1],v=!!f[2],g=f[3],g=decodeURIComponent(g),v&&(g=atob(g)),t.prev=34,x=(this.responseType||"").toLowerCase(),t.t0=x,t.next="arraybuffer"===t.t0||"blob"===t.t0?39:"document"===t.t0?43:"json"===t.t0?46:48;break;case 39:for(b=new Uint8Array(g.length),w=0;w<g.length;w++)b[w]=g.charCodeAt(w);return y="blob"===x?new Blob([b.buffer],{type:m}):b.buffer,t.abrupt("break",50);case 43:return _=new DOMParser,y=_.parseFromString(g,m),t.abrupt("break",50);case 46:return y=JSON.parse(g),t.abrupt("break",50);case 48:return y=g,t.abrupt("break",50);case 50:setTimeout((function(){i&&i(y),u.manager.itemEnd(e)}),0),t.next=56;break;case 53:t.prev=53,t.t1=t.catch(34),setTimeout((function(){a&&a(t.t1),u.manager.itemError(e),u.manager.itemEnd(e)}),0);case 56:t.next=71;break;case 58:for(S in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(M=new XMLHttpRequest).open("GET",e,!0),M.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){s&&THREE.ESCache.upsert({id:e,data:i,updatetime:s.updatetime}),this.status;for(var n=0,a=r.length;n<a;n++)(l=r[n]).onLoad&&l.onLoad(i);u.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var l;(l=r[n]).onError&&l.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}}),!1),M.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),M.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),M.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(M.responseType=this.responseType),void 0!==this.withCredentials&&(M.withCredentials=this.withCredentials),M.overrideMimeType&&M.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)M.setRequestHeader(S,this.requestHeader[S]);M.send(null);case 71:return u.manager.itemStart(e),t.abrupt("return",M);case 73:case"end":return t.stop()}}),t,this,[[34,53]])}))),function(t,e,i,r,n){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},244:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(12)),a=u(i(13)),o=u(i(2)),s=i(130);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a,o){var u,l,h,c,p,d,f,m,v,g,y,x;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o&&!THREE.ESCache.enabled&&(o=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),!o&&THREE.ESCache.enabled&&THREE.ESCache.timeMap.has(e)&&(o={updatetime:THREE.ESCache.timeMap.get(e)}),u=this,void 0===(l=s.Cache.get(e))){t.next=11;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 11:if(!o){t.next=30;break}return h=o.updatetime,t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=30;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=30;break}return p=c.data,d=document.createElementNS("http://www.w3.org/1999/xhtml","img"),f=window.URL||window.webkitURL,m=f.createObjectURL(p),d.src=m,d.setAttribute("originalSrc",e),d.onload=function(){i&&i(this)},d.onerror=function(){a&&a("å¾çèµæºè¯·æ±éè¯¯:  "+e)},t.abrupt("return");case 30:return v=document.createElementNS("http://www.w3.org/1999/xhtml","img"),o?((g=new XMLHttpRequest).open("GET",e,!0),g.responseType="blob",g.onload=function(){if(200==this.status){var t=g.response;if(!t)return;THREE.ESCache.upsert({id:e,data:t,updatetime:o.updatetime});var r=(window.URL||window.webkitURL).createObjectURL(t);v.src=r,v.setAttribute("originalSrc",e),v.addEventListener("load",(function(){i&&i(this)}),!1),v.addEventListener("error",(function(t){a&&a("å¾çèµæºè¯·æ±éè¯¯: "+e)}),!1)}},g.send()):(y=function t(){v.removeEventListener("load",t,!1),v.removeEventListener("error",x,!1),s.Cache.add(e,this),i&&i(this),u.manager.itemEnd(e)},x=function t(i){v.removeEventListener("load",y,!1),v.removeEventListener("error",t,!1),a&&a(i),u.manager.itemError(e),u.manager.itemEnd(e)},v.addEventListener("load",y,!1),v.addEventListener("error",x,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(v.crossOrigin=this.crossOrigin),u.manager.itemStart(e),v.src=e),t.abrupt("return",v);case 33:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n,a){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},245:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r,n){var a=new THREE.Texture,o=new THREE.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(i){a.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);a.format=r?THREE.RGBFormat:THREE.RGBAFormat,a.needsUpdate=!0,void 0!==e&&e(a)}),i,r,n),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},31:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(202)),n=u(i(94)),a=u(i(16)),o=u(i(32)),s=i(39);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},39:function(t,e,i){"use strict";var r,n,a,o,s=x(i(27)),u=x(i(174)),l=x(i(16)),h=x(i(89)),c=x(i(54)),p=x(i(18)),d=x(i(55)),f=x(i(2)),m=x(i(64)),v=x(i(194)),g=x(i(94)),y=x(i(10));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=100,o=103,x=104,b=300,w=301,_=302,M=304,S=306,A=307,T=1e3,L=1001,P=1002,C=1003,E=1004,I=1005,D=1006,B=1007,O=1008,z=1009,N=1012,R=1014,F=1015,U=1016,k=1020,G=1022,V=1023,W=1026,H=1027,j=33776,X=33777,q=33778,Y=33779,J=35840,Z=35841,Q=35842,K=35843,$=2300,tt=2301,et=2302,it=2400,rt=2401,nt=2402,at=3e3,ot=3007,st={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*st.DEG2RAD},radToDeg:function(t){return t*st.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function ut(t,e){this.x=t||0,this.y=e||0}function lt(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ht(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function ct(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(ut.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(ut.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(lt,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(lt.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(lt.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(st.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ht.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new lt,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new lt;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ht,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ht;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(st.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(ct.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var pt,dt,ft,mt,vt,gt,yt,xt,bt,wt,_t,Mt,St,At,Tt={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Lt=0;function Pt(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:Lt++}),this.uuid=st.generateUUID(),this.name="",this.image=void 0!==t?t:Pt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Pt.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:L,this.wrapT=void 0!==r?r:L,this.magFilter=void 0!==n?n:D,this.minFilter=void 0!==a?a:O,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:V,this.type=void 0!==s?s:z,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:at,this.version=0,this.onUpdate=null}function Ct(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function Et(t,e,i){this.width=t,this.height=e,this.scissor=new Ct(0,0,t,e),this.scissorTest=!1,this.viewport=new Ct(0,0,t,e),i=i||{},this.texture=new Pt(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:D,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function It(t,e,i){Et.call(this,t,e,i),this.samples=4}function Dt(t,e,i){Et.call(this,t,e,i)}function Bt(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:C,this.minFilter=void 0!==l?l:C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Ot(t,e){this.min=void 0!==t?t:new ht(1/0,1/0,1/0),this.max=void 0!==e?e:new ht(-1/0,-1/0,-1/0)}function zt(t,e){this.center=void 0!==t?t:new ht,this.radius=void 0!==e?e:0}function Nt(t,e){this.normal=void 0!==t?t:new ht(1,0,0),this.constant=void 0!==e?e:0}function Rt(t,e,i,r,n,a){this.planes=[void 0!==t?t:new Nt,void 0!==e?e:new Nt,void 0!==i?i:new Nt,void 0!==r?r:new Nt,void 0!==n?n:new Nt,void 0!==a?a:new Nt]}function Ft(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Pt.DEFAULT_IMAGE=void 0,Pt.DEFAULT_MAPPING=b,Pt.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Pt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=st.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(Tt.getDataURL(r[a]))}else n=Tt.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==b)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case T:t.x=t.x-Math.floor(t.x);break;case L:t.x=t.x<0?0:1;break;case P:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case T:t.y=t.y-Math.floor(t.y);break;case L:t.y=t.y<0?0:1;break;case P:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Pt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ct.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===pt&&(pt=new Ct,dt=new Ct),pt.set(t,t,t,t),dt.set(e,e,e,e),this.clamp(pt,dt)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Et.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Et,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),It.prototype=(0,f.default)((0,p.default)(Et.prototype),{constructor:It,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Et.prototype.copy.call(this,t),this.samples=t.samples,this}}),Dt.prototype=(0,p.default)(Et.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isWebGLRenderTargetCube=!0,Bt.prototype=(0,p.default)(Pt.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isDataTexture=!0,(0,f.default)(Ot.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ht;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ht;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ht),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(mt=new ht,function(t){return this.clampPoint(t.center,mt),mt.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ht;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ht;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(ft=[new ht,new ht,new ht,new ht,new ht,new ht,new ht,new ht],function(t){return this.isEmpty()||(ft[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ft[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ft[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ft[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ft[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ft[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ft[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ft[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ft)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(zt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(vt=new Ot,function(t,e){var i=this.center;void 0!==e?i.copy(e):vt.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ht),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new Ot),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(Nt.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ht,e=new ht;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ht;return function(e,i){void 0===i&&(i=new ht);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ht),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ht,e=new ct;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(Rt.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(yt=new zt,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),yt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(yt)}),intersectsSprite:function(){var t=new zt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(gt=new ht,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(gt.x=r.normal.x>0?t.max.x:t.min.x,gt.y=r.normal.y>0?t.max.y:t.min.y,gt.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(gt)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(Ft.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ft).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ht;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(St=new ht(0,0,0),At=new ht(1,1,1),function(t){return this.compose(St,t,At)}),lookAt:(wt=new ht,_t=new ht,Mt=new ht,function(t,e,i){var r=this.elements;return Mt.subVectors(t,e),0===Mt.lengthSq()&&(Mt.z=1),Mt.normalize(),wt.crossVectors(i,Mt),0===wt.lengthSq()&&(1===Math.abs(i.z)?Mt.x+=1e-4:Mt.z+=1e-4,Mt.normalize(),wt.crossVectors(i,Mt)),wt.normalize(),_t.crossVectors(Mt,wt),r[0]=wt.x,r[4]=_t.x,r[8]=Mt.x,r[1]=wt.y,r[5]=_t.y,r[9]=Mt.y,r[2]=wt.z,r[6]=_t.z,r[10]=Mt.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(xt=new ht,bt=new Ft,function(t,e,i){var r=this.elements,n=xt.set(r[0],r[1],r[2]).length(),a=xt.set(r[4],r[5],r[6]).length(),o=xt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],bt.copy(this);var s=1/n,u=1/a,l=1/o;return bt.elements[0]*=s,bt.elements[1]*=s,bt.elements[2]*=s,bt.elements[4]*=u,bt.elements[5]*=u,bt.elements[6]*=u,bt.elements[8]*=l,bt.elements[9]*=l,bt.elements[10]*=l,e.setFromRotationMatrix(bt),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var Ut={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function kt(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function Gt(t){for(var e={},i=0;i<t.length;i++){var r=kt(t[i]);for(var n in r)e[n]=r[n]}return e}var Vt,Wt,Ht,jt={clone:kt,merge:Gt},Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(qt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=st.euclideanModulo(e,1),i=st.clamp(i,0,1),r=st.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=Xt[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(Ht={},function(t,e,i){return this.getHSL(Ht),Ht.h+=t,Ht.s+=e,Ht.l+=i,this.setHSL(Ht.h,Ht.s,Ht.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(Vt={h:0,s:0,l:0},Wt={h:0,s:0,l:0},function(t,e){this.getHSL(Vt),t.getHSL(Wt);var i=st.lerp(Vt.h,Wt.h,e),r=st.lerp(Vt.s,Wt.s,e),n=st.lerp(Vt.l,Wt.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Yt,Jt={common:{diffuse:{value:new qt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ct},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new qt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ct}},sprite:{diffuse:{value:new qt(15658734)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ct}}},Zt={basic:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:Gt([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},matcap:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:Gt([Jt.points,Jt.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:Gt([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:Gt([Jt.common,Jt.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.normal_vert,fragmentShader:Ut.normal_frag},sprite:{uniforms:Gt([Jt.sprite,Jt.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new ct},t2D:{value:null}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:Gt([Jt.common,Jt.displacementmap,{referencePosition:{value:new ht},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:Gt([Jt.lights,Jt.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};function Qt(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Kt(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function $t(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ht,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new qt,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function te(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||te.DefaultOrder}function ee(){this.mask=1}Zt.physical={uniforms:Gt([Zt.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},(0,f.default)($t.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),te.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],te.DefaultOrder="XYZ",(0,d.default)(te.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(te.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=st.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ft;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Yt=new lt,function(t){return Yt.setFromEuler(this),this.setFromQuaternion(Yt,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ht(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ee.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var ie,re,ne,ae,oe,se=0;function ue(){Object.defineProperty(this,"id",{value:se++}),this.uuid=st.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ue.DefaultUp.clone();var t=new ht,e=new te,i=new lt,r=new ht(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ft},normalMatrix:{value:new ct}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ee,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ue.DefaultUp=new ht(0,1,0),ue.DefaultMatrixAutoUpdate=!0,ue.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ue,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(oe=new lt,function(t,e){return oe.setFromAxisAngle(t,e),this.quaternion.multiply(oe),this}),rotateOnWorldAxis:function(){var t=new lt;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ht(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ht(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ht(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ht;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ht(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ht(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ht(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(ae=new Ft,function(t){return t.applyMatrix4(ae.getInverse(this.matrixWorld))}),lookAt:function(){var t=new lt,e=new Ft,i=new ht,r=new ht;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(ne=new Ft,function(t){return this.updateWorldMatrix(!0,!1),ne.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ne.multiply(t.parent.matrixWorld)),t.applyMatrix(ne),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ht),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(ie=new ht,re=new ht,function(t){return void 0===t&&(t=new lt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ie,t,re),t}),getWorldScale:function(){var t=new ht,e=new lt;return function(i){return void 0===i&&(i=new ht),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var le,he,ce=0;function pe(){Object.defineProperty(this,"id",{value:ce+=2}),this.uuid=st.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function de(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function fe(t,e,i){de.call(this,new Int8Array(t),e,i)}function me(t,e,i){de.call(this,new Uint8Array(t),e,i)}function ve(t,e,i){de.call(this,new Uint8ClampedArray(t),e,i)}function ge(t,e,i){de.call(this,new Int16Array(t),e,i)}function ye(t,e,i){de.call(this,new Uint16Array(t),e,i)}function xe(t,e,i){de.call(this,new Int32Array(t),e,i)}function be(t,e,i){de.call(this,new Uint32Array(t),e,i)}function we(t,e,i){de.call(this,new Float32Array(t),e,i)}function _e(t,e,i){de.call(this,new Float64Array(t),e,i)}function Me(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}pe.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:pe,isGeometry:!0,applyMatrix:function(t){for(var e=(new ct).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(he=new ue,function(t){he.lookAt(t),he.updateMatrix(),this.applyMatrix(he.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ht).fromArray(n,l)),void 0!==o&&e.colors.push((new qt).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new $t(t,i,r,void 0===a?[]:[(new ht).fromArray(a,3*t),(new ht).fromArray(a,3*i),(new ht).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new ut).fromArray(s,2*t),(new ut).fromArray(s,2*i),(new ut).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new ut).fromArray(u,2*t),(new ut).fromArray(u,2*i),(new ut).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(le=new ht,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(le).negate(),this.translate(le.x,le.y,le.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new Ft;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ht,e=new ht,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ht;if(t){var s,u,l,h=new ht,c=new ht;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new pe;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ht,l={a:new ht,b:new ht,c:new ht},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new ct).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new $t(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ht(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new pe).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(de.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(de.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new qt),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ut),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ht),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Ct),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),fe.prototype=(0,p.default)(de.prototype),fe.prototype.constructor=fe,me.prototype=(0,p.default)(de.prototype),me.prototype.constructor=me,ve.prototype=(0,p.default)(de.prototype),ve.prototype.constructor=ve,ge.prototype=(0,p.default)(de.prototype),ge.prototype.constructor=ge,ye.prototype=(0,p.default)(de.prototype),ye.prototype.constructor=ye,xe.prototype=(0,p.default)(de.prototype),xe.prototype.constructor=xe,be.prototype=(0,p.default)(de.prototype),be.prototype.constructor=be,we.prototype=(0,p.default)(de.prototype),we.prototype.constructor=we,_e.prototype=(0,p.default)(de.prototype),_e.prototype.constructor=_e,(0,f.default)(Me.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new ut,new ut,new ut)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new ut,new ut,new ut));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ae=1;function Te(){Object.defineProperty(this,"id",{value:Ae+=2}),this.uuid=st.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Le(t,e,i,r,n,a){pe.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new Pe(t,e,i,r,n,a)),this.mergeVertices()}function Pe(t,e,i,r,n,a){Te.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ht;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}function Ce(t,e,i,r){pe.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new Ee(t,e,i,r)),this.mergeVertices()}function Ee(t,e,i,r){Te.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}Te.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Te,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Se(t)>65535?be:ye)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new de(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new ct).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new ct).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new ue;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ht;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new we(3*e.vertices.length,3),r=new we(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new we(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new we(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Me).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new de(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new de(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new de(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new de(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new de(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new we(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new we(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new we(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new Ot;return function(){null===this.boundingBox&&(this.boundingBox=new Ot);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new Ot,e=new Ot,i=new ht;return function(){null===this.boundingSphere&&(this.boundingSphere=new zt);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new de(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ht;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new de(n,r)}if(null===this.index)return this;var e=new Te,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new Te).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Le.prototype=(0,p.default)(pe.prototype),Le.prototype.constructor=Le,Pe.prototype=(0,p.default)(Te.prototype),Pe.prototype.constructor=Pe,Ce.prototype=(0,p.default)(pe.prototype),Ce.prototype.constructor=Ce,Ee.prototype=(0,p.default)(Te.prototype),Ee.prototype.constructor=Ee;var Ie,De,Be,Oe,ze,Ne,Re,Fe,Ue,ke,Ge,Ve,We=0;function He(){Object.defineProperty(this,"id",{value:We++}),this.uuid=st.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function je(t){He.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Xe(t,e){this.origin=void 0!==t?t:new ht,this.direction=void 0!==e?e:new ht}function qe(t,e,i){this.a=void 0!==t?t:new ht,this.b=void 0!==e?e:new ht,this.c=void 0!==i?i:new ht}function Ye(t){He.call(this),this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Je(t,e){ue.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new Ye({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ze(t,e,i,r){var n,a,o=new qt(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Je(new Pe(1,1,1),new je({type:"BackgroundCubeMaterial",uniforms:kt(Zt.cube.uniforms),vertexShader:Zt.cube.vertexShader,fragmentShader:Zt.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Je(new Ee(2,2),new je({type:"BackgroundMaterial",uniforms:kt(Zt.background.uniforms),vertexShader:Zt.background.vertexShader,fragmentShader:Zt.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Qe(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Ke(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function $e(){var t=this,e=null,i=0,r=!1,n=!1,a=new Nt,o=new ct,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function ti(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function ei(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Te).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(Se(a)>65535?be:ye)(a,1),e.update(i,34963),n[t.id]=i,i}}}function ii(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function ri(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function ni(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ai(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(ni),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function oi(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function si(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:w,o=void 0!==o?o:G,Pt.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function ui(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}function li(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}He.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:He,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=(0,p.default)(He.prototype),je.prototype.constructor=je,je.prototype.isShaderMaterial=!0,je.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=kt(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},je.prototype.toJSON=function(t){var e=He.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Xe.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ht),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ht;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ht),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ht;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(De=new ht,Be=new ht,Oe=new ht,function(t,e,i,r){De.copy(t).add(e).multiplyScalar(.5),Be.copy(e).sub(t).normalize(),Oe.copy(this.origin).sub(De);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(Be),h=Oe.dot(this.direction),c=-Oe.dot(Be),p=Oe.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(Be).multiplyScalar(a).add(De),o}),intersectSphere:function(){var t=new ht;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(Ie=new ht,function(t){return null!==this.intersectBox(t,Ie)}),intersectTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(qe,{getNormal:(Ne=new ht,function(t,e,i,r){void 0===r&&(r=new ht),r.subVectors(i,e),Ne.subVectors(t,e),r.cross(Ne);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ht,e=new ht,i=new ht;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ht),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ht;return function(e,i,r,n){return qe.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(ze=new ht,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,ze),s.set(0,0),s.addScaledVector(n,ze.x),s.addScaledVector(a,ze.y),s.addScaledVector(o,ze.z),s}),isFrontFacing:function(){var t=new ht,e=new ht;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(qe.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ht,e=new ht;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ht),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return qe.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ht),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return qe.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return qe.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return qe.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return qe.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(Re=new ht,Fe=new ht,Ue=new ht,ke=new ht,Ge=new ht,Ve=new ht,function(t,e){void 0===e&&(e=new ht);var i,r,n=this.a,a=this.b,o=this.c;Re.subVectors(a,n),Fe.subVectors(o,n),ke.subVectors(t,n);var s=Re.dot(ke),u=Fe.dot(ke);if(s<=0&&u<=0)return e.copy(n);Ge.subVectors(t,a);var l=Re.dot(Ge),h=Fe.dot(Ge);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(Re,i);Ve.subVectors(t,o);var p=Re.dot(Ve),d=Fe.dot(Ve);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(Fe,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return Ue.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(Ue,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(Re,i).addScaledVector(Fe,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Ye.prototype=(0,p.default)(He.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshBasicMaterial=!0,Ye.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Je.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Je,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ue.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new Ft,e=new Xe,i=new zt,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht,h=new ht,c=new ht,p=new ut,d=new ut,f=new ut,m=new ht,v=new ht;function g(t,e,i,r,n,a,o,s){if(null===(1===e.side?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,2!==e.side,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=qe.getUV(m,r,n,a,p,d,f,new ut));var E=new $t(w,_,M);qe.getNormal(r,n,a,E.normal),C.face=E}return C}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=qe.getUV(m,O,z,N,p,d,f,new ut)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),si.prototype=(0,p.default)(Pt.prototype),si.prototype.constructor=si,si.prototype.isCubeTexture=!0,Object.defineProperty(si.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ui.prototype=(0,p.default)(Pt.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture2DArray=!0,li.prototype=(0,p.default)(Pt.prototype),li.prototype.constructor=li,li.prototype.isDataTexture3D=!0;var hi=new Pt,ci=new ui,pi=new li,di=new si,fi=[],mi=[],vi=new Float32Array(16),gi=new Float32Array(9),yi=new Float32Array(4);function xi(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=fi[n];if(void 0===a&&(a=new Float32Array(n),fi[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function bi(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function wi(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function _i(t,e){var i=mi[e];void 0===i&&(i=new Int32Array(e),mi[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function Mi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Si(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(bi(i,e))return;t.uniform2fv(this.addr,e),wi(i,e)}}function Ai(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(bi(i,e))return;t.uniform3fv(this.addr,e),wi(i,e)}}function Ti(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(bi(i,e))return;t.uniform4fv(this.addr,e),wi(i,e)}}function Li(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;yi.set(r),t.uniformMatrix2fv(this.addr,!1,yi),wi(i,r)}}function Pi(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;gi.set(r),t.uniformMatrix3fv(this.addr,!1,gi),wi(i,r)}}function Ci(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;vi.set(r),t.uniformMatrix4fv(this.addr,!1,vi),wi(i,r)}}function Ei(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||hi,n)}function Ii(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||ci,n)}function Di(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||pi,n)}function Bi(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||di,n)}function Oi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function zi(t,e){var i=this.cache;bi(i,e)||(t.uniform2iv(this.addr,e),wi(i,e))}function Ni(t,e){var i=this.cache;bi(i,e)||(t.uniform3iv(this.addr,e),wi(i,e))}function Ri(t,e){var i=this.cache;bi(i,e)||(t.uniform4iv(this.addr,e),wi(i,e))}function Fi(t,e){t.uniform1fv(this.addr,e)}function Ui(t,e){t.uniform1iv(this.addr,e)}function ki(t,e){t.uniform2iv(this.addr,e)}function Gi(t,e){t.uniform3iv(this.addr,e)}function Vi(t,e){t.uniform4iv(this.addr,e)}function Wi(t,e){var i=xi(e,this.size,2);t.uniform2fv(this.addr,i)}function Hi(t,e){var i=xi(e,this.size,3);t.uniform3fv(this.addr,i)}function ji(t,e){var i=xi(e,this.size,4);t.uniform4fv(this.addr,i)}function Xi(t,e){var i=xi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function qi(t,e){var i=xi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Yi(t,e){var i=xi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Ji(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||hi,n[a])}function Zi(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||di,n[a])}function Qi(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Mi;case 35664:return Si;case 35665:return Ai;case 35666:return Ti;case 35674:return Li;case 35675:return Pi;case 35676:return Ci;case 35678:case 36198:return Ei;case 35679:return Di;case 35680:return Bi;case 36289:return Ii;case 5124:case 35670:return Oi;case 35667:case 35671:return zi;case 35668:case 35672:return Ni;case 35669:case 35673:return Ri}}(e.type)}function Ki(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Fi;case 35664:return Wi;case 35665:return Hi;case 35666:return ji;case 35674:return Xi;case 35675:return qi;case 35676:return Yi;case 35678:return Ji;case 35680:return Zi;case 5124:case 35670:return Ui;case 35667:case 35671:return ki;case 35668:case 35672:return Gi;case 35669:case 35673:return Vi}}(e.type)}function $i(t){this.id=t,this.seq=[],this.map={}}Ki.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),wi(e,t)},$i.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var tr=/([\w\d_]+)(\])?(\[|\.)?/g;function er(t,e){t.seq.push(e),t.map[e.id]=e}function ir(t,e,i){var r=t.name,n=r.length;for(tr.lastIndex=0;;){var a=tr.exec(r),o=tr.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){er(i,void 0===l?new Qi(s,t,e):new Ki(s,t,e));break}var h=i.map[s];void 0===h&&er(i,h=new $i(s)),i=h}}function rr(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);ir(n,t.getUniformLocation(e,n.name),this)}}function nr(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}rr.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},rr.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},rr.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},rr.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var ar=0;function or(t){switch(t){case at:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case ot:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function sr(t,e){var i=or(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function ur(t,e){var i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;case 5:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function lr(t){return""!==t}function hr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function cr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function pr(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=Ut[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return pr(i)}))}function dr(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function fr(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?p="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case w:case _:f="ENVMAP_TYPE_CUBE";break;case S:case A:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case M:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case _:case M:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:v="ENVMAP_BLENDING_MULTIPLY";break;case 1:v="ENVMAP_BLENDING_MIX";break;case 2:v="ENVMAP_BLENDING_ADD"}}var g,y,x,b,T,L=t.gammaFactor>0?t.gammaFactor:1,P=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lr).join("\n")}(r.extensions,a,e),C=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),E=u.createProgram();if(r.isRawShaderMaterial?((g=[C].filter(lr).join("\n")).length>0&&(g+="\n"),(y=[P,C].filter(lr).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+L,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lr).join("\n"),y=[P,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+L,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?Ut.tonemapping_pars_fragment:"",0!==a.toneMapping?ur("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Ut.encodings_pars_fragment:"",a.mapEncoding?sr("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?sr("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?sr("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?sr("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",b=a.outputEncoding,T=or(b),"vec4 "+x+"( vec4 value ) { return LinearTo"+T[0]+T[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(lr).join("\n")),h=cr(h=hr(h=pr(h),a),a),c=cr(c=hr(c=pr(c),a),a),h=dr(h),c=dr(c),o.isWebGL2&&!r.isRawShaderMaterial){var I=!1,D=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(D)&&null!==c.match(D)&&(I=!0,h=h.replace(D,""),c=c.replace(D,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",I?"":"out highp vec4 pc_fragColor;",I?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var B,O,z=y+c,N=nr(u,35633,g+h,t.debug.checkShaderErrors),R=nr(u,35632,z,t.debug.checkShaderErrors);if(u.attachShader(E,N),u.attachShader(E,R),void 0!==r.index0AttributeName?u.bindAttribLocation(E,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(E,0,"position"),u.linkProgram(E),t.debug.checkShaderErrors){var F=u.getProgramInfoLog(E).trim(),U=u.getShaderInfoLog(N).trim(),k=u.getShaderInfoLog(R).trim(),G=!0,V=!0;!1===u.getProgramParameter(E,35714)?(G=!1,u.getError(),u.getProgramParameter(E,35715)):""!==F||""!==U&&""!==k||(V=!1),V&&(this.diagnostics={runnable:G,material:r,programLog:F,vertexShader:{log:U,prefix:g},fragmentShader:{log:k,prefix:y}})}return u.deleteShader(N),u.deleteShader(R),this.getUniforms=function(){return void 0===B&&(B=new rr(u,E,s)),B},this.getAttributes=function(){return void 0===O&&(O=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,E)),O},this.destroy=function(){u.deleteProgram(E),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=ar++,this.code=i,this.usedTimes=1,this.program=E,this.vertexShader=N,this.fragmentShader=R,this}function mr(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=at,i===at&&e&&(i=ot),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton;if(!e)return 0;var r=e.bones;if(i.floatVertexTextures)return 1024;var n=i.maxVertexUniforms,a=Math.floor((n-20)/4),o=Math.min(a,r.length);return o<r.length?(r.length,0):o}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===S||e.envMap.mapping===A),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new fr(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function vr(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function gr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function yr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xr(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(gr),r.length>1&&r.sort(yr)}}}function br(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new xr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new xr,a[r.id]=n),n},dispose:function(){t={}}}}function wr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ht,color:new qt,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"SpotLight":i={position:new ht,direction:new ht,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":i={position:new ht,color:new qt,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ht,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":i={color:new qt,position:new ht,halfWidth:new ht,halfHeight:new ht}}return t[e.id]=i,i}}}var _r=0;function Mr(){for(var t=new wr,e={id:_r++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ht);var r=new ht,n=new Ft,a=new Ft;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function Sr(){var t=new Mr,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function Ar(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new Sr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new Sr,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function Tr(t){He.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Lr(t){He.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ht,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Pr(t,e,i){for(var r=new Rt,n=new Ft,a=new ut,o=new ut(i,i),s=new ht,u=new ht,l=new Array(4),h=new Array(4),c={},p={0:1,1:0,2:2},d=[new ht(1,0,0),new ht(-1,0,0),new ht(0,0,1),new ht(0,0,-1),new ht(0,1,0),new ht(0,-1,0)],f=[new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,0,1),new ht(0,0,-1)],m=[new Ct,new Ct,new Ct,new Ct,new Ct,new Ct],v=0;4!==v;++v){var g=0!=(1&v),y=0!=(2&v),x=new Tr({depthPacking:3201,morphTargets:g,skinning:y});l[v]=x;var b=new Lr({morphTargets:g,skinning:y});h[v]=b}var w=this;function _(e,i,r,n,a,o){var s=e.geometry,u=null,d=l,f=e.customDepthMaterial;if(r&&(d=h,f=e.customDistanceMaterial),f)u=f;else{var m=!1;i.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var v=0;m&&(v|=1),e.isSkinnedMesh&&i.skinning&&(v|=2),u=d[v]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var g=u.uuid,y=i.uuid,x=c[g];void 0===x&&(x={},c[g]=x);var b=x[y];void 0===b&&(b=u.clone(),x[y]=b),u=b}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:p[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function M(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=_(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=_(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)M(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,i,l){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),v=t.getActiveMipMapLevel(),g=t.state;g.setBlending(0),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var y=0,x=e.length;y<x;y++){var b=e[y],_=b.shadow,S=b&&b.isPointLight;if(void 0!==_){var A=_.camera;if(a.copy(_.mapSize),a.min(o),S){var T=a.x,L=a.y;m[0].set(2*T,L,T,L),m[1].set(0,L,T,L),m[2].set(3*T,L,T,L),m[3].set(T,L,T,L),m[4].set(3*T,0,T,L),m[5].set(T,0,T,L),a.x*=4,a.y*=2}if(null===_.map){var P={minFilter:C,magFilter:C,format:V};_.map=new Et(a.x,a.y,P),_.map.texture.name=b.name+".shadowMap",A.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(b);var E=_.map,I=_.matrix;u.setFromMatrixPosition(b.matrixWorld),A.position.copy(u),S?(h=6,I.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),A.lookAt(s),A.updateMatrixWorld(),I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),I.multiply(A.projectionMatrix),I.multiply(A.matrixWorldInverse)),t.setRenderTarget(E),t.clear();for(var D=0;D<h;D++){if(S){s.copy(A.position),s.add(d[D]),A.up.copy(f[D]),A.lookAt(s),A.updateMatrixWorld();var B=m[D];g.viewport(B)}n.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),r.setFromMatrix(n),M(i,l,A,S)}}}w.needsUpdate=!1,t.setRenderTarget(c,p,v)}}}function Cr(t,e,i,r){var n=new function(){var e=!1,i=new Ct,r=null,n=new Ct(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},o=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?k(2929):G(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},s=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?k(2960):G(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},u=t.getParameter(34921),l=new Uint8Array(u),h=new Uint8Array(u),c=new Uint8Array(u),p={},d=null,f=null,m=null,v=null,g=null,y=null,x=null,b=null,w=null,_=null,M=!1,S=null,A=null,T=null,L=null,P=null,C=t.getParameter(35661),E=!1,I=0,D=t.getParameter(7938);-1!==D.indexOf("WebGL")?(I=parseFloat(/^WebGL\ ([0-9])/.exec(D)[1]),E=I>=1):-1!==D.indexOf("OpenGL ES")&&(I=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(D)[1]),E=I>=2);var B=null,O={},z=new Ct,N=new Ct;function R(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var F={};function U(i,n){l[i]=1,0===h[i]&&(t.enableVertexAttribArray(i),h[i]=1),c[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),c[i]=n)}function k(e){!0!==p[e]&&(t.enable(e),p[e]=!0)}function G(e){!1!==p[e]&&(t.disable(e),p[e]=!1)}function V(e,r,n,o,s,u,l,h){if(0!==e){if(m||(k(3042),m=!0),5===e)s=s||r,u=u||n,l=l||o,r===g&&s===b||(t.blendEquationSeparate(i.convert(r),i.convert(s)),g=r,b=s),n===y&&o===x&&u===w&&l===_||(t.blendFuncSeparate(i.convert(n),i.convert(o),i.convert(u),i.convert(l)),y=n,x=o,w=u,_=l),v=e,M=null;else if(e!==v||h!==M){if(g===a&&b===a||(t.blendEquation(32774),g=a,b=a),h)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768)}y=null,x=null,w=null,_=null,v=e,M=h}}else m&&(G(3042),m=!1)}function W(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function H(e){0!==e?(k(2884),e!==A&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):G(2884),A=e}function j(e,i,r){e?(k(32823),L===i&&P===r||(t.polygonOffset(i,r),L=i,P=r)):G(32823)}function X(e){void 0===e&&(e=33984+C-1),B!==e&&(t.activeTexture(e),B=e)}return F[3553]=R(3553,3553,1),F[34067]=R(34067,34069,6),n.setClear(0,0,0,1),o.setClear(1),s.setClear(0),k(2929),o.setFunc(3),W(!1),H(1),k(2884),V(0),{buffers:{color:n,depth:o,stencil:s},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){U(t,0)},enableAttributeAndDivisor:U,disableUnusedAttributes:function(){for(var e=0,i=h.length;e!==i;++e)h[e]!==l[e]&&(t.disableVertexAttribArray(e),h[e]=0)},enable:k,disable:G,getCompressedTextureFormats:function(){if(null===d&&(d=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)d.push(i[r]);return d},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:V,setMaterial:function(t,e){2===t.side?G(2884):k(2884);var i=1===t.side;e&&(i=!i),W(i),1===t.blending&&!1===t.transparent?V(0):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),n.setMask(t.colorWrite),j(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:W,setCullFace:H,setLineWidth:function(e){e!==T&&(E&&t.lineWidth(e),T=e)},setPolygonOffset:j,setScissorTest:function(t){t?k(3089):G(3089)},activeTexture:X,bindTexture:function(e,i){null===B&&X();var r=O[B];void 0===r&&(r={type:void 0,texture:void 0},O[B]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||F[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===z.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),z.copy(e))},viewport:function(e){!1===N.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},reset:function(){for(var e=0;e<h.length;e++)1===h[e]&&(t.disableVertexAttribArray(e),h[e]=0);p={},d=null,B=null,O={},f=null,v=null,S=null,A=null,n.reset(),o.reset(),s.reset()}}}function Er(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?st.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return st.isPowerOfTwo(t.width)&&st.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==C&&t.minFilter!==D}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===C||t===E||t===I?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==V&&e.format!==G?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==L||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==C&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===F&&null===e.get("OES_texture_float_linear"))return;if(o.type===U&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==L||t.wrapT!==L||t.minFilter!==C&&t.minFilter!==D)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===F){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===W&&6402===y&&r.type!==N&&r.type!==R&&(r.type=N,g=a.convert(r.type)),r.format===H&&(y=34041,r.type!==k&&(r.type=k,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==V&&r.format!==G?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=O(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=O(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=O(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function B(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===W)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==H)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),P(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),P(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function O(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var z=!1,j=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=O(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),P(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&B(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===z&&(z=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===j&&(j=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function Ir(t,e,i){return{convert:function(t){var r;if(t===T)return 10497;if(t===L)return 33071;if(t===P)return 33648;if(t===C)return 9728;if(t===E)return 9984;if(t===I)return 9986;if(t===D)return 9729;if(t===B)return 9985;if(t===O)return 9987;if(t===z)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===N)return 5123;if(1013===t)return 5124;if(t===R)return 5125;if(t===F)return 5126;if(t===U){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===t)return 6406;if(t===G)return 6407;if(t===V)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===W)return 6402;if(t===H)return 34041;if(1028===t)return 6403;if(t===a)return 32774;if(101===t)return 32778;if(102===t)return 32779;if(200===t)return 0;if(201===t)return 1;if(202===t)return 768;if(203===t)return 769;if(204===t)return 770;if(205===t)return 771;if(206===t)return 772;if(207===t)return 773;if(208===t)return 774;if(209===t)return 775;if(210===t)return 776;if((t===j||t===X||t===q||t===Y)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===j)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===X)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===q)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Y)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===J||t===Z||t===Q||t===K)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===J)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Z)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Q)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===K)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===o||t===x){if(i.isWebGL2){if(t===o)return 32775;if(t===x)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===o)return r.MIN_EXT;if(t===x)return r.MAX_EXT}}if(t===k){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Dr(){ue.call(this),this.type="Group"}function Br(){ue.call(this),this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft}function Or(t,e,i,r){Br.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function zr(t){Or.call(this),this.cameras=t||[]}Tr.prototype=(0,p.default)(He.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshDepthMaterial=!0,Tr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Lr.prototype=(0,p.default)(He.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshDistanceMaterial=!0,Lr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Dr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Dr,isGroup:!0}),Br.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Br,isCamera:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){ue.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Or.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Or,isPerspectiveCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*st.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*st.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*st.RAD2DEG*Math.atan(Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),zr.prototype=(0,f.default)((0,p.default)(Or.prototype),{constructor:zr,isArrayCamera:!0});var Nr,Rr,Fr,Ur,kr,Gr,Vr=new ht,Wr=new ht;function Hr(t,e,i){Vr.setFromMatrixPosition(e.matrixWorld),Wr.setFromMatrixPosition(i.matrixWorld);var r=Vr.distanceTo(Wr),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function jr(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new Ft,l=new Ft,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new Ft,d=new lt,f=new ht,m=new Or;m.viewport=new Ct,m.layers.enable(1);var v=new Or;v.viewport=new Ct,v.layers.enable(2);var g=new zr([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new ut;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Hr(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Qt;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Xr(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new Or;l.layers.enable(1),l.viewport=new Ct;var h=new Or;h.layers.enable(2),h.viewport=new Ct;var c=new zr([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Hr(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Qt;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new Ft},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function qr(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,M,S,A,T,L,P,C,E,I=this,D=!1,B=null,O=0,N=0,R=null,k=null,G=-1,W={geometry:null,program:null,wireframe:!1},H=null,j=null,X=new Ct,q=new Ct,Y=null,J=e.width,Z=e.height,Q=1,K=new Ct(0,0,J,Z),$=new Ct(0,0,J,Z),tt=!1,et=new Rt,it=new $e,rt=!1,nt=!1,at=new Ft,ot=new ht;function lt(){return null===R?Q:1}try{var ct={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",vt,!1),null===(d=i||e.getContext("webgl",ct)||e.getContext("experimental-webgl",ct)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function pt(){f=new ti(d),(m=new Ke(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),E=new Ir(d,f,m),(v=new Cr(d,f,E,m)).scissor(q.copy($).multiplyScalar(Q)),v.viewport(X.copy(K).multiplyScalar(Q)),g=new ri(d),y=new vr,x=new Er(d,f,v,y,m,E,g),b=new Kt(d),w=new ei(d,b,g),_=new oi(w,g),L=new ai(d),M=new mr(I,f,m,x),S=new br,A=new Ar,T=new Ze(I,v,_,s),P=new Qe(d,f,g,m),C=new ii(d,f,g,m),g.programs=M.programs,I.context=d,I.capabilities=m,I.extensions=f,I.properties=y,I.renderLists=S,I.state=v,I.info=g}pt();var dt="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Xr(I):new jr(I);this.vr=dt;var ft=new Pr(I,_,m.maxTextureSize);function mt(t){t.preventDefault(),D=!0}function vt(){D=!1,pt()}function gt(t){var e=t.target;e.removeEventListener("dispose",gt),function(t){yt(t),y.remove(t)}(e)}function yt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&M.releaseProgram(e)}this.shadowMap=ft,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(t){void 0!==t&&(Q=t,this.setSize(J,Z,!1))},this.getSize=function(t){return void 0===t&&(t=new ut),t.set(J,Z)},this.setSize=function(t,i,r){dt.isPresenting()||(J=t,Z=i,e.width=t*Q,e.height=i*Q,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new ut),t.set(J*Q,Z*Q)},this.setDrawingBufferSize=function(t,i,r){J=t,Z=i,Q=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new Ct),t.copy(X)},this.getViewport=function(t){return t.copy(K)},this.setViewport=function(t,e,i,r){t.isVector4?K.set(t.x,t.y,t.z,t.w):K.set(t,e,i,r),v.viewport(X.copy(K).multiplyScalar(Q))},this.getScissor=function(t){return t.copy($)},this.setScissor=function(t,e,i,r){t.isVector4?$.set(t.x,t.y,t.z,t.w):$.set(t,e,i,r),v.scissor(q.copy($).multiplyScalar(Q))},this.getScissorTest=function(){return tt},this.setScissorTest=function(t){v.setScissorTest(tt=t)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",vt,!1),S.dispose(),A.dispose(),y.dispose(),_.dispose(),dt.dispose(),bt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=At(t,e,r,n),u=!1;W.geometry===i.id&&W.program===s.id&&W.wireframe===(!0===r.wireframe)||(W.geometry=i.id,W.program=s.id,W.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(L.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=P;null!==h&&(l=b.get(h),(g=C).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,E=Math.max(0,T-A+1);if(0!==E){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*lt()),g.setMode(1);else switch(n.drawMode){case 0:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*lt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,E):g.render(A,E)}},this.compile=function(t,e){(p=A.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)St(e.material[i],t.fog,e);else St(e.material,t.fog,e)}))};var xt=null,bt=new Qt;function wt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||et.intersectsSprite(t)){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,ot.z,null)}}else if(t.isImmediateRenderObject)r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),c.push(t,null,t.material,i,ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton&&t.skeleton.update(),!t.frustumCulled||et.intersectsObject(t))){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,ot.z,l)}else a.visible&&c.push(t,n,a,i,ot.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)wt(d[s],e,i,r)}}function _t(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){j=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(X.copy(m.viewport)),p.setupLights(m),Mt(s,e,m,u,l,h))}}else j=null,Mt(s,e,i,u,l,h)}}function Mt(t,e,i,r,n,a){if(t.onBeforeRender(I,e,i,r,n,a),p=A.get(e,j||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=At(i,e.fog,n,t);W.geometry=null,W.program=null,W.wireframe=!1,function(t,e){t.render((function(t){I.renderBufferImmediate(t,e)}))}(t,o)}else I.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(I,e,i,r,n,a),p=A.get(e,j||i)}function St(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=M.getParameters(t,n.state,a,e,it.numPlanes,it.numIntersection,i),l=M.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",gt);else if(h.code!==l)yt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Zt[u.shaderID];r.shader={name:t.type,uniforms:kt(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,I),l=M.getProgramCode(t,u),h=M.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<I.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<I.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=it.numPlanes,r.numIntersection=it.numIntersection,v.clippingPlanes=it.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=rr.seqWithValue(g.seq,v);r.uniformsList=x}function At(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(rt&&(nt||t!==H)){var u=t===H&&i.id===G;it.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===it.numPlanes&&n.numIntersection===it.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(St(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==G&&(G=i.id,f=!0),c||H!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),H!==t&&(H=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var M=w.map.cameraPosition;void 0!==M&&M.setValue(d,ot.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var S=r.skeleton;if(S){var A=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var T=Math.sqrt(4*A.length);T=st.ceilPowerOfTwo(T),T=Math.max(T,4);var L=new Float32Array(T*T*4);L.set(S.boneMatrices);var P=new Bt(L,T,T,V,F);P.needsUpdate=!0,S.boneMatrices=L,S.boneTexture=P,S.boneTextureSize=T}w.setValue(d,"boneTexture",S.boneTexture,x),w.setValue(d,"boneTextureSize",S.boneTextureSize)}else w.setOptional(d,S,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",I.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",I.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?Tt(_,i):i.isMeshLambertMaterial?(Tt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(Tt(_,i),i.isMeshToonMaterial?function(t,e){Lt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):Lt(_,i)):i.isMeshStandardMaterial?(Tt(_,i),i.isMeshPhysicalMaterial?function(t,e){Pt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Pt(_,i)):i.isMeshMatcapMaterial?(Tt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(Tt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Q,t.scale.value=.5*Z,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Jt.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Jt.LTC_2),rr.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(rr.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function Tt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function Lt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Pt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}bt.setAnimationLoop((function(t){dt.isPresenting()||xt&&xt(t)})),"undefined"!=typeof window&&bt.setContext(window),this.setAnimationLoop=function(t){xt=t,dt.setAnimationLoop(t),bt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!D){W.geometry=null,W.program=null,W.wireframe=!1,G=-1,H=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),dt.enabled&&(e=dt.getCamera(e)),(p=A.get(t,e)).init(),t.onBeforeRender(I,t,e,i||R),at.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),et.setFromMatrix(at),nt=this.localClippingEnabled,rt=it.init(this.clippingPlanes,nt,e),(c=S.get(t,e)).init(),wt(t,e,0,I.sortObjects),!0===I.sortObjects&&c.sort(),rt&&it.beginShadows();var n=p.state.shadowsArray;ft.render(n,t,e),p.setupLights(e),rt&&it.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),T.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&_t(a,t,e,s),o.length&&_t(o,t,e,s)}else a.length&&_t(a,t,e),o.length&&_t(o,t,e);t.onAfterRender(I,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),dt.enabled&&dt.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){B!==t&&d.bindFramebuffer(36160,t),B=t},this.getActiveCubeFace=function(){return O},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,O=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=B,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,X.copy(t.viewport),q.copy(t.scissor),Y=t.scissorTest}else X.copy(K).multiplyScalar(Q),q.copy($).multiplyScalar(Q),Y=tt;if(k!==r&&(d.bindFramebuffer(36160,r),k=r),v.viewport(X),v.scissor(q),v.setScissorTest(Y),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==k&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==V&&E.convert(h)!==d.getParameter(35739))return;if(!(c===z||E.convert(c)===d.getParameter(35738)||c===F&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===U&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,E.convert(h),E.convert(c),a)}finally{u&&d.bindFramebuffer(36160,k)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=E.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=E.convert(i.format),s=E.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function Yr(t,e){this.name="",this.color=new qt(t),this.density=void 0!==e?e:25e-5}function Jr(t,e,i){this.name="",this.color=new qt(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Zr(){ue.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Qr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Kr(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function $r(t){He.call(this),this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function tn(t){if(ue.call(this),this.type="Sprite",void 0===Nr){Nr=new Te;var e=new Qr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Nr.setIndex([0,1,2,0,2,3]),Nr.addAttribute("position",new Kr(e,3,0,!1)),Nr.addAttribute("uv",new Kr(e,2,3,!1))}this.geometry=Nr,this.material=void 0!==t?t:new $r,this.center=new ut(.5,.5)}function en(){ue.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function rn(t,e){t&&t.isGeometry,Je.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft}function nn(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ft)}}function an(){ue.call(this),this.type="Bone"}function on(t){He.call(this),this.type="LineBasicMaterial",this.color=new qt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function sn(t,e,i){ue.call(this),this.type="Line",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new on({color:16777215*Math.random()})}function un(t,e){sn.call(this,t,e),this.type="LineSegments"}function ln(t,e){sn.call(this,t,e),this.type="LineLoop"}function hn(t){He.call(this),this.type="PointsMaterial",this.color=new qt(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function cn(t,e){ue.call(this),this.type="Points",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new hn({color:16777215*Math.random()})}function pn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:G,this.minFilter=void 0!==a?a:D,this.magFilter=void 0!==n?n:D,this.generateMipmaps=!1}function dn(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function fn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function mn(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:W)!==W&&l!==H)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===W&&(i=N),void 0===i&&l===H&&(i=k),Pt.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:C,this.minFilter=void 0!==s?s:C,this.flipY=!1,this.generateMipmaps=!1}function vn(t){Te.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ht,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new we(c,3))}function gn(t,e,i){pe.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new yn(t,e,i)),this.mergeVertices()}function yn(t,e,i){Te.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(u,2))}function xn(t,e,i,r){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new bn(t,e,i,r)),this.mergeVertices()}function bn(t,e,i,r){Te.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ht,r=new ht,n=new ht,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ht,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ht,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ht,e=new ht,i=new ht,r=new ht,o=new ut,s=new ut,u=new ut,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new we(n,3)),this.addAttribute("normal",new we(n.slice(),3)),this.addAttribute("uv",new we(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function wn(t,e){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new _n(t,e)),this.mergeVertices()}function _n(t,e){bn.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Mn(t,e){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Sn(t,e)),this.mergeVertices()}function Sn(t,e){bn.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function An(t,e){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Tn(t,e)),this.mergeVertices()}function Tn(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];bn.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ln(t,e){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Pn(t,e)),this.mergeVertices()}function Pn(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];bn.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Cn(t,e,i,r,n,a){pe.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new En(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function En(t,e,i,r,n){Te.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ht,l=new ht,h=new ut,c=new ht,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(f,2))}function In(t,e,i,r,n,a,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new Dn(t,e,i,r,n,a)),this.mergeVertices()}function Dn(t,e,i,r,n,a){Te.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ht,d=new ht,f=new ht,m=new ht,v=new ht,g=new ht,y=new ht;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new we(l,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(c,2))}function Bn(t,e,i,r,n){pe.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new On(t,e,i,r,n)),this.mergeVertices()}function On(t,e,i,r,n){Te.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ht,p=new ht,d=new ht;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}(0,f.default)(Yr.prototype,{isFogExp2:!0,clone:function(){return new Yr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Jr.prototype,{isFog:!0,clone:function(){return new Jr(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Zr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Zr,isScene:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Qr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Kr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Kr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),$r.prototype=(0,p.default)(He.prototype),$r.prototype.constructor=$r,$r.prototype.isSpriteMaterial=!0,$r.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},tn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:tn,isSprite:!0,raycast:function(){var t=new ht,e=new ht,i=new ht,r=new ut,n=new ut,a=new Ft,o=new ht,s=new ht,u=new ht,l=new ut,h=new ut,c=new ut;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:qe.getUV(t,o,s,u,l,h,c,new ut),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return ue.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),en.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:en,isLOD:!0,copy:function(t){ue.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(Rr=new ht,function(t,e){Rr.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Rr);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ht,e=new ht;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),rn.prototype=(0,f.default)((0,p.default)(Je.prototype),{constructor:rn,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Ct,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Je.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(nn.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Ft;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Fr=new Ft,Ur=new Ft,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:Ur;Fr.multiplyMatrices(o,e[n]),Fr.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new nn(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),an.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:an,isBone:!0}),on.prototype=(0,p.default)(He.prototype),on.prototype.constructor=on,on.prototype.isLineBasicMaterial=!0,on.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},sn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:sn,isLine:!0,computeLineDistances:(kr=new ht,Gr=new ht,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)kr.fromBufferAttribute(e,r-1),Gr.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=kr.distanceTo(Gr);t.addAttribute("lineDistance",new we(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ht,c=new ht,p=new ht,d=new ht,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),un.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:un,isLineSegments:!0,computeLineDistances:function(){var t=new ht,e=new ht;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new we(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),ln.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:ln,isLineLoop:!0}),hn.prototype=(0,p.default)(He.prototype),hn.prototype.constructor=hn,hn.prototype.isPointsMaterial=!0,hn.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},cn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:cn,isPoints:!0,raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ht,p=new ht;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),pn.prototype=(0,f.default)((0,p.default)(Pt.prototype),{constructor:pn,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),dn.prototype=(0,p.default)(Pt.prototype),dn.prototype.constructor=dn,dn.prototype.isCompressedTexture=!0,fn.prototype=(0,p.default)(Pt.prototype),fn.prototype.constructor=fn,fn.prototype.isCanvasTexture=!0,mn.prototype=(0,p.default)(Pt.prototype),mn.prototype.constructor=mn,mn.prototype.isDepthTexture=!0,vn.prototype=(0,p.default)(Te.prototype),vn.prototype.constructor=vn,gn.prototype=(0,p.default)(pe.prototype),gn.prototype.constructor=gn,yn.prototype=(0,p.default)(Te.prototype),yn.prototype.constructor=yn,xn.prototype=(0,p.default)(pe.prototype),xn.prototype.constructor=xn,bn.prototype=(0,p.default)(Te.prototype),bn.prototype.constructor=bn,wn.prototype=(0,p.default)(pe.prototype),wn.prototype.constructor=wn,_n.prototype=(0,p.default)(bn.prototype),_n.prototype.constructor=_n,Mn.prototype=(0,p.default)(pe.prototype),Mn.prototype.constructor=Mn,Sn.prototype=(0,p.default)(bn.prototype),Sn.prototype.constructor=Sn,An.prototype=(0,p.default)(pe.prototype),An.prototype.constructor=An,Tn.prototype=(0,p.default)(bn.prototype),Tn.prototype.constructor=Tn,Ln.prototype=(0,p.default)(pe.prototype),Ln.prototype.constructor=Ln,Pn.prototype=(0,p.default)(bn.prototype),Pn.prototype.constructor=Pn,Cn.prototype=(0,p.default)(pe.prototype),Cn.prototype.constructor=Cn,En.prototype=(0,p.default)(Te.prototype),En.prototype.constructor=En,En.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},In.prototype=(0,p.default)(pe.prototype),In.prototype.constructor=In,Dn.prototype=(0,p.default)(Te.prototype),Dn.prototype.constructor=Dn,Bn.prototype=(0,p.default)(pe.prototype),Bn.prototype.constructor=Bn,On.prototype=(0,p.default)(Te.prototype),On.prototype.constructor=On;var zn=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=Nn(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=Nn(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Xn(o));for(s.sort(Wn),n=0;n<s.length;n++)Hn(s[n],i),i=Rn(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return Fn(p,d,i,r,n,l),d};function Nn(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=ta(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=ta(a,t[a],t[a+1],o);return o&&Zn(o,o.next)&&(ea(o),o=o.next),o}function Rn(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Zn(r,r.next)&&0!==Jn(r.prev,r,r.next))r=r.next;else{if(ea(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Fn(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=jn(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?kn(t,r,n,a):Un(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),ea(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?Fn(t=Gn(t,e,i),e,i,r,n,a,2):2===o&&Vn(t,e,i,r,n,a):Fn(Rn(t),e,i,r,n,a,1);break}}}function Un(t){var e=t.prev,i=t,r=t.next;if(Jn(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(qn(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Jn(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function kn(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Jn(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=jn(s,u,e,i,r),p=jn(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Gn(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Zn(n,a)&&Qn(n,r,r.next,a)&&Kn(n,a)&&Kn(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),ea(r),ea(r.next),r=t=a),r=r.next}while(r!==t);return r}function Vn(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yn(o,s)){var u=$n(o,s);return o=Rn(o,o.next),u=Rn(u,u.next),Fn(o,e,i,r,n,a),void Fn(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function Wn(t,e){return t.x-e.x}function Hn(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&qn(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Kn(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=$n(e,t);Rn(i,i.next)}}function jn(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Xn(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function qn(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Yn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Qn(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Kn(t,e)&&Kn(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Jn(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Zn(t,e){return t.x===e.x&&t.y===e.y}function Qn(t,e,i,r){return!!(Zn(t,e)&&Zn(i,r)||Zn(t,r)&&Zn(i,e))||Jn(t,e,i)>0!=Jn(t,e,r)>0&&Jn(i,r,t)>0!=Jn(i,r,e)>0}function Kn(t,e){return Jn(t.prev,t,t.next)<0?Jn(t,e,t.next)>=0&&Jn(t,t.prev,e)>=0:Jn(t,e,t.prev)<0||Jn(t,t.next,e)<0}function $n(t,e){var i=new ia(t.i,t.x,t.y),r=new ia(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function ta(t,e,i,r){var n=new ia(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function ea(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ia(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ra={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return ra.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];na(t),aa(i,t);var a=t.length;e.forEach(na);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,aa(i,e[o]);var s=zn(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function na(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aa(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function oa(t,e){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new sa(t,e)),this.mergeVertices()}function sa(t,e){Te.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:ua;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ht,w=new ht,_=new ht),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!ra.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],ra.isClockWise(M)&&(C[S]=M.reverse());var E=ra.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new ut(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new ut(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new we(r,3)),this.addAttribute("uv",new we(n,2)),this.computeVertexNormals()}oa.prototype=(0,p.default)(pe.prototype),oa.prototype.constructor=oa,oa.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)},sa.prototype=(0,p.default)(Te.prototype),sa.prototype.constructor=sa,sa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)};var ua={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new ut(a,o),new ut(s,u),new ut(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new ut(o,1-u),new ut(l,1-c),new ut(p,1-f),new ut(m,1-g)]:[new ut(s,1-u),new ut(h,1-c),new ut(d,1-f),new ut(v,1-g)]}};function la(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function ha(t,e){pe.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ca(t,e)),this.mergeVertices()}function ca(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new pe;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),sa.call(this,r,e),this.type="TextBufferGeometry"}function pa(t,e,i,r,n,a,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new da(t,e,i,r,n,a,o)),this.mergeVertices()}function da(t,e,i,r,n,a,o){Te.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ht,d=new ht,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}function fa(t,e,i,r,n,a){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new ma(t,e,i,r,n,a)),this.mergeVertices()}function ma(t,e,i,r,n,a){Te.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ht,v=new ut;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function va(t,e,i,r){pe.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new ga(t,e,i,r)),this.mergeVertices()}function ga(t,e,i,r){Te.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=st.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ht,p=new ut;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ht,_=new ht,M=new ht;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function ya(t,e){pe.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new xa(t,e)),this.mergeVertices()}function xa(t,e){Te.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===ra.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===ra.isClockWise(l)&&(d[o]=l.reverse());var f=ra.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(n,3)),this.addAttribute("uv",new we(a,2))}function ba(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function wa(t,e){Te.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(st.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new pe).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function _a(t,e,i,r,n,a,o,s){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ma(t,e,i,r,n,a,o,s)),this.mergeVertices()}function Ma(t,e,i,r,n,a,o,s){Te.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new ut,y=new ht,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ht,x=new ht,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function Sa(t,e,i,r,n,a,o){_a.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Aa(t,e,i,r,n,a,o){Ma.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Ta(t,e,i,r){pe.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new La(t,e,i,r)),this.mergeVertices()}function La(t,e,i,r){Te.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ht,c=new ut;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new we(s,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(l,2))}ha.prototype=(0,p.default)(pe.prototype),ha.prototype.constructor=ha,ca.prototype=(0,p.default)(sa.prototype),ca.prototype.constructor=ca,pa.prototype=(0,p.default)(pe.prototype),pa.prototype.constructor=pa,da.prototype=(0,p.default)(Te.prototype),da.prototype.constructor=da,fa.prototype=(0,p.default)(pe.prototype),fa.prototype.constructor=fa,ma.prototype=(0,p.default)(Te.prototype),ma.prototype.constructor=ma,va.prototype=(0,p.default)(pe.prototype),va.prototype.constructor=va,ga.prototype=(0,p.default)(Te.prototype),ga.prototype.constructor=ga,ya.prototype=(0,p.default)(pe.prototype),ya.prototype.constructor=ya,ya.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},xa.prototype=(0,p.default)(Te.prototype),xa.prototype.constructor=xa,xa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},wa.prototype=(0,p.default)(Te.prototype),wa.prototype.constructor=wa,_a.prototype=(0,p.default)(pe.prototype),_a.prototype.constructor=_a,Ma.prototype=(0,p.default)(Te.prototype),Ma.prototype.constructor=Ma,Sa.prototype=(0,p.default)(_a.prototype),Sa.prototype.constructor=Sa,Aa.prototype=(0,p.default)(Ma.prototype),Aa.prototype.constructor=Aa,Ta.prototype=(0,p.default)(pe.prototype),Ta.prototype.constructor=Ta,La.prototype=(0,p.default)(Te.prototype),La.prototype.constructor=La;var Pa=(0,u.default)({WireframeGeometry:vn,ParametricGeometry:gn,ParametricBufferGeometry:yn,TetrahedronGeometry:wn,TetrahedronBufferGeometry:_n,OctahedronGeometry:Mn,OctahedronBufferGeometry:Sn,IcosahedronGeometry:An,IcosahedronBufferGeometry:Tn,DodecahedronGeometry:Ln,DodecahedronBufferGeometry:Pn,PolyhedronGeometry:xn,PolyhedronBufferGeometry:bn,TubeGeometry:Cn,TubeBufferGeometry:En,TorusKnotGeometry:In,TorusKnotBufferGeometry:Dn,TorusGeometry:Bn,TorusBufferGeometry:On,TextGeometry:ha,TextBufferGeometry:ca,SphereGeometry:pa,SphereBufferGeometry:da,RingGeometry:fa,RingBufferGeometry:ma,PlaneGeometry:Ce,PlaneBufferGeometry:Ee,LatheGeometry:va,LatheBufferGeometry:ga,ShapeGeometry:ya,ShapeBufferGeometry:xa,ExtrudeGeometry:oa,ExtrudeBufferGeometry:sa,EdgesGeometry:wa,ConeGeometry:Sa,ConeBufferGeometry:Aa,CylinderGeometry:_a,CylinderBufferGeometry:Ma,CircleGeometry:Ta,CircleBufferGeometry:La,BoxGeometry:Le,BoxBufferGeometry:Pe});function Ca(t){He.call(this),this.type="ShadowMaterial",this.color=new qt(0),this.transparent=!0,this.setValues(t)}function Ea(t){je.call(this,t),this.type="RawShaderMaterial"}function Ia(t){He.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qt(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Da(t){Ia.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ba(t){He.call(this),this.type="MeshPhongMaterial",this.color=new qt(16777215),this.specular=new qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ba.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function za(t){He.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Na(t){He.call(this),this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ra(t){He.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Fa(t){on.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ca.prototype=(0,p.default)(He.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isShadowMaterial=!0,Ca.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this},Ea.prototype=(0,p.default)(je.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isRawShaderMaterial=!0,Ia.prototype=(0,p.default)(He.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isMeshStandardMaterial=!0,Ia.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Da.prototype=(0,p.default)(Ia.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshPhysicalMaterial=!0,Da.prototype.copy=function(t){return Ia.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Ba.prototype=(0,p.default)(He.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isMeshPhongMaterial=!0,Ba.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Oa.prototype=(0,p.default)(Ba.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(t){return Ba.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},za.prototype=(0,p.default)(He.prototype),za.prototype.constructor=za,za.prototype.isMeshNormalMaterial=!0,za.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Na.prototype=(0,p.default)(He.prototype),Na.prototype.constructor=Na,Na.prototype.isMeshLambertMaterial=!0,Na.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ra.prototype=(0,p.default)(He.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isMeshMatcapMaterial=!0,Ra.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Fa.prototype=(0,p.default)(on.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineDashedMaterial=!0,Fa.prototype.copy=function(t){return on.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ua=(0,u.default)({ShadowMaterial:Ca,SpriteMaterial:$r,RawShaderMaterial:Ea,ShaderMaterial:je,PointsMaterial:hn,MeshPhysicalMaterial:Da,MeshStandardMaterial:Ia,MeshPhongMaterial:Ba,MeshToonMaterial:Oa,MeshNormalMaterial:za,MeshLambertMaterial:Na,MeshDepthMaterial:Tr,MeshDistanceMaterial:Lr,MeshBasicMaterial:Ye,MeshMatcapMaterial:Ra,LineDashedMaterial:Fa,LineBasicMaterial:on,Material:He}),ka={arraySlice:function(t,e,i){return ka.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function Ga(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Va(t,e,i,r){Ga.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wa(t,e,i,r){Ga.call(this,t,e,i,r)}function Ha(t,e,i,r){Ga.call(this,t,e,i,r)}function ja(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ka.convertArray(e,this.TimeBufferType),this.values=ka.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Xa(t,e,i){ja.call(this,t,e,i)}function qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ya(t,e,i,r){ja.call(this,t,e,i,r)}function Ja(t,e,i,r){Ga.call(this,t,e,i,r)}function Za(t,e,i,r){ja.call(this,t,e,i,r)}function Qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ka(t,e,i,r){ja.call(this,t,e,i,r)}function $a(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=st.generateUUID(),this.duration<0&&this.resetDuration()}function to(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ya;case"vector":case"vector2":case"vector3":case"vector4":return Ka;case"color":return qa;case"quaternion":return Za;case"bool":case"boolean":return Xa;case"string":return Qa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];ka.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(Ga.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(Ga.prototype,{beforeStart_:Ga.prototype.copySampleValue_,afterEnd_:Ga.prototype.copySampleValue_}),Va.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Va,DefaultSettings_:{endingStart:it,endingEnd:it},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case rt:n=t,o=2*e-i;break;case nt:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case rt:a=t,s=2*i-e;break;case nt:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),Wa.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Wa,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ha.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ha,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(ja,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:ka.convertArray(t.times,Array),values:ka.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(ja.prototype,{constructor:ja,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:tt,InterpolantFactoryMethodDiscrete:function(t){return new Ha(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Wa(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Va(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case $:e=this.InterpolantFactoryMethodDiscrete;break;case tt:e=this.InterpolantFactoryMethodLinear;break;case et:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $;case this.InterpolantFactoryMethodLinear:return tt;case this.InterpolantFactoryMethodSmooth:return et}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ka.arraySlice(i,n,a),this.values=ka.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&ka.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===et,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=ka.arraySlice(t,0,n),this.values=ka.arraySlice(e,0,n*i)),this},clone:function(){var t=ka.arraySlice(this.times,0),e=ka.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),Xa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Xa,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:qa,ValueTypeName:"color"}),Ya.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ya,ValueTypeName:"number"}),Ja.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ja,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)lt.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Za.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Za,ValueTypeName:"quaternion",DefaultInterpolation:tt,InterpolantFactoryMethodLinear:function(t){return new Ja(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Qa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ka.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ka,ValueTypeName:"vector"}),(0,f.default)($a,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(to(i[n]).scale(r));return new $a(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(ja.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=ka.getKeyframeOrder(s);s=ka.sortedArray(s,1,l),u=ka.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ya(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new $a(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push($a.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];ka.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ya(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Ka,g+".position",l,"pos",r),i(Za,g+".quaternion",l,"rot",r),i(Ka,g+".scale",l,"scl",r)}}return 0===r.length?null:new $a(n,a,r)}}),(0,f.default)($a.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new $a(this.name,this.duration,t)}});var eo={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function io(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var ro=new io,no={};function ao(t){this.manager=void 0!==t?t:ro}function oo(t){this.manager=void 0!==t?t:ro}function so(t){this.manager=void 0!==t?t:ro,this._parser=null}function uo(t){this.manager=void 0!==t?t:ro,this._parser=null}function lo(t){this.manager=void 0!==t?t:ro}function ho(t){this.manager=void 0!==t?t:ro}function co(t){this.manager=void 0!==t?t:ro}function po(){this.type="Curve",this.arcLengthDivisions=200}function fo(t,e,i,r,n,a,o,s){po.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function mo(t,e,i,r,n,a){fo.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function vo(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(ao.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===no[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{no[t]=[],no[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;eo.add(t,i);var r=no[t];if(delete no[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=no[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}no[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(oo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=$a.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(so.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new dn;o.image=a;var s=new ao(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(uo.prototype,{load:function(t,e,i,r){var n=this,a=new Bt,o=new ao(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:L,a.wrapT=void 0!==i.wrapT?i.wrapT:L,a.magFilter=void 0!==i.magFilter?i.magFilter:D,a.minFilter=void 0!==i.minFilter?i.minFilter:O,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=D),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(lo.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),eo.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(ho.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new si,a=new lo(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(co.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Pt,a=new lo(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?G:V,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(po.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ht,o=[],s=[],u=[],l=new ht,h=new Ft;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ht,u[0]=new ht;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(st.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(st.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),fo.prototype=(0,p.default)(po.prototype),fo.prototype.constructor=fo,fo.prototype.isEllipseCurve=!0,fo.prototype.getPoint=function(t,e){for(var i=e||new ut,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},fo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},fo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},fo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},mo.prototype=(0,p.default)(fo.prototype),mo.prototype.constructor=mo,mo.prototype.isArcCurve=!0;var go=new ht,yo=new vo,xo=new vo,bo=new vo;function wo(t,e,i,r){po.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function _o(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function Mo(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function So(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function Ao(t,e,i,r){po.call(this),this.type="CubicBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut,this.v3=r||new ut}function To(t,e,i,r){po.call(this),this.type="CubicBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht,this.v3=r||new ht}function Lo(t,e){po.call(this),this.type="LineCurve",this.v1=t||new ut,this.v2=e||new ut}function Po(t,e){po.call(this),this.type="LineCurve3",this.v1=t||new ht,this.v2=e||new ht}function Co(t,e,i){po.call(this),this.type="QuadraticBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut}function Eo(t,e,i){po.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht}function Io(t){po.call(this),this.type="SplineCurve",this.points=t||[]}wo.prototype=(0,p.default)(po.prototype),wo.prototype.constructor=wo,wo.prototype.isCatmullRomCurve3=!0,wo.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ht,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(go.subVectors(s[0],s[1]).add(s[0]),i=go),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(go.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=go),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),yo.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),xo.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),bo.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(yo.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),xo.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),bo.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(yo.calc(c),xo.calc(c),bo.calc(c)),o},wo.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},wo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},wo.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ht).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ao.prototype=(0,p.default)(po.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isCubicBezierCurve=!0,Ao.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y)),i},Ao.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ao.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ao.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},To.prototype=(0,p.default)(po.prototype),To.prototype.constructor=To,To.prototype.isCubicBezierCurve3=!0,To.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y),So(t,r.z,n.z,a.z,o.z)),i},To.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},To.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},To.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Lo.prototype=(0,p.default)(po.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isLineCurve=!0,Lo.prototype.getPoint=function(t,e){var i=e||new ut;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Lo.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Lo.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Lo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Lo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Lo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Po.prototype=(0,p.default)(po.prototype),Po.prototype.constructor=Po,Po.prototype.isLineCurve3=!0,Po.prototype.getPoint=function(t,e){var i=e||new ht;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Po.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Po.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Po.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Po.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Co.prototype=(0,p.default)(po.prototype),Co.prototype.constructor=Co,Co.prototype.isQuadraticBezierCurve=!0,Co.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y)),i},Co.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Co.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Co.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Eo.prototype=(0,p.default)(po.prototype),Eo.prototype.constructor=Eo,Eo.prototype.isQuadraticBezierCurve3=!0,Eo.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y),Mo(t,r.z,n.z,a.z)),i},Eo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Eo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Eo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Io.prototype=(0,p.default)(po.prototype),Io.prototype.constructor=Io,Io.prototype.isSplineCurve=!0,Io.prototype.getPoint=function(t,e){var i=e||new ut,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(_o(o,s.x,u.x,l.x,h.x),_o(o,s.y,u.y,l.y,h.y)),i},Io.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},Io.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},Io.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ut).fromArray(r))}return this};var Do=(0,u.default)({ArcCurve:mo,CatmullRomCurve3:wo,CubicBezierCurve:Ao,CubicBezierCurve3:To,EllipseCurve:fo,LineCurve:Lo,LineCurve3:Po,QuadraticBezierCurve:Co,QuadraticBezierCurve3:Eo,SplineCurve:Io});function Bo(){po.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Oo(t){Bo.call(this),this.type="Path",this.currentPoint=new ut,t&&this.setFromPoints(t)}function zo(t){Oo.call(this,t),this.uuid=st.generateUUID(),this.type="Shape",this.holes=[]}function No(t,e){ue.call(this),this.type="Light",this.color=new qt(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ro(t,e,i){No.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ue.DefaultUp),this.updateMatrix(),this.groundColor=new qt(e)}function Fo(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ut(512,512),this.map=null,this.matrix=new Ft}function Uo(){Fo.call(this,new Or(50,1,.5,500))}function ko(t,e,i,r,n,a){No.call(this,t,e),this.type="SpotLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new Uo}function Go(t,e,i,r){No.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new Fo(new Or(90,1,.5,500))}function Vo(t,e,i,r,n,a){Br.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Wo(){Fo.call(this,new Vo(-5,5,5,-5,.5,500))}function Ho(t,e){No.call(this,t,e),this.type="DirectionalLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,this.shadow=new Wo}function jo(t,e){No.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Xo(t,e,i,r){No.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function qo(t){this.manager=void 0!==t?t:ro,this.textures={}}Bo.prototype=(0,f.default)((0,p.default)(po.prototype),{constructor:Bo,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Lo(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){po.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=po.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){po.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new Do[r.type]).fromJSON(r))}return this}}),Oo.prototype=(0,f.default)((0,p.default)(Bo.prototype),{constructor:Oo,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new Lo(this.currentPoint.clone(),new ut(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new Co(this.currentPoint.clone(),new ut(t,e),new ut(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new Ao(this.currentPoint.clone(),new ut(t,e),new ut(i,r),new ut(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new Io([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new fo(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return Bo.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Bo.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Bo.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),zo.prototype=(0,f.default)((0,p.default)(Oo.prototype),{constructor:zo,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Oo.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=Oo.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){Oo.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new Oo).fromJSON(r))}return this}}),No.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:No,isLight:!0,copy:function(t){return ue.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ro.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ro,isHemisphereLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(Fo.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Uo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Uo,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*st.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),ko.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:ko,isSpotLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Go.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Go,isPointLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Vo.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Vo,isOrthographicCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),Wo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Wo}),Ho.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ho,isDirectionalLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),jo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:jo,isAmbientLight:!0}),Xo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Xo,isRectAreaLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=No.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new Ua[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new qt).setHex(a.value);break;case"v2":r.uniforms[n].value=(new ut).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ht).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new Ct).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new ct).fromArray(a.value);case"m4":r.uniforms[n].value=(new Ft).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new ut).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Yo={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Jo(){Te.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Zo(t,e,i,r){"number"==typeof i&&(r=i,i=!1),de.call(this,t,e,i),this.meshPerAttribute=r||1}function Qo(t){this.manager=void 0!==t?t:ro}Jo.prototype=(0,f.default)((0,p.default)(Te.prototype),{constructor:Jo,isInstancedBufferGeometry:!0,copy:function(t){return Te.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Te.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Zo.prototype=(0,f.default)((0,p.default)(de.prototype),{constructor:Zo,isInstancedBufferAttribute:!0,copy:function(t){return de.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=de.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Jo:new Te,i=t.data.index;if(void 0!==i){var r=new Ko[i.type](i.array);e.setIndex(new de(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Ko[o.type](o.array),new(o.isInstancedBufferAttribute?Zo:de)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new de(r=new Ko[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ht;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new zt(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Ko={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function $o(t){this.manager=void 0!==t?t:ro,this.resourcePath=""}(0,f.default)($o.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Yo.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new ao(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new zo).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Qo,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Pa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Pa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Pa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Pa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Pa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Pa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Pa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Pa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Pa[s.type]((new Do[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Pa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Pa[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new Pa[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new Do[p.type]).fromJSON(p)),o=new Pa[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new qo;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=$a.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new lo(new io(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new si(e[s.image]):new Pt(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,as)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],os),o.wrapT=i(s.wrap[1],os)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,ss)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,ss)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Zr,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new qt(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Jr(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Yr(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Or(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new Vo(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new jo(t.color,t.intensity);break;case"DirectionalLight":r=new Ho(t.color,t.intensity);break;case"PointLight":r=new Go(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Xo(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ko(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Ro(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new rn(o,s):new Je(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new en;break;case"Line":r=new sn(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new ln(n(t.geometry),a(t.material));break;case"LineSegments":r=new un(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new cn(n(t.geometry),a(t.material));break;case"Sprite":r=new tn(a(t.material));break;case"Group":r=new Dr;break;default:r=new ue}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var ts,es,is,rs,ns,as={UVMapping:b,CubeReflectionMapping:w,CubeRefractionMapping:_,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:M,SphericalReflectionMapping:305,CubeUVReflectionMapping:S,CubeUVRefractionMapping:A},os={RepeatWrapping:T,ClampToEdgeWrapping:L,MirroredRepeatWrapping:P},ss={NearestFilter:C,NearestMipMapNearestFilter:E,NearestMipMapLinearFilter:I,LinearFilter:D,LinearMipMapNearestFilter:B,LinearMipMapLinearFilter:O};function us(t){this.manager=void 0!==t?t:ro,this.options=void 0}function ls(){this.type="ShapePath",this.color=new qt,this.subPaths=[],this.currentPath=null}function hs(t){this.type="Font",this.data=t}function cs(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new ls;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function ps(t){this.manager=void 0!==t?t:ro}function ds(){}us.prototype={constructor:us,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){eo.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(ls.prototype,{moveTo:function(t,e){this.currentPath=new Oo,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new zo;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=ra.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new zo).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new zo,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(hs.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=cs(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(ps.prototype,{load:function(t,e,i,r){var n=this,a=new ao(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new hs(t)},setPath:function(t){return this.path=t,this}}),ds.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ds.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(ts={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},es=new qt,is=new co,rs=new qo,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ds.Handlers.get(l);null!==h?u=h.load(l):(is.setCrossOrigin(i),u=is.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=T),1!==n[1]&&(u.wrapT=T)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=T),"mirror"===o[0]&&(u.wrapS=P),"repeat"===o[1]&&(u.wrapT=T),"mirror"===o[1]&&(u.wrapT=P)),void 0!==s&&(u.anisotropy=s);var c=st.generateUUID();return r[c]=u,c}var a={uuid:st.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=ts[s];break;case"colorDiffuse":a.color=es.fromArray(s).getHex();break;case"colorSpecular":a.specular=es.fromArray(s).getHex();break;case"colorEmissive":a.emissive=es.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=1;break;case"doubleSided":a.side=2;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=2),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),rs.setTextures(r),rs.parse(a)})});var fs={getContext:function(){return void 0===ns&&(ns=new(window.AudioContext||window.webkitAudioContext)),ns},setContext:function(t){ns=t}};function ms(t){this.manager=void 0!==t?t:ro}function vs(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ht)}function gs(t,e){No.call(this,void 0,e),this.sh=void 0!==t?t:new vs}function ys(t,e,i){gs.call(this,void 0,i);var r=(new qt).set(t),n=(new qt).set(e),a=new ht(r.r,r.g,r.b),o=new ht(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function xs(t,e){gs.call(this,void 0,e);var i=(new qt).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function bs(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(ms.prototype,{load:function(t,e,i,r){var n=new ao(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);fs.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(vs.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(vs,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),gs.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:gs,isLightProbe:!0,copy:function(t){return No.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return No.prototype.toJSON.call(this,t)}}),ys.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:ys,isHemisphereLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),xs.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:xs,isAmbientLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),(0,f.default)(bs.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new Ft,l=new Ft;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(st.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var ws=90;function _s(t,e,i,r){ue.call(this),this.type="CubeCamera";var n=new Or(ws,1,t,e);n.up.set(0,-1,0),n.lookAt(new ht(1,0,0)),this.add(n);var a=new Or(ws,1,t,e);a.up.set(0,-1,0),a.lookAt(new ht(-1,0,0)),this.add(a);var o=new Or(ws,1,t,e);o.up.set(0,0,1),o.lookAt(new ht(0,1,0)),this.add(o);var s=new Or(ws,1,t,e);s.up.set(0,0,-1),s.lookAt(new ht(0,-1,0)),this.add(s);var u=new Or(ws,1,t,e);u.up.set(0,-1,0),u.lookAt(new ht(0,0,1)),this.add(u);var l=new Or(ws,1,t,e);l.up.set(0,-1,0),l.lookAt(new ht(0,0,-1)),this.add(l),r=r||{format:G,magFilter:D,minFilter:D},this.renderTarget=new Dt(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function Ms(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ss(){ue.call(this),this.type="AudioListener",this.context=fs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function As(t){ue.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ts(t){As.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Ls(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ps(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}_s.prototype=(0,p.default)(ue.prototype),_s.prototype.constructor=_s,(0,f.default)(Ms.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Ss.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Ss,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht,n=new Ms;return function(a){ue.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),As.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:As,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Ts.prototype=(0,f.default)((0,p.default)(As.prototype),{constructor:Ts,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht;return function(n){if(ue.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(Ls.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(Ps.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){lt.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var Cs,Es,Is,Ds,Bs,Os,zs,Ns,Rs,Fs,Us,ks,Gs,Vs,Ws,Hs="\\[\\]\\.:\\/";function js(t,e,i){var r=i||Xs.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Xs(t,e,i){this.path=e,this.parsedPath=i||Xs.parseTrackName(e),this.node=Xs.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function qs(){this.uuid=st.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ys(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:it,endingEnd:it},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Js(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Zs(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Qs(t,e,i){Qr.call(this,t,e),this.meshPerAttribute=i||1}function Ks(t,e,i,r){this.ray=new Xe(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function $s(t,e){return t.distance-e.distance}function tu(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)tu(n[a],e,i,!0)}function eu(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function iu(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function ru(t,e){this.min=void 0!==t?t:new ut(1/0,1/0),this.max=void 0!==e?e:new ut(-1/0,-1/0)}function nu(t,e){this.start=void 0!==t?t:new ht,this.end=void 0!==e?e:new ht}function au(t){ue.call(this),this.material=t,this.render=function(){}}function ou(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function su(t,e){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new Te,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new we(r,3));var u=new on({fog:!1});this.cone=new un(i,u),this.add(this.cone),this.update()}function uu(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,uu(t.children[i]));return e}function lu(t){for(var e=uu(t),i=new Te,r=[],n=[],a=new qt(0,0,1),o=new qt(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new we(r,3)),i.addAttribute("color",new we(n,3));var l=new on({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});un.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function hu(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new da(e,4,2),n=new Ye({wireframe:!0,fog:!1});Je.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function cu(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new Te;i.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new on({fog:!1});sn.call(this,i,r);var n=new Te;n.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Je(n,new Ye({side:1,fog:!1}))),this.update()}function pu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new Sn(e);r.rotateY(.5*Math.PI),this.material=new Ye({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new de(a,3)),this.add(new Je(r,this.material)),this.update()}function du(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new je({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new da(1,32,16);Je.call(this,n,r),this.onBeforeRender()}function fu(t,e,i,r){t=t||10,e=e||10,i=new qt(void 0!==i?i:4473924),r=new qt(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new Te;d.addAttribute("position",new we(s,3)),d.addAttribute("color",new we(u,3));var f=new on({vertexColors:2});un.call(this,d,f)}function mu(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new qt(void 0!==n?n:4473924),a=new qt(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new Te;m.addAttribute("position",new we(d,3)),m.addAttribute("color",new we(f,3));var v=new on({vertexColors:2});un.call(this,m,v)}function vu(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new Te,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new de(o,3));var s=new on({color:65280}),u=new on({color:16776960});sn.call(this,n,[u,s]),this.update()}function gu(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function yu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new Te;r.addAttribute("position",new we([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new on({fog:!1});this.lightPlane=new sn(r,n),this.add(this.lightPlane),(r=new Te).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new sn(r,n),this.add(this.targetLine),this.update()}function xu(t){var e=new Te,i=new on({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new qt(16755200),s=new qt(16711680),u=new qt(43775),l=new qt(16777215),h=new qt(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new we(r,3)),e.addAttribute("color",new we(n,3)),un.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function bu(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new Te;n.setIndex(new de(i,1)),n.addAttribute("position",new de(r,3)),un.call(this,n,new on({color:e})),this.matrixAutoUpdate=!1,this.update()}function wu(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Te;n.setIndex(new de(r,1)),n.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),un.call(this,n,new on({color:i})),this.geometry.computeBoundingSphere()}function _u(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new Te;n.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),sn.call(this,n,new on({color:r}));var a=new Te;a.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Je(a,new Ye({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Mu(t,e,i,r,n,a){ue.call(this),void 0===t&&(t=new ht(0,0,1)),void 0===e&&(e=new ht(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===ks&&((ks=new Te).addAttribute("position",new we([0,0,0,0,1,0],3)),(Gs=new Ma(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new sn(ks,new on({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Je(Gs,new Ye({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function Su(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Te;i.addAttribute("position",new we(e,3)),i.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new on({vertexColors:2});un.call(this,i,r)}function Au(t){wo.call(this,t),this.type="catmullrom",this.closed=!0}function Tu(t){wo.call(this,t),this.type="catmullrom"}function Lu(t){wo.call(this,t),this.type="catmullrom"}(0,f.default)(js.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Xs,{Composite:js,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Xs.Composite(t,e,i):new Xs(t,e,i)},sanitizeNodeName:(Rs=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(Rs,"")}),parseTrackName:(Cs="[^\\[\\]\\.:\\/]",Es="[^"+Hs.replace("\\.","")+"]",Is=/((?:WC+[\/:])*)/.source.replace("WC",Cs),Ds=/(WCOD+)?/.source.replace("WCOD",Es),Bs=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Cs),Os=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Cs),zs=new RegExp("^"+Is+Ds+Bs+Os+"$"),Ns=["material","materials","bones"],function(t){var e=zs.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==Ns.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Xs.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Xs.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Xs.prototype,{_getValue_unbound:Xs.prototype.getValue,_setValue_unbound:Xs.prototype.setValue}),(0,f.default)(qs.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Xs(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Xs(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,h=r[l];if(void 0!==h)if(delete r[l],h<i){var c=--i,p=t[c],d=t[y=--e];r[p.uuid]=h,t[h]=p,r[d.uuid]=c,t[c]=d,t.pop();for(var f=0,m=a;f!==m;++f){var v=(x=n[f])[c],g=x[y];x[h]=v,x[c]=g,x.pop()}}else{var y;for(r[(d=t[y=--e]).uuid]=h,t[h]=d,t.pop(),f=0,m=a;f!==m;++f){var x;(x=n[f])[h]=x[y],x.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Xs(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Ys.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=rt,r.endingEnd=rt):(r.endingStart=t?this.zeroSlopeAtStart?rt:it:nt,r.endingEnd=e?this.zeroSlopeAtEnd?rt:it:nt)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Js.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Js,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new Ps(Xs.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new Wa(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Ys(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Zs.prototype.clone=function(){return new Zs(void 0===this.value.clone?this.value:this.value.clone())},Qs.prototype=(0,f.default)((0,p.default)(Qr.prototype),{constructor:Qs,isInstancedInterleavedBuffer:!0,copy:function(t){return Qr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(Ks.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return tu(t,this,r,e),r.sort($s),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)tu(t[n],this,r,e);return r.sort($s),r}}),(0,f.default)(eu.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(st.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(iu.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(ru.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ut;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new ut),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new ut),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ut;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(nu.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ht),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ht),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ht),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Fs=new ht,Us=new ht,function(t,e){Fs.subVectors(t,this.start),Us.subVectors(this.end,this.start);var i=Us.dot(Us),r=Us.dot(Fs)/i;return e&&(r=st.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ht),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),au.prototype=(0,p.default)(ue.prototype),au.prototype.constructor=au,au.prototype.isImmediateRenderObject=!0,ou.prototype=(0,p.default)(un.prototype),ou.prototype.constructor=ou,ou.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),su.prototype=(0,p.default)(ue.prototype),su.prototype.constructor=su,su.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},su.prototype.update=function(){var t=new ht;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),lu.prototype=(0,p.default)(un.prototype),lu.prototype.constructor=lu,lu.prototype.updateMatrixWorld=function(){var t=new ht,e=new Ft,i=new Ft;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,ue.prototype.updateMatrixWorld.call(this,r)}}(),hu.prototype=(0,p.default)(Je.prototype),hu.prototype.constructor=hu,hu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},hu.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},cu.prototype=(0,p.default)(sn.prototype),cu.prototype.constructor=cu,cu.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},cu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype=(0,p.default)(ue.prototype),pu.prototype.constructor=pu,pu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype.update=function(){var t=new ht,e=new qt,i=new qt;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),du.prototype=(0,p.default)(Je.prototype),du.prototype.constructor=du,du.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},du.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},fu.prototype=(0,f.default)((0,p.default)(un.prototype),{constructor:fu,copy:function(t){return un.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),mu.prototype=(0,p.default)(un.prototype),mu.prototype.constructor=mu,vu.prototype=(0,p.default)(sn.prototype),vu.prototype.constructor=vu,vu.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=st.degToRad(i.panner.coneInnerAngle),s=st.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},vu.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},gu.prototype=(0,p.default)(un.prototype),gu.prototype.constructor=gu,gu.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),yu.prototype=(0,p.default)(ue.prototype),yu.prototype.constructor=yu,yu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},yu.prototype.update=function(){var t=new ht,e=new ht,i=new ht;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),xu.prototype=(0,p.default)(un.prototype),xu.prototype.constructor=xu,xu.prototype.update=function(){var t,e,i=new ht,r=new Br;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),bu.prototype=(0,p.default)(un.prototype),bu.prototype.constructor=bu,bu.prototype.update=function(){var t=new Ot;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),bu.prototype.setFromObject=function(t){return this.object=t,this.update(),this},bu.prototype.copy=function(t){return un.prototype.copy.call(this,t),this.object=t.object,this},bu.prototype.clone=function(){return(new this.constructor).copy(this)},wu.prototype=(0,p.default)(un.prototype),wu.prototype.constructor=wu,wu.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ue.prototype.updateMatrixWorld.call(this,t))},_u.prototype=(0,p.default)(sn.prototype),_u.prototype.constructor=_u,_u.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),ue.prototype.updateMatrixWorld.call(this,t)},Mu.prototype=(0,p.default)(ue.prototype),Mu.prototype.constructor=Mu,Mu.prototype.setDirection=(Ws=new ht,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Ws.set(t.z,0,-t.x).normalize(),Vs=Math.acos(t.y),this.quaternion.setFromAxisAngle(Ws,Vs))}),Mu.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Mu.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Mu.prototype.copy=function(t){return ue.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Mu.prototype.clone=function(){return(new this.constructor).copy(this)},Su.prototype=(0,p.default)(un.prototype),Su.prototype.constructor=Su,po.create=function(t,e){return t.prototype=(0,p.default)(po.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(Bo.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new pe,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ht(n.x,n.y,n.z||0))}return e}}),(0,f.default)(Oo.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),Au.prototype=(0,p.default)(wo.prototype),Tu.prototype=(0,p.default)(wo.prototype),Lu.prototype=(0,p.default)(wo.prototype),(0,f.default)(Lu.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),fu.prototype.setColors=function(){},lu.prototype.update=function(){},(0,f.default)(ds.prototype,{extractUrlBase:function(t){return Yo.extractUrlBase(t)}}),(0,f.default)($o.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(ru.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(Ot.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),nu.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(st,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return st.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return st.ceilPowerOfTwo(t)}}),(0,f.default)(ct.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(Ft.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ht),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),Nt.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},lt.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Xe.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(qe.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(qe,{barycoordFromPoint:function(t,e,i,r,n){return qe.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return qe.getNormal(t,e,i,r)}}),(0,f.default)(zo.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new oa(this,t)},makeGeometry:function(t){return new ya(this,t)}}),(0,f.default)(ut.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ht.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Ct.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(pe.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(ue.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(ue.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(en.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(nn.prototype,"useVertexTexture",{get:function(){},set:function(){}}),rn.prototype.initBones=function(){},Object.defineProperty(po.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),Or.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(No.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(de.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(Te.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(Te.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(sa.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Zs.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(He.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new qt}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(Ba.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(je.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(qr.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(qr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(Pr.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(Dt.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(Et.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(jr.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),As.prototype.load=function(t){var e=this;return(new ms).load(t,(function(t){e.setBuffer(t)})),this},Ls.prototype.getData=function(){return this.getFrequencyData()},_s.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var Pu={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};Tt.crossOrigin=void 0,Tt.loadTexture=function(t,e,i,r){var n=new co;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadTextureCube=function(t,e,i,r){var n=new ho;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadCompressedTexture=function(){},Tt.loadCompressedTextureCube=function(){};var Cu={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=5,t.AddEquation=a,t.AddOperation=2,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AmbientLight=jo,t.AmbientLightProbe=xs,t.AnimationClip=$a,t.AnimationLoader=oo,t.AnimationMixer=Js,t.AnimationObjectGroup=qs,t.AnimationUtils=ka,t.ArcCurve=mo,t.ArrayCamera=zr,t.ArrowHelper=Mu,t.Audio=As,t.AudioAnalyser=Ls,t.AudioContext=fs,t.AudioListener=Ss,t.AudioLoader=ms,t.AxesHelper=Su,t.AxisHelper=function(t){return new Su(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new uo(t)},t.Bone=an,t.BooleanKeyframeTrack=Xa,t.BoundingBoxHelper=function(t,e){return new bu(t,e)},t.Box2=ru,t.Box3=Ot,t.Box3Helper=wu,t.BoxBufferGeometry=Pe,t.BoxGeometry=Le,t.BoxHelper=bu,t.BufferAttribute=de,t.BufferGeometry=Te,t.BufferGeometryLoader=Qo,t.ByteType=1010,t.Cache=eo,t.Camera=Br,t.CameraHelper=xu,t.CanvasRenderer=function(){},t.CanvasTexture=fn,t.CatmullRomCurve3=wo,t.CineonToneMapping=4,t.CircleBufferGeometry=La,t.CircleGeometry=Ta,t.ClampToEdgeWrapping=L,t.Clock=Ms,t.ClosedSplineCurve3=Au,t.Color=qt,t.ColorKeyframeTrack=qa,t.CompressedTexture=dn,t.CompressedTextureLoader=so,t.ConeBufferGeometry=Aa,t.ConeGeometry=Sa,t.CubeCamera=_s,t.CubeGeometry=Le,t.CubeReflectionMapping=w,t.CubeRefractionMapping=_,t.CubeTexture=si,t.CubeTextureLoader=ho,t.CubeUVReflectionMapping=S,t.CubeUVRefractionMapping=A,t.CubicBezierCurve=Ao,t.CubicBezierCurve3=To,t.CubicInterpolant=Va,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=po,t.CurvePath=Bo,t.CustomBlending=5,t.CylinderBufferGeometry=Ma,t.CylinderGeometry=_a,t.Cylindrical=iu,t.DataTexture=Bt,t.DataTexture2DArray=ui,t.DataTexture3D=li,t.DataTextureLoader=uo,t.DefaultLoadingManager=ro,t.DepthFormat=W,t.DepthStencilFormat=H,t.DepthTexture=mn,t.DirectionalLight=Ho,t.DirectionalLightHelper=yu,t.DirectionalLightShadow=Wo,t.DiscreteInterpolant=Ha,t.DodecahedronBufferGeometry=Pn,t.DodecahedronGeometry=Ln,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return new de(t,e).setDynamic(!0)},t.EdgesGeometry=wa,t.EdgesHelper=function(t,e){return new un(new wa(t.geometry),new on({color:void 0!==e?e:16777215}))},t.EllipseCurve=fo,t.EqualDepth=4,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=M,t.Euler=te,t.EventDispatcher=e,t.ExtrudeBufferGeometry=sa,t.ExtrudeGeometry=oa,t.Face3=$t,t.Face4=function(t,e,i,r,n,a,o){return new $t(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=gu,t.FileLoader=ao,t.FlatShading=1,t.Float32Attribute=function(t,e){return new we(t,e)},t.Float32BufferAttribute=we,t.Float64Attribute=function(t,e){return new _e(t,e)},t.Float64BufferAttribute=_e,t.FloatType=F,t.Fog=Jr,t.FogExp2=Yr,t.Font=hs,t.FontLoader=ps,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=0,t.Frustum=Rt,t.GammaEncoding=ot,t.Geometry=pe,t.GeometryUtils=Pu,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GridHelper=fu,t.Group=Dr,t.HalfFloatType=U,t.HemisphereLight=Ro,t.HemisphereLightHelper=pu,t.HemisphereLightProbe=ys,t.IcosahedronBufferGeometry=Tn,t.IcosahedronGeometry=An,t.ImageBitmapLoader=us,t.ImageLoader=lo,t.ImageUtils=Tt,t.ImmediateRenderObject=au,t.InstancedBufferAttribute=Zo,t.InstancedBufferGeometry=Jo,t.InstancedInterleavedBuffer=Qs,t.Int16Attribute=function(t,e){return new ge(t,e)},t.Int16BufferAttribute=ge,t.Int32Attribute=function(t,e){return new xe(t,e)},t.Int32BufferAttribute=xe,t.Int8Attribute=function(t,e){return new fe(t,e)},t.Int8BufferAttribute=fe,t.IntType=1013,t.InterleavedBuffer=Qr,t.InterleavedBufferAttribute=Kr,t.Interpolant=Ga,t.InterpolateDiscrete=$,t.InterpolateLinear=tt,t.InterpolateSmooth=et,t.JSONLoader=function(){},t.KeyframeTrack=ja,t.LOD=en,t.LatheBufferGeometry=ga,t.LatheGeometry=va,t.Layers=ee,t.LensFlare=function(){},t.LessDepth=2,t.LessEqualDepth=3,t.Light=No,t.LightProbe=gs,t.LightProbeHelper=du,t.LightShadow=Fo,t.Line=sn,t.Line3=nu,t.LineBasicMaterial=on,t.LineCurve=Lo,t.LineCurve3=Po,t.LineDashedMaterial=Fa,t.LineLoop=ln,t.LinePieces=1,t.LineSegments=un,t.LineStrip=0,t.LinearEncoding=at,t.LinearFilter=D,t.LinearInterpolant=Wa,t.LinearMipMapLinearFilter=O,t.LinearMipMapNearestFilter=B,t.LinearToneMapping=1,t.Loader=ds,t.LoaderUtils=Yo,t.LoadingManager=io,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=He,t.MaterialLoader=qo,t.Math=st,t.Matrix3=ct,t.Matrix4=Ft,t.MaxEquation=x,t.Mesh=Je,t.MeshBasicMaterial=Ye,t.MeshDepthMaterial=Tr,t.MeshDistanceMaterial=Lr,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=Na,t.MeshMatcapMaterial=Ra,t.MeshNormalMaterial=za,t.MeshPhongMaterial=Ba,t.MeshPhysicalMaterial=Da,t.MeshStandardMaterial=Ia,t.MeshToonMaterial=Oa,t.MinEquation=o,t.MirroredRepeatWrapping=P,t.MixOperation=1,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=C,t.NearestMipMapLinearFilter=I,t.NearestMipMapNearestFilter=E,t.NeverDepth=0,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalBlending=1,t.NotEqualDepth=7,t.NumberKeyframeTrack=Ya,t.Object3D=ue,t.ObjectLoader=$o,t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=Sn,t.OctahedronGeometry=Mn,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Vo,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.ParametricBufferGeometry=yn,t.ParametricGeometry=gn,t.Particle=function(t){return new tn(t)},t.ParticleBasicMaterial=function(t){return new hn(t)},t.ParticleSystem=function(t,e){return new cn(t,e)},t.ParticleSystemMaterial=function(t){return new hn(t)},t.Path=Oo,t.PerspectiveCamera=Or,t.Plane=Nt,t.PlaneBufferGeometry=Ee,t.PlaneGeometry=Ce,t.PlaneHelper=_u,t.PointCloud=function(t,e){return new cn(t,e)},t.PointCloudMaterial=function(t){return new hn(t)},t.PointLight=Go,t.PointLightHelper=hu,t.Points=cn,t.PointsMaterial=hn,t.PolarGridHelper=mu,t.PolyhedronBufferGeometry=bn,t.PolyhedronGeometry=xn,t.PositionalAudio=Ts,t.PositionalAudioHelper=vu,t.PropertyBinding=Xs,t.PropertyMixer=Ps,t.QuadraticBezierCurve=Co,t.QuadraticBezierCurve3=Eo,t.Quaternion=lt,t.QuaternionKeyframeTrack=Za,t.QuaternionLinearInterpolant=Ja,t.REVISION="105",t.RGBADepthPacking=3201,t.RGBAFormat=V,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_PVRTC_2BPPV1_Format=K,t.RGBA_PVRTC_4BPPV1_Format=Q,t.RGBA_S3TC_DXT1_Format=X,t.RGBA_S3TC_DXT3_Format=q,t.RGBA_S3TC_DXT5_Format=Y,t.RGBDEncoding=3006,t.RGBEEncoding=3002,t.RGBEFormat=1023,t.RGBFormat=G,t.RGBM16Encoding=3005,t.RGBM7Encoding=3004,t.RGB_ETC1_Format=36196,t.RGB_PVRTC_2BPPV1_Format=Z,t.RGB_PVRTC_4BPPV1_Format=J,t.RGB_S3TC_DXT1_Format=j,t.RawShaderMaterial=Ea,t.Ray=Xe,t.Raycaster=Ks,t.RectAreaLight=Xo,t.RectAreaLightHelper=cu,t.RedFormat=1028,t.ReinhardToneMapping=2,t.RepeatWrapping=T,t.ReverseSubtractEquation=102,t.RingBufferGeometry=ma,t.RingGeometry=fa,t.Scene=Zr,t.SceneUtils=Cu,t.ShaderChunk=Ut,t.ShaderLib=Zt,t.ShaderMaterial=je,t.ShadowMaterial=Ca,t.Shape=zo,t.ShapeBufferGeometry=xa,t.ShapeGeometry=ya,t.ShapePath=ls,t.ShapeUtils=ra,t.ShortType=1011,t.Skeleton=nn,t.SkeletonHelper=lu,t.SkinnedMesh=rn,t.SmoothShading=2,t.Sphere=zt,t.SphereBufferGeometry=da,t.SphereGeometry=pa,t.Spherical=eu,t.SphericalHarmonics3=vs,t.SphericalReflectionMapping=305,t.Spline=Lu,t.SplineCurve=Io,t.SplineCurve3=Tu,t.SpotLight=ko,t.SpotLightHelper=su,t.SpotLightShadow=Uo,t.Sprite=tn,t.SpriteMaterial=$r,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StereoCamera=bs,t.StringKeyframeTrack=Qa,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=_n,t.TetrahedronGeometry=wn,t.TextBufferGeometry=ca,t.TextGeometry=ha,t.Texture=Pt,t.TextureLoader=co,t.TorusBufferGeometry=On,t.TorusGeometry=Bn,t.TorusKnotBufferGeometry=Dn,t.TorusKnotGeometry=In,t.Triangle=qe,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=En,t.TubeGeometry=Cn,t.UVMapping=b,t.Uint16Attribute=function(t,e){return new ye(t,e)},t.Uint16BufferAttribute=ye,t.Uint32Attribute=function(t,e){return new be(t,e)},t.Uint32BufferAttribute=be,t.Uint8Attribute=function(t,e){return new me(t,e)},t.Uint8BufferAttribute=me,t.Uint8ClampedAttribute=function(t,e){return new ve(t,e)},t.Uint8ClampedBufferAttribute=ve,t.Uncharted2ToneMapping=3,t.Uniform=Zs,t.UniformsLib=Jt,t.UniformsUtils=jt,t.UnsignedByteType=z,t.UnsignedInt248Type=k,t.UnsignedIntType=R,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=N,t.Vector2=ut,t.Vector3=ht,t.Vector4=Ct,t.VectorKeyframeTrack=Ka,t.Vertex=function(t,e,i){return new ht(t,e,i)},t.VertexColors=2,t.VertexNormalsHelper=ou,t.VideoTexture=pn,t.WebGLMultisampleRenderTarget=It,t.WebGLRenderTarget=Et,t.WebGLRenderTargetCube=Dt,t.WebGLRenderer=qr,t.WebGLUtils=Ir,t.WireframeGeometry=vn,t.WireframeHelper=function(t,e){return new un(new vn(t.geometry),new on({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=nt,t.XHRLoader=function(t){return new ao(t)},t.ZeroCurvatureEnding=it,t.ZeroFactor=200,t.ZeroSlopeEnding=rt,t.sRGBEncoding=3001,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([155,1,0]),t()}([]);
var _0x4cbb=["filetime","startsWith","origin","-bim",".bin","nlist","infos","bimid","idx","bindBimInfo","bimInfoä¸å­å¨:","bimId","onGetBimInfo","æ¨¡åæ°æ®ä¸ºç©º","groupInfo","computeVertexNormals","getModelMaterial","isBim","IDBUpgrade","page","myIndex","error in ","Why didn't you allow my web app to use IndexedDB?!","--------- "," -------------","\t: ","TOTAL: ","printIndexDBSizes","databases","timeEnd","level","dynamicShowsModel","excludes","loadFloors2","uvs","floorUvs","EXTENT_EPSILON_Y","themeList_","themeStyleLoaded","addFloor","scaleRateChanged","extent","loadRooms","tubes","isMerge","selectMatIndex","mergeExcludes","geos","drawOutline","modelimagelayer","bimModelDatas","modelImagesData","modelTexturesData","modelImagePos","modelImageNor","modelImageUv","modelImageHideFlags","modelImageGroups","modelImageIndex","roomid","loadModelTextures","repeatType","MODELTEXTURE_ERR","isPowerOfTwo","mipmaps","modelImageMeshs","matindex","modelImageAlphaTest","\n                    #include <uv_pars_vertex>\n    \n                    attribute float isHideFlags;\n    \n                    varying float hideFlag;\n                    ","\n                    uniform float opacity; \n                    varying float hideFlag;\n                    ","\n                    vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n                    gl_FragColor = resultColor;\n                    ","imgdata","convertBimData","loadImageDatas","setProgress","percent","updatePoints","splitAlpha","isFront","shaderConfigs","shaderNeedUpdate","updateHeight","updateHeightId_","componentsManager","ind_","updateReapeat","minRepeatLevel","textureOffset","initUpdated","CIRCLE","PLANE","getDashArrayByLineType","ESNaviMap","ESARROW","notCenter","linemode","nocenter","baseRepeatX","transparency","isSectionAlpha","isSectionGray","sectionAlpha","isSectionFront","#include <clipping_planes_pars_vertex>","\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    ","uniform vec3 diffuse;","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    ","_updateMaterialByNaviMap","doubleSide","_update","baseFloorHeight","transparentLine","uvBaseLen","DOT_DASH","CENTER","DASH","DOUBLE_DOT_DASH","TRI_DOT_DASH","ARROW","materialInfo","splitGray","_billboard","pathVertices","_upVec","setFromAxisAngle","#4a82d2","#F4FEFB","_doColor","_drawArrow","_drawGodArrow","godEdgeColor","godArrowColor","arrowHeightPercent","arrowWidthPercent","arrowPercent","godHeightPercent","godEdgePercent","#ffffff","godArrowPercent","godArrowWidthPercent","godArrowXScale","_setMaterialInfo","perimeter","_uvs","_up_","_rings","Face3","makeBasis","Geometry","_locked","toImage","toPng","topCard","createCard","toCanvas","template","-9999px","animateTime","animateDelay","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","names","isObject3D","skeleton","bones","getBones","pose","identity","offsets","decompose","getBoneByName","makeRotationFromQuaternion","useFirstFramePosition","fps","getHelperFromSkeleton","retarget","quat",".bones[","bone","].position","].quaternion","uncacheAction","AnimationClip","SkeletonHelper","getNearestBone","exec","bindMatrix","length","push","hasOwnProperty","call","shift","apply","exports","defineProperty","undefined","toStringTag","Module","__esModule","object","create","string","prototype","ESJsonpModules","bind","getValue","getValues","dedupe","attributeCount","setDefaultValues","eachObject","cloneObj","getDeviceDPI","base64ToBlob","createHash","default","forEach","function","deviceXDPI","deviceYDPI","createElement","style","cssText","width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden","appendChild","offsetHeight","parentNode","split","atob","charCodeAt","floor","random","toString","join","paths","addEventListener","ESMapResolveReady","init","ESMap","instance","options","mode","mapId","map","skMode","MapMode","City","initCityPaths","EPATHDEBUG","ESMapResolveDone","EPathManager","tid","mapDataSrc","gdbs","serverUrl","Base64","decode","getLicUrl","setPath","url","getCityTilePath","remoteNotify","building","getCityBuildingPath","searchJson","getCitySearchJsonPath","getCityBuildingSearchJsonPath","cityTheme","buildingTheme","buildingThemeAsset","getCityBuildingThemeAssetPath","buildingModel","getCityBuildingModelsPath","getCityTileModelPath","initIndoorPaths","getIndoorThemePath","getIndoorThemeAssetPath","getIndoorAssetsPath","getIndoorBuildingModelsPath","getIndoorSearchJsonPath","getIndoorMap","off","isRandom",".esmap","map/mapdata!getmap.action?bids=","&token=","&t=","parse","?t=","themeID","filename","/theme/","ext","type","lang","getIndoorModelLibPath","/map/mapmodel!getmodel.action?bids=","/model/",".gltf","/search.json","version","location","href","getTime","ESMapUtil","encode64","token","_lic.esmap","/eslic/lic!getlic.action?cids=","&s=","&url=","&sign=","&v=","&tid=","getRemoteNotifyUrl","domain","PRIVITES","/esworldmap/eslic/lic!getlic.action?cids=","&k=","/buildings/","buildingId","AND","worldeditor","/esmapoff/mapoff/mapoffdata!getmap.action?bids=","/escopemap/map/mapdata!getmap.action?bids=","&ck=","&p=","getCityThemePath","/worldtheme/","/buildings/theme/","getCityBuildingAssetsPath","/EsmapJsonOffData/","tileId","typeId","_tile","getSubDirByS","/citymap/citymapdata!getmap.action?cids=","&typeid=","&x=","&y=","&v1=","getCityModelLibPath","modeltoken","__mtn",".gltf&token=","/map/mapmodel!getmodel.action?cids=","&name=","doDispose","getTileBound","datas_","o3d_","children","geometry","dispose","material","pow","Mercator2lonLat","maxx","maxy","lonLat2Mercator","minx","miny","WGS84ToGCJ02","ceil","parser","json","meshes","traverse","attributes","position","count","name","_root_","parent","faceRange","DistanceofTwoPts","calcProjPoint","exitInArray","merge","isHTMLElement","diffProperties","getHexColor","sqrt","fromCharCode","reduce","symbol","nodeType","Invalid color component","000000","slice","#FFFFFF","includes","rgb","match","decodeByte","aHR0cHM6Ly93d3cuZXNtYXAuY24=","aHR0cDovLzE5Mi4xNjguMS4xMjc6ODA4MQ==","ZXN3b3JsZG1hcA==","ZXN3b3JsZG1hcG9mZg==","aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==","ZXNtYXBvZmY=","ZXNjb3BlbWFw","indexOf","test127","http","../","clone","add","divideScalar","TEXTURE","plane","Vector3","alpha","opacity","__proto__","iscross","bid","points","center","fnum","type_","ESNodeType","LINE","disposeTasks","hiddenByFloor","getBuildingById","visibleFloorNums","visible","value","updateGeometry","floorHeightChanged","isMapRoad","roadType","mapTheme","main","mapRoadMats","normal","light","MeshStandardMaterial","metalness","roughness","MeshBasicMaterial","transparent","color","Color","uniforms","uvDistance","maxUvVal","vertexShader","replace","#include <uv_vertex>","\n                    #include <uv_vertex>\n                    nvUv = uv;\n                    ","fragmentShader","uniform float opacity;","\n                    uniform float opacity;\n                    uniform float passPercent;\n                    uniform float uvDistance;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float percent)\n                    {\n                        if(nvUv.x < percent * uvDistance){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n                    ","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","lineMaterialShader","dashArray","textureLength","createTexture","DoubleSide","repeat","offset","imgOffsetX","side","lineMode","circle","lineWidthMeter","lineWidth","pathPointList","set","PathTubeGeometry","update","userData","trueRadius","drawMode","PathGeometry","fixedWidth","arrow","both","progress","computeBoundingSphere","matSide","seeThrough","blend","AdditiveBlending","ESRenderOrder","lineObject","_onUpdate","onUpdate","onControlChange","_onvisibleFloorNumsChanged","visibleFloorNumsChanged","zoomed","_onControlChange","updateLineWidth","noAnimate","getSpriteScale","reverseAnimate","animateSpeed","passDistance","passPercent","needsUpdate","_colorToStr","number","anisotropy","minFilter","LinearMipMapLinearFilter","wrapS","RepeatWrapping","wrapT","updateStyle","lineType","mapPicker","watchingList","lastSelectLineStore","remove","Mesh","meshHandler","_loadcount","layerManager","buildingType","modelLoadManager","Object3D","lineLevel3","lineLevel1","lineLevel2","firstEmitLoaded","zoomLevel","controlUpdated","checkLod","setLineLayerVisible","currentShows","tempDatas","loadBuildings","showRoads","checkLoadProgress","tileLoadComplete_","checkLoadedAll","hideRoads","roomModelsCount","modelLoadCount","lod","handlePolygons","sourceData","Labels","ESLayer","ESLayerType","MODEL_LABEL","boxCollision_","ESMapBoxCollision","mapScene","mapView","ipos","bottom","_id","Tid","Sid","image","poiStyles","fontstyleid","labelStyle_","ESMapLabel","ESLabel","scaleOffset","DEFAULT_COORDSYSTEM","coordSystem","_coordMapSceneToThree","modelViewMatrix","multiplyMatrices","currentCamera","matrixWorldInverse","matrixWorld","ESMapPoi","mapTheme_","data_","POI","bType","ShowLevel","addObject","splice","loadRoads","roadLoaded","tileService","navData","Lines","handleLine","addLayer","getOrCreateLayerByName","getLayersByTypes","getLayersByNames","handleLine2","LineBasicMaterial","roadStyles","outline","substring","sceneX_","sceneZ_","BufferGeometry","getAttribute","array","BufferGeometryUtils","mergeBufferGeometries","addAttribute","BufferAttribute","addGroup","LineSegments","baseScene","drawRoad","transformCoord","linewidth","animationspeed","roadStyle","rank","__ro","stopJumpO3d","getNearTilesByCoord","_jumpID1","stop","_isAnimating","force","times","MAX_VALUE","delay","height","duration","TWEEN","Tween","easing","Easing","Quadratic","InOut","onComplete","_jumpID2","Bounce","Out","start","callback","chain","coord","getTileFromMec","worldScale","WGS84","post","modelWorker","msg","toDecimal5","round","_switch","_eventMap","handler","once","isString","_wrapOnceHandler","toLowerCase","Z__","removeEventListener","isNil","copyEventListeners","context","fire","_fire","_clearListeners","_clearAllListeners","_eventParent","concat","domEvent","stopPropagation","MapOptions","dataUrlPrefix","mapThemeSrc","scalerOffet","firebrick","scalerColor","userCrs","mergeModelLines","mergeModels","modelSelectedEffect","model3DSelectedEffect","body","showAxes","minViewDistance","viewMode","compassPointerUrl","compassBackgroundUrl","compassPosition","cameraMode","ESCameraMode","NORMAL","shadowSize","shadowAlpha","lightAngleX","controlsRotateThreshold","controlsScaleThreshold","defaultAngle","defaultTiltAngle","perspective","viewModeAnimateMode","moveToAnimateMode","compassSize","compassAngle","hoverTypes","all","minScaleLevel","maxScaleLevel","defaultScaleLevel","randomTexture","naviLineAnimation","showBase","loadModel3D","loadPoi","loadLabel","hideRoomLogoMeshes","lineSelectedEffect","editMode","closeComposer","mapAudioSrc","mergeModel3D","devMode","quality","useCache","compatibleMode","maxZoomLevel","rightClick","isPC","scalerWidth","Building","initCityOptions","maximumBuildings","initBuildingOptions","DefaultBuildingOptions","getBuildingOptions","MODEL3D","Evento","model","model3d","movePathLoopCount","_clockMovePath","Clock","markers","_directionVolume","_lodName","created","showLevel","child","scaleLevel","isChildNode","actions","tweens","mixer","gltfModel","renderOrder","model3D","scaleRate","scale","rotation","Quaternion","setFromEuler","ZXY","quaternion","coordThreeToMap","addTo","FloorNum","bindEvents","callbackparams","onZoomed","getAnchorPosition","getObjectByName","error","log","removed","_bindupates","needRotateCamera","slerp","matrix","setPosition","angleTo","Math","radToDeg","istaped","needRotate","rotateAngle","abs","moveTo","time","_moveToID","angle","threshold","_coordThreeToMapScene","getRouteAngle","orientToPath","lastWalkAngle","distanceTo","distance","forward","backward","Matrix4","multiply","makeRotationFromEuler","Euler","degToRad","lastRotateAction","copy","Linear","None","onMoving","jump","movePathing","jumpO3d","stopJump","flash","stopFlash","updateScreenSize","restoreScale","originalScale","show","setScale","multiplyScalar","rotateTo","rotateAnimate","unLockView","viewLocked","gestureController","enableMapPan","lockView","target","getWorldPosition","controls","setScaleLevelValue","scaleLevels","followAngle","keyCode","lockViewInited","keydown","keyup","animating","playAnimation","walk","currentCamera_","enableCollide","queueRanked","clearTimeout","lookAt","toRot","setFromRotationMatrix","restoreAlpha","istransparent","setAlpha","clonemat","changed","stopGlow","glowSprite","glowing","glow","#FF0000","fixedSize","TextureLoader","setStyle","Sprite","glowEffect","enableScaling","flash3d","binded","fadeOut","delete","mark","wrap","next","lastIndexOf","mapService","modelStore","info","ESInfo","abrupt","return","loop","AnimationMixer","animations","clipAction","clampWhenFinished","repetitions","toLocaleLowerCase","MODEL3D_ACTION_ERR","previousAction","LoopRepeat","LoopOnce","stopAllActions","reset","setEffectiveTimeScale","setEffectiveWeight","play","watching","getDelta","finished","bindedFinished","end","playAnimationPre","MODEL3D_LOADING","setDuration","crossFadeTo","restoreColor","changeColor","oriEmissive","emissive","getHex","toColor","hexToRgb","emissiveIntensity","resumeMovePath","movePathingTween","pauseMovePath","stopMoving","movePathController","maxDistance","enableTileBaseMap","fadeIn","faded","rotateModel","applyMatrix4","cross","rotated","paused","clock","rotateMap","normalize","movePath","prev","from","startPathIndex","elevation","followTilt","rotateSmooth","Circular","followSmooth","index","getElapsedTime","tileBaseFrozen","disableTileBaseMap","updateTileView","viewRangeUpdated","complete","followPosition","fp_","minDistance","maxViewDistance","path","onStart","getFloorHeight","coordMapToThree","speed","time is NaN!","viewTiltAngle","then","loopReverse","reverse","toggle","status","filter","open","getChildPosition","scene","getChildByName","_enableLod","_lodManager","_lod","gltfObj","Box3","setFromObject","getCenter","_lodLevel","replaceAll","loadingList","preFetchModel3D","raycastMoveTo","raycastTime","raycast","modelinfo","box3","max","min","atan","tan","rayPointer","rayPoint","addTestCube","Height","MapError","throw","rendererCss2D","[object Object]","code","param","ERRORS","æªç¥éè¯¯","div","width","100%","display","flex","justifyContent","rgba(0,0,0,0.8)","padding","20px","boxSizing","innerHTML","setAttribute","class","ESMapError","dispatchEvent","isElement","element","addEvent","isObject","fill","buildingColor","computeTopFaceAttr","brothers","topFaceFlags","createMaterial","topTexture","sideTexture","updateMatrix","MeshLambertMaterial","roomTextureMaterial","onBeforeCompile","isTopTex","topTex","topTexMat","isSideTex","sideTex","sideTexMat","#include <uv_pars_vertex>","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    ","shader","_completeCallbacks","_isComplete","_responseData","_status","success","_successCallbacks","_errorCallbacks","get","isArrayBuffer","async","getJSON","data","POST","GET","_httpStatus","Callbacks","_httpServer","_initHttpServer","onreadystatechange",".loc","arraybuffer","X-Requested-With","setRequestHeader","Content-type","application/x-www-form-urlencoded","ActiveXObject","Microsoft.XMLHTTP","XMLHttpRequest","_httpStateChange","judgeStatus","file:","responseText","_successCallback","response","_errorCallback","TRANSITION","TRANSFORMORIGIN","TRANSFORM","createEl","createElOn","removeDomNode","addDomEvent","listensDomEvent","preventDefault","offsetDom","computeDomPosition","getEventContainerPoint","hasClass","addClass","setClass","getClass","setOpacity","setTransform","removeTransform","measureDom","getDomRuler","IS_NODE","transform","WebkitTransform","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","msTransformOrigin","transition","OTransition","msTransition","CSSFILTER","WebkitFilter","MozFilter","msFilter","ielt9","ie9","removeChild","event","gecko","mousewheel","src","returnValue","cancelBubble","onselectstart","ondragstart","unselectable","any3d","left","top","getComputedStyle","padding-left","getBoundingClientRect","offsetWidth","__position","clientX","clientLeft","clientY","classList","contains","(^|\\s)","(\\s|$)","test","className","baseVal","px,","px,0px)","translate(","px)","matrix(","clientWidth","position:absolute;left:-10000px;top:-10000px;","[object process]","versions","electron","setOptions","callInitHooks","_visitInitHooks","enable","_initHooksCalled","_initHooks","include","extend","setX","opts_","setZ","mapCoord","ESMapCoord","ESFloorManager","stopMoveTo","lastSelectModelStore","configs","ray","Raycaster","testMat","ignoredUuids","meshList","intersectByStartEnd","sub","far","uuid","intersectObjects","intersectByCoord","inverse","depth","ignoreTarget","plane_","point","materials","nodes","lastSelectNode","getTransformMatrix","XYZ","fromArray","getParentList","done","calpos","mergePromise","geometries","_meshName","pos","translation","getObjectTransformMatrix","applyMatrix","objName","showModel3DErrorMsg","mergeGeometry","mergeTranformGroup","buffers","alphaMode","OPAQUE","cloned","selectedColor","intensity","warn"," can not find matching geometry or duplicate name","uri","selectModelMat","material name:","checkGeoIsHaveUv"," data error !! Erro Code: 2501; object:","checkValueIsNormalize","getX","mergeBufferAttributes","uv2","setIndex","groupData","selectModel","locked","getFaceIndexToGroup","error data , code 983253","setTargetModelSelected","changeModelAlphaById","_settedAlpha","matRecord","groups","clearGroups","materialIndex","changeModelColorById","splitGroup","unSelectLast","mesh","lastSelectMatIndex","_hidden","clearCacheData","setModelVisible","lastSelectMathInfo","sort","options_","sprite_","visible_","sceneOrtho_","margin_horiz","margin_verti","updateHUD","getState","logo","updateHUD2","sprite_2","img","logoDatUrl","getPlatform","SpriteMaterial","container","offsetLeft","clientHeight","offsetTop","initUserLogo","_ul","userCompany","userLogoBase64","data:image/png;base64,","userLogoConfig","userLogo","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABDCAYAAABzydsQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB7uSURBVHhe7Z0JnBTF9cffq5ldYEEULwQVUbwS70SjMRpjEs8YExM1h0YjwnIYRKMSFRDwxIggKIJANAZzKJ94xTt/8Yga0cSQvyfeBs/EKAKy7M50vf/v9dSwM9PVc+zOrv+Y/sKb7uq7q+u9enUuJSQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT858NuWR/+IoOIs7sZ5m0Q2iDcJvRvmzIvUSv/nfbmd8NtCQkJ/y/opAEQnM9Cz9gNucXehqt9iZij15Twx2L5JFbnU6u5ifYzq8J9CQkJnxgdMwBL7EZk6Gi29iQo9J2USk2FHRjIgdyAvfvlDiqD0DvCMo72Sv0aBiM0DwkJCd1PbQbgEbseG5kJZT8epza4rUCQs5thtJyfNYOCcSI0Eft7uZ3xiNwmqdTIpGiQkPDJUJMB4EeD67D4cS5UirSypcm2V+pyamvbkW2Yu+/idsYj8p6QnED7pf+IO3zy3oCgWPN3OZiC7PvUlH7RtNjvWDbP079oE+4nR1IWxwSQjFvmw6Xrut+FxbfPumWAT1B6jfy1LT1Lc80srFVmtPShjOwLz+zzOG8wtqyP+De5nXVC5GGab65yoWJOlA0oLYNcqJi+kXT2Ps0wb7n1jjPKbklt1M+FytNKr9AN5mMXSnBUbwCW2t680iKn5j5uix+RJZLJDqWmxtc4E1yIRHgqzkm7vTFARURmSUNqPO1rWtzGTwYRQ0uDU8maV0n4MWY7Ucg+RO+l7uTecgv1oMNCJc0r7bolorIo3L4ukWNLlwVGoHDJcgpdZa7GWjwjZDBZOQdr30dc981t7CpQbJtnLnOBYobbsbj/FS5UzHaw64UpwMqtdEbqKBfqGKfbXvQxvYxIGui2lAE+qdB2MF6vuA0JjupziA//xWGuVUmE9+Z0+ilqs6PkvfQ5EshB2P4CBXI3PsKlWL8MCeB+yNqC81ahCCGUWbMBPdi2Pz8QXMQPZO/lB4NnsIQE9/Di4GK6v+3L9Iw04oyuAxpPu6dmkQ1WGRMMk/V4HLZtyANkkjTwd2mNwFPpDqSVevLNLhBlEgzVcDsaaft5PF9z1ys/sPQnt+ZjJ7eMoqlMfbu8MG2N387xMQ2LKL/exyu8khr4PawllFC9BwCghL/ABxzqgpUReUys+TGt4FfpWNZ8rZ0H7LYsdiY87ifxcWbDlTsEunce7rKdO8KPyMvCZjx9lRch0XddkeHv9kiG8ZJGcwa1BT9lkp3EpofSK5LmjWDM0nRAJBcvzcHdeoc8gEAeQO7/VaxFUeV/W2bg/eFddRfyMaV5M7qaV7sNxTTbJ/Dt9nKhdjTn3wafqTClWVlJq00/mgJj2xHOsL1pJb2E9x/gtuSur8ruRV6kObwjDuq69PIfSmyU+ZDVZgwS6G8oKzaXSCuI5X3hNiylvsFoukYKKg3BgeZl2RRuYFZe4Bb7J7ayEOXh7bzXKRTL20Ixb+T7sr+DMUhhS/15Knsecrv+MF4TuM0uIDYfSo/UBE4F99P29H35wBwBg/WYO7prYNIWFT/vyGndq/xA6A2ajXzXRzO+rcR4APkvlM/9VdRbaZLNdHOHWEknFSl/HjUCfnkBP4nye6jJANCRvEYONseLlcNhxd8ocOHLCDex8CweFCymO0Q7CCERCNPd2WN4efA09v0WxYYd/OfGyotCqel0nxxA99q9saWuhJFiLVMjVsOCD/5nsC4wf7qdqEXW8KHUSn/VQ+uPrIYxvMkFihlhP4vnmOpC3clTUDq/EjFtjt+euUAJagCKv11OJKhcQezjeOT+TBNcqJ3Q1Y8Rpufwm+BBo6c2NBEc1nAvcsSdkSPPgLQV5dA+CT8678ccLKU77UioTRrbNsW2Ad7j4yWD82aKXqtNvsdZ+SPkYbrLnkk31c8bsJ9Ln49Es4oDu0jaWs5m4kFs7e1iU0ew4aN4u2AZfYs/llV8GJ7oaXda/WB60O9qw3BamoJvUOxNeZE2GNp/QpZD3ui0ED2Uu66HAIY9rsVBv0ph7p8XSn1Gf2umF3J/4v4u1E5O0f1iEgMQh0ZP57jV7gGlmA8P6/NuS3nCjy+LJTAnUw9JQYHh6vI+sU8iKEEzLRTmR2EwliFdr2ROaxPjzu6I/DXvEjInwkt5P9zWWZbaQ1jkSGlbfR419D6WmfeXFf8YyusPmkxst5Td08eHxvBKuxHC3wzPUUOnhkoRI+sMl5LfVy6sfSU1bJDbXm6eCbcXMtLCaNJyxFeZilD5G34m0RpaTE3cRh+GV+48i/Q6MR5Asx2Dff7myg1wyoZuvRCRq+mc1CkuVB3N0oTztOwfrfnvAYlLQ1naAwZ1qQslFNB5A6DcJI1Q5jFQmMm4ZPlmwnXIRyhKnEUfpRbSRjKOrYzHuSUJW16SlGmmb/KDYQ7fKD9hkktwnL+TkcgLkjG70bFI+PVipB0Kd9zfvp2Wm2mO+V8X6nqGW23q+60LRRF5jlroC93e3j3cXoPnanahYjaEAVjfrReilZwTUv5KzjiaLQwGR/shaCr2F0CAZGgDpMkpdUwTnyLqYwDy3CKDWewc5GOHIEFUvnYu574X3kAzpaQ/lPt6nPcZJORWPNps5P0T6HumRZWfjdV9x8U+scgKscGRdExjuaaq2si1NX+AZ/Enr56yC83y5NRdxXA7DXFwhgtFYfkhXWPiDUSXgGJJszyCm+/rNhTTz2aor6/IIq9TmxlSdUuAdnTKIvcnjlYeGih5z7hiEc65gnfQyHEbEgqorwHQyr1baSvKyD7wjuES8iZuTwXgDQifSmvp99xLxovhW+i75km3k+hGezRKmItcyIuQPZuOSV/qgvVhtOwH9zHGoMhbNM9s4QLdQ7O9DXF6pAsVExpN2prmm3dyG7qJSZKmtxEXzJu6Le2IWNpU7qFefLjbUoCspgxvTlPMSrehPNrngXm2CxUgQg10D/Xgw9yGYkTupBnmCBeKMso+hMJNLX0oBFqTwa822H4IeRXhV8nAS622mNFsv4zfc3OBmtD7qnenxdx/QJ6Gx/dwZzy++hiAB5AI3s0eymRQBKDdIFdBiWfDrZ+IdeTaXFUFHbyHs+wP0tNccB38W8396QQXjCKAcK8XUpd0uG3Zx0g7hSyf50LFsNyA3PZHLtQ9NNuHceP9XagEWYUkuTld282jLMN6iZhONgIl35wmU5oi31S/Gd5lO5pYRe+8E6Unipgv4vgt3ZZC/kpNdgkZM9qFS5DLaLoZ5wLFnGI3ghGqT52RYuRRpNPRFYuFI+zhcJzudKHOoXHMNJPSPDW2j0YZam8FKETL5TfYw/gt+wRbczsSwuchachpnIVZCHiRMB9EFm5YvsKrjOD4M/V6eKliw2Txip7jc4KEFNAsuJNzeXv7IP0qexKu1HnDps9g+RsuFCVN9fmAtaG5fBxNcIOHuPXuQ/izbi0K09vYvySshiwVJAwsd8daZRpFe/1FlV+NCMs5lDI7aUdSrxD9PTzWSxVjVWrB8peQFh+BUdzHbfGzlp/Cs6sH0XlY69x4PLzuR+Gx1ty3omMGQPvL/8oeyq32UZSs7sLH3AMvH7aYF8gW8ABu5wyPkkzmCBiBS0q6/0ZFuD/OuZMXygK6TnITigCx9g7v8ar8wtPgbVyCIsd9eIb9mXkBLZTOd5IZTRsgce3qQiXgPQJa7ALdh8DVjAVeFts5dIlUNzimXliJNwCizW9rXsUx2hdfw8VibXz34Txa9o93lx+jD/ghXGw7KIIqQ7HoXbiMAQik8v1rhtdD2vw9nWXXcxuiXM/v4rk8xZlOwLwrjMB9Lr6qpnYDcG3b/ny9fQyKehcFvHd7TuwRNQqBHMPS8IRk+TWx2X0Rftzl2vHnWBqKn2fol/ZgfEOm41OLcM6NxcfqNXiqZHg6t4bK/7ncdjYcwO271nbSusuBuLW/YonpJZpr/ulC3QfT427NT8bsQ2vsc3RxdiJdZA+i8+1udIEdQhfaAQhvQtNkY7oYbu8kuyFNlfVRfu9DM22PMI47TntzbJTnaErvt/E9PwpvUSqk3XMrkJUTkbijvf6QC+H8yTSEeiMVD0DcaPyUSgs1cPyoQ6Ed3Fqd4YF445hRs47edA4e4Pbce9QJHX2bkZo6iWk0VY2Znz1dUvxznFZhdF8MIo/C8xuFLP3LTHwxHrh85YuEA2mvhTd+Bi3nFhosP4HhwXnUA+efbw0tgLLfj+tEP6TADzjZxNcbVGKknQujMsKFijEyHQbgDBoO5UqFvd07RxutQtn9bReK52TbH/d7HfEf2+gVPs3mSFNe0y6F/lMWcaR9LFpwvZXIpZejHP0kjvkzraUHaqicW4L4/4ILFZNvlThPHkTogNzGAgTl9wt4TxeKkmv3f9lvAOghmsdfoTPtlyjFj7htJcgbdKnRodF+RtrfISZivDwv2jNUPdONYcAq1GvhneeZA13Aj47peIeOxDv+CNdFESemM5WE3eg3QzxEK1pLEVkDozeErq5ujo3qDcC8zCHM5q7Yh6wKaRHOfomG9fgbzV6zJTf20DbdIypeU+QNuPkn0zBeTAvgtll7IKXNrdoT0Kv8ishy2cBsHRmEVA3HSIo2lLfwkaM9zpS0fB0J52l4HHDlcr5m55CJSCwXukB5yrW559FOMf3jjEAViMAg8EWU5ek0hePLqmPgPbSGFYC+ln6YGdmBFpgXaYKdjWf2VNLJKhgAnBvbwcjf7q/DxxkG5RrzKI2zw/Ge89yOYoTugQHwtw50GLguJyKGm+RopIEZCG7sdhQj8g9awdvQog6kPy+47zAUt1g9B/oB4jP+64r8jOYbZNSVqT6JWHORwL3WPLnjws+Hyq+c0rRchplvizXfxb53oscWiOWt4AreS3PkSmqk16g5fSVlaAy27+A9XsXSRrhqx3LnTWUIPm5ME6ashmI8DOXfvy7Kr813GbrGhSrDPB4nvelCfrSq8J94NMRDmNfXKgLPjOlSStvLEYqnBXEk0tuFitHa6V6kXYj1ms9CGbGtVFBeniS+3D3XB0PCxO7jAbqGc4OxmD4bpmKfpOh5/NYZGKvreS3NMTfgHtrK5cdQPzxZ3bqnh/ddYJ6l+azeQvx9FaaqO1hpNFVmtt0SOYLONBNNLLVIIIMKK/eQmIVG8K249k7YNw+S9Z4XClwuoVNolcB7sLtSJnO9/zgnOm7gg5icpRIZRGCchWVaAtczg+VBbkvnYLqfrjP/cqHKzOP38X6HQntyyhXHWsi7MALa/y2ieFUK0U+goF8J13ykaWvEU5yRfZNmud53AkX0XV8ly9vjN8pqlKGZdZBRCTDvooOB3Lc1tCfiUOMxKkRd3EmL2/uqlJKr9oxykd2ZpgbTaVr2OJr0YbsuVA3e+0OeBgO7zG2IIjA9VVKdAcjSNrkKtk6Khbu0yj5EM0vGDYzmD+mUFMrbfACMwHPec9vlAzhgr5E0HOnZ1y6WXqXJUOWOcbBbRmG6lw6AZyF0iNvSOZh0mrXa0JwgxXsgEcyDxHcC0bd/D5rwESQXJzUKjCBbfxu6YstMAsL0YmjglYBeQrFNZ31C4iyRQKIVgTren2JyOXXr5/MT4boOQ1YPQB0xn1Cma/v/W4mvi9FOQrmUXEyj/Qo18ulk4EGs3/cVutzWPjPSotCw/iYX8MBx3msUjaXKXGm/iI9dv/HvIshBWae6Oo/GllQ2aa20EBKdnItjiiNYZAmJQe5H30bCXID98S6W2DPptHR5F9aHVsy8KytC97QU7dmWpj3g+n5IDfQ67l+dAY1D5H1cY2DoUXSUUdIPxSN1+bSSTZVJXWqtXG3C19W41BzahKa+CaIx2hCGG6r7/HYFreIt6HJPb7Phdhaef4wLFSMyFeXQnAuv7nwPeRvH+nK86XSJKe7eHN/rL4BR2psWcG4Y9rl2AN7jDRzr62rcCi+iH82oMMWc9vcYLdpitBfS+OaIr/645gAsNabKf1+mzfA82vHNgzxB80x0qPplwdVkeJQL6f2zSGvH0VnGP/w7jmH2WFznRhcqRvVrvqlq5qwqPQCU3dU9L8xhOyMWHyygsbjm8zTDFlfSjDWtdJq5gCSzO/Y/VHDeY5Q2XycbHATl/gWukSrYVyLyAgUV5tKL45+yj1f5Fab36Wp+mhppXyS6zim/wrSwU8qvzIH3NN/8HnIq5GDkjrvimoNpIPenAVC4FXiXFdwbxaHe9CbkZcjzjPI1tovsjYQ+BTnZ+1gi4XjEcl/qwxthLQqX8QC0m2oeVULh13EtvV6xBKHRakd7/eUquqII3bFO+RWd/NQgLeEyESF6i/pyfMcpNfSj7DdopGhl7lIKeAGecQpOHo3nOgrrh0EOKSuxyh/i739gUWQp9LJEi1AyN2yirY34dMO8xq1VpLpEfDqvgELdUvTg9ZAA/zL8DtygbWlqyYyyp/dcRluYr1Fgh+HYeyhFh9Ea2Q+RvhBiItfKSyCrqS17NJ3RwclFLX3drUVhWozI1cazx6E83+q0BFRdzX9N4Pn0GbVLtIrWQvtkCq+mKeYJLCfjnfdDvLUUxWNeJIxrv0spcU1o8O1LK+AsPVlkWPJCKF4W9vxslKF4h+gYC83VTEmHoFSZCkDtnx/bLRz3e0+mIf7/gFUYsbC8UF8Mij2l5GZO2rEofkPhfoj/E7FWPUzxTYIiVU+zX/2L/9wOwcNr2cs3urt2hJG7yzFkgl2IkYOFLdg8kXrRnNALKOVSeyBe7C58q/hyV9g1lIfRz8y1bkuNIGGMkKew8HdRTeEjzTG/cqFPF+Pt44g7/+xKFsWei0sGupQfA5ChBt6wqG/6WXYsvm901mChj6hV+tOV+Oa5EX/LcJxvpt9F8GyOdes5JgbTKY3ytA8rM2lK6jQXKgDfeKRcgGcf7zZ0DUa+RnNNcW9RzeTEvop4jhZdrfyBzk35B3r5GG6vwnX88ynoAKj5ZQZAFaC2sjrGmVcQaQdDaZfDcjpXuwOShZIGMp9anj0Y5udQlOnvxnU3gPRBQptBq+VJugjKPkkaw7EGk2xfutieinPuwjE9vdfMi6VrO678YAzcMCH/TDWsQ07hgn4aCcc9wPW2yJJLJbCWgpYP3JHt2Jjae4XpzcjAFOFncR+9V7GQrA/Tn3N/M/Ijv/Kj7J+SSS7QjtEKQCy9gvv5aJb9kVbimhfrg9YVGYoOcgpkazyYtmbhmBKpZUSi9lMh+lou4CXX1F4F1RsA5RyUv1pX7ooIvAovkylSvqpEWpGoxlKrGU3mM+ci/EuUvRqLjrG8CyJjMaXtm/SCXYYP/y62z8Rx5ZU/kKW4bufGAAQo2xNrNxofy2gGytufRs5G4tN5830JUyfgpl4fhWvFVBgDUILW96in7xNDu4e9/uCH5A6O8Dt4XtE2fUO7+ZUfloU9TYA5xdGKS3+613N1bgHWCkt5s6yQxDfdMq2hq020mVYzl4j7v06q71q+sWyPe5SbPftut6xIbQZAmdJvBU00YxCJ+0CZ/+J5Eb8E8m/c7gj6wCwgtr9ALE2CsseX5S1vgsSBYgf38u8vFFlBWT4GZb6qKz+82DLNf0L3a8pyoU8XIkfDE2tCnCMOIvImXcpRAyASPwaAKZr79uV3wu9UamByshOup33+fe3+LZTxDMk+W/pRivqHShsVi+eOlsE3Fi3iROst1PRoz8kBMo/WR7r7gAdBBpcVop+G5/rgmHkirWjmhqVHWKrvsxDQGTghpgUMxqtn9ZPV1m4A8kwwT9FmZl98PLjnSCD6J65iBQkixXvB/X+K+hBceXOC/7iOCJ5A++xPMS+7J+s4Qrm5/XykqJv+IEg3M85C+fhyp4hRsfQwfqMwfc6t+YgqgFbICbwoX+LXYcEcO+LvRrqOo6Mge8gOMBjsFL5YdMKMKZ5x/kKH44DcEYqubYaXVGlE2pzMI0Nj56s0LRVT0npRjD8tWngAhXFbKFmpbmq54Vabe+MHGgndFNanVEl7ZHSGc+3muJJOCvntYvcKrpg23bTRcdQYlvP+gP11HoIps+hCM9YFOs4pdnvKhPPHe+IE75FG4hEdONMFWFz3GpPr3NJd6Ew+/6YjoEjz8cplmqDkMJpm7nGBHOEYAO3mGzNWgpDQ5zHisoSx9lqcc5ILtaNNzG2eHoWC3J95R1xLZ78p5vzsUGow8CQ9WFlM41PRMnKzxXtwrgOXfuWB0DydXVKNUFam0oRU9XUDI+z/wHD6y+FGTqe5prjCU+tZpljtCxEds6+D3gx/hs4zUa+lkOH2c3hufYeYVhlZgzSq4y/KdxUvoD4GQNEXnCCHIDLn4LKDEdZpPC6ll3kibS2fRw56J7bX2tZZAXmcGvkAWPvOT/g4SprhTVTfJ7+eGPk1EszxLhRlpN0BHzZ+1FwtaPUU0SD8fg+u785IeGXSgLxFffAtSwcEjbGb0FrSxOxT2tWIx4HemYlOteq6emYHgnjzLLmG5pmRLlDMBcE0aoiZH1HoajrHlNSQI32OkKVY5IoA2iVpU9w474Vk5RHKmAMj7+pD6xL6ySt4l63clmIa5GCabYo9Ri2y9NBisCe+tTenjvSLK8IOteshAxqJ99Ip4eP/6raV86H80crSMtTPAOTRMeZrZSKu/AxN5RtonGhXx4V4cC1p1Q9BZDLvCZftdbelc4ywtyFxVN8MU098TUaFVJoMtFbUBGhVZ6UCoMh4usJc7ELtNNsvIun4e4aKvEoDeTskZlWrYkbbw1EU9M+klB+zkEdzszTc7DlmudtSzEXBQ5RmnVsvikBZzjYlxhwGoFndbN45TPVDcDN9/7wByBmB5ShOar3WezBiLXgGPQ1FzNLj4M+upRH4Jr4eiAE1UH8YACh7AePb9qNUg39+yYA+ovdkpgvlYG0WD5vcdbTr3hX1R+QJlP2/XIv7r9TfABRylj0CEXYLHj6aU3QGkTY8+bcirmlHyc3++xaio3tn0wlBohvA25TNeYbbBxCH8YNyakGrjrSTaKUvr4qcpl29XYBH2JOhGAtcqAS5G7m2ZxJQMNpui/suw7tETY/2ays0ACxXoljkb9XRDjXb2Nfhvfj/MnCWvkDnFkwqm2eEvQPP/Q3SkQZbFuT+edHWpHAdkbNuux5XGHaiaqbLCPIuvudW+J7FXum58DBNjIepA7eqm33Bj4hmgvtSByaErZQHdI7X+W5E0kiU8d4PI7cuol2SeUzdlF9p07npPgnlB4ZuLqv8mthzuUDnUIXXK6moopUm6EIJwgFGP/QqvxL3dwAVXxNgniy/jf1t3nsWGiSdj6CNLnChKIOlL+Jt4/CcUtExAK2eFoAct4W/TYWWpoNolhberwSmdyPKH6J/0g339UnlQkcZ5GV4Ql/riPIrXWsAtLZ0hvkFXvCzsKQ3hMrr+/jVinbztXQCXcH+CSA6SlCm+a+rYV7o1uLQyTY63vtSv7AmVs31dR3praxY0U4/36GZZgmWcZSbbi3eAMxDGdfqSE6sl0oxC8oOkW6lIcj9G4sUf52wtqf7Z8ftoyPoZFldUr3ey3+dp9yyGBsONipOz3npiAHQOjaR22Ds9qI5nlaSKulaA5DnSnzMmeZH+NBfRznrhWiuXo3In+GK7YXr1P8PXwh91611L4zEOKdgcIsPkUFI1HGdk/xo4lRXX3N7XWrYl/CKREfayU04Z1d8r/uwJQbtuUN75Na9lP9biToNWDkDoJWI2Qp//LQn7RimXJ8wvR7rUalHk+LDEe+dbzJWQoOTW12H8TQB6l/GFt4+V5TwSM0GQJbivt+GQT2KrucVbmOHwN27GXVpG+UEKLVOEbUbEndMhwaQ+2MXS5CIZ9JVfAsetzCp1Iefysa0WrRCy19PkZvruKuYjXLuDLfup9l+EwpS/phcwq/tazKSndAKLF/BUicbvTW2wq2Qk+wmiKlncZ7etRht9GWUfzWnj2O4PR3nxvfD1xr8+cb/txjynJ+dSL3Y088fMF9HZ5ozXcjPJGmi3nIyDN638Cxb4guvh/TYhKXO88AoYroOakhueQOZrwzUzCi/LdzutuUxdBTNNfe6UI4zZTMk3X/g2aKVhhY5+Up8h9yVStE7aO2IejT4TvwErnMHzTN/0Z31oPsNQJ7chIhbQLkPRSTsjtcfiKfRoaBa7tSEqDnjvTSX4Qp2cQ88fZY4Jns/TH3IT5hRkTDXrTMdjVM8i86JF4dOl1UObUJrCn0TP4NR+o8dxefQTGRA6Nv4yJatU/GhOfTbeKY+eLfVzLQmJr6bCuIsroCyCa2JPP+ZZVpNyD4Hg7Mn+Wav6isCF9/SPPURukYHPjkDkJDw38JP7VAYe3+nJZGbabr5ZIqgID7nS0hIqA86dVq+yFAq4hk30Y0kBiAhoavRSTp9yq8SlGk16QYSA5CQ0NXoYCctwfukXLNpN5AYgISEruR0uyEUvX9E8VWsTghK8dN7dwOJAUhI6EoytC3l/hJyseuvIvRKrX33601iABISupJsmVmAPuEKQCUxAAkJXUk421G4jIrtij9dVhtJP4CEhK5khB0LZY+ZZZrm0xxTvz+4k5CQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkPBfDNH/AY+O2zzm8xElAAAAAElFTkSuQmCC","points_","parseBoundary","holes_","parseIndoorGeo","MULTIPOLYGON(((","GLEN1","Circle(((","CLEN","hasHoles","Writer","util","roots","ESCityLicSet","mtime","Hash","AngleX","AngleZ","minX","Long","fromBits","minY","maxX","maxY","offsetbid","offsetroad","tileurl","bidnums","Remark","styleid","cids","logotoken","tiletoken","other1","alist","uint32","int32","ltime","nameEn","adcode","double","AngleY","int64","modnums","other2","eid","bidlist","encodeDelimited","encode","skipType","comparehs","decodeDelimited","verify","object expected","isInteger","v: integer expected","ltime: string expected","Hash: string expected","_id: integer expected","tid: integer expected","adcode: string expected","AngleX: number expected","AngleY: number expected","AngleZ: number expected","x: number expected","z: number expected","high","minX: integer|Long expected","low","minY: integer|Long expected","maxY: integer|Long expected","offsetbid: string expected","offsetroad: string expected","tileurl: string expected","bidnums: integer expected","modnums: integer expected","styleid: string expected","token: string expected","cids: string expected","logotoken: string expected","tiletoken: string expected","o1: integer expected","o2: integer expected","ul: integer expected","other1: string expected","other2: string expected","l1: integer expected","l2: integer expected","l3: integer expected","l4: integer expected","alist: string expected","bidlist: string expected","fs: integer expected","fromObject","unsigned","LongBits","toNumber","fromValue","defaults","longs","toJSON","constructor","toObject","getTypeUrl","type.googleapis.com","sceneOrtho","canvas","onload","translate","rotate","drawImage","Texture","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABCFJREFUeF7tmU2IHEUYht/ahVVBWPAmahDEP/SgiEgGhHpnV/AXEUwgUdRDUAPiQcQQjJhgDMHFUw5uCCL+CxGUqBNRt78aVkYJ4sGLIogeRRA8BHSXnSmptXpoJ7PdXeNuOz/Vp6ntqnq/76n3q67uVZjwS014/ogAogMmnEAsgQk3QNwEYwnEEphwArEEigwgIs8X9Rnm+yQP5cVX6AAP4OAwJ5kTmyHJCCCHQKgDnBOaI+AG8TFuugMOFtXU/w1HRDSACCA64B8CsQQ2+ykQ94AR2QS7h7eJc0DoUyj4HDDsDogAAglEBxQB63kZGvqnQFE+vfcrc0Cz2byy0+lckgZA0vQLttFonDc7O3vp6urqZQC+IXk2JKmyOumclQEQkc8A3OaF+zrJGHOrtfYEgKu7ASrVstbuI/llGRBldLLzVALAGLPfWnskI3wOgCRJ7lJKvQ/g/D6J/glgJ8mP8yCU0am8BIwx2621rR7hcwCIyJsAHnT9rLUNpdSCtfa4UuoqP/YkyZ0bASirUzkAETkD4OY8ACJyDYDvfZ8/ANxI8pdWq3XRysrK7+nYdrtdm5+f/6ofhDI6/cZtaQkYY1621j6V1j2A9NPavxwgIi8AOOD7nSZ5ZxpskiSfKKXS9lGS+3sTKatTKYClpaV7pqamTnlLn1FKNXIAHAPwhOurlHpXa707DVZEFgE85tvvkdyVTSREpzIAInIhAGfV653o9PT0de12e0cOgG79AzhO8vEMgGcBHPbtr0luz9wL0qkSwCsA1pNwj7B6vf5S3oFKRD4CcLfvv1Cv159JgzXG7LLWvuPbv5K8OAMgSKcSAM1mc3en03nbi31I8j73uwDA5wDm/ZjDJJ/LJHk7gNO+/RfJC9zvQXS2HMDy8vK2tbW1BMAV1trfrLW1ubm5n0oAOAngfr8HHNNaP5kB4JzkVtpdP5C8dlCdLQfQs8r9jrrui6270nvum90hEXGnvz0ewBta64fTYJMkOaKUSnf+T0neMahO1QD66fX+bf1xKCILAJ72e8Cper1+b2YPeN1a+5BvL5LcO8B/qzZ8idvUc8CggYnIIwBe8w74Vmt9U6YEvgAw59t7SS4OqrPlDshb8qLXahH5GcDlfo49JF8VkQcAvOXB/DgzM3NDrVZz7wUbXkU6vQM31QH/JTAR2QfgaM4cB0i+WFRXIwvAJSYi3RNhNlGl1Amt9aNFyfs53BfhvkfuYSiBbgwbfVw1xuyw1t4CwO0DRin1ndb6gzLJZwAU6qQdKiuBsglU3S8CKCIeuqkUzTds94MdUDaBUfkHSiiAsvmDZOHcpSfbwo6FQQ5w6loPd9wABK/B2JRAcOYjNqCwBEYsn+BwI4BgZGM2IDpgzBY0OJ3ogGBkYzYgOmDMFjQ4neiAYGRjNuBvBlC9X+GunrcAAAAASUVORK5CYII=","img404","dynamicBufferGeometry","normalizeUv","showChild","findChildById","range","hiddenChilds","hideChild","clearAll","holes","getChildIndex","genGeo","subarray","deleteChild","sideRange","getDis","Shape","normalizeTop","lineTo","Path","ExtrudeBufferGeometry","boundingBox","Vector2","error face","transformCoordArray","offsetZ","addChild","getChildByRange","texture","aoTexture","colorStr","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                ","\n                uniform float opacity;\n                uniform float iTime;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                ","\n                    vec4 resultColor = vec4(outgoingLight, opacity);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 2.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    col += (colors * m);\n                    col.rgb *= 1.5;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    ","createSprite","render","components","manager","enabled","component","_invokeFunction","removeComponent","THREE_","THREE","1.0.2","webgl2","esmap","Ajax","Promise","resolve","callbacks","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","loadTexture","ESDirection","none","floorBase","label","modelBase","externalModel","polygonMarker","locationMarker","lineMarker","cardMarker","mapRoad","ShowBuildingMode","ESElementType","poi","modelImage","This map has already expired,please contact esmap to download the latest map!","Token is not correct","Error version","Maximum es3dMarker limited","Cannot get audio token","Data type must be an array","You cannot display allFloors in viewMode 2d","Invalid source type.Please check out your request url","Your license has expired","License data error","current is online licensce , please contact esmap to get offline license","This feature is not authorized","ESLineMode","ESLineType","full","dotted","dotDash","doubleDotDash","triDotDash","esarrow","ESViewMode","EScontrolSize","small","ESControlPositon","ESBuildingType","onerror","noWebGL","ESComposerRender","ESMapPoi2","ESMapPoi4","ESMapScene","ESMapSceneUtil","ESComponent","Component","ESComponentsManager","ComponentsManager","ESMapGestureController","ESNode","ESElement","ESFacility","ESLocationMarker","ESPolygonMarker","ESModelImage","ESTextMarker","ESLayerManager","ESControlOptions","ESControlOffset","ESScrollFloorsControl","ESToolControl","ESZoomControl","ESNavigation","ESNaviResult","ES3DMarker","ESNaviCore","ESMapScaler","ESBuilding","ESRoomTexture","ESWebViewMarker","esmap.ESWebViewMarker å·²å¼ç¨","ESModelGroup","ESTextureLine","ESLineMarker","ESLine","ESMapNavLineGeometry","bidList","getPath","buildingSearchJson","sent","datas","bids","cenx","ceny","keys","delegateYield","typeID","createIndex","continue","keyword","search","colorRGB2Hex","intersectPolygons","toRgba","getMapScene","getAlias","getControlsInfo","setControlsInfo","getTileNumsByPolygon","isArray","computeCameraStateByBounds","getOrthoCameraSizeByPerspectiveCamera","setFloorAlpha","restoreFloorAlpha","getModelTypesCount","getModelsCount","searchModel","getRoomDirection","_setGeneralProperties","getExtentByPoints","buildBezierCurvePoints","interpolatePoints","buildCurvePoints","GCJ02ToWGS84","transformBD09ToMap","transformGCJ02ToMap","transformMapToWGS84","getDistance","timestampToTime","color format error","intersectsPolygonAndPolygonNew","containPolygon","rgba(","toFixed","userAgent","Android","iPhone","SymbianOS","iPad","iPod","getPolygonBounds","camera","[object Array]","sin","fov","aspect","DEG2RAD","getFloor","modelbaselayer","modelbases","modellayers","models","typeid","RoomStyle","MODEL","lastAlpha","o3dFloors_","hideOnComplete","getBuilding","modelStatic","modelTypesCount","CITY","key","buildingList","islocked","GLTFMergeTool","types","facility","imageMarker","classID","floorNums","tileList","indoor","polygon","getTileById","ALL","dataID","radius","FACILITY","MapUtil","getMapCoordDistance","node","dis","load","initY_","computeExtentByPoints","QRSTUVWXYZabcdef","ghijklmnopqrstuv","ABCDEFGHIJKLMNOP","wxyz0123456789+/","charAt","segments","equals","RAD2DEG","screen","DIV","GCJ02","exp","BD09","asin","cos","getMonth","getDate","getHours","getMinutes","getSeconds","_tweensAddedDuringUpdate","_tweens","getId","_isPlaying","_nextId","hrtime","now","performance","_isPaused","_pauseStart","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeatDelayTime","_yoyo","_delayTime","_startTime","_easingFunction","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onRepeatCallback","_onCompleteCallback","_group","nextId","stopChainedTweens","_repeat","_onStopCallback","updateCountDown_","_onStartCallbackFired","_reversed","Utils","Bernstein","CatmullRom","Factorial","CopyShader","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","uniform sampler2D tDiffuse;","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","LinearFilter","RGBAFormat","getSize","_width","_height","WebGLRenderTarget","_pixelRatio","EffectComposer.rt1","renderTarget1","renderTarget2","EffectComposer.rt2","writeBuffer","renderToScreen","passes","THREE.EffectComposer relies on THREE.CopyShader","THREE.EffectComposer relies on THREE.ShaderPass","copyPass","readBuffer","renderer","getDrawingBufferSize","getRenderTarget","isLastEnabledPass","needsSwap","NOTEQUAL","stencilFunc","MaskPass","ClearMaskPass","setRenderTarget","getPixelRatio","setSize","Pass","clear","THREE.Pass: .render() must be implemented in derived pass.","OrthographicCamera","PlaneBufferGeometry","_mesh","state","setMask","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","KEEP","RenderPass","overrideMaterial","clearAlpha","clearDepth","autoClear","getClearColor","getClearAlpha","setClearColor","clearColor","autoClearStencil","tDiffuse","ShaderMaterial","UniformsUtils","defines","fsQuad","FullScreenQuad","ShaderPass","textureID","autoClearColor","autoClearDepth","FXAAShader","uniform vec2 resolution;","#define FXAA_SPAN_MAX     8.0","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","gl_FragColor = rgbB;","CSS3DObject","absolute","CSS3DSprite","CSS3DRenderer","hidden","domElement","preserve-3d","elements","matrix3d(","translate(-50%,-50%)","copyPosition","objects","projectionMatrix","isPerspectiveCamera","WebkitPerspective","updateMatrixWorld","getInverse","right","isOrthographicCamera","translateZ(","CSS2DObject","CSS2DRenderer","overflow","relative","setFromMatrixPosition","-100%","-50%","updateAlign","computedScale",") translate(","offsetX","offsetY","oTransform","insertBefore","HTMLEvents","initEvent","popMakerCreated","targetELement","distanceToSquared","distanceToCameraSquared","zIndex","lookSpeed","lookVertical","activeLook","heightSpeed","constrainVertical","verticalMax","autoSpeedFactor","mouseX","phi","moveForward","moveBackward","moveLeft","mouseClickMoving","mouseDragOn","mouseMoveOn","viewHalfX","stopAsap","stopAsap2","cruisingMode","lookAtTarget","cruisingAngle","rotating","tabindex","handleResize","viewHalfY","innerHeight","onMouseDown","focus","button","onMouseUp","onMouseMove","pageX","mouseY","pageY","clearTimer","onKeyDown","moveUp","moveDown","onKeyUp","moveRight","clamp","heightMin","heightMax","heightCoef","movementSpeed","nextPos","translateZ","translateX","translateY","verticalMin","lon","lat","theta","mapLinear","mousedown","mousemove","mouseup","contextmenu","ESGLTFLoader","dracoLoader","anonymous","removeAll","resourcePath","LoaderUtils","extractUrlBase","itemStart","itemError","itemEnd","FileLoader","crossOrigin","decodeText","KHR_BINARY_GLTF","action","asset","gltf version>=2.1 supported!","hash","MODEL3D_ERROR","ESMAPOK","GLTF","scenes","accessors","bufferViews","textures","images","samplers","URL","extensionsUsed","KHR_MATERIALS_UNLIT","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_DRACO_MESH_COMPRESSION","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM","ESCache","timeMap","KHR_binary_glTF","KHR_draco_mesh_compression","KHR_lights_punctual","KHR_materials_unlit","KHR_texture_transform","MSFT_texture_dds","DDSLoader","KHR_LIGHTS_PUNCTUAL","extensions","lightDefs","lights","loadLight","directional","DirectionalLight","PointLight","spot","innerConeAngle","outerConeAngle",'THREE.GLTFLoader: Unexpected light type, "',"decay","light_","extendParams","baseColorFactor","baseColorTexture","assignTexture","glTF","content","header","getUint32","magic","THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.","byteLength","JSON","THREE.GLTFLoader: JSON content not found.","getDecoderModule","decodePrimitive","componentType","getDependency","decodeDracoFile","normalized","extendTexture",'THREE.GLTFLoader: Custom UV sets in "',"lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementBias","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio","ShaderLib","standard","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif","#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","vec3 specularFactor = specular;","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","float glossinessFactor = glossiness;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","PhysicalMaterial material;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;","uniform float roughness;","uniform vec3 specular;","uniform float metalness;","uniform float glossiness;","#include <metalnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <lights_physical_fragment>","roughnessMap","metalnessMap","setHex","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularMap","isGLTFSpecularGlossinessMaterial","normalScale","specularGlossinessParams","diffuse","lightMap","isWebGLRenderTarget","uvTransform","flipEnvMap","reflectivity","maxMipLevel","properties","__maxMipLevel","displacementScale","USE_ROUGHNESSMAP","USE_GLOSSINESSMAP","Interpolant","copySampleValue_","resultBuffer","valueSize","beforeStart_","sampleValues","Matrix3","Vector4","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","MirroredRepeatWrapping","FrontSide","NeverDepth","LessDepth","EqualDepth","LessEqualDepth","GreaterEqualDepth","NotEqualDepth","AlwaysDepth","AddEquation","SubtractEquation","ReverseSubtractEquation","OneFactor","SrcColorFactor","SrcAlphaFactor","DstColorFactor","OneMinusDstColorFactor","skinIndex","morphTargetInfluences","InterpolateLinear","InterpolateDiscrete","CULL_FACE","SCISSOR_TEST","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","BLEND","gltfExtensions","extras","POSITION","accessor","morphTarget","setXYZ","getY","getZ","morphAttributes","updateMorphTargets","weights","targetNames","THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.","bufferView","indices","primitive","promise","baseGeometries","baseGeometry","primitives","isInterleavedBufferAttribute","itemSize","getW","targets","primitiveCache","multiplePrimitivesCache","multiPassGeometryCache","textureLoader","setCrossOrigin","fileLoader","setResponseType","cache","markDefs","getMultiDependencies","animation","cameras","skins","joints","skin","meshReferences","meshUses","loadMesh","loadAccessor","loadBufferView","buffer","loadBuffer","loadMaterial","loadAnimation","loadCamera","Unknown type: ","THREE.GLTFLoader: "," buffer type is not supported.",'THREE.GLTFLoader: Failed to load buffer "',"byteOffset","sparse","values","BYTES_PER_ELEMENT","byteStride","InterleavedBuffer:","SCALAR","setArray","setY","setW","webkitURL","source","mimeType","createObjectURL","Loader","Handlers","ddsLoader","revokeObjectURL","format","sampler","magFilter","getMaterialType","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","MASK","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","sRGBEncoding","encoding","loadGeometries","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","isSkinnedMesh","SkinnedMesh","normalizeSkinWeights","TriangleFanDrawMode","Line","LINE_LOOP","POINTS","Points","THREE.GLTFLoader: Primitive mode unsupported: ","mesh_","isPoints","PointsMaterial:","PointsMaterial","Material","isLine","LineBasicMaterial:","ClonedMaterial:","skinning:","flat-shading:","morph-targets:","cloneMaterial","skinning","vertexColors","VertexColors","flatShading","morphNormals","onBeforeRender","refreshUniforms","Group","THREE.GLTFLoader: Missing camera parameters.","znear","zfar","orthographic","xmag","loadSkin","inverseBindMatrices","channels","parameters","input","output","matrixAutoUpdate","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","arraySlice","AnimationUtils","createInterpolant","getValueSize","animation_","loadNode","isBone","Bone","_instance_","isMesh","PropertyBinding","sanitizeNodeName","loadScene","isGroup",'THREE.GLTFLoader: Joint "%s" could not be found.',"dir","dist","lerpPathPoints","lerpVectors","widthScale","PathPointList: points length less than 2.","_corner","_end","_getByIndex","subVectors","crossVectors","QuadraticBezierCurve3","_getCornerBezierCurve","getPoints","_hardCorner","acos","dot","_includeDrawingPoint","_lastPoint","_lastFixedPoint","fixRadius","_cornerSplit","_pathPointList","_dirty","_cornerRadius","cornerSplit","pop","_drawing","_points","_getLastFixedPoint","getPathPointList","confirm","setUsage","DynamicDrawUsage","setDynamic","drawRange","_updateAttributes","usage","setLength","_resizeAttribute","updateRange","radialSegments","startRad","applyAxisAngle","getIndex","PathPointList","Path3D","SelectionBox","Frustum","startPoint","endPoint","collection","watchlist","select","updateFrustum","searchWatchlist","updateProjectionMatrix","unproject","deep","planes","setFromCoplanarPoints","WARNING: SelectionBox.js encountered an unknown camera type.","preWatchs","boxSelectPoints","intersectsBox","pickType","buildingBounds","mapExtends","containPolygons","clonedMats","containsPoint","searchChildInFrustum","originalPoints","computeBoundingBox","findGroup","SelectionHelper","pointerEvents","border","1px solid #55aaff","backgroundColor","fixed","pointTopLeft","pointBottomRight","selectionBox","isDown","onSelectStart","onSelectOver","0px","onSelectMove","parentElement","matInfos","HeatMapMaterials","floorEdges","getPixXY","config","mapOpacity","maxSize","gradient","rgb(0,0,255)","rgb(0,255,255)","yellow","rgb(255,0,0)","getContext","ctxCopy","canvasCopy","renderShadowCopy","boundVal","shadowColor","rgba(255, 255, 255, ","shadowOffsetX","shadowOffsetY","shadowBlur","arc","closePath","rgba(0, 0, 0, ","beginPath","colorize","ctx","getImageData","renderToFloor","å±ç­åå¾éè¯¯ï¼è¯·åæ§è¡setFloorNum","_hasHeatMap","mat","matTool","heatmap","focusAlphaMode","getObjectsByAlias","originalUv","originalMainMat","originalStatus","depthWrite","originalColor","antitrans_","disposeHeatMap","texture2","getPalette","createLinearGradient","addColorStop","fillStyle","fillRect","addPoint","renderShadow","clearRect","getHeatMapTextures","copyCanvas","addPoints","randomPoints","bgColor","isShowBackground","transFactor","texture1","\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t","\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t","\n                ","#define IS_BG","\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                ","\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                ","animate","__lastPhi","__viewModeAnimating","lastSelectStore","__moveToId","TEXTURE_LOADER","3.0","minPolarAngle","baseDistance","mapPickHighLight","ESMapTheme","zonTempObj","change","controlsChange_","viewMode_","deltaVec3","scaler_","flyController","hideRecord","controlend","scaleLevels_","timer","timerImmediate","_selectModelAlpha","matList","animatque","o_count","tileConfigs","focusBuilding","resize","MapInited","firstPersonControls","FirstPersonControls","firstPersonAnimating","initLocalScaleLevels","_fullscreen","FullScreen","updateTile","loadComplete","hoverMode","viewModeChanged","popMarkers_","localMoveTo","usrkey","ESMapInited","updateCssScene","maxBuildingZoomLevel","localScaleLevels","stopCruising","lastCruAngle","toClearId","exitModeOnEnd","needAnimate","originalRotateAngle","firstPersonMode","beforeCruiseState","originalTiltAngle","originalScaleLevel","originalControlState","getModelInfo","modelInfos","cruisingByPoints","easeOut","tiltAngle","tileMode","pointToPointAnimate","scaleLevelTo","beforeStart","userIntersecting","noFly","initCssScene","cssFactor","PerspectiveCamera","firstCameraPos","cssCamera","Scene","autoUpdateObjects","mixerPlane","onMapResize","openBuildingById","å»ºç­å·²å¤äºæå¼ç¶æï¼","tl_","TOO_FAST","preLoadBuildingId","openBuilding","fadeTo","getAzimuthalAngle","getPolarAngle","meshLoader","toHandle","lineLayer","modelImageDatas","modelTextureDatas","modelLineLayers","modelImageGeos","modelTextureMeshs","modelMats","cleared","dynamicShows","queue","toAddQueue","modelManagerStarted","isLoadedAll","logomatlist_","updateLts","resetAll","openMap","IsMapLoading","maxPolarAngle","enablePanDistance","panLimit","loadBuilding","buildingRouteDataLoaded","buildingService","navs","setState","mapNameEn","DefaultCenX","DefaultCenY","Firstscale","clearTrans_","userBgColor","setBackgroundColor","clearColor_","buildingMapLoadComplete_","initMap","queryTileTheme","catch","themeLoadError","tileMapInited","getDistanceByZoomLevel","minZoomLevel","cameraTop","solvingList","currentView","requisitesQueue","modelLoadedAll","tileModelInited","tryFetchBoundary","_start_","_disableTileUpdate","tileScene_","building loaded","setting view","setOriginCameraPosition","ESTileMap","Tools","toggleTileLayer","unsetScaleLevel","loadComplete_","buildingLoadComplete","finish","esaudio-1.2.mp3",".mp3","setTilesVisible","modelBasicMat","cacheBuildings","shell","buildingScene_","showBuildingMode","tilePlanished","enter","emit","moveComplete","tileid","hideFloorBase","checkToLoadedBuildings","toLoadedBuildings","è¯·ä½¿ç¨ESMapåå¸å°å¾ç¼è¾å¨ç»å®è¯¥å®¤åå°å¾!","loadTile","clearLineMarkById","clearAllLineMark","drawLineMark","onUpdating","pickable","added","originHeight","navigateStyle_","smooth","_analyseRawPoints","ç»çº¿ç¹éæ°æ®éè¯¯","lineManager","nobuildCurveZ","curvature","-&-","crossFnums","bid_","originalLength","screenshot.png","ULTRA_HD_ERROR","updateSize","cameraOrtho","toDataURL","download","createEvent","click","newTab","document","title","Screenshot","change3dColor","mapmodel3ds","layers","change3dVisible","_type_","MODEL_POI","MODEL_IMAGE","isHideFlags","merged","setTargetMeshVisible","finded model iamge....","RoomLogo","changeBuildingColor","MODEL_BASE","buildingColorStaged","highLightFlags","highLightColor","addBuildingColorStaged","changeModelColor","colorMap","getTileBuildingByMapId","raycastByCoord","startCoord","endCoord","debug","cubeTip","red","strokeStyle","green","globalAlpha","stroke","cameraFlyToHelper","getCenterLonLat","cameraFlyTo","directionAngle","changeFocusFloor","initDistance_","pitchAngle","tapTip","getElementById","spanId","group","RoomHigh","popDiv_","storeSelect","tiltTo","raw","emitError","çç¼©æ¾çº§å«","getScaleRate","setScaleLevelLimit","minScaleLevel_","initScaleLevel","scaleLevelIn","scaleLevelOut","zoomIn_","zoomOut","zoomOut_","background","setModelSelectColor","prepare_","themeList","queryBuildingTheme2","setThemeList","queryBuildingTheme","isSelectFlags","selectNull","selectMat","setSelectColor","POLYGON_MARKER","polygonSelectColor_","LINE_MARKER","selectedLineColor","cachedTiles","addToCache","unloadTile","unsetArea","userTiles","change3dOpacity","userScene","selectModelNull","Model3DSelectColor","isMergedWall","originEMS","naviMap","lastColor","isSelected","line","_originalWidth","setRadius","_originalRadius","storeModelSelected","setBuildingTip","customClass","setTapTip","defaultTemplate","hideTip","setModelAlpha","originalOp","setCompassPointerUrl","compass","setPointer","setCompassBgUrl","setBg","restoreModelAlpha","_canPicked","pickFilterFunction","getO3dScene","getTileFromCache","loadTile_","queryTileScene","__bo","getTileScene","failedTiles","needNewTileByRoutes","routeDataLoaded","tileUpdated","loadCompleted","setUserNavLangLib","langLib","getMapNavLangLib","navLib","getMapGenLangLib","generalLib","closeBuildingById","building do not exist","preCloseBuilding","break","shellId","entered","exit","buildingCache","loaded","hold","closeBuilding","showRoomModel","oz_","verticesNeedUpdate","faces","vertices","hideRoomModel","isCoordInView","frustum","closeAllBuildings","zoomLevelTo","storeSelectLine","multipleSelect","selectLineNull","originalMat","pickedObjects","propogation","seeThrough_","__ignore_box","Unknown Object,skipping","clickOpenBuildings","bimInfoLib","bimLoader","getInfo","infoList","logModelInfo","diableClickEffect","getMatIndexByFaceIndex","faceIndex","computeModelInfo","FLOOR","LABEL","worldCoord","propogationIndex","mapClickNode","raycaster","mousePos","pickerNone_","hitCoord","mouse","NONE","keepPress_","intersects","IMAGE_MARKER","TEXT_MARKER","mapKeepPress","stopAllAnimate","_insureUserCoordInbounds","coords","flipX","x or y contains NaN:","localCenter","requireUpdateCollide_","__isChangeTheme","_stop_","panRange","mapplane","_haveUpdate","tileLoadComplete","loadPois","tileInited","modelInited","_checkTileModelInited","initialTileId","initialComplete","queryTiles","computeLocalScaleLevel","tileShowLevel","initViewState","__mbs","preLoadComplete","checkTileView","_sdu","WELL","_em","share","initTilesView","_cdu","tileDisabled","unloadBuildingById","TILE","maximumTiles","computeCenters","buildings","tileSize","modelLoadings","mergeQueue","handling","checkPanLimit","_lastValidCoord","updateText","autoOpenBuilding","isAnimating","autoOpenLevel","pointInArea","scaleLevelChanged","updateCollide","validRange_","focusFnum_","box3_","floors","floorCenter_","maxScaleLevel_","defaultControlsPose","MODE_2D","addLocationMarker","removeLocationMarker","getModelByName","getScreenCenter","coordScreenToMap","setFromCamera","forceUpdate","intersectObject","coordScreenToScene","coordMapToScreen","project","w_2_","h_2_","getPopMarkerById","getUserScene","popGroup","clearPopMarkerById","close","stopRender","reRender","forceLoadTiles","tileGrids","Tilelimit","queryTilesByNum","secondViews","forceLoadSecond","onProgress","_rotateToID","targettocamera","gestureController_","fullScreenAvaliable","available","fullScreen","request","cancel","layerLocalHeight","lineStyle","dash","size","gap","minX_","minY_","maxY_","getCurrentScaleLevel","scaleLevelValue","viewCenter","toUpperCase","viewMode must be 2D or 3D","force2D","lastTiltAngle","zoom","viewModeAnimateTime","themeName","themeName_","themeID_","themeDataSrc","updateBuildingTheme","showScaler","zoomLevelInt","shadowEnabled","castShadow","shadowLight","shadowAngleX","lightAngleY","shadowAngleY","sceneId_","mapName","NameEn","maindeltaTime","MapControls","maintimer","registerEvents","dumpScene","webgl","COLOR_BUFFER_BIT","Cache","resetControls","registerMapControllerEvents","controlsReseted","mapClickObject","pageVisibility","screenX","webkit","moz","visibilitychange","visibilityChanged","controlstart","updateDirection","spriteBg_","spritePt_","compassOffset","_minResolution","_maxResolution","effects","WebGLRenderer","highp","sortObjects","devicePixelRatio","vFOV","cam2control","vFovHeight","rotationAutoUpdate","composer","ambientLight","mainLight","secondLight","initCss2dScene","hide","visibility","unset","setOrthoZoomLevel","resolution2Level","distance2Resolution","level2Resolution","getWorldDirection","getLocalCenter","onWindowResize","reSize","rendererCss","getViewInfo","getExtension","WEBGL_debug_renderer_info","  GPU: ","getParameter","UNMASKED_RENDERER_WEBGL","tileZoomLevel","MODE_3D","getOrthoZoomLevel","calResolution","<h5>æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨</h5>","compassRaycaster","isPicked","ebp_","tapcount","debugPick","lastHoverTarget","hoverUserObject","isPc","touchmove","touchend","BoxPicker","BoxPickerHelper","ESSelectBox","onmousedown","onmousemove","onmouseup","touchstart","checkHover","hoverList","hightLightObject","unhightLightObject","findAndDelete","traverseTarget","hovered","$originalEmissive","#f49452","lineGroup","$originalColor","hoverBuildingModel","floornum","$ESMapPlane","clearSkyBox","obb","isVisible","disableOutdoorClick","getChildByFaceIndex","hover","onOver","hoverObject","isStaping","enableBoxPick","mousemoved_","clickCompass","compassClick","getPick","touches","endClientX","startClientX","startClientY","endClientY","focusTileId","centerTile","indy","boxPickedObjects","mapBoxSelected","documentElement","android [23]","chrome","opera","mobile","MSPointerEvent","pointerEnabled","WebKitCSSMatrix","m11","MozPerspective","DocumentTouch","experimental-webgl","msLaunchUri","documentMode","android","browserLanguage","language","trim","escapeSpecialChars","splitWords","stringLength","splitContent","replaceVariable","getAlignPoint","getFont","splitTextToRow","font","measureText","_default_","textFont","textStyle","textWeight","textSize","px ","textFaceName","textLineSpacing","textWrapCharacter","textWrapWidth","text","_enabled","addHooks","disable","removeHooks","dom","materialPt_","materialBg_","compassBg","compassPointer","lw_","lh_","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","autonavi","PLANISH","255,255,255","DefaultCityOptions","minZoom","minAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","enableIncline","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","mouseButtons","MOUSE","RIGHT","position0","initTop_","saveState","target0","zoom0","drop","setFromUnitVectors","applyQuaternion","forceTheta","forcePhi","maxAzimuthAngle","wheel","Spherical","setFromMatrixColumn","WARNING: MapControls.js encountered an unknown camera type - pan disabled.","maxZoom","orthoLimitSize","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","rotateSpeed","deltaY","BOTTOM","LEFT","ROTATE","ROTATE_UP","ROTATE_LEFT","PAN","MIDDLE","DOLLY","DOLLY_ROTATE","EventDispatcher","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","loader","modelLoader","modelLoadingList","toLoadedCount","autoLoad","concurrencyLimit","mapModelsCount","mergeQueueWaiting","mapModelLoadStatus","userMergeQueue","lasViewCenter","hiddenFactor","maxShowModels","mapDispose","checkMergeQueByShowLevel","setFrustum","inited","addMapModel","__singlemesh","__nomerge","rankRequisites","rankSingModel","addUserModel","ES3DMARKERNUM_ERR","layerid","applyToMap","applyRequisitToMap","startLoadModelsByShowLevel","iswall","toLoaded","modelLoadComplete","focusAlpha","startLoadModelsByFLoor","targetAndBuildingList","disableIndoorClick","loadExist","invisibleMergeModels","dynamicLoadModels","isModelVisible","disposeInvisible","setFromMatrix","sizeInfo","bclick","focusFloorNum","applyMergeToMap","checkO1","checkIfNeedLoad","userModelLoadStatus","loadUserMergeModel","modelrank","keepalive","ind","rankAllModels","_ef_$floor","floorObj","_ef_$fl-id-","floorLabel","marker","isWall","gid","lod.gltf","brief","find","èªå®ä¹å¨ç» "," ä¸å­å¨","setAlpha2","wallmodel_prefetch","model3DsRGBCity","isMaterial","jpg","LinearEncoding","modelPrefetched","setMatAlpha","esline","__bindupdate","__bindchange","controlchange_","controlchange","bindedUpdate","updateLineTextureOffset","updateColor","fetchTexture","fnums","transparentObj","view","isFlying","flyTo","moveSpeed","can not find esmap.ESDirection data","_cameraSphericalRadius","NORTH","SOUTH","NORTH_EAST","NORTH_WEST","SOUTH_WEST","moveToAnimate","flyToAnimate","cameraPosition","flyFocusTo","targetPos","rotateAround","toggleControlsLock","checkScaleLevel","TileService","singleMeshData","ResourcePool","singleMesheDatas","filterSingleMesh","RMS","RMR","CenX","CenY","RMO","authenticate","queryJsonData","2001","MessagePoster","setBuildingThemeData","Type","_convertIndoorFullData","focusFloor","calcSceneBox3","visibleFloors","asyncLoadFloors","enableWaterMark","ESMapLogo","pending","expiresIn","IDBTryInit","ESCACHEV2","IDBåå§åå¤±è´¥,ä¸ä½¿ç¨ç¼å­","updateCacheMap","startTime","cacheReady","tryClearOldVersions","tryClearOutdated","cacheObjects","readwrite","onsuccess","save cacheObjects error","getCacheObject","transaction","objectStore","result","updatetime","indexedDB","deleteDatabase","ESCACHE","clearOutDated","inActiveCacheMaps","mapIdx","openCursor","only","cacheMaps","ESBIM","upsert","put","active","onupgradeneeded","deleteObjectStore","objectStoreNames","createObjectStore","mapid","errorCode","IDBInit Error","modelImageTexturePool","imgs","loadRecords","failed","capabilities","getMaxAnisotropy","image/png","map_","service","loadedList","dropList","privites","areas","LOD","roadGrids","navLoaded","tileUrl","_o1","buildingLoadingCount","buildingHighLighted","defaultView","convertGeo2Geometry_","GData","drawExtent","mypoly","showPolygons","addMarker","debugTileBounds","DOTTED","-BOUNDS","loader_","lic","INVALID_OFFLICENSE","X2BBXGk=","Hash Error","_mo","ESRemark","TOKEN_MISS","TOKEN_ERR","ESTileurl","__trl","__maptk","%cThe ",",updated on ","userCenter","setScene","showTapTip","ESPopMarker","<div> <span id=",">esmap</span> </div>","ESTapTip","#52564b","white","borderRadius","fontSize","span","es-control-popmarker-top","auto","solid dashed dashed","9px","userSelect","setBidList","effectId","isInitTileMap","failedNavs","ESTileMapNavSet","INVALID_TYPE","Nodes","transformTileNavdata","tileRouteDataLoaded","tile","ESTileMapSet","cname","convertTileData","ä¸»é¢æä»¶è¯·æ±éè¯¯: ","theme","getContainerExtent","indx","isValidTile","showBounds","getTileNumbers","ESTileToken","0,0,0","tileType","invalid tileType","buildingScale","vBoundary","tileStyles","filltype","topTextureType","sideTextureType","scaleheight","bidox","bidoy","bidoz","_computedOffset","Fnum","GID","RLSize","Did","Brief","åå«singleMeshï¼ä½æ¯qualityæ²¡æè®¾ç½®ä¸ºlow","warning","RModel","versionCheck","maxV","minV","getTileThemeUrl","/boundary.json","grids1","grids2","tileMapView","tileLayer","frozen","ä¸ç»´åºæ¯","æªç»å®","buildingFoucsMode","isFirstLoading","_mats","dataCenter","shellMap","yoffset","undergroundOffset","udoffset","maptime","planishTilesAround","scaleZ","counters","buildingIDs","çæ¬éè¯¯","ä¸ç»´åºæ¯${1} æªæ¾è´­ä¹°å½ååå:${2}ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°ï¼#${3}","è¯·æä¾ä¸ç»´åºæ¯:${1}çtoken #${2}","ä¸ç»´åºæ¯ ${1} tokenéªè¯éè¯¯ #${2}","ä¸ç»´åºæ¯ ${1} å·²è¿æï¼è¯·éæ°ä¸è½½ææ°çæ°æ®æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} Liscense æä»¶éè¯¯, æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯ãè¯·æ£æ¥åæ°æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} è¯·æ±å¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºæ¯å¦å­å¨ æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯! #${2}","ä¸ç»´åºæ¯ ${1} ç ${2} ååå·²è¿æï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°! #${3}","åè´¹åºæ¯æå¼æ¬¡æ°è¶è¿éå¶ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½!","TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDU0TA==","TjEySDU2TS4xSDk4","TjsySDY5SDUxTi4yTTk=","TjEySDU2TS4xSDUyTQ==","X3t3SGlzWmVwSGdO","Domains","Rooms","emptyObject","fork","RoomSet","ldelim","POISet","skip","Type: integer expected","minY: number expected","maxY: number expected","Rooms: object expected","Rooms: integer key{k:int32} expected","Rooms.","Labels: object expected","Labels: integer key{k:int32} expected","t1: string expected",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","toJSONOptions","Outline","PID","bidor","bidrids","bidpids","bidstyle","layer","NA: string expected","NE: string expected","MC: integer expected","Tid: integer expected","RL: string expected","Fnum: integer expected","FH: number expected","RM: string expected","RMS: string expected","RMR: string expected","RMO: string expected","RS: integer expected","CenX: number expected","CenY: number expected","Outline: string expected","PID: integer expected","GID: integer expected","bids: string expected","bidox: number expected","bidoy: number expected","bidoz: number expected","bidor: number expected","bidstyle: string expected","bidrids: string expected","bidpids: string expected","Did: string expected","FSId","float","len","MT: integer expected","X: number expected","Y: number expected","SL: integer expected","image: string expected","h: number expected","ipos: integer expected","FSId: integer expected","layer: integer expected","Sid: integer expected","NavNodeSet","NavLineSet","mtime: integer expected","Nodes: object expected","key32Re","Nodes: integer key{k:int32} expected","Nodes.","Lines: object expected","Lines.",".ESTileMap.ESTileMapNavSet.Nodes: object expected",".ESTileMap.ESTileMapNavSet.Lines: object expected","sid","H: number expected","sid: integer expected","Z: number expected","bstair","na: string expected","eid: integer expected","outline: string expected","rank: integer expected","dis: number expected","dir: string expected","bstair: integer expected","style: integer expected","BuildingService","buildingOffsets","mapOptions","buildingFilters","checkBuildingFilter","strategy","addFilter","getOutLineList","tempFlipX_","queryFloor","_convertFloorFromSourceData","convertShowLevel","_scaleLevels","_initDistance","addToSingleMeshData","oid","_convertToSceneFloor","convertIndoorGeo2Geometry_","isTube","originalHoles","TextureType","Typeid","FsId","getLangItemFromJson","RoomLogoSize","buildingAsset","imagelogo","prefetchTexture","roomtexture","roomTexturePool","texturekey","textureInfo","imagealign","Facility","imageAlign","Lifts","_box3","DefaultFnum","Elevation","ScaleLevel","defaultFloornum","VIEW_MODE2D_ALLFNUM","mapFloorSpan","floornumtext","HeightSpan","jsonLib","_authBuilding","_authCity","EXPIRED","VERS_ERR",", version: ","decrypt","mapshow","domainWhiteList","ESMapSet","TjEySDU2TS4xSDUyTw==","Reader","panos","address","Tel","FirstRotateAngleX","FirstRotateAngleZ","DefaultCenZ","emptyArray","BuildingHigh","FirstRotateAngleY","FloorBarName","FloorHigh","FloorSet","NavSet","PicSet","version: integer expected","maptime: integer expected","name: string expected","Brief: string expected","address: string expected","AS: number expected","Tel: string expected","FirstRotateAngleX: number expected","FirstRotateAngleY: number expected","FirstRotateAngleZ: number expected","Firstscale: number expected","DefaultCenX: number expected","DefaultCenY: number expected","DefaultCenZ: number expected","y: number expected","minX: number expected","maxX: number expected","ScaleLevel: string expected","FloorBarName: string expected","floors: array expected","floors.","navs: array expected","navs.","panos: array expected","panos.","bid: string expected",".ESMap.ESMapSet.floors: array expected",".ESMap.ESMapSet.floors: object expected",".ESMap.ESMapSet.navs: object expected",".ESMap.ESMapSet.panos: array expected","arrays","Alias","imagesize","LiftSet","floornum: integer expected","floornumtext: integer expected","NameEn: string expected","Height: integer expected","Elevation: integer expected","Facility: object expected","Facility.","Labels.","Lifts: object expected","Lifts: integer key{k:int32} expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Facility: object expected",".ESMap.FloorSet.Labels: object expected",".ESMap.FloorSet.Lifts: object expected","PointID","ShopID","BC: integer expected","RC: string expected","RH: number expected","PointID: integer expected","ShopID: integer expected","FS: integer expected","SH: number expected","w: number expected","F2: integer expected","ST: integer expected","LT: integer expected","LH: integer expected","LS: string expected","LR: string expected","LO: string expected","X2: number expected","Y1: number expected","O1: string expected","O2: string expected","Lines: integer key{k:int32} expected",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","rid: integer expected","efnum","direction","efnum: integer expected","bstair: string expected","serverurl","bgaudioplay","msgscale","Infos","bgaudio","picscale","PicNodeSet","PicClickSet","serverurl: string expected","picscale: string expected","msgscale: string expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected",".ESMap.PicSet.Infos: object expected","idlist1","idlist2","base","url: string expected","base: integer expected","idlist1: integer[] expected","idlist2: array expected","idlist2: integer[] expected",".ESMap.PicNodeSet.idlist1: array expected",".ESMap.PicNodeSet.idlist2: array expected","purl","aurl","msgt","msgc","curl","csize","purl: string expected","aurl: string expected","csize: string expected","ESMAP()*&<GoodWork","stringtoChar","å³å°å°è¾¾ç®çå°","å³åè½¬","å·¦åè½¬","å·¦åæ¹ç´è¡","å³åæ¹ç´è¡","å·¦è½¬åå³è½¬","å·²éæ°è§åè·¯çº¿","å³è½¬åå³è½¬","æ­¥è¡å¯¼èªå¼å§","è½¦å½¢å¯¼èªå¼å§","ç®çå°å¨éè·¯å³ä¾§","è¯·åé","applyToNavLib","applyToGeneralLib","keyBytes","getDesFromNavLib","getDesFromGeneralLib","getWordFromJsonLib","ModelLod","caches","waitings","rankObjects","distanceToPoint","targetLod","applyLod","audioGroupMapData","audioGroupSound","canInterrupt","isPlaying","playLength","sprite","endHandler","playIndex","loadFile","responseType","isLoaded","send","loadSoundArrayBuffer","AUDIO_ERR","dataBytes","configStrLength","extentIndex","sound","Howl","loaderror","destroy","playSoundByName","playAudioByText","startCarNaving","_testEachKey","absoulte","margin","10px","distory","unload","playSprites","spriteArray","rate","num2text","getExtentUint8Array","ab2str","decodeUnicode","startNaving","100","unshift","and","convert","EffectComposer","originSize","addPass","fxaaPass","composerOrtho","renderOrtho","resolution","materialList","usedRoomStyles","defaultTheme_","floorColor_","floorOpacity_","model3DsRGB","selectedColor_","12.0","textureList","tileTextures","bindedLineMatUpdate","modelLines","userBgImg","defaultMaterial","MapTextureList","material_list","defaultLightConfig","AmbientLight","#777777","#888888","createLight","setLightProperties","setLights","existflooridmap","updateTileStylesByData","maptheme","sideimage","ä¸»é¢æä»¶éè¯¯,è´´å¾æ ·å¼","/building/","topimagerepeat","sideimagerepeat","topimage","/upload/building/","topimagetype","sideimagetype","roomTex","initPoiStylesByData","fillcolor","fontsize","strokewidth","initTileStylesByData","borderwidth","bordercolor","tileTexturesReady","texSide","matIndex","prodMatIdx","tileStylesMap","initRoadStylesByData","/line/","clearcolor","Poi","mapstyle","roomStyle","roomstyle","color_","createMaterial_","floorStyleBase","baseheight",".png","fontStyle","fontStyleThemeDic","fontstyle","fixAlpha","\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity; \n                varying float hideFlag;\n                ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ","getModelTheme","/imagelabel/","/buildingImagelabel/","/EsmapTileOffData/","/EsmapTileData/","initPoiMateriaByData","poiStyle","material_","strokeColor_","style_","ELEMENT","model3DSelectedColor_","RandomNum","topIndex","getTextures","dataA","ImageLoader","ClampToEdgeWrapping","./assets/1.0.png","./assets/100001B.png ","rects_","collision_","width_","height_","flashDelayId","flashId","flashId1","flashId2","depthTest","animateEnd","startDistance","rotateY","_stop","enabledUpdateSize","originPosition","showLevel_","_lastScale","getPerspectiveScale","firstGet","meterperpixel","notAddImageHeight","Model3D","UserPOI","UserLabel","unspritify_","spritify_","makeTextSprite_","imagewidth","isMarker","isTile","/imagelabel","imageTexUrl_","imageTex_","applyImgTex",'"Microsoft Yahei","å¾®è½¯éé»",Tahoma,Arial',"scaleRatio_","borderThickness","borderColor","lineheight","imagespace","platesize","platecolor","platestorkcolor","imageheight","fontspace","originPivot","iconPivot","icon","pivottype","pivot","createdCallback","isCallbackExeced","shadow","shadowoffset","shadowcolor","shadowblur","imageSmoothingEnabled","roundRect","generateMipmaps","external","message","strokecolor","0,0,0,1","setname","setfontsize","setfontstrokecolor","_initY","zOffset","alias","es3dmarker","_rotateID","fade","_isFading","out","_fadeID","fade3dOut","fade3dIn","pivot_","pivotOffset","YXZ","meterperpixel_","vertex","spritify","textspace","computePosition","NEAR","letterSpacing","strokeText","fillText","textAlign","save","clip","restore","glowMat","noramlMat","genTexture","floating","_originCenter","stopFloat","_floatTween","toggleGlow","glowColor","glowMode","canvasSize","size_","rgba(255,255,255,1)","clip_","initActiveEffect","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC","updateHandler","activeSprite_","setUrl","alwaysShow","strokeWidth","strokeColor","fixedAngle","initArrow","arrowColor","arrowSize","createArrow","FetchImgByUrl","#FFF","CanvasTexture","arrowGroup","PlaneGeometry","rotateZ","mapSceneData","mapId_","o3dScene_","maxX_","asyncWaitTime","counter","initBase","tiles","ABC","centerX","disableViewCenter","BUILDING","Outdoor","meta_","mapYoffset","calcInitCamera","getBuildingScene","collideLabel_","requireCollide_","project_","loadTiles","floorEdge","addTask","handleFloors","esWorker","modelImages","workers","workerStatus","postCount","hardwareConcurrency","createWorker","receiveCount","bimInfos","onMessage","layerType","loadFloors","checkTstank","checkWorker","tsTank","postMessage","baseLayers","modelLayers","_lodRecords","appendAttribute","pointGeometrys","modelLayer","model3data","lineTheme","lastGeoCount","getBuildingColorStaged","Fnums","groupIndex","normals","buildingsHeight","buildingsRandomFactor","buildingsColorAttr","highLightColorAttr","topTexIndex","sideTexIndex","normalizeUvs","rUv","randomFactor","buildingsColor","loadModel","viewRank","viewrank","rmodellayer","roomdata","ESWall","startIndex","POSITIVE_INFINITY","NEGATIVE_INFINITY","lerp","mouseSelected_","defaultMaterial_","selectedMaterial_","setDefaultTheme_","setSelectedTheme_","setGeoPoint","controls_","enableMapPan_","enableMapIncline_","enableMapSingleTap_","enableCompassTap_","enableMapRotate","enableMapRotate_","enableGestureRotate","enableCompassTap","enableMapIncline","enableMapPinch_","enableMapSingleTap","mapPicker_","params","coord_","localToWorld","forceVisible_","createMarker_","../image/user.png","name_","up_","glow_","#F3F3F3","center_","ESMapPoi3","canvasSize_","id_","glowColor_","viewRadius","onLevel","getNearestAngle","setColor","setSizeAnimId","LOCATION_MARKER","url_","arrow_","arrowSize_","arrowOffset_","arrowOffset","arrowColor_","fixedAngle_","mapLoaded","_visibleFloorNumsChanged","_onFloorHeightChanged","_update_","hideBound","#30a3fb","FULL","initRadius","_geo","#1ee3cf","thickness","setImage","_init_","imageRepeat","imageAngle","processsedUv","faceVertexUvs","å¤è¾¹å½¢çæéè¯¯ï¼è¯·æ£æ¥æ°æ®","uvsNeedUpdate","groupsNeedUpdate","initHeatMap","_processUvs","getTexture","randomHeatPoints","clearHeatPoints","clearPoints","clearHeatMap","addHeatPoint","_dispose_","removeModels","setLineWidth","createBox","_normalizePoints","rotateX","_createLine","_createPoints","rectangle","ShapeGeometry","contain","rgb(0,255,0)","cachePoint","XZY","imageSize","shadowOffset","3,3","hooks","cancelActiveEffect","æ¨¡æææ¬","marker_","scale_","text_","angle_","pickPriority","img_","textMarker","toggleLayers","removeLayer","removeLayersByTypes","removeLayersByNames","applyHeatMap","floorAlias","floorDesc","floorHeight","floorName","Only ESLayer acceptable!","storeImage","STORE_IMAGE","modelLine","MODEL_LINE","webViewMarker","WEBVIEW_MARKER","boardMarker","BOARD_MARKER","CARD_MARKER","getFirstLayer","removeHeatMap","traverse_","FLOOR_BASE","disableColide","checkType","AUTHO_REQUIRED","loadManger","load3dmarker","è¯·æ·»å å¾å±å¯¹åºçmarker!","loadMergeModels","checkViewRadius","setViewRadius","è¯·ä½¿ç¨å¾å±ç±»åå¯¹åºçæ æ³¨ï¼","loadqueue","Map_CONTROL_NORMAL","Map_CONTROL_SMALL","allLayer","imgURL","expandSpan","timer2","taped","tapedPos","triggerSkip","#1F6ED4","showBtnCount","disposed","expanded","$box","showshowBtnCount","scrollMode","\n                    .","  \n                    ."," .layersToggle , ."," .viewModeToggle , ."," .controlWrapper{\n                        background-color: ",";\n                        border-radius:","px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    ","textColor","\n                     ."," .floor-item .floor-item-devide{\n                        color:",";\n                    }\n                    ","toggleColor"," .layer , ."," .layers, ."," .view3d, ",";\n                    }","focusBgColor","focusTextColor"," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:","marginBottom"," .viewModeToggle{\n                        margin-bottom:"," .floor-item-devide{\n                        font-size: ","px;\n                    }\n                    "," .arrows {\n                        fill:","styleHash","getStyle","deleteRule","updateBtnCount","$scroller","buttonSize","$controlWrapper","createExpandBtn","8px","cursor","pointer","border-box","layersToggle","flexDirection","column","view2d","inline-block","iconExpand","expandIcon","view3d","toggleExpanded","updateFloorSpan","icon2d",'<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',"iconLayers","iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>',"iconShrink",'<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>',"iconExit",'<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>',"\n        ."," .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        ."," .controlWrapper{\n            background-color: ",";\n            border-radius:","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:",";\n        }\n        ."," .view3d, ."," .exit{\n            fill: "," .floor-item.active .floor-item-devide{\n            background-color: ",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .arrows {\n            fill:",";\n        }\n    ","head","styleSheet","999","scale(","allFloorsState","$layersToggle","layersImage","iconLayer","layerImage","isTapping","setAllFloorState","viewModeState","viewModeToggle","icon3d","fnumToggleBtn","expandBtn","exitBtn","createExitBtn","controlWrapper","1111.11rem","-webkit-perspective","-webkit-tap-highlight-color","rgba(0,0,0,0)","tap-highlight-color","-webkit-box-align","5px 0","transform-style","-webkit-transform-style","floor-scroller smooth","angleStep","arrows","lineHeight","-webkit-transform","rotateX(","deg) translateZ(","-webkit-backface-visibility","-ms-backface-visibility","childNodes","40%","tapCount","setTransformAngle","toggleTargetClass","currentTarget","floor-item","alignItems","-moz-backface-visibility"," active","innerText","bolder","80%","whiteSpace","pre-wrap","-webkit-transition","all .5s ease-in","backfaceVisibility","rotate(-90deg)","onmousewheel","onScroll","getElementsByClassName","toggleTargetClassByFnum","ontouchmove","ontouchend","focusFloorNumChanged","reComputeHeight","onUpdated","querySelector",".active","setViewModeState","setMapViewMode","wheelDelta","limitValue","deg)","getCurrentAngle","ontouchstart","tapedAngle","checkPos","$maxAngle","focusMode","block","margin_","init2D","init2D_","initFloors_","initFloors","floors_","defaultPadding_","positon_","left_","right_","expand_","defaultShadow_","2px 2px 3px rgba(0,0,0, 0.3)","boxShadow","defaultRadius_","white url(","imgURL_","less.png) no-repeat 50% 50%","more.png) no-repeat 50% 50%","onclick","createTool_","tools-wrap","to-3d-view-btn","2D.png) no-repeat 50% 50%","3D.png) no-repeat 50% 50%","controlViewMode","tool-floor-btn","marginTop","groups.png) no-repeat 50% 50%","group.png) no-repeat 50% 50%","container_","setPosition_","controlPositionListener",".tools-wrap","top_","tool-wrap","3D.png) no-repeat","MouseEvents","2D.png) no-repeat","controlFloor","group.png) no-repeat","groups.png) no-repeat","padding_","attr","zoom-wrap","zoomin.png","zoom-out-btn","zoomout.png","getElementsByTagName",".zoom-wrap","hrEl","1px","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","alpha(opacity=100, finishopacity=0, style=3)","scalelevel","down","keepRight","arriving","appKey","navidistance","_naviResult","realNaviClock","endData","startMarker","locMoveTimer","endMarker","navMode","timerDelta","lastAngle","isCrossingFuti","crossedFnum","curLadder","_isEnd_","isNaving","pause","moveTimer","toSubDis","filterList","blockList","curPathInfos","audioPlayed","_toPos","_toRot","_allLen","_changeFnumIng","_animateFun","routePlanner","#33cc61","audioPlay","initESAudioTool","init audiotool error","ESAudioTool","setPreferCrosses","drawNavLineByIDs","allPointMap","navLine","_createMarker","image/start.png","endMarkerLayer","image/end.png","ESImageMarker","setView","setStartPoint","clearNaviLines","startData","setEndPoint","analysedData","getRouteResult","outcome","drawNaviLine","pointList","_getFloorsPoints","_naviDescriptions","naviDescriptions","crossPoints","_getCrossPoints","toPassedFnum","linkStartEnd","linkMinDistance","noGoingBack","multiLinesUsed","drawRoute","useAMap","driving","ladderType","outDoorNaviDescriptions","æ æ³å°è¾¾!è¯·éæ°éç¹","_trs","naviDescriptionsData","_transformResults","clearLocationMarker","clearMarkers","_drawLines","_drawlineByResults","lineObj","yScale","billboard","combinePoints","autoClearNaviLine","_linesVisible","_moveTo","playAudio","_setNavCode","lastNavCode","_computeCameraStateByDistance","fitView","fitViewStage1","fitviewStage1","constraint","computedRawLevel","fitViewStage2","fitViewStage3","maxEnd","tipAlmosted","tipEnded","manModeTipStarted","tipDistance","manModeTipEnded","manWalkedCount","carModeTipStarted","carModeTipEnded","tipSlowDowned","carWalkedCount","over","_getDisToNextCross","point1","point2","dis2","_checkDeviated","routeCore","dataList","nearbyLine","lineList","has","_walkingfunction","ladderLen","crossFloorTime","crossFutiTime","reRouteDis","deviateCount","reRouteLimit","surDistance","remain","backcount","walking","_gps","arrivalCount","autoStop","parkDir","endDirection","audioTipEnd","ç®çå°å¨éè·¯","å¯¼èªç»æ","restoreState","_broadcast","descriptionIndex","distanceToNext","segindex","navTip","instruction","bestView","bestViewMinDistance","_animID","_viewID","_scaleLevelToID","_rotateId","_preBid","_groupPointsIndex","isSimulating","_gpsData","dis2next","allowPlayDis","_preGid","_updateLinePass","crossBuilding","passed","_onstartNavi","_analyse","_index","_locMarkerToStartPoint","_needDrawLines_","isMultiFloors","scaleAnimate","_watchAudioPlay","_anim","walkTo","naviinfoindex","_naviConstraint","totalDisntance","balanceValue","distonex","nexbid","_getTransformByLength","_getLadderType","crossSchemes","manModeAllScheme","allLineMap","carModeScheme","relAngle","combineAsset","_boo","è¿å¥ å®¤å","è¿å¥ å®¤å¤","relField","relDesc","absDesc","_tailLen","ç»§ç»­ç´è¡","è¿å¥ ","getPosition","_groupsPoints","isNaviAnimating","inTime","minScale","changeTiltAngle","crossFloor","rotateTimer","followGap","vvs","AMAP","_segindex","endFloor","getLineInfo","updateNavData","æªæ¾å°çº¿æ°æ®: ","æºæ°æ®ä¸å­å¨: ","preprocess","reRoute","naviTip","locationMarkerOptions","locationMarkerUrl","image/pointer.png","locationMarkerSize","locationMarkerSeeThough","analyticRouteData","steps","splitLLStrToPoints","polyline","transLLPointsToWorldPosPoints","posList","computeDistance","requestAMapData","bicycling","route","checkStatus","https://restapi.amap.com/v4/direction/bicycling","getNavNodeById","getPointById","routeBetweenBuildings","getNaviResultBetbuildings","preferCrosses","preprocessMain","preprocessTileNav","computeLinePoints","env","preprocess start","entryid","æ¾ä¸å°è¿å¥å®¤å","çå¥å£","éå¤çç¹","pointids","lineids","fnumPoints","crosses","manModeScheme","preprocessComplete","getNaviResult","getSource","å¯¼èªæ°æ®ä¸å­å¨","startFloorNum","getNearestNode","è¯·éæ°éç¹","noEntryPoint","getShortestPath","manhattenCost","walkPath","isMulti","walkLines","nodeLinkMap","baseSceneId","èµ·ç¹ä¸ç»ç¹ä¸è½ç¸å","costDistance","JudgeCostDistance","updateNewShortestPathList","compare","deepClone","error!id: 9920587","getAllGates","getNearestGate","getFloorNum","_modelObj","ESWallåå§åå¤±è´¥:pointsä¸è½æªç©º","walls","tileModel","_oriModelObj","updateByPoints","useCrst","thickset","heightset","repeatset","æ°æ®éè¯¯ï¼è¯·æ£æ¥æ¯å¦æéå¤ç¹ id:","åå¹¶å¤±è´¥ï¼åæ¶åå¹¶","asyncGetWallModel","wallModelPrefetch","clickAnimation","clickable","ESModel3D","arcTo","dataList1","areaToAreas","layerPoints","layerPToP","crossScheme","calculateCrossAreaPoints","calculateAreaRelation","canGoAreas","getCanRunPoint1","getCanRunPoint2","getLinePoint","pointIdListAdd","getSameId","calculatePath","opposite","getArrayMinus","updataOneTime","getOptimutic","getNumber","queryRoutesInBuilding","getNaviResult2","èµ·ç¹ä¸ç»ç¹ä¸è½éå¤","calculateAreaStartEnd","areaPoints","findAllPath","dataList2","initDataList2","crossLine","getShortestPath2","box","Arial,sans-serif","#fff","rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px","textBox","5px","-1px","3px","7px","#000","6px","barBox","&nbsp;ç±³","&nbsp;å¬é","barBoxer","hideOnCreated","screenCoord_","screenCoord","mapCoord_","transformOrigin_","transformOrigin","center bottom","translateStyle_","-50%, -100%","IsScreenCoord","contentHeight_","content_","borderStyle_","borderStyle","1px solid rgba(0,0,0,.2)","rgba(0,0,0,.2)","updateSize_","<div style='height:","px;'>","</div>","es-control-popmarker","borderWidth"," transparent transparent","-40px",") transparent transparent","-39px","0 0 #eee","24px","webkitAppearance","bindCloseClick_","setVisible","initY","bindMarker","inLevel","maxScale","bindchange","onVisibleCallBack","insertAdjacentHTML","beforeend","cssObject","px) scale(","cssOnUpdate","closed","visibleFloorNums_","loadedFloorNums","thicks","animatingId_","animating_","originFloorHeights","convertBuildingToWorld","getFloorNumByName","listFloors","æªæ¾å°æ¥¼å±: ","getFloorBounds","esmap.ESInfo.GETFLOORBOUNDS_ERR","asyncLoadRoads","roadDatas","MAP_ROAD","findRoomById","hideGroup","hided","floorSpanOffset","getO3dFloor","enteredStyle","buildingEnter","focusAnimateMode","buildingExit","SINGLE","toggleTilesLayer","putFloor","floorTempData","focusFloor_","isInit","focusAnimateTime","notMove","loadFloorBase","asyncBuidExtents","loadFloor","modelsCount","forEachFloor","theme_","addModel","loadRoad","handleModels","asyncBuildLabels","floorBaseLayers","floorBaseDatas","floorBases","asyncBuildPOIs","poilayers","pois","loadLayerComplete","labellayers","labels","callbackByFloor","floorLoaded","mapModelsLoadedAll","closeAll","loadModelandImage","floorNames","updateScrollFloorsControl","originHeight_","visibleBuildingsChanged","blured","visibleBuildings","easeOutQuad","focusOnLoaded","naviData","buildingMergeModel3D","handleBims","bimModelsCount","addToQueue","marker3d","scaleLevel_","SkeletonUtils","$basic","needDepth","onError",", error: ","sources","queues","allDataMap","bimNewQues","pages","loadedCount","tanks","bimSetData","mergeMode","controlstate","handleTanks","bimLayerNot find","bins","total","onQueueMerged","onQueueUnMerged","checkComplete","bimMerged","IDBUpdateItem","IDBAddItem","bimLoadedAll","getBimSetFromIDB","bimSets","bimDatas","collections","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","clearCache"];!function(x,d){!function(d){for(;--d;)x.push(x.shift())}(++d)}(_0x4cbb,191);var _0x1d97=function(x,d){return _0x4cbb[x-=0]};!function(x){function d(d){for(var e,i,n=d[0],r=d[1],s=d[2],c=0,l=[];c<n[_0x1d97("0x0")];c++)i=n[c],t[i]&&l[_0x1d97("0x1")](t[i][0]),t[i]=0;for(e in r)Object.prototype[_0x1d97("0x2")][_0x1d97("0x3")](r,e)&&(x[e]=r[e]);for(o&&o(d);l[_0x1d97("0x0")];)l[_0x1d97("0x4")]()();return a[_0x1d97("0x1")][_0x1d97("0x5")](a,s||[]),_()}function _(){for(var x,d=0;d<a[_0x1d97("0x0")];d++){for(var _=a[d],e=!0,n=1;n<_.length;n++){var r=_[n];0!==t[r]&&(e=!1)}e&&(a.splice(d--,1),x=i(i.s=_[0]))}return x}var e={},t={2:0},a=[];function i(d){if(e[d])return e[d][_0x1d97("0x6")];var _=e[d]={i:d,l:!1,exports:{}};return x[d][_0x1d97("0x3")](_[_0x1d97("0x6")],_,_.exports,i),_.l=!0,_[_0x1d97("0x6")]}i.m=x,i.c=e,i.d=function(x,d,_){i.o(x,d)||Object[_0x1d97("0x7")](x,d,{enumerable:!0,get:_})},i.r=function(x){typeof Symbol!==_0x1d97("0x8")&&Symbol[_0x1d97("0x9")]&&Object[_0x1d97("0x7")](x,Symbol[_0x1d97("0x9")],{value:_0x1d97("0xa")}),Object.defineProperty(x,_0x1d97("0xb"),{value:!0})},i.t=function(x,d){if(1&d&&(x=i(x)),8&d)return x;if(4&d&&typeof x===_0x1d97("0xc")&&x&&x[_0x1d97("0xb")])return x;var _=Object[_0x1d97("0xd")](null);if(i.r(_),Object[_0x1d97("0x7")](_,"default",{enumerable:!0,value:x}),2&d&&typeof x!=_0x1d97("0xe"))for(var e in x)i.d(_,e,function(d){return x[d]}.bind(null,e));return _},i.n=function(x){var d=x&&x[_0x1d97("0xb")]?function(){return x.default}:function(){return x};return i.d(d,"a",d),d},i.o=function(x,d){return Object[_0x1d97("0xf")][_0x1d97("0x2")].call(x,d)},i.p="/dist/";var n=window.ESJsonpModules=window[_0x1d97("0x10")]||[],r=n.push[_0x1d97("0x11")](n);n[_0x1d97("0x1")]=d,n=n.slice();for(var s=0;s<n[_0x1d97("0x0")];s++)d(n[s]);var o=r;a[_0x1d97("0x1")]([148,1,4,0]),_()}(Array(19).concat([function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(10)),t=n(_(16)),a=n(_(32)),i=n(_(27));function n(x){return x&&x.__esModule?x:{default:x}}d[_0x1d97("0x12")]=function(x,d,_){return x&&x[_0x1d97("0x2")](d)?x[d]:_},d[_0x1d97("0x13")]=function(x,d,_){for(var e,t=1;t<arguments[_0x1d97("0x0")]-1;t++)if(void 0!==(e=x[arguments[t]]))return e;return arguments[arguments[_0x1d97("0x0")]-1]},d[_0x1d97("0x14")]=function(x){return(0,i.default)(new(a[_0x1d97("0x1c")])(x))},d[_0x1d97("0x15")]=function(x){var d=0;for(var _ in x)x[_0x1d97("0x2")](_)&&d++;return d},d[_0x1d97("0x16")]=function(x){var d=this;(0,t[_0x1d97("0x1c")])(x)[_0x1d97("0x1d")]((function(_){null==d[_]&&(d[_]=x[_])}))},d.exitInArray=function(x,d){for(var _=0;_<x[_0x1d97("0x0")];_++)if(x[_]==d)return!0;return!1},d.isObject=function(x){var d=typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x);return null!=x&&(d==_0x1d97("0xc")||d==_0x1d97("0x1e"))},d[_0x1d97("0x17")]=function(x,d){if(!x)return;for(var _ in x){if(!1===d(x[_],_,x))break}},d[_0x1d97("0x18")]=function(x){if(!x)return x;var d={};for(var _ in x)d[_]=x[_];return d},d[_0x1d97("0x19")]=function(){var x=new Array;if(null!=window.screen[_0x1d97("0x1f")])x[0]=window.screen[_0x1d97("0x1f")],x[1]=window.screen[_0x1d97("0x20")];else{var d=document[_0x1d97("0x21")]("DIV");d[_0x1d97("0x22")][_0x1d97("0x23")]=_0x1d97("0x24"),document.body[_0x1d97("0x25")](d),x[0]=parseInt(d.offsetWidth),x[1]=parseInt(d[_0x1d97("0x26")]),d[_0x1d97("0x27")].removeChild(d)}return x},d.startWith=function(x,d){return new RegExp("^"+d).test(x)},d[_0x1d97("0x1a")]=function(x){for(var d=x[_0x1d97("0x28")](";base64,"),_=d[0].split(":")[1],e=window[_0x1d97("0x29")](d[1]),t=e[_0x1d97("0x0")],a=new Uint8Array(t),i=0;i<t;++i)a[i]=e[_0x1d97("0x2a")](i);return new Blob([a],{type:_})},d[_0x1d97("0x1b")]=function(x){return(0,i[_0x1d97("0x1c")])(Array(Number(x)||24),(function(){return Math[_0x1d97("0x2b")](36*Math[_0x1d97("0x2c")]())[_0x1d97("0x2d")](36)}))[_0x1d97("0x2e")]("")}},,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(0)),t=n(_(1)),a=_(56),i=_(57);function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x2f")]={},window[_0x1d97("0x30")](_0x1d97("0x31"),this.init[_0x1d97("0x11")](this))}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x32"),value:function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=d[_0x1d97("0x35")],e=_.s&&_.k,t=_[_0x1d97("0x36")];if(this[_0x1d97("0x37")]=x.detail.id,this[_0x1d97("0x38")]=d,this[_0x1d97("0x39")]=e,this.mapMode=t,t==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]?this[_0x1d97("0x3c")]():this.initIndoorPaths(),1==window[_0x1d97("0x3d")]){var a=new CustomEvent(_0x1d97("0x3e"),{});window[_0x1d97("0x3f")]=this,window.dispatchEvent(a)}}},{key:_0x1d97("0x3c"),value:function(){var x=this[_0x1d97("0x37")],d=this[_0x1d97("0x38")].options,_=d[_0x1d97("0x40")],e=d.s,t=d[_0x1d97("0x41")];if(1==_){var n=(0,a[_0x1d97("0x42")])(e);this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x43")]=3==e?n:i[_0x1d97("0x44")][_0x1d97("0x45")](n)}else this[_0x1d97("0x38")][_0x1d97("0x35")].serverUrl=t+"/"+x;var r=this[_0x1d97("0x46")]();this[_0x1d97("0x47")]("lic",(function(){return{url:r[_0x1d97("0x48")],timestamp:r.timestamp}})),this.setPath("tile",this[_0x1d97("0x49")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")](_0x1d97("0x4a"),this.getRemoteNotifyUrl(r.query_sign)),this.setPath(_0x1d97("0x4b"),this[_0x1d97("0x4c")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")](_0x1d97("0x4d"),this[_0x1d97("0x4e")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")]("buildingSearchJson",this[_0x1d97("0x4f")].bind(this)),this[_0x1d97("0x47")](_0x1d97("0x50"),this.getCityThemePath[_0x1d97("0x11")](this)),this[_0x1d97("0x47")](_0x1d97("0x51"),this.getCityBuildingThemePath[_0x1d97("0x11")](this)),this[_0x1d97("0x47")](_0x1d97("0x52"),this[_0x1d97("0x53")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")]("buildingAsset",this.getCityBuildingAssetsPath[_0x1d97("0x11")](this)),this.setPath(_0x1d97("0x54"),this[_0x1d97("0x55")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")]("tileModel",this[_0x1d97("0x56")].bind(this))}},{key:_0x1d97("0x57"),value:function(){this[_0x1d97("0x47")](_0x1d97("0x4b"),this.getIndoorMap[_0x1d97("0x11")](this)),this.setPath(_0x1d97("0x51"),this[_0x1d97("0x58")].bind(this)),this[_0x1d97("0x47")]("buildingThemeAsset",this[_0x1d97("0x59")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")]("buildingAsset",this[_0x1d97("0x5a")][_0x1d97("0x11")](this)),this[_0x1d97("0x47")](_0x1d97("0x54"),this[_0x1d97("0x5b")].bind(this)),this.setPath(_0x1d97("0x4d"),this[_0x1d97("0x5c")].bind(this))}},{key:"setPath",value:function(x,d){this.paths[x]=d}},{key:"getPath",value:function(x,d){var _=this[_0x1d97("0x2f")][x];return typeof _==_0x1d97("0xe")?_:_(d)}},{key:_0x1d97("0x5d"),value:function(){var x=this[_0x1d97("0x37")],d=this.map[_0x1d97("0x35")],_=d[_0x1d97("0x41")],e=d.s,t=d.k,a=d[_0x1d97("0x5e")],i=d[_0x1d97("0x5f")],n=_+"/"+x+"/"+x+_0x1d97("0x60"),r=!1;if(this[_0x1d97("0x39")]){r=!0;var s=_0x1d97("0x61");a&&(s="mapoff/mapoffdata!getmap.action?bids="),n=e+s+x+_0x1d97("0x62")+t+_0x1d97("0x63")+Date[_0x1d97("0x64")](new Date)}else i&&(n+=_0x1d97("0x65")+Date[_0x1d97("0x64")](new Date));return{url:n,skMode:r}}},{key:_0x1d97("0x59"),value:function(x){var d=x[_0x1d97("0x66")],_=x[_0x1d97("0x67")],e=this[_0x1d97("0x37")],t=this[_0x1d97("0x38")].options,a=t[_0x1d97("0x41")],i=t[_0x1d97("0x5f")],n=t.mapThemeSrc,r=void 0;return r=n?n+"/"+d+"/"+_:a+"/"+e+_0x1d97("0x68")+d+"/"+_,i&&(r=r+"?t="+Date[_0x1d97("0x64")](new Date)),r}},{key:_0x1d97("0x58"),value:function(x){var d=x.themeID,_=x[_0x1d97("0x69")],e=this[_0x1d97("0x37")],t=this[_0x1d97("0x38")][_0x1d97("0x35")],a=t[_0x1d97("0x41")],i=t[_0x1d97("0x5f")],n=t.mapThemeSrc,r=void 0;return r=n?n+"/"+d+"/"+d+"."+_:a+"/"+e+_0x1d97("0x68")+d+"/"+d+"."+_,i&&(r=r+"?t="+Date[_0x1d97("0x64")](new Date)),r}},{key:_0x1d97("0x5a"),value:function(x){var d=x[_0x1d97("0x67")],_=x[_0x1d97("0x6a")],e=this[_0x1d97("0x38")][_0x1d97("0x35")],t=e[_0x1d97("0x6b")];return e[_0x1d97("0x41")]+"/"+this[_0x1d97("0x37")]+"/"+_+((t?String(t):"")+"/")+d}},{key:_0x1d97("0x6c"),value:function(x){var d=x[_0x1d97("0x67")],_=this.map[_0x1d97("0x35")],e=_.s,t=_.k;_[_0x1d97("0x41")];return e+"/map/mapmodel!getmodel.action?bids="+this.mapId+"&name="+d+_0x1d97("0x62")+t}},{key:_0x1d97("0x5b"),value:function(x){var d=x.filename,_=this[_0x1d97("0x38")][_0x1d97("0x35")],e=_[_0x1d97("0x41")],t=_.s,a=_.k,i=this[_0x1d97("0x37")],n=void 0;this[_0x1d97("0x39")]?n=t+_0x1d97("0x6d")+i+"&name="+d+_0x1d97("0x62")+a:n=e+"/"+i+_0x1d97("0x6e")+d+_0x1d97("0x6f");return n}},{key:_0x1d97("0x5c"),value:function(){return this[_0x1d97("0x38")][_0x1d97("0x35")].mapDataSrc+"/"+this.map.id+_0x1d97("0x70")}},{key:"getLicUrl",value:function(){var x,d=this.map[_0x1d97("0x35")],_=this.mapId,e=d[_0x1d97("0x71")],t=d.s,n=d[_0x1d97("0x40")],r=window[_0x1d97("0x72")][_0x1d97("0x73")],s=parseInt((new Date)[_0x1d97("0x74")]()/1e3);x=d.s&&d.k?d.k:esmap[_0x1d97("0x75")][_0x1d97("0x76")](d[_0x1d97("0x77")]+"worldeditor"+s);var o=esmap.ESMapUtil.encode64(n+"&"+_+"&"+t+"&"+x+"&"+s+"&"+r+"&"+e),c=i[_0x1d97("0x44")].decode((0,a.getSubDirByS)(t)),l=void 0;if(3==n)l=d[_0x1d97("0x43")]+"/"+_+_0x1d97("0x78");else{var u=(0,a[_0x1d97("0x42")])(t);l=(3==t?u:i[_0x1d97("0x44")][_0x1d97("0x45")](u))+"/"+c+_0x1d97("0x79")+_+_0x1d97("0x7a")+d.s+"&k="+x+_0x1d97("0x63")+s+_0x1d97("0x7b")+encodeURIComponent(r)+_0x1d97("0x7c")+o+_0x1d97("0x7d")+e+_0x1d97("0x7e")+n}return{url:l,query_sign:o,timestamp:s}}},{key:_0x1d97("0x7f"),value:function(x){var d=this.mapId,_=this[_0x1d97("0x38")][_0x1d97("0x35")],e=_.s,t=_.k,n=document[_0x1d97("0x80")],r=parseInt((new Date)[_0x1d97("0x74")]()/1e3);return i[_0x1d97("0x44")][_0x1d97("0x45")](a[_0x1d97("0x81")][2803])+(_0x1d97("0x82")+d+_0x1d97("0x7a")+e+_0x1d97("0x83")+t+"&t=")+r+_0x1d97("0x7b")+n+_0x1d97("0x7c")+x+"&tid=99"}},{key:_0x1d97("0x4e"),value:function(){return this[_0x1d97("0x38")][_0x1d97("0x35")].serverUrl+_0x1d97("0x70")}},{key:_0x1d97("0x4f"),value:function(x){var d=x.buildingId;return this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x43")]+_0x1d97("0x84")+d+"/search.json"}},{key:"getCityBuildingPath",value:function(x){var d=this[_0x1d97("0x38")][_0x1d97("0x35")],_=d[_0x1d97("0x40")],e=d.serverUrl,t=d.k,a=d[_0x1d97("0x5f")],i=d.s,n=x[_0x1d97("0x85")],r=void 0,s=!1;if(1!=_)r=e+_0x1d97("0x84")+n+"/"+n+_0x1d97("0x60"),a&&(r+=_0x1d97("0x65")+Date.parse(new Date));else{s=!0;var o=t[_0x1d97("0x28")]("&"),c=esmap[_0x1d97("0x75")][_0x1d97("0x76")](esmap[_0x1d97("0x75")][_0x1d97("0x76")](n+_0x1d97("0x86")+2+"#"+o[0])+_0x1d97("0x87"));r=e+_0x1d97(3==i?"0x88":"0x89")+n+_0x1d97("0x8a")+t+_0x1d97("0x8b")+2+_0x1d97("0x62")+c+_0x1d97("0x7e"),a&&(r+=_0x1d97("0x63")+Date[_0x1d97("0x64")](new Date))}return{url:r,skMode:s}}},{key:_0x1d97("0x8c"),value:function(x){var d=x[_0x1d97("0x69")],_=x.themeID,e=this[_0x1d97("0x37")],t=this[_0x1d97("0x38")][_0x1d97("0x35")],a=t[_0x1d97("0x5f")],i=t[_0x1d97("0x41")]+"/"+e+_0x1d97("0x8d")+_+"/"+_+"."+d;return a&&(i+="?t="+Date[_0x1d97("0x64")](new Date)),i}},{key:_0x1d97("0x53"),value:function(x){var d=x[_0x1d97("0x67")],_=x[_0x1d97("0x66")],e=this[_0x1d97("0x38")].options,t=e[_0x1d97("0x40")],a=e[_0x1d97("0x43")];return 1==t?a+"/theme/"+_+"/"+d:a+"/buildings/theme/"+_+"/"+d}},{key:"getCityBuildingThemePath",value:function(x){var d=x.ext,_=x[_0x1d97("0x66")],e=this[_0x1d97("0x38")].options,t=e.tid,a=e[_0x1d97("0x43")];return 1==t?a+"/theme/"+_+"/"+_+"."+d:a+_0x1d97("0x8e")+_+"/"+_+"."+d}},{key:_0x1d97("0x8f"),value:function(x){var d=x[_0x1d97("0x67")],_=x[_0x1d97("0x6a")],e=x[_0x1d97("0x85")],t=this[_0x1d97("0x38")].options,a=t[_0x1d97("0x40")],i=t.s,n=t.serverUrl,r=t[_0x1d97("0x6b")],s="";1==a?s=n+(3==i?_0x1d97("0x90"):"/EsmapJsonData/")+e+"/":s=n+"/buildings/"+e+"/";return s+_+((r?String(r):"")+"/")+d}},{key:_0x1d97("0x49"),value:function(x){var d=x[_0x1d97("0x91")],_=x[_0x1d97("0x92")],e=this[_0x1d97("0x37")],t=this[_0x1d97("0x38")][_0x1d97("0x35")],n=t.tid,r=t.s,s=t.k,o=t[_0x1d97("0x43")],c=t.token,l=t[_0x1d97("0x71")],u=t[_0x1d97("0x41")],f=t[_0x1d97("0x5f")],h=d[_0x1d97("0x28")]("_"),b=h[0],g=h[1],v=s,p="";if(1!=n)p=u+"/"+e+"/15/"+b+"_"+g+"/"+b+"_"+g+_0x1d97("0x93")+(1==_?"":"nav")+_0x1d97("0x60"),f&&(p+=_0x1d97("0x65")+Date[_0x1d97("0x64")](new Date));else{2==n&&(v=esmap.ESMapUtil[_0x1d97("0x76")](c+_0x1d97("0x87")));var m=esmap[_0x1d97("0x75")][_0x1d97("0x76")](n+"&"+e+"&"+r+"&"+v+"&"+l+"&"+_+"&"+b+"&"+g);p=o+"/"+i[_0x1d97("0x44")][_0x1d97("0x45")]((0,a[_0x1d97("0x94")])(r))+_0x1d97("0x95")+e+_0x1d97("0x83")+v+_0x1d97("0x7a")+r+_0x1d97("0x96")+_+_0x1d97("0x97")+b+_0x1d97("0x98")+g+_0x1d97("0x7c")+m+_0x1d97("0x99")+l+_0x1d97("0x7e")+n,f&&(p+=_0x1d97("0x63")+Date[_0x1d97("0x64")](new Date))}return p}},{key:_0x1d97("0x9a"),value:function(x){var d=x[_0x1d97("0x67")],_=(x[_0x1d97("0x9b")],this[_0x1d97("0x38")].options),e=_.s,t=(_.k,_[_0x1d97("0x43")]),n=this[_0x1d97("0x37")],r=this[_0x1d97("0x38")][_0x1d97("0x9c")],s=i[_0x1d97("0x44")][_0x1d97("0x45")]((0,a.getSubDirByS)(e));url=t+"/"+s+"/map/mapmodel!getmodel.action?cids="+n+"&name="+d+".gltf&token="+r}},{key:_0x1d97("0x55"),value:function(x){var d=x[_0x1d97("0x67")],_=x[_0x1d97("0x85")],e=x[_0x1d97("0x9b")],t=this.map.options,n=t[_0x1d97("0x40")],r=t[_0x1d97("0x43")],s=t.s,o=void 0;this[_0x1d97("0x39")]?o=r+"/"+i[_0x1d97("0x44")][_0x1d97("0x45")]((0,a[_0x1d97("0x94")])(s,!0))+_0x1d97("0x6d")+_+"&name="+d+_0x1d97("0x9d")+e+_0x1d97("0x7e")+n:o=r+_0x1d97("0x84")+_+_0x1d97("0x6e")+d+_0x1d97("0x6f");return o}},{key:_0x1d97("0x56"),value:function(x){var d=x[_0x1d97("0x67")],_=x[_0x1d97("0x9b")],e=this[_0x1d97("0x38")][_0x1d97("0x35")],t=e[_0x1d97("0x40")],n=e[_0x1d97("0x43")],r=e.s,s=this.mapId,o="";1!=t?o=n+"/buildingModels/"+d+"/"+d+_0x1d97("0x6f"):o=n+"/"+i[_0x1d97("0x44")][_0x1d97("0x45")]((0,a[_0x1d97("0x94")])(r))+_0x1d97("0x9e")+s+_0x1d97("0x9f")+d+_0x1d97("0x62")+_+_0x1d97("0x7e")+t;return o}}]),x}();d[_0x1d97("0x1c")]=new r},,,,,,,,,,,function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xa0")]=function x(d){if(null!==d){d.datas_&&d[_0x1d97("0xa2")][_0x1d97("0xa3")]&&(d[_0x1d97("0xa2")].o3d_=void 0,d[_0x1d97("0xa2")]=void 0);for(var _=0;_<d[_0x1d97("0xa4")][_0x1d97("0x0")];_++)x(d[_0x1d97("0xa4")][_]);d[_0x1d97("0xa5")]&&(d.geometry[_0x1d97("0xa6")](),d[_0x1d97("0xa5")]=void 0),d.material&&(d[_0x1d97("0xa7")]instanceof Array?d[_0x1d97("0xa7")][_0x1d97("0x1d")]((function(x){x.map&&(x[_0x1d97("0x38")][_0x1d97("0xa6")](),x[_0x1d97("0x38")]=void 0),x[_0x1d97("0xa6")](),x=void 0})):(d[_0x1d97("0xa7")][_0x1d97("0xa6")](),d[_0x1d97("0xa7")]=void 0))}d=void 0},d[_0x1d97("0xa1")]=function(x,d,_,a){var i=t/Math[_0x1d97("0xa8")](2,_),n={minx:256*x*i-e,miny:256*d*i-e,maxx:256*(x+1)*i-e,maxy:256*(d+1)*i-e};if(a){var r=esmap.ESMapUtil[_0x1d97("0xa9")](n[_0x1d97("0xaa")],n[_0x1d97("0xab")]),s=esmap[_0x1d97("0x75")].WGS84ToGCJ02(r),o=esmap[_0x1d97("0x75")][_0x1d97("0xac")](s[0],s[1]),c=esmap.ESMapUtil.Mercator2lonLat(n[_0x1d97("0xad")],n[_0x1d97("0xae")]),l=esmap[_0x1d97("0x75")][_0x1d97("0xaf")](c),u=esmap[_0x1d97("0x75")][_0x1d97("0xac")](l[0],l[1]);n[_0x1d97("0xad")]=u[0],n[_0x1d97("0xae")]=u[1],n[_0x1d97("0xaa")]=o[0],n[_0x1d97("0xab")]=o[1]}return n},d.getTileFromMec=function(x,d,_){var a=t/Math[_0x1d97("0xa8")](2,_),i={},n=(x+e)/a,r=(d+e)/a;return i.x=Math[_0x1d97("0xb0")](n/256)-1,i.y=Math[_0x1d97("0xb0")](r/256)-1,i},d.computeModelInfo=function(x){var d=x[_0x1d97("0xb1")][_0x1d97("0xb2")].materials[_0x1d97("0x0")],_=x.parser[_0x1d97("0xb2")][_0x1d97("0xb3")][_0x1d97("0x0")],e=0;return x.scene[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa5")]){var d=x[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")];e+=d}})),{materials:d,meshes:_,vertexes:e}},d.findGroup=function(x){return function x(d,_){return d?d[_0x1d97("0xb8")]==_0x1d97("0xb9")?d:x(d[_0x1d97("0xba")],!1)||void 0:null}(x)},d.getChildByFaceIndex=function(x,d){for(var _=3*x,e=0;e<d.length;e++){var t=d[e];if(_>=t[_0x1d97("0xbb")][0]&&_<t[_0x1d97("0xbb")][1])return e}return-1};var e=20037508.342789244,t=156543.03392804062},,,,,,,,,,function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=n(_(10)),t=n(_(16)),a=n(_(32)),i=n(_(27));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}function r(x){return x<s&&x>-s}d[_0x1d97("0xbc")]=function(x,d){return Math[_0x1d97("0xc3")]((x.x-d.x)*(x.x-d.x)+(x.y-d.y)*(x.y-d.y))},d[_0x1d97("0x14")]=function(x){return(0,i[_0x1d97("0x1c")])(new(a[_0x1d97("0x1c")])(x))},d[_0x1d97("0x45")]=function(x,d,_){for(var e="",t=o(d+_),a=o(x),i=0;i<a.length;i++){for(var n=0;n<t[_0x1d97("0x0")];n++)a[i]=a[i]^t[n];e+=String[_0x1d97("0xc4")](a[i])}return e},d[_0x1d97("0xbd")]=function(x,d,_,e){var t=d.x,a=d.y,i=_.x,n=_.y,o=x.x,c=x.y,l=i-t,u=n-a,f=Math[_0x1d97("0xc3")](l*l+u*u),h=o-t,b=c-a,g=Math[_0x1d97("0xc3")](h*h+b*b);if(r(f))return r(g)?(e.x=d.x,e.y=d.y,0):(e.x=d.x,e.y=d.y,g);var v=l/f,p=u/f,m=v*h+p*b;if(A=m,!(A>s))return e.x=d.x,e.y=d.y,g;var A;if(E=m-f,!(E<-s)){var C=o-i,I=c-n,y=Math[_0x1d97("0xc3")](C*C+I*I);return e.x=_.x,e.y=_.y,y}var E;var w=t+m*v,T=a+m*p,k=o-w,S=c-T,M=Math[_0x1d97("0xc3")](k*k+S*S);return e.x=w,e.y=T,M},d.getRandom=function(){for(var x=_0x1d97("0x65"),d=0;d<6;d++)x+=Math[_0x1d97("0x2b")](10*Math[_0x1d97("0x2c")]());return x},d[_0x1d97("0x16")]=function(x){var d=this;(0,t[_0x1d97("0x1c")])(x).forEach((function(_){null==d[_]&&(d[_]=x[_])}))},d[_0x1d97("0xbe")]=function(x,d){for(var _=0;_<x[_0x1d97("0x0")];_++)if(x[_]==d)return!0;return!1},d[_0x1d97("0xbf")]=function x(d){for(var _=arguments[_0x1d97("0x0")],a=Array(_>1?_-1:0),i=1;i<_;i++)a[i-1]=arguments[i];return a[_0x1d97("0xc5")]((function(d,_){return(0,t[_0x1d97("0x1c")])(_)[_0x1d97("0xc5")]((function(d,t){var a=_[t];return l(a)?d[t]=a.map((function(_,e){if(c(_)){var a=d[t]?d[t]:[];return x(a[e]?a[e]:{},_)}return _})):c(a)?u(a)?d[t]=a:d[t]=x(d[t]?d[t]:{},a):(typeof d===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(d))==_0x1d97("0xc6")?(d={})[t]=a:void 0!==a&&(d[t]=a),d}),d)}),d)},d[_0x1d97("0xc0")]=u,d[_0x1d97("0xc1")]=function(x,d){for(var _ in x)if(x[_]!=d[_])return!0;return!1},d[_0x1d97("0xc2")]=function(x){function d(x,d,_){if(x>255||d>255||_>255)throw _0x1d97("0xc8");var e=(x<<16|d<<8|_)[_0x1d97("0x2d")](16);return e="#"+(_0x1d97("0xc9")+e)[_0x1d97("0xca")](-6)}if(typeof x!=_0x1d97("0xe"))return _0x1d97("0xcb");if(x[_0x1d97("0xcc")]("#"))return x;if(x[_0x1d97("0xcc")](_0x1d97("0xcd"))){var _=x.match(/\d+/g);return d(_[0],_[1],_[2])}if(x[_0x1d97("0xcc")]("rgba")){var e=x[_0x1d97("0xce")](/\d+/g);return d(e[0],e[1],e[2])}if(x[_0x1d97("0xcc")](",")){var t=x.split(",");return d(t[0],t[1],t[2])}return _0x1d97("0xcb")};var s=1e-5;function o(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++)d[_]=x[_0x1d97("0x2a")](_);return d}function c(x){var d=typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x);return null!=x&&(d==_0x1d97("0xc")||d==_0x1d97("0x1e"))}function l(x){return x instanceof Array}function u(x){if(x[_0x1d97("0xc7")])return 1==x[_0x1d97("0xc7")]}},,,,,,,,,,,,function(x,d,_){"use strict";function e(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++)d[_]=x[_0x1d97("0x2a")](_);return d}Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d.decode=function(x,d,_){for(var t="",a=e(d+_),i=e(x),n=0;n<i[_0x1d97("0x0")];n++){for(var r=0;r<a[_0x1d97("0x0")];r++)i[n]=i[n]^a[r];t+=String[_0x1d97("0xc4")](i[n])}return t},d[_0x1d97("0xcf")]=function(x,d){for(var _=e(x),t=0;t<16;t++)for(var a=0;a<_[_0x1d97("0x0")];a++)d[t]=d[t]^_[a]},d[_0x1d97("0x42")]=function(x){if(1==x)return window[_0x1d97("0x72")][_0x1d97("0x73")][_0x1d97("0xd7")](_0x1d97("0xd8"))>-1?t[2807]:t[2803];if(2==x)return t[2804];if(3==x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x35")][_0x1d97("0x41")];return d[_0x1d97("0xd7")](_0x1d97("0xd9"))>-1?d+_0x1d97("0xda"):""}return null},d.getSubDirByS=function(x){var d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1==x||2==x)return d?t[2809]:t[2805];if(3==x)return d?t[2808]:t[2806];return x},d.gsdbt=function(x){if(1==x||2==x)return t[2805];if(3==x)return t[2806];return null};var t=d[_0x1d97("0x81")]={2803:_0x1d97("0xd0"),2804:_0x1d97("0xd1"),2805:_0x1d97("0xd2"),2806:_0x1d97("0xd3"),2807:_0x1d97("0xd4"),2808:_0x1d97("0xd5"),2809:_0x1d97("0xd6")}},,,,,,,,,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=o(_(2)),t=o(_(4)),a=o(_(0)),i=o(_(1)),n=o(_(5)),r=o(_(6)),s=_(44);function o(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}function c(x){if(x){if(x.datas_&&x[_0x1d97("0xa2")].o3d_&&(x[_0x1d97("0xa2")].o3d_=void 0,x[_0x1d97("0xa2")]=void 0),x[_0x1d97("0xa4")])for(var d=0;d<x.children[_0x1d97("0x0")];d++)c(x[_0x1d97("0xa4")][d]);x[_0x1d97("0xa5")]&&(x.geometry.dispose(),x[_0x1d97("0xa5")]=void 0),x[_0x1d97("0xa7")]&&(x[_0x1d97("0xa7")]instanceof Array?x[_0x1d97("0xa7")][_0x1d97("0x1d")]((function(x){x&&(x[_0x1d97("0x38")]&&(x[_0x1d97("0x38")][_0x1d97("0xa6")](),x[_0x1d97("0x38")]=void 0),x.dispose(),x=void 0)})):(x[_0x1d97("0xa7")][_0x1d97("0xa6")](),x.material=void 0))}x=void 0}var l=function(x){function d(x,_,e){(0,a[_0x1d97("0x1c")])(this,d);var i={lineWidth:6,lineWidthMeter:!1,color:_0x1d97("0xcb"),lineType:esmap.ESLineType[_0x1d97("0xde")],offsetHeight:0,fixedWidth:!1,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.2,roughness:.5,light:!0,reverseAnimate:0,lineMode:_0x1d97("0xdf"),repeat:1,imgOffsetX:0,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x1d97("0xe0")])(0,1,0),matSide:1,noAnimate:!1,cross:!1};(0,s.merge)(i,_),i[_0x1d97("0x2")](_0x1d97("0xe1"))&&(i[_0x1d97("0xe2")]=i[_0x1d97("0xe1")]);var r=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t.default)(d))[_0x1d97("0x3")](this));r[_0x1d97("0xe4")]=e||!1,r.style=i;var o=esmap.ESMap.instance;r[_0x1d97("0xe5")]=x[0][_0x1d97("0xe5")]||o.id;var c=function(x){for(var d=0,_=x[0][_0x1d97("0xdb")](),e=1;e<x[_0x1d97("0x0")];e++)d+=x[e].distanceTo(x[e-1]),_[_0x1d97("0xdc")](x[e]);return{length:d,center:_[_0x1d97("0xdd")](x[_0x1d97("0x0")])}}(x);return r[_0x1d97("0xe6")]=x,r[_0x1d97("0x0")]=c[_0x1d97("0x0")],r[_0x1d97("0xe7")]=c[_0x1d97("0xe7")],r[_0x1d97("0xe8")]=x[0][_0x1d97("0xe8")],r[_0x1d97("0xe9")]="esline",r.nodeType=esmap[_0x1d97("0xea")][_0x1d97("0xeb")],r[_0x1d97("0xec")]=[],r[_0x1d97("0x32")](),r}return(0,r[_0x1d97("0x1c")])(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x32"),value:function(){var x=this,d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=this,e=this;_.map=d;var t,a=new THREE.PathPointList,i=null;this[_0x1d97("0x22")][_0x1d97("0xed")]&&(d[_0x1d97("0xee")](this[_0x1d97("0xe5")])[_0x1d97("0xef")][_0x1d97("0xd7")](this.fnum)<0&&(this[_0x1d97("0xf0")]=!1));if(this[_0x1d97("0xe4")]){var n=this.points[0][_0x1d97("0xe5")],r=this.points[1][_0x1d97("0xe5")],s=this[_0x1d97("0x38")][_0x1d97("0xee")](n),o=this[_0x1d97("0x38")][_0x1d97("0xee")](r);if(s){var c=function(d){var _=d[_0x1d97("0xe8")],e=d[_0x1d97("0xf1")];_==x[_0x1d97("0xe6")][0][_0x1d97("0xe8")]&&(x[_0x1d97("0xe6")][0].y=e),x[_0x1d97("0xf2")](x.points)};s.on(_0x1d97("0xf3"),c),this[_0x1d97("0xec")][_0x1d97("0x1")]((function(){s[_0x1d97("0x5e")](_0x1d97("0xf3"),c)}))}if(o){var l=function(d){var _=d.fnum,e=d.value;_==x[_0x1d97("0xe6")][1][_0x1d97("0xe8")]&&(x.points[1].y=e),x[_0x1d97("0xf2")](x[_0x1d97("0xe6")])};o.on(_0x1d97("0xf3"),l),this.disposeTasks.push((function(){o[_0x1d97("0x5e")](_0x1d97("0xf3"),l)}))}}else{var u=d.getBuildingById(this[_0x1d97("0xe5")]);if(u){var f=function(d){for(var _=d.fnum,e=d[_0x1d97("0xf1")],t=0;t<x.points[_0x1d97("0x0")];t++)x.points[t][_0x1d97("0xe8")]&&_==x[_0x1d97("0xe6")][t][_0x1d97("0xe8")]&&(x[_0x1d97("0xe6")][t].y=e);x.updateGeometry(x[_0x1d97("0xe6")])};u.on(_0x1d97("0xf3"),f),this.disposeTasks[_0x1d97("0x1")]((function(){u.off(_0x1d97("0xf3"),f)}))}}if(_[_0x1d97("0x22")][_0x1d97("0xf4")])i=_[_0x1d97("0x22")][_0x1d97("0xf5")]>=20?d[_0x1d97("0xf6")].mapRoadMats[_0x1d97("0xf7")][_0x1d97("0xdb")]():d[_0x1d97("0xf6")][_0x1d97("0xf8")][_0x1d97("0xf9")][_0x1d97("0xdb")]();else{(i=_[_0x1d97("0x22")][_0x1d97("0xfa")]?new(THREE[_0x1d97("0xfb")])({transparent:this[_0x1d97("0x22")].transparent,opacity:this[_0x1d97("0x22")][_0x1d97("0xe2")],color:16777215,wireframe:!1,metalness:this[_0x1d97("0x22")][_0x1d97("0xfc")],roughness:this[_0x1d97("0x22")][_0x1d97("0xfd")]}):new(THREE[_0x1d97("0xfe")])({transparent:this[_0x1d97("0x22")][_0x1d97("0xff")],opacity:this[_0x1d97("0x22")][_0x1d97("0xe2")],color:16777215}))[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(this[_0x1d97("0x22")][_0x1d97("0x100")]),i.onBeforeCompile=function(x){x.uniforms.passPercent={value:0},x[_0x1d97("0x102")][_0x1d97("0x103")]={value:t[_0x1d97("0x104")]},x.vertexShader=x[_0x1d97("0x105")][_0x1d97("0x106")]("#include <clipping_planes_pars_vertex>","\n                    #include <clipping_planes_pars_vertex>\n                    varying vec2 nvUv;\n                    "),x[_0x1d97("0x105")]=x[_0x1d97("0x105")].replace(_0x1d97("0x107"),_0x1d97("0x108")),x.fragmentShader=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x10a"),_0x1d97("0x10b")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x10c"),"\n                    outgoingLight = changePassColor(outgoingLight, passPercent);\n                    \n                    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                    "),e[_0x1d97("0x10d")]=x},this[_0x1d97("0x22")][_0x1d97("0x10e")]=[2,0],this[_0x1d97("0x10f")]=this[_0x1d97("0x22")][_0x1d97("0x10e")].reduce((function(x,d){return x+d}));var h=this[_0x1d97("0x110")]();i[_0x1d97("0xff")]=this[_0x1d97("0x22")][_0x1d97("0xff")],i.side=THREE[_0x1d97("0x111")],h[_0x1d97("0x112")].x=this[_0x1d97("0x22")].repeat,h[_0x1d97("0x113")].x=this[_0x1d97("0x22")][_0x1d97("0x114")],i[_0x1d97("0x38")]=h,2==_[_0x1d97("0x22")].matSide&&(i[_0x1d97("0x115")]=THREE[_0x1d97("0x111")])}if(this[_0x1d97("0x22")][_0x1d97("0x116")]==_0x1d97("0x117")){var b=this.style.lineWidth/8;if(this[_0x1d97("0x22")][_0x1d97("0x118")]&&(b=this[_0x1d97("0x22")][_0x1d97("0x119")]),this[_0x1d97("0x11a")]=a,this.pathPointList[_0x1d97("0x11b")](this[_0x1d97("0xe6")],b,0,void 0,!1),t=new(THREE[_0x1d97("0x11c")]),this[_0x1d97("0x22")].fixedWidth){var g=esmap[_0x1d97("0x75")].getSpriteScale(d,this);t[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{radius:b/2*g*10,radialSegments:20,startRad:0}),t[_0x1d97("0x11e")][_0x1d97("0x11f")]=b/2*g*10}else t[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{radius:b/2,radialSegments:20,startRad:0}),t[_0x1d97("0x11e")][_0x1d97("0x11f")]=b/2}else{var v=this[_0x1d97("0x22")][_0x1d97("0x119")]/8;this.style[_0x1d97("0x118")]&&(v=this[_0x1d97("0x22")].lineWidth),this[_0x1d97("0x120")]=1,t=new(THREE[_0x1d97("0x121")]),this[_0x1d97("0x11a")]=a;var p=!1,m=this[_0x1d97("0xe6")][_0x1d97("0x0")]-1;if(this[_0x1d97("0xe6")][0].x==this.points[m].x&&this[_0x1d97("0xe6")][0].z==this.points[m].z&&(p=!0),this[_0x1d97("0x11a")][_0x1d97("0x11b")](this[_0x1d97("0xe6")],0,0,this[_0x1d97("0x22")].up,p),this[_0x1d97("0x22")][_0x1d97("0x122")]){var A=esmap[_0x1d97("0x75")].getSpriteScale(d,this);t[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:v*A*18,side:"both",arrow:this[_0x1d97("0x22")][_0x1d97("0x123")]}),t[_0x1d97("0x11e")].trueRadius=v*A*18}else t[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:v,side:_0x1d97("0x124"),arrow:this[_0x1d97("0x22")].arrow}),t[_0x1d97("0x11e")][_0x1d97("0x11f")]=v}t[_0x1d97("0x125")]=1,t[_0x1d97("0x126")](),2==_[_0x1d97("0x22")][_0x1d97("0x127")]&&(i[_0x1d97("0x115")]=THREE[_0x1d97("0x111")]),_[_0x1d97("0x22")][_0x1d97("0x128")]&&(i.depthTest=!1),_[_0x1d97("0x22")][_0x1d97("0x129")]&&(i.depthWrite=!1,i.blending=THREE[_0x1d97("0x12a")]),this[_0x1d97("0xa7")]=i,this[_0x1d97("0xa5")]=t,this[_0x1d97("0x119")]=this[_0x1d97("0x22")][_0x1d97("0x119")],this.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],this[_0x1d97("0x12d")]=this[_0x1d97("0x12e")][_0x1d97("0x11")](this),this._onControlChange=this[_0x1d97("0x12f")][_0x1d97("0x11")](this),this[_0x1d97("0x130")]=this[_0x1d97("0x131")][_0x1d97("0x11")](this),d.on("update",this._onUpdate),d.on(_0x1d97("0x132"),this[_0x1d97("0x133")]),this[_0x1d97("0x22")][_0x1d97("0xed")]&&d.on(_0x1d97("0x131"),this._onvisibleFloorNumsChanged),e[_0x1d97("0x22")][_0x1d97("0x122")]&&e[_0x1d97("0x134")]()}},{key:_0x1d97("0x12e"),value:function(x){this[_0x1d97("0xba")]&&this[_0x1d97("0xba")].visible&&!this.style[_0x1d97("0x135")]&&this.updateLineTextureOffset(x)}},{key:"onControlChange",value:function(){this[_0x1d97("0xba")]&&this[_0x1d97("0xba")].visible&&this.style[_0x1d97("0x122")]&&this[_0x1d97("0x134")]()}},{key:_0x1d97("0xf2"),value:function(x){var d=this[_0x1d97("0xa5")][_0x1d97("0x11e")].trueRadius;this[_0x1d97("0xe6")]=x;var _=!1,e=this[_0x1d97("0xe6")][_0x1d97("0x0")]-1;this.points[0].x==this[_0x1d97("0xe6")][e].x&&this[_0x1d97("0xe6")][0].z==this[_0x1d97("0xe6")][e].z&&(_=!0),this[_0x1d97("0x22")][_0x1d97("0x116")]==_0x1d97("0x117")?(this[_0x1d97("0x11a")][_0x1d97("0x11b")](x,d,0,void 0,!1),this.geometry.update(this.pathPointList,{radius:d,radialSegments:20,startRad:0})):(this[_0x1d97("0x11a")][_0x1d97("0x11b")](this.points,0,0,this[_0x1d97("0x22")].up,_),this.geometry[_0x1d97("0x11d")](this.pathPointList,{width:d,side:_0x1d97("0x124"),arrow:this.style[_0x1d97("0x123")]})),this[_0x1d97("0xa5")].clearGroups(),this[_0x1d97("0xa5")].addGroup(0,this[_0x1d97("0xa5")][_0x1d97("0xb5")].position[_0x1d97("0xb7")],0)}},{key:"updateLineWidth",value:function(){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")],d=esmap[_0x1d97("0x75")][_0x1d97("0x136")](x),_=this[_0x1d97("0x22")][_0x1d97("0x118")]?this[_0x1d97("0x119")]:this[_0x1d97("0x119")]/8;"plane"==this[_0x1d97("0x22")][_0x1d97("0x116")]?this[_0x1d97("0xa5")][_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:_*d*18,side:_0x1d97("0x124"),arrow:this.style[_0x1d97("0x123")],progress:this[_0x1d97("0xa5")].progress}):this[_0x1d97("0xa5")][_0x1d97("0x11d")](this[_0x1d97("0x11a")],{radius:_*d*10,radialSegments:20,startRad:0,progress:this[_0x1d97("0xa5")][_0x1d97("0x125")]})}},{key:"updateLineTextureOffset",value:function(x){if(this[_0x1d97("0xa7")]&&this[_0x1d97("0xa7")][_0x1d97("0x38")]&&!this[_0x1d97("0x22")][_0x1d97("0x135")]){if(this[_0x1d97("0x22")][_0x1d97("0x137")]?this.material[_0x1d97("0x38")][_0x1d97("0x113")].x+=.5*x*this.style[_0x1d97("0x138")]:this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x113")].x-=.5*x*this[_0x1d97("0x22")][_0x1d97("0x138")],this[_0x1d97("0x10d")]&&this[_0x1d97("0x0")]>0){this[_0x1d97("0x139")]=this[_0x1d97("0x139")]||0;var d=this[_0x1d97("0x139")]/this.length;this[_0x1d97("0x10d")][_0x1d97("0x102")][_0x1d97("0x13a")][_0x1d97("0xf1")]=d}this[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0}}},{key:"updateColor",value:function(x){this[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(this[_0x1d97("0x13c")](x))}},{key:_0x1d97("0x13c"),value:function(x){if(_0x1d97("0x13d")==typeof x){for(var d=x[_0x1d97("0x2d")](16);d.length<6;)d="0"+d;return"#"+d}return x}},{key:"createTexture",value:function(){var x=(new THREE.TextureLoader).load(this.style[_0x1d97("0x48")],(function(x){x[_0x1d97("0x13b")]=!0}));return x[_0x1d97("0x13e")]=4,x[_0x1d97("0x112")].y=1,x.offset.y=0,x[_0x1d97("0x13f")]=THREE[_0x1d97("0x140")],x[_0x1d97("0x141")]=THREE[_0x1d97("0x142")],x[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],x}},{key:_0x1d97("0x144"),value:function(x){x[_0x1d97("0x100")]&&_0x1d97("0x13d")==typeof x.color&&(x[_0x1d97("0x100")]=this[_0x1d97("0x13c")](x[_0x1d97("0x100")])),(0,e[_0x1d97("0x1c")])(this[_0x1d97("0x22")],x),x[_0x1d97("0x145")]&&!x.dashArray&&(this[_0x1d97("0x22")][_0x1d97("0x10e")]=[2,0]);var d=this[_0x1d97("0x110")]();this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xa6")](),this[_0x1d97("0xa7")].map=d,this[_0x1d97("0xa7")].map.needsUpdate=!0,this[_0x1d97("0xa7")].needsUpdate=!0}},{key:"visibleFloorNumsChanged",value:function(x){if(x.bid==this[_0x1d97("0xe5")]){var d=x.fnums,_=this[_0x1d97("0xe8")],e=!0;_0x1d97("0x13d")==typeof _?-1==d.indexOf(_)&&(e=!1):_ instanceof Array&&_[_0x1d97("0x1d")]((function(x){-1==d[_0x1d97("0xd7")](x)&&(e=!1)})),this.visible=e}}},{key:_0x1d97("0xa6"),value:function(){var x=esmap.ESMap.instance;x[_0x1d97("0x5e")]("update",this[_0x1d97("0x12d")]),x.off("controlchange",this._onControlChange),x.off("visibleFloorNumsChanged",this[_0x1d97("0x130")]),this[_0x1d97("0xec")][_0x1d97("0x1d")]((function(x){x()})),this[_0x1d97("0xf0")]=!1;var d=this.parent,_=x[_0x1d97("0x146")][_0x1d97("0x147")];for(var e in _){var t=_[e],a=t.indexOf(this);if(a>-1){t.splice(a,1);break}}var i=x[_0x1d97("0x148")][_0x1d97("0xd7")](this[_0x1d97("0xa3")]);return i>-1&&x[_0x1d97("0x148")].splice(i,1),d?(d[_0x1d97("0x149")](this),c(this),!0):void 0}}]),d}(THREE[_0x1d97("0x14a")]);d[_0x1d97("0x1c")]=l},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=s(_(2)),t=s(_(0)),a=s(_(1)),i=s(_(288)),n=s(_(292)),r=_(31);function s(x){return x&&x.__esModule?x:{default:x}}var o=function(){function x(d){(0,t[_0x1d97("0x1c")])(this,x),this.lodSources={},this.id=d.id,this.map=d[_0x1d97("0x38")],this[_0x1d97("0xa3")]=new THREE.Object3D,this[_0x1d97("0x14b")]=this[_0x1d97("0x38")].mapScene[_0x1d97("0x14b")],this.o3d_[_0x1d97("0xa2")]=this,this[_0x1d97("0x14c")]=0,this[_0x1d97("0x14d")]=new esmap.ESLayerManager(this[_0x1d97("0xa3")]),this[_0x1d97("0x14e")]=1,this[_0x1d97("0x14f")]=new(i[_0x1d97("0x1c")])(this),this.lineLevel1=new(THREE[_0x1d97("0x150")]),this.lineLevel2=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0x151")]=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0xa3")][_0x1d97("0xdc")](this[_0x1d97("0x152")]),this[_0x1d97("0xa3")][_0x1d97("0xdc")](this[_0x1d97("0x153")]),this[_0x1d97("0xa3")][_0x1d97("0xdc")](this[_0x1d97("0x151")]),this.roadLoaded=!1;var _=this;_[_0x1d97("0x154")]=!1;var e=_.map.mapView[_0x1d97("0x155")];e<16.5||(e<15?this.lineLevel2[_0x1d97("0xf0")]=!1:e<14&&(this[_0x1d97("0x151")][_0x1d97("0xf0")]=!1)),this.map.on(_0x1d97("0x156"),(function(){_[_0x1d97("0x157")]()}))}return(0,a[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x158"),value:function(){}},{key:_0x1d97("0x157"),value:function(){var x=this,d=x.map.mapView[_0x1d97("0x155")],_=x[_0x1d97("0x38")].tileService[_0x1d97("0x159")];x[_0x1d97("0x15a")]&&(d>=16.5?_.indexOf(x.id)>-1&&(x[_0x1d97("0x15a")][2]&&x[_0x1d97("0x15b")](2),x.tempDatas[3]&&x[_0x1d97("0x15b")](3)):d>=14.5&&_[_0x1d97("0xd7")](x.id)>-1&&x[_0x1d97("0x15a")][2]&&x[_0x1d97("0x15b")](2)),x[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x15c")]?(d<15?x[_0x1d97("0x153")][_0x1d97("0xf0")]&&(x[_0x1d97("0x153")][_0x1d97("0xf0")]=!1):x[_0x1d97("0x153")][_0x1d97("0xf0")]||(x.lineLevel2[_0x1d97("0xf0")]=!0),d<14?x[_0x1d97("0x151")][_0x1d97("0xf0")]&&(x[_0x1d97("0x151")][_0x1d97("0xf0")]=!1):x[_0x1d97("0x151")].visible||(x[_0x1d97("0x151")][_0x1d97("0xf0")]=!0)):(x[_0x1d97("0x153")][_0x1d97("0xf0")]&&(x[_0x1d97("0x153")].visible=!1),x[_0x1d97("0x151")][_0x1d97("0xf0")]&&(x.lineLevel3[_0x1d97("0xf0")]=!1))}},{key:_0x1d97("0x15d"),value:function(){this[_0x1d97("0x154")]||(this.firstEmitLoaded=!0,this[_0x1d97("0x38")][_0x1d97("0x15e")](this),this[_0x1d97("0x157")]())}},{key:_0x1d97("0x15f"),value:function(){}},{key:_0x1d97("0x160"),value:function(){this.lineLevel1.visible=!1}},{key:_0x1d97("0x15c"),value:function(){this.lineLevel1[_0x1d97("0xf0")]=!0}},{key:"loadBuildings",value:function(x){var d=this[_0x1d97("0x15a")][x];this.modelLoadManager.modelStatic.roomModelsCount=d[_0x1d97("0x161")],this[_0x1d97("0x38")].mapService[_0x1d97("0x162")]+=d[_0x1d97("0x161")],d[_0x1d97("0x163")]=x,this[_0x1d97("0x14b")].handleModels(d,1,this,!0),this[_0x1d97("0x14b")][_0x1d97("0x164")](d,1,this,!0),this[_0x1d97("0x15a")][x]=null}},{key:"loadPois",value:function(){var x=this[_0x1d97("0x165")];if(x){var d=x[_0x1d97("0x166")],_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x169")]);this.o3d_[_0x1d97("0xdc")](_[_0x1d97("0xa3")]),_[_0x1d97("0xa3")][_0x1d97("0x16a")]=new esmap.ESMapBoxCollision;var e=this[_0x1d97("0x38")].id,t=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].MODEL_POI);this[_0x1d97("0xa3")][_0x1d97("0xdc")](t[_0x1d97("0xa3")]),t.o3d_[_0x1d97("0x16a")]=new(esmap[_0x1d97("0x16b")]);var a=this[_0x1d97("0x38")][_0x1d97("0x16c")],i=this;for(var n in this[_0x1d97("0x38")].on(_0x1d97("0x132"),(function(){i[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x155")]<=10?(_[_0x1d97("0xf0")]&&(_.visible=!1),t[_0x1d97("0xf0")]&&(t[_0x1d97("0xf0")]=!1)):(!_.visible&&(_[_0x1d97("0xf0")]=!0),!_[_0x1d97("0xf0")]&&(t[_0x1d97("0xf0")]=!0))})),d){var r=d[n],s=Math[_0x1d97("0x2b")](r[_0x1d97("0x16e")]/100),o=r[_0x1d97("0x16e")]%100,c="left";if(1==o?c="top":2==o?c="right":3==o&&(c=_0x1d97("0x16f")),2==s||3==s||4==s){var l=r.SH||2.5,u={oid:r[_0x1d97("0x170")],Typeid:r[_0x1d97("0x171")],name:r.NA||"",fontstyleid:r[_0x1d97("0x172")],Height:r.SH,X:r.X,Y:r.Y,imagealign:c,image:r[_0x1d97("0x173")],w:r.w?r.w:32,h:r.h?r.h:32,ShowLevel:r.SL,texture:null},f=this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x174")][u[_0x1d97("0x175")]]||this[_0x1d97("0x38")].mapTheme.poiStyles[0]||this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x176")],h=new(esmap[_0x1d97("0x177")])(1,u,f,!0),b=new(esmap[_0x1d97("0x178")])(u,h,this);b[_0x1d97("0xe5")]=this[_0x1d97("0x38")].id,b[_0x1d97("0x91")]=this.id,h.visible=!0,_[_0x1d97("0xa3")].add(h),h[_0x1d97("0xa2")].data_[_0x1d97("0x179")]=0,h[_0x1d97("0xa2")].bType=1;var g=this[_0x1d97("0x38")].transformCoord({from:this.map[_0x1d97("0x17a")],to:this[_0x1d97("0x38")][_0x1d97("0x17b")],coord:{x:r.X,y:r.Y}}),v=this.map[_0x1d97("0x17c")](g);h.position.set(v.x,l,v.z),h.center[_0x1d97("0x11b")](.5,0),h[_0x1d97("0x17d")][_0x1d97("0x17e")](this[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x180")],h[_0x1d97("0x181")]),this[_0x1d97("0x38")][_0x1d97("0x146")].addObject(h,e)}else if(11==s){var p=new(esmap[_0x1d97("0x182")])(1,r,a[_0x1d97("0x183")],this[_0x1d97("0x38")][_0x1d97("0x35")].themeID,e,1);new esmap.ESFacility(r,p,a,e),p[_0x1d97("0xf0")]=!1,t[_0x1d97("0xa3")][_0x1d97("0xdc")](p),p.datas_[_0x1d97("0x184")][_0x1d97("0x179")]=1;var m=r.SH||3,A=this[_0x1d97("0x38")].transformCoord({from:this[_0x1d97("0x38")][_0x1d97("0x17a")],to:this[_0x1d97("0x38")].coordSystem,coord:{x:r.X,y:r.Y}}),C=this.map._coordMapSceneToThree(A);p.position[_0x1d97("0x11b")](C.x,m,C.z),p.initY_=m,p[_0x1d97("0xe9")]=_0x1d97("0x185"),p[_0x1d97("0xa2")][_0x1d97("0x186")]=1,p[_0x1d97("0xa2")][_0x1d97("0x187")]=r.SL,p.datas_[_0x1d97("0x91")]=this.id,p.data_.ShowLevel=r.SL,p[_0x1d97("0x17d")].multiplyMatrices(this[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x180")],p[_0x1d97("0x181")]),p[_0x1d97("0xe7")].set(.5,0),this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](p,this.id)}}}}},{key:"deleteRoadById",value:function(x){for(var d=this[_0x1d97("0x152")][_0x1d97("0xa4")],_=this.map[_0x1d97("0x146")][_0x1d97("0x147")][this.id],e=0;e<d[_0x1d97("0x0")];e++)if(d[e][_0x1d97("0xa2")].ID==x){var t=d[e],a=_[_0x1d97("0xd7")](t);a>-1&&_[_0x1d97("0x189")](a,1),t.geometry[_0x1d97("0xa6")](),t.material=null,this[_0x1d97("0x152")][_0x1d97("0x149")](t)}}},{key:_0x1d97("0x18a"),value:function(){if(!this[_0x1d97("0x18b")]){var x=this,d=x[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x18d")][x.id];if(d){var _=d[_0x1d97("0x18e")];for(var e in _)x[_0x1d97("0x18f")](_[e]);this[_0x1d97("0x18b")]=!0}}}},{key:_0x1d97("0x190"),value:function(x){this[_0x1d97("0x14d")][_0x1d97("0x190")](x)}},{key:_0x1d97("0x191"),value:function(x,d){return this[_0x1d97("0x14d")].getOrCreateLayerByName(x,d)}},{key:_0x1d97("0x192"),value:function(x,d){return this[_0x1d97("0x14d")][_0x1d97("0x192")](x,d)}},{key:_0x1d97("0x193"),value:function(x,d){return this[_0x1d97("0x14d")].getLayersByNames(x,d)}},{key:_0x1d97("0x194"),value:function(x){var d=this,_=(new THREE.Vector3(0,1,0),[]),e=new(THREE[_0x1d97("0x195")])({color:255,linewidth:2});for(var t in x){var a=x[t],i=d[_0x1d97("0x38")][_0x1d97("0xf6")].roadStyles[a[_0x1d97("0x22")]];i||(i=d[_0x1d97("0x38")].mapTheme[_0x1d97("0x196")][0]);var n=a[_0x1d97("0x197")][_0x1d97("0x198")](2,a[_0x1d97("0x197")][_0x1d97("0x0")]-2)[_0x1d97("0x28")](/,/),s=[],o=d.map.__ro[_0x1d97("0x28")](","),c={x:1*o[0],y:1*o[1],z:1*o[2]},l={x:0,y:0};if(0!=n.length){for(var u=[],f=-d.map.mapScene[_0x1d97("0x199")],h=d[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x19a")],b=0;b<n.length;b++){var g=n[b][_0x1d97("0x28")](" "),v=1*g[2]||0,p=new THREE.Vector3(-(1*g[0]+l.x+c.x)+f,c.z+1+v,1*g[1]+l.y+c.y-h);p.y=0,p.fnum=1,p.bid=0,p[_0x1d97("0x113")]=0,s[_0x1d97("0x1")](p),u[_0x1d97("0x1")]({x:1*g[0]+l.x,y:1*g[1]+l.y,offset:v}),0==b&&(l.x=1*g[0],l.y=1*g[1])}for(var m=[],A=0;A<s.length;A++){var C=s[A];m.push(new THREE.Vector3(C.x,C.z,0),new(THREE[_0x1d97("0xe0")])(C.x,C.z,0))}for(var I=(new(THREE[_0x1d97("0x19b")])).setFromPoints(m),y=[],E=I[_0x1d97("0x19c")](_0x1d97("0xb6"))[_0x1d97("0x19d")],w=E.length,T=0;T<=w-3;T+=3)0==T||T==w-3?y[_0x1d97("0x1")](E[T],E[T+1],E[T+2]):y[_0x1d97("0x1")](E[T],E[T+1],E[T+2]-0,E[T],E[T+1],E[T+2]-0);_.push(I)}}var k=r[_0x1d97("0x19e")][_0x1d97("0x19f")](_)[_0x1d97("0x19c")](_0x1d97("0xb6"))[_0x1d97("0x19d")],S=new(THREE[_0x1d97("0x19b")]);S[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(k,3)),S[_0x1d97("0x1a2")](0,k/3,0);var M=new(THREE[_0x1d97("0x1a3")])(S,[e]);M.rotation[_0x1d97("0x11b")](Math.PI/2,0,0,"XYZ"),M.renderOrder=100,d.map.mapScene[_0x1d97("0x1a4")][_0x1d97("0xdc")](M)}},{key:_0x1d97("0x1a5"),value:function(x){var d=(0,e.default)({style:0,points:[],id:0,name:"",rank:10},x),_=this,t=(_.id,d.style||0),a=_[_0x1d97("0x38")].mapTheme.roadStyles[t];a||(a=_[_0x1d97("0x38")][_0x1d97("0xf6")].roadStyles[0]);for(var i=_[_0x1d97("0x38")],r=i.id,s=_.id,o=[],c=0;c<d[_0x1d97("0xe6")][_0x1d97("0x0")];c++){var l=d[_0x1d97("0xe6")][c],u=i[_0x1d97("0x1a6")]({from:i[_0x1d97("0x17a")],to:i[_0x1d97("0x17b")],coord:{x:l.x,y:l.y}}),f=i._coordMapSceneToThree(u);f[_0x1d97("0xe5")]=0,f[_0x1d97("0xe8")]=1,f.y+=l[_0x1d97("0x113")]||0,o.push(f)}var h=new(n[_0x1d97("0x1c")])(o,{lineWidthMeter:!0,repeat:a[_0x1d97("0x112")]||0,lineWidth:a[_0x1d97("0x1a7")],noAnimate:0==a[_0x1d97("0x1a8")],randomOffset:!0,animateSpeed:a[_0x1d97("0x1a8")]/100,offsetHeight:.1*Math[_0x1d97("0x2c")]()+a.height,url:i.options[_0x1d97("0x1a9")].url},a[_0x1d97("0xa7")]);return h[_0x1d97("0xb8")]=d[_0x1d97("0xb8")],h[_0x1d97("0xa2")]={ID:d.id,nodeType:esmap.ESNodeType[_0x1d97("0xeb")],name:d[_0x1d97("0xb8")],o3d_:h,roadType:d[_0x1d97("0x1aa")],points:d[_0x1d97("0xe6")],bid:r,tileId:s,bType:1},_[_0x1d97("0x152")].add(h),i.mapPicker[_0x1d97("0x188")](h,_.id),h}},{key:_0x1d97("0x18f"),value:function(x){var d=x.na,_=x[_0x1d97("0x197")][_0x1d97("0x198")](2,x[_0x1d97("0x197")][_0x1d97("0x0")]-2)[_0x1d97("0x28")](/,/),e={x:0,y:0},t=this.map[_0x1d97("0x1ab")][_0x1d97("0x28")](","),a=1*t[0],i=1*t[1],n=1*t[2];if(0!=_.length){for(var r=[],s=0;s<_[_0x1d97("0x0")];s++){var o=_[s][_0x1d97("0x28")](" "),c=1*o[2]||0;r[_0x1d97("0x1")]({x:1*o[0]+e.x+a,y:1*o[1]+e.y+i,offset:c+n}),0==s&&(e.x=1*o[0],e.y=1*o[1])}this[_0x1d97("0x1a5")]({id:x[_0x1d97("0x170")],name:d,rank:x.rank,points:r,style:x.style||0})}}},{key:_0x1d97("0xf0"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xf0")]},set:function(x){this[_0x1d97("0xa3")][_0x1d97("0xf0")]=x}},{key:"inView",get:function(){for(var x=this[_0x1d97("0x38")][_0x1d97("0x16c")].tileScene_[_0x1d97("0xa4")],d=this.id,_=0;_<x[_0x1d97("0x0")];_++)if(x[_][_0x1d97("0xa2")].id==d)return!0;return!1}}]),x}();d[_0x1d97("0x1c")]=o},,function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d[_0x1d97("0x1ac")]=function(x){x[_0x1d97("0x1ae")]&&x[_0x1d97("0x1ae")][_0x1d97("0x1af")](),x[_0x1d97("0xa3")].position.y=x.initY_,x[_0x1d97("0x1b0")]=!1},d.jumpO3d=function(x,d){var _=x;d=d||{};var t=x[_0x1d97("0xa3")],a=_.position.y;_._isAnimating&&!d[_0x1d97("0x1b1")]||(_[_0x1d97("0x1b0")]=!0,d[_0x1d97("0x1b2")]=(0,e[_0x1d97("0x13")])(d,_0x1d97("0x1b2"),1),0==d[_0x1d97("0x1b2")]&&(d.times=Number[_0x1d97("0x1b3")]),d[_0x1d97("0x1b4")]=(0,e[_0x1d97("0x13")])(d,_0x1d97("0x1b4"),0),d.height=(0,e[_0x1d97("0x13")])(d,_0x1d97("0x1b5"),18),d.duration=(0,e[_0x1d97("0x13")])(d,"time",_0x1d97("0x1b6"),1),_[_0x1d97("0x1ae")]&&_[_0x1d97("0x1ae")][_0x1d97("0x1af")](),_[_0x1d97("0x1ae")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(t[_0x1d97("0xb6")]).to({y:a+d[_0x1d97("0x1b5")]},.2*d.duration*1e3)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1bc")])[_0x1d97("0x1bd")]((function(){})),_[_0x1d97("0x1be")]=new(esmap.TWEEN[_0x1d97("0x1b8")])(t[_0x1d97("0xb6")]).to({y:a},.8*d.duration*1e3).easing(esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x1bf")][_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){d[_0x1d97("0x1b2")]--,d[_0x1d97("0x1b2")]>0?_._isAnimating&&(d[_0x1d97("0x1b1")]=!0,_[_0x1d97("0x1ae")][_0x1d97("0x1b4")](1e3*d[_0x1d97("0x1b4")])[_0x1d97("0x1c1")]()):(_[_0x1d97("0x1b0")]=!1,_[_0x1d97("0x1ae")][_0x1d97("0x1af")](),d[_0x1d97("0x1c2")]&&d[_0x1d97("0x1c2")]())})),_[_0x1d97("0x1ae")][_0x1d97("0x1c3")](_[_0x1d97("0x1be")])[_0x1d97("0x1c1")]());return d},d[_0x1d97("0x1ad")]=function(x){var d=x[_0x1d97("0x1c4")],_=esmap[_0x1d97("0x33")][_0x1d97("0x34")],e=(0,t[_0x1d97("0x1c5")])(d.x,d.y,15),a=[e.x+"_"+e.y],i=(0,t.getTileBound)(e.x,e.y,_[_0x1d97("0x35")][_0x1d97("0x1c6")],!0),n={x:(i[_0x1d97("0xaa")]-i[_0x1d97("0xad")])/2+i[_0x1d97("0xad")],y:(i.maxy-i.miny)/2+i[_0x1d97("0xae")]},r=_[_0x1d97("0x1a6")]({from:_[_0x1d97("0x17b")],to:_0x1d97("0x1c7"),coord:{x:n.x,y:n.y}});n=r,d.x>n.x&&d.y>n.y?(a[_0x1d97("0x1")](e.x+"_"+(e.y+1)),a[_0x1d97("0x1")](e.x+1+"_"+(e.y+1)),a[_0x1d97("0x1")](e.x+1+"_"+e.y)):d.x>n.x&&d.y<n.y?(a[_0x1d97("0x1")](e.x+1+"_"+e.y),a[_0x1d97("0x1")](e.x+1+"_"+(e.y-1)),a[_0x1d97("0x1")](e.x+"_"+(e.y-1))):d.x<n.x&&d.y>n.y?(a[_0x1d97("0x1")](e.x-1+"_"+e.y),a[_0x1d97("0x1")](e.x-1+"_"+(e.y+1)),a.push(e.x+"_"+(e.y+1))):d.x<n.x&&d.y<n.y&&(a[_0x1d97("0x1")](e.x+"_"+(e.y-1)),a.push(e.x-1+"_"+(e.y-1)),a[_0x1d97("0x1")](e.x-1+"_"+e.y));return a},d.doDispose=function x(d){var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(d){if(d[_0x1d97("0xa2")]&&d.datas_[_0x1d97("0xa3")]&&(d.datas_[_0x1d97("0xa3")]=void 0,d.datas_=void 0),d[_0x1d97("0xa4")])for(var e=0;e<d[_0x1d97("0xa4")][_0x1d97("0x0")];e++)x(d.children[e],_);if(d.geometry&&(d[_0x1d97("0xa5")][_0x1d97("0xa6")](),d[_0x1d97("0xa5")]=null),d[_0x1d97("0xa7")])if(d[_0x1d97("0xa7")]instanceof Array)for(var t=0;t<d[_0x1d97("0xa7")][_0x1d97("0x0")];t++){var a=d[_0x1d97("0xa7")][t];a&&(_&&a[_0x1d97("0x38")]&&(a.map.dispose(),a[_0x1d97("0x38")]=null),a[_0x1d97("0xa6")](),a=null)}else _&&d.material[_0x1d97("0x38")]&&(d[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xa6")](),d[_0x1d97("0xa7")][_0x1d97("0x38")]=null),d[_0x1d97("0xa7")][_0x1d97("0xa6")](),d[_0x1d97("0xa7")]=null}d=null};var e=_(11),t=_(34)},,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d.MessagePoster=void 0;var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x)}return(0,t[_0x1d97("0x1c")])(x,null,[{key:_0x1d97("0x1c8"),value:function(x){esmap[_0x1d97("0x33")].instance[_0x1d97("0x16c")].meshHandler[_0x1d97("0x1c9")].msg({messageType:3,msg:x[_0x1d97("0x1ca")],level:x.level})}}]),x}();d.MessagePoster=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0}),d[_0x1d97("0xbc")]=function(x,d){return Math[_0x1d97("0xc3")]((x.x-d.x)*(x.x-d.x)+(x.y-d.y)*(x.y-d.y))},d[_0x1d97("0xbd")]=function(x,d,_,a){var i=d.x,n=d.y,r=_.x,s=_.y,o=x.x,c=x.y,l=r-i,u=s-n,f=Math[_0x1d97("0xc3")](l*l+u*u),h=o-i,b=c-n,g=Math.sqrt(h*h+b*b);if(t(f))return t(g)?(a.x=d.x,a.y=d.y,0):(a.x=d.x,a.y=d.y,g);var v=l/f,p=u/f,m=v*h+p*b;if(A=m,!(A>e))return a.x=d.x,a.y=d.y,g;var A;if(E=m-f,!(E<-1e-5)){var C=o-r,I=c-s,y=Math.sqrt(C*C+I*I);return a.x=_.x,a.y=_.y,y}var E;var w=i+m*v,T=n+m*p,k=o-w,S=c-T,M=Math.sqrt(k*k+S*S);return a.x=w,a.y=T,M},d[_0x1d97("0x1cb")]=function(x){var d=parseFloat(x);if(isNaN(d))return;return d=Math[_0x1d97("0x1cc")](1e5*x)/1e5};var e=1e-5;function t(x){return x<e&&x>-1e-5}},,,,,,,,,,,,,,,,,,,,,,,,,function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=c(_(28)),t=c(_(4)),a=c(_(0)),i=c(_(1)),n=c(_(5)),r=c(_(6)),s=_(11),o=_(132);function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}d[_0x1d97("0x1c")]=function(x){return function(x){function d(){return(0,a.default)(this,d),(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t[_0x1d97("0x1c")])(d)).apply(this,arguments))}return(0,r[_0x1d97("0x1c")])(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:"on",value:function(x,d,_){if(!x||!d)return this;if(!(0,s.isString)(x))return this[_0x1d97("0x1cd")]("on",x,d);this[_0x1d97("0x1ce")]||(this._eventMap={});var e=x.toLowerCase()[_0x1d97("0x28")](" "),t=void 0;_||(_=this);for(var a=void 0,i=0,n=e[_0x1d97("0x0")];i<n;i++){t=e[i],(a=this[_0x1d97("0x1ce")][t])||(a=[],this._eventMap[t]=a);var r=a[_0x1d97("0x0")];if(r>0)for(var o=0;o<r;o++)if(d===a[o][_0x1d97("0x1cf")]&&a[o].context===_)return this;a[_0x1d97("0x1")]({handler:d,context:_})}return this}},{key:_0x1d97("0x30"),value:function(){return this.on.apply(this,arguments)}},{key:_0x1d97("0x1d0"),value:function(x,d,_){if(!(0,s[_0x1d97("0x1d1")])(x)){var e={};for(var t in x)x[_0x1d97("0x2")](t)&&(e[t]=this._wrapOnceHandler(t,x[t],_));return this._switch("on",e)}for(var a=x[_0x1d97("0x28")](" "),i=0,n=a[_0x1d97("0x0")];i<n;i++)this.on(a[i],this[_0x1d97("0x1d2")](a[i],d,_));return this}},{key:_0x1d97("0x5e"),value:function(x,d,_){if(!x||!this[_0x1d97("0x1ce")]||!d)return this;if(!(0,s[_0x1d97("0x1d1")])(x))return this[_0x1d97("0x1cd")](_0x1d97("0x5e"),x,d);var e=x[_0x1d97("0x28")](" "),t=void 0,a=void 0,i=void 0;_||(_=this);for(var n=0,r=e[_0x1d97("0x0")];n<r;n++){if(t=e[n][_0x1d97("0x1d3")](),i=_0x1d97("0x1d4")+t,!(a=this[_0x1d97("0x1ce")][t]))return this;for(var o=a[_0x1d97("0x0")]-1;o>=0;o--){var c=a[o];d!==c[_0x1d97("0x1cf")]&&d!==c[_0x1d97("0x1cf")][i]||c.context!==_||(delete c[_0x1d97("0x1cf")][i],a[_0x1d97("0x189")](o,1))}}return this}},{key:_0x1d97("0x1d5"),value:function(){return this[_0x1d97("0x5e")][_0x1d97("0x5")](this,arguments)}},{key:"listens",value:function(x,d,_){if(!this._eventMap||!(0,s[_0x1d97("0x1d1")])(x))return 0;var e=this._eventMap[x[_0x1d97("0x1d3")]()];if(!e||!e[_0x1d97("0x0")])return 0;for(var t=0,a=0,i=e[_0x1d97("0x0")];a<i;a++)if(d){if(d===e[a][_0x1d97("0x1cf")]&&((0,s[_0x1d97("0x1d6")])(_)||e[a].context===_))return 1}else t++;return t}},{key:_0x1d97("0x1d7"),value:function(x){var d=x[_0x1d97("0x1ce")];if(!d)return this;var _=void 0;for(var e in d)for(var t=0,a=(_=d[e]).length;t<a;t++)this.on(e,_[t][_0x1d97("0x1cf")],_[t][_0x1d97("0x1d8")]);return this}},{key:_0x1d97("0x1d9"),value:function(){return this._eventParent?this._eventParent[_0x1d97("0x1d9")][_0x1d97("0x5")](this._eventParent,arguments):this[_0x1d97("0x1da")][_0x1d97("0x5")](this,arguments)}},{key:_0x1d97("0x1d2"),value:function(x,d,_){var e=this,t=_0x1d97("0x1d4")+x,a=!1,i=function n(){a||(delete i[t],a=!0,_?d[_0x1d97("0x5")](_,arguments):d[_0x1d97("0x5")](this,arguments),e[_0x1d97("0x5e")](x,n,this))};return i[t]=d,i}},{key:_0x1d97("0x1cd"),value:function(x,d,_){for(var e in d)d.hasOwnProperty(e)&&this[x](e,d[e],_);return this}},{key:_0x1d97("0x1db"),value:function(x){this[_0x1d97("0x1ce")]&&(0,s.isString)(x)&&(this[_0x1d97("0x1ce")][x.toLowerCase()]&&(this[_0x1d97("0x1ce")][x]=null))}},{key:_0x1d97("0x1dc"),value:function(){this[_0x1d97("0x1ce")]=null}},{key:"_setEventParent",value:function(x){return this[_0x1d97("0x1dd")]=x,this}},{key:_0x1d97("0x1da"),value:function(x,d){if(!this[_0x1d97("0x1ce")])return this;var _=this[_0x1d97("0x1ce")][x[_0x1d97("0x1d3")]()];if(!_)return this;d||(d={});var t=Array.prototype[_0x1d97("0xca")].call(arguments);t=t[_0x1d97("0xca")](1);for(var a=_[_0x1d97("0xca")](0),i=void 0,n=void 0,r=0,s=a[_0x1d97("0x0")];r<s;r++)if(a[r]){var c,l;if(n=!0,d,i=a[r].context)n=(c=a[r][_0x1d97("0x1cf")])[_0x1d97("0x3")].apply(c,[i][_0x1d97("0x1de")]((0,e.default)(t)));else n=(l=a[r]).handler.apply(l,(0,e[_0x1d97("0x1c")])(t));!1===n&&d[_0x1d97("0x1df")]&&(0,o[_0x1d97("0x1e0")])(d[_0x1d97("0x1df")])}return this}}]),d}(x)}},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getBuildingOptions=d[_0x1d97("0x1e1")]=void 0;var e=r(_(0)),t=r(_(1)),a=_(285),i=_(286),n=_(44);function r(x){return x&&x.__esModule?x:{default:x}}var s={dataUrlPrefix:"data/",themeUrlPrefix:null},o=function(){function x(d){(0,e.default)(this,x),this[_0x1d97("0x36")]=esmap[_0x1d97("0x3a")].Building,this[_0x1d97("0x41")]=s[_0x1d97("0x1e2")],this[_0x1d97("0x1e3")]=s.themeUrlPrefix,this[_0x1d97("0x1e4")]=[10,20],this.scalerWidth=60,this.scalerBgColor=_0x1d97("0x1e5"),this[_0x1d97("0x1e6")]="#fff",this.dynamicLoadModels=!1,this[_0x1d97("0x1e7")]=_0x1d97("0x1c7"),this.version=1,this.mapYoffset=5,this[_0x1d97("0x1e8")]=!0,this[_0x1d97("0x1e9")]=!0,this[_0x1d97("0x1ea")]=!0,this[_0x1d97("0x1eb")]=!0,this.container=document[_0x1d97("0x1ec")],this[_0x1d97("0xe7")]=null,this[_0x1d97("0x1ed")]=!0,this[_0x1d97("0x1ee")]=20,this[_0x1d97("0x1ef")]="3D",this.shadowEnabled=!1,this[_0x1d97("0x1f0")]=null,this[_0x1d97("0x1f1")]=null,this[_0x1d97("0x1f2")]=null,this[_0x1d97("0x1f3")]=esmap[_0x1d97("0x1f4")][_0x1d97("0x1f5")],this[_0x1d97("0x1f6")]=2048,this[_0x1d97("0x1f7")]=.6,this[_0x1d97("0x1f8")]=45,this.lightAngleY=45,this.defaultControlsPose=null,this.enablePanDistance=null,this[_0x1d97("0x1f9")]=.04,this[_0x1d97("0x1fa")]=.05,this[_0x1d97("0x1fb")]=null,this[_0x1d97("0x1fc")]=null,this[_0x1d97("0x1fd")]=!1,this[_0x1d97("0x1fe")]=!0,this.viewModeAnimateTime=.3,this[_0x1d97("0x1ff")]=!0,this.moveToAnimateTime=.3,this.compassOffset=[10,20],this[_0x1d97("0x200")]=64,this[_0x1d97("0x201")]=0,this.hoverMode=!1,this[_0x1d97("0x202")]=_0x1d97("0x203"),this.powerPreference="default",this[_0x1d97("0x204")]=0,this[_0x1d97("0x205")]=null,this[_0x1d97("0x206")]=null,this[_0x1d97("0x207")]=!0,this[_0x1d97("0x208")]=!0,this[_0x1d97("0x155")]=null,this[_0x1d97("0x66")]=null,this[_0x1d97("0x209")]=0,this[_0x1d97("0x20a")]=1,this[_0x1d97("0x20b")]=1,this[_0x1d97("0x20c")]=1,this[_0x1d97("0x20d")]=!0,this[_0x1d97("0x20e")]=!0,this.enableZBufferFixing=!0,this[_0x1d97("0x20f")]=!1,this[_0x1d97("0x210")]=!1,this[_0x1d97("0x5f")]=!0,this.effects=null,this[_0x1d97("0x211")]="./",this[_0x1d97("0x212")]=!0,this[_0x1d97("0x213")]=!1,this[_0x1d97("0x214")]=_0x1d97("0xf9"),this[_0x1d97("0x215")]=!0,this[_0x1d97("0x216")]=!1,this.lang=0,this.minZoomLevel=null,this[_0x1d97("0x217")]=null,this.modelImageAlphaTest=0,this[_0x1d97("0x218")]=!1;var _=esmap[_0x1d97("0x75")].getPlatform()[_0x1d97("0x219")];this.scalerWidth=_?this[_0x1d97("0x21a")]:"50",this.isRandom&&(THREE.isRandom=!0),d[_0x1d97("0x36")]||(d[_0x1d97("0x36")]=esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]),d.mode==esmap[_0x1d97("0x3a")].Building?this.initBuildingOptions(d):(this[_0x1d97("0x21c")](d),this[_0x1d97("0x21d")]>=5&&(this[_0x1d97("0x21d")]=5))}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x21e"),value:function(x){(0,n[_0x1d97("0xbf")])(this,i.DefaultBuildingOptions),(0,n[_0x1d97("0xbf")])(this,x)}},{key:_0x1d97("0x21c"),value:function(x){(0,n[_0x1d97("0xbf")])(this,a.DefaultCityOptions),(0,n.merge)(this,x)}}]),x}();d[_0x1d97("0x1e1")]=o,d[_0x1d97("0x220")]=function(x){var d=(0,n[_0x1d97("0xbf")])({},i[_0x1d97("0x21f")]);for(var _ in d)x[_0x1d97("0x2")](_)&&void 0!==x[_]&&(d[_]=x[_]);return d}},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e,t=v(_(12)),a=v(_(13)),i=v(_(9)),n=v(_(2)),r=v(_(4)),s=v(_(0)),o=v(_(1)),c=v(_(5)),l=v(_(6)),u=v(_(135)),f=_(70),h=_(11),b=_(44),g=v(_(136));function v(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var p=null,m=null,A=function(x){function d(x){(0,s[_0x1d97("0x1c")])(this,d);var _=new THREE.Group,e=(0,c[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,r[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap.ESNodeType[_0x1d97("0x221")],{},_));em[_0x1d97("0x222")].convert(e),e.map=e[_0x1d97("0x16c")].map;var t=e[_0x1d97("0x38")].mode==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?20:12;return(0,n[_0x1d97("0x1c")])(e,{diableClickEffect:!1,ID:Math[_0x1d97("0x2c")]()[_0x1d97("0x2d")](36)[_0x1d97("0xca")](-8),name:_0x1d97("0x223"),model:"",alias:_0x1d97("0x224"),bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,showLevel:t,configs:!1,clickAnimation:!0,status:0,callback:null},x),e.glowing=!1,e[_0x1d97("0x225")]=0,e[_0x1d97("0x226")]=new(THREE[_0x1d97("0x227")]),e[_0x1d97("0x228")]=[],e._lastDirectionV=0,e[_0x1d97("0x229")]=0,e._lodLevel=0,e[_0x1d97("0x22a")]=null,e[_0x1d97("0x22b")]=!1,e._lodManager=e.map.mapService.modelLod,e}var _;return(0,l[_0x1d97("0x1c")])(d,x),(0,o.default)(d,[{key:"addMarker",value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xdc")](x[_0x1d97("0xa3")]),x[_0x1d97("0xa3")][_0x1d97("0xb6")].x=0,x.o3d_[_0x1d97("0xb6")].z=0,x.o3d_.userData.computePosition=this[_0x1d97("0xa3")][_0x1d97("0xb6")][_0x1d97("0xdb")](),this.markers[_0x1d97("0x1")](x)}},{key:"init",value:function(){this[_0x1d97("0x16c")].map[_0x1d97("0x35")].editMode||(this[_0x1d97("0x16c")].map[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]?this[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0x155")]<this[_0x1d97("0x22c")]&&(this[_0x1d97("0x22d")][_0x1d97("0xf0")]=!1):this[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0x22e")]>this[_0x1d97("0x22c")]&&(this[_0x1d97("0x22d")][_0x1d97("0xf0")]=!1));this.o3d_.name=this[_0x1d97("0x22f")]?"":_0x1d97("0xb9"),this[_0x1d97("0xa3")].userData[_0x1d97("0x230")]={},this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x231")]=[],this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x232")]=null,this[_0x1d97("0xa3")].userData[_0x1d97("0x6a")]=_0x1d97("0x233"),this.o3d_[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],this[_0x1d97("0x22d")].renderOrder=esmap.ESRenderOrder.model3D,this[_0x1d97("0xa3")][_0x1d97("0xdc")](this[_0x1d97("0x22d")]),this.o3d_.scaleRate=this[_0x1d97("0x236")];var x=this[_0x1d97("0x237")];this[_0x1d97("0xa3")][_0x1d97("0x237")].set(x.x,x.y,x.z);var d=this[_0x1d97("0x238")]||new(THREE[_0x1d97("0xe0")])(0,0,0),_=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x23a")](new THREE.Euler(d.x,d.y,d.z,_0x1d97("0x23b")));this[_0x1d97("0xa3")][_0x1d97("0x23c")].set(_.x,_.y,_.z,_.w);var e=this[_0x1d97("0xb6")];this.o3d_[_0x1d97("0xb6")].x=e.x,this[_0x1d97("0xa3")][_0x1d97("0xb6")].y=e.y,this.o3d_[_0x1d97("0xb6")].z=e.z,this.initMapCoord=this[_0x1d97("0x38")][_0x1d97("0x23d")](this[_0x1d97("0xa3")][_0x1d97("0xb6")]),this[_0x1d97("0x23e")][_0x1d97("0xdc")](this.o3d_),this.floor&&(this[_0x1d97("0xe8")]=this[_0x1d97("0x2b")][_0x1d97("0x23f")]),this[_0x1d97("0x240")](),this[_0x1d97("0x1c2")]&&this.callback(this[_0x1d97("0x241")]?this[_0x1d97("0x241")]:this),this[_0x1d97("0x22b")]=!0}},{key:_0x1d97("0x242"),value:function(x){this[_0x1d97("0x16c")].map.mode==esmap[_0x1d97("0x3a")].City?x<this[_0x1d97("0x22c")]?this[_0x1d97("0x22d")][_0x1d97("0xf0")]&&(this[_0x1d97("0x22d")][_0x1d97("0xf0")]=!1):this[_0x1d97("0x22d")][_0x1d97("0xf0")]||(this[_0x1d97("0x22d")].visible=!0):(x=this.mapScene[_0x1d97("0x38")][_0x1d97("0x22e")])>=this[_0x1d97("0x22c")]?this[_0x1d97("0x22d")][_0x1d97("0xf0")]&&(this[_0x1d97("0x22d")].visible=!1):this[_0x1d97("0x22d")][_0x1d97("0xf0")]||(this[_0x1d97("0x22d")][_0x1d97("0xf0")]=!0)}},{key:_0x1d97("0x243"),value:function(x){var d=this[_0x1d97("0x38")],_="ANCHOR_"+x,e=this[_0x1d97("0x22d")][_0x1d97("0x244")](_);if(e){console[_0x1d97("0x246")]("ACHOR: "+x,e);var t=e.getWorldPosition(new THREE.Vector3);return d.coordThreeToMap(t)}console[_0x1d97("0x245")]("can not find anchor "+_)}},{key:_0x1d97("0x240"),value:function(){var x=this,d=x.mapScene[_0x1d97("0x38")],_=x[_0x1d97("0x12e")].bind(x);d.on(_0x1d97("0x11d"),_);var e=x[_0x1d97("0x242")].bind(this);d.options[_0x1d97("0x20f")]||d.on("zoomed",e),this[_0x1d97("0xa3")][_0x1d97("0x30")](_0x1d97("0x247"),(function(){for(;x[_0x1d97("0x228")][_0x1d97("0x0")]>0;){var t=x[_0x1d97("0x228")].shift();t._bindupates&&(d[_0x1d97("0x5e")]("update",t[_0x1d97("0x248")]),t.dispose())}d[_0x1d97("0x5e")](_0x1d97("0x11d"),_),d[_0x1d97("0x35")][_0x1d97("0x20f")]||d[_0x1d97("0x5e")]("zoomed",e),x.stopMoving(),x.emit(_0x1d97("0x247"))}))}},{key:"onUpdate",value:function(){var x=this,d=x[_0x1d97("0x16c")][_0x1d97("0x38")];if(x[_0x1d97("0xa3")]){var _=x[_0x1d97("0xa3")][_0x1d97("0x11e")].toRot,e=x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x249")];if(_&&(x[_0x1d97("0xa3")][_0x1d97("0x23c")][_0x1d97("0x24a")](_,.08),e)){var t=new THREE.Vector3(1,0,0),a=t[_0x1d97("0xdb")](),i=x[_0x1d97("0xa3")][_0x1d97("0x24b")][_0x1d97("0xdb")]();i[_0x1d97("0x24c")](new(THREE[_0x1d97("0xe0")])),a.applyMatrix4(i);var n=(n=a[_0x1d97("0xdb")]().cross(t)).y<0?-1:1,r=t[_0x1d97("0x24d")](a),s=THREE[_0x1d97("0x24e")][_0x1d97("0x24f")](r*n);d.mapPicker[_0x1d97("0x250")]?x[_0x1d97("0x251")]=!0:x[_0x1d97("0x251")]?(s<0&&(s=360+s),d.rotateAngle>s?d[_0x1d97("0x252")]-=1:d[_0x1d97("0x252")]+=1,Math[_0x1d97("0x253")](d[_0x1d97("0x252")]-s)<=3&&(x[_0x1d97("0x251")]=!1)):d[_0x1d97("0x252")]=s}x.updateScreenSize()}}},{key:_0x1d97("0x254"),value:function(x){var d=x,_=this,e=(0,h.getValues)(d,_0x1d97("0x255"),"duration",1),t=esmap.ESMap[_0x1d97("0x34")][_0x1d97("0x16c")];_[_0x1d97("0x1b0")]=!0,_[_0x1d97("0x256")]&&_[_0x1d97("0x256")].stop();var a=this,i=t[_0x1d97("0x38")],n=a[_0x1d97("0xa3")][_0x1d97("0xb6")].clone(),r=d[_0x1d97("0x2")](_0x1d97("0x257"))?d[_0x1d97("0x257")]:0,s=d.hasOwnProperty("z")?d.z:a[_0x1d97("0xa3")][_0x1d97("0xb6")].y,o=d[_0x1d97("0x2")](_0x1d97("0x258"))?d[_0x1d97("0x258")]:null,c=i[_0x1d97("0x259")](n,!0);d[_0x1d97("0x2")]("x")||(d.x=c.x),d.hasOwnProperty("y")||(d.y=c.y);var l=i.coordMapToThree({x:d.x,y:d.y,z:s},!0),u=esmap[_0x1d97("0x75")][_0x1d97("0x25a")]({x:n.x,y:n.z},{x:l.x,y:l.z}),f=!1;if((d[_0x1d97("0x2")]("orientToPath")&&(f=d[_0x1d97("0x25b")]),f&&null!=o&&null!=this.o3d_[_0x1d97("0x11e")][_0x1d97("0x25c")])&&l[_0x1d97("0x25d")](n)<=o[_0x1d97("0x25e")]){var b=Math.abs(u-this.o3d_[_0x1d97("0x11e")][_0x1d97("0x25c")]);b>360&&(b-=360),b>=o[_0x1d97("0x25f")][0]&&b<=o[_0x1d97("0x25f")][1]||b>=o[_0x1d97("0x260")][0]&&b<=o[_0x1d97("0x260")][1]&&(r=180)}if(null==this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x25c")]||f){var g=u+r;this.o3d_[_0x1d97("0x11e")][_0x1d97("0x25c")]=g>360?g-360:g}if(f){var v=new(THREE[_0x1d97("0x261")]);if(n.x!=l.x||n.z!=l.z){v.lookAt(l,n,this[_0x1d97("0xa3")].up),v[_0x1d97("0x262")]((new THREE.Matrix4)[_0x1d97("0x263")](new(THREE[_0x1d97("0x264")])(0,THREE[_0x1d97("0x24e")][_0x1d97("0x265")](r),0)));var p=(new(THREE[_0x1d97("0x239")])).setFromRotationMatrix(v);a[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x266")]&&a[_0x1d97("0xa3")].userData.lastRotateAction.stop();var m=(new THREE.Quaternion)[_0x1d97("0x267")](a[_0x1d97("0xa3")].quaternion),A=new THREE.Quaternion,C={value:0};a.o3d_[_0x1d97("0x11e")][_0x1d97("0x266")]=new(esmap[_0x1d97("0x1b7")].Tween)(C).to({value:1},500).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x12e")]((function(x,d){THREE.Quaternion[_0x1d97("0x24a")](m,p,A,C[_0x1d97("0xf1")]),a.o3d_[_0x1d97("0x23c")][_0x1d97("0x11b")](A.x,A.y,A.z,A.w)}))[_0x1d97("0x1bd")]((function(){})).start()}}_[_0x1d97("0x256")]=new esmap.TWEEN.Tween(this[_0x1d97("0xa3")][_0x1d97("0xb6")]).to(l,1e3*e)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x12e")]((function(x,_){if(d[_0x1d97("0x26a")]){var e=i[_0x1d97("0x23d")](x);d[_0x1d97("0x26a")]({position:{x:e.x,y:e.y},progress:_,angle:u})}})).onComplete((function(){a[_0x1d97("0x1b0")]=!1,d[_0x1d97("0x1c2")]&&d[_0x1d97("0x1c2")](a)}))[_0x1d97("0x1c1")]()}},{key:_0x1d97("0xdc"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xdc")](x)}},{key:_0x1d97("0x26b"),value:function(x){this.o3d_[_0x1d97("0x11e")][_0x1d97("0x26c")]||(0,f[_0x1d97("0x26d")])(this,x)}},{key:_0x1d97("0x26e"),value:function(){(0,f[_0x1d97("0x1ac")])(this)}},{key:_0x1d97("0x26f"),value:function(){}},{key:_0x1d97("0x270"),value:function(){}},{key:_0x1d97("0x271"),value:function(){}},{key:_0x1d97("0x272"),value:function(){var x=this[_0x1d97("0xa3")];x[_0x1d97("0x11e")][_0x1d97("0x273")]&&(x.scale.copy(x.userData[_0x1d97("0x273")]),x[_0x1d97("0x11e")].originalScale=null)}},{key:_0x1d97("0x274"),value:function(){this[_0x1d97("0xf0")]=!0}},{key:"hide",value:function(){this[_0x1d97("0xf0")]=!1}},{key:_0x1d97("0x275"),value:function(x){var d=this[_0x1d97("0xa3")];d[_0x1d97("0x11e")].originalScale||(d[_0x1d97("0x11e")].originalScale=d.scale[_0x1d97("0xdb")]()),d[_0x1d97("0x237")][_0x1d97("0x276")](x)}},{key:_0x1d97("0x277"),value:function(x){var d=this.o3d_;isNaN(x)||(x={angle:x});var _=(0,n[_0x1d97("0x1c")])({time:1e3,angle:0,onComplete:null},x),e={x:0,y:0,z:0};_[_0x1d97("0x257")]instanceof Object?(0,n[_0x1d97("0x1c")])(e,_.angle):e.z=1*_[_0x1d97("0x257")];var t=(new(THREE[_0x1d97("0x239")])).setFromEuler(new(THREE[_0x1d97("0x264")])(THREE.Math[_0x1d97("0x265")](e.x),THREE.Math[_0x1d97("0x265")](e.z),THREE[_0x1d97("0x24e")][_0x1d97("0x265")](e.y),"ZXY")),a={value:0},i=(new THREE.Quaternion)[_0x1d97("0x267")](d[_0x1d97("0x23c")]),r=new(THREE[_0x1d97("0x239")]);d[_0x1d97("0x11e")][_0x1d97("0x278")]&&d[_0x1d97("0x11e")][_0x1d97("0x278")][_0x1d97("0x1af")]();var s=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(a).to({value:1},_[_0x1d97("0x255")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Circular[_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x){THREE[_0x1d97("0x239")][_0x1d97("0x24a")](i,t,r,a.value),d.quaternion[_0x1d97("0x11b")](r.x,r.y,r.z,r.w)})).onComplete(_[_0x1d97("0x1bd")]).start();d[_0x1d97("0x11e")][_0x1d97("0x278")]=s}},{key:_0x1d97("0x279"),value:function(){this[_0x1d97("0x27a")]=!1,map[_0x1d97("0x27b")][_0x1d97("0x27c")]=!0,this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x249")]=!1}},{key:_0x1d97("0x27d"),value:function(x){var d=this;x=x||{};var _=esmap.ESMap[_0x1d97("0x34")];_.controls[_0x1d97("0x27e")].copy(d[_0x1d97("0xa3")][_0x1d97("0x27f")](new(THREE[_0x1d97("0xe0")]))),_[_0x1d97("0x280")][_0x1d97("0x281")](_[_0x1d97("0x282")][1]);var t=null!=x[_0x1d97("0x283")],a=!1,i=!1,n=!1,r=!1;d[_0x1d97("0x27a")]=!0,d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x249")]=t;_.gestureController[_0x1d97("0x27c")]=!1;var s=d[_0x1d97("0xa3")].position.y;d[_0x1d97("0x285")]||(document[_0x1d97("0x30")](_0x1d97("0x286"),(function(x){switch(x[_0x1d97("0x284")]){case 38:case 87:a=!0;break;case 37:case 65:i=!0;break;case 40:case 83:r=!0;break;case 39:case 68:n=!0}}),!1),document[_0x1d97("0x30")](_0x1d97("0x287"),(function(x){switch(x[_0x1d97("0x284")]){case 38:case 87:a=!1;break;case 37:case 65:i=!1;break;case 40:case 83:r=!1;break;case 39:case 68:n=!1}}),!1),d[_0x1d97("0x285")]=!0,_.on(_0x1d97("0x11d"),(function(){if(d.viewLocked)if(a||i||n||r){var x=_[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")]();x.y=s,_.gestureController[_0x1d97("0x27c")]=!0;var t=0;i?t=90:n?t=-90:r&&(t=180),!d[_0x1d97("0x288")]&&d[_0x1d97("0x289")]({name:_0x1d97("0x28a")});var o=_[_0x1d97("0x28b")][_0x1d97("0xb6")][_0x1d97("0xdb")]();o.y=s,e||(e=setTimeout((function(){d.mapScene[_0x1d97("0x38")][_0x1d97("0x28c")]=!0,d.modelLoadManager[_0x1d97("0x28d")]=!1,d[_0x1d97("0x14f")].viewRangeUpdated=!1,window[_0x1d97("0x28e")](e),e=null}),800)),d[_0x1d97("0xa3")][_0x1d97("0xb6")].copy(x);var c=new(THREE[_0x1d97("0x261")]);c[_0x1d97("0x28f")](x,o,d[_0x1d97("0xa3")].up),c[_0x1d97("0x262")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x263")](new(THREE[_0x1d97("0x264")])(0,THREE[_0x1d97("0x24e")].degToRad(t),0))),d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x290")]=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x291")](c)}else _.gestureController[_0x1d97("0x27c")]&&(_[_0x1d97("0x27b")][_0x1d97("0x27c")]=!1)})))}},{key:_0x1d97("0x292"),value:function(x){x=x||1,this[_0x1d97("0xa3")].traverse((function(x){x.material&&x[_0x1d97("0xa7")].userData[_0x1d97("0x2")](_0x1d97("0x293"))&&(x.material[_0x1d97("0xff")]=x[_0x1d97("0xa7")].userData.istransparent,x.material.opacity=x.material[_0x1d97("0x11e")][_0x1d97("0xe2")],delete x.material[_0x1d97("0x11e")][_0x1d97("0x293")],delete x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xe2")])}))}},{key:_0x1d97("0x294"),value:function(x){var d,_,e;typeof x==_0x1d97("0x13d")?(d=x,_=1,e=!1):(d=x[_0x1d97("0xe1")],_=null==x.time?1:x.time,e=null!=x[_0x1d97("0x295")]&&x[_0x1d97("0x295")]),this[_0x1d97("0xa3")][_0x1d97("0xb4")]((function(x){x[_0x1d97("0xa7")]&&!x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0x296")]&&(e&&(x[_0x1d97("0xa7")]=x.material.clone()),x[_0x1d97("0xa7")].userData.hasOwnProperty(_0x1d97("0x293"))||(x[_0x1d97("0xa7")][_0x1d97("0x11e")].istransparent=x[_0x1d97("0xa7")].transparent,x[_0x1d97("0xa7")][_0x1d97("0x11e")].opacity=x[_0x1d97("0xa7")].opacity),x[_0x1d97("0xa7")][_0x1d97("0xff")]=!0,x.material.userData[_0x1d97("0x296")]=!0,new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(x[_0x1d97("0xa7")]).to({opacity:d},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Linear[_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0x296")]=!1}))[_0x1d97("0x1c1")]())}))}},{key:_0x1d97("0x297"),value:function(){this[_0x1d97("0x298")]&&(this[_0x1d97("0x298")][_0x1d97("0xf0")]=!1,this[_0x1d97("0x298")][_0x1d97("0x237")][_0x1d97("0x11b")](.01,.01,1),esmap[_0x1d97("0x177")][_0x1d97("0xf")].stopFlash[_0x1d97("0x3")](this[_0x1d97("0x298")]),this[_0x1d97("0x298")]._isAnimating=!1,this[_0x1d97("0x299")]=!1)}},{key:_0x1d97("0x29a"),value:function(x){var d=this,_=x||{};if(_[_0x1d97("0x100")]=null==_[_0x1d97("0x100")]?_0x1d97("0x29b"):_[_0x1d97("0x100")],_.height=null==_.height?0:_[_0x1d97("0x1b5")],_[_0x1d97("0x29c")]=null==_[_0x1d97("0x29c")]||_[_0x1d97("0x29c")],_.seeThrough=null==_[_0x1d97("0x128")]||_[_0x1d97("0x128")],!this[_0x1d97("0x298")]){var e=(new(THREE[_0x1d97("0x29d")])).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII="),t=new THREE.SpriteMaterial({map:e,depthWrite:!0,transparent:!0,blending:THREE[_0x1d97("0x12a")],sizeAttenuation:!_.fixedSize});_[_0x1d97("0x128")]&&(t.depthTest=!1),t[_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](_[_0x1d97("0x100")]||_0x1d97("0xcb"));var a=new(THREE[_0x1d97("0x29f")])(t);a[_0x1d97("0x237")][_0x1d97("0x11b")](.001,.001,1),a[_0x1d97("0xb8")]=_0x1d97("0x2a0"),a.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],a[_0x1d97("0x11e")][_0x1d97("0x2a1")]=!0,a[_0x1d97("0x11e")].times=1e3,d[_0x1d97("0xa3")].add(a),d.glowSprite=a}this[_0x1d97("0x297")](),d[_0x1d97("0x298")][_0x1d97("0x237")][_0x1d97("0x11b")](x[_0x1d97("0x237")],x[_0x1d97("0x237")],1),this[_0x1d97("0x298")].visible=!0,_.scale=null==_[_0x1d97("0x237")]?2:_[_0x1d97("0x237")],_[_0x1d97("0x1b2")]=null==_[_0x1d97("0x1b2")]?0:_.times,d[_0x1d97("0x298")].position.y=_[_0x1d97("0x1b5")],esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x2a2")][_0x1d97("0x3")](d[_0x1d97("0x298")],_),d[_0x1d97("0x299")]=!0}},{key:"faceTo",value:function(x,d,_){var e=new(THREE[_0x1d97("0xe0")])(this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")][0]-x,this.o3d_.position.y,d-this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")][1]),t=new THREE.Matrix4,a=this;t[_0x1d97("0x28f")](this[_0x1d97("0xa3")].position[_0x1d97("0xdb")](),e,this[_0x1d97("0xa3")].up),t[_0x1d97("0x262")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x263")](new(THREE[_0x1d97("0x264")])(0,THREE.Math[_0x1d97("0x265")](_||0),0))),this.o3d_.userData[_0x1d97("0x290")]=(new(THREE[_0x1d97("0x239")])).setFromRotationMatrix(t),this[_0x1d97("0xa3")][_0x1d97("0xb6")].x=e.x,this.o3d_[_0x1d97("0xb6")].z=e.z,this[_0x1d97("0xa3")][_0x1d97("0x11e")].binded||(this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2a3")]=!0,this[_0x1d97("0x38")].on(_0x1d97("0x11d"),(function(){var x=a[_0x1d97("0xa3")][_0x1d97("0x11e")].toRot;x&&a[_0x1d97("0xa3")][_0x1d97("0x23c")][_0x1d97("0x24a")](x,.1)})))}},{key:"stopAnimation",value:function(x){if(x&&x[_0x1d97("0x1b6")])for(var d in this[_0x1d97("0xa3")].userData[_0x1d97("0x230")])this[_0x1d97("0xa3")].userData[_0x1d97("0x230")][d][_0x1d97("0x2a4")](x[_0x1d97("0x1b6")]);else for(var _ in this.o3d_[_0x1d97("0x11e")][_0x1d97("0x230")])this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x230")][_][_0x1d97("0x1af")]();this.animating=!1}},{key:_0x1d97("0x2a5"),value:function(){this.dispose()}},{key:_0x1d97("0x289"),value:function(x){var d,_=this,e={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new(i[_0x1d97("0x1c")])((d=(0,a.default)(t.default[_0x1d97("0x2a6")]((function d(a){var r,s,o,c,l,u,f,h,b,g,v,p,m,A;return t[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(d){for(;;)switch(d.prev=d[_0x1d97("0x2a8")]){case 0:if(typeof x===_0x1d97("0xe")?e.name=x:(0,n[_0x1d97("0x1c")])(e,x),r=_.url,s=_,o=r[_0x1d97("0x2a9")]("/"),r[_0x1d97("0x198")](o),c=_[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x230")],l=_[_0x1d97("0xa3")].children[0],u=_.mapScene[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x2ab")][s[_0x1d97("0x223")]]){d.next=11;break}return console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")].MODEL3D_LOADING),d[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 11:return f=_[_0x1d97("0x16c")][_0x1d97("0x38")],h=s[_0x1d97("0xa3")].userData.mixer,e[_0x1d97("0x2b0")]&&(e[_0x1d97("0x112")]=1/0),h||(h=new(THREE[_0x1d97("0x2b1")])(l),u[_0x1d97("0x2b2")][_0x1d97("0x1d")]((function(x){var d=h[_0x1d97("0x2b3")](x);d[_0x1d97("0x2b4")]=!0,d[_0x1d97("0x2b5")]=e.repeat,c[x[_0x1d97("0xb8")][_0x1d97("0x2b6")]()]=d})),_[_0x1d97("0xa3")][_0x1d97("0x11e")].mixer=h),d.next=17,new(i[_0x1d97("0x1c")])((function(x){setTimeout(x,1e3*e.delay)}));case 17:if(b=c[e[_0x1d97("0xb8")]]){d[_0x1d97("0x2a8")]=22;break}return console[_0x1d97("0x2ac")](e[_0x1d97("0xb8")]+" :  "+esmap[_0x1d97("0x2ad")][_0x1d97("0x2b7")]),console[_0x1d97("0x2ac")](_.animations),d[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 22:if(g=_[_0x1d97("0xa3")].userData[_0x1d97("0x2b8")],e.loop?b.loop=THREE[_0x1d97("0x2b9")]:1===e.repeat?b[_0x1d97("0x2b0")]=THREE[_0x1d97("0x2ba")]:b[_0x1d97("0x2b0")]=THREE.LoopRepeat,b[_0x1d97("0x2b5")]=e[_0x1d97("0x112")],b[_0x1d97("0x2b4")]=e.clampWhenFinished,e[_0x1d97("0x2bb")])for(v in c)c[v][_0x1d97("0x2a4")](e.time);else e.stopLastAction&&g&&g[_0x1d97("0x2a4")](e.time);b[_0x1d97("0x2bc")]()[_0x1d97("0x2bd")](1)[_0x1d97("0x2be")](1).setDuration(e[_0x1d97("0x255")])[_0x1d97("0x2bf")](),h[_0x1d97("0x2c0")]||(h.watching=!0,p=new(THREE[_0x1d97("0x227")]),m=function(){h[_0x1d97("0x11d")](p[_0x1d97("0x2c1")]())},f.on(_0x1d97("0x11d"),m),h.bindedUpdate=m),s[_0x1d97("0x288")]=!0,s[_0x1d97("0xa3")][_0x1d97("0x11e")].previousAction=b,e[_0x1d97("0x2b0")]?a():(A=function x(d){e[_0x1d97("0x1c2")]&&e[_0x1d97("0x1c2")](s),s.animating=!1,h[_0x1d97("0x1d5")](_0x1d97("0x2c2"),x),h[_0x1d97("0x2c3")]=null,a()},h[_0x1d97("0x30")](_0x1d97("0x2c2"),A),h.bindedFinished=A,0==e.time&&e[_0x1d97("0x1c2")]&&e[_0x1d97("0x1c2")](s));case 32:case _0x1d97("0x2c4"):return d[_0x1d97("0x1af")]()}}),d,_)}))),function(x){return d[_0x1d97("0x5")](this,arguments)}))}},{key:_0x1d97("0x2c5"),value:function(x){var d={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof x===_0x1d97("0xe")?d.name=x:(0,n[_0x1d97("0x1c")])(d,x);var _=this[_0x1d97("0x48")],e=this,t=_.lastIndexOf("/"),a=(_[_0x1d97("0x198")](t),this[_0x1d97("0xa3")].userData.actions),i=this[_0x1d97("0xa3")][_0x1d97("0xa4")][0],r=this.modelLoadManager[_0x1d97("0x2ab")][e[_0x1d97("0x223")]];if(r){var s=this[_0x1d97("0x16c")][_0x1d97("0x38")],o=this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x232")];d[_0x1d97("0x2b0")]&&(d[_0x1d97("0x112")]=1/0),o||(o=new THREE.AnimationMixer(i),r.animations[_0x1d97("0x1d")]((function(x){var _=o.clipAction(x);_[_0x1d97("0x2b4")]=!0,_[_0x1d97("0x2b5")]=d[_0x1d97("0x112")],a[x[_0x1d97("0xb8")][_0x1d97("0x2b6")]()]=_})),this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x232")]=o);var c=a[d.name];if(c){var l=this.o3d_.userData[_0x1d97("0x2b8")];if(l||(this.o3d_[_0x1d97("0x11e")][_0x1d97("0x2b8")]=c,l=c),d[_0x1d97("0x2b0")]?(c[_0x1d97("0x2b0")]=THREE[_0x1d97("0x2b9")],d.loopReverse&&(c[_0x1d97("0x2b0")]=THREE.LoopPingPong)):c[_0x1d97("0x2b0")]=THREE[_0x1d97("0x2ba")],c[_0x1d97("0x2b5")]=d[_0x1d97("0x112")],c[_0x1d97("0x2b4")]=d[_0x1d97("0x2b4")],d.stopLastAction)l!=c?(c[_0x1d97("0x2bc")]()[_0x1d97("0x2c7")](d[_0x1d97("0x255")])[_0x1d97("0x2bf")](),l[_0x1d97("0x2c8")](c,0)):c[_0x1d97("0x2bc")]().setEffectiveTimeScale(1).setEffectiveWeight(1)[_0x1d97("0x2c7")](d[_0x1d97("0x255")])[_0x1d97("0x2bf")]();else{var u=d.name[_0x1d97("0xce")](/^[A-Za-z0-9]+\-/);if(u){var f=u[0];for(var h in a)h[_0x1d97("0xce")](/^[A-Za-z0-9]+\-/)[0]==f&&a[h].stop()[_0x1d97("0x2bc")]()}c[_0x1d97("0x2bf")]()}if(!o[_0x1d97("0x2c0")]){o[_0x1d97("0x2c0")]=!0;var b=new(THREE[_0x1d97("0x227")]);s.on(_0x1d97("0x11d"),(function(){o[_0x1d97("0x11d")](b.getDelta())}))}e[_0x1d97("0x288")]=!0,e.o3d_[_0x1d97("0x11e")].previousAction=c;o[_0x1d97("0x30")](_0x1d97("0x2c2"),(function x(_){d[_0x1d97("0x1c2")]&&d[_0x1d97("0x1c2")](),e[_0x1d97("0x288")]=!1,o[_0x1d97("0x1d5")](_0x1d97("0x2c2"),x)}))}else console[_0x1d97("0x2ac")](esmap.ESInfo.MODEL3D_ACTION_ERR)}else console[_0x1d97("0x2ac")](esmap.ESInfo[_0x1d97("0x2c6")])}},{key:_0x1d97("0x2c9"),value:function(){this.changeColor(!1)}},{key:_0x1d97("0x2ca"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xb4")]((function(d){if(d[_0x1d97("0xa7")])if(d.material instanceof Array)d[_0x1d97("0xa7")][_0x1d97("0x1d")]((function(d){var _=d.clone();x?(_[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x2cb"))||(_[_0x1d97("0x11e")][_0x1d97("0x2cb")]=_[_0x1d97("0x2cc")][_0x1d97("0x2cd")]()),_.emissive=new(THREE[_0x1d97("0x101")])(esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](esmap.ESMapUtil[_0x1d97("0x2cf")](x))),_.emissiveIntensity=1):_[_0x1d97("0x11e")].hasOwnProperty("oriEmissive")&&(_[_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(_.userData[_0x1d97("0x2cb")])),d=_}));else{var _=d[_0x1d97("0xa7")][_0x1d97("0xdb")]();x?(_[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x2cb"))||(_[_0x1d97("0x11e")].oriEmissive=_[_0x1d97("0x2cc")][_0x1d97("0x2cd")]()),_[_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](esmap[_0x1d97("0x75")].hexToRgb(x))),_[_0x1d97("0x2d0")]=1,_[_0x1d97("0x11e")].changedColors=!0):(_[_0x1d97("0x11e")][_0x1d97("0x2")]("oriEmissive")&&(_[_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(_.userData[_0x1d97("0x2cb")])),_[_0x1d97("0x11e")].changedColors=!1,_[_0x1d97("0x13b")]=!0),d[_0x1d97("0xa7")]=_}}))}},{key:_0x1d97("0x2d1"),value:function(){var x=this.o3d_[_0x1d97("0x11e")][_0x1d97("0x2d2")];x&&x.resume()}},{key:_0x1d97("0x2d3"),value:function(){var x=this[_0x1d97("0xa3")][_0x1d97("0x11e")].movePathingTween;x&&x.pause()}},{key:_0x1d97("0x2d4"),value:function(){var x=!(arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0])||arguments[0],d=this;if(x&&(d[_0x1d97("0x225")]=0),d.o3d_){var _=d[_0x1d97("0x16c")][_0x1d97("0x38")];this[_0x1d97("0x2d5")]&&this.movePathController.followPosition&&(p&&(_.controls[_0x1d97("0x2d6")]=p,p=null),m&&(_[_0x1d97("0x280")].minDistance=m,m=null),_[_0x1d97("0x27b")][_0x1d97("0x27c")]||(_[_0x1d97("0x27b")][_0x1d97("0x27c")]=!0),d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x249")]=!1),d[_0x1d97("0xa3")].userData.toRot=null,this[_0x1d97("0xa3")].userData[_0x1d97("0x26c")]=!1,d[_0x1d97("0xa3")][_0x1d97("0x11e")].lastRotateAction&&(d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x266")][_0x1d97("0x1af")](),d[_0x1d97("0xa3")][_0x1d97("0x11e")].lastRotateAction=null),d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x231")]&&d.o3d_[_0x1d97("0x11e")].tweens[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x1af")]()})),d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2d2")]&&(d.o3d_[_0x1d97("0x11e")][_0x1d97("0x2d2")][_0x1d97("0x1af")](),d.o3d_[_0x1d97("0x11e")][_0x1d97("0x2d2")]=null),d.o3d_.userData.tweens=[],_[_0x1d97("0x2aa")].tileService[_0x1d97("0x2d7")]()}}},{key:_0x1d97("0x2d8"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{time:1},d=this[_0x1d97("0xa3")],_=null==x[_0x1d97("0x255")]?1:x[_0x1d97("0x255")];d[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")]){var d=x[_0x1d97("0xa7")];if(d instanceof Array&&(d=x[_0x1d97("0xa7")][0]),d[_0x1d97("0x11e")][_0x1d97("0x2d9")]){d[_0x1d97("0x11e")][_0x1d97("0x2d9")]=!1;var e=d.userData[_0x1d97("0xe2")];new(esmap[_0x1d97("0x1b7")].Tween)(d).to({opacity:e},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]).onComplete((function(){d[_0x1d97("0xff")]=d.userData[_0x1d97("0x293")]}))[_0x1d97("0x1c1")]()}}}))}},{key:_0x1d97("0x2a4"),value:function(){var x=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},d=this[_0x1d97("0xa3")],_=x[_0x1d97("0x255")];d.traverse((function(x){if(x[_0x1d97("0xa7")]){var d=x.material;d instanceof Array&&(d=x[_0x1d97("0xa7")][0]),d[_0x1d97("0x11e")][_0x1d97("0x2d9")]||(d[_0x1d97("0x11e")][_0x1d97("0x2d9")]=!0,!d[_0x1d97("0x11e")][_0x1d97("0x2")]("opacity")&&(d[_0x1d97("0x11e")][_0x1d97("0xe2")]=d[_0x1d97("0xe2")]),!d[_0x1d97("0x11e")][_0x1d97("0x2")]("istransparent")&&(d.userData[_0x1d97("0x293")]=d.transparent),d[_0x1d97("0xff")]=!0,new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d).to({opacity:0},1e3*_)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){})).start())}}))}},{key:_0x1d97("0x2da"),value:function(x){var d=this,_=d[_0x1d97("0x16c")][_0x1d97("0x38")],e=new(THREE[_0x1d97("0xe0")])(0,1,0),t=e[_0x1d97("0xdb")](),a=d.o3d_[_0x1d97("0x24b")][_0x1d97("0xdb")]();a[_0x1d97("0x24c")](new(THREE[_0x1d97("0xe0")])),t[_0x1d97("0x2db")](a);t[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](e).y,e[_0x1d97("0x24d")](t);d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2dd")]||(d[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2dd")]=!0);Math.PI;_[_0x1d97("0x146")][_0x1d97("0x250")]?(d[_0x1d97("0x2de")]=!0,this[_0x1d97("0xa3")].userData[_0x1d97("0x2df")][_0x1d97("0x1c1")]()):d[_0x1d97("0x2de")]&&this.o3d_[_0x1d97("0x11e")].clock.getElapsedTime()>3&&(this[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2df")][_0x1d97("0x1af")](),d[_0x1d97("0x2de")]=!1)}},{key:_0x1d97("0x2e0"),value:function(x){var d=this.mapScene[_0x1d97("0x38")];d.mapPicker.isStaping||d[_0x1d97("0x277")](x)}},{key:"getRouteAngle",value:function(x,d){var _=new(THREE[_0x1d97("0xe0")])(0,0,1),e=new THREE.Vector3(x.x,0,x.y),t=new(THREE[_0x1d97("0xe0")])(d.x,0,d.y)[_0x1d97("0xdb")]().sub(e)[_0x1d97("0x2e1")](),a=t[_0x1d97("0x24d")](_)*THREE.Math.RAD2DEG;return isNaN(a)&&(a=0),t[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](_).y>0?360-a:a}},{key:_0x1d97("0x2e2"),value:function(x,d){var _,r,s=this,o=(_=(0,a[_0x1d97("0x1c")])(t[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){var d;return t[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:d=r.startPathIndex;case 1:if(!(d<C[_0x1d97("0x0")])){x.next=9;break}return new(THREE[_0x1d97("0xe0")])(-C[d].from.x,C[d][_0x1d97("0x2e4")][_0x1d97("0x113")]||0,C[d][_0x1d97("0x2e4")].y).y+=3,x.next=6,l(C[d],d,d==C[_0x1d97("0x0")]-1);case 6:d++,x.next=1;break;case 9:case"end":return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return _[_0x1d97("0x5")](this,arguments)}),c=this,l=function(x,d,_){return new(i[_0x1d97("0x1c")])((function(t){var a=r[_0x1d97("0x26")];if(d==r[_0x1d97("0x2e5")]){var i=u._coordMapSceneToThree(x[_0x1d97("0x2e4")],!0);c[_0x1d97("0xa3")][_0x1d97("0xb6")].x=i.x,c[_0x1d97("0xa3")][_0x1d97("0xb6")].z=i.z,c.o3d_[_0x1d97("0xb6")].y=(x[_0x1d97("0x2e4")][_0x1d97("0x2e6")]||0)+a,r.followPosition&&(u[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].City&&u[_0x1d97("0x18c")].disableTileBaseMap(),u[_0x1d97("0x280")].target.copy(c[_0x1d97("0xa3")].getWorldPosition(new(THREE[_0x1d97("0xe0")]))))}var n=(x.to.elevation||0)+a,o=c[_0x1d97("0xa3")][_0x1d97("0xb6")][_0x1d97("0xdb")](),l=u[_0x1d97("0x17c")](x.to,!0);l.y=n;var h=c[_0x1d97("0x25a")](x[_0x1d97("0x2e4")],x.to);if(r[_0x1d97("0x25b")]){r[_0x1d97("0x2e7")]||(l.y=o.y);var g=new THREE.Matrix4;if(o.x!=l.x||o.z!=l.z){g[_0x1d97("0x28f")](l,o,s[_0x1d97("0xa3")].up),g[_0x1d97("0x262")]((new THREE.Matrix4)[_0x1d97("0x263")](new(THREE[_0x1d97("0x264")])(0,THREE.Math[_0x1d97("0x265")](r.angle),0)));var v=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x291")](g);c[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x266")]&&c[_0x1d97("0xa3")].userData[_0x1d97("0x266")].stop();var p=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x267")](c[_0x1d97("0xa3")][_0x1d97("0x23c")]),m=new(THREE[_0x1d97("0x239")]),A={value:0},C=void 0;if(C=x[_0x1d97("0x255")]<.2?1e3*x[_0x1d97("0x255")]:x[_0x1d97("0x255")]<.5?200:x[_0x1d97("0x255")]<.8?500:800,c[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x266")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(A).to({value:1},C*r[_0x1d97("0x2e8")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x2e9")][_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x,d){THREE[_0x1d97("0x239")][_0x1d97("0x24a")](p,v,m,A.value),c[_0x1d97("0xa3")][_0x1d97("0x23c")].set(m.x,m.y,m.z,m.w)})).onComplete((function(){}))[_0x1d97("0x1c1")](),r.followAngle){var E=C/1e3*r[_0x1d97("0x2ea")];c[_0x1d97("0x2e0")]({angle:h,time:E})}}}else if(null!=x.toAngle&&null!=x.fromAngle)if(o.y!=l.y){var w=new(THREE[_0x1d97("0x261")]);w.lookAt(l,o,s[_0x1d97("0xa3")].up),w[_0x1d97("0x262")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x263")](new THREE.Euler(0,THREE[_0x1d97("0x24e")][_0x1d97("0x265")](0),0))),c[_0x1d97("0xa3")][_0x1d97("0x11e")].toRot=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x291")](w)}else c.rotateTo({angle:x.toAngle,time:1e3*x[_0x1d97("0x255")]});u[_0x1d97("0x280")].target[_0x1d97("0xdb")]();var T=u[_0x1d97("0x17c")](x.to,!0),k=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(c[_0x1d97("0xa3")][_0x1d97("0xb6")]).to({x:T.x,z:T.z,y:n},1e3*x[_0x1d97("0x255")]).easing(esmap.TWEEN[_0x1d97("0x1ba")].Linear[_0x1d97("0x269")])[_0x1d97("0x12e")]((function(x,_,t){var a=c[_0x1d97("0xa3")][_0x1d97("0x27f")](new(THREE[_0x1d97("0xe0")]));if(r.followPosition){if(f&&(f.clone(),f=null),c[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var i=c[_0x1d97("0x226")][_0x1d97("0x2ec")](),n=c[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x2ed")];i>=3&&n&&c[_0x1d97("0x38")].tileService.enableTileBaseMap(),i>=4&&!n&&(c[_0x1d97("0x226")].start(),c[_0x1d97("0x38")].tileService[_0x1d97("0x2ee")]()),u[_0x1d97("0x2ef")]()}u.controls.target.copy(a),r[_0x1d97("0x283")]||u.controls[_0x1d97("0x11d")]({forceTheta:u[_0x1d97("0x280")].getAzimuthalAngle(),forcePhi:u[_0x1d97("0x280")].getPolarAngle()})}var s={x:c[_0x1d97("0xa3")][_0x1d97("0xb6")].x,y:c[_0x1d97("0xa3")][_0x1d97("0xb6")].z},o=u._coordThreeToMapScene({x:s.x,z:s.y,y:0}),l=function(x,d){for(var _=x[_0x1d97("0x2eb")],e=0,t=b[_0x1d97("0x0")]-1;t>_;t--)if(t-1>_){var a=b[t],i=b[t-1],n=a[_0x1d97("0x113")]||0,r=i[_0x1d97("0x113")]||0,s=u._coordMapSceneToThree({x:a.x,y:a.y,z:n}),o=u[_0x1d97("0x17c")]({x:i.x,y:i.y,z:r});e+=s[_0x1d97("0x25d")](o)}var c=b[x[_0x1d97("0x2eb")]+1],l=c[_0x1d97("0x113")]||0,f=u[_0x1d97("0x17c")]({x:c.x,y:c.y,z:l});return e+d[_0x1d97("0x25d")](f)}({x:o.x,y:o.y,index:d},x[_0x1d97("0xdb")]()),h=u[_0x1d97("0x23d")]({x:s.x,z:s.y,y:0}),g={x:h.x,y:h.y,z:c[_0x1d97("0xa3")].position.y,index:d},v=(I-l)/I;r[_0x1d97("0x26a")]&&r[_0x1d97("0x26a")]({position:g,progress:v,angle:r[_0x1d97("0x257")],loopDirection:y}),e||(e=setTimeout((function(){c[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0x28c")]=!0,c[_0x1d97("0x14f")].queueRanked=!1,c[_0x1d97("0x14f")][_0x1d97("0x2f0")]=!1,window[_0x1d97("0x28e")](e),e=null}),800))}))[_0x1d97("0x1bd")]((function(){_&&r[_0x1d97("0x2b0")]&&r[_0x1d97("0x2f1")]&&r[_0x1d97("0x2f1")](c),t()})).start();c.o3d_[_0x1d97("0x11e")].tweens&&c.o3d_[_0x1d97("0x11e")][_0x1d97("0x231")][_0x1d97("0x1")](k),c[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x2d2")]=k}))};c[_0x1d97("0x2d4")](!1);var u=c.mapScene.map;if(d)(r=x)[_0x1d97("0x2e5")]=0;else{var f=null;(r={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]}).fp_=!1,Object[_0x1d97("0x7")](r,_0x1d97("0x2f2"),{get:function(){return this[_0x1d97("0x2f3")]},set:function(x){if(c.o3d_[_0x1d97("0x11e")][_0x1d97("0x26c")]){var d=c.o3d_.getWorldPosition(new(THREE[_0x1d97("0xe0")]));u[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x267")](d),f=u[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")]()}x?(null==p&&(p=u[_0x1d97("0x280")][_0x1d97("0x2d6")]),null==m&&(m=u[_0x1d97("0x280")][_0x1d97("0x2f4")]),u.controls[_0x1d97("0x2d6")]=r[_0x1d97("0x2f5")],u[_0x1d97("0x280")][_0x1d97("0x2f4")]=r.minViewDistance,u[_0x1d97("0x27b")].enableMapPan=!1):this[_0x1d97("0x2f3")]&&(p&&(u[_0x1d97("0x280")][_0x1d97("0x2d6")]=p,p=null),m&&(u[_0x1d97("0x280")][_0x1d97("0x2f4")]=m,m=null),u[_0x1d97("0x27b")][_0x1d97("0x27c")]||(u.gestureController[_0x1d97("0x27c")]=!0)),this[_0x1d97("0x2f3")]=x}}),(0,n.default)(r,{followPosition:!1},x)}var h=r[_0x1d97("0x2f6")],b=[];if(0!=h[_0x1d97("0x0")]){for(var g=0;g<h.length;g++){var v=h[g],A=u[_0x1d97("0x1a6")]({from:u[_0x1d97("0x35")][_0x1d97("0x1e7")],to:u[_0x1d97("0x17b")],coord:v});b[g]=A}if(1!=b[_0x1d97("0x0")]){var C=[],I=0,y=c[_0x1d97("0x225")]%2;c.o3d_[_0x1d97("0x11e")][_0x1d97("0x290")]=null,r[_0x1d97("0x2f2")]&&(null==p&&(p=u[_0x1d97("0x280")][_0x1d97("0x2d6")]),null==m&&(m=u[_0x1d97("0x280")][_0x1d97("0x2f4")]),u[_0x1d97("0x280")][_0x1d97("0x2d6")]=r.maxViewDistance,u[_0x1d97("0x280")][_0x1d97("0x2f4")]=r[_0x1d97("0x1ee")],u[_0x1d97("0x27b")][_0x1d97("0x27c")]=!1),r.onStart&&r[_0x1d97("0x2f7")]();for(var E=0;E<b[_0x1d97("0x0")];E++){var w=b[E];if(w[_0x1d97("0xe5")]||(w.bid=u.id),b[E].offset=1*b[E][_0x1d97("0x113")]||0,b[E][_0x1d97("0x2e6")]=b[E].offset,this[_0x1d97("0x23f")]&&w[_0x1d97("0xe5")]&&w.fnum&&u[_0x1d97("0xee")](w[_0x1d97("0xe5")])&&this[_0x1d97("0x23f")]!=w[_0x1d97("0xe8")]){var T=u[_0x1d97("0xee")](w[_0x1d97("0xe5")])[_0x1d97("0x2f8")](this[_0x1d97("0x23f")]),k=u[_0x1d97("0xee")](w[_0x1d97("0xe5")])[_0x1d97("0x2f8")](w[_0x1d97("0xe8")]);b[E][_0x1d97("0x2e6")]+=k-T}}for(var S=0;S<b[_0x1d97("0x0")]-1;S++)if(b[S+1]){var M=u[_0x1d97("0x2f9")](b[S]),R=u[_0x1d97("0x2f9")](b[S+1]),L=M[_0x1d97("0x25d")](R);I+=L,b[S]&&C[_0x1d97("0x1")]({distance:L,fnum:b[S][_0x1d97("0xe8")]||1,from:b[S],fromAngle:b[S][_0x1d97("0x2")](_0x1d97("0x257"))?b[S][_0x1d97("0x257")]:null,to:b[S+1],toAngle:b[S+1].hasOwnProperty(_0x1d97("0x257"))?b[S+1].angle:null})}if(r.speed&&(r[_0x1d97("0x255")]=I/(1.62*r[_0x1d97("0x2fa")])),!isNaN(r[_0x1d97("0x255")]))return C[_0x1d97("0x1d")]((function(x){x.time=0==x[_0x1d97("0x25e")]?0:x[_0x1d97("0x25e")]/I*r[_0x1d97("0x255")]})),c[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x26c")]=!0,r[_0x1d97("0x2f2")]&&null!=r.viewTiltAngle&&(u.tiltAngle=r[_0x1d97("0x2fc")]),c.movePathController=r,o()[_0x1d97("0x2fd")]((function(){r[_0x1d97("0x2b0")]?(r.startPathIndex=0,r[_0x1d97("0x2fe")]&&(c[_0x1d97("0x225")]++,r[_0x1d97("0x2f6")][_0x1d97("0x2ff")]()),c.movePath(r,!0)):(c.o3d_[_0x1d97("0x11e")][_0x1d97("0x26c")]=!1,c.o3d_.userData.toRot=null,c[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x249")]=!1,u[_0x1d97("0x2aa")][_0x1d97("0x18c")].enableTileBaseMap(),r[_0x1d97("0x2f1")]&&r[_0x1d97("0x2f1")](),p&&(u[_0x1d97("0x280")][_0x1d97("0x2d6")]=p,p=null),m&&(u[_0x1d97("0x280")][_0x1d97("0x2f4")]=m,m=null),u.gestureController[_0x1d97("0x27c")]||(u[_0x1d97("0x27b")][_0x1d97("0x27c")]=!0))})),r;console[_0x1d97("0x245")](_0x1d97("0x2fb"))}else{var H=u[_0x1d97("0x17c")](b[0],!0);if(c[_0x1d97("0xa3")][_0x1d97("0xb6")].x=H.x,c[_0x1d97("0xa3")].position.z=H.z,c[_0x1d97("0xa3")][_0x1d97("0xb6")].y=(1*b[0][_0x1d97("0x113")]||0)+r.offsetHeight,r[_0x1d97("0x26a")]){var D={x:c[_0x1d97("0xa3")].position.x,y:c[_0x1d97("0xa3")][_0x1d97("0xb6")].z},P=u[_0x1d97("0x23d")]({x:D.x,z:D.y,y:0}),O={x:P.x,y:P.y,index:0};r[_0x1d97("0x26a")]({position:O,progress:1,angle:0,loopDirection:0})}r[_0x1d97("0x2f1")]&&r[_0x1d97("0x2f1")]()}}}},{key:_0x1d97("0x300"),value:function(){var x=this;if(!this[_0x1d97("0x288")]){var d,_=this[_0x1d97("0x2b2")];this[_0x1d97("0x301")]?(d=_[_0x1d97("0x302")]((function(x){return x.indexOf("close")>-1}))).length>0&&this[_0x1d97("0x289")]({name:d[0],stopLastAction:!0,callback:function(){x[_0x1d97("0x301")]=0}}):(d=_[_0x1d97("0x302")]((function(x){return x[_0x1d97("0xd7")](_0x1d97("0x303"))>-1})))[_0x1d97("0x0")]>0&&this.playAnimation({name:d[0],stopLastAction:!0,callback:function(){x[_0x1d97("0x301")]=1}})}}},{key:_0x1d97("0x304"),value:function(x,d){var _=this;setTimeout((function(){var e=_[_0x1d97("0xa3")][_0x1d97("0x244")](x);if(e){var t=e[_0x1d97("0x27f")](new(THREE[_0x1d97("0xe0")]));t={x:-_[_0x1d97("0x305")].sceneX_-t.x,y:t.z+_[_0x1d97("0x305")][_0x1d97("0x19a")]},d&&d(t)}else d&&d(null)}),10)}},{key:"getChildObject",value:function(x){return this[_0x1d97("0xa3")][_0x1d97("0x306")](x)}},{key:_0x1d97("0x307"),value:function(){this[_0x1d97("0x308")].add(this)}},{key:_0x1d97("0x309"),value:function(x){var d=this;if(!(x<0||x>2)&&x!==this._lodLevel){0==x&&(x="");var _=this[_0x1d97("0x22a")]+_0x1d97("0x163")+x+_0x1d97("0x6f"),e=this.map[_0x1d97("0x2aa")].modelStore[_];if(e){this[_0x1d97("0x22d")][_0x1d97("0xba")][_0x1d97("0x149")](this[_0x1d97("0x22d")]);var t=e[_0x1d97("0x30a")][_0x1d97("0x305")].clone(!0);(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](t)[_0x1d97("0x30d")](t[_0x1d97("0xb6")]),t[_0x1d97("0xb6")][_0x1d97("0x276")](-1),this[_0x1d97("0x22d")]=t,this[_0x1d97("0xa3")][_0x1d97("0xdc")](t),this[_0x1d97("0x30e")]=x}else{var a=this[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),""),i=this[_0x1d97("0x22a")]+_0x1d97("0x163")+x,n=this.url[_0x1d97("0x30f")](a,i);this[_0x1d97("0x14f")][_0x1d97("0x310")][_]||this[_0x1d97("0x14f")][_0x1d97("0x311")](_,n,(function(_){d[_0x1d97("0x22d")][_0x1d97("0xba")][_0x1d97("0x149")](d[_0x1d97("0x22d")]),d[_0x1d97("0x22d")]=null;var e=_[_0x1d97("0x305")][_0x1d97("0xdb")](!0);(new THREE.Box3).setFromObject(e)[_0x1d97("0x30d")](e.position),e.position[_0x1d97("0x276")](-1),d.child=e,d[_0x1d97("0xa3")][_0x1d97("0xdc")](e),d._lodLevel=x}))}}}},{key:_0x1d97("0x312"),value:(_=(0,a[_0x1d97("0x1c")])(t[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _,e,a,n,r,s,o,c,l,u,f,h,v,p,m,A,C,I,y,E,w,T,k,S,M,R;return t[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:if(_=this,e=esmap[_0x1d97("0x33")][_0x1d97("0x34")],a=this.o3d_,n=e.coordMapToThree({x:d.x,y:d.y}),r={x:n.x,z:n.z},s={x:a[_0x1d97("0xb6")].x,z:a.position.z},o=null==d[_0x1d97("0x255")]?1:d[_0x1d97("0x255")],d[_0x1d97("0x25b")]=null==d[_0x1d97("0x25b")]||d[_0x1d97("0x25b")],c=null==d[_0x1d97("0x313")]?0:d[_0x1d97("0x313")],l=d[_0x1d97("0x113")]||0,u=d[_0x1d97("0x2f1")],f=d.debug,h=!d[_0x1d97("0x2")]("raycast")||d[_0x1d97("0x314")],v=d[_0x1d97("0x257")]||0,p=d[_0x1d97("0x26a")],m=d.depth||100,A=null,C=[],I=(a[_0x1d97("0x11e")][_0x1d97("0x315")][_0x1d97("0x316")][_0x1d97("0x317")].y-a.userData[_0x1d97("0x315")][_0x1d97("0x316")][_0x1d97("0x318")].y)/2+l,y=function(){return new i.default((function(x){var d=void 0;if(0==c){if(C[_0x1d97("0x1")](a[_0x1d97("0xb6")][_0x1d97("0xdb")]()),!(d=E.intersectByCoord(r)))return;d.y+=I,C[_0x1d97("0x1")](d[_0x1d97("0xdb")]()),x()}else var _=new(esmap.TWEEN[_0x1d97("0x1b8")])(s).to(r,1e3*c)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x12e")]((function(x,e,t){if(d=E.intersectByCoord(x)){if(A){var a=(0,b[_0x1d97("0xbc")])({x:A.x,y:A.z},{x:d.x,y:d.z}),i=d.y-A.y>0?1:-1;Math[_0x1d97("0x319")](Math[_0x1d97("0x253")](d.y-A.y)/a)>Math.PI/6&&(d.y=i*Math[_0x1d97("0x31a")](Math.PI/6)*a+A.y)}A=d[_0x1d97("0xdb")](),d.y+=I,C[_0x1d97("0x1")](d[_0x1d97("0xdb")]())}else _.stop()}))[_0x1d97("0x1bd")](x)[_0x1d97("0x1c1")]()}))},this[_0x1d97("0x31b")]||(this[_0x1d97("0x31c")]=new(g[_0x1d97("0x1c")])({depth:m,inverse:!1}),this[_0x1d97("0x31c")].ignoreTarget=a),E=this[_0x1d97("0x31c")],!h){x[_0x1d97("0x2a8")]=27;break}return x[_0x1d97("0x2a8")]=25,y();case 25:x[_0x1d97("0x2a8")]=30;break;case 27:C.push(a.position[_0x1d97("0xdb")]()),n.y=a[_0x1d97("0xb6")].y,C[_0x1d97("0x1")](n[_0x1d97("0xdb")]());case 30:for(w=C,T=[],k=0,S=0;S<w[_0x1d97("0x0")];S++)0==S||S==w[_0x1d97("0x0")]-1?(f&&_[_0x1d97("0x31d")](w[S],65280,0),M=e.coordThreeToMap(w[S]),T.push({x:M.x,y:M.y,offset:w[S].y})):k>-1?(f&&_[_0x1d97("0x31d")](w[S],65280,0),R=e[_0x1d97("0x23d")](w[S]),T.push({x:R.x,y:R.y,offset:w[S].y}),k=0):k++;this[_0x1d97("0x2e2")]({followPosition:d[_0x1d97("0x2f2")]||!1,path:T,time:o-c,maxViewDistance:d[_0x1d97("0x2f5")]||200,minViewDistance:d[_0x1d97("0x1ee")]||10,angle:v,orientToPath:d.orientToPath,complete:u,onMoving:p});case 36:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return _[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x14f"),get:function(){var x=this[_0x1d97("0x16c")].map,d=x[_0x1d97("0xee")](this[_0x1d97("0xe5")]);return d||(d=x.getTileById(this[_0x1d97("0xe5")])),d[_0x1d97("0x14f")]}},{key:_0x1d97("0x31e"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xb6")].y}},{key:_0x1d97("0x257"),get:function(){var x=new(THREE[_0x1d97("0xe0")])(1,0,0),d=x[_0x1d97("0xdb")](),_=this.o3d_[_0x1d97("0x24b")][_0x1d97("0xdb")]();_[_0x1d97("0x24c")](new THREE.Vector3),d.applyMatrix4(_);var e=(e=d[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](x)).y<0?-1:1,t=x[_0x1d97("0x24d")](d),a=THREE.Math[_0x1d97("0x24f")](t*e);return a=a>0?360-a:-a}}]),d}(u[_0x1d97("0x1c")]);d[_0x1d97("0x1c")]=A},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0x31f")]=void 0;var e=i(_(0)),t=i(_(1)),a=_(306);function i(x){return x&&x.__esModule?x:{default:x}}d[_0x1d97("0x31f")]=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x)}return(0,t.default)(x,null,[{key:_0x1d97("0x320"),value:function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=d[_0x1d97("0x16d")][_0x1d97("0x321")].domElement,e=void 0,t="";Object.prototype[_0x1d97("0x2d")][_0x1d97("0x3")](x)===_0x1d97("0x322")?(e=x[_0x1d97("0x323")],t=function(x,d){if(d&&d.length)for(var _=0;_<d[_0x1d97("0x0")];_++)x=x.replace("${"+(_+1)+"}",d[_]);return x}(a.ERRORS[e],x[_0x1d97("0x324")])):t=a[_0x1d97("0x325")][e],t||(t=_0x1d97("0x326"));var i=document[_0x1d97("0x21")](_0x1d97("0x327"));i[_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x329"),i[_0x1d97("0x22")].height=_0x1d97("0x329"),i[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x32b"),i.style[_0x1d97("0x32c")]="center",i[_0x1d97("0x22")].alignItems=_0x1d97("0xe7"),i[_0x1d97("0x22")].backgroundColor=_0x1d97("0x32d"),i[_0x1d97("0x22")][_0x1d97("0x100")]="white",i[_0x1d97("0x22")][_0x1d97("0x32e")]=_0x1d97("0x32f"),i.style[_0x1d97("0x330")]="border-box",i[_0x1d97("0x331")]=t,i[_0x1d97("0x332")](_0x1d97("0x333"),"mapError"),_[_0x1d97("0x331")]="",_[_0x1d97("0x25")](i),d[_0x1d97("0x1d9")](_0x1d97("0x245"),{code:e,message:t});var n=new CustomEvent(_0x1d97("0x334"),{detail:{code:e,message:t}});window[_0x1d97("0x335")](n)}}]),x}()},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1));d[_0x1d97("0x1c")]=function(x,d,_){return new n(x,d,_)};var a=_(11);function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d,_,t,a){if((0,e[_0x1d97("0x1c")])(this,x),x[_0x1d97("0x336")](d))this.element=d;else{if(d instanceof x)return d;this[_0x1d97("0x337")]=document.createElement(d)}this.attr(_),this.style(t),this[_0x1d97("0x338")](a)}return(0,t[_0x1d97("0x1c")])(x,null,[{key:"isElement",value:function(x){return!(!x||1!==x.nodeType||void 0===x.tagName)}}]),(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x22"),value:function(x,d){var _=this;return x?"string"==typeof x&&void 0===d?this.element.style[x]:((0,a[_0x1d97("0x339")])(x)?(0,a.eachObject)(x,(function(x,d){_[_0x1d97("0x337")][_0x1d97("0x22")][d]=x})):this[_0x1d97("0x337")][_0x1d97("0x22")][x]=d,this):this}},{key:"attr",value:function(x,d){var _=this;return x?typeof x===_0x1d97("0xe")&&void 0===d?this.element[_0x1d97("0x19c")](x):((0,a[_0x1d97("0x339")])(x)?(0,a[_0x1d97("0x17")])(x,(function(x,d){_[_0x1d97("0x337")][_0x1d97("0x332")](d,x)})):this[_0x1d97("0x337")][_0x1d97("0x332")](x,d),this):this}},{key:"addEvent",value:function(x,d){var _=this;if(!x)return this;function e(x){return(0,a.startWith)(x,"on")?x:"on"+x}return(0,a[_0x1d97("0x339")])(x)?(0,a.eachObject)(x,(function(x,d){_[_0x1d97("0x337")][e(d)]=x})):this[_0x1d97("0x337")][e(x)]=d,this}}]),x}()},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}Array.prototype[_0x1d97("0x33a")]||Object.defineProperty(Array[_0x1d97("0xf")],"fill",{value:function(x){if(null==this)throw new TypeError("this is null or not defined");for(var d=Object(this),_=d.length>>>0,e=arguments[1],t=e>>0,a=t<0?Math[_0x1d97("0x317")](_+t,0):Math[_0x1d97("0x318")](t,_),i=arguments[2],n=void 0===i?_:i>>0,r=n<0?Math[_0x1d97("0x317")](_+n,0):Math[_0x1d97("0x318")](n,_);a<r;)d[a]=x,a++;return d}});var i=function(){function x(d){var _=d.colorStr,t=void 0===_?_0x1d97("0xcb"):_;(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x33b")]=(new(THREE[_0x1d97("0x101")])).setStyle(t),this[_0x1d97("0xa7")]=null}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x33c"),value:function(x){var d=x[_0x1d97("0xa2")].brothers[_0x1d97("0x0")];if(d>0){for(var _=x[_0x1d97("0xa5")][_0x1d97("0x19c")](_0x1d97("0xb6")),e=new Array(_[_0x1d97("0xb7")]),t=0;t<d;t++){var a=x[_0x1d97("0xa2")][_0x1d97("0x33d")][t][_0x1d97("0xbb")][0],i=x.datas_[_0x1d97("0x33d")][t].sideRange[0],n=x[_0x1d97("0xa2")].brothers[t].faceRange[1];e.fill(1,a,i),e[_0x1d97("0x33a")](0,i,n)}x[_0x1d97("0xa5")].addAttribute(_0x1d97("0x33e"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(e),1))}}},{key:_0x1d97("0x33f"),value:function(x){var d=x[_0x1d97("0x340")],_=x[_0x1d97("0x341")];d&&d[_0x1d97("0x342")](),_&&_[_0x1d97("0x342")](),this.material=new(THREE[_0x1d97("0x343")])({color:this[_0x1d97("0x33b")]}),this[_0x1d97("0xa7")].name=_0x1d97("0x344");var e=this;return this.material[_0x1d97("0x345")]=function(x){x[_0x1d97("0x102")][_0x1d97("0x346")]={value:0},d&&(x.uniforms[_0x1d97("0x346")][_0x1d97("0xf1")]=1,x[_0x1d97("0x102")][_0x1d97("0x347")]={value:d},x[_0x1d97("0x102")][_0x1d97("0x348")]={value:d[_0x1d97("0x24b")]}),x[_0x1d97("0x102")][_0x1d97("0x349")]={value:0},_&&(x.uniforms[_0x1d97("0x349")][_0x1d97("0xf1")]=1,x[_0x1d97("0x102")][_0x1d97("0x34a")]={value:_},x.uniforms[_0x1d97("0x34b")]={value:_[_0x1d97("0x24b")]}),x[_0x1d97("0x105")]=x[_0x1d97("0x105")].replace(_0x1d97("0x34c"),"\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                "),x[_0x1d97("0x105")]=x[_0x1d97("0x105")].replace(_0x1d97("0x107"),_0x1d97("0x34d")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")]("uniform float opacity;",_0x1d97("0x34e")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x34f"),_0x1d97("0x350")),e[_0x1d97("0x351")]=x},this[_0x1d97("0xa7")]}}]),x}();d.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=_(11);function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e.default)(this,x),this[_0x1d97("0x48")]=d[_0x1d97("0x48")];var _=this[_0x1d97("0x48")],t=d[_0x1d97("0x35d")];this[_0x1d97("0x6a")]=d[_0x1d97("0x6a")]||_0x1d97(t?"0x35e":"0x35f");var i=this[_0x1d97("0x6a")],n=null==d[_0x1d97("0x35b")]||d[_0x1d97("0x35b")];this[_0x1d97("0x35a")]=d.isArrayBuffer||!1,this._isComplete=!1,this[_0x1d97("0x355")],this[_0x1d97("0x354")],this[_0x1d97("0x360")],this[_0x1d97("0x352")]=new(a[_0x1d97("0x361")]),this[_0x1d97("0x357")]=new(a[_0x1d97("0x361")]),this[_0x1d97("0x358")]=new(a[_0x1d97("0x361")]),this[_0x1d97("0x362")],this[_0x1d97("0x363")](),this[_0x1d97("0x362")][_0x1d97("0x303")](i,_,n),this[_0x1d97("0x362")][_0x1d97("0x364")]=this._httpStateChange.bind(this),i==_0x1d97("0x35f")&&(this[_0x1d97("0x35a")]||this[_0x1d97("0x48")][_0x1d97("0xd7")](_0x1d97("0x365"))>0)&&this[_0x1d97("0x35a")]&&(this[_0x1d97("0x362")].responseType=_0x1d97("0x366")),i===_0x1d97("0x35e")&&(this[_0x1d97("0x362")].setRequestHeader(_0x1d97("0x367"),"XMLHttpRequest"),this[_0x1d97("0x362")][_0x1d97("0x368")](_0x1d97("0x369"),_0x1d97("0x36a")),this._httpServer[_0x1d97("0x368")]("Connection","close"));try{this[_0x1d97("0x362")].send(t)}catch(x){console[_0x1d97("0x246")](x)}}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x2f1"),value:function(x){return this[_0x1d97("0x352")][_0x1d97("0xdc")](x),this[_0x1d97("0x353")]&&this._completeCallbacks.fire(this[_0x1d97("0x354")],this[_0x1d97("0x355")]),this}},{key:_0x1d97("0x356"),value:function(x){return this[_0x1d97("0x357")].add(x),this[_0x1d97("0x353")]&&this[_0x1d97("0x355")]===_0x1d97("0x356")&&this[_0x1d97("0x357")][_0x1d97("0x1d9")](this._responseData),this}},{key:_0x1d97("0x245"),value:function(x){return this[_0x1d97("0x358")].add(x),this[_0x1d97("0x353")]&&this[_0x1d97("0x355")]===_0x1d97("0x245")&&this[_0x1d97("0x358")][_0x1d97("0x1d9")](this[_0x1d97("0x354")]),this}}],[{key:_0x1d97("0x359"),value:function(d){return new x({url:d[_0x1d97("0x48")],isArrayBuffer:d[_0x1d97("0x35a")],async:d[_0x1d97("0x35b")]})}},{key:_0x1d97("0x35c"),value:function(d){var _=new x({url:d[_0x1d97("0x48")],async:d[_0x1d97("0x35b")]});return _[_0x1d97("0x356")](function(x){var d;try{d=JSON.parse(x)}catch(x){console[_0x1d97("0x246")](x),console[_0x1d97("0x245")]("Request error, unable to convert to JSON: "+this.url),_._errorCallback()}return[d]}[_0x1d97("0x11")](_)),_}},{key:_0x1d97("0x1c8"),value:function(d,_){return new x({url:d,data:_})}}]),(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x363"),value:function(){window[_0x1d97("0x36b")]?this[_0x1d97("0x362")]=new ActiveXObject(_0x1d97("0x36c")):window[_0x1d97("0x36d")]&&(this[_0x1d97("0x362")]=new XMLHttpRequest)}},{key:_0x1d97("0x36e"),value:function(){4===this[_0x1d97("0x362")].readyState&&(this[_0x1d97("0x353")]=!0,this[_0x1d97("0x36f")]())}},{key:"_successCallback",value:function(){this[_0x1d97("0x352")][_0x1d97("0x1d9")](this[_0x1d97("0x354")],this[_0x1d97("0x355")]),this[_0x1d97("0x357")][_0x1d97("0x1d9")](this[_0x1d97("0x354")])}},{key:_0x1d97("0x36f"),value:function(){200==this[_0x1d97("0x362")][_0x1d97("0x301")]||0==this[_0x1d97("0x362")].status&&_0x1d97("0x370")==window[_0x1d97("0x72")].protocol?(this[_0x1d97("0x355")]=_0x1d97("0x356"),this.type==_0x1d97("0x35f")&&(this[_0x1d97("0x35a")]||this[_0x1d97("0x48")].indexOf(_0x1d97("0x365"))>0)?this[_0x1d97("0x354")]=this._httpServer.response:this[_0x1d97("0x354")]=this[_0x1d97("0x362")][_0x1d97("0x371")],this[_0x1d97("0x372")]()):(this[_0x1d97("0x355")]="error",this[_0x1d97("0x354")]=this[_0x1d97("0x362")][_0x1d97("0x373")],this[_0x1d97("0x360")]=this[_0x1d97("0x362")][_0x1d97("0x301")],this._errorCallback())}},{key:_0x1d97("0x374"),value:function(){this._completeCallbacks[_0x1d97("0x1d9")](this._responseData,this._status),this._errorCallbacks.fire(this[_0x1d97("0x354")])}}]),x}();d.default=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0x5e")]=d.on=d.CSSFILTER=d[_0x1d97("0x375")]=d[_0x1d97("0x376")]=d[_0x1d97("0x377")]=void 0,d[_0x1d97("0x378")]=c,d[_0x1d97("0x379")]=function(x,d,_){var e=c(x);d&&g(e,d);_&&_.appendChild(e);return e},d[_0x1d97("0x37a")]=l,d[_0x1d97("0x37b")]=u,d.removeDomEvent=f,d[_0x1d97("0x37c")]=h,d[_0x1d97("0x37d")]=function(x){x.preventDefault?x[_0x1d97("0x37d")]():x[_0x1d97("0x39f")]=!1;return this},d[_0x1d97("0x1e0")]=function(x){x[_0x1d97("0x1e0")]?x[_0x1d97("0x1e0")]():x[_0x1d97("0x3a0")]=!0;return this},d.preventSelection=function(x){return x[_0x1d97("0x3a1")]=function(){return!1},x[_0x1d97("0x3a2")]=function(){return!1},x[_0x1d97("0x332")](_0x1d97("0x3a3"),"on"),this},d[_0x1d97("0x37e")]=function(x,d){if(!x)return null;a[_0x1d97("0x1c")][_0x1d97("0x3a4")]?A(x,d):(x[_0x1d97("0x22")][_0x1d97("0x3a5")]=d.x+"px",x[_0x1d97("0x22")][_0x1d97("0x3a6")]=d.y+"px");return d},d[_0x1d97("0x37f")]=b,d[_0x1d97("0x380")]=function(x,d){x||(x=window[_0x1d97("0x39b")]);var _=d[_0x1d97("0x3ab")];_||(_=b(d));return new Point(x[_0x1d97("0x3ac")]/_[2]-_[0]-d[_0x1d97("0x3ad")],x[_0x1d97("0x3ae")]/_[3]-_[1]-d.clientTop)},d[_0x1d97("0x29e")]=g,d[_0x1d97("0x381")]=v,d[_0x1d97("0x382")]=function(x,d){if(void 0===x[_0x1d97("0x3af")]||v(x,d)){var _=m(x);p(x,(_?_+" ":"")+d)}else for(var e=(0,r.splitWords)(d),t=0,a=e.length;t<a;t++)x[_0x1d97("0x3af")][_0x1d97("0xdc")](e[t]);return this},d[_0x1d97("0x383")]=p,d[_0x1d97("0x384")]=m,d[_0x1d97("0x385")]=function(x,d){return x[_0x1d97("0x22")].opacity=d,this},d[_0x1d97("0x386")]=A,d.setTransformMatrix=function(x,d){var _=_0x1d97("0x3ba")+((0,n[_0x1d97("0x1d1")])(d)?d:d.join())+")";x[_0x1d97("0x22")][o]!==_&&(x.style[o]=_);return this},d[_0x1d97("0x387")]=function(x){x[_0x1d97("0x22")][o]&&(x[_0x1d97("0x22")][o]="");return this},d.isHTML=function(x){return/<[a-z\][\s\S]*>/i[_0x1d97("0x3b3")](x)},d[_0x1d97("0x388")]=function(x,d){var _=C(x);(0,n[_0x1d97("0x1d1")])(d)?_.innerHTML=d:_[_0x1d97("0x25")](d);var e=new Size(_[_0x1d97("0x3bb")],_.clientHeight);return l(_),e},d[_0x1d97("0x389")]=C;var e,t=_(279),a=(e=t)&&e.__esModule?e:{default:e},i=_(133),n=_(11),r=_(280);var s=i[_0x1d97("0x38a")]?function(x){return x[0]}:function(x){for(var d=document.documentElement[_0x1d97("0x22")],_=0;_<x[_0x1d97("0x0")];_++)if(x[_]in d)return x[_];return!1},o=d.TRANSFORM=s([_0x1d97("0x38b"),_0x1d97("0x38c"),"OTransform","MozTransform","msTransform"]);d[_0x1d97("0x376")]=s(["transformOrigin",_0x1d97("0x38d"),_0x1d97("0x38e"),_0x1d97("0x38f"),_0x1d97("0x390")]),d[_0x1d97("0x375")]=s([_0x1d97("0x391"),"WebkitTransition",_0x1d97("0x392"),"MozTransition",_0x1d97("0x393")]),d[_0x1d97("0x394")]=s(["filter",_0x1d97("0x395"),"OFilter",_0x1d97("0x396"),_0x1d97("0x397")]);function c(x,d){var _=document[_0x1d97("0x21")](x);return d&&p(_,d),_}function l(x){if(!x)return this;if(a[_0x1d97("0x1c")][_0x1d97("0x398")]||a[_0x1d97("0x1c")][_0x1d97("0x399")]){var d=c("div");d[_0x1d97("0x25")](x),d[_0x1d97("0x331")]="",d=null}else x.parentNode&&x[_0x1d97("0x27")][_0x1d97("0x39a")](x);return this}function u(x,d,_,e){if(!(x&&x.addEventListener&&d&&_))return this;for(var t=function(d){d||(d=window[_0x1d97("0x39b")]),_[_0x1d97("0x3")](e||x,d)},i=d.split(" "),n=i[_0x1d97("0x0")]-1;n>=0;n--){var r=i[n];if(r)x[_0x1d97("0x1d4")+r]||(x["Z__"+r]=[]),h(x,r,_)>=0&&f(x,r,_),x[_0x1d97("0x1d4")+r][_0x1d97("0x1")]({callback:t,src:_}),"mousewheel"===r&&a[_0x1d97("0x1c")][_0x1d97("0x39c")]&&(r="DOMMouseScroll"),x.addEventListener(r,t,!1)}return this}function f(x,d,_){function e(d,_){d===_0x1d97("0x39d")&&a[_0x1d97("0x1c")][_0x1d97("0x39c")]&&(d="DOMMouseScroll"),x[_0x1d97("0x1d5")](d,_,!1)}if(!x||!x[_0x1d97("0x1d5")]||!d)return this;for(var t=d[_0x1d97("0x28")](" "),i=t[_0x1d97("0x0")]-1;i>=0;i--){var n=t[i];if(n){if(!_&&x[_0x1d97("0x1d4")+n]){for(var r=x[_0x1d97("0x1d4")+n],s=0,o=r[_0x1d97("0x0")];s<o;s++)e(r[s][_0x1d97("0x1c2")]);return delete x[_0x1d97("0x1d4")+n],this}var c=h(x,n,_);if(c<0)return this;e(n,x[_0x1d97("0x1d4")+n][c].callback),x[_0x1d97("0x1d4")+n].splice(c,1)}}return this}function h(x,d,_){if(!x||!x[_0x1d97("0x1d4")+d]||!_)return-1;for(var e=x[_0x1d97("0x1d4")+d],t=0,a=e[_0x1d97("0x0")];t<a;t++)if(e[t][_0x1d97("0x39e")]===_)return t;return-1}function b(x){var d=window[_0x1d97("0x3a7")](x),_=[parseInt(d[_0x1d97("0x3a8")]),parseInt(d["padding-top"])],e=x[_0x1d97("0x3a9")](),t=x[_0x1d97("0x3aa")],a=x[_0x1d97("0x26")],i=t?e[_0x1d97("0x328")]/t:1,n=a?e[_0x1d97("0x1b5")]/a:1;return x[_0x1d97("0x3ab")]=[e[_0x1d97("0x3a5")]+_[0],e.top+_[1],i,n],x[_0x1d97("0x3ab")]}function g(x,d){var _,e,t,a=x[_0x1d97("0x22")][_0x1d97("0x23")];return e=";",(t=(_=a)[_0x1d97("0x0")]-e[_0x1d97("0x0")])>=0&&_[_0x1d97("0xd7")](e,t)===t||(a+=";"),x.style.cssText=a+d,this}function v(x,d){if(void 0!==x[_0x1d97("0x3af")])return x[_0x1d97("0x3af")][_0x1d97("0x3b0")](d);var _=m(x);return _[_0x1d97("0x0")]>0&&new RegExp(_0x1d97("0x3b1")+d+_0x1d97("0x3b2"))[_0x1d97("0x3b3")](_)}function p(x,d){return(0,n[_0x1d97("0x1d6")])(x[_0x1d97("0x3b4")][_0x1d97("0x3b5")])?x[_0x1d97("0x3b4")]=d:x.className.baseVal=d,this}function m(x){return(0,n[_0x1d97("0x1d6")])(x[_0x1d97("0x3b4")].baseVal)?x[_0x1d97("0x3b4")]:x[_0x1d97("0x3b4")].baseVal}function A(x,d){var _=d||new Point(0,0);return x[_0x1d97("0x22")][o]=a[_0x1d97("0x1c")][_0x1d97("0x3a4")]?"translate3d("+_.x+_0x1d97("0x3b6")+_.y+_0x1d97("0x3b7"):_0x1d97("0x3b8")+_.x+"px,"+_.y+_0x1d97("0x3b9"),this}function C(x){var d=document[_0x1d97("0x21")](x);return d[_0x1d97("0x22")].cssText=_0x1d97("0x3bc"),document.body[_0x1d97("0x25")](d),d}d.on=u,d[_0x1d97("0x5e")]=f},function(x,d,_){"use strict";(function(x){Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});d.IS_NODE=Object[_0x1d97("0xf")][_0x1d97("0x2d")][_0x1d97("0x3")](typeof x!==_0x1d97("0x8")?x:0)===_0x1d97("0x3bd")&&!x[_0x1d97("0x3be")][_0x1d97("0x3bf")]})[_0x1d97("0x3")](this,_(66))},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=s(_(18)),t=s(_(4)),a=s(_(0)),i=s(_(1)),n=_(11),r=s(_(281));function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=function(){function x(d){if((0,a[_0x1d97("0x1c")])(this,x),!this||!this[_0x1d97("0x3c0")])throw new Error('Class instance is being created without "new" operator.');this.setOptions(d),this[_0x1d97("0x3c1")]()}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x3c1"),value:function(){var x=(0,t[_0x1d97("0x1c")])(this);return this[_0x1d97("0x3c2")](x),this}},{key:_0x1d97("0x3c0"),value:function(x){if(this.hasOwnProperty(_0x1d97("0x35"))||(this[_0x1d97("0x35")]=this[_0x1d97("0x35")]?(0,e[_0x1d97("0x1c")])(this[_0x1d97("0x35")]):{}),!x)return this;for(var d in x)this.options[d]=x[d];return this}},{key:"config",value:function(x){if(!x){var d={};for(var _ in this[_0x1d97("0x35")])this.options[_0x1d97("0x2")](_)&&(d[_]=this[_0x1d97("0x35")][_]);return d}if(2===arguments.length){var e={};e[x]=arguments[1],x=e}for(var t in x)this[_0x1d97("0x35")][t]=x[t],this[t]&&this[t]instanceof r[_0x1d97("0x1c")]&&(x[t]?this[t][_0x1d97("0x3c3")]():this[t].disable());return this.onConfig(x),this}},{key:"onConfig",value:function(){}},{key:_0x1d97("0x3c2"),value:function(x){if(!this._initHooksCalled){var d=(0,t[_0x1d97("0x1c")])(x);d[_0x1d97("0x3c2")]&&d[_0x1d97("0x3c2")].call(this,d),this[_0x1d97("0x3c4")]=!0;var _=x[_0x1d97("0x3c5")];if(_&&_!==d[_0x1d97("0x3c5")])for(var e=0;e<_[_0x1d97("0x0")];e++)_[e][_0x1d97("0x3")](this)}}}],[{key:"addInitHook",value:function(x){for(var d=arguments[_0x1d97("0x0")],_=Array(d>1?d-1:0),e=1;e<d;e++)_[e-1]=arguments[e];var a=typeof x===_0x1d97("0x1e")?x:function(){this[x][_0x1d97("0x5")](this,_)},i=this[_0x1d97("0xf")],n=(0,t[_0x1d97("0x1c")])(i);return i[_0x1d97("0x3c5")]&&i[_0x1d97("0x3c5")]!==n[_0x1d97("0x3c5")]||(i[_0x1d97("0x3c5")]=[]),i[_0x1d97("0x3c5")][_0x1d97("0x1")](a),this}},{key:_0x1d97("0x3c6"),value:function(){for(var x=arguments[_0x1d97("0x0")],d=Array(x),_=0;_<x;_++)d[_]=arguments[_];for(var e=0;e<d[_0x1d97("0x0")];e++)(0,n[_0x1d97("0x3c7")])(this[_0x1d97("0xf")],d[e]);return this}},{key:"mergeOptions",value:function(x){var d=this[_0x1d97("0xf")],_=(0,t.default)(d);return d[_0x1d97("0x35")]&&d[_0x1d97("0x35")]!==_[_0x1d97("0x35")]||(d[_0x1d97("0x35")]=d[_0x1d97("0x35")]?(0,e[_0x1d97("0x1c")])(d[_0x1d97("0x35")]):{}),(0,n[_0x1d97("0x3c7")])(d[_0x1d97("0x35")],x),this}}]),x}();d[_0x1d97("0x1c")]=o},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(55)),t=i(_(0)),a=i(_(1));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}function n(x){if(x){if(x.datas_&&x[_0x1d97("0xa2")].o3d_&&(x[_0x1d97("0xa2")][_0x1d97("0xa3")]=void 0,x[_0x1d97("0xa2")]=void 0),x[_0x1d97("0xa4")])for(var d=0;d<x.children[_0x1d97("0x0")];d++)n(x[_0x1d97("0xa4")][d]);x.geometry&&x[_0x1d97("0xa5")][_0x1d97("0xa6")](),x[_0x1d97("0xa7")]&&(x.material instanceof Array?x[_0x1d97("0xa7")][_0x1d97("0x1d")]((function(x){x&&x[_0x1d97("0xa6")]()})):x[_0x1d97("0xa7")][_0x1d97("0xa6")]())}}var r=function(){function x(d,_,a,i){(0,t[_0x1d97("0x1c")])(this,x),a.datas_=this,(0,e[_0x1d97("0x1c")])(this,{nodeType:{enumerable:!0,get:function(){return d}},mapScene:{get:function(){return esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16c")]},set:function(x){}},o3d_:{get:function(){return a},set:function(x){a=x},configurable:!0,enumerable:!1},data_:{enumerable:!0,get:function(){return _}}})}return(0,a.default)(x,[{key:"x",get:function(){return this[_0x1d97("0x16c")]?-this[_0x1d97("0xa3")][_0x1d97("0xb6")].x-this.mapScene[_0x1d97("0x199")]:0},set:function(x){this.mapScene?this[_0x1d97("0xa3")][_0x1d97("0xb6")][_0x1d97("0x3c8")](-x-this[_0x1d97("0x16c")].sceneX_):(this[_0x1d97("0x3c9")]=this[_0x1d97("0x3c9")]||{},this.opts_.x=x)}},{key:"y",get:function(){return this.mapScene?this[_0x1d97("0xa3")][_0x1d97("0xb6")].z+this[_0x1d97("0x16c")][_0x1d97("0x19a")]:0},set:function(x){this[_0x1d97("0x16c")]?this[_0x1d97("0xa3")].position[_0x1d97("0x3ca")](x-this[_0x1d97("0x16c")][_0x1d97("0x19a")]):(this[_0x1d97("0x3c9")]=this[_0x1d97("0x3c9")]||{},this.opts_.y=x)}},{key:"z",get:function(){return this[_0x1d97("0x16c")]?this[_0x1d97("0xa3")][_0x1d97("0xb6")].y:0},set:function(x){}},{key:_0x1d97("0x3cb"),get:function(){var x=esmap[_0x1d97("0x33")].instance,d=new(esmap[_0x1d97("0x3cc")])(this.x,this.y,this.z),_=x[_0x1d97("0x1a6")]({from:x.coordSystem,to:x.options[_0x1d97("0x1e7")],coord:{x:d.x,y:d.y}});return _.z=this.z,_}},{key:"parent",get:function(){return this[_0x1d97("0xa3")].parent?this.o3d_[_0x1d97("0xba")][_0x1d97("0xa2")]:null}},{key:"visible",set:function(x){this[_0x1d97("0xa3")][_0x1d97("0xf0")]=x},get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xf0")]}},{key:_0x1d97("0x2b"),get:function(){if(this instanceof esmap[_0x1d97("0x3cd")])return this;var x=this[_0x1d97("0xba")];if(x){if(x instanceof esmap.ESFloorManager)return x;var d=x.parent;if(d&&d instanceof esmap[_0x1d97("0x3cd")])return d}return null}},{key:_0x1d97("0x23f"),get:function(){return this.floor?this[_0x1d97("0x2b")][_0x1d97("0x23f")]:null}}]),(0,a[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xa6"),value:function(){if(this.o3d_){this[_0x1d97("0xa3")].visible=!1,this[_0x1d97("0xa3")][_0x1d97("0x3ce")]&&this[_0x1d97("0xa3")][_0x1d97("0x3ce")]();var x=this[_0x1d97("0xa3")].parent,d=this[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x147")];for(var _ in d){var e=d[_],t=e[_0x1d97("0xd7")](this[_0x1d97("0xa3")]);if(t>-1){e[_0x1d97("0x189")](t,1);break}}var a=this.mapScene.map[_0x1d97("0x3cf")].indexOf(this[_0x1d97("0xa3")]);return a>-1&&this[_0x1d97("0x16c")][_0x1d97("0x38")].lastSelectModelStore[_0x1d97("0x189")](a,1),x?(x[_0x1d97("0x149")](this.o3d_),n(this[_0x1d97("0xa3")]),!0):void 0}}},{key:_0x1d97("0x26f"),value:function(x,d){this[_0x1d97("0xa3")][_0x1d97("0x26f")]&&this[_0x1d97("0xa3")][_0x1d97("0x26f")]({scale:d,time:x})}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(){var d=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1};(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x3d0")]=d;var _=esmap[_0x1d97("0x33")].instance;this[_0x1d97("0x3d1")]=new(THREE[_0x1d97("0x3d2")]),this[_0x1d97("0x147")]=_[_0x1d97("0x146")].watchingList,this[_0x1d97("0x3d3")]=new(THREE[_0x1d97("0xfe")])({color:16711680}),this[_0x1d97("0x38")]=_,this[_0x1d97("0x3d4")]={},this[_0x1d97("0x3d5")]=null}return(0,t.default)(x,[{key:_0x1d97("0x3d6"),value:function(x,d){var _=d.clone()[_0x1d97("0x3d7")](x.clone())[_0x1d97("0x2e1")]();this[_0x1d97("0x3d1")].set(x,_);var e=x[_0x1d97("0x25d")](d);this[_0x1d97("0x3d1")][_0x1d97("0x3d8")]=e;var t=[];if(!this[_0x1d97("0x3d5")]){var a=[],i=this.map[_0x1d97("0x16d")][_0x1d97("0x305")],n=this[_0x1d97("0x38")].plane_.uuid;i.traverse((function(x){x[_0x1d97("0x6a")]==_0x1d97("0x14a")&&x[_0x1d97("0x3d9")]!=n&&a[_0x1d97("0x1")](x)})),this[_0x1d97("0x3d5")]=a}for(var r=0;r<this[_0x1d97("0x3d5")][_0x1d97("0x0")];r++){var s=this[_0x1d97("0x3d5")][r];this.ignoredUuids[s[_0x1d97("0x3d9")]]||t[_0x1d97("0x1")](s)}var o=this[_0x1d97("0x3d1")][_0x1d97("0x3da")](t,!0);return o[_0x1d97("0x0")]>0?o[0]:null}},{key:_0x1d97("0x3db"),value:function(x){var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x1d97("0x1b5"),_=this[_0x1d97("0x3d0")][_0x1d97("0x3dc")]?1:-1,e=new(THREE[_0x1d97("0xe0")])(x.x,this[_0x1d97("0x3d0")][_0x1d97("0x3dd")],x.z),t=new(THREE[_0x1d97("0xe0")])(x.x,-this[_0x1d97("0x3d0")].depth,x.z),a=new THREE.Vector3(0,_,0),i=e[_0x1d97("0x25d")](t);this.ray[_0x1d97("0x11b")](this[_0x1d97("0x3d0")][_0x1d97("0x3dc")]?t:e,a),this[_0x1d97("0x3d1")][_0x1d97("0x3d8")]=i;var n=[];if("height"==d)for(var r in this[_0x1d97("0x147")])for(var s=this[_0x1d97("0x147")][r],o=0;o<s.length;o++)s[o][_0x1d97("0x6a")]!=_0x1d97("0x29f")&&(this[_0x1d97("0x3de")]&&s[o]==this[_0x1d97("0x3de")]||n[_0x1d97("0x1")](s[o]));else{if(!this[_0x1d97("0x3d5")]){var c=[],l=this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x305")],u=this[_0x1d97("0x38")][_0x1d97("0x3df")][_0x1d97("0x3d9")];l.traverse((function(x){x.type==_0x1d97("0x14a")&&x[_0x1d97("0x3d9")]!=u&&c[_0x1d97("0x1")](x)})),this[_0x1d97("0x3d5")]=c}for(var f=0;f<this[_0x1d97("0x3d5")][_0x1d97("0x0")];f++){var h=this[_0x1d97("0x3d5")][f];this[_0x1d97("0x3d4")][h[_0x1d97("0x3d9")]]||n[_0x1d97("0x1")](h)}}var b=this.ray[_0x1d97("0x3da")](n,!0);if(b[_0x1d97("0x0")]>0){if(d==_0x1d97("0x1b5")){var g=b[0][_0x1d97("0x3e0")];return g}return b[0]}return null}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=r(_(9)),t=r(_(43)),a=r(_(0)),i=r(_(1)),n=_(31);function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(){function x(){(0,a.default)(this,x),this[_0x1d97("0x3e1")]=[],this[_0x1d97("0x3e2")]=[],this[_0x1d97("0x3e3")]=null}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x3e4"),value:function(x,d,_){var e=new(THREE[_0x1d97("0x264")])(d.x,d.y,d.z,_0x1d97("0x3e5")),t=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x23a")](e),a=new(THREE[_0x1d97("0xe0")])(x.x,x.y,x.z),i=new THREE.Vector3(_.x,_.y,_.z);return(new(THREE[_0x1d97("0x261")])).compose(a,t,i)}},{key:"getObjectTransformMatrix",value:function(x,d,_){var e=new THREE.Object3D;return e[_0x1d97("0xb6")][_0x1d97("0x3e6")](x||[0,0,0]),e[_0x1d97("0x23c")][_0x1d97("0x3e6")](d||[0,0,0,1]),e.scale[_0x1d97("0x3e6")](_||[1,1,1]),e[_0x1d97("0x342")](),e[_0x1d97("0x24b")][_0x1d97("0xdb")]()}},{key:_0x1d97("0x3e7"),value:function(x){var d=this,_=[],e=new THREE.Vector3;return function x(a){if(a[_0x1d97("0xba")]&&"Scene"!=a[_0x1d97("0xba")][_0x1d97("0x6a")]){e.x+=a.parent[_0x1d97("0xb6")].x,e.y+=a[_0x1d97("0xba")][_0x1d97("0xb6")].y,e.z+=a[_0x1d97("0xba")][_0x1d97("0xb6")].z;var i=!0,n=!1,r=void 0;try{for(var s,o=(0,t[_0x1d97("0x1c")])(d[_0x1d97("0x3e2")]);!(i=(s=o[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);i=!0){var c=s[_0x1d97("0xf1")];if(c.name==a.parent[_0x1d97("0xb8")]){c[_0x1d97("0x3e9")]=e,_[_0x1d97("0x1")](c);break}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x1d97("0x2af")]&&o.return()}finally{if(n)throw r}}x(a[_0x1d97("0xba")])}}(x),_}},{key:_0x1d97("0x3ea"),value:function(x,d){var _=this,a=this,i=new(THREE[_0x1d97("0x150")]);if(this[_0x1d97("0x3e1")]=x.parser[_0x1d97("0xb2")].materials,this[_0x1d97("0x3e2")]=x.parser[_0x1d97("0xb2")][_0x1d97("0x3e2")],!this[_0x1d97("0x3e1")])return!1;if(this[_0x1d97("0x3e1")]instanceof Array&&0==this[_0x1d97("0x3e1")][_0x1d97("0x0")])return!1;var n=!0,r=!1,s=void 0;try{for(var o,c=(0,t[_0x1d97("0x1c")])(this.materials);!(n=(o=c[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);n=!0){var l=o[_0x1d97("0xf1")];l[_0x1d97("0x3eb")]=[],l[_0x1d97("0xa7")]=null}}catch(x){r=!0,s=x}finally{try{!n&&c[_0x1d97("0x2af")]&&c[_0x1d97("0x2af")]()}finally{if(r)throw s}}var u=x.scene[_0x1d97("0xb6")][_0x1d97("0xdb")]();(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](x.scene)[_0x1d97("0x30d")](u),u[_0x1d97("0x276")](-1);var f=[u.x,u.y,u.z];return new(e[_0x1d97("0x1c")])((function(e){x[_0x1d97("0x305")][_0x1d97("0xb4")]((function(x){if(x instanceof THREE[_0x1d97("0x14a")]){var d=a[_0x1d97("0x3e7")](x),_=!0,e=!1,i=void 0;try{for(var n,r=(0,t[_0x1d97("0x1c")])(a[_0x1d97("0x3e1")]);!(_=(n=r[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);_=!0){var s=n[_0x1d97("0xf1")];if(x[_0x1d97("0xa7")][_0x1d97("0xb8")]==s.name){var o=x.geometry[_0x1d97("0xdb")]();o[_0x1d97("0x3ec")]=x[_0x1d97("0xb8")],o[_0x1d97("0x11e")][_0x1d97("0x3ed")]=x.position[_0x1d97("0xdb")]();var c=void 0,l=!0,u=!1,h=void 0;try{for(var b,g=(0,t.default)(a[_0x1d97("0x3e2")]);!(l=(b=g[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);l=!0){var v=b[_0x1d97("0xf1")];v[_0x1d97("0xb8")]==x.name?(c=a.getObjectTransformMatrix(v[_0x1d97("0x3ee")],v[_0x1d97("0x238")],v.scale),o.applyMatrix(c)):x[_0x1d97("0xba")][_0x1d97("0xb8")]==v[_0x1d97("0xb8")]&&v}}catch(x){u=!0,h=x}finally{try{!l&&g[_0x1d97("0x2af")]&&g[_0x1d97("0x2af")]()}finally{if(u)throw h}}if(d[_0x1d97("0x0")]>0)for(var p in d){var m=d[p],A=a[_0x1d97("0x3ef")](m[_0x1d97("0x3ee")],m[_0x1d97("0x238")],m[_0x1d97("0x237")]);o[_0x1d97("0x3f0")](A)}var C=new(THREE[_0x1d97("0x150")]);C[_0x1d97("0xb6")][_0x1d97("0x3e6")](f),C.updateMatrix(),o[_0x1d97("0x3f0")](C.matrix.clone()),s[_0x1d97("0x3eb")][_0x1d97("0x1")](o),s[_0x1d97("0xa7")]=x[_0x1d97("0xa7")],s[_0x1d97("0x3f1")]=x[_0x1d97("0xb8")];break}}}catch(x){e=!0,i=x}finally{try{!_&&r[_0x1d97("0x2af")]&&r.return()}finally{if(e)throw i}}}}));var n=esmap.ESMap.instance,r=!0,s=!1,o=void 0;try{for(var c,l=(0,t[_0x1d97("0x1c")])(_.materials);!(r=(c=l.next())[_0x1d97("0x3e8")]);r=!0){var u=c[_0x1d97("0xf1")];if(u.geometries[_0x1d97("0x0")]>0){u[_0x1d97("0xa7")].map&&n[_0x1d97("0x35")][_0x1d97("0x3f2")]&&_.checkGeoIsHaveUv(u[_0x1d97("0x3eb")],d[0].model);var h=_[_0x1d97("0x3f3")](u[_0x1d97("0x3eb")],!1,x.parser[_0x1d97("0xb2")].buffers[0].uri),b=_[_0x1d97("0x3f4")](h,d),g=_.mergeGeometry(b,!0,x[_0x1d97("0xb1")][_0x1d97("0xb2")][_0x1d97("0x3f5")][0].uri);u[_0x1d97("0x3f6")]==_0x1d97("0x3f7")&&(u[_0x1d97("0xa7")][_0x1d97("0x115")]=THREE[_0x1d97("0x111")]),u[_0x1d97("0xa7")].userData[_0x1d97("0x3f8")]=!0;var v=u[_0x1d97("0xa7")][_0x1d97("0xdb")]();n[_0x1d97("0x35")][_0x1d97("0x3f9")]&&n.options[_0x1d97("0x3f9")][_0x1d97("0x224")]?(n[_0x1d97("0x35")][_0x1d97("0x3f9")].model3d[_0x1d97("0x100")]?v[_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")])).setStyle(n.options[_0x1d97("0x3f9")][_0x1d97("0x224")][_0x1d97("0x100")]):v[_0x1d97("0x100")]=n.mapTheme.selectModelMat[_0x1d97("0x100")][_0x1d97("0xdb")](),v[_0x1d97("0x2cc")]=v.color[_0x1d97("0xdb")](),v[_0x1d97("0x2d0")]=null==n[_0x1d97("0x35")].selectedColor[_0x1d97("0x224")][_0x1d97("0x3fa")]?.3:n[_0x1d97("0x35")][_0x1d97("0x3f9")].model3d.intensity):(v[_0x1d97("0x2cc")]=n[_0x1d97("0xf6")].selectModelMat[_0x1d97("0x100")][_0x1d97("0xdb")](),v.emissiveIntensity=.3);var p=u[_0x1d97("0xa7")].clone();p[_0x1d97("0xf0")]=!1;var m=new(THREE[_0x1d97("0x14a")])(g,[u.material,v,p]);m.name=u.objName,m[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],i[_0x1d97("0xdc")](m)}else console[_0x1d97("0x3fb")]("material name:"+u[_0x1d97("0xb8")]+_0x1d97("0x3fc"))}}catch(x){s=!0,o=x}finally{try{!r&&l.return&&l[_0x1d97("0x2af")]()}finally{if(s)throw o}}e(i)}))}},{key:_0x1d97("0xbf"),value:function(x,d){var _=this,e=new(THREE[_0x1d97("0x150")]);if(this[_0x1d97("0x3e1")]=x.parser[_0x1d97("0xb2")][_0x1d97("0x3e1")],this[_0x1d97("0x3e2")]=x[_0x1d97("0xb1")][_0x1d97("0xb2")][_0x1d97("0x3e2")],!this[_0x1d97("0x3e1")])return!1;if(this[_0x1d97("0x3e1")]instanceof Array&&0==this.materials.length)return!1;var a=!0,i=!1,n=void 0;try{for(var r,s=(0,t[_0x1d97("0x1c")])(this[_0x1d97("0x3e1")]);!(a=(r=s.next())[_0x1d97("0x3e8")]);a=!0){var o=r[_0x1d97("0xf1")];o.geometries=[],o[_0x1d97("0xa7")]=null}}catch(x){i=!0,n=x}finally{try{!a&&s[_0x1d97("0x2af")]&&s.return()}finally{if(i)throw n}}var c=x[_0x1d97("0x305")].position[_0x1d97("0xdb")]();(new(THREE[_0x1d97("0x30b")])).setFromObject(x[_0x1d97("0x305")])[_0x1d97("0x30d")](c),c[_0x1d97("0x276")](-1);var l=[c.x,c.y,c.z];x[_0x1d97("0x305")][_0x1d97("0xb4")]((function(x){if(x instanceof THREE.Mesh){var d=_[_0x1d97("0x3e7")](x),e=!0,a=!1,i=void 0;try{for(var n,r=(0,t[_0x1d97("0x1c")])(_[_0x1d97("0x3e1")]);!(e=(n=r[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);e=!0){var s=n[_0x1d97("0xf1")];if(x[_0x1d97("0xa7")][_0x1d97("0xb8")]==s[_0x1d97("0xb8")]){var o=x[_0x1d97("0xa5")][_0x1d97("0xdb")]();o[_0x1d97("0x3ec")]=x.name,o[_0x1d97("0x11e")].pos=x[_0x1d97("0xb6")].clone();var c=void 0,u=!0,f=!1,h=void 0;try{for(var b,g=(0,t.default)(_[_0x1d97("0x3e2")]);!(u=(b=g[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);u=!0){var v=b[_0x1d97("0xf1")];v[_0x1d97("0xb8")]==x[_0x1d97("0xb8")]?(c=_[_0x1d97("0x3ef")](v[_0x1d97("0x3ee")],v[_0x1d97("0x238")],v[_0x1d97("0x237")]),o.applyMatrix(c)):x[_0x1d97("0xba")][_0x1d97("0xb8")]==v[_0x1d97("0xb8")]&&v}}catch(x){f=!0,h=x}finally{try{!u&&g.return&&g[_0x1d97("0x2af")]()}finally{if(f)throw h}}if(d[_0x1d97("0x0")]>0)for(var p in d){var m=d[p],A=_[_0x1d97("0x3ef")](m.translation,m.rotation,m[_0x1d97("0x237")]);o.applyMatrix(A)}var C=new(THREE[_0x1d97("0x150")]);C[_0x1d97("0xb6")][_0x1d97("0x3e6")](l),C[_0x1d97("0x342")](),o[_0x1d97("0x3f0")](C[_0x1d97("0x24b")][_0x1d97("0xdb")]()),s[_0x1d97("0x3eb")][_0x1d97("0x1")](o),s.material=x[_0x1d97("0xa7")],s[_0x1d97("0x3f1")]=x[_0x1d97("0xb8")];break}}}catch(x){a=!0,i=x}finally{try{!e&&r[_0x1d97("0x2af")]&&r[_0x1d97("0x2af")]()}finally{if(a)throw i}}}}));var u=esmap[_0x1d97("0x33")][_0x1d97("0x34")],f=!0,h=!1,b=void 0;try{for(var g,v=(0,t[_0x1d97("0x1c")])(this.materials);!(f=(g=v[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);f=!0){var p=g.value;if(p[_0x1d97("0x3eb")][_0x1d97("0x0")]>0){p.material[_0x1d97("0x38")]&&u[_0x1d97("0x35")][_0x1d97("0x3f2")]&&this.checkGeoIsHaveUv(p[_0x1d97("0x3eb")],d[0][_0x1d97("0x223")]);var m=this[_0x1d97("0x3f3")](p.geometries,!1,x[_0x1d97("0xb1")][_0x1d97("0xb2")][_0x1d97("0x3f5")][0][_0x1d97("0x3fd")]),A=this[_0x1d97("0x3f4")](m,d),C=this[_0x1d97("0x3f3")](A,!0,x[_0x1d97("0xb1")][_0x1d97("0xb2")][_0x1d97("0x3f5")][0][_0x1d97("0x3fd")]);"OPAQUE"==p[_0x1d97("0x3f6")]&&(p[_0x1d97("0xa7")][_0x1d97("0x115")]=THREE[_0x1d97("0x111")]),p[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0x3f8")]=!0;var I=p[_0x1d97("0xa7")][_0x1d97("0xdb")]();u[_0x1d97("0x35")][_0x1d97("0x3f9")]&&u[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x224")]?(u[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x224")][_0x1d97("0x100")]?I.color=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](u[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x224")].color):I[_0x1d97("0x100")]=u[_0x1d97("0xf6")].selectModelMat.color[_0x1d97("0xdb")](),I.emissive=I[_0x1d97("0x100")][_0x1d97("0xdb")](),I[_0x1d97("0x2d0")]=null==u[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x224")][_0x1d97("0x3fa")]?.3:u[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x224")].intensity):(I[_0x1d97("0x2cc")]=u[_0x1d97("0xf6")][_0x1d97("0x3fe")][_0x1d97("0x100")].clone(),I[_0x1d97("0x2d0")]=.3);var y=p[_0x1d97("0xa7")][_0x1d97("0xdb")]();y.visible=!1;var E=new THREE.Mesh(C,[p[_0x1d97("0xa7")],I,y]);E[_0x1d97("0xb8")]=p[_0x1d97("0x3f1")],E[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],e[_0x1d97("0xdc")](E)}else console[_0x1d97("0x3fb")](_0x1d97("0x3ff")+p[_0x1d97("0xb8")]+_0x1d97("0x3fc"))}}catch(x){h=!0,b=x}finally{try{!f&&v.return&&v[_0x1d97("0x2af")]()}finally{if(h)throw b}}return e}},{key:_0x1d97("0x400"),value:function(x,d){var _=[],e=!0,a=!1,i=void 0;try{for(var n,r=(0,t[_0x1d97("0x1c")])(x);!(e=(n=r.next())[_0x1d97("0x3e8")]);e=!0){var s=n[_0x1d97("0xf1")];s.attributes.uv||_[_0x1d97("0x1")](s[_0x1d97("0x3ec")])}}catch(x){a=!0,i=x}finally{try{!e&&r[_0x1d97("0x2af")]&&r[_0x1d97("0x2af")]()}finally{if(a)throw i}}_[_0x1d97("0x0")]>0&&console.info(d+_0x1d97("0x401"),_)}},{key:_0x1d97("0x402"),value:function(x,d){return!(Math[_0x1d97("0x253")](x.x)>d||Math[_0x1d97("0x253")](x.y)>d||Math[_0x1d97("0x253")](x.z)>d)}},{key:_0x1d97("0x3f4"),value:function(x,d){var _=[],e=!0,a=!1,i=void 0;try{for(var n,r=(0,t[_0x1d97("0x1c")])(d);!(e=(n=r.next())[_0x1d97("0x3e8")]);e=!0){var s=n.value;s[_0x1d97("0x238")]||(s.rotation={x:0,y:0,z:0});var o=this[_0x1d97("0x3e4")]({x:s[_0x1d97("0xb6")].x,y:s[_0x1d97("0xb6")].y,z:s[_0x1d97("0xb6")].z},{x:s[_0x1d97("0x238")].x,y:s[_0x1d97("0x238")].y,z:s[_0x1d97("0x238")].z},{x:s[_0x1d97("0x237")].x,y:s[_0x1d97("0x237")].y,z:s[_0x1d97("0x237")].z}),c=x[_0x1d97("0xdb")]();c.name=s.id,c[_0x1d97("0x3f0")](o),_[_0x1d97("0x1")](c)}}catch(x){a=!0,i=x}finally{try{!e&&r[_0x1d97("0x2af")]&&r[_0x1d97("0x2af")]()}finally{if(a)throw i}}return x[_0x1d97("0xa6")](),x=null,_}},{key:"mergeGeometry",value:function(x,d,_){var e=new(THREE[_0x1d97("0x19b")]),a=[],i=[],r=[],s=[],o=[],c=[],l=0,u=[],f=!1,h=!1,b=!1,g=!1,v=0,p=!0,m=!1,A=void 0;try{for(var C,I=(0,t[_0x1d97("0x1c")])(x);!(p=(C=I[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);p=!0){var y=C[_0x1d97("0xf1")],E=y[_0x1d97("0x11e")].pos;E&&(0!=E.x||0!=E.y||E.z);var w=y[_0x1d97("0x19c")]("uv"),T=y.getAttribute("uv2"),k=y.getAttribute(_0x1d97("0x100")),S=y[_0x1d97("0x2eb")]?y[_0x1d97("0x2eb")]:null;if(w&&(a[_0x1d97("0x1")](w),f=!0),T&&(s[_0x1d97("0x1")](T),h=!0),k&&(o[_0x1d97("0x1")](k),b=!0),S){for(var M=0;M<S[_0x1d97("0xb7")];++M)c[_0x1d97("0x1")](S[_0x1d97("0x403")](M)+v);g=!0}i.push(y[_0x1d97("0x19c")](_0x1d97("0xb6"))),r[_0x1d97("0x1")](y[_0x1d97("0x19c")]("normal"));var R=y[_0x1d97("0xb5")].position[_0x1d97("0xb7")],L=void 0;S&&(L=S[_0x1d97("0xb7")]),d&&u.push({id:y.name,start:l,count:S?L:R,materialIndex:0}),l+=L,v+=R}}catch(x){m=!0,A=x}finally{try{!p&&I.return&&I[_0x1d97("0x2af")]()}finally{if(m)throw A}}var H=new Float32Array,D=new Float32Array,P=new Float32Array,O=new Float32Array,B=new Float32Array;new Uint16Array;f&&(H=n[_0x1d97("0x19e")].mergeBufferAttributes(a).array),h&&(D=n.BufferGeometryUtils[_0x1d97("0x404")](s)[_0x1d97("0x19d")]),b&&(B=n[_0x1d97("0x19e")][_0x1d97("0x404")](o).array),P=n[_0x1d97("0x19e")][_0x1d97("0x404")](i)[_0x1d97("0x19d")],O=n[_0x1d97("0x19e")][_0x1d97("0x404")](r).array,e[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(P,3)),e[_0x1d97("0x1a0")]("normal",new(THREE[_0x1d97("0x1a1")])(O,3)),f&&e.addAttribute("uv",new(THREE[_0x1d97("0x1a1")])(H,2)),h&&e[_0x1d97("0x1a0")](_0x1d97("0x405"),new(THREE[_0x1d97("0x1a1")])(D,2)),b&&e[_0x1d97("0x1a0")]("color",new(THREE[_0x1d97("0x1a1")])(B,3)),g?(e[_0x1d97("0x406")](c),e[_0x1d97("0x1a2")](0,e[_0x1d97("0x2eb")][_0x1d97("0xb7")],0)):e[_0x1d97("0x1a2")](0,e[_0x1d97("0xb5")][_0x1d97("0xb6")].count,0),d&&(e[_0x1d97("0x11e")][_0x1d97("0x407")]=u);var N=!0,F=!1,z=void 0;try{for(var j,U=(0,t[_0x1d97("0x1c")])(x);!(N=(j=U[_0x1d97("0x2a8")]()).done);N=!0){var X=j.value;X.dispose(),X=null}}catch(x){F=!0,z=x}finally{try{!N&&U[_0x1d97("0x2af")]&&U[_0x1d97("0x2af")]()}finally{if(F)throw z}}return x[_0x1d97("0x0")]=0,a[_0x1d97("0x0")]=0,i.length=0,r[_0x1d97("0x0")]=0,s[_0x1d97("0x0")]=0,o.length=0,c.length=0,e}},{key:_0x1d97("0x408"),value:function(x,d,_){if(d[_0x1d97("0xa5")][_0x1d97("0x11e")].groupData){if(d[_0x1d97("0xba")][_0x1d97("0x11e")][_0x1d97("0x409")])return;var e=this[_0x1d97("0x40a")](x,d[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")],d[_0x1d97("0xa5")][_0x1d97("0x2eb")]);e||console.info(_0x1d97("0x40b")),this[_0x1d97("0x40c")](d,e.id,!0),this[_0x1d97("0x3e3")]={mesh:d,id:e.id,lastSelectMatIndex:_}}}},{key:_0x1d97("0x40d"),value:function(x,d,_,e,a){var i=d,n=[],r=function(x){if(!x.userData[_0x1d97("0x40e")]){var d=_;!1===_?(d=x[_0x1d97("0x11e")].opacity,x[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x293"))&&(x[_0x1d97("0xff")]=x.userData[_0x1d97("0x293")])):(x.userData.hasOwnProperty(_0x1d97("0x293"))||(x[_0x1d97("0x11e")][_0x1d97("0x293")]=x[_0x1d97("0xff")],x[_0x1d97("0x11e")][_0x1d97("0xe2")]=x.opacity),x.transparent=!0),x[_0x1d97("0x11e")][_0x1d97("0x40e")]=!0,n[_0x1d97("0x1")](x),x[_0x1d97("0xe2")]=d}};if(i&&i[_0x1d97("0xa4")][_0x1d97("0x0")]>0){var s=!0,o=!1,c=void 0;try{for(var l,u=(0,t[_0x1d97("0x1c")])(i.children);!(s=(l=u.next()).done);s=!0){var f=l.value,h=!0,b=!1,g=void 0;try{for(var v,p=(0,t[_0x1d97("0x1c")])(f[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")]);!(h=(v=p[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);h=!0){var m=v[_0x1d97("0xf1")];if(x===m.id){var A=0;if(0!=_){var C=f[_0x1d97("0xa7")][0][_0x1d97("0xdb")]();C[_0x1d97("0xf0")]||(C[_0x1d97("0xf0")]=!0),f.material[_0x1d97("0x1")](C),A=f.material[_0x1d97("0x0")]-1,f[_0x1d97("0xa5")].userData.matRecord||(f[_0x1d97("0xa5")][_0x1d97("0x11e")].matRecord={}),f.geometry[_0x1d97("0x11e")].matRecord[x]=A,r(C)}else{if(f[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x40f")]){var I=f[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x40f")][x];null!=I&&f[_0x1d97("0xa7")][I]&&(f[_0x1d97("0xa7")][I][_0x1d97("0xa6")](),f[_0x1d97("0xa7")][I]=null)}A=0}var y=f[_0x1d97("0xa5")][_0x1d97("0x410")],E=this.splitGroup(m.start,m[_0x1d97("0x1c1")]+m[_0x1d97("0xb7")],A,y);f.geometry[_0x1d97("0x411")]();var w=!0,T=!1,k=void 0;try{for(var S,M=(0,t[_0x1d97("0x1c")])(E);!(w=(S=M[_0x1d97("0x2a8")]()).done);w=!0){var R=S[_0x1d97("0xf1")];f.geometry.addGroup(R.start,R.count,R[_0x1d97("0x412")])}}catch(x){T=!0,k=x}finally{try{!w&&M[_0x1d97("0x2af")]&&M[_0x1d97("0x2af")]()}finally{if(T)throw k}}break}}}catch(x){b=!0,g=x}finally{try{!h&&p[_0x1d97("0x2af")]&&p.return()}finally{if(b)throw g}}}}catch(x){o=!0,c=x}finally{try{!s&&u[_0x1d97("0x2af")]&&u.return()}finally{if(o)throw c}}}for(var L in n){n[L][_0x1d97("0x11e")][_0x1d97("0x40e")]=!1}d[_0x1d97("0x11e")].islocked=!1}},{key:_0x1d97("0x413"),value:function(x,d,_,e){var a=d;if(a&&a.children[_0x1d97("0x0")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,t[_0x1d97("0x1c")])(a[_0x1d97("0xa4")]);!(i=(s=o[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);i=!0){var c=s.value,l=!0,u=!1,f=void 0;try{for(var h,b=(0,t.default)(c[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")]);!(l=(h=b[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);l=!0){var g=h[_0x1d97("0xf1")];if(x===g.id){var v=0;if(_){var p=c.material[0][_0x1d97("0xdb")]();p[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](_)),p[_0x1d97("0x2cc")]=p[_0x1d97("0x100")][_0x1d97("0xdb")](),p.emissiveIntensity=e,c[_0x1d97("0xa7")][_0x1d97("0x1")](p),v=c[_0x1d97("0xa7")][_0x1d97("0x0")]-1}else v=0,c[_0x1d97("0xa7")]=c.material[_0x1d97("0xca")](0,3);var m=c.geometry[_0x1d97("0x410")],A=this[_0x1d97("0x414")](g.start,g[_0x1d97("0x1c1")]+g[_0x1d97("0xb7")],v,m);c.geometry[_0x1d97("0x411")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,t[_0x1d97("0x1c")])(A);!(C=(E=w[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);C=!0){var T=E.value;c[_0x1d97("0xa5")][_0x1d97("0x1a2")](T[_0x1d97("0x1c1")],T[_0x1d97("0xb7")],T[_0x1d97("0x412")])}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x1d97("0x2af")]&&w[_0x1d97("0x2af")]()}finally{if(I)throw y}}break}}}catch(x){u=!0,f=x}finally{try{!l&&b[_0x1d97("0x2af")]&&b[_0x1d97("0x2af")]()}finally{if(u)throw f}}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x1d97("0x2af")]&&o[_0x1d97("0x2af")]()}finally{if(n)throw r}}}}},{key:_0x1d97("0x415"),value:function(){this[_0x1d97("0x3e3")]&&(this[_0x1d97("0x40c")](this.lastSelectNode[_0x1d97("0x416")],this[_0x1d97("0x3e3")].id,!1,this[_0x1d97("0x3e3")][_0x1d97("0x417")]),this[_0x1d97("0x3e3")]=null)}},{key:"getMatIndexByFaceIndex",value:function(x,d){var _=!0,e=!1,a=void 0;try{for(var i,n=(0,t[_0x1d97("0x1c")])(d);!(_=(i=n[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);_=!0){var r=i.value;if(x>=r[_0x1d97("0x1c1")]&&x<r[_0x1d97("0x1c1")]+r[_0x1d97("0xb7")])return r[_0x1d97("0x412")]}}catch(x){e=!0,a=x}finally{try{!_&&n.return&&n[_0x1d97("0x2af")]()}finally{if(e)throw a}}return 0}},{key:"setTargetMeshVisible",value:function(x,d,_){var e=!!x[_0x1d97("0xa5")][_0x1d97("0x2eb")],a=!0,i=!1,n=void 0;try{for(var r,s=(0,t.default)(x[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")]);!(a=(r=s[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);a=!0){var o=r[_0x1d97("0xf1")];if(d===o.id){var c=0;c=e?x[_0x1d97("0xa5")][_0x1d97("0x2eb")][_0x1d97("0xb7")]:x.geometry[_0x1d97("0xb5")][_0x1d97("0xb6")].count;var l=x[_0x1d97("0xa5")][_0x1d97("0x410")];0==l[_0x1d97("0x0")]&&(l=[{start:0,count:c,materialIndex:2}]);var u=this.splitGroup(o[_0x1d97("0x1c1")],o[_0x1d97("0x1c1")]+o[_0x1d97("0xb7")],_?0:2,l);x[_0x1d97("0xa5")][_0x1d97("0x411")]();var f=!0,h=!1,b=void 0;try{for(var g,v=(0,t[_0x1d97("0x1c")])(u);!(f=(g=v.next())[_0x1d97("0x3e8")]);f=!0){var p=g[_0x1d97("0xf1")];x[_0x1d97("0xa5")][_0x1d97("0x1a2")](p[_0x1d97("0x1c1")],p[_0x1d97("0xb7")],p[_0x1d97("0x412")])}}catch(x){h=!0,b=x}finally{try{!f&&v.return&&v[_0x1d97("0x2af")]()}finally{if(h)throw b}}break}}}catch(x){i=!0,n=x}finally{try{!a&&s[_0x1d97("0x2af")]&&s[_0x1d97("0x2af")]()}finally{if(i)throw n}}}},{key:_0x1d97("0x40c"),value:function(x,d,_){var e=arguments[_0x1d97("0x0")]>3&&void 0!==arguments[3]?arguments[3]:0,a=x[_0x1d97("0xba")];if(a&&a[_0x1d97("0xa4")][_0x1d97("0x0")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,t[_0x1d97("0x1c")])(a.children);!(i=(s=o[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);i=!0){var c=s[_0x1d97("0xf1")],l=!!c[_0x1d97("0xa5")][_0x1d97("0x2eb")];if(!(c[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x418"))>-1)){var u=!0,f=!1,h=void 0;try{for(var b,g=(0,t[_0x1d97("0x1c")])(c[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")]);!(u=(b=g.next()).done);u=!0){var v=b.value;if(d===v.id){var p=0;p=l?c.geometry.index[_0x1d97("0xb7")]:c[_0x1d97("0xa5")].attributes[_0x1d97("0xb6")][_0x1d97("0xb7")];var m=this.splitGroup(v[_0x1d97("0x1c1")],v[_0x1d97("0x1c1")]+v[_0x1d97("0xb7")],_?1:e,[{start:0,count:p,materialIndex:0}]);c[_0x1d97("0xa5")][_0x1d97("0x411")]();var A=!0,C=!1,I=void 0;try{for(var y,E=(0,t.default)(m);!(A=(y=E[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);A=!0){var w=y[_0x1d97("0xf1")];c[_0x1d97("0xa5")][_0x1d97("0x1a2")](w[_0x1d97("0x1c1")],w[_0x1d97("0xb7")],w[_0x1d97("0x412")])}}catch(x){C=!0,I=x}finally{try{!A&&E.return&&E[_0x1d97("0x2af")]()}finally{if(C)throw I}}break}}}catch(x){f=!0,h=x}finally{try{!u&&g[_0x1d97("0x2af")]&&g[_0x1d97("0x2af")]()}finally{if(f)throw h}}}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x1d97("0x2af")]&&o.return()}finally{if(n)throw r}}}}},{key:_0x1d97("0x40a"),value:function(x,d){var _=!0,e=!1,a=void 0;try{for(var i,n=(0,t[_0x1d97("0x1c")])(d);!(_=(i=n[_0x1d97("0x2a8")]()).done);_=!0){var r=i[_0x1d97("0xf1")],s=3*x;if(s>=r[_0x1d97("0x1c1")]&&s<r[_0x1d97("0x1c1")]+r.count)return r}}catch(x){e=!0,a=x}finally{try{!_&&n[_0x1d97("0x2af")]&&n[_0x1d97("0x2af")]()}finally{if(e)throw a}}}},{key:_0x1d97("0x419"),value:function(){this[_0x1d97("0x3e1")][_0x1d97("0x0")]=0,this[_0x1d97("0x3e2")][_0x1d97("0x0")]=0}},{key:_0x1d97("0x41a"),value:function(x,d,_){if(x&&x.children.length>0){var e=!0,a=!1,i=void 0;try{for(var n,r=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xa4")]);!(e=(n=r[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);e=!0){var s=n[_0x1d97("0xf1")];if(!s[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")])return!1;var o=!0,c=!1,l=void 0;try{for(var u,f=(0,t.default)(s[_0x1d97("0xa5")][_0x1d97("0x11e")].groupData);!(o=(u=f[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);o=!0){var h=u.value,b=!0,g=!1,v=void 0;try{for(var p,m=(0,t[_0x1d97("0x1c")])(d);!(b=(p=m[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);b=!0){if(p[_0x1d97("0xf1")]===h.id){var A=this[_0x1d97("0x414")](h.start,h[_0x1d97("0x1c1")]+h.count,_?0:2,s[_0x1d97("0xa5")][_0x1d97("0x410")]);s[_0x1d97("0xa5")].clearGroups();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,t[_0x1d97("0x1c")])(A);!(C=(E=w[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);C=!0){var T=E.value;s[_0x1d97("0xa5")].addGroup(T.start,T[_0x1d97("0xb7")],T[_0x1d97("0x412")])}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x1d97("0x2af")]&&w[_0x1d97("0x2af")]()}finally{if(I)throw y}}}}}catch(x){g=!0,v=x}finally{try{!b&&m[_0x1d97("0x2af")]&&m[_0x1d97("0x2af")]()}finally{if(g)throw v}}}}catch(x){c=!0,l=x}finally{try{!o&&f[_0x1d97("0x2af")]&&f[_0x1d97("0x2af")]()}finally{if(c)throw l}}}}catch(x){a=!0,i=x}finally{try{!e&&r[_0x1d97("0x2af")]&&r.return()}finally{if(a)throw i}}}}},{key:"isModelVisible",value:function(x,d){if(x&&x[_0x1d97("0xa4")].length>0){var _=!0,e=!1,a=void 0;try{for(var i,n=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xa4")]);!(_=(i=n[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);_=!0){var r=i[_0x1d97("0xf1")];if(!r[_0x1d97("0xa5")][_0x1d97("0x11e")].groupData)return!1;var s=!0,o=!1,c=void 0;try{for(var l,u=(0,t[_0x1d97("0x1c")])(r.geometry.userData[_0x1d97("0x407")]);!(s=(l=u[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);s=!0){var f=l[_0x1d97("0xf1")];if(d===f.id)for(var h=f[_0x1d97("0x1c1")],b=0;b<r.geometry.groups[_0x1d97("0x0")];b++)if(r[_0x1d97("0xa5")][_0x1d97("0x410")][b].start+r[_0x1d97("0xa5")][_0x1d97("0x410")][b][_0x1d97("0xb7")]>h)return 0==r[_0x1d97("0xa5")][_0x1d97("0x410")][b][_0x1d97("0x412")]}}catch(x){o=!0,c=x}finally{try{!s&&u[_0x1d97("0x2af")]&&u.return()}finally{if(o)throw c}}}}catch(x){e=!0,a=x}finally{try{!_&&n.return&&n.return()}finally{if(e)throw a}}}}},{key:_0x1d97("0x414"),value:function(x,d,_,e,t){var a=this,i=[];e[_0x1d97("0x1d")]((function(x){i[_0x1d97("0x1")]({start:x.start,count:x[_0x1d97("0xb7")],materialIndex:x[_0x1d97("0x412")]}),t&&a[_0x1d97("0x41b")].push({start:x.start,end:x[_0x1d97("0x1c1")]+x.count,materialIndex:x[_0x1d97("0x412")]})}));for(var n,r=[],s=0;s<i[_0x1d97("0x0")];s++){var o=i[s],c=o.start+o[_0x1d97("0xb7")],l=x>=o[_0x1d97("0x1c1")]&&x<c,u=d<=c&&d>o.start;(l||u)&&o.materialIndex!=_?l&&u?(t&&(a[_0x1d97("0x417")]=o[_0x1d97("0x412")]),x>o[_0x1d97("0x1c1")]&&r[_0x1d97("0x1")]({start:o[_0x1d97("0x1c1")],count:x-o[_0x1d97("0x1c1")],materialIndex:o.materialIndex}),r.push({start:x,count:d-x,materialIndex:_}),d<c&&r[_0x1d97("0x1")]({start:d,count:c-d,materialIndex:o[_0x1d97("0x412")]})):l?(t&&(a.lastSelectMatIndex=o.materialIndex),x>o[_0x1d97("0x1c1")]&&r[_0x1d97("0x1")]({start:o.start,count:x-o.start,materialIndex:o[_0x1d97("0x412")]}),r[_0x1d97("0x1")]({start:x,count:c-x,materialIndex:_})):u&&(d<c&&r.push({start:d,count:c-d,materialIndex:o[_0x1d97("0x412")]}),r.push({start:o[_0x1d97("0x1c1")],count:d-o[_0x1d97("0x1c1")],materialIndex:_})):(x<=o[_0x1d97("0x1c1")]&&o[_0x1d97("0x1c1")]+o.count<=d&&(o.materialIndex=_),r[_0x1d97("0x1")](o))}r[_0x1d97("0x41c")]((n="start",function(x,d){return x[n]-d[n]}));for(var f=0;f<r[_0x1d97("0x0")]-1;f++)r[f][_0x1d97("0x412")]==r[f+1][_0x1d97("0x412")]&&(r[f][_0x1d97("0xb7")]+=r[f+1].count,r.splice(f+1,1),f--);return r}}]),x}();d.default=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=n(_(2)),t=n(_(0)),a=n(_(1)),i=_(139);function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(d,_,e){(0,t.default)(this,x),this[_0x1d97("0x41d")]=e,this[_0x1d97("0x41e")]=null,this[_0x1d97("0x41f")]=d,this[_0x1d97("0x420")]=_,this.w_,this.h_,this[_0x1d97("0x421")]=8,this[_0x1d97("0x422")]=15}return(0,a[_0x1d97("0x1c")])(x,[{key:"sl",value:function(x){for(var d=x[_0x1d97("0x0")],_=0,e=0;e<d;e++)_+=x[e][_0x1d97("0x2a")]();return parseInt(_,16)}},{key:_0x1d97("0x423"),value:function(x,d){if(esmap.ESMap.instance[_0x1d97("0x2aa")][_0x1d97("0x424")](_0x1d97("0x425"))||(this[_0x1d97("0x41e")][_0x1d97("0xf0")]=!1,this[_0x1d97("0x41e")].userData.visible=!1),null!=this[_0x1d97("0x41e")]){var _=x/2,e=d/2;this[_0x1d97("0x41e")].position[_0x1d97("0x11b")](_-this.w_/2-this[_0x1d97("0x421")],-e+this.h_/2+this[_0x1d97("0x422")],1),this[_0x1d97("0x41e")][_0x1d97("0x11e")][_0x1d97("0xf0")]?this[_0x1d97("0x41e")][_0x1d97("0xf0")]=!0:this[_0x1d97("0x41e")][_0x1d97("0xf0")]=!1}this[_0x1d97("0x41f")]&&null==this[_0x1d97("0x41e")]&&(this[_0x1d97("0x32")](),this[_0x1d97("0x41e")][_0x1d97("0xf0")]=!0)}},{key:_0x1d97("0x426"),value:function(x,d,_,e){if(null!=this.sprite_2){var t=x/2,a=d/2;this[_0x1d97("0x427")][_0x1d97("0xb6")][_0x1d97("0x11b")](t-this.w_/2-this[_0x1d97("0x421")]+_,-a+this.h_/2+this[_0x1d97("0x422")]+e,1)}this.visible_&&null==this.sprite_2&&(this.initUserLogo(),this[_0x1d97("0x427")][_0x1d97("0xf0")]=!0)}},{key:"init",value:function(){if(null==this[_0x1d97("0x41e")]){var x=document[_0x1d97("0x21")](_0x1d97("0x428"));x.src=i[_0x1d97("0x429")];var d=new THREE.Texture(x),_=esmap[_0x1d97("0x75")][_0x1d97("0x42a")]()[_0x1d97("0x219")];this.w_=_?96:60,this.h_=_?25:15,d.minFilter=THREE.LinearFilter,d[_0x1d97("0x13b")]=!0,this[_0x1d97("0x41e")]=new(THREE[_0x1d97("0x29f")])(new(THREE[_0x1d97("0x42b")])({map:d})),this[_0x1d97("0x41e")].userData[_0x1d97("0xf0")]=20,this[_0x1d97("0x41e")][_0x1d97("0x237")][_0x1d97("0x11b")](this.w_,this.h_,1),this.sceneOrtho_[_0x1d97("0xdc")](this[_0x1d97("0x41e")]);var e=this.options_[_0x1d97("0x42c")],t=e.clientWidth-e[_0x1d97("0x42d")],a=e[_0x1d97("0x42e")]+e[_0x1d97("0x42f")];this[_0x1d97("0x423")](t,a)}}},{key:_0x1d97("0x430"),value:function(){var x=1&esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x2aa")][_0x1d97("0x431")];if(window[_0x1d97("0x432")]&&window[_0x1d97("0x433")]&&x){var d=document[_0x1d97("0x21")](_0x1d97("0x428")),_=userLogoBase64[_0x1d97("0x28")](","),t=this.sl(_[2]),a=_[0];if(1==a)if(esmap[_0x1d97("0x75")].encode64(a+t+window[_0x1d97("0x432")]+"esmap")!=_[1])return;d[_0x1d97("0x39e")]=_0x1d97("0x434")+_[2];var i=new THREE.Texture(d),n=esmap[_0x1d97("0x75")][_0x1d97("0x42a")]().isPC,r={w_:this.w_,h_:this.h_,x:0,y:0};window[_0x1d97("0x435")]&&(0,e[_0x1d97("0x1c")])(r,window[_0x1d97("0x435")]),window[_0x1d97("0x435")]&&(r.w_=n?r.w_:.7*r.w_,r.h_=n?r.h_:.7*r.h_,r.x=n?r.x:.7*r.x,r.y=n?r.y:.7*r.y),i.minFilter=THREE.LinearFilter,i[_0x1d97("0x13b")]=!0,this[_0x1d97("0x427")]=new(THREE[_0x1d97("0x29f")])(new(THREE[_0x1d97("0x42b")])({map:i})),this.sprite_2[_0x1d97("0x237")].set(r.w_,r.h_,1),this.sprite_2[_0x1d97("0xb8")]=_0x1d97("0x436"),this[_0x1d97("0x420")][_0x1d97("0xdc")](this.sprite_2);var s=this[_0x1d97("0x41d")][_0x1d97("0x42c")],o=s[_0x1d97("0x3bb")],c=s[_0x1d97("0x42e")]+20;this.updateHUD2(n?o-180:o-120,c-25,r.x,r.y)}}},{key:"initWaterMark",value:function(){}},{key:_0x1d97("0xf0"),set:function(x){x!=this[_0x1d97("0x41f")]&&(this[_0x1d97("0x41f")]=x,x?(this[_0x1d97("0x32")](),this.sprite_[_0x1d97("0xf0")]=!0):null!=this[_0x1d97("0x41e")]&&(this.sprite_[_0x1d97("0xf0")]=!1))},get:function(){return this[_0x1d97("0x41f")]}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=_0x1d97("0x437");d[_0x1d97("0x429")]=e},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x438")],this.holes_}return(0,t.default)(x,[{key:_0x1d97("0x439"),value:function(x){if(this[_0x1d97("0x438")]=[],this[_0x1d97("0x43a")]=[],x[_0x1d97("0xd7")]("((")>=0)for(var d=x[_0x1d97("0x198")](2,x[_0x1d97("0x0")]-2)[_0x1d97("0x28")](/\)\)&&\(\(/),_=0;_<d.length;_++){for(var e=d[_][_0x1d97("0x28")](/,/),t=[],a={},i=0;i<e[_0x1d97("0x0")];i++){var n=e[i][_0x1d97("0x28")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(a=r),i>0&&(r.x=a.x+r.x,r.y=a.y+r.y),t.push(r)}this[_0x1d97("0x438")][_0x1d97("0x1")](t)}return this}},{key:_0x1d97("0x64"),value:function(x){if(this.points_=[],this[_0x1d97("0x43a")]=[],x[_0x1d97("0xd7")]("((")>=0)for(var d=x[_0x1d97("0x198")](2,x.length-2)[_0x1d97("0x28")](/\),\(/),_=0;_<d.length;_++){for(var e=d[_][_0x1d97("0x28")](/,/),t=[],a={},i=0;i<e.length;i++){var n=e[i][_0x1d97("0x28")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(a=r),i>0&&(r.x=a.x+r.x,r.y=a.y+r.y),t.push(r)}0==_?this[_0x1d97("0x438")][_0x1d97("0x1")](t):this[_0x1d97("0x43a")][_0x1d97("0x1")](t)}return this}},{key:_0x1d97("0x43b"),value:function(x,d,_){if(this.points_=[],this.holes_=[],x[_0x1d97("0xd7")](_0x1d97("0x43c"))>=0)for(var e=x[_0x1d97("0x198")](n[_0x1d97("0x43d")],x[_0x1d97("0x0")]-3)[_0x1d97("0x28")](/\),\(/),t=0;t<e.length;t++){var a=e[t][_0x1d97("0x28")](/,/);if(0==t)for(var i=0;i<a[_0x1d97("0x0")];i++){var r=a[i][_0x1d97("0x28")](" "),s={x:-parseFloat(r[0])-d,y:parseFloat(r[1])+_};this[_0x1d97("0x438")][_0x1d97("0x1")](s)}else{var o=[];for(i=0;i<a[_0x1d97("0x0")];i++){r=a[i][_0x1d97("0x28")](" "),s={x:-parseFloat(r[0])-d,y:parseFloat(r[1])+_};o[_0x1d97("0x1")](s)}this[_0x1d97("0x43a")][_0x1d97("0x1")](o)}}else if(x[_0x1d97("0xd7")](_0x1d97("0x43e"))>=0)for(e=x[_0x1d97("0x198")](n[_0x1d97("0x43f")],x.length-3)[_0x1d97("0x28")](/\),\(/),t=0;t<e.length;t++){a=e[t][_0x1d97("0x28")](/,/);if(0==t)for(i=0;i<a[_0x1d97("0x0")];i++){r=a[i].split(" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};this[_0x1d97("0x438")][_0x1d97("0x1")](s)}else{for(o=[],i=0;i<a.length;i++){r=a[i][_0x1d97("0x28")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};o.push(s)}this[_0x1d97("0x43a")].push(o)}}return this}},{key:_0x1d97("0x440"),value:function(){return null!=this[_0x1d97("0x43a")]&&this[_0x1d97("0x43a")].length>0}}]),x}(),n=function x(){(0,e.default)(this,x)};n.GLEN1="MULTIPOLYGON((("[_0x1d97("0x0")],n.CLEN=_0x1d97("0x43e")[_0x1d97("0x0")],n.GData=i,d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";var e=a(_(10)),t=a(_(16));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=_(65),n=i.Reader,r=i[_0x1d97("0x441")],s=i[_0x1d97("0x442")],o=i[_0x1d97("0x443")][_0x1d97("0x1c")]||(i[_0x1d97("0x443")][_0x1d97("0x1c")]={});o[_0x1d97("0x444")]=function(){var x=null,d=null;function _(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d.length;++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return _[_0x1d97("0xf")].v=0,_[_0x1d97("0xf")][_0x1d97("0x445")]=0,_[_0x1d97("0xf")].ltime="",_.prototype[_0x1d97("0x446")]="",_.prototype[_0x1d97("0x170")]=0,_[_0x1d97("0xf")].tid=0,_.prototype[_0x1d97("0xb8")]="",_.prototype.nameEn="",_[_0x1d97("0xf")].adcode="",_.prototype.AS=0,_.prototype[_0x1d97("0x447")]=0,_[_0x1d97("0xf")].AngleY=0,_[_0x1d97("0xf")][_0x1d97("0x448")]=0,_[_0x1d97("0xf")].x=0,_[_0x1d97("0xf")].y=0,_.prototype.z=0,_[_0x1d97("0xf")][_0x1d97("0x449")]=s[_0x1d97("0x44a")]?s[_0x1d97("0x44a")][_0x1d97("0x44b")](0,0,!1):0,_[_0x1d97("0xf")][_0x1d97("0x44c")]=s.Long?s[_0x1d97("0x44a")].fromBits(0,0,!1):0,_[_0x1d97("0xf")][_0x1d97("0x44d")]=s.Long?s[_0x1d97("0x44a")].fromBits(0,0,!1):0,_[_0x1d97("0xf")][_0x1d97("0x44e")]=s[_0x1d97("0x44a")]?s[_0x1d97("0x44a")][_0x1d97("0x44b")](0,0,!1):0,_[_0x1d97("0xf")][_0x1d97("0x44f")]="",_[_0x1d97("0xf")][_0x1d97("0x450")]="",_[_0x1d97("0xf")][_0x1d97("0x451")]="",_[_0x1d97("0xf")][_0x1d97("0x452")]=0,_[_0x1d97("0xf")].modnums=0,_.prototype[_0x1d97("0x453")]="",_.prototype[_0x1d97("0x454")]="",_[_0x1d97("0xf")][_0x1d97("0x77")]="",_[_0x1d97("0xf")][_0x1d97("0x455")]="",_[_0x1d97("0xf")][_0x1d97("0x456")]="",_[_0x1d97("0xf")][_0x1d97("0x457")]="",_[_0x1d97("0xf")].o1=0,_[_0x1d97("0xf")].o2=0,_.prototype.ul=0,_[_0x1d97("0xf")][_0x1d97("0x458")]="",_.prototype.other2="",_.prototype.l1=0,_[_0x1d97("0xf")].l2=0,_.prototype.l3=0,_[_0x1d97("0xf")].l4=0,_[_0x1d97("0xf")][_0x1d97("0x459")]="",_.prototype.eid="",_[_0x1d97("0xf")].bidlist="",_[_0x1d97("0xf")].fs=0,_.create=function(x){return new _(x)},_.encode=function(x,d){return d||(d=r[_0x1d97("0xd")]()),null!=x.v&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"v")&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x.v),null!=x.mtime&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x445"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x[_0x1d97("0x445")]),null!=x[_0x1d97("0x45c")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x45c"))&&d[_0x1d97("0x45a")](26).string(x[_0x1d97("0x45c")]),null!=x[_0x1d97("0x446")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x446"))&&d.uint32(34).string(x[_0x1d97("0x446")]),null!=x._id&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x170"))&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0x40")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x40"))&&d[_0x1d97("0x45a")](48)[_0x1d97("0x45b")](x[_0x1d97("0x40")]),null!=x[_0x1d97("0xb8")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0xb8"))&&d[_0x1d97("0x45a")](58).string(x[_0x1d97("0xb8")]),null!=x[_0x1d97("0x45d")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x45d"))&&d[_0x1d97("0x45a")](66).string(x[_0x1d97("0x45d")]),null!=x[_0x1d97("0x45e")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x45e"))&&d.uint32(74)[_0x1d97("0xe")](x[_0x1d97("0x45e")]),null!=x.AS&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"AS")&&d[_0x1d97("0x45a")](81)[_0x1d97("0x45f")](x.AS),null!=x[_0x1d97("0x447")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x447"))&&d[_0x1d97("0x45a")](89)[_0x1d97("0x45f")](x.AngleX),null!=x.AngleY&&Object.hasOwnProperty.call(x,"AngleY")&&d[_0x1d97("0x45a")](97)[_0x1d97("0x45f")](x[_0x1d97("0x460")]),null!=x[_0x1d97("0x448")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"AngleZ")&&d[_0x1d97("0x45a")](105)[_0x1d97("0x45f")](x[_0x1d97("0x448")]),null!=x.x&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"x")&&d[_0x1d97("0x45a")](113).double(x.x),null!=x.y&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"y")&&d[_0x1d97("0x45a")](121)[_0x1d97("0x45f")](x.y),null!=x.z&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"z")&&d.uint32(129)[_0x1d97("0x45f")](x.z),null!=x[_0x1d97("0x449")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x449"))&&d[_0x1d97("0x45a")](136)[_0x1d97("0x461")](x[_0x1d97("0x449")]),null!=x[_0x1d97("0x44c")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x44c"))&&d[_0x1d97("0x45a")](144).int64(x[_0x1d97("0x44c")]),null!=x[_0x1d97("0x44d")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x44d"))&&d.uint32(152)[_0x1d97("0x461")](x[_0x1d97("0x44d")]),null!=x.maxY&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x44e"))&&d[_0x1d97("0x45a")](160)[_0x1d97("0x461")](x.maxY),null!=x.offsetbid&&Object[_0x1d97("0x2")].call(x,"offsetbid")&&d[_0x1d97("0x45a")](170)[_0x1d97("0xe")](x[_0x1d97("0x44f")]),null!=x[_0x1d97("0x450")]&&Object.hasOwnProperty[_0x1d97("0x3")](x,_0x1d97("0x450"))&&d[_0x1d97("0x45a")](178).string(x[_0x1d97("0x450")]),null!=x[_0x1d97("0x451")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x451"))&&d[_0x1d97("0x45a")](186)[_0x1d97("0xe")](x[_0x1d97("0x451")]),null!=x[_0x1d97("0x452")]&&Object[_0x1d97("0x2")].call(x,"bidnums")&&d[_0x1d97("0x45a")](192)[_0x1d97("0x45b")](x[_0x1d97("0x452")]),null!=x[_0x1d97("0x462")]&&Object.hasOwnProperty[_0x1d97("0x3")](x,"modnums")&&d[_0x1d97("0x45a")](200)[_0x1d97("0x45b")](x.modnums),null!=x.Remark&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x453"))&&d[_0x1d97("0x45a")](210).string(x[_0x1d97("0x453")]),null!=x[_0x1d97("0x454")]&&Object.hasOwnProperty[_0x1d97("0x3")](x,"styleid")&&d[_0x1d97("0x45a")](218)[_0x1d97("0xe")](x.styleid),null!=x[_0x1d97("0x77")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x77"))&&d[_0x1d97("0x45a")](226)[_0x1d97("0xe")](x.token),null!=x[_0x1d97("0x455")]&&Object.hasOwnProperty.call(x,_0x1d97("0x455"))&&d[_0x1d97("0x45a")](234)[_0x1d97("0xe")](x.cids),null!=x.logotoken&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x456"))&&d[_0x1d97("0x45a")](242)[_0x1d97("0xe")](x[_0x1d97("0x456")]),null!=x.tiletoken&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x457"))&&d.uint32(250)[_0x1d97("0xe")](x.tiletoken),null!=x.o1&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"o1")&&d[_0x1d97("0x45a")](256)[_0x1d97("0x45b")](x.o1),null!=x.o2&&Object.hasOwnProperty[_0x1d97("0x3")](x,"o2")&&d[_0x1d97("0x45a")](264)[_0x1d97("0x45b")](x.o2),null!=x.ul&&Object[_0x1d97("0x2")].call(x,"ul")&&d.uint32(272)[_0x1d97("0x45b")](x.ul),null!=x[_0x1d97("0x458")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x458"))&&d.uint32(282)[_0x1d97("0xe")](x[_0x1d97("0x458")]),null!=x.other2&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,_0x1d97("0x463"))&&d[_0x1d97("0x45a")](290).string(x.other2),null!=x.l1&&Object[_0x1d97("0x2")].call(x,"l1")&&d[_0x1d97("0x45a")](296)[_0x1d97("0x45b")](x.l1),null!=x.l2&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"l2")&&d[_0x1d97("0x45a")](304)[_0x1d97("0x45b")](x.l2),null!=x.l3&&Object[_0x1d97("0x2")].call(x,"l3")&&d.uint32(312)[_0x1d97("0x45b")](x.l3),null!=x.l4&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"l4")&&d[_0x1d97("0x45a")](320)[_0x1d97("0x45b")](x.l4),null!=x[_0x1d97("0x459")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x459"))&&d[_0x1d97("0x45a")](330)[_0x1d97("0xe")](x.alist),null!=x[_0x1d97("0x464")]&&Object[_0x1d97("0x2")][_0x1d97("0x3")](x,"eid")&&d[_0x1d97("0x45a")](338)[_0x1d97("0xe")](x[_0x1d97("0x464")]),null!=x[_0x1d97("0x465")]&&Object[_0x1d97("0x2")].call(x,_0x1d97("0x465"))&&d[_0x1d97("0x45a")](346)[_0x1d97("0xe")](x[_0x1d97("0x465")]),null!=x.fs&&Object.hasOwnProperty.call(x,"fs")&&d[_0x1d97("0x45a")](352).int32(x.fs),d},_[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d).ldelim()},_[_0x1d97("0x45")]=function(_,e){_ instanceof n||(_=n[_0x1d97("0xd")](_));for(var t=void 0===e?_.len:_[_0x1d97("0x3ed")]+e,a=new(o[_0x1d97("0x444")]);_[_0x1d97("0x3ed")]<t;){var i=_.uint32();switch(i>>>3){case 1:a.v=_[_0x1d97("0x45b")]();break;case 2:a[_0x1d97("0x445")]=_[_0x1d97("0x45b")]();break;case 3:a[_0x1d97("0x45c")]=_[_0x1d97("0xe")]();break;case 4:a.Hash=_[_0x1d97("0xe")]();break;case 5:a._id=_[_0x1d97("0x45b")]();break;case 6:a[_0x1d97("0x40")]=_[_0x1d97("0x45b")]();break;case 7:a[_0x1d97("0xb8")]=_[_0x1d97("0xe")]();break;case 8:a.nameEn=_.string();break;case 9:a[_0x1d97("0x45e")]=_.string();break;case 10:a.AS=_.double();break;case 11:a.AngleX=_.double();break;case 12:a[_0x1d97("0x460")]=_.double();break;case 13:a[_0x1d97("0x448")]=_[_0x1d97("0x45f")]();break;case 14:a.x=_[_0x1d97("0x45f")]();break;case 15:a.y=_.double();break;case 16:a.z=_[_0x1d97("0x45f")]();break;case 17:a[_0x1d97("0x449")]=_.int64();break;case 18:a.minY=_[_0x1d97("0x461")]();break;case 19:a[_0x1d97("0x44d")]=_[_0x1d97("0x461")]();break;case 20:a[_0x1d97("0x44e")]=_.int64();break;case 21:a[_0x1d97("0x44f")]=_[_0x1d97("0xe")]();break;case 22:a.offsetroad=_[_0x1d97("0xe")]();break;case 23:a.tileurl=_[_0x1d97("0xe")]();break;case 24:a.bidnums=_[_0x1d97("0x45b")]();break;case 25:a[_0x1d97("0x462")]=_[_0x1d97("0x45b")]();break;case 26:a[_0x1d97("0x453")]=_.string();break;case 27:a.styleid=_[_0x1d97("0xe")]();break;case 28:a[_0x1d97("0x77")]=_[_0x1d97("0xe")]();break;case 29:a[_0x1d97("0x455")]=_[_0x1d97("0xe")]();break;case 30:a.logotoken=_.string();break;case 31:a.tiletoken=_.string();break;case 32:a.o1=_.int32();break;case 33:a.o2=_.int32();break;case 34:a.ul=_.int32();break;case 35:a.other1=_[_0x1d97("0xe")]();break;case 36:a[_0x1d97("0x463")]=_[_0x1d97("0xe")]();break;case 37:a.l1=_[_0x1d97("0x45b")]();break;case 38:a.l2=_[_0x1d97("0x45b")]();break;case 39:a.l3=_[_0x1d97("0x45b")]();break;case 40:a.l4=_[_0x1d97("0x45b")]();break;case 41:a[_0x1d97("0x459")]=_[_0x1d97("0xe")]();break;case 42:a.eid=_[_0x1d97("0xe")]();break;case 43:a[_0x1d97("0x465")]=_[_0x1d97("0xe")]();break;case 44:a.fs=_[_0x1d97("0x45b")]();break;default:_[_0x1d97("0x468")](7&i)}}return d=a[_0x1d97("0x446")]+a[_0x1d97("0x77")]+a[_0x1d97("0x456")]+a.ul+a.o1+a.o2+a[_0x1d97("0x457")],x=a,a},_[_0x1d97("0x469")]=function(){var _=x[_0x1d97("0x446")]+x[_0x1d97("0x77")]+x[_0x1d97("0x456")]+x.ul+x.o1+x.o2+x[_0x1d97("0x457")];return d===_},_[_0x1d97("0x46a")]=function(x){return x instanceof n||(x=new n(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},_[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x.v&&x[_0x1d97("0x2")]("v")&&!s[_0x1d97("0x46d")](x.v)?_0x1d97("0x46e"):null!=x.mtime&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&!s[_0x1d97("0x46d")](x.mtime)?"mtime: integer expected":null!=x[_0x1d97("0x45c")]&&x[_0x1d97("0x2")](_0x1d97("0x45c"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x45c")])?_0x1d97("0x46f"):null!=x.Hash&&x[_0x1d97("0x2")]("Hash")&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x446")])?_0x1d97("0x470"):null!=x._id&&x[_0x1d97("0x2")]("_id")&&!s[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x[_0x1d97("0x40")]&&x[_0x1d97("0x2")](_0x1d97("0x40"))&&!s[_0x1d97("0x46d")](x[_0x1d97("0x40")])?_0x1d97("0x472"):null!=x.name&&x[_0x1d97("0x2")]("name")&&!s[_0x1d97("0x1d1")](x[_0x1d97("0xb8")])?"name: string expected":null!=x[_0x1d97("0x45d")]&&x[_0x1d97("0x2")](_0x1d97("0x45d"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x45d")])?"nameEn: string expected":null!=x[_0x1d97("0x45e")]&&x[_0x1d97("0x2")]("adcode")&&!s.isString(x[_0x1d97("0x45e")])?_0x1d97("0x473"):null!=x.AS&&x[_0x1d97("0x2")]("AS")&&typeof x.AS!==_0x1d97("0x13d")?"AS: number expected":null!=x[_0x1d97("0x447")]&&x[_0x1d97("0x2")](_0x1d97("0x447"))&&typeof x[_0x1d97("0x447")]!==_0x1d97("0x13d")?_0x1d97("0x474"):null!=x[_0x1d97("0x460")]&&x.hasOwnProperty(_0x1d97("0x460"))&&typeof x[_0x1d97("0x460")]!==_0x1d97("0x13d")?_0x1d97("0x475"):null!=x.AngleZ&&x[_0x1d97("0x2")]("AngleZ")&&typeof x[_0x1d97("0x448")]!==_0x1d97("0x13d")?_0x1d97("0x476"):null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x1d97("0x13d")?_0x1d97("0x477"):null!=x.y&&x[_0x1d97("0x2")]("y")&&typeof x.y!==_0x1d97("0x13d")?"y: number expected":null!=x.z&&x.hasOwnProperty("z")&&"number"!=typeof x.z?_0x1d97("0x478"):null!=x.minX&&x[_0x1d97("0x2")](_0x1d97("0x449"))&&!(s[_0x1d97("0x46d")](x[_0x1d97("0x449")])||x.minX&&s[_0x1d97("0x46d")](x[_0x1d97("0x449")].low)&&s.isInteger(x.minX[_0x1d97("0x479")]))?_0x1d97("0x47a"):null!=x[_0x1d97("0x44c")]&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&!(s.isInteger(x[_0x1d97("0x44c")])||x[_0x1d97("0x44c")]&&s.isInteger(x[_0x1d97("0x44c")][_0x1d97("0x47b")])&&s.isInteger(x[_0x1d97("0x44c")][_0x1d97("0x479")]))?_0x1d97("0x47c"):null!=x.maxX&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&!(s[_0x1d97("0x46d")](x[_0x1d97("0x44d")])||x[_0x1d97("0x44d")]&&s.isInteger(x[_0x1d97("0x44d")][_0x1d97("0x47b")])&&s[_0x1d97("0x46d")](x[_0x1d97("0x44d")][_0x1d97("0x479")]))?"maxX: integer|Long expected":null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&!(s[_0x1d97("0x46d")](x[_0x1d97("0x44e")])||x[_0x1d97("0x44e")]&&s.isInteger(x.maxY[_0x1d97("0x47b")])&&s[_0x1d97("0x46d")](x[_0x1d97("0x44e")][_0x1d97("0x479")]))?_0x1d97("0x47d"):null!=x[_0x1d97("0x44f")]&&x.hasOwnProperty(_0x1d97("0x44f"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x44f")])?_0x1d97("0x47e"):null!=x[_0x1d97("0x450")]&&x[_0x1d97("0x2")]("offsetroad")&&!s[_0x1d97("0x1d1")](x.offsetroad)?_0x1d97("0x47f"):null!=x[_0x1d97("0x451")]&&x[_0x1d97("0x2")]("tileurl")&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x451")])?_0x1d97("0x480"):null!=x[_0x1d97("0x452")]&&x[_0x1d97("0x2")](_0x1d97("0x452"))&&!s[_0x1d97("0x46d")](x[_0x1d97("0x452")])?_0x1d97("0x481"):null!=x[_0x1d97("0x462")]&&x[_0x1d97("0x2")](_0x1d97("0x462"))&&!s[_0x1d97("0x46d")](x[_0x1d97("0x462")])?_0x1d97("0x482"):null!=x.Remark&&x[_0x1d97("0x2")]("Remark")&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x453")])?"Remark: string expected":null!=x[_0x1d97("0x454")]&&x[_0x1d97("0x2")](_0x1d97("0x454"))&&!s.isString(x[_0x1d97("0x454")])?_0x1d97("0x483"):null!=x[_0x1d97("0x77")]&&x.hasOwnProperty(_0x1d97("0x77"))&&!s.isString(x[_0x1d97("0x77")])?_0x1d97("0x484"):null!=x[_0x1d97("0x455")]&&x[_0x1d97("0x2")](_0x1d97("0x455"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x455")])?_0x1d97("0x485"):null!=x[_0x1d97("0x456")]&&x.hasOwnProperty(_0x1d97("0x456"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x456")])?_0x1d97("0x486"):null!=x[_0x1d97("0x457")]&&x[_0x1d97("0x2")](_0x1d97("0x457"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x457")])?_0x1d97("0x487"):null!=x.o1&&x[_0x1d97("0x2")]("o1")&&!s[_0x1d97("0x46d")](x.o1)?_0x1d97("0x488"):null!=x.o2&&x[_0x1d97("0x2")]("o2")&&!s[_0x1d97("0x46d")](x.o2)?_0x1d97("0x489"):null!=x.ul&&x.hasOwnProperty("ul")&&!s[_0x1d97("0x46d")](x.ul)?_0x1d97("0x48a"):null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.other2&&x.hasOwnProperty("other2")&&!s[_0x1d97("0x1d1")](x[_0x1d97("0x463")])?_0x1d97("0x48c"):null!=x.l1&&x.hasOwnProperty("l1")&&!s[_0x1d97("0x46d")](x.l1)?_0x1d97("0x48d"):null!=x.l2&&x[_0x1d97("0x2")]("l2")&&!s[_0x1d97("0x46d")](x.l2)?_0x1d97("0x48e"):null!=x.l3&&x.hasOwnProperty("l3")&&!s[_0x1d97("0x46d")](x.l3)?_0x1d97("0x48f"):null!=x.l4&&x[_0x1d97("0x2")]("l4")&&!s[_0x1d97("0x46d")](x.l4)?_0x1d97("0x490"):null!=x.alist&&x[_0x1d97("0x2")](_0x1d97("0x459"))&&!s.isString(x[_0x1d97("0x459")])?_0x1d97("0x491"):null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")]("eid")&&!s.isString(x[_0x1d97("0x464")])?"eid: string expected":null!=x[_0x1d97("0x465")]&&x[_0x1d97("0x2")](_0x1d97("0x465"))&&!s[_0x1d97("0x1d1")](x.bidlist)?_0x1d97("0x492"):null!=x.fs&&x[_0x1d97("0x2")]("fs")&&!s[_0x1d97("0x46d")](x.fs)?_0x1d97("0x493"):null},_[_0x1d97("0x494")]=function(x){if(x instanceof o[_0x1d97("0x444")])return x;var d=new(o[_0x1d97("0x444")]);return null!=x.v&&(d.v=0|x.v),null!=x[_0x1d97("0x445")]&&(d[_0x1d97("0x445")]=0|x[_0x1d97("0x445")]),null!=x[_0x1d97("0x45c")]&&(d[_0x1d97("0x45c")]=String(x[_0x1d97("0x45c")])),null!=x.Hash&&(d[_0x1d97("0x446")]=String(x[_0x1d97("0x446")])),null!=x._id&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0x40")]&&(d[_0x1d97("0x40")]=0|x[_0x1d97("0x40")]),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x[_0x1d97("0xb8")])),null!=x[_0x1d97("0x45d")]&&(d[_0x1d97("0x45d")]=String(x[_0x1d97("0x45d")])),null!=x[_0x1d97("0x45e")]&&(d[_0x1d97("0x45e")]=String(x[_0x1d97("0x45e")])),null!=x.AS&&(d.AS=Number(x.AS)),null!=x[_0x1d97("0x447")]&&(d.AngleX=Number(x[_0x1d97("0x447")])),null!=x[_0x1d97("0x460")]&&(d[_0x1d97("0x460")]=Number(x[_0x1d97("0x460")])),null!=x[_0x1d97("0x448")]&&(d[_0x1d97("0x448")]=Number(x[_0x1d97("0x448")])),null!=x.x&&(d.x=Number(x.x)),null!=x.y&&(d.y=Number(x.y)),null!=x.z&&(d.z=Number(x.z)),null!=x[_0x1d97("0x449")]&&(s[_0x1d97("0x44a")]?(d[_0x1d97("0x449")]=s[_0x1d97("0x44a")].fromValue(x[_0x1d97("0x449")]))[_0x1d97("0x495")]=!1:typeof x.minX===_0x1d97("0xe")?d[_0x1d97("0x449")]=parseInt(x[_0x1d97("0x449")],10):typeof x[_0x1d97("0x449")]===_0x1d97("0x13d")?d[_0x1d97("0x449")]=x.minX:(0,e[_0x1d97("0x1c")])(x[_0x1d97("0x449")])===_0x1d97("0xc")&&(d[_0x1d97("0x449")]=new(s[_0x1d97("0x496")])(x[_0x1d97("0x449")].low>>>0,x[_0x1d97("0x449")][_0x1d97("0x479")]>>>0)[_0x1d97("0x497")]())),null!=x[_0x1d97("0x44c")]&&(s[_0x1d97("0x44a")]?(d.minY=s[_0x1d97("0x44a")].fromValue(x[_0x1d97("0x44c")]))[_0x1d97("0x495")]=!1:typeof x[_0x1d97("0x44c")]===_0x1d97("0xe")?d[_0x1d97("0x44c")]=parseInt(x[_0x1d97("0x44c")],10):typeof x[_0x1d97("0x44c")]===_0x1d97("0x13d")?d[_0x1d97("0x44c")]=x[_0x1d97("0x44c")]:(0,e.default)(x[_0x1d97("0x44c")])===_0x1d97("0xc")&&(d.minY=new(s[_0x1d97("0x496")])(x.minY[_0x1d97("0x47b")]>>>0,x[_0x1d97("0x44c")].high>>>0).toNumber())),null!=x[_0x1d97("0x44d")]&&(s[_0x1d97("0x44a")]?(d.maxX=s.Long[_0x1d97("0x498")](x[_0x1d97("0x44d")])).unsigned=!1:typeof x.maxX===_0x1d97("0xe")?d.maxX=parseInt(x.maxX,10):"number"==typeof x[_0x1d97("0x44d")]?d.maxX=x[_0x1d97("0x44d")]:(0,e.default)(x.maxX)===_0x1d97("0xc")&&(d[_0x1d97("0x44d")]=new(s[_0x1d97("0x496")])(x.maxX.low>>>0,x[_0x1d97("0x44d")].high>>>0)[_0x1d97("0x497")]())),null!=x.maxY&&(s[_0x1d97("0x44a")]?(d[_0x1d97("0x44e")]=s[_0x1d97("0x44a")][_0x1d97("0x498")](x[_0x1d97("0x44e")]))[_0x1d97("0x495")]=!1:typeof x[_0x1d97("0x44e")]===_0x1d97("0xe")?d[_0x1d97("0x44e")]=parseInt(x.maxY,10):typeof x[_0x1d97("0x44e")]===_0x1d97("0x13d")?d[_0x1d97("0x44e")]=x[_0x1d97("0x44e")]:(0,e.default)(x[_0x1d97("0x44e")])===_0x1d97("0xc")&&(d[_0x1d97("0x44e")]=new s.LongBits(x[_0x1d97("0x44e")][_0x1d97("0x47b")]>>>0,x[_0x1d97("0x44e")][_0x1d97("0x479")]>>>0).toNumber())),null!=x[_0x1d97("0x44f")]&&(d[_0x1d97("0x44f")]=String(x[_0x1d97("0x44f")])),null!=x[_0x1d97("0x450")]&&(d.offsetroad=String(x[_0x1d97("0x450")])),null!=x[_0x1d97("0x451")]&&(d[_0x1d97("0x451")]=String(x.tileurl)),null!=x[_0x1d97("0x452")]&&(d[_0x1d97("0x452")]=0|x.bidnums),null!=x[_0x1d97("0x462")]&&(d.modnums=0|x[_0x1d97("0x462")]),null!=x[_0x1d97("0x453")]&&(d[_0x1d97("0x453")]=String(x[_0x1d97("0x453")])),null!=x.styleid&&(d.styleid=String(x[_0x1d97("0x454")])),null!=x[_0x1d97("0x77")]&&(d[_0x1d97("0x77")]=String(x[_0x1d97("0x77")])),null!=x[_0x1d97("0x455")]&&(d[_0x1d97("0x455")]=String(x.cids)),null!=x[_0x1d97("0x456")]&&(d[_0x1d97("0x456")]=String(x[_0x1d97("0x456")])),null!=x[_0x1d97("0x457")]&&(d.tiletoken=String(x[_0x1d97("0x457")])),null!=x.o1&&(d.o1=0|x.o1),null!=x.o2&&(d.o2=0|x.o2),null!=x.ul&&(d.ul=0|x.ul),null!=x.other1&&(d.other1=String(x[_0x1d97("0x458")])),null!=x[_0x1d97("0x463")]&&(d.other2=String(x[_0x1d97("0x463")])),null!=x.l1&&(d.l1=0|x.l1),null!=x.l2&&(d.l2=0|x.l2),null!=x.l3&&(d.l3=0|x.l3),null!=x.l4&&(d.l4=0|x.l4),null!=x[_0x1d97("0x459")]&&(d[_0x1d97("0x459")]=String(x.alist)),null!=x[_0x1d97("0x464")]&&(d[_0x1d97("0x464")]=String(x[_0x1d97("0x464")])),null!=x.bidlist&&(d[_0x1d97("0x465")]=String(x[_0x1d97("0x465")])),null!=x.fs&&(d.fs=0|x.fs),d},_.toObject=function(x,d){d||(d={});var _={};if(d[_0x1d97("0x499")]){if(_.v=0,_[_0x1d97("0x445")]=0,_.ltime="",_[_0x1d97("0x446")]="",_[_0x1d97("0x170")]=0,_[_0x1d97("0x40")]=0,_[_0x1d97("0xb8")]="",_[_0x1d97("0x45d")]="",_[_0x1d97("0x45e")]="",_.AS=0,_.AngleX=0,_[_0x1d97("0x460")]=0,_.AngleZ=0,_.x=0,_.y=0,_.z=0,s.Long){var e=new(s[_0x1d97("0x44a")])(0,0,!1);_[_0x1d97("0x449")]=d[_0x1d97("0x49a")]===String?e[_0x1d97("0x2d")]():d[_0x1d97("0x49a")]===Number?e.toNumber():e}else _[_0x1d97("0x449")]=d.longs===String?"0":0;if(s[_0x1d97("0x44a")]){e=new s.Long(0,0,!1);_[_0x1d97("0x44c")]=d.longs===String?e.toString():d.longs===Number?e[_0x1d97("0x497")]():e}else _.minY=d.longs===String?"0":0;if(s[_0x1d97("0x44a")]){e=new(s[_0x1d97("0x44a")])(0,0,!1);_[_0x1d97("0x44d")]=d.longs===String?e[_0x1d97("0x2d")]():d[_0x1d97("0x49a")]===Number?e[_0x1d97("0x497")]():e}else _[_0x1d97("0x44d")]=d[_0x1d97("0x49a")]===String?"0":0;if(s.Long){e=new s.Long(0,0,!1);_[_0x1d97("0x44e")]=d[_0x1d97("0x49a")]===String?e[_0x1d97("0x2d")]():d[_0x1d97("0x49a")]===Number?e[_0x1d97("0x497")]():e}else _[_0x1d97("0x44e")]=d[_0x1d97("0x49a")]===String?"0":0;_[_0x1d97("0x44f")]="",_[_0x1d97("0x450")]="",_[_0x1d97("0x451")]="",_[_0x1d97("0x452")]=0,_[_0x1d97("0x462")]=0,_.Remark="",_[_0x1d97("0x454")]="",_[_0x1d97("0x77")]="",_[_0x1d97("0x455")]="",_[_0x1d97("0x456")]="",_.tiletoken="",_.o1=0,_.o2=0,_.ul=0,_[_0x1d97("0x458")]="",_[_0x1d97("0x463")]="",_.l1=0,_.l2=0,_.l3=0,_.l4=0,_[_0x1d97("0x459")]="",_.eid="",_[_0x1d97("0x465")]="",_.fs=0}return null!=x.v&&x[_0x1d97("0x2")]("v")&&(_.v=x.v),null!=x[_0x1d97("0x445")]&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&(_.mtime=x[_0x1d97("0x445")]),null!=x[_0x1d97("0x45c")]&&x[_0x1d97("0x2")](_0x1d97("0x45c"))&&(_.ltime=x[_0x1d97("0x45c")]),null!=x.Hash&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&(_[_0x1d97("0x446")]=x[_0x1d97("0x446")]),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x._id),null!=x.tid&&x[_0x1d97("0x2")](_0x1d97("0x40"))&&(_[_0x1d97("0x40")]=x[_0x1d97("0x40")]),null!=x[_0x1d97("0xb8")]&&x.hasOwnProperty(_0x1d97("0xb8"))&&(_[_0x1d97("0xb8")]=x.name),null!=x[_0x1d97("0x45d")]&&x[_0x1d97("0x2")](_0x1d97("0x45d"))&&(_.nameEn=x[_0x1d97("0x45d")]),null!=x.adcode&&x[_0x1d97("0x2")](_0x1d97("0x45e"))&&(_[_0x1d97("0x45e")]=x.adcode),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&(_.AS=d[_0x1d97("0xb2")]&&!isFinite(x.AS)?String(x.AS):x.AS),null!=x[_0x1d97("0x447")]&&x[_0x1d97("0x2")]("AngleX")&&(_[_0x1d97("0x447")]=d[_0x1d97("0xb2")]&&!isFinite(x[_0x1d97("0x447")])?String(x[_0x1d97("0x447")]):x[_0x1d97("0x447")]),null!=x[_0x1d97("0x460")]&&x[_0x1d97("0x2")]("AngleY")&&(_[_0x1d97("0x460")]=d[_0x1d97("0xb2")]&&!isFinite(x.AngleY)?String(x.AngleY):x[_0x1d97("0x460")]),null!=x[_0x1d97("0x448")]&&x.hasOwnProperty(_0x1d97("0x448"))&&(_[_0x1d97("0x448")]=d.json&&!isFinite(x[_0x1d97("0x448")])?String(x[_0x1d97("0x448")]):x[_0x1d97("0x448")]),null!=x.x&&x.hasOwnProperty("x")&&(_.x=d[_0x1d97("0xb2")]&&!isFinite(x.x)?String(x.x):x.x),null!=x.y&&x.hasOwnProperty("y")&&(_.y=d[_0x1d97("0xb2")]&&!isFinite(x.y)?String(x.y):x.y),null!=x.z&&x[_0x1d97("0x2")]("z")&&(_.z=d[_0x1d97("0xb2")]&&!isFinite(x.z)?String(x.z):x.z),null!=x.minX&&x[_0x1d97("0x2")](_0x1d97("0x449"))&&("number"==typeof x.minX?_[_0x1d97("0x449")]=d[_0x1d97("0x49a")]===String?String(x.minX):x[_0x1d97("0x449")]:_[_0x1d97("0x449")]=d.longs===String?s[_0x1d97("0x44a")][_0x1d97("0xf")].toString[_0x1d97("0x3")](x[_0x1d97("0x449")]):d[_0x1d97("0x49a")]===Number?new(s[_0x1d97("0x496")])(x[_0x1d97("0x449")][_0x1d97("0x47b")]>>>0,x[_0x1d97("0x449")].high>>>0)[_0x1d97("0x497")]():x.minX),null!=x[_0x1d97("0x44c")]&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&(typeof x[_0x1d97("0x44c")]===_0x1d97("0x13d")?_[_0x1d97("0x44c")]=d[_0x1d97("0x49a")]===String?String(x[_0x1d97("0x44c")]):x[_0x1d97("0x44c")]:_.minY=d[_0x1d97("0x49a")]===String?s[_0x1d97("0x44a")][_0x1d97("0xf")][_0x1d97("0x2d")][_0x1d97("0x3")](x[_0x1d97("0x44c")]):d.longs===Number?new(s[_0x1d97("0x496")])(x[_0x1d97("0x44c")][_0x1d97("0x47b")]>>>0,x[_0x1d97("0x44c")][_0x1d97("0x479")]>>>0)[_0x1d97("0x497")]():x[_0x1d97("0x44c")]),null!=x[_0x1d97("0x44d")]&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&(typeof x[_0x1d97("0x44d")]===_0x1d97("0x13d")?_.maxX=d.longs===String?String(x[_0x1d97("0x44d")]):x[_0x1d97("0x44d")]:_.maxX=d[_0x1d97("0x49a")]===String?s[_0x1d97("0x44a")][_0x1d97("0xf")][_0x1d97("0x2d")][_0x1d97("0x3")](x[_0x1d97("0x44d")]):d[_0x1d97("0x49a")]===Number?new(s[_0x1d97("0x496")])(x[_0x1d97("0x44d")][_0x1d97("0x47b")]>>>0,x[_0x1d97("0x44d")].high>>>0)[_0x1d97("0x497")]():x[_0x1d97("0x44d")]),null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&("number"==typeof x[_0x1d97("0x44e")]?_[_0x1d97("0x44e")]=d.longs===String?String(x[_0x1d97("0x44e")]):x[_0x1d97("0x44e")]:_.maxY=d[_0x1d97("0x49a")]===String?s[_0x1d97("0x44a")][_0x1d97("0xf")].toString[_0x1d97("0x3")](x.maxY):d.longs===Number?new(s[_0x1d97("0x496")])(x[_0x1d97("0x44e")][_0x1d97("0x47b")]>>>0,x.maxY[_0x1d97("0x479")]>>>0).toNumber():x[_0x1d97("0x44e")]),null!=x[_0x1d97("0x44f")]&&x[_0x1d97("0x2")](_0x1d97("0x44f"))&&(_[_0x1d97("0x44f")]=x[_0x1d97("0x44f")]),null!=x[_0x1d97("0x450")]&&x[_0x1d97("0x2")](_0x1d97("0x450"))&&(_[_0x1d97("0x450")]=x[_0x1d97("0x450")]),null!=x[_0x1d97("0x451")]&&x.hasOwnProperty(_0x1d97("0x451"))&&(_.tileurl=x[_0x1d97("0x451")]),null!=x[_0x1d97("0x452")]&&x[_0x1d97("0x2")]("bidnums")&&(_[_0x1d97("0x452")]=x[_0x1d97("0x452")]),null!=x.modnums&&x[_0x1d97("0x2")]("modnums")&&(_[_0x1d97("0x462")]=x.modnums),null!=x[_0x1d97("0x453")]&&x.hasOwnProperty(_0x1d97("0x453"))&&(_[_0x1d97("0x453")]=x[_0x1d97("0x453")]),null!=x[_0x1d97("0x454")]&&x.hasOwnProperty(_0x1d97("0x454"))&&(_[_0x1d97("0x454")]=x.styleid),null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&(_[_0x1d97("0x77")]=x[_0x1d97("0x77")]),null!=x.cids&&x[_0x1d97("0x2")]("cids")&&(_[_0x1d97("0x455")]=x[_0x1d97("0x455")]),null!=x[_0x1d97("0x456")]&&x[_0x1d97("0x2")](_0x1d97("0x456"))&&(_[_0x1d97("0x456")]=x[_0x1d97("0x456")]),null!=x[_0x1d97("0x457")]&&x[_0x1d97("0x2")]("tiletoken")&&(_.tiletoken=x[_0x1d97("0x457")]),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&(_.o1=x.o1),null!=x.o2&&x[_0x1d97("0x2")]("o2")&&(_.o2=x.o2),null!=x.ul&&x[_0x1d97("0x2")]("ul")&&(_.ul=x.ul),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x.other1),null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&(_.other2=x[_0x1d97("0x463")]),null!=x.l1&&x.hasOwnProperty("l1")&&(_.l1=x.l1),null!=x.l2&&x[_0x1d97("0x2")]("l2")&&(_.l2=x.l2),null!=x.l3&&x[_0x1d97("0x2")]("l3")&&(_.l3=x.l3),null!=x.l4&&x.hasOwnProperty("l4")&&(_.l4=x.l4),null!=x.alist&&x.hasOwnProperty(_0x1d97("0x459"))&&(_[_0x1d97("0x459")]=x.alist),null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")]("eid")&&(_.eid=x[_0x1d97("0x464")]),null!=x[_0x1d97("0x465")]&&x[_0x1d97("0x2")](_0x1d97("0x465"))&&(_[_0x1d97("0x465")]=x[_0x1d97("0x465")]),null!=x.fs&&x.hasOwnProperty("fs")&&(_.fs=x.fs),_},_[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,i[_0x1d97("0x442")].toJSONOptions)},_[_0x1d97("0x49e")]=function(x){return void 0===x&&(x=_0x1d97("0x49f")),x+"/ESCityLicSet"},_}(),x[_0x1d97("0x6")]=o},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=_(139);function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e.default)(this,x),this[_0x1d97("0x38")]=d,this[_0x1d97("0xdf")]=null,this.init()}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x32"),value:function(){var x=this,d=this.map[_0x1d97("0x16d")][_0x1d97("0x4a0")],_=document[_0x1d97("0x21")](_0x1d97("0x4a1")),e=_.getContext("2d"),t=new Image;t[_0x1d97("0x39e")]=a[_0x1d97("0x429")],t[_0x1d97("0x4a2")]=function(){var a=Math.max(t[_0x1d97("0x328")],t[_0x1d97("0x1b5")]);_[_0x1d97("0x328")]=3*a,_[_0x1d97("0x1b5")]=3*a,e[_0x1d97("0x4a3")](a/2,a/2),e[_0x1d97("0x4a4")](-30*Math.PI/180),e[_0x1d97("0x4a3")](-a/2,0),e[_0x1d97("0x4a5")](t,0,0);var i=new(THREE[_0x1d97("0x4a6")])(_);i.wrapS=THREE.RepeatWrapping,i[_0x1d97("0x143")]=THREE.RepeatWrapping;i[_0x1d97("0x112")].x=30,i[_0x1d97("0x112")].y=30,i[_0x1d97("0x13b")]=!0;var n=new(THREE[_0x1d97("0xfe")])({map:i,transparent:!0,opacity:.05,side:THREE[_0x1d97("0x111")]}),r=new THREE.PlaneGeometry(1,1,1,1),s=new(THREE[_0x1d97("0x14a")])(r,n);s[_0x1d97("0xb6")][_0x1d97("0x11b")](0,0,0),s[_0x1d97("0x237")][_0x1d97("0x11b")](1e4,1e4,1),d[_0x1d97("0xdc")](s),x[_0x1d97("0xdf")]=s}}},{key:_0x1d97("0xa6"),value:function(){this.plane&&this[_0x1d97("0xdf")][_0x1d97("0xba")]&&(this.plane[_0x1d97("0xf0")]=!1,this[_0x1d97("0xdf")][_0x1d97("0xa5")].dispose(),this.plane.material.dispose(),this.plane[_0x1d97("0xba")][_0x1d97("0x149")](this[_0x1d97("0xdf")]))}}]),x}();d.default=n},,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=_0x1d97("0x4a7");d[_0x1d97("0x4a8")]=e},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d[_0x1d97("0x4a9")]=void 0;var e=o(_(27)),t=o(_(4)),a=o(_(0)),i=o(_(1)),n=o(_(5)),r=o(_(6)),s=_(31);function o(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var c=function(x){function d(){(0,a[_0x1d97("0x1c")])(this,d);var x=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t.default)(d))[_0x1d97("0x3")](this));return x[_0x1d97("0x33d")]=[],x[_0x1d97("0x1a0")](_0x1d97("0xb6"),new THREE.BufferAttribute(new Float32Array([]),3)),x[_0x1d97("0x1a0")](_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(new Float32Array([]),3)),x.addAttribute("uv",new THREE.BufferAttribute(new Float32Array([]),2)),x[_0x1d97("0x1a0")](_0x1d97("0x4aa"),new THREE.BufferAttribute(new Float32Array([]),2)),x.hiddenChilds={},x}return(0,r.default)(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x4ab"),value:function(x){var d=this[_0x1d97("0x4ac")](x)[_0x1d97("0x4ad")],_=3*d[0],e=3*d[1],t=this.attributes[_0x1d97("0xb6")].array;if(this[_0x1d97("0x4ae")][x]){for(var a=0;a<t.length;a++)a>=_&&a<e&&(t[a]=this[_0x1d97("0x4ae")][x][a]);this[_0x1d97("0x4ae")][x]=null,this[_0x1d97("0x19c")](_0x1d97("0xb6"))[_0x1d97("0x13b")]=!0}}},{key:_0x1d97("0x4af"),value:function(x){var d=this[_0x1d97("0x4ac")](x)[_0x1d97("0x4ad")],_=3*d[0],e=3*d[1],t=this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")];if(!this[_0x1d97("0x4ae")][x]){this.hiddenChilds[x]=[];for(var a=0;a<t[_0x1d97("0x0")];a++)if(a>=_&&a<e){var i=t[a];this[_0x1d97("0x4ae")][x][a]=i,t[a]=.01}this[_0x1d97("0x19c")](_0x1d97("0xb6"))[_0x1d97("0x13b")]=!0}}},{key:_0x1d97("0x4b0"),value:function(){this[_0x1d97("0x33d")]=[],this[_0x1d97("0xa6")](),this[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(new Float32Array([]),3)),this[_0x1d97("0x1a0")](_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(new Float32Array([]),3)),this.addAttribute("uv",new(THREE[_0x1d97("0x1a1")])(new Float32Array([]),2)),this[_0x1d97("0x411")](),this[_0x1d97("0x1a2")](0,0,0)}},{key:"findChildById",value:function(x){return this.brothers[_0x1d97("0x302")]((function(d){return d.ID==x}))[0]}},{key:"getChildIndex",value:function(x){for(var d=0;d<this[_0x1d97("0x33d")][_0x1d97("0x0")];d++)if(this[_0x1d97("0x33d")][d].ID==x)return d}},{key:"updateChildByData",value:function(x,d){var _=x.ID,e=x[_0x1d97("0x1b5")],t=x.offsetZ,a=x[_0x1d97("0xe6")],i=x[_0x1d97("0x4b1")],n=this[_0x1d97("0x4ac")](_)[_0x1d97("0x4ad")],r=n[0],s=n[1],o=n[1]-n[0],c=this[_0x1d97("0x4b2")](_),l=this[_0x1d97("0x4b3")](a,i,e,t,d),u=l[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")],f=l[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")],h=l.attributes.uv[_0x1d97("0x19d")],b=l.attributes[_0x1d97("0xb6")][_0x1d97("0xb7")],g=this.attributes[_0x1d97("0xb6")][_0x1d97("0x19d")],v=this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")],p=this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")],m=this[_0x1d97("0xb5")][_0x1d97("0xb6")].count,A=m-o+b,C=g[_0x1d97("0x4b4")](0,3*r),I=g[_0x1d97("0x4b4")](3*s,3*m),y=new Float32Array(C[_0x1d97("0x0")]+I.length+u[_0x1d97("0x0")]);y.set(C),y.set(u,C.length),y[_0x1d97("0x11b")](I,C[_0x1d97("0x0")]+u.lenth),this.attributes.position[_0x1d97("0x19d")]=y,this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")]=A;var E=v[_0x1d97("0x4b4")](0,2*r),w=v.subarray(2*s,2*m),T=new Float32Array(E[_0x1d97("0x0")]+f[_0x1d97("0x0")]+w[_0x1d97("0x0")]);T[_0x1d97("0x11b")](E),T[_0x1d97("0x11b")](f,E[_0x1d97("0x0")]),T[_0x1d97("0x11b")](w,E.length+f[_0x1d97("0x0")]),this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")]=T,this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0xb7")]=A;var k=p[_0x1d97("0x4b4")](0,2*r),S=p[_0x1d97("0x4b4")](2*s,2*m),M=new Float32Array(k.length+h[_0x1d97("0x0")]+S[_0x1d97("0x0")]);M[_0x1d97("0x11b")](k),M[_0x1d97("0x11b")](h,k[_0x1d97("0x0")]),M[_0x1d97("0x11b")](S,k[_0x1d97("0x0")]+h[_0x1d97("0x0")]),this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")]=M,this[_0x1d97("0xb5")].uv[_0x1d97("0xb7")]=A;var R=b-o;this[_0x1d97("0x33d")][c][_0x1d97("0x4ad")][1]+=R;for(var L=0;L<this[_0x1d97("0x33d")][_0x1d97("0x0")];L++)L>c&&(this.brothers[L][_0x1d97("0x4ad")][0]+=R,this[_0x1d97("0x33d")][L].range[1]+=R);this[_0x1d97("0x19c")](_0x1d97("0xb6")).needsUpdate=!0,this[_0x1d97("0x19c")](_0x1d97("0xf9"))[_0x1d97("0x13b")]=!0,this[_0x1d97("0x19c")]("uv")[_0x1d97("0x13b")]=!0}},{key:_0x1d97("0x4b5"),value:function(x){for(var d=!1,_=void 0,e=0;e<this[_0x1d97("0x33d")][_0x1d97("0x0")];e++)if(this.brothers[e].ID==x){d=!0;var t=this[_0x1d97("0x33d")][e][_0x1d97("0x4ad")];_=t[1]-t[0];var a=this[_0x1d97("0xb5")][_0x1d97("0xb6")].array[_0x1d97("0x4b4")](0,3*t[0]),i=this.attributes[_0x1d97("0xb6")][_0x1d97("0x19d")].subarray(3*t[1],3*this[_0x1d97("0xb5")][_0x1d97("0xb6")].count),n=new Float32Array(a[_0x1d97("0x0")]+i.length);n[_0x1d97("0x11b")](a),n[_0x1d97("0x11b")](i,a[_0x1d97("0x0")]),this[_0x1d97("0xb5")][_0x1d97("0xb6")].array=n,this[_0x1d97("0xb5")].position[_0x1d97("0xb7")]-=_;var r=this.attributes[_0x1d97("0xf9")][_0x1d97("0x19d")][_0x1d97("0x4b4")](0,3*t[0]),s=this.attributes[_0x1d97("0xf9")].array[_0x1d97("0x4b4")](3*t[1],3*this.attributes[_0x1d97("0xf9")][_0x1d97("0xb7")]),o=new Float32Array(r[_0x1d97("0x0")]+s.length);o[_0x1d97("0x11b")](r),o[_0x1d97("0x11b")](s,r[_0x1d97("0x0")]),this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")]=o,this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0xb7")]-=_;var c=this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")].subarray(0,2*t[0]),l=this.attributes.uv[_0x1d97("0x19d")][_0x1d97("0x4b4")](2*t[1],2*this[_0x1d97("0xb5")].uv.count),u=new Float32Array(c[_0x1d97("0x0")]+l[_0x1d97("0x0")]);u.set(c),u[_0x1d97("0x11b")](l,c[_0x1d97("0x0")]),this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")]=u,this.attributes.uv[_0x1d97("0xb7")]-=_,this[_0x1d97("0x33d")][_0x1d97("0x189")](e,1),e--}else d&&(this[_0x1d97("0x33d")][e][_0x1d97("0x4ad")][0]-=_,this[_0x1d97("0x33d")][e][_0x1d97("0x4ad")][1]-=_,this[_0x1d97("0x33d")][e][_0x1d97("0x4b6")][0]-=_,this[_0x1d97("0x33d")][e][_0x1d97("0x4b6")][1]-=_,this.brothers[e].split-=_);this[_0x1d97("0x19c")](_0x1d97("0xb6"))[_0x1d97("0x13b")]=!0,this[_0x1d97("0x19c")](_0x1d97("0xf9")).needsUpdate=!0,this[_0x1d97("0x19c")]("uv")[_0x1d97("0x13b")]=!0}},{key:_0x1d97("0x4b7"),value:function(x,d){return Math.abs(Math.sqrt(Math.pow(x.x-d.x,2)+Math[_0x1d97("0xa8")](x.y-d.y,2)))}},{key:"genGeo",value:function(x,d,_,t,a){for(var i=this,n=esmap[_0x1d97("0x33")][_0x1d97("0x34")],r=n.mapScene[_0x1d97("0x199")],s=n[_0x1d97("0x16c")].sceneZ_,o=new(THREE[_0x1d97("0x4b8")]),c=_+t,l=a.normalizeSide,u=a[_0x1d97("0x4b9")],f=0;f<x[_0x1d97("0x0")];f++){var h=x[f];0==f?o.moveTo(h.x-r,h.y-s):o[_0x1d97("0x4ba")](h.x-r,h.y-s)}for(var b in d){var g=d[b],v=new(THREE[_0x1d97("0x4bb")]);for(var p in g){var m=g[p];0==p?v.moveTo(m.x,m.y):v[_0x1d97("0x4ba")](m.x,m.y)}o[_0x1d97("0x4b1")][_0x1d97("0x1")](v)}var A=new(THREE[_0x1d97("0x4bc")])(o,{depth:_,bevelEnabled:!1,material:0,extrudeMaterial:0}),C=A[_0x1d97("0x19c")](_0x1d97("0xb6")).count,I=A[_0x1d97("0x19c")]("position")[_0x1d97("0x19d")],y=[],E=[],w=[],T=A[_0x1d97("0x19c")]("normal")[_0x1d97("0x19d")],k=A.getAttribute("uv")[_0x1d97("0x19d")],S=(0,e[_0x1d97("0x1c")])(k);A.computeBoundingBox();var M=A[_0x1d97("0x4bd")][_0x1d97("0x317")],R=A[_0x1d97("0x4bd")][_0x1d97("0x318")],L=new THREE.Vector2(0-R.x,0-R.y),H=new(THREE[_0x1d97("0x4be")])(M.x-R.x,M.y-R.y),D=H.x/1,P=H.y/1,O=1,B=1;u&&(O=D,B=P);for(var N=A.groups[0][_0x1d97("0xb7")]/3,F=0;F<N;F++)k[6*F]=(I[9*F]+L.x)/O,k[6*F+1]=(I[9*F+1]+L.y)/B,k[6*F+2]=(I[9*F+3]+L.x)/O,k[6*F+3]=(I[9*F+4]+L.y)/B,k[6*F+4]=(I[9*F+6]+L.x)/O,k[6*F+5]=(I[9*F+7]+L.y)/B,S[6*F]=(I[9*F]+L.x)/D,S[6*F+1]=(I[9*F+1]+L.y)/P,S[6*F+2]=(I[9*F+3]+L.x)/D,S[6*F+3]=(I[9*F+4]+L.y)/P,S[6*F+4]=(I[9*F+6]+L.x)/D,S[6*F+5]=(I[9*F+7]+L.y)/P;for(var z,j,U,X,Y=A[_0x1d97("0x410")][1][_0x1d97("0xb7")]/6,G=N/2,Q=0;Q<Y;Q++,G++){var V=(j=void 0,U=void 0,X=void 0,j={x:I[9*(z=2*G)],y:I[9*z+1]},U={x:I[9*z+3],y:I[9*z+4]},X={x:I[9*z+6],y:I[9*z+7]},T[9*z+2]==T[9*z+5]?i[_0x1d97("0x4b7")](j,U):T[9*z+2]==T[9*z+8]?i[_0x1d97("0x4b7")](j,X):T[9*z+5]==T[9*z+8]?i[_0x1d97("0x4b7")](U,X):void console[_0x1d97("0x246")](_0x1d97("0x4bf")));V<1&&(V=1),l?(k[12*G]=1,k[12*G+1]=1,k[12*G+2]=0,k[12*G+3]=1,k[12*G+4]=1,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=1,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=1,k[12*G+11]=0):(k[12*G]=V,k[12*G+1]=_,k[12*G+2]=0,k[12*G+3]=_,k[12*G+4]=V,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=_,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=V,k[12*G+11]=0),S[12*G]=1,S[12*G+1]=1,S[12*G+2]=0,S[12*G+3]=1,S[12*G+4]=1,S[12*G+5]=0,S[12*G+6]=0,S[12*G+7]=1,S[12*G+8]=0,S[12*G+9]=0,S[12*G+10]=1,S[12*G+11]=0}for(var W=I[2],Z=S,J=[],K=0,q=0;q<C;q++)I[3*q+2]==W||0!=K&&q>K?(E[_0x1d97("0x1")](I[3*q],I[3*q+1],I[3*q+2]-c),y[_0x1d97("0x1")](T[3*q],T[3*q+1],T[3*q+2]),w[_0x1d97("0x1")](k[2*q],k[2*q+1]),J.push(Z[2*q],Z[2*q+1])):0==K&&(K=2*q);return A[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(E),3)),A.addAttribute("normal",new(THREE[_0x1d97("0x1a1")])(new Float32Array(y),3)),A[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(new Float32Array(w),2)),A.addAttribute(_0x1d97("0x4aa"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(J),2)),A[_0x1d97("0x410")][0].count-=K/2,A.groups[1][_0x1d97("0x1c1")]-=K/2,A}},{key:"addChilds",value:function(x){for(var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},_=esmap[_0x1d97("0x33")].instance,e=[],t=[],a=0;a<x.length;a++){var i=x[a];i[_0x1d97("0xe6")]=_[_0x1d97("0x4c0")]({from:_[_0x1d97("0x17a")],to:_[_0x1d97("0x17b")],coords:i[_0x1d97("0xe6")],flipX:!0});var n=i.holes;n[_0x1d97("0x0")]>0&&(n[0]instanceof Array&&(n=n[0]),n=_[_0x1d97("0x4c0")]({from:_[_0x1d97("0x17a")],to:_[_0x1d97("0x17b")],coords:n,flipX:!0}));var r=this[_0x1d97("0x4b3")](i[_0x1d97("0xe6")],n,i[_0x1d97("0x1b5")],i[_0x1d97("0x4c1")],d);e[_0x1d97("0x1")](r),t[_0x1d97("0x1")](r.groups)}var o=this.brothers.length,c=this[_0x1d97("0xb5")].position[_0x1d97("0xb7")],l=s[_0x1d97("0x19e")].mergeBufferGeometries(e,!0),u=l.groups,f=l[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")],h=l[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")],b=l[_0x1d97("0xb5")].uv.array,g=l[_0x1d97("0xb5")].normalizeUv[_0x1d97("0x19d")],v=this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")][_0x1d97("0x0")],p=new Float32Array(v+f[_0x1d97("0x0")]);p.set(this[_0x1d97("0xb5")].position[_0x1d97("0x19d")]),p.set(f,v),this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")]+=l[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")],this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")]=p;var m=this.attributes.normal[_0x1d97("0x19d")][_0x1d97("0x0")],A=new Float32Array(m+h[_0x1d97("0x0")]);A[_0x1d97("0x11b")](this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")]),A.set(h,m),this[_0x1d97("0xb5")][_0x1d97("0xf9")].count+=l.attributes[_0x1d97("0xf9")][_0x1d97("0xb7")],this[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")]=A;var C=this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")][_0x1d97("0x0")],I=new Float32Array(C+b.length);I.set(this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")]),I[_0x1d97("0x11b")](b,C),this[_0x1d97("0xb5")].uv[_0x1d97("0xb7")]+=l[_0x1d97("0xb5")].uv.count,this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")]=I;var y=new Float32Array(C+b[_0x1d97("0x0")]);y[_0x1d97("0x11b")](this[_0x1d97("0xb5")][_0x1d97("0x4aa")].array),y[_0x1d97("0x11b")](g,C),this[_0x1d97("0xb5")][_0x1d97("0x4aa")][_0x1d97("0xb7")]+=l[_0x1d97("0xb5")][_0x1d97("0x4aa")][_0x1d97("0xb7")],this[_0x1d97("0xb5")][_0x1d97("0x4aa")][_0x1d97("0x19d")]=y,this.getAttribute(_0x1d97("0xb6"))[_0x1d97("0x13b")]=!0,this[_0x1d97("0x19c")]("normal")[_0x1d97("0x13b")]=!0,this.getAttribute("uv")[_0x1d97("0x13b")]=!0,this.getAttribute("normalizeUv").needsUpdate=!0;for(var E=0;E<u[_0x1d97("0x0")];E++){var w=x[E].ID,T=[u[E][_0x1d97("0x1c1")]+c,u[E][_0x1d97("0x1c1")]+c+u[E][_0x1d97("0xb7")]],k=[T[0]+t[E][1].start,T[0]+u[E][_0x1d97("0xb7")]];this.brothers[_0x1d97("0x1")]({ID:w,range:T,sideRange:k})}return this[_0x1d97("0x411")](),this.addGroup(0,this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")],0),this.brothers[_0x1d97("0xca")](o)}},{key:_0x1d97("0x4c2"),value:function(x){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},_=esmap[_0x1d97("0x33")][_0x1d97("0x34")],e=x.ID,t=x[_0x1d97("0x1b5")],a=x[_0x1d97("0x4c1")]||0,i=x.points,n=x.holes||[];i=_[_0x1d97("0x4c0")]({from:_.DEFAULT_COORDSYSTEM,to:_[_0x1d97("0x17b")],coords:i,flipX:!0}),n.length>0&&(n=_.transformCoordArray({from:_[_0x1d97("0x17a")],to:_[_0x1d97("0x17b")],coords:n,flipX:!0}));var r=this[_0x1d97("0x4b3")](i,n,t,a,d),s=r[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")],o=s[_0x1d97("0x0")]/3,c=r[_0x1d97("0xb5")][_0x1d97("0xf9")][_0x1d97("0x19d")],l=r.attributes.uv.array,u=r[_0x1d97("0xb5")].normalizeUv.array,f=this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")],h=this.attributes[_0x1d97("0xb6")][_0x1d97("0x19d")][_0x1d97("0x0")],b=new Float32Array(h+s[_0x1d97("0x0")]);b[_0x1d97("0x11b")](this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0x19d")]),b[_0x1d97("0x11b")](s,h),this[_0x1d97("0xb5")].position[_0x1d97("0x19d")]=b,this[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")]+=o;var g=this[_0x1d97("0xb5")].normal.array[_0x1d97("0x0")],v=new Float32Array(g+c.length);v[_0x1d97("0x11b")](this.attributes.normal[_0x1d97("0x19d")]),v.set(c,g),this.attributes.normal[_0x1d97("0x19d")]=v,this[_0x1d97("0xb5")][_0x1d97("0xf9")].count+=o;var p=this[_0x1d97("0xb5")].uv[_0x1d97("0x19d")][_0x1d97("0x0")],m=new Float32Array(p+l[_0x1d97("0x0")]);m[_0x1d97("0x11b")](this[_0x1d97("0xb5")].uv.array),m.set(l,p),this[_0x1d97("0xb5")].uv.array=m,this[_0x1d97("0xb5")].uv[_0x1d97("0xb7")]+=o;var A=this[_0x1d97("0xb5")][_0x1d97("0x4aa")][_0x1d97("0x19d")][_0x1d97("0x0")],C=new Float32Array(A+u[_0x1d97("0x0")]);C[_0x1d97("0x11b")](this[_0x1d97("0xb5")][_0x1d97("0x4aa")][_0x1d97("0x19d")]),C[_0x1d97("0x11b")](u,A),this[_0x1d97("0xb5")][_0x1d97("0x4aa")].array=C,this[_0x1d97("0xb5")][_0x1d97("0x4aa")].count+=o,this[_0x1d97("0x19c")]("position")[_0x1d97("0x13b")]=!0,this[_0x1d97("0x19c")]("normal")[_0x1d97("0x13b")]=!0,this[_0x1d97("0x19c")]("uv").needsUpdate=!0,this[_0x1d97("0x19c")](_0x1d97("0x4aa"))[_0x1d97("0x13b")]=!0;var I=r[_0x1d97("0x410")],y=f+I[1][_0x1d97("0x1c1")],E=[f,f+o],w=[y,f+o];return this[_0x1d97("0x33d")].push({ID:e,range:E,sideRange:w}),this.clearGroups(),this[_0x1d97("0x1a2")](0,this.attributes[_0x1d97("0xb6")][_0x1d97("0xb7")],0),{ID:e,range:E,sideRange:w}}},{key:"getChildList",value:function(){}},{key:_0x1d97("0x4c3"),value:function(){}},{key:"getChildsData",value:function(){}}]),d}(THREE[_0x1d97("0x19b")]);d[_0x1d97("0x4a9")]=c},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(d){var _=d[_0x1d97("0x4c4")],t=d[_0x1d97("0x4c5")],a=d[_0x1d97("0x4c6")];(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")])).setStyle(a),this[_0x1d97("0xa7")]=null,this[_0x1d97("0x351")]=null,this.count=0,this[_0x1d97("0x33f")](_,t)}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x33f"),value:function(x,d){var _=this;return this[_0x1d97("0xa7")]=new(THREE[_0x1d97("0x42b")])({color:16777215,transparent:!0}),this[_0x1d97("0xa7")][_0x1d97("0x345")]=function(e){e[_0x1d97("0x102")].iTime={value:0},e[_0x1d97("0x102")].activeColor={value:_[_0x1d97("0x100")]},e[_0x1d97("0x102")].aoTexture={value:d},e[_0x1d97("0x102")].texture1={value:x},e[_0x1d97("0x105")]=e[_0x1d97("0x105")].replace(_0x1d97("0x34c"),_0x1d97("0x4c7")),e[_0x1d97("0x105")]=e[_0x1d97("0x105")][_0x1d97("0x106")](_0x1d97("0x4c8"),_0x1d97("0x4c9")),e.fragmentShader=e[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x10a"),_0x1d97("0x4ca")),e.fragmentShader=e[_0x1d97("0x109")][_0x1d97("0x106")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x1d97("0x4cb")),_[_0x1d97("0x351")]=e},this[_0x1d97("0xa7")]}},{key:_0x1d97("0x4cc"),value:function(x){var d=x[_0x1d97("0xb6")],_=x.size,e=new(THREE[_0x1d97("0x29f")])(this[_0x1d97("0xa7")]);return this[_0x1d97("0xa7")].sizeAttenuation=!1,e.scale[_0x1d97("0x11b")](_,_,_),e[_0x1d97("0xb6")][_0x1d97("0x11b")](d.x,d.y,d.z),e}},{key:_0x1d97("0x4cd"),value:function(x){this[_0x1d97("0x351")]&&(this[_0x1d97("0xb7")]+=x,this[_0x1d97("0x351")].uniforms.iTime[_0x1d97("0xf1")]=this[_0x1d97("0xb7")])}}]),x}();d.default=i},function(x,d,_){"use strict";function e(x){this[_0x1d97("0x38")]=x,this[_0x1d97("0x4ce")]=[]}function t(x,d){x&&(this[_0x1d97("0x4cf")]=x,this[_0x1d97("0x4d0")]=!0,this.object=d,this[_0x1d97("0xc")]&&(this[_0x1d97("0xc")][_0x1d97("0x4d1")]=this),this[_0x1d97("0x4cf")].append(this))}Object.defineProperty(d,_0x1d97("0xb"),{value:!0}),e[_0x1d97("0xf")]={constructor:e,_invokeFunction:function(x,d){this[_0x1d97("0x4ce")][_0x1d97("0x1d")]((function(_){_[_0x1d97("0x4d0")]&&_[x]&&_[x](d)}))},append:function(x){this.components[_0x1d97("0x1")](x),x[_0x1d97("0xc")]&&this[_0x1d97("0x38")][_0x1d97("0x146")].addComponent(x[_0x1d97("0xc")]),x[_0x1d97("0x1c1")]&&x[_0x1d97("0x1c1")]()},remove:function(x){for(var d=0;d<this[_0x1d97("0x4ce")].length;d++)if(this.components[d]==x)return void this[_0x1d97("0x4ce")].splice(d,1)},invokeUpdate:function(x){this[_0x1d97("0x4d2")](_0x1d97("0x11d"),x)}},t[_0x1d97("0xf")]={constructor:t,dispose:function(){this.manager=this,this[_0x1d97("0x4cf")][_0x1d97("0x149")](this),this[_0x1d97("0xc")]&&(this.manager[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x4d3")](this.object),this[_0x1d97("0xc")][_0x1d97("0xba")]&&this.object[_0x1d97("0xba")][_0x1d97("0x149")](this[_0x1d97("0xc")]))}};var a={Component:t,ComponentsManager:e};d[_0x1d97("0x1c")]=a},function(x,d,_){"use strict";var e=s(_(104)),t=r(_(155)),a=r(_(246)),i=s(_(131)),n=s(_(251));function r(x){if(x&&x[_0x1d97("0xb")])return x;var d={};if(null!=x)for(var _ in x)Object[_0x1d97("0xf")].hasOwnProperty[_0x1d97("0x3")](x,_)&&(d[_]=x[_]);return d.default=x,d}function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=t[_0x1d97("0x4d4")];window[_0x1d97("0x4d5")]=o;var c=window.em=o;window.esWorker=t.esWorker;var l=window.esmap={version:_0x1d97("0x4d6"),minV:1,maxV:2};l[_0x1d97("0x4d7")]=!1,l[_0x1d97("0x1b7")]=n[_0x1d97("0x1c")],window[_0x1d97("0x4d8")][_0x1d97("0x4d9")]=i.default,l[_0x1d97("0x75")]=a,_(252),_(253),_(254),_(255),_(256),_(257),_(258),_(259),_(260),_(261),_(263),_(264),_(265),o.Promise=function(){this.callbacks=[]},o[_0x1d97("0x4da")][_0x1d97("0x1b4")]=function(x){var d=new o.Promise;return setTimeout((function(){d[_0x1d97("0x4db")]()}),x),d},o[_0x1d97("0x4da")][_0x1d97("0xf")]={constructor:o.Promise,then:function(x){return this[_0x1d97("0x4dc")][_0x1d97("0x1")](x),this},resolve:function(x){var d=this;setTimeout((function(){for(var x=0;x<d[_0x1d97("0x4dc")][_0x1d97("0x0")];x++){var _=d[_0x1d97("0x4dc")][x]();if(_ instanceof o[_0x1d97("0x4da")])for(x++;x<d[_0x1d97("0x4dc")][_0x1d97("0x0")];x++)_[_0x1d97("0x2fd")](d[_0x1d97("0x4dc")][x])}}),0)}},l[_0x1d97("0x4dd")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},l[_0x1d97("0x4de")]={create:function(x,d){return new u(x,d)}},l[_0x1d97("0x4df")]={setUrl:function(x){this[_0x1d97("0xa7")][_0x1d97("0x38")]&&this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xa6")](),this.material[_0x1d97("0x38")]=l[_0x1d97("0x75")][_0x1d97("0x4e0")](x),this[_0x1d97("0xa7")].map.needsUpdate=!0}},l[_0x1d97("0x4e1")]={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},l.ESLayerType={NONE:_0x1d97("0x4e2"),FLOOR_BASE:_0x1d97("0x4e3"),MODEL:_0x1d97("0x223"),MODEL_POI:"facility",MODEL_LABEL:_0x1d97("0x4e4"),MODEL_LINE:"modelLine",MODEL_IMAGE:"modelImage",MODEL_BASE:_0x1d97("0x4e5"),MODEL3D:"model3d",EXTERANL_MODEL:_0x1d97("0x4e6"),POLYGON_MARKER:_0x1d97("0x4e7"),LOCATION_MARKER:_0x1d97("0x4e8"),LINE_MARKER:_0x1d97("0x4e9"),IMAGE_MARKER:"imageMarker",TEXT_MARKER:"textMarker",CARD_MARKER:_0x1d97("0x4ea"),BOARD_MARKER:"boardMarker",MAP_ROAD:_0x1d97("0x4eb")},l.ESNaviMode={MAN:1,CAR:2},l[_0x1d97("0x3a")]={Building:(0,e[_0x1d97("0x1c")])(1),City:(0,e[_0x1d97("0x1c")])(2)},l[_0x1d97("0x4ec")]={NONE:(0,e[_0x1d97("0x1c")])(0),SINGLE:(0,e.default)(1),PLANISH:(0,e[_0x1d97("0x1c")])(2)},l.ESCameraMode={NORMAL:_0x1d97("0xf9"),NEAR:"near"},l[_0x1d97("0x4ed")]={NONE:_0x1d97("0x4e2"),MODEL:"model",MODEL_POI:_0x1d97("0x4ee"),MODEL_LABEL:_0x1d97("0x4e4"),MODEL_IMAGE:_0x1d97("0x4ef"),MODEL_BASE:_0x1d97("0x4e5"),MODEL3D:"model3d",EXTERANL_MODEL:_0x1d97("0x4e6"),POLYGON_MARKER:_0x1d97("0x4e7")},l.ESRenderOrder={floorBase:1,model:76,polygonMarker:76,externalModel:20,label:77,facility:77,textMarker:77,imageMarker:77,locationMarker:77,cardMarker:77,transparentLine:76,lineObject:76,model3D:76,modelImage:76},l[_0x1d97("0x2ad")]={EXPIRED:_0x1d97("0x4f0"),TOKEN_MISS:"Please provide the corresponding token!",TOKEN_ERR:_0x1d97("0x4f1"),VERS_ERR:_0x1d97("0x4f2"),DOM_ERR:"This domain is forbidden",ES3DMARKERNUM_ERR:_0x1d97("0x4f3"),AUDIO_TOKEN:_0x1d97("0x4f4"),ARRAY_REQUIRED:_0x1d97("0x4f5"),VIEW_MODE2D_ALLFNUM:_0x1d97("0x4f6"),TOO_FAST:"Your operation frequency is too fast. Please try again later.",INVALID_TYPE:_0x1d97("0x4f7"),AUTH_EXPIRED:_0x1d97("0x4f8"),AUTH_FAILED:_0x1d97("0x4f9"),INVALID_OFFLICENSE:_0x1d97("0x4fa"),AUTHO_REQUIRED:_0x1d97("0x4fb")},l[_0x1d97("0xea")]={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,MODEL_IMAGE:7,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,ALL:65535,ELEMENT:100},l[_0x1d97("0x4fc")]={PLANE:_0x1d97("0xdf"),CIRCLE:"circle"},l[_0x1d97("0x4fd")]={FULL:_0x1d97("0x4fe"),DOTTED:_0x1d97("0x4ff"),DOT_DASH:_0x1d97("0x500"),CENTER:"center",DASH:"dash",DOUBLE_DOT_DASH:_0x1d97("0x501"),TRI_DOT_DASH:_0x1d97("0x502"),NORMAL:_0x1d97("0xf9"),ARROW:"arrow",RAW:"raw",ESARROW:_0x1d97("0x503"),TEXTURE:_0x1d97("0x4c4")},l[_0x1d97("0x504")]={MODE_3D:"3D",MODE_2D:"2D"},l[_0x1d97("0x505")]={Map_CONTROL_SMALL:_0x1d97("0x506"),Map_CONTROL_NORMAL:"normal"},l[_0x1d97("0x507")]={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},l[_0x1d97("0x508")]={TILE:1,BUILDING:2,BASE:3},window[_0x1d97("0x509")]=function(x){l.ESMap=function(x){var d;d=x&&x[_0x1d97("0x42c")]?x[_0x1d97("0x42c")]:document[_0x1d97("0x1ec")],(new l.ESMapError)[_0x1d97("0x50a")](d)},window[_0x1d97("0x509")]=null};var u=_(266)[_0x1d97("0x1c")],f=_(268).default;l.ESMapError=_(101)[_0x1d97("0x1c")],c[_0x1d97("0x222")]=_(317)[_0x1d97("0x1c")],l[_0x1d97("0x50b")]=_(318)[_0x1d97("0x1c")],l.ESMapTheme=_(319)[_0x1d97("0x1c")],l[_0x1d97("0x16b")]=_(322)[_0x1d97("0x1c")],l[_0x1d97("0x177")]=_(323)[_0x1d97("0x1c")],l.dynamicBufferGeometry=_(145).dynamicBufferGeometry,l[_0x1d97("0x19e")]=_(31)[_0x1d97("0x19e")],l[_0x1d97("0x182")]=_(324).default,l[_0x1d97("0x50c")]=_(325)[_0x1d97("0x1c")],l.ESMapPoi3=_(326)[_0x1d97("0x1c")],l[_0x1d97("0x50d")]=_(327)[_0x1d97("0x1c")],l[_0x1d97("0x50e")]=_(328).default,l[_0x1d97("0x50f")]=_(332).default,l.ESModelMesh=_(333)[_0x1d97("0x1c")],l[_0x1d97("0x510")]=_(147)[_0x1d97("0x1c")][_0x1d97("0x511")],l[_0x1d97("0x512")]=_(147)[_0x1d97("0x1c")][_0x1d97("0x513")],l[_0x1d97("0x3cc")]=_(334)[_0x1d97("0x1c")],l[_0x1d97("0x514")]=_(335).default,l[_0x1d97("0x515")]=_(135)[_0x1d97("0x1c")],l[_0x1d97("0x516")]=_(336)[_0x1d97("0x1c")],l[_0x1d97("0x517")]=_(337)[_0x1d97("0x1c")],l.ESImageMarker=_(338)[_0x1d97("0x1c")],l[_0x1d97("0x178")]=_(339)[_0x1d97("0x1c")],l[_0x1d97("0x518")]=_(340)[_0x1d97("0x1c")],l[_0x1d97("0x519")]=_(341)[_0x1d97("0x1c")],l[_0x1d97("0x51a")]=_(343).default,l[_0x1d97("0x51b")]=_(344)[_0x1d97("0x1c")],l[_0x1d97("0x3cd")]=_(345)[_0x1d97("0x1c")],l[_0x1d97("0x51c")]=_(346)[_0x1d97("0x1c")],l.ESLayer=_(347)[_0x1d97("0x1c")],l[_0x1d97("0x51d")]=_(348)[_0x1d97("0x1c")],l[_0x1d97("0x51e")]=_(349)[_0x1d97("0x1c")],l[_0x1d97("0x51f")]=_(350)[_0x1d97("0x1c")],l[_0x1d97("0x520")]=_(351)[_0x1d97("0x1c")],l[_0x1d97("0x521")]=_(352)[_0x1d97("0x1c")],l[_0x1d97("0x522")]=_(353)[_0x1d97("0x1c")],l[_0x1d97("0x523")]=_(358)[_0x1d97("0x1c")],l.ESWall=_(359).default,l[_0x1d97("0x524")]=_(360).default,_(361),l[_0x1d97("0x525")]=_(362).default,l[_0x1d97("0x526")]=_(363)[_0x1d97("0x1c")],l.ESPopMarker=_(364)[_0x1d97("0x1c")],l[_0x1d97("0x527")]=_(365).default,l[_0x1d97("0x528")]=_(103).default,l[_0x1d97("0x529")]=function(){console[_0x1d97("0x245")](_0x1d97("0x52a"))},l[_0x1d97("0x52b")]=_(369).default,l[_0x1d97("0x52c")]=_(67)[_0x1d97("0x1c")],l[_0x1d97("0x52d")]=_(370).default,l[_0x1d97("0x52e")]=_(371)[_0x1d97("0x1c")],l.ESNaviMap=_(372).default,l[_0x1d97("0x52f")]=_(373)[_0x1d97("0x1c")],l.ESTile=_(68)[_0x1d97("0x1c")],l.ESCardMarker=_(374).default,_(375),l.ESMap=f,window[_0x1d97("0x509")]=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0}),d[_0x1d97("0x4d")]=void 0;var e,t=m(_(55)),i=m(_(53)),n=m(_(12)),r=m(_(13)),s=m(_(9)),o=m(_(43)),c=m(_(28)),l=m(_(64));d[_0x1d97("0x4d")]=(e=(0,r[_0x1d97("0x1c")])(n[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _,e,t,a,r,s,o,c,l,u,h,b,g,p=this;return n[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:if(_=esmap.ESMap[_0x1d97("0x34")],e=_.id,C){x[_0x1d97("0x2a8")]=19;break}for(a in(t=[])[_0x1d97("0x1")](v.default.getPath(_0x1d97("0x4d"))),_[_0x1d97("0x18c")][_0x1d97("0x530")])t[_0x1d97("0x1")]({path:v[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x532"),{buildingId:a}),bid:a});r=[],s=n[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var a,i,s,o,c,l,u;return n[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:return a="",i=null,"string"==typeof t[d]?(a=t[d],i=e):(a=t[d][_0x1d97("0x2f6")],i=t[d].bid),x[_0x1d97("0x2a8")]=5,fetch(a);case 5:return s=x[_0x1d97("0x533")],x[_0x1d97("0x2a8")]=8,s.json();case 8:(o=x[_0x1d97("0x533")])[_0x1d97("0x534")]&&(c={x:0,y:0},o[_0x1d97("0x4b")]&&(l=_[_0x1d97("0x18c")][_0x1d97("0x530")][o[_0x1d97("0x4b")][_0x1d97("0x535")]])&&(c.x=l.x-o.building[_0x1d97("0x536")],c.y=l.y-o[_0x1d97("0x4b")][_0x1d97("0x537")]),u=o.datas[_0x1d97("0x38")]((function(x){var d=null;return 1==x.t?d=5:2==x.t&&(d=11),{name:x.n,bid:i,mapCoord:{x:1*x.x+c.x,y:1*x.y+c.y},FloorNum:x.f||1,Height:1*x.h||0,ID:1*x.i,typeID:1*x.c,nodeType:d}})),r=r[_0x1d97("0x1de")](u));case 10:case _0x1d97("0x2c4"):return x.stop()}}),x,p)})),x.t0=n[_0x1d97("0x1c")][_0x1d97("0x538")](t);case 10:if((x.t1=x.t0())[_0x1d97("0x3e8")]){x.next=15;break}return o=x.t1[_0x1d97("0xf1")],x[_0x1d97("0x539")](s(o),"t2",13);case 13:x.next=10;break;case 15:c={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x1d97("0xb8"),_0x1d97("0x23f"),_0x1d97("0x53a"),_0x1d97("0xe5"),_0x1d97("0xc7")]},l=["ID","name",_0x1d97("0x23f"),_0x1d97("0x53a"),"bid",_0x1d97("0xc7")],u=f[_0x1d97("0x1c")][_0x1d97("0x53b")](l,r),C=new f.default(r,c,u);case 19:h=[],b=[],x.t3=n[_0x1d97("0x1c")].keys(d);case 22:if((x.t4=x.t3())[_0x1d97("0x3e8")]){x[_0x1d97("0x2a8")]=35;break}if((g=x.t4.value)!=_0x1d97("0x1bd")){x[_0x1d97("0x2a8")]=26;break}return x[_0x1d97("0x2ae")](_0x1d97("0x53c"),22);case 26:if(g!=_0x1d97("0x53d")){x[_0x1d97("0x2a8")]=29;break}return b[_0x1d97("0x1")]({name:""+d[g]}),x[_0x1d97("0x2ae")](_0x1d97("0x53c"),22);case 29:if("fnum"!=g){x[_0x1d97("0x2a8")]=32;break}return b[_0x1d97("0x1")]({FloorNum:""+d[g]}),x[_0x1d97("0x2ae")]("continue",22);case 32:b[_0x1d97("0x1")]((0,i.default)({},g,"="+d[g])),x[_0x1d97("0x2a8")]=22;break;case 35:return h=(h=C[_0x1d97("0x53e")]({$and:b}))[_0x1d97("0x38")]((function(x){return x.item})),d[_0x1d97("0x1bd")]&&d[_0x1d97("0x1bd")](h),x.abrupt(_0x1d97("0x2af"),h);case 39:case"end":return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return e[_0x1d97("0x5")](this,arguments)});d[_0x1d97("0x2ce")]=function(x){var d=x[_0x1d97("0x28")](",");if(d[_0x1d97("0x0")]<3){var _=esmap.ESMapUtil[_0x1d97("0x2cf")](x);if((d=_.split(",")).length<3)return _0x1d97("0x55b"),0}return parseInt(d[0])<<16|parseInt(d[1])<<8|parseInt(d[2])},d.checkFunLevel=function(){var x=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:0,d=esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(d[_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x21b")]){var _=d[_0x1d97("0x2aa")].getState("o2");return _/Math[_0x1d97("0xa8")](10,x)%10}return d.mapService[_0x1d97("0x424")]("l"+x)},d[_0x1d97("0x53f")]=function(x){var d=x[_0x1d97("0x28")](","),_=parseInt(d[0]),e=parseInt(d[1]),t=parseInt(d[2]);return"#"+((1<<24)+(_<<16)+(e<<8)+t)[_0x1d97("0x2d")](16)[_0x1d97("0xca")](1)},d[_0x1d97("0x2cf")]=function(x){var d=x[_0x1d97("0x1d3")]();if(d&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[_0x1d97("0x3b3")](d)){if(4===d[_0x1d97("0x0")]){for(var _="#",e=1;e<4;e+=1)_+=d[_0x1d97("0xca")](e,e+1).concat(d[_0x1d97("0xca")](e,e+1));d=_}var t=[];for(e=1;e<7;e+=2)t[_0x1d97("0x1")](parseInt("0x"+d[_0x1d97("0xca")](e,e+2)));return t.join(",")}return d},d[_0x1d97("0x540")]=function(x,d){return(0,h[_0x1d97("0x55c")])(x,d)},d.containPolygons=function(x,d){return(0,h[_0x1d97("0x55d")])(x,d)},d[_0x1d97("0x541")]=function(x){var d=x[_0x1d97("0x28")](",");return d.length>=3?_0x1d97("0x55e")+parseInt(d[0])+","+parseInt(d[1])+","+parseInt(d[2])+",1)":(console[_0x1d97("0x245")](_0x1d97("0x55b"),x),0)},d[_0x1d97("0x542")]=function(x){return x&&x instanceof esmap[_0x1d97("0x3cd")]?x[_0x1d97("0x16c")]:x[_0x1d97("0xa3")]&&x[_0x1d97("0xa3")][_0x1d97("0xba")]?esmap[_0x1d97("0x75")][_0x1d97("0x542")](x[_0x1d97("0xa3")][_0x1d97("0xba")][_0x1d97("0xa2")]):null},d[_0x1d97("0x543")]=function(x){return x._type_||null},d[_0x1d97("0x544")]=function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x280")];x&&(d=esmap[_0x1d97("0x33")][_0x1d97("0x34")].firstPersonControls);return{target:d[_0x1d97("0x27e")].x[_0x1d97("0x55f")](3)+","+d.target.y.toFixed(3)+","+d[_0x1d97("0x27e")].z.toFixed(3),position:d[_0x1d97("0xc")][_0x1d97("0xb6")].x.toFixed(3)+","+d.object[_0x1d97("0xb6")].y.toFixed(3)+","+d.object[_0x1d97("0xb6")].z[_0x1d97("0x55f")](3)}},d.getNearestAngle=function(x,d){var _=d-x;return Math[_0x1d97("0x253")](_)>180&&(_=-1*(0,l[_0x1d97("0x1c")])(_)*360+_),_},d[_0x1d97("0x545")]=function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")].controls,_=x[_0x1d97("0x27e")][_0x1d97("0x28")](","),e=x[_0x1d97("0xb6")][_0x1d97("0x28")](","),t=new(THREE[_0x1d97("0xe0")])(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2])),a=new(THREE[_0x1d97("0xe0")])(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));d[_0x1d97("0x27e")][_0x1d97("0x267")](t),d[_0x1d97("0xc")].position[_0x1d97("0x267")](a),d[_0x1d97("0x11d")]()},d.getPlatform=function(){for(var x=navigator[_0x1d97("0x560")],d=new Array(_0x1d97("0x561"),_0x1d97("0x562"),_0x1d97("0x563"),"Windows Phone",_0x1d97("0x564"),_0x1d97("0x565")),_=!0,e="PC",t=!1,a=0;a<d[_0x1d97("0x0")];a++)if(x.indexOf(d[a])>0){_=!1,e=d[a],x[_0x1d97("0xd7")]("MicroMessenger")>0&&(t=!0);break}return{isPC:_,isWX:t,platform:e}},d[_0x1d97("0x546")]=function(x){for(var d=esmap[_0x1d97("0x75")][_0x1d97("0x566")](x),_=(0,b[_0x1d97("0x1c5")])(d.maxX,d[_0x1d97("0x44e")],15),e=(0,b.getTileFromMec)(d[_0x1d97("0x449")],d.minY,15),t=e.x,a=_.x,i=e.y,n=_.y,r=[],s=t;s<=a;s++)for(var o=i;o<=n;o++){var c=s+"_"+o;r[_0x1d97("0x1")](c)}return r},d[_0x1d97("0x136")]=function(x,d){var _=null,e=100;if("3D"==x[_0x1d97("0x1ef")]){if("number"==typeof d)e=d;else{var t=null!=d?d[_0x1d97("0x27f")](new(THREE[_0x1d97("0xe0")])):x[_0x1d97("0x280")][_0x1d97("0x27e")];e=x[_0x1d97("0x16d")].camera.position[_0x1d97("0x25d")](t)}var a=esmap[_0x1d97("0x75")][_0x1d97("0x549")](x[_0x1d97("0x16d")][_0x1d97("0x567")],x[_0x1d97("0x280")],e);_=2*a.top/x[_0x1d97("0x1b5")]}else"2D"==x.viewMode&&(_=2*x[_0x1d97("0x280")][_0x1d97("0xc")].top/x[_0x1d97("0x280")][_0x1d97("0xc")].zoom/x.height);return _},d[_0x1d97("0x547")]=function(x){return Object.prototype[_0x1d97("0x2d")].call(x)==_0x1d97("0x568")},d[_0x1d97("0x548")]=function(x){var d={x:(x[_0x1d97("0x44d")]-x[_0x1d97("0x449")])/2+x.minX,y:(x[_0x1d97("0x44e")]-x[_0x1d97("0x44c")])/2+x[_0x1d97("0x44c")]},_=esmap[_0x1d97("0x33")][_0x1d97("0x34")],e=Math[_0x1d97("0x317")]((x[_0x1d97("0x44d")]-x[_0x1d97("0x449")])/2,(x[_0x1d97("0x44e")]-x[_0x1d97("0x44c")])/2)/Math[_0x1d97("0x569")](_.currentCamera[_0x1d97("0x56a")]*(Math.PI/180)/2);return{target:d,radius:e}},d[_0x1d97("0x549")]=function(x,d,_){x instanceof esmap[_0x1d97("0x33")]&&(_=d,d=x[_0x1d97("0x280")],x=x[_0x1d97("0x16d")][_0x1d97("0x567")]);var e=x[_0x1d97("0x56a")],t=x[_0x1d97("0x56b")],a=null!=_?_:d[_0x1d97("0x27e")].distanceTo(x[_0x1d97("0xb6")]),i=Math.tan(e*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")]/2)*a;return{top:i||1,right:2*i*t/2}},d.getDatasByAlias=function(x,d,_,e,t){function a(x,d){if(e&&e(x)&&(d&&(x[_0x1d97("0xa3")]=d),n[_0x1d97("0x1")](x)),t)return t==n.length}var i,n=[];i=1==x[_0x1d97("0x14e")]?x[_0x1d97("0x14d")]:x[_0x1d97("0x56d")]?x[_0x1d97("0x56d")](d):x;var r=x.tempDatas;if(r)for(var s in r)if(r[s]){var o=r[s][_0x1d97("0x56e")][0][_0x1d97("0x56f")],c=r[s][_0x1d97("0x570")][0][_0x1d97("0x571")],l=o[_0x1d97("0x1de")](c);for(var u in l){var f=l[u],h={ID:f.oid,name:f[_0x1d97("0xb8")],mapCoord:{x:f.OCenX,y:f.OCenY},dataID:f.FC,typeID:f[_0x1d97("0x572")],RoomHigh:f.RoomHigh,RoomStyle:f[_0x1d97("0x573")],buildingFnums:f.fnums,mapId:f[_0x1d97("0x535")],nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x574")],pending:!0};if(a(h,null))return n}}return i&&i[_0x1d97("0x192")](_,(function(x){if(null!=e)for(var d=x[_0x1d97("0xa3")][_0x1d97("0xa4")][_0x1d97("0x0")],_=0;_<d;_++){var t=x.o3d_[_0x1d97("0xa4")][_][_0x1d97("0xa2")];if(t){var i=t[_0x1d97("0x33d")],r=x[_0x1d97("0xa3")][_0x1d97("0xa4")][_];if(i){for(var s=i[_0x1d97("0x0")],o=0;o<s;o++)if(a(i[o],r))return i[o][_0x1d97("0xa3")]=r,n}else if(a(t))return t[_0x1d97("0xa3")]=r,n}}else n=x.o3d_[_0x1d97("0xa4")][_0x1d97("0xc5")]((function(x,d){return x[_0x1d97("0x1")][_0x1d97("0x5")](x,null!=d[_0x1d97("0xa2")][_0x1d97("0x33d")]?d[_0x1d97("0xa2")][_0x1d97("0x33d")]:[d.datas_]),x}),[])})),n},d[_0x1d97("0x54a")]=function(x){var d=x[_0x1d97("0xe8")],_=x[_0x1d97("0xe1")],e=x[_0x1d97("0xe5")],t=x[_0x1d97("0x255")];null==t&&(t=1);var a=[].concat(d);e||(e=esmap.ESMap[_0x1d97("0x34")].id);var i=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0xee")](e),n=function(d){var e=a[d];if(d=i[_0x1d97("0x56d")](e)){var n=d[_0x1d97("0xa3")];esmap[_0x1d97("0x75")].setAlpha({target:n,alpha:_,clonemat:!0,hideOnComplete:x.hideOnComplete,onUpdate:function(x){d.o3d_[_0x1d97("0x575")]||(d[_0x1d97("0xa3")].lastAlpha={}),d.o3d_[_0x1d97("0x575")].hasOwnProperty(x[_0x1d97("0x3d9")])||(d[_0x1d97("0xa3")].lastAlpha[x[_0x1d97("0x3d9")]]=x[_0x1d97("0xe2")])},time:t})}};for(var r in a)n(r)},d[_0x1d97("0x54b")]=function(x){var d=x[_0x1d97("0xe8")],_=x[_0x1d97("0xe5")],e=x.time,t=esmap[_0x1d97("0x33")].instance;_||(_=t.id);var a=t[_0x1d97("0xee")](_),i=(a[_0x1d97("0x576")][d],[][_0x1d97("0x1de")](d));null==e&&(e=1);var n=function(d){var _=i[d];if(d=a.getFloor(_)){var t=d[_0x1d97("0xa3")];esmap.ESMapUtil.setAlpha({target:t,alpha:!1,clonemat:!0,hideOnComplete:x[_0x1d97("0x577")],onUpdate:function(x){d.o3d_.lastAlpha||(d[_0x1d97("0xa3")][_0x1d97("0x575")]={}),d[_0x1d97("0xa3")].lastAlpha[_0x1d97("0x2")](x[_0x1d97("0x3d9")])||(d[_0x1d97("0xa3")][_0x1d97("0x575")][x.uuid]=x[_0x1d97("0xe2")])},time:e})}};for(var r in i)n(r)},d[_0x1d97("0x54c")]=function(){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")];return x[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?x[_0x1d97("0x578")]().modelLoadManager[_0x1d97("0x579")][_0x1d97("0x57a")]:0},d[_0x1d97("0x54d")]=function(){var x=esmap.ESMap[_0x1d97("0x34")];return x[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?x.getBuilding()[_0x1d97("0x14f")].modelStatic[_0x1d97("0x161")]:0},d.getVersion=function(){return _0x1d97("0x57b")},d[_0x1d97("0x54e")]=function(x,d){var _,e=[],t=esmap[_0x1d97("0x33")][_0x1d97("0x34")],a=(e[_0x1d97("0x0")],x[_0x1d97("0x57c")]||"ID"),i=[][_0x1d97("0x1de")](x.data),n=i[_0x1d97("0x0")];return t[_0x1d97("0x57d")][_0x1d97("0x1d")]((function(d){_=[][_0x1d97("0x1de")]((0,c[_0x1d97("0x1c")])(x[_0x1d97("0xe8")]?[x[_0x1d97("0xe8")]]:d.floorNums));var t=!0,r=!1,s=void 0;try{for(var l,u=(0,o.default)(_);!(t=(l=u.next())[_0x1d97("0x3e8")]);t=!0){var f=l[_0x1d97("0xf1")];e[_0x1d97("0x1")][_0x1d97("0x5")](e,esmap[_0x1d97("0x75")].getDatasByAlias(d,f,[_0x1d97("0x223")],(function(x){return i[_0x1d97("0xcc")](x[a])}),a==_0x1d97("0xb8")?void 0:n))}}catch(x){r=!0,s=x}finally{try{!t&&u[_0x1d97("0x2af")]&&u[_0x1d97("0x2af")]()}finally{if(r)throw s}}})),d&&d(e),e},d.m=function(x){return x>A},d.n=function(x){return x<-1e-5},d.l=function(x){return x<A&&x>-1e-5},d.o=function(x,d,_,e){var t=d.x,a=d.y,i=_.x,n=_.y,r=x.x,s=x.y,o=i-t,c=n-a,l=Math[_0x1d97("0xc3")](o*o+c*c),u=r-t,f=s-a,h=Math[_0x1d97("0xc3")](u*u+f*f);if(esmap.ESMapUtil.l(l))return esmap[_0x1d97("0x75")].l(h)?(e.x=d.x,e.y=d.y,0):(e.x=d.x,e.y=d.y,h);var b=o/l,g=c/l,v=b*u+g*f;if(!esmap[_0x1d97("0x75")].m(v))return e.x=d.x,e.y=d.y,h;if(!esmap[_0x1d97("0x75")].n(v-l)){var p=r-i,m=s-n,A=Math[_0x1d97("0xc3")](p*p+m*m);return e.x=_.x,e.y=_.y,A}var C=t+v*b,I=a+v*g,y=r-C,E=s-I,w=Math[_0x1d97("0xc3")](y*y+E*E);return e.x=C,e.y=I,w},d[_0x1d97("0x294")]=function(x){var d,_,e,t=x[_0x1d97("0x12e")];return new(s[_0x1d97("0x1c")])((function(a){if(x.target[_0x1d97("0x11e")][_0x1d97("0x57e")])a();else{x[_0x1d97("0x27e")][_0x1d97("0xb4")]((function(x){if(x.material)if(x[_0x1d97("0xa7")]instanceof Array)for(var d in x[_0x1d97("0xa7")]){var _=x.material[d];_[_0x1d97("0x11e")]&&(_.userData[_0x1d97("0x40e")]&&(_.userData[_0x1d97("0x40e")]=!1))}else x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0x40e")]&&(x[_0x1d97("0xa7")][_0x1d97("0x11e")]._settedAlpha=!1)})),x[_0x1d97("0x27e")][_0x1d97("0x11e")][_0x1d97("0x57e")]=!0,"number"==typeof x?(d=x,_=1,e=!1):(d=x[_0x1d97("0xe1")],_=null==x[_0x1d97("0x255")]?1:x.time,e=null!=x[_0x1d97("0x295")]&&x[_0x1d97("0x295")]),x.visible&&(x[_0x1d97("0x27e")][_0x1d97("0xf0")]=x.visible);var i=x[_0x1d97("0x577")],n=[],r=function(e){if(e[_0x1d97("0x11e")][_0x1d97("0x40e")])i&&x[_0x1d97("0x27e")][_0x1d97("0xf0")]&&(x.target[_0x1d97("0xf0")]=!1);else{var a=d;!1===d?(a=e[_0x1d97("0x11e")][_0x1d97("0xe2")],e[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x293"))&&(e[_0x1d97("0xff")]=e[_0x1d97("0x11e")][_0x1d97("0x293")])):(e.userData.hasOwnProperty(_0x1d97("0x293"))||(e[_0x1d97("0x11e")][_0x1d97("0x293")]=e[_0x1d97("0xff")],e.userData[_0x1d97("0xe2")]=e.opacity),e[_0x1d97("0xff")]=!0),e[_0x1d97("0x11e")][_0x1d97("0x40e")]=!0,n.push(e),t&&t(e),new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(e).to({opacity:a},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]).onComplete((function(){}))[_0x1d97("0x1c1")]()}};if(x.id&&x[_0x1d97("0x27e")][_0x1d97("0xa2")]&&6==x.target[_0x1d97("0xa2")][_0x1d97("0xc7")]&&x.target[_0x1d97("0xa2")].brothers){var s=esmap[_0x1d97("0x33")][_0x1d97("0x34")];s[_0x1d97("0xee")](s.id)[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x40d")](x.id,x[_0x1d97("0x27e")],d,_,i)}else{x[_0x1d97("0x27e")][_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")])if(x[_0x1d97("0xa7")]instanceof Array)for(var d in x[_0x1d97("0xa7")]){var _=x[_0x1d97("0xa7")][d];_[_0x1d97("0x11e")]&&(e&&(x[_0x1d97("0xa7")][d]=_[_0x1d97("0xdb")](),_=x[_0x1d97("0xa7")][d]),r(_))}else e&&(x.material=x[_0x1d97("0xa7")].clone()),r(x[_0x1d97("0xa7")])}));setTimeout((function(){for(var d in i&&(x[_0x1d97("0x27e")].visible=!1),n){n[d].userData[_0x1d97("0x40e")]=!1}x[_0x1d97("0x27e")].userData.islocked=!1,a()}),1e3*_+50)}}}))},d[_0x1d97("0x53e")]=function(x,d,_,e){var t,i=[],n=null,r=null,s=[],o=_[_0x1d97("0x580")]||[_0x1d97("0x223"),_0x1d97("0x4e4"),_0x1d97("0x581"),_0x1d97("0x582"),"textMarker",_0x1d97("0x4e8"),_0x1d97("0x224"),"polygonMarker",_0x1d97("0x4ea")],c=[][_0x1d97("0x1de")](d);_.ID&&(_.ID=[][_0x1d97("0x1de")](_.ID));_.classID&&(_[_0x1d97("0x583")]=[][_0x1d97("0x1de")](_[_0x1d97("0x583")]));if(x[_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x21b")]){var l=x[_0x1d97("0x578")]();1==c.length&&"all"==c[0]?c=[{bid:x.id,fnum:l[_0x1d97("0x584")]}]:typeof c[0]==_0x1d97("0x13d")&&(c=[{bid:x.id,fnum:c}])}else if(1==c[_0x1d97("0x0")]&&c[0]==_0x1d97("0x203")){c=x[_0x1d97("0x585")][_0x1d97("0x38")]((function(x){return x.id}));var u=x[_0x1d97("0x57d")].map((function(x){return x.id}));(c=c.concat(u)).push(0)}_.polygon&&(_[_0x1d97("0x586")]||(c=esmap.ESMapUtil[_0x1d97("0x546")](_[_0x1d97("0x587")])));return c[_0x1d97("0x1d")]((function(d){var e;if(d instanceof Object?(d.bid&&(e=x[_0x1d97("0xee")](d[_0x1d97("0xe5")])),d[_0x1d97("0xe8")]&&(t=[][_0x1d97("0x1de")](d.fnum))):(e=x.getBuildingById(d))?t=e.floorNums:(e=x[_0x1d97("0x588")](d),t=[1]),e){t=t||e[_0x1d97("0x584")];for(var c=0;c<t.length;c++){var l=t[c],u=_.ID?_.ID[_0x1d97("0x0")]:void 0,f=esmap[_0x1d97("0x75")].getDatasByAlias(e,l,o,(function(d){if(_[_0x1d97("0xc7")]&&_[_0x1d97("0xc7")]!=esmap[_0x1d97("0xea")][_0x1d97("0x589")]&&_[_0x1d97("0xc7")]!=d[_0x1d97("0xc7")])return!1;if(_[_0x1d97("0xb8")]){if(!d[_0x1d97("0xb8")])return!1;if(_[_0x1d97("0xb8")]instanceof Array){if(_[_0x1d97("0xb8")][_0x1d97("0xd7")](d.name)<0)return!1}else if(_[_0x1d97("0xb8")]!=d[_0x1d97("0xb8")])return!1}if(_[_0x1d97("0x53d")]){if(!d[_0x1d97("0xb8")])return!1;for(var e=_[_0x1d97("0x53d")].split(" "),t=d.name[_0x1d97("0x1d3")](),i=!1,o=0;o<e[_0x1d97("0x0")];o++){var c=e[o][_0x1d97("0x1d3")]();if(t.indexOf(c)>=0){i=!0;break}}if(!i)return!1}if(_.ID&&_.ID[_0x1d97("0xd7")](d.ID)<0)return!1;if(_[_0x1d97("0x2")](_0x1d97("0x58a"))&&_[_0x1d97("0x58a")]!=d.dataID)return!1;if(_[_0x1d97("0x583")]&&_[_0x1d97("0x583")][_0x1d97("0xd7")](d[_0x1d97("0x583")])<0)return!1;if(_[_0x1d97("0x23f")]&&_[_0x1d97("0x23f")]!=d[_0x1d97("0x23f")])return!1;if(_[_0x1d97("0x53a")]&&_[_0x1d97("0x53a")]!=d[_0x1d97("0x53a")])return!1;if(_[_0x1d97("0x3cb")]&&_[_0x1d97("0x58b")]){if(d.nodeType==esmap[_0x1d97("0xea")][_0x1d97("0x221")]){if((0,g.DistanceofTwoPts)(_.mapCoord,d[_0x1d97("0x3cb")])>_[_0x1d97("0x58b")])return;s.push({node:d,distance:n})}if(d.nodeType==esmap.ESNodeType[_0x1d97("0x574")]){var l=x.mapService.buildingBounds[d.ID][0],u=[];n=null;for(var f=0;f<l[_0x1d97("0x0")];f+=2)u[_0x1d97("0x1")](new(esmap[_0x1d97("0x3cc")])(-l[f].x,l[f].y,0));if(u[_0x1d97("0x0")]<2)n=p(_.mapCoord,u[0]);else{var h=new esmap.ESMapCoord;for(f=0;f<u[_0x1d97("0x0")]-1;f++)r=esmap[_0x1d97("0x75")].o(_[_0x1d97("0x3cb")],u[f],u[f+1],h),(!n||r<n)&&(n=r)}if(n>_[_0x1d97("0x58b")])return;s[_0x1d97("0x1")]({node:d,distance:n})}if(d.nodeType==esmap[_0x1d97("0xea")][_0x1d97("0x58c")]){if((n=esmap[_0x1d97("0x58d")][_0x1d97("0x58e")](a,_[_0x1d97("0x3cb")],d[_0x1d97("0x3cb")]))>_[_0x1d97("0x58b")])return;s[_0x1d97("0x1")]({node:d,distance:n})}}return!(_[_0x1d97("0x587")]&&!esmap[_0x1d97("0x75")].pointInArea(d[_0x1d97("0x3cb")],_.polygon))}),u);f&&(i=i.concat(f))}}})),s[_0x1d97("0x0")]>0&&(s[_0x1d97("0x41c")]((function(x,d){return x[_0x1d97("0x25e")]-d[_0x1d97("0x25e")]})),i=s[_0x1d97("0x38")]((function(x){return x[_0x1d97("0x58f")]}))),e&&e(i),i},d[_0x1d97("0x54f")]=function(x){for(var d=x.points.map((function(x){return{x:-x.x,y:x.y}})),_={dis:0,pa:null,pb:null},e=0;e<d.length-1;e++){var t=d[e],a=d[e+1],i=(0,g[_0x1d97("0xbc")])(t,a);i>_[_0x1d97("0x590")]&&(_.dis=i,_.pa=t,_.pb=a)}return _.pa=new(THREE[_0x1d97("0x4be")])(_.pa.x,_.pa.y),_.pb=new(THREE[_0x1d97("0x4be")])(_.pb.x,_.pb.y),esmap[_0x1d97("0x75")].getRouteAngle(_.pa,_.pb)},d[_0x1d97("0x4e0")]=function(x,d,_,e){return esmap.ESMap[_0x1d97("0x34")].TEXTURE_LOADER[_0x1d97("0x591")](x,d,_,e)},d[_0x1d97("0x550")]=function(x,d,_,e){d=d||"position",_=_||_0x1d97("0x592"),(0,t[_0x1d97("0x1c")])(x,{x:{get:function(){return esmap[_0x1d97("0x33")].instance[_0x1d97("0xe7")].x-this[d].x},set:function(x){var _=esmap[_0x1d97("0x33")][_0x1d97("0x34")].center.x;this[d].x=_-x}},y:{get:function(){var x=esmap.ESMap[_0x1d97("0x34")].center.y;return this[d].z+x},set:function(x){var _=esmap.ESMap[_0x1d97("0x34")][_0x1d97("0xe7")].y;this[d].z=x-_}},height:e||{get:function(){return this[_]},set:function(x){this[_]=x}}})},d.pointInArea=function(x,d){for(var _=!1,e=-1,t=d[_0x1d97("0x0")],a=t-1;++e<t;a=e)(d[e].y<=x.y&&x.y<d[a].y||d[a].y<=x.y&&x.y<d[e].y)&&x.x<(Math[_0x1d97("0x253")](d[a].x)-Math[_0x1d97("0x253")](d[e].x))*(x.y-d[e].y)/(d[a].y-d[e].y)+Math.abs(d[e].x)&&(_=!_);return _},d[_0x1d97("0x551")]=function(x){return(0,h[_0x1d97("0x593")])(x)},d.getCenterByExtent=function(x){var d=(x[_0x1d97("0x44d")]+x[_0x1d97("0x449")])/2,_=(x.maxY+x[_0x1d97("0x44c")])/2;return{x:d,y:_}},d.encode64=function(x){var d,_,e,t,a,i=_0x1d97("0x594")+_0x1d97("0x595")+_0x1d97("0x596")+_0x1d97("0x597")+"=",n="",r="",s="",o=0;do{d=x.charCodeAt(o++),_=x[_0x1d97("0x2a")](o++),r=x[_0x1d97("0x2a")](o++),e=d>>4,t=(3&d)<<4|_>>4,a=(15&_)<<2|r>>6,s=63&r,isNaN(_)?a=s=64:isNaN(r)&&(s=64),n=n+i.charAt(e)+i[_0x1d97("0x598")](t)+i.charAt(a)+i[_0x1d97("0x598")](s),d=_=r="",e=t=a=s=""}while(o<x[_0x1d97("0x0")]);return n},d[_0x1d97("0x552")]=function(x){var d=x[_0x1d97("0xe6")],_=void 0===d?[]:d,e=x[_0x1d97("0x599")],t=void 0===e?20:e;if(_[_0x1d97("0x0")]<3)return;var a=new THREE.QuadraticBezierCurve3(new(THREE[_0x1d97("0xe0")])(_[0].x,_[0].offset,_[0].y),new(THREE[_0x1d97("0xe0")])(_[1].x,_[1][_0x1d97("0x113")],_[1].y),new THREE.Vector3(_[2].x,_[2][_0x1d97("0x113")],_[2].y)).getPoints(t),i=[],n=!0,r=!1,s=void 0;try{for(var c,l=(0,o.default)(a);!(n=(c=l.next())[_0x1d97("0x3e8")]);n=!0){var u=c[_0x1d97("0xf1")];i[_0x1d97("0x1")]({x:u.x,y:u.z,offset:u.y})}}catch(x){r=!0,s=x}finally{try{!n&&l.return&&l[_0x1d97("0x2af")]()}finally{if(r)throw s}}return i},d[_0x1d97("0x553")]=function(x){for(var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]&&arguments[1],_=0;_<x[_0x1d97("0x0")];_++){var e=x[_-1],t=x[_+1],a=x[_];if(t&&a){if(a.x==t.x&&a.z==t.z&&a.y==t.y){x[_0x1d97("0x189")](_+1,1),_--;continue}if(d&&t[_0x1d97("0x25d")](a)<=.1){x.splice(_+1,1),_--;continue}}if(e&&t&&e.y==t.y&&e.y==a.y){var i=new(THREE[_0x1d97("0xe0")])(a.x,0,a.z),n=new(THREE[_0x1d97("0xe0")])(e.x,0,e.z),r=new THREE.Vector3(t.x,0,t.z),s=n.clone()[_0x1d97("0x3d7")](i[_0x1d97("0xdb")]()).normalize(),o=r[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](i[_0x1d97("0xdb")]())[_0x1d97("0x2e1")](),c=s[_0x1d97("0x59a")](o),l=Math[_0x1d97("0x253")](s[_0x1d97("0x24d")](o))<Math.PI/6;if(c||l){var u=a[_0x1d97("0xdb")]();u.y+=.01,u[_0x1d97("0xe8")]=a[_0x1d97("0xe8")],x[_0x1d97("0x189")](_,0,u),_+=1;continue}}}},d[_0x1d97("0x554")]=function(x){var d=x[_0x1d97("0xe6")],_=void 0===d?[]:d,e=x[_0x1d97("0x58b")],t=void 0===e?.3:e,a=x[_0x1d97("0x599")],i=void 0===a?8:a,n=esmap[_0x1d97("0x33")][_0x1d97("0x34")],r=_[_0x1d97("0x38")]((function(x){var d=x.z||x[_0x1d97("0x113")]||0,_={x:x.x,y:x.y},e=n[_0x1d97("0x2f9")](_);return e.y=d,e[_0x1d97("0xe8")]=x[_0x1d97("0xe8")]||1,e})),s=esmap[_0x1d97("0x50f")][_0x1d97("0x554")](r,i,t);return s=s[_0x1d97("0x38")]((function(x){var d=n[_0x1d97("0x23d")](x);return{x:d.x,y:d.y,offset:x.y,fnum:x[_0x1d97("0xe8")]}}))},d[_0x1d97("0x25a")]=function(x,d){var _=new(THREE[_0x1d97("0xe0")])(0,0,1),e=new THREE.Vector3(x.x,0,x.y),t=new THREE.Vector3(d.x,0,d.y).clone()[_0x1d97("0x3d7")](e).normalize(),a=t[_0x1d97("0x24d")](_)*THREE.Math[_0x1d97("0x59b")];return t[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](_).y>0?360-a:a},d.getDeviceDPI=function(){var x=new Array;if(null!=window[_0x1d97("0x59c")][_0x1d97("0x1f")])x[0]=window[_0x1d97("0x59c")][_0x1d97("0x1f")],x[1]=window[_0x1d97("0x59c")][_0x1d97("0x20")];else{var d=document[_0x1d97("0x21")](_0x1d97("0x59d"));d.style[_0x1d97("0x23")]=_0x1d97("0x24"),document[_0x1d97("0x1ec")][_0x1d97("0x25")](d),x[0]=parseInt(d[_0x1d97("0x3aa")]),x[1]=parseInt(d[_0x1d97("0x26")]),d[_0x1d97("0x27")][_0x1d97("0x39a")](d)}return x},d[_0x1d97("0xaf")]=function(x){return u[_0x1d97("0x1c")][_0x1d97("0x38b")]([x[0],x[1]],u.default.WGS84,u[_0x1d97("0x1c")][_0x1d97("0x59e")])},d[_0x1d97("0x555")]=function(x){return u.default[_0x1d97("0x38b")]([x[0],x[1]],u.default.GCJ02,u.default.WGS84)},d[_0x1d97("0xa9")]=function(x,d){var _=[],e=x/20037508.342789*180,t=d/20037508.342789*180;return t=180/Math.PI*(2*Math.atan(Math[_0x1d97("0x59f")](t*Math.PI/180))-Math.PI/2),_[_0x1d97("0x1")](e),_[_0x1d97("0x1")](t),_},d[_0x1d97("0xac")]=function(x,d){var _=[],e=20037508.342789*x/180,t=Math[_0x1d97("0x246")](Math.tan((90+d)*Math.PI/360))/(Math.PI/180);return t=20037508.34789*t/180,_[_0x1d97("0x1")](e),_[_0x1d97("0x1")](t),_},d.transformWGS84ToMap=function(x){var d=x,_=esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(Array.isArray(x)){var e=esmap[_0x1d97("0x75")][_0x1d97("0xac")](x[0],x[1]);d={x:e[0],y:e[1]}}return _[_0x1d97("0x1a6")]({from:_0x1d97("0x1c7"),to:_[_0x1d97("0x17a")],coord:d})},d[_0x1d97("0x556")]=function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=x;if(Array[_0x1d97("0x547")](x)){var e=esmap[_0x1d97("0x75")][_0x1d97("0xac")](x[0],x[1]);_={x:e[0],y:e[1]}}return d.transformCoord({from:_0x1d97("0x5a0"),to:d[_0x1d97("0x17a")],coord:_})},d[_0x1d97("0x557")]=function(x){var d=esmap.ESMap.instance,_=x;if(Array.isArray(x)){var e=esmap.ESMapUtil.lonLat2Mercator(x[0],x[1]);_={x:e[0],y:e[1]}}return d[_0x1d97("0x1a6")]({from:"GCJ02",to:d[_0x1d97("0x17a")],coord:_})},d[_0x1d97("0x558")]=function(x){return esmap[_0x1d97("0x75")][_0x1d97("0xa9")](x.x,x.y)},d[_0x1d97("0x559")]=function(x,d){function _(x){return x*Math.PI/180}var e=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x36")],t=0;if(e===esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var a=esmap[_0x1d97("0x75")].Mercator2lonLat(x.x,x.y),i=esmap[_0x1d97("0x75")][_0x1d97("0xa9")](d.x,d.y),n=_(a[1]),r=_(i[1]),s=n-r,o=_(a[0])-_(i[0]);t=6378.137*(t=2*Math[_0x1d97("0x5a1")](Math[_0x1d97("0xc3")](Math.pow(Math[_0x1d97("0x569")](s/2),2)+Math.cos(n)*Math[_0x1d97("0x5a2")](r)*Math[_0x1d97("0xa8")](Math.sin(o/2),2))))*1e3}else t=(0,g[_0x1d97("0xbc")])(x,d);return t},d[_0x1d97("0x55a")]=function(x){x=x||null;var d=new Date(x),_=d.getFullYear()+"-",e=(d.getMonth()+1<10?"0"+(d[_0x1d97("0x5a3")]()+1):d.getMonth()+1)+"-",t=(d.getDate()<10?"0"+d[_0x1d97("0x5a4")]():d.getDate())+" ",a=(d.getHours()<10?"0"+d[_0x1d97("0x5a5")]():d[_0x1d97("0x5a5")]())+":",i=(d[_0x1d97("0x5a6")]()<10?"0"+d[_0x1d97("0x5a6")]():d[_0x1d97("0x5a6")]())+":",n=d[_0x1d97("0x5a7")]()<10?"0"+d[_0x1d97("0x5a7")]():d[_0x1d97("0x5a7")]();return _+e+t+a+i+n},d.getPolygonBounds=function(x){for(var d={maxX:0,minX:1/0,maxY:0,minY:1/0},_=0;_<x.length;_++){var e=x[_];e.y<d[_0x1d97("0x44c")]&&(d.minY=e.y),e.y>d.maxY&&(d[_0x1d97("0x44e")]=e.y),e.x<d[_0x1d97("0x449")]&&(d[_0x1d97("0x449")]=e.x),e.x>d.maxX&&(d.maxX=e.x)}return d};var u=m(_(96)),f=m(_(249)),h=(_(11),_(250)),b=_(34),g=_(44),v=m(_(23));function m(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var A=1e-5,C=null},,,,function(x,d,_){"use strict";function e(x,d){for(var _=x.x,e=x.y,t=0,a=0;a<d[_0x1d97("0x0")];a++){var i=d[a],n=i.y1<i.y2?i.y2:i.y1;if(e>(i.y1<i.y2?i.y1:i.y2)&&e<n)_<=(i.x1*i.y2-i.x2*i.y1-(i.x1-i.x2)*e)/(i.y2-i.y1)&&t++}return t%2!=0}Object.defineProperty(d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0x55c")]=function(x,d){var _,t=x,a=d;if(0==(_=function(x,d){for(var _,e,t,a,i,n,r,s,o=0;o<x[_0x1d97("0x0")];o++){var c=x[o];_=_>c.x?_:c.x,t=t<c.x?t:c.x,e=e>c.y?e:c.y,a=a<c.y?a:c.y}for(o=0;o<d[_0x1d97("0x0")];o++){var l=d[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}return!(_<=r||i<=t||a>=n||s>=e)}(t,a)))return _;var i=o(t),n=o(a);if(_=function(x,d){for(var _=function(x,d){this.x=x,this.y=d},e=0;e<x[_0x1d97("0x0")];e++)for(var t=x[e],a=0;a<d[_0x1d97("0x0")];a++){var i=d[a],n=new _(i.x2-i.x1,i.y2-i.y1),r=new _(t.x1-i.x1,t.y1-i.y1),s=new _(t.x2-i.x1,t.y2-i.y1),o=r.x*n.y-n.x*r.y,c=s.x*n.y-n.x*s.y,l=new _(t.x2-t.x1,t.y2-t.y1),u=new _(i.x1-t.x1,i.y1-t.y1),f=new _(i.x2-t.x1,i.y2-t.y1),h=u.x*l.y-l.x*u.y,b=f.x*l.y-l.x*f.y;if(o*c<0&&h*b<0)return!0}return!1;function _(x,d){this.x=x,this.y=d}}(i,n))return _;for(var r=0,s=0;s<t.length-1;s++){e(t[s],n)&&r++}return _=r==t.length-1;function o(x){for(var d=[],_=0;_<x.length-1;_++){var e=x[_],t=x[_+1];d[_0x1d97("0x1")]({x1:e.x,y1:e.y,x2:t.x,y2:t.y})}return d}},d[_0x1d97("0x593")]=function(x){for(var d,_,e,t,a=0;a<x[_0x1d97("0x0")];a++){var i=x[a];d=d>i.x?d:i.x,e=e<i.x?e:i.x,_=_>i.y?_:i.y,t=t<i.y?t:i.y}return{maxX:d,minX:e,maxY:_,minY:t}},d[_0x1d97("0x55d")]=function(x,d){for(var _,e,t,a,i,n,r,s,o=0;o<x[_0x1d97("0x0")];o++){var c=x[o];_=_>c.x?_:c.x,t=t<c.x?t:c.x,e=e>c.y?e:c.y,a=a<c.y?a:c.y}for(o=0;o<d.length;o++){var l=d[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}var u=t<=r,f=e>=n,h=a<=s;return _>=i&&u&&f&&h}},function(x,d,_){"use strict";(function(x){Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=a(_(18)),t=a(_(16));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){this._tweens={},this[_0x1d97("0x5a8")]={}};i[_0x1d97("0xf")]={getAll:function(){return(0,t[_0x1d97("0x1c")])(this[_0x1d97("0x5a9")])[_0x1d97("0x38")](function(x){return this[_0x1d97("0x5a9")][x]}[_0x1d97("0x11")](this))},removeAll:function(){this[_0x1d97("0x5a9")]={}},add:function(x){this[_0x1d97("0x5a9")][x[_0x1d97("0x5aa")]()]=x,this[_0x1d97("0x5a8")][x[_0x1d97("0x5aa")]()]=x},remove:function(x){delete this._tweens[x[_0x1d97("0x5aa")]()],delete this[_0x1d97("0x5a8")][x[_0x1d97("0x5aa")]()]},update:function(x,d){var _=(0,t[_0x1d97("0x1c")])(this._tweens);if(0===_.length)return!1;for(x=void 0!==x?x:r.now();_[_0x1d97("0x0")]>0;){this[_0x1d97("0x5a8")]={};for(var e=0;e<_.length;e++){var a=this[_0x1d97("0x5a9")][_[e]];a&&!1===a[_0x1d97("0x11d")](x)&&(a[_0x1d97("0x5ab")]=!1,d||delete this[_0x1d97("0x5a9")][_[e]])}_=(0,t[_0x1d97("0x1c")])(this._tweensAddedDuringUpdate)}return!0}};var n,r=new i;r.Group=i,r._nextId=0,r.nextId=function(){return r[_0x1d97("0x5ac")]++},r.fadeTo=function(x,d,_,e){return new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])({value:0}).to({value:1},1e3*x)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]).onUpdate(d)[_0x1d97("0x1bd")](e).start()},"undefined"==typeof self&&typeof x!==_0x1d97("0x8")&&x[_0x1d97("0x5ad")]?r[_0x1d97("0x5ae")]=function(){var d=x[_0x1d97("0x5ad")]();return 1e3*d[0]+d[1]/1e6}:typeof self!==_0x1d97("0x8")&&void 0!==self[_0x1d97("0x5af")]&&void 0!==self[_0x1d97("0x5af")].now?r[_0x1d97("0x5ae")]=self[_0x1d97("0x5af")].now[_0x1d97("0x11")](self[_0x1d97("0x5af")]):void 0!==Date.now?r[_0x1d97("0x5ae")]=Date[_0x1d97("0x5ae")]:r.now=function(){return(new Date)[_0x1d97("0x74")]()},r[_0x1d97("0x1b8")]=function(x,d){this[_0x1d97("0x5b0")]=!1,this[_0x1d97("0x5b1")]=null,this[_0x1d97("0x5b2")]=x,this[_0x1d97("0x5b3")]={},this[_0x1d97("0x5b4")]={},this[_0x1d97("0x5b5")]={},this[_0x1d97("0x5b6")]=1e3,this._repeat=0,this[_0x1d97("0x5b7")]=void 0,this[_0x1d97("0x5b8")]=!1,this[_0x1d97("0x5ab")]=!1,this._reversed=!1,this[_0x1d97("0x5b9")]=0,this[_0x1d97("0x5ba")]=null,this[_0x1d97("0x5bb")]=r[_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")],this[_0x1d97("0x5bc")]=r[_0x1d97("0x5bd")].Linear,this[_0x1d97("0x5be")]=[],this[_0x1d97("0x5bf")]=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this[_0x1d97("0x5c0")]=null,this[_0x1d97("0x5c1")]=null,this._onStopCallback=null,this[_0x1d97("0x5c2")]=d||r,this._id=r[_0x1d97("0x5c3")]()},r[_0x1d97("0x1b8")][_0x1d97("0xf")]={getId:function(){return this[_0x1d97("0x170")]},isPlaying:function(){return this[_0x1d97("0x5ab")]},isPaused:function(){return this[_0x1d97("0x5b0")]},to:function(x,d){return this[_0x1d97("0x5b4")]=(0,e[_0x1d97("0x1c")])(x),void 0!==d&&(this[_0x1d97("0x5b6")]=d),this},duration:function(x){return this[_0x1d97("0x5b6")]=x,this},start:function(x){for(var d in this[_0x1d97("0x5c2")][_0x1d97("0xdc")](this),this._isPlaying=!0,this[_0x1d97("0x5b0")]=!1,this._onStartCallbackFired=!1,this[_0x1d97("0x5ba")]=void 0!==x?"string"==typeof x?r[_0x1d97("0x5ae")]()+parseFloat(x):x:r[_0x1d97("0x5ae")](),this[_0x1d97("0x5ba")]+=this[_0x1d97("0x5b9")],this[_0x1d97("0x5b4")]){if(this[_0x1d97("0x5b4")][d]instanceof Array){if(0===this._valuesEnd[d][_0x1d97("0x0")])continue;this[_0x1d97("0x5b4")][d]=[this[_0x1d97("0x5b2")][d]][_0x1d97("0x1de")](this[_0x1d97("0x5b4")][d])}void 0!==this[_0x1d97("0x5b2")][d]&&(typeof this[_0x1d97("0x5b3")][d]===_0x1d97("0x8")&&(this._valuesStart[d]=this[_0x1d97("0x5b2")][d]),this[_0x1d97("0x5b3")][d]instanceof Array==!1&&(this[_0x1d97("0x5b3")][d]*=1),this[_0x1d97("0x5b5")][d]=this._valuesStart[d]||0)}return this},stop:function(){return this._isPlaying?(this[_0x1d97("0x5c2")].remove(this),this._isPlaying=!1,this[_0x1d97("0x5b0")]=!1,null!==this._onStopCallback&&this._onStopCallback(this[_0x1d97("0x5b2")]),this[_0x1d97("0x5c4")](),this):this},end:function(){return this[_0x1d97("0x11d")](1/0),this},pause:function(x){return this[_0x1d97("0x5b0")]||!this[_0x1d97("0x5ab")]||(this._isPaused=!0,this[_0x1d97("0x5b1")]=void 0===x?r[_0x1d97("0x5ae")]():x,this._group[_0x1d97("0x149")](this)),this},resume:function(x){return this._isPaused&&this[_0x1d97("0x5ab")]?(this._isPaused=!1,this._startTime+=(void 0===x?r[_0x1d97("0x5ae")]():x)-this[_0x1d97("0x5b1")],this[_0x1d97("0x5b1")]=0,this[_0x1d97("0x5c2")][_0x1d97("0xdc")](this),this):this},stopChainedTweens:function(){for(var x=0,d=this[_0x1d97("0x5be")][_0x1d97("0x0")];x<d;x++)this[_0x1d97("0x5be")][x][_0x1d97("0x1af")]()},group:function(x){return this._group=x,this},delay:function(x){return this[_0x1d97("0x5b9")]=x,this},repeat:function(x){return this[_0x1d97("0x5c5")]=x,this},repeatDelay:function(x){return this._repeatDelayTime=x,this},yoyo:function(x){return this[_0x1d97("0x5b8")]=x,this},easing:function(x){return this[_0x1d97("0x5bb")]=x,this},interpolation:function(x){return this[_0x1d97("0x5bc")]=x,this},chain:function(){return this[_0x1d97("0x5be")]=arguments,this},onStart:function(x){return this[_0x1d97("0x5bf")]=x,this},onUpdate:function(x){return this._onUpdateCallback=x,this},onRepeat:function(x){return this[_0x1d97("0x5c0")]=x,this},onComplete:function(x){return this[_0x1d97("0x5c1")]=x,this},onStop:function(x){return this[_0x1d97("0x5c6")]=x,this},update:function(x){var d,_,e;if(r[_0x1d97("0x38")][_0x1d97("0x5c7")]=0,x<this._startTime)return!0;for(d in!1===this[_0x1d97("0x5c8")]&&(null!==this[_0x1d97("0x5bf")]&&this[_0x1d97("0x5bf")](this[_0x1d97("0x5b2")]),this._onStartCallbackFired=!0),_=(x-this[_0x1d97("0x5ba")])/this[_0x1d97("0x5b6")],_=0===this[_0x1d97("0x5b6")]||_>1?1:_,e=this[_0x1d97("0x5bb")](_),this[_0x1d97("0x5b4")])if(void 0!==this[_0x1d97("0x5b3")][d]){var t=this[_0x1d97("0x5b3")][d]||0,a=this._valuesEnd[d];a instanceof Array?this._object[d]=this[_0x1d97("0x5bc")](a,e):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a[_0x1d97("0x598")](0)?t+parseFloat(a):parseFloat(a)),typeof a===_0x1d97("0x13d")&&(this[_0x1d97("0x5b2")][d]=t+(a-t)*e))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this[_0x1d97("0x5b2")],_),1===_){if(this._repeat>0){for(d in isFinite(this[_0x1d97("0x5c5")])&&this._repeat--,this._valuesStartRepeat){if(typeof this._valuesEnd[d]===_0x1d97("0xe")&&(this[_0x1d97("0x5b5")][d]=this[_0x1d97("0x5b5")][d]+parseFloat(this[_0x1d97("0x5b4")][d])),this[_0x1d97("0x5b8")]){var i=this[_0x1d97("0x5b5")][d];this[_0x1d97("0x5b5")][d]=this[_0x1d97("0x5b4")][d],this._valuesEnd[d]=i}this[_0x1d97("0x5b3")][d]=this[_0x1d97("0x5b5")][d]}return this[_0x1d97("0x5b8")]&&(this._reversed=!this[_0x1d97("0x5c9")]),void 0!==this._repeatDelayTime?this[_0x1d97("0x5ba")]=x+this[_0x1d97("0x5b7")]:this[_0x1d97("0x5ba")]=x+this[_0x1d97("0x5b9")],null!==this[_0x1d97("0x5c0")]&&this[_0x1d97("0x5c0")](this[_0x1d97("0x5b2")]),!0}null!==this[_0x1d97("0x5c1")]&&this[_0x1d97("0x5c1")](this[_0x1d97("0x5b2")]);for(var n=0,s=this[_0x1d97("0x5be")][_0x1d97("0x0")];n<s;n++)this._chainedTweens[n][_0x1d97("0x1c1")](this._startTime+this[_0x1d97("0x5b6")]);return!1}return!0}},r.Easing={Linear:{None:function(x){return x}},Quadratic:{In:function(x){return x*x},Out:function(x){return x*(2-x)},InOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)}},Cubic:{In:function(x){return x*x*x},Out:function(x){return--x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)}},Quartic:{In:function(x){return x*x*x*x},Out:function(x){return 1- --x*x*x*x},InOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)}},Quintic:{In:function(x){return x*x*x*x*x},Out:function(x){return--x*x*x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)}},Sinusoidal:{In:function(x){return 1-Math[_0x1d97("0x5a2")](x*Math.PI/2)},Out:function(x){return Math[_0x1d97("0x569")](x*Math.PI/2)},InOut:function(x){return.5*(1-Math[_0x1d97("0x5a2")](Math.PI*x))}},Exponential:{In:function(x){return 0===x?0:Math[_0x1d97("0xa8")](1024,x-1)},Out:function(x){return 1===x?1:1-Math[_0x1d97("0xa8")](2,-10*x)},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?.5*Math[_0x1d97("0xa8")](1024,x-1):.5*(2-Math[_0x1d97("0xa8")](2,-10*(x-1)))}},Circular:{In:function(x){return 1-Math[_0x1d97("0xc3")](1-x*x)},Out:function(x){return Math[_0x1d97("0xc3")](1- --x*x)},InOut:function(x){return(x*=2)<1?-.5*(Math[_0x1d97("0xc3")](1-x*x)-1):.5*(Math[_0x1d97("0xc3")](1-(x-=2)*x)+1)}},Elastic:{In:function(x){return 0===x?0:1===x?1:-Math[_0x1d97("0xa8")](2,10*(x-1))*Math[_0x1d97("0x569")](5*(x-1.1)*Math.PI)},Out:function(x){return 0===x?0:1===x?1:Math[_0x1d97("0xa8")](2,-10*x)*Math[_0x1d97("0x569")](5*(x-.1)*Math.PI)+1},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?-.5*Math[_0x1d97("0xa8")](2,10*(x-1))*Math[_0x1d97("0x569")](5*(x-1.1)*Math.PI):.5*Math.pow(2,-10*(x-1))*Math[_0x1d97("0x569")](5*(x-1.1)*Math.PI)+1}},Back:{In:function(x){var d=1.70158;return x*x*(2.70158*x-d)},Out:function(x){var d=1.70158;return--x*x*(2.70158*x+d)+1},InOut:function(x){var d=2.5949095;return(x*=2)<1?x*x*(3.5949095*x-d)*.5:.5*((x-=2)*x*(3.5949095*x+d)+2)}},Bounce:{In:function(x){return 1-r[_0x1d97("0x1ba")][_0x1d97("0x1bf")][_0x1d97("0x1c0")](1-x)},Out:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},InOut:function(x){return x<.5?.5*r[_0x1d97("0x1ba")][_0x1d97("0x1bf")].In(2*x):.5*r[_0x1d97("0x1ba")].Bounce[_0x1d97("0x1c0")](2*x-1)+.5}}},r[_0x1d97("0x5bd")]={Linear:function(x,d){var _=x[_0x1d97("0x0")]-1,e=_*d,t=Math[_0x1d97("0x2b")](e),a=r[_0x1d97("0x5bd")][_0x1d97("0x5ca")].Linear;return d<0?a(x[0],x[1],e):d>1?a(x[_],x[_-1],_-e):a(x[t],x[t+1>_?_:t+1],e-t)},Bezier:function(x,d){for(var _=0,e=x.length-1,t=Math[_0x1d97("0xa8")],a=r[_0x1d97("0x5bd")].Utils[_0x1d97("0x5cb")],i=0;i<=e;i++)_+=t(1-d,e-i)*t(d,i)*x[i]*a(e,i);return _},CatmullRom:function(x,d){var _=x[_0x1d97("0x0")]-1,e=_*d,t=Math.floor(e),a=r.Interpolation[_0x1d97("0x5ca")][_0x1d97("0x5cc")];return x[0]===x[_]?(d<0&&(t=Math[_0x1d97("0x2b")](e=_*(1+d))),a(x[(t-1+_)%_],x[t],x[(t+1)%_],x[(t+2)%_],e-t)):d<0?x[0]-(a(x[0],x[0],x[1],x[1],-e)-x[0]):d>1?x[_]-(a(x[_],x[_],x[_-1],x[_-1],e-_)-x[_]):a(x[t?t-1:0],x[t],x[_<t+1?_:t+1],x[_<t+2?_:t+2],e-t)},Utils:{Linear:function(x,d,_){return(d-x)*_+x},Bernstein:function(x,d){var _=r[_0x1d97("0x5bd")][_0x1d97("0x5ca")][_0x1d97("0x5cd")];return _(x)/_(d)/_(x-d)},Factorial:(n=[1],function(x){var d=1;if(n[x])return n[x];for(var _=x;_>1;_--)d*=_;return n[x]=d,d}),CatmullRom:function(x,d,_,e,t){var a=.5*(_-x),i=.5*(e-d),n=t*t;return(2*d-2*_+a+i)*(t*n)+(-3*d+3*_-2*a-i)*n+a*t+d}}},d.default=r})[_0x1d97("0x3")](this,_(66))},function(x,d,_){"use strict";THREE[_0x1d97("0x5ce")]={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:[_0x1d97("0x5cf"),_0x1d97("0x5d0"),_0x1d97("0x5d1"),_0x1d97("0x5d2"),"}"].join("\n"),fragmentShader:[_0x1d97("0x10a"),_0x1d97("0x5d3"),_0x1d97("0x5cf"),_0x1d97("0x5d0"),_0x1d97("0x5d4"),_0x1d97("0x5d5"),"}"][_0x1d97("0x2e")]("\n")}},function(x,d,_){"use strict";var e,t,a,i,n=_(2),r=(e=n)&&e[_0x1d97("0xb")]?e:{default:e};THREE.EffectComposer=function(x,d){if(this.renderer=x,void 0===d){var _={minFilter:THREE[_0x1d97("0x5d6")],magFilter:THREE[_0x1d97("0x5d6")],format:THREE[_0x1d97("0x5d7")],stencilBuffer:!1},e=x[_0x1d97("0x5d8")](new THREE.Vector2);this._pixelRatio=x.getPixelRatio(),this[_0x1d97("0x5d9")]=e[_0x1d97("0x328")],this[_0x1d97("0x5da")]=e[_0x1d97("0x1b5")],(d=new(THREE[_0x1d97("0x5db")])(this._width*this._pixelRatio,this[_0x1d97("0x5da")]*this[_0x1d97("0x5dc")],_)).texture[_0x1d97("0xb8")]=_0x1d97("0x5dd")}else this[_0x1d97("0x5dc")]=1,this[_0x1d97("0x5d9")]=d[_0x1d97("0x328")],this[_0x1d97("0x5da")]=d[_0x1d97("0x1b5")];this[_0x1d97("0x5de")]=d,this[_0x1d97("0x5df")]=d.clone(),this[_0x1d97("0x5df")][_0x1d97("0x4c4")].name=_0x1d97("0x5e0"),this[_0x1d97("0x5e1")]=this.renderTarget1,this.readBuffer=this[_0x1d97("0x5df")],this[_0x1d97("0x5e2")]=!0,this[_0x1d97("0x5e3")]=[],void 0===THREE[_0x1d97("0x5ce")]&&console[_0x1d97("0x245")](_0x1d97("0x5e4")),void 0===THREE.ShaderPass&&console[_0x1d97("0x245")](_0x1d97("0x5e5")),this[_0x1d97("0x5e6")]=new THREE.ShaderPass(THREE[_0x1d97("0x5ce")]),this[_0x1d97("0x2df")]=new THREE.Clock},(0,r[_0x1d97("0x1c")])(THREE.EffectComposer.prototype,{swapBuffers:function(){var x=this[_0x1d97("0x5e7")];this[_0x1d97("0x5e7")]=this.writeBuffer,this[_0x1d97("0x5e1")]=x},addPass:function(x){this[_0x1d97("0x5e3")].push(x);var d=this[_0x1d97("0x5e8")][_0x1d97("0x5e9")](new(THREE[_0x1d97("0x4be")]));x.setSize(d[_0x1d97("0x328")],d[_0x1d97("0x1b5")])},insertPass:function(x,d){this[_0x1d97("0x5e3")][_0x1d97("0x189")](d,0,x)},isLastEnabledPass:function(x){for(var d=x+1;d<this[_0x1d97("0x5e3")][_0x1d97("0x0")];d++)if(this[_0x1d97("0x5e3")][d][_0x1d97("0x4d0")])return!1;return!0},render:function(x){void 0===x&&(x=this[_0x1d97("0x2df")][_0x1d97("0x2c1")]());var d,_,e=this[_0x1d97("0x5e8")][_0x1d97("0x5ea")](),t=!1,a=this.passes.length;for(_=0;_<a;_++)if(!1!==(d=this[_0x1d97("0x5e3")][_])[_0x1d97("0x4d0")]){if(d[_0x1d97("0x5e2")]=this[_0x1d97("0x5e2")]&&this[_0x1d97("0x5eb")](_),d[_0x1d97("0x4cd")](this[_0x1d97("0x5e8")],this[_0x1d97("0x5e1")],this.readBuffer,x,t),d[_0x1d97("0x5ec")]){if(t){var i=this[_0x1d97("0x5e8")].context;i.stencilFunc(i[_0x1d97("0x5ed")],1,4294967295),this[_0x1d97("0x5e6")].render(this[_0x1d97("0x5e8")],this.writeBuffer,this[_0x1d97("0x5e7")],x),i[_0x1d97("0x5ee")](i.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE[_0x1d97("0x5ef")]&&(d instanceof THREE[_0x1d97("0x5ef")]?t=!0:d instanceof THREE[_0x1d97("0x5f0")]&&(t=!1))}this[_0x1d97("0x5e8")][_0x1d97("0x5f1")](e)},reset:function(x){if(void 0===x){var d=this[_0x1d97("0x5e8")].getSize(new THREE.Vector2);this[_0x1d97("0x5dc")]=this[_0x1d97("0x5e8")][_0x1d97("0x5f2")](),this[_0x1d97("0x5d9")]=d.width,this[_0x1d97("0x5da")]=d.height,(x=this[_0x1d97("0x5de")][_0x1d97("0xdb")]()).setSize(this._width*this[_0x1d97("0x5dc")],this._height*this[_0x1d97("0x5dc")])}this[_0x1d97("0x5de")][_0x1d97("0xa6")](),this.renderTarget2.dispose(),this.renderTarget1=x,this[_0x1d97("0x5df")]=x[_0x1d97("0xdb")](),this[_0x1d97("0x5e1")]=this[_0x1d97("0x5de")],this[_0x1d97("0x5e7")]=this.renderTarget2},setSize:function(x,d){this._width=x,this[_0x1d97("0x5da")]=d;var _=this._width*this[_0x1d97("0x5dc")],e=this[_0x1d97("0x5da")]*this._pixelRatio;this.renderTarget1[_0x1d97("0x5f3")](_,e),this[_0x1d97("0x5df")][_0x1d97("0x5f3")](_,e);for(var t=0;t<this.passes[_0x1d97("0x0")];t++)this[_0x1d97("0x5e3")][t].setSize(_,e)},setPixelRatio:function(x){this._pixelRatio=x,this[_0x1d97("0x5f3")](this[_0x1d97("0x5d9")],this[_0x1d97("0x5da")])}}),THREE[_0x1d97("0x5f4")]=function(){this[_0x1d97("0x4d0")]=!0,this[_0x1d97("0x5ec")]=!0,this[_0x1d97("0x5f5")]=!1,this[_0x1d97("0x5e2")]=!1},(0,r[_0x1d97("0x1c")])(THREE[_0x1d97("0x5f4")][_0x1d97("0xf")],{setSize:function(){},render:function(){_0x1d97("0x5f6")}}),THREE.Pass.FullScreenQuad=(t=new(THREE[_0x1d97("0x5f7")])(-1,1,1,-1,0,1),a=new(THREE[_0x1d97("0x5f8")])(2,2),i=function(x){this._mesh=new(THREE[_0x1d97("0x14a")])(a,x)},Object[_0x1d97("0x7")](i.prototype,_0x1d97("0xa7"),{get:function(){return this[_0x1d97("0x5f9")][_0x1d97("0xa7")]},set:function(x){this[_0x1d97("0x5f9")][_0x1d97("0xa7")]=x}}),(0,r[_0x1d97("0x1c")])(i[_0x1d97("0xf")],{render:function(x){x[_0x1d97("0x4cd")](this[_0x1d97("0x5f9")],t)}}),i)},function(x,d,_){"use strict";var e=a(_(18)),t=a(_(2));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}THREE.MaskPass=function(x,d){THREE[_0x1d97("0x5f4")][_0x1d97("0x3")](this),this.scene=x,this[_0x1d97("0x567")]=d,this.clear=!0,this[_0x1d97("0x5ec")]=!1,this[_0x1d97("0x3dc")]=!1},THREE[_0x1d97("0x5ef")][_0x1d97("0xf")]=(0,t[_0x1d97("0x1c")])((0,e.default)(THREE[_0x1d97("0x5f4")][_0x1d97("0xf")]),{constructor:THREE[_0x1d97("0x5ef")],render:function(x,d,_){var e,t,a=x.context,i=x[_0x1d97("0x5fa")];i[_0x1d97("0x3f5")][_0x1d97("0x100")][_0x1d97("0x5fb")](!1),i[_0x1d97("0x3f5")].depth.setMask(!1),i[_0x1d97("0x3f5")][_0x1d97("0x100")][_0x1d97("0x5fc")](!0),i[_0x1d97("0x3f5")].depth[_0x1d97("0x5fc")](!0),this[_0x1d97("0x3dc")]?(e=0,t=1):(e=1,t=0),i.buffers[_0x1d97("0x5fd")][_0x1d97("0x5fe")](!0),i.buffers[_0x1d97("0x5fd")][_0x1d97("0x5ff")](a[_0x1d97("0x600")],a.REPLACE,a[_0x1d97("0x600")]),i.buffers.stencil[_0x1d97("0x601")](a[_0x1d97("0x602")],e,4294967295),i[_0x1d97("0x3f5")][_0x1d97("0x5fd")][_0x1d97("0x603")](t),x[_0x1d97("0x5f1")](_),this.clear&&x.clear(),x[_0x1d97("0x4cd")](this[_0x1d97("0x305")],this[_0x1d97("0x567")]),x.setRenderTarget(d),this[_0x1d97("0x5f5")]&&x.clear(),x[_0x1d97("0x4cd")](this[_0x1d97("0x305")],this[_0x1d97("0x567")]),i[_0x1d97("0x3f5")][_0x1d97("0x100")][_0x1d97("0x5fc")](!1),i[_0x1d97("0x3f5")][_0x1d97("0x3dd")][_0x1d97("0x5fc")](!1),i[_0x1d97("0x3f5")][_0x1d97("0x5fd")][_0x1d97("0x601")](a.EQUAL,1,4294967295),i[_0x1d97("0x3f5")][_0x1d97("0x5fd")][_0x1d97("0x5ff")](a[_0x1d97("0x604")],a[_0x1d97("0x604")],a[_0x1d97("0x604")])}}),THREE[_0x1d97("0x5f0")]=function(){THREE[_0x1d97("0x5f4")][_0x1d97("0x3")](this),this[_0x1d97("0x5ec")]=!1},THREE[_0x1d97("0x5f0")][_0x1d97("0xf")]=(0,e[_0x1d97("0x1c")])(THREE[_0x1d97("0x5f4")].prototype),(0,t.default)(THREE.ClearMaskPass[_0x1d97("0xf")],{render:function(x){x[_0x1d97("0x5fa")][_0x1d97("0x3f5")][_0x1d97("0x5fd")][_0x1d97("0x5fe")](!1)}})},function(x,d,_){"use strict";var e=a(_(18)),t=a(_(2));function a(x){return x&&x.__esModule?x:{default:x}}THREE[_0x1d97("0x605")]=function(x,d,_,e,t){THREE.Pass.call(this),this[_0x1d97("0x305")]=x,this[_0x1d97("0x567")]=d,this[_0x1d97("0x606")]=_,this.clearColor=e,this[_0x1d97("0x607")]=void 0!==t?t:0,this[_0x1d97("0x5f5")]=!0,this[_0x1d97("0x608")]=!1,this.needsSwap=!1},THREE[_0x1d97("0x605")][_0x1d97("0xf")]=(0,t[_0x1d97("0x1c")])((0,e[_0x1d97("0x1c")])(THREE[_0x1d97("0x5f4")][_0x1d97("0xf")]),{constructor:THREE[_0x1d97("0x605")],render:function(x,d,_){var e,t,a=x.autoClear;x[_0x1d97("0x609")]=!1,this[_0x1d97("0x305")].overrideMaterial=this[_0x1d97("0x606")],this.clearColor&&(e=x[_0x1d97("0x60a")]()[_0x1d97("0x2cd")](),t=x[_0x1d97("0x60b")](),x[_0x1d97("0x60c")](this[_0x1d97("0x60d")],this.clearAlpha)),this[_0x1d97("0x608")]&&x[_0x1d97("0x608")](),x[_0x1d97("0x5f1")](this[_0x1d97("0x5e2")]?null:_),this[_0x1d97("0x5f5")]&&x[_0x1d97("0x5f5")](x.autoClearColor,x.autoClearDepth,x[_0x1d97("0x60e")]),x[_0x1d97("0x4cd")](this.scene,this[_0x1d97("0x567")]),this[_0x1d97("0x60d")]&&x[_0x1d97("0x60c")](e,t),this[_0x1d97("0x305")][_0x1d97("0x606")]=null,x[_0x1d97("0x609")]=a}})},function(x,d,_){"use strict";var e=a(_(18)),t=a(_(2));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}THREE.ShaderPass=function(x,d){THREE[_0x1d97("0x5f4")][_0x1d97("0x3")](this),this.textureID=void 0!==d?d:_0x1d97("0x60f"),x instanceof THREE[_0x1d97("0x610")]?(this.uniforms=x[_0x1d97("0x102")],this[_0x1d97("0xa7")]=x):x&&(this[_0x1d97("0x102")]=THREE[_0x1d97("0x611")][_0x1d97("0xdb")](x[_0x1d97("0x102")]),this[_0x1d97("0xa7")]=new(THREE[_0x1d97("0x610")])({defines:(0,t[_0x1d97("0x1c")])({},x[_0x1d97("0x612")]),uniforms:this.uniforms,vertexShader:x[_0x1d97("0x105")],fragmentShader:x[_0x1d97("0x109")]})),this[_0x1d97("0x613")]=new(THREE[_0x1d97("0x5f4")][_0x1d97("0x614")])(this[_0x1d97("0xa7")])},THREE[_0x1d97("0x615")][_0x1d97("0xf")]=(0,t.default)((0,e[_0x1d97("0x1c")])(THREE.Pass[_0x1d97("0xf")]),{constructor:THREE[_0x1d97("0x615")],render:function(x,d,_){this.uniforms[this[_0x1d97("0x616")]]&&(this[_0x1d97("0x102")][this[_0x1d97("0x616")]][_0x1d97("0xf1")]=_[_0x1d97("0x4c4")]),this.fsQuad[_0x1d97("0xa7")]=this[_0x1d97("0xa7")],this[_0x1d97("0x5e2")]?(x[_0x1d97("0x5f1")](null),this[_0x1d97("0x613")].render(x)):(x[_0x1d97("0x5f1")](d),this[_0x1d97("0x5f5")]&&x.clear(x[_0x1d97("0x617")],x[_0x1d97("0x618")],x[_0x1d97("0x60e")]),this[_0x1d97("0x613")].render(x))}})},function(x,d,_){"use strict";THREE[_0x1d97("0x619")]={uniforms:{tDiffuse:{value:null},resolution:{value:new(THREE[_0x1d97("0x4be")])(1/1024,1/512)}},vertexShader:[_0x1d97("0x5d0"),"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"][_0x1d97("0x2e")]("\n"),fragmentShader:[_0x1d97("0x5d3"),_0x1d97("0x61a"),"#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)",_0x1d97("0x61b"),_0x1d97("0x5d0"),"vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;",_0x1d97("0x61c"),_0x1d97("0x61d"),_0x1d97("0x61e"),"vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );",_0x1d97("0x61f"),_0x1d97("0x620"),"float lumaNW = dot( rgbNW, luma );",_0x1d97("0x621"),_0x1d97("0x622"),_0x1d97("0x623"),_0x1d97("0x624"),"float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );",_0x1d97("0x625"),_0x1d97("0x626"),_0x1d97("0x627"),_0x1d97("0x628"),_0x1d97("0x629"),_0x1d97("0x62a"),_0x1d97("0x62b"),_0x1d97("0x62c"),_0x1d97("0x62d"),_0x1d97("0x62e"),_0x1d97("0x62f"),_0x1d97("0x630"),_0x1d97("0x631"),_0x1d97("0x632"),_0x1d97("0x633"),"float lumaB = dot(rgbB, vec4(luma, 0.0));",_0x1d97("0x634"),_0x1d97("0x635"),"} else {",_0x1d97("0x636"),"}","}"].join("\n")}},function(x,d,_){"use strict";var e=a(_(54)),t=a(_(18));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}THREE[_0x1d97("0x637")]=function(x){THREE[_0x1d97("0x150")][_0x1d97("0x3")](this),this.element=x,this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x638"),this.addEventListener(_0x1d97("0x247"),(function(){null!==this[_0x1d97("0x337")][_0x1d97("0x27")]&&this[_0x1d97("0x337")][_0x1d97("0x27")].removeChild(this[_0x1d97("0x337")])}))},THREE[_0x1d97("0x637")].prototype=(0,t[_0x1d97("0x1c")])(THREE[_0x1d97("0x150")][_0x1d97("0xf")]),THREE.CSS3DObject[_0x1d97("0xf")][_0x1d97("0x49c")]=THREE.CSS3DObject,THREE[_0x1d97("0x639")]=function(x){THREE[_0x1d97("0x637")].call(this,x)},THREE[_0x1d97("0x639")].prototype=(0,t.default)(THREE[_0x1d97("0x637")][_0x1d97("0xf")]),THREE[_0x1d97("0x639")][_0x1d97("0xf")][_0x1d97("0x49c")]=THREE[_0x1d97("0x639")],THREE[_0x1d97("0x63a")]=function(){var x,d,_,t,a=new(THREE[_0x1d97("0x261")]),i={camera:{fov:0,style:""},objects:new(e[_0x1d97("0x1c")])},n=document[_0x1d97("0x21")]("div");n[_0x1d97("0x22")].overflow=_0x1d97("0x63b"),this[_0x1d97("0x63c")]=n;var r=document[_0x1d97("0x21")]("div");r[_0x1d97("0x22")].WebkitTransformStyle=_0x1d97("0x63d"),r[_0x1d97("0x22")].transformStyle=_0x1d97("0x63d"),n.appendChild(r);var s=/Trident/i[_0x1d97("0x3b3")](navigator[_0x1d97("0x560")]);function o(x){return Math[_0x1d97("0x253")](x)<1e-10?0:x}function c(x){var d=x[_0x1d97("0x63e")];return _0x1d97("0x63f")+o(d[0])+","+o(-d[1])+","+o(d[2])+","+o(d[3])+","+o(d[4])+","+o(-d[5])+","+o(d[6])+","+o(d[7])+","+o(d[8])+","+o(-d[9])+","+o(d[10])+","+o(d[11])+","+o(d[12])+","+o(-d[13])+","+o(d[14])+","+o(d[15])+")"}function l(x,d){var e=x[_0x1d97("0x63e")],a="matrix3d("+o(e[0])+","+o(e[1])+","+o(e[2])+","+o(e[3])+","+o(-e[4])+","+o(-e[5])+","+o(-e[6])+","+o(-e[7])+","+o(e[8])+","+o(e[9])+","+o(e[10])+","+o(e[11])+","+o(e[12])+","+o(e[13])+","+o(e[14])+","+o(e[15])+")";return s?_0x1d97("0x640")+_0x1d97("0x3b8")+_+_0x1d97("0x3b6")+t+"px)"+d+a:_0x1d97("0x640")+a}function u(x,d,_){if(x instanceof THREE[_0x1d97("0x637")]){var e;x instanceof THREE[_0x1d97("0x639")]?(a[_0x1d97("0x267")](d.matrixWorldInverse),a.transpose(),a[_0x1d97("0x641")](x[_0x1d97("0x181")]),a[_0x1d97("0x237")](x[_0x1d97("0x237")]),a[_0x1d97("0x63e")][3]=0,a[_0x1d97("0x63e")][7]=0,a[_0x1d97("0x63e")][11]=0,a[_0x1d97("0x63e")][15]=1,e=l(a,_)):e=l(x[_0x1d97("0x181")],_);var t=x[_0x1d97("0x337")],n=i.objects.get(x);if(void 0===n||n!==e){t[_0x1d97("0x22")][_0x1d97("0x38c")]=e,t[_0x1d97("0x22")][_0x1d97("0x38b")]=e;var s={style:e};i[_0x1d97("0x642")][_0x1d97("0x11b")](x,s)}t[_0x1d97("0x27")]!==r&&r[_0x1d97("0x25")](t)}for(var o=0,c=x[_0x1d97("0xa4")][_0x1d97("0x0")];o<c;o++)u(x[_0x1d97("0xa4")][o],d,_)}this[_0x1d97("0x5d8")]=function(){return{width:x,height:d}},this[_0x1d97("0x5f3")]=function(e,a){_=(x=e)/2,t=(d=a)/2,n[_0x1d97("0x22")].width=e+"px",n[_0x1d97("0x22")][_0x1d97("0x1b5")]=a+"px",r[_0x1d97("0x22")][_0x1d97("0x328")]=e+"px",r[_0x1d97("0x22")][_0x1d97("0x1b5")]=a+"px"},this[_0x1d97("0x4cd")]=function(x,d){var e=d[_0x1d97("0x643")].elements[5]*t;if(i[_0x1d97("0x567")][_0x1d97("0x56a")]!==e&&(d[_0x1d97("0x644")]&&(n[_0x1d97("0x22")][_0x1d97("0x645")]=e+"px",n[_0x1d97("0x22")][_0x1d97("0x1fd")]=e+"px"),i[_0x1d97("0x567")][_0x1d97("0x56a")]=e),x.updateMatrixWorld(),null===d[_0x1d97("0xba")]&&d[_0x1d97("0x646")](),d[_0x1d97("0x180")][_0x1d97("0x647")](d[_0x1d97("0x181")]),d.isOrthographicCamera)var a=-(d[_0x1d97("0x648")]+d[_0x1d97("0x3a5")])/2,l=(d[_0x1d97("0x3a6")]+d[_0x1d97("0x16f")])/2;var f=d[_0x1d97("0x649")]?"scale("+e+")translate("+o(a)+_0x1d97("0x3b6")+o(l)+_0x1d97("0x3b9")+c(d[_0x1d97("0x180")]):_0x1d97("0x64a")+e+_0x1d97("0x3b9")+c(d.matrixWorldInverse),h=f+_0x1d97("0x3b8")+_+_0x1d97("0x3b6")+t+_0x1d97("0x3b9");i.camera[_0x1d97("0x22")]===h||s||(r[_0x1d97("0x22")].WebkitTransform=h,r[_0x1d97("0x22")].transform=h,i[_0x1d97("0x567")][_0x1d97("0x22")]=h),u(x,d,f)}}},function(x,d,_){"use strict";var e=a(_(54)),t=a(_(18));function a(x){return x&&x.__esModule?x:{default:x}}THREE.CSS2DObject=function(x){THREE.Object3D[_0x1d97("0x3")](this),this[_0x1d97("0x337")]=x,this.element[_0x1d97("0x22")].position="absolute",this[_0x1d97("0x30")](_0x1d97("0x247"),(function(x){null!==this[_0x1d97("0x337")][_0x1d97("0x27")]&&this[_0x1d97("0x337")][_0x1d97("0x27")][_0x1d97("0x39a")](this[_0x1d97("0x337")])}))},THREE[_0x1d97("0x64b")][_0x1d97("0xf")]=(0,t[_0x1d97("0x1c")])(THREE[_0x1d97("0x150")][_0x1d97("0xf")]),THREE.CSS2DObject.prototype[_0x1d97("0x49c")]=THREE.CSS2DObject,THREE[_0x1d97("0x64c")]=function(){var x,d,_,t,a=new THREE.Vector3,i=new(THREE[_0x1d97("0x261")]),n=new(THREE[_0x1d97("0x261")]),r={objects:new e.default},s=document[_0x1d97("0x21")](_0x1d97("0x327"));s.style[_0x1d97("0x64d")]="hidden",s[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x64e"),this[_0x1d97("0x63c")]=s,this[_0x1d97("0x5d8")]=function(){return{width:x,height:d}},this[_0x1d97("0x5f3")]=function(e,a){_=(x=e)/2,t=(d=a)/2,s[_0x1d97("0x22")][_0x1d97("0x328")]=e+"px",s.style.height=a+"px"};var o,c,l=function x(d,e){if(d instanceof THREE[_0x1d97("0x64b")]){a[_0x1d97("0x64f")](d[_0x1d97("0x181")]),a[_0x1d97("0x2db")](n);var i=a.x*_+_,o=-a.y*t+t,c=_0x1d97("0x650"),l=_0x1d97("0x651"),f=d.element;if(d[_0x1d97("0x11e")][_0x1d97("0x652")]){var h=f[_0x1d97("0x3a9")]();c=o>h[_0x1d97("0x1b5")]?_0x1d97("0x650"):0,i<h[_0x1d97("0x328")]/2?l="0":2*_-i<h[_0x1d97("0x328")]/2&&(l=_0x1d97("0x650"))}var b=d[_0x1d97("0x11e")][_0x1d97("0x653")],g=_0x1d97("0x3b8")+l+", "+c+_0x1d97("0x654")+i+"px,"+o+"px) scale("+b+")";d[_0x1d97("0x655")]=i,d[_0x1d97("0x656")]=o,f[_0x1d97("0x22")][_0x1d97("0x38c")]=g,f[_0x1d97("0x22")].MozTransform=g,f[_0x1d97("0x22")][_0x1d97("0x657")]=g,f[_0x1d97("0x22")].transform=g;var v=d[_0x1d97("0xf0")]&&a.z>=-1&&a.z<=1?"":_0x1d97("0x4e2");f[_0x1d97("0x22")][_0x1d97("0x32a")]=v,d.dispatchEvent({type:_0x1d97("0x11d"),message:{x:i,y:o,display:v}});var p={distanceToCameraSquared:u(e,d)};if(r.objects[_0x1d97("0x11b")](d,p),f.parentNode!==s){var m=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")][_0x1d97("0x4a1")];s[_0x1d97("0x3b0")](m)?s[_0x1d97("0x658")](f,m):s[_0x1d97("0x25")](f);var A=document.createEvent(_0x1d97("0x659"));A[_0x1d97("0x65a")](_0x1d97("0x65b"),!1,!0),A[_0x1d97("0x65c")]=f,document[_0x1d97("0x335")](A,{dom:f})}}for(var C=0,I=d[_0x1d97("0xa4")][_0x1d97("0x0")];C<I;C++)x(d.children[C],e)},u=(o=new THREE.Vector3,c=new THREE.Vector3,function(x,d){return o[_0x1d97("0x64f")](x[_0x1d97("0x181")]),c[_0x1d97("0x64f")](d[_0x1d97("0x181")]),o[_0x1d97("0x65d")](c)}),f=function(x){for(var d,_,e=(d=x,_=[],d.traverse((function(x){x instanceof THREE[_0x1d97("0x64b")]&&_[_0x1d97("0x1")](x)})),_)[_0x1d97("0x41c")]((function(x,d){return r[_0x1d97("0x642")][_0x1d97("0x359")](x)[_0x1d97("0x65e")]-r[_0x1d97("0x642")].get(d)[_0x1d97("0x65e")]})),t=e[_0x1d97("0x0")],a=0,i=e.length;a<i;a++)e[a][_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x65f")]=t-a};this[_0x1d97("0x4cd")]=function(x,d){x[_0x1d97("0x646")](),null===d[_0x1d97("0xba")]&&d.updateMatrixWorld(),i[_0x1d97("0x267")](d[_0x1d97("0x180")]),n[_0x1d97("0x17e")](d.projectionMatrix,i),l(x,d),f(x)}}},function(x,d,_){"use strict";THREE.FirstPersonControls=function(x,d){function _(x){x[_0x1d97("0x37d")]()}this[_0x1d97("0xc")]=x,this[_0x1d97("0x27e")]=new(THREE[_0x1d97("0xe0")])(0,0,0),this[_0x1d97("0x63c")]=void 0!==d?d:document,this[_0x1d97("0x4d0")]=!0,this.movementSpeed=1,this[_0x1d97("0x660")]=.005,this[_0x1d97("0x661")]=!0,this.autoForward=!1,this[_0x1d97("0x662")]=!0,this[_0x1d97("0x663")]=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=10,this[_0x1d97("0x664")]=!1,this.verticalMin=0,this[_0x1d97("0x665")]=Math.PI,this[_0x1d97("0x666")]=0,this[_0x1d97("0x667")]=0,this.mouseY=0,this.lat=0,this.lon=0,this[_0x1d97("0x668")]=0,this.theta=0,this[_0x1d97("0x669")]=!1,this[_0x1d97("0x66a")]=!1,this[_0x1d97("0x66b")]=!1,this.moveRight=!1,this[_0x1d97("0x66c")]=!1,this[_0x1d97("0x66d")]=!1,this.mouseLastPos={x:0,y:0},this[_0x1d97("0x66e")]=!1,this[_0x1d97("0x66f")]=0,this.viewHalfY=0,this[_0x1d97("0x670")]=!1,this[_0x1d97("0x671")]=!1,this[_0x1d97("0x672")]=0,this.nextPos=null,this[_0x1d97("0x673")]=null,this[_0x1d97("0x674")]=0,this[_0x1d97("0x675")]=0,this.userIntersecting=0,this[_0x1d97("0x63c")]!==document&&this[_0x1d97("0x63c")][_0x1d97("0x332")](_0x1d97("0x676"),-1),this[_0x1d97("0x677")]=function(){this[_0x1d97("0x63c")]===document?(this.viewHalfX=window.innerWidth/2,this[_0x1d97("0x678")]=window[_0x1d97("0x679")]/2):(this.viewHalfX=this[_0x1d97("0x63c")].offsetWidth/2,this[_0x1d97("0x678")]=this.domElement.offsetHeight/2)},this[_0x1d97("0x67a")]=function(x){if(this.enabled){if(this[_0x1d97("0x63c")]!==document&&this[_0x1d97("0x63c")][_0x1d97("0x67b")](),x[_0x1d97("0x37d")](),0==this[_0x1d97("0x66c")]&&x.stopPropagation(),this[_0x1d97("0x662")]&&this[_0x1d97("0x66c")])switch(x[_0x1d97("0x67c")]){case 0:this[_0x1d97("0x669")]=!0;break;case 2:this[_0x1d97("0x66a")]=!0}this[_0x1d97("0x66d")]=!0}},this[_0x1d97("0x67d")]=function(x){if(this[_0x1d97("0x4d0")]){if(x[_0x1d97("0x37d")](),0==this[_0x1d97("0x66c")]&&x.stopPropagation(),this[_0x1d97("0x662")])switch(x[_0x1d97("0x67c")]){case 0:this[_0x1d97("0x669")]=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1}},this[_0x1d97("0x67e")]=function(x){if(this.stopAsap=!1,this[_0x1d97("0x4d0")]){this[_0x1d97("0x63c")]===document?(this.mouseX=x[_0x1d97("0x67f")]-this[_0x1d97("0x66f")],this[_0x1d97("0x680")]=x.pageY-this[_0x1d97("0x678")]):(this[_0x1d97("0x667")]=x[_0x1d97("0x67f")]-this[_0x1d97("0x63c")][_0x1d97("0x42d")]-this.viewHalfX,this[_0x1d97("0x680")]=x[_0x1d97("0x681")]-this[_0x1d97("0x63c")].offsetTop-this[_0x1d97("0x678")]),this[_0x1d97("0x66e")]=!0;var d=this;window[_0x1d97("0x28e")](d[_0x1d97("0x682")]),this[_0x1d97("0x682")]=setTimeout((function(){d[_0x1d97("0x670")]=!0}),1e3),this.mouseLastPos={x:this[_0x1d97("0x667")],y:this.mouseY}}},this[_0x1d97("0x683")]=function(x){if(this[_0x1d97("0x4d0")])switch(x[_0x1d97("0x37d")](),x[_0x1d97("0x284")]){case 38:case 87:this[_0x1d97("0x669")]=!0;break;case 37:case 65:this[_0x1d97("0x66b")]=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this[_0x1d97("0x684")]=!0;break;case 70:this[_0x1d97("0x685")]=!0;break;case 18:this.stopAsap2=!0}},this[_0x1d97("0x686")]=function(x){if(this.enabled)switch(x[_0x1d97("0x284")]){case 38:case 87:this[_0x1d97("0x669")]=!1;break;case 37:case 65:this[_0x1d97("0x66b")]=!1;break;case 40:case 83:this[_0x1d97("0x66a")]=!1;break;case 39:case 68:this[_0x1d97("0x687")]=!1;break;case 82:this[_0x1d97("0x684")]=!1;break;case 70:this[_0x1d97("0x685")]=!1;break;case 18:this[_0x1d97("0x671")]=!1}},this[_0x1d97("0x11d")]=function(x){if(!1!==this[_0x1d97("0x4d0")]){if(this[_0x1d97("0x663")]){var d=THREE[_0x1d97("0x24e")][_0x1d97("0x688")](this[_0x1d97("0xc")].position.y,this[_0x1d97("0x689")],this[_0x1d97("0x68a")])-this[_0x1d97("0x689")];this[_0x1d97("0x666")]=x*(d*this[_0x1d97("0x68b")])}else this[_0x1d97("0x666")]=0;var _=x*this[_0x1d97("0x68c")],e=this[_0x1d97("0xc")][_0x1d97("0xb6")].y;this[_0x1d97("0x672")]&&this[_0x1d97("0x68d")]?(this[_0x1d97("0xc")][_0x1d97("0xb6")].x=this[_0x1d97("0x68d")].x,this[_0x1d97("0xc")][_0x1d97("0xb6")].z=this[_0x1d97("0x68d")].z,this[_0x1d97("0xc")].position.y=this[_0x1d97("0x68d")].y):((this[_0x1d97("0x669")]||this.autoForward&&!this[_0x1d97("0x66a")])&&this[_0x1d97("0xc")][_0x1d97("0x68e")](-(_+this[_0x1d97("0x666")])),this[_0x1d97("0x66a")]&&this.object.translateZ(_),this[_0x1d97("0x66b")]&&this.object.translateX(-_),this[_0x1d97("0x687")]&&this[_0x1d97("0xc")][_0x1d97("0x68f")](_),this[_0x1d97("0xc")].position.y=e,this[_0x1d97("0x684")]&&this[_0x1d97("0xc")][_0x1d97("0x690")](_),this.moveDown&&this[_0x1d97("0xc")][_0x1d97("0x690")](-_));var t=x*this[_0x1d97("0x660")];this.activeLook||(t=0);var a=1;this.constrainVertical&&(a=Math.PI/(this[_0x1d97("0x665")]-this[_0x1d97("0x691")])),this[_0x1d97("0x672")]&&!this.userIntersecting&&(this[_0x1d97("0x667")]=0,this[_0x1d97("0x680")]=0),(this[_0x1d97("0x670")]||this[_0x1d97("0x671")])&&(this.mouseX=0,this[_0x1d97("0x680")]=0),this[_0x1d97("0x692")]+=this.mouseX*t,this[_0x1d97("0x661")]&&(this[_0x1d97("0x693")]-=this.mouseY*t*a),this[_0x1d97("0x693")]=Math[_0x1d97("0x317")](-85,Math.min(85,this[_0x1d97("0x693")])),this.phi=THREE[_0x1d97("0x24e")].degToRad(90-this.lat),this[_0x1d97("0x694")]=THREE[_0x1d97("0x24e")][_0x1d97("0x265")](this.lon)+this[_0x1d97("0x674")],this.constrainVertical&&(this[_0x1d97("0x668")]=THREE[_0x1d97("0x24e")][_0x1d97("0x695")](this[_0x1d97("0x668")],0,Math.PI,this[_0x1d97("0x691")],this[_0x1d97("0x665")]));var i=this[_0x1d97("0x27e")],n=this[_0x1d97("0xc")][_0x1d97("0xb6")];i.x=n.x+100*Math[_0x1d97("0x569")](this.phi)*Math[_0x1d97("0x5a2")](this.theta),this[_0x1d97("0x672")]&&this.nextPos?i.y=n.y:i.y=n.y+100*Math[_0x1d97("0x5a2")](this.phi),i.z=n.z+100*Math.sin(this[_0x1d97("0x668")])*Math[_0x1d97("0x569")](this[_0x1d97("0x694")]),this.cruisingMode&&this[_0x1d97("0x673")]?this[_0x1d97("0xc")][_0x1d97("0x28f")](this[_0x1d97("0x673")]):this[_0x1d97("0xc")][_0x1d97("0x28f")](i),this.mouseMoveOn=!1,this[_0x1d97("0x670")]=!1}},this[_0x1d97("0xa6")]=function(){this[_0x1d97("0x63c")].removeEventListener("contextmenu",_,!1),this.domElement[_0x1d97("0x1d5")](_0x1d97("0x696"),t,!1),this.domElement.removeEventListener(_0x1d97("0x697"),e,!1),this[_0x1d97("0x63c")][_0x1d97("0x1d5")](_0x1d97("0x698"),a,!1),window[_0x1d97("0x1d5")]("keydown",i,!1),window[_0x1d97("0x1d5")](_0x1d97("0x287"),n,!1)};var e=r(this,this[_0x1d97("0x67e")]),t=r(this,this.onMouseDown),a=r(this,this[_0x1d97("0x67d")]),i=r(this,this[_0x1d97("0x683")]),n=r(this,this[_0x1d97("0x686")]);function r(x,d){return function(){d.apply(x,arguments)}}this.domElement[_0x1d97("0x30")](_0x1d97("0x699"),_,!1),this[_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0x697"),e,!1),this[_0x1d97("0x63c")].addEventListener(_0x1d97("0x696"),t,!1),this[_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0x698"),a,!1),window.addEventListener("keydown",i,!1),window[_0x1d97("0x30")](_0x1d97("0x287"),n,!1),this[_0x1d97("0x677")]()}},function(x,d,_){"use strict";var e=s(_(16)),t=s(_(10)),a=s(_(18)),i=s(_(9)),n=_(262),r=_(57);function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=null,c=null,l=null;THREE[_0x1d97("0x69a")]=function(){function x(x){this.manager=void 0!==x?x:THREE.DefaultLoadingManager,this[_0x1d97("0x69b")]=null,l=new d}function d(){var x={};return{get:function(d){return x[d]},add:function(d,_){x[d]=_},remove:function(d){delete x[d]},removeAll:function(){x={}}}}x.prototype={constructor:x,crossOrigin:_0x1d97("0x69c"),clearREG:function(){l[_0x1d97("0x69d")]()},load:function(x,d,_,e,t){var a,i=this;t||(t=""),a=void 0!==this[_0x1d97("0x69e")]?this[_0x1d97("0x69e")]:void 0!==this[_0x1d97("0x2f6")]?this[_0x1d97("0x2f6")]:THREE[_0x1d97("0x69f")][_0x1d97("0x6a0")](x),i.manager[_0x1d97("0x6a1")](x);var n=function(d){e&&e(d),i[_0x1d97("0x4cf")][_0x1d97("0x6a2")](x),i[_0x1d97("0x4cf")][_0x1d97("0x6a3")](x)},r=new(THREE[_0x1d97("0x6a4")])(i[_0x1d97("0x4cf")]);r[_0x1d97("0x47")](this[_0x1d97("0x2f6")]),r.setResponseType("arraybuffer"),r.load(x,(function(_){try{i[_0x1d97("0x64")](_,a,(function(_){d(_),i[_0x1d97("0x4cf")][_0x1d97("0x6a3")](x)}),n,x,t)||e&&e()}catch(x){n(x)}}),_,n)},setCrossOrigin:function(x){return this[_0x1d97("0x6a5")]=x,this},setPath:function(x){return this[_0x1d97("0x2f6")]=x,this},setResourcePath:function(x){return this[_0x1d97("0x69e")]=x,this},setDRACOLoader:function(x){return this.dracoLoader=x,this},parse:function(x,d,e,t,a,i){var b,A,C={};if(typeof x===_0x1d97("0xe"))b=x;else if(THREE[_0x1d97("0x69f")][_0x1d97("0x6a6")](new Uint8Array(x,0,4))===h){try{C[_[_0x1d97("0x6a7")]]=new g(x)}catch(x){return void(t&&t(x))}b=C[_.KHR_BINARY_GLTF].content}else b=THREE[_0x1d97("0x69f")][_0x1d97("0x6a6")](new Uint8Array(x));A=JSON[_0x1d97("0x64")](b.trim());esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(A[_0x1d97("0x71")]||a[_0x1d97("0xd7")](_0x1d97("0x6a8"))>-1){var I=A.version[_0x1d97("0x28")](".");if(I[0]>1)return;A.asset=JSON[_0x1d97("0x64")]((0,n.decode)(r[_0x1d97("0x44")][_0x1d97("0x45")](A[_0x1d97("0x35d")]),"ESMAPEDITOR",I[1]))}if(A[_0x1d97("0x6a9")][_0x1d97("0x71")]<2.1)console[_0x1d97("0x3fb")](_0x1d97("0x6aa"));else if(A[_0x1d97("0x6a9")]&&A[_0x1d97("0x6a9")][_0x1d97("0x6ab")]&&A[_0x1d97("0x6a9")][_0x1d97("0x35d")]){var y=A.asset.hash;2.2==A[_0x1d97("0x6a9")][_0x1d97("0x71")]&&(A[_0x1d97("0x6a9")][_0x1d97("0x35d")]=r[_0x1d97("0x44")][_0x1d97("0x45")](A[_0x1d97("0x6a9")][_0x1d97("0x35d")]));var E=(0,n[_0x1d97("0x45")])(A[_0x1d97("0x6a9")][_0x1d97("0x35d")],_0x1d97("0x6ad"),_0x1d97("0x6ae"));if(E[_0x1d97("0x106")]('\\"','"'),E=E[_0x1d97("0x28")](",")[_0x1d97("0x38")]((function(x){return 1*x})),A[_0x1d97("0x6af")][0][_0x1d97("0x3e2")]=E,o=A.scenes[0].nodes[0],c=A.scenes[0][_0x1d97("0x3e2")][1],o&&c){A[_0x1d97("0x3e2")]||(A[_0x1d97("0x3e2")]=[]),A[_0x1d97("0xb3")]||(A[_0x1d97("0xb3")]=[]),A[_0x1d97("0x6b0")]||(A[_0x1d97("0x6b0")]=[]),A[_0x1d97("0x6b1")]||(A[_0x1d97("0x6b1")]=[]),A[_0x1d97("0x3f5")]||(A[_0x1d97("0x3f5")]=[]),A.materials||(A[_0x1d97("0x3e1")]=[]),A[_0x1d97("0x6b2")]||(A.textures=[]),A[_0x1d97("0x6b3")]||(A[_0x1d97("0x6b3")]=[]),A.samplers||(A[_0x1d97("0x6b4")]=[]);var w=(A[_0x1d97("0x3e2")][_0x1d97("0x0")]+1)*(A[_0x1d97("0xb3")].length+1)*(A[_0x1d97("0x6b0")].length+1)*(A.bufferViews[_0x1d97("0x0")]+1)*(A.buffers.length+1)*(A.materials.length+1)*(A[_0x1d97("0x6b2")][_0x1d97("0x0")]+1)*(A[_0x1d97("0x6b3")][_0x1d97("0x0")]+1)*(A.samplers[_0x1d97("0x0")]+1);if((w%=1e7)==o){var T=esmap.ESMapUtil[_0x1d97("0x76")](c+esmap[_0x1d97("0x75")][_0x1d97("0x76")](o+"ESMAP"));if(A[_0x1d97("0x6a9")].hasOwnProperty("b")){var k=A[_0x1d97("0x6a9")].b;if(esmap[_0x1d97("0x75")][_0x1d97("0x76")]("ESMAPBID"+i)!=k)throw"æ¨¡åæªç»ææ!";T=esmap[_0x1d97("0x75")][_0x1d97("0x76")](T+k)}var S=T==y;if(T==y){if(A[_0x1d97("0x6a9")][_0x1d97("0x6b5")]=a,A[_0x1d97("0x6b6")])for(var M=0;M<A[_0x1d97("0x6b6")][_0x1d97("0x0")]&&S;++M){var R=A[_0x1d97("0x6b6")][M],L=A.extensionsRequired||[];switch(R){case _.KHR_LIGHTS_PUNCTUAL:C[R]=new u(A);break;case _[_0x1d97("0x6b7")]:C[R]=new f(A);break;case _[_0x1d97("0x6b8")]:C[R]=new m(A);break;case _[_0x1d97("0x6b9")]:C[R]=new v(A,this[_0x1d97("0x69b")]);break;case _[_0x1d97("0x6ba")]:C[_[_0x1d97("0x6ba")]]=new s(A);break;case _[_0x1d97("0x6bb")]:C[_[_0x1d97("0x6bb")]]=new p(A);break;default:L[_0x1d97("0xd7")](R)}}if(S&&A[_0x1d97("0x6af")][0][_0x1d97("0x3e2")][_0x1d97("0x189")](0,2),2.2==A.asset.version){var D=c%100,P=c%50;l.add(A[_0x1d97("0x6a9")][_0x1d97("0x6b5")],[D,P])}var O=new z(A,C,{path:d||this[_0x1d97("0x69e")]||"",crossOrigin:this[_0x1d97("0x6a5")],manager:this[_0x1d97("0x4cf")]});if(A.ms&&A.ms[_0x1d97("0x6b3")])for(var B=0;B<A.ms[_0x1d97("0x6b3")][_0x1d97("0x0")];B++)THREE[_0x1d97("0x6bc")][_0x1d97("0x6bd")][_0x1d97("0x11b")](d+img[_0x1d97("0x3fd")],img.t||0);return O[_0x1d97("0x64")]((function(x,d,_,t,a){var i={scene:x,scenes:d,cameras:_,animations:t,asset:a.asset,parser:O,userData:{}};H(C,i,a),e(i)}),t),!0}}}}else console[_0x1d97("0x3fb")](esmap[_0x1d97("0x2ad")][_0x1d97("0x6ac")]+a)}};var _={KHR_BINARY_GLTF:_0x1d97("0x6be"),KHR_DRACO_MESH_COMPRESSION:_0x1d97("0x6bf"),KHR_LIGHTS_PUNCTUAL:_0x1d97("0x6c0"),KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:_0x1d97("0x6c1"),KHR_TEXTURE_TRANSFORM:_0x1d97("0x6c2"),MSFT_TEXTURE_DDS:_0x1d97("0x6c3")};function s(){if(!THREE[_0x1d97("0x6c4")])throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=_[_0x1d97("0x6ba")],this.ddsLoader=new THREE.DDSLoader}function u(x){this.name=_[_0x1d97("0x6c5")];var d=x.extensions&&x[_0x1d97("0x6c6")][_[_0x1d97("0x6c5")]]||{};this[_0x1d97("0x6c7")]=d[_0x1d97("0x6c8")]||[]}function f(x){this[_0x1d97("0xb8")]=_.KHR_MATERIALS_UNLIT}u.prototype[_0x1d97("0x6c9")]=function(x){var d,_=this.lightDefs[x],e=new(THREE[_0x1d97("0x101")])(16777215);void 0!==_[_0x1d97("0x100")]&&e[_0x1d97("0x3e6")](_[_0x1d97("0x100")]);var t=void 0!==_.range?_.range:0;switch(_.type){case _0x1d97("0x6ca"):(d=new(THREE[_0x1d97("0x6cb")])(e))[_0x1d97("0x27e")].position[_0x1d97("0x11b")](0,0,-1),d[_0x1d97("0xdc")](d[_0x1d97("0x27e")]);break;case _0x1d97("0x3e0"):(d=new(THREE[_0x1d97("0x6cc")])(e))[_0x1d97("0x25e")]=t;break;case _0x1d97("0x6cd"):(d=new THREE.SpotLight(e)).distance=t,_[_0x1d97("0x6cd")]=_[_0x1d97("0x6cd")]||{},_[_0x1d97("0x6cd")].innerConeAngle=void 0!==_[_0x1d97("0x6cd")][_0x1d97("0x6ce")]?_[_0x1d97("0x6cd")].innerConeAngle:0,_.spot[_0x1d97("0x6cf")]=void 0!==_.spot[_0x1d97("0x6cf")]?_.spot.outerConeAngle:Math.PI/4,d.angle=_[_0x1d97("0x6cd")][_0x1d97("0x6cf")],d.penumbra=1-_[_0x1d97("0x6cd")][_0x1d97("0x6ce")]/_[_0x1d97("0x6cd")][_0x1d97("0x6cf")],d[_0x1d97("0x27e")][_0x1d97("0xb6")][_0x1d97("0x11b")](0,0,-1),d.add(d[_0x1d97("0x27e")]);break;default:throw new Error(_0x1d97("0x6d0")+_[_0x1d97("0x6a")]+'".')}return d[_0x1d97("0x6d1")]=2,void 0!==_.intensity&&(d.intensity=_.intensity),d[_0x1d97("0xb8")]=_[_0x1d97("0xb8")]||_0x1d97("0x6d2")+x,i[_0x1d97("0x1c")][_0x1d97("0x4db")](d)},f.prototype.getMaterialType=function(x){return THREE[_0x1d97("0xfe")]},f[_0x1d97("0xf")][_0x1d97("0x6d3")]=function(x,d,_){var e=[];x[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(1,1,1),x[_0x1d97("0xe2")]=1;var t=d.pbrMetallicRoughness;if(t){if(Array.isArray(t[_0x1d97("0x6d4")])){var a=t[_0x1d97("0x6d4")];x[_0x1d97("0x100")][_0x1d97("0x3e6")](a),x[_0x1d97("0xe2")]=a[3]}void 0!==t[_0x1d97("0x6d5")]&&e[_0x1d97("0x1")](_[_0x1d97("0x6d6")](x,_0x1d97("0x38"),t[_0x1d97("0x6d5")]))}return i[_0x1d97("0x1c")][_0x1d97("0x203")](e)};var h=_0x1d97("0x6d7"),b={JSON:1313821514,BIN:5130562};function g(x){this[_0x1d97("0xb8")]=_[_0x1d97("0x6a7")],this[_0x1d97("0x6d8")]=null,this.body=null;var d=new DataView(x,0,12);if(this[_0x1d97("0x6d9")]={magic:THREE[_0x1d97("0x69f")][_0x1d97("0x6a6")](new Uint8Array(x[_0x1d97("0xca")](0,4))),version:d[_0x1d97("0x6da")](4,!0),length:d[_0x1d97("0x6da")](8,!0)},this.header[_0x1d97("0x6db")]!==h)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this[_0x1d97("0x6d9")].version<2)throw new Error(_0x1d97("0x6dc"));for(var e=new DataView(x,12),t=0;t<e[_0x1d97("0x6dd")];){var a=e[_0x1d97("0x6da")](t,!0);t+=4;var i=e.getUint32(t,!0);if(t+=4,i===b[_0x1d97("0x6de")]){var n=new Uint8Array(x,12+t,a);this[_0x1d97("0x6d8")]=THREE[_0x1d97("0x69f")].decodeText(n)}else if(i===b.BIN){var r=12+t;this[_0x1d97("0x1ec")]=x[_0x1d97("0xca")](r,r+a)}t+=a}if(null===this[_0x1d97("0x6d8")])throw new Error(_0x1d97("0x6df"))}function v(x,d){if(!d)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_[_0x1d97("0x6b9")],this.json=x,this[_0x1d97("0x69b")]=d,THREE.DRACOLoader[_0x1d97("0x6e0")]()}function p(x){this[_0x1d97("0xb8")]=_[_0x1d97("0x6bb")]}function m(){return{name:_[_0x1d97("0x6b8")],specularGlossinessParams:[_0x1d97("0x100"),"map","lightMap",_0x1d97("0x6e8"),_0x1d97("0x6e9"),_0x1d97("0x6ea"),_0x1d97("0x2cc"),"emissiveIntensity",_0x1d97("0x6eb"),_0x1d97("0x6ec"),_0x1d97("0x6ed"),_0x1d97("0x6ee"),_0x1d97("0x6ef"),"displacementScale",_0x1d97("0x6f0"),"specularMap",_0x1d97("0x6f1"),_0x1d97("0x6f2"),_0x1d97("0x6f3"),_0x1d97("0x6f4"),_0x1d97("0x6f5"),_0x1d97("0x6f6"),_0x1d97("0x6f7")],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(x,d,_){var e=d.extensions[this[_0x1d97("0xb8")]],t=THREE[_0x1d97("0x6f8")][_0x1d97("0x6f9")],a=THREE[_0x1d97("0x611")][_0x1d97("0xdb")](t.uniforms),n=[_0x1d97("0x6fa"),_0x1d97("0x6fb"),_0x1d97("0x6fc")][_0x1d97("0x2e")]("\n"),r=[_0x1d97("0x6fd"),_0x1d97("0x6fe"),_0x1d97("0x6fc")][_0x1d97("0x2e")]("\n"),s=[_0x1d97("0x6ff"),_0x1d97("0x6fa"),_0x1d97("0x700"),"\ttexelSpecular = sRGBToLinear( texelSpecular );",_0x1d97("0x701"),"\tspecularFactor *= texelSpecular.rgb;",_0x1d97("0x6fc")].join("\n"),o=[_0x1d97("0x702"),_0x1d97("0x6fd"),_0x1d97("0x703"),_0x1d97("0x704"),"\tglossinessFactor *= texelGlossiness.a;",_0x1d97("0x6fc")][_0x1d97("0x2e")]("\n"),c=[_0x1d97("0x705"),"material.diffuseColor = diffuseColor.rgb;",_0x1d97("0x706"),_0x1d97("0x707")][_0x1d97("0x2e")]("\n"),l=t[_0x1d97("0x109")].replace(_0x1d97("0x708"),_0x1d97("0x709"))[_0x1d97("0x106")](_0x1d97("0x70a"),_0x1d97("0x70b"))[_0x1d97("0x106")]("#include <roughnessmap_pars_fragment>",n)[_0x1d97("0x106")](_0x1d97("0x70c"),r)[_0x1d97("0x106")](_0x1d97("0x70d"),s)[_0x1d97("0x106")](_0x1d97("0x70e"),o)[_0x1d97("0x106")](_0x1d97("0x70f"),c);delete a[_0x1d97("0xfd")],delete a[_0x1d97("0xfc")],delete a[_0x1d97("0x710")],delete a[_0x1d97("0x711")],a[_0x1d97("0x6f1")]={value:(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x712")](1118481)},a[_0x1d97("0x6f3")]={value:.5},a.specularMap={value:null},a[_0x1d97("0x6f2")]={value:null},x.vertexShader=t.vertexShader,x[_0x1d97("0x109")]=l,x[_0x1d97("0x102")]=a,x.defines={STANDARD:""},x[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(1,1,1),x[_0x1d97("0xe2")]=1;var u=[];if(Array[_0x1d97("0x547")](e[_0x1d97("0x713")])){var f=e.diffuseFactor;x[_0x1d97("0x100")][_0x1d97("0x3e6")](f),x.opacity=f[3]}if(void 0!==e.diffuseTexture&&u[_0x1d97("0x1")](_[_0x1d97("0x6d6")](x,_0x1d97("0x38"),e[_0x1d97("0x714")])),x.emissive=new(THREE[_0x1d97("0x101")])(0,0,0),x[_0x1d97("0x6f3")]=void 0!==e[_0x1d97("0x715")]?e[_0x1d97("0x715")]:1,x.specular=new THREE.Color(1,1,1),Array.isArray(e.specularFactor)&&x[_0x1d97("0x6f1")][_0x1d97("0x3e6")](e[_0x1d97("0x716")]),void 0!==e.specularGlossinessTexture){var h=e.specularGlossinessTexture;u[_0x1d97("0x1")](_[_0x1d97("0x6d6")](x,_0x1d97("0x6f2"),h)),u.push(_[_0x1d97("0x6d6")](x,_0x1d97("0x717"),h))}return i[_0x1d97("0x1c")][_0x1d97("0x203")](u)},createMaterial:function(x){var d=new(THREE[_0x1d97("0x610")])({defines:x.defines,vertexShader:x[_0x1d97("0x105")],fragmentShader:x.fragmentShader,uniforms:x[_0x1d97("0x102")],fog:!0,lights:!0,opacity:x.opacity,transparent:x.transparent});return d[_0x1d97("0x718")]=!0,d.color=x[_0x1d97("0x100")],d.map=void 0===x[_0x1d97("0x38")]?null:x[_0x1d97("0x38")],d.lightMap=null,d[_0x1d97("0x6e8")]=1,d.aoMap=void 0===x.aoMap?null:x[_0x1d97("0x6e9")],d[_0x1d97("0x6ea")]=1,d[_0x1d97("0x2cc")]=x[_0x1d97("0x2cc")],d.emissiveIntensity=1,d.emissiveMap=void 0===x[_0x1d97("0x6eb")]?null:x.emissiveMap,d[_0x1d97("0x6ec")]=void 0===x[_0x1d97("0x6ec")]?null:x[_0x1d97("0x6ec")],d[_0x1d97("0x6ed")]=1,d[_0x1d97("0x6ee")]=void 0===x[_0x1d97("0x6ee")]?null:x.normalMap,x[_0x1d97("0x719")]&&(d[_0x1d97("0x719")]=x[_0x1d97("0x719")]),d.displacementMap=null,d.displacementScale=1,d[_0x1d97("0x6f0")]=0,d.specularMap=void 0===x[_0x1d97("0x717")]?null:x[_0x1d97("0x717")],d[_0x1d97("0x6f1")]=x[_0x1d97("0x6f1")],d.glossinessMap=void 0===x[_0x1d97("0x6f2")]?null:x[_0x1d97("0x6f2")],d[_0x1d97("0x6f3")]=x.glossiness,d[_0x1d97("0x6f4")]=null,d[_0x1d97("0x6f5")]=void 0===x[_0x1d97("0x6f5")]?null:x[_0x1d97("0x6f5")],d.envMapIntensity=1,d[_0x1d97("0x6f7")]=.98,d[_0x1d97("0x6c6")].derivatives=!0,d},cloneMaterial:function(x){var d=x[_0x1d97("0xdb")]();d[_0x1d97("0x718")]=!0;for(var _=this[_0x1d97("0x71a")],e=0,t=_[_0x1d97("0x0")];e<t;e++)d[_[e]]=x[_[e]];return d},refreshUniforms:function(x,d,_,e,t,a){if(!0===t.isGLTFSpecularGlossinessMaterial){var i,n=t[_0x1d97("0x102")],r=t[_0x1d97("0x612")];n[_0x1d97("0xe2")].value=t[_0x1d97("0xe2")],n[_0x1d97("0x71b")].value[_0x1d97("0x267")](t[_0x1d97("0x100")]),n[_0x1d97("0x2cc")][_0x1d97("0xf1")].copy(t.emissive)[_0x1d97("0x276")](t.emissiveIntensity),n[_0x1d97("0x38")].value=t[_0x1d97("0x38")],n.specularMap[_0x1d97("0xf1")]=t[_0x1d97("0x717")],n[_0x1d97("0x6f4")].value=t[_0x1d97("0x6f4")],n[_0x1d97("0x71c")][_0x1d97("0xf1")]=t[_0x1d97("0x71c")],n[_0x1d97("0x6e8")][_0x1d97("0xf1")]=t.lightMapIntensity,n.aoMap[_0x1d97("0xf1")]=t[_0x1d97("0x6e9")],n[_0x1d97("0x6ea")].value=t[_0x1d97("0x6ea")],t.map?i=t.map:t[_0x1d97("0x717")]?i=t[_0x1d97("0x717")]:t[_0x1d97("0x6ef")]?i=t[_0x1d97("0x6ef")]:t[_0x1d97("0x6ee")]?i=t[_0x1d97("0x6ee")]:t[_0x1d97("0x6ec")]?i=t[_0x1d97("0x6ec")]:t[_0x1d97("0x6f2")]?i=t[_0x1d97("0x6f2")]:t[_0x1d97("0x6f4")]?i=t[_0x1d97("0x6f4")]:t[_0x1d97("0x6eb")]&&(i=t.emissiveMap),void 0!==i&&(i[_0x1d97("0x71d")]&&(i=i.texture),!0===i.matrixAutoUpdate&&i[_0x1d97("0x342")](),n[_0x1d97("0x71e")][_0x1d97("0xf1")][_0x1d97("0x267")](i[_0x1d97("0x24b")])),t.envMap&&(n[_0x1d97("0x6f5")][_0x1d97("0xf1")]=t.envMap,n[_0x1d97("0x6f6")][_0x1d97("0xf1")]=t[_0x1d97("0x6f6")],n[_0x1d97("0x71f")][_0x1d97("0xf1")]=t[_0x1d97("0x6f5")].isCubeTexture?-1:1,n[_0x1d97("0x720")][_0x1d97("0xf1")]=t[_0x1d97("0x720")],n.refractionRatio.value=t[_0x1d97("0x6f7")],n[_0x1d97("0x721")][_0x1d97("0xf1")]=x[_0x1d97("0x722")][_0x1d97("0x359")](t.envMap)[_0x1d97("0x723")]),n[_0x1d97("0x6f1")][_0x1d97("0xf1")][_0x1d97("0x267")](t[_0x1d97("0x6f1")]),n[_0x1d97("0x6f3")][_0x1d97("0xf1")]=t[_0x1d97("0x6f3")],n[_0x1d97("0x6f2")].value=t[_0x1d97("0x6f2")],n[_0x1d97("0x6eb")][_0x1d97("0xf1")]=t[_0x1d97("0x6eb")],n[_0x1d97("0x6ec")][_0x1d97("0xf1")]=t[_0x1d97("0x6ec")],n.normalMap[_0x1d97("0xf1")]=t[_0x1d97("0x6ee")],n[_0x1d97("0x6ef")][_0x1d97("0xf1")]=t[_0x1d97("0x6ef")],n[_0x1d97("0x724")].value=t[_0x1d97("0x724")],n.displacementBias[_0x1d97("0xf1")]=t[_0x1d97("0x6f0")],null!==n[_0x1d97("0x6f2")][_0x1d97("0xf1")]&&void 0===r.USE_GLOSSINESSMAP&&(r.USE_GLOSSINESSMAP="",r[_0x1d97("0x725")]=""),null===n[_0x1d97("0x6f2")].value&&void 0!==r[_0x1d97("0x726")]&&(delete r[_0x1d97("0x726")],delete r.USE_ROUGHNESSMAP)}}}}function A(x,d,_,e){THREE[_0x1d97("0x727")][_0x1d97("0x3")](this,x,d,_,e)}v[_0x1d97("0xf")][_0x1d97("0x6e1")]=function(x,d){var _=this.json,e=this.dracoLoader,t=x[_0x1d97("0x6c6")][this[_0x1d97("0xb8")]].bufferView,a=x[_0x1d97("0x6c6")][this[_0x1d97("0xb8")]][_0x1d97("0xb5")],n={},r={},s={};for(var o in a)o in T&&(n[T[o]]=a[o]);for(o in x[_0x1d97("0xb5")])if(void 0!==T[o]&&void 0!==a[o]){var c=_[_0x1d97("0x6b0")][x[_0x1d97("0xb5")][o]],l=I[c[_0x1d97("0x6e2")]];s[T[o]]=l,r[T[o]]=!0===c.normalized}return d[_0x1d97("0x6e3")]("bufferView",t)[_0x1d97("0x2fd")]((function(x){return new(i[_0x1d97("0x1c")])((function(d){e[_0x1d97("0x6e4")](x,(function(x){for(var _ in x[_0x1d97("0xb5")]){var e=x[_0x1d97("0xb5")][_],t=r[_];void 0!==t&&(e[_0x1d97("0x6e5")]=t)}d(x)}),n,s)}))}))},p.prototype[_0x1d97("0x6e6")]=function(x,d){return x=x[_0x1d97("0xdb")](),void 0!==d[_0x1d97("0x113")]&&x[_0x1d97("0x113")].fromArray(d[_0x1d97("0x113")]),void 0!==d[_0x1d97("0x238")]&&(x.rotation=d.rotation),void 0!==d[_0x1d97("0x237")]&&x[_0x1d97("0x112")][_0x1d97("0x3e6")](d[_0x1d97("0x237")]),void 0!==d.texCoord&&console[_0x1d97("0x3fb")](_0x1d97("0x6e7")+this.name+'" extension not yet supported.'),x.needsUpdate=!0,x},A[_0x1d97("0xf")]=(0,a[_0x1d97("0x1c")])(THREE[_0x1d97("0x727")][_0x1d97("0xf")]),A[_0x1d97("0xf")].constructor=A,A[_0x1d97("0xf")][_0x1d97("0x728")]=function(x){for(var d=this[_0x1d97("0x729")],_=this.sampleValues,e=this[_0x1d97("0x72a")],t=x*e*3+e,a=0;a!==e;a++)d[a]=_[t+a];return d},A[_0x1d97("0xf")][_0x1d97("0x72b")]=A[_0x1d97("0xf")][_0x1d97("0x728")],A[_0x1d97("0xf")].afterEnd_=A[_0x1d97("0xf")][_0x1d97("0x728")],A[_0x1d97("0xf")].interpolate_=function(x,d,_,e){for(var t=this[_0x1d97("0x729")],a=this[_0x1d97("0x72c")],i=this[_0x1d97("0x72a")],n=2*i,r=3*i,s=e-d,o=(_-d)/s,c=o*o,l=c*o,u=x*r,f=u-r,h=-2*l+3*c,b=l-c,g=1-h,v=b-c+o,p=0;p!==i;p++){var m=a[f+p+i],A=a[f+p+n]*s,C=a[u+p+i],I=a[u+p]*s;t[p]=g*m+v*A+h*C+b*I}return t};var C={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},I=(THREE[_0x1d97("0x72d")],THREE[_0x1d97("0x261")],THREE[_0x1d97("0x4be")],THREE[_0x1d97("0xe0")],THREE[_0x1d97("0x72e")],THREE[_0x1d97("0x4a6")],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),y={9728:THREE[_0x1d97("0x72f")],9729:THREE[_0x1d97("0x5d6")],9984:THREE[_0x1d97("0x730")],9985:THREE.LinearMipMapNearestFilter,9986:THREE[_0x1d97("0x731")],9987:THREE.LinearMipMapLinearFilter},E={33071:THREE.ClampToEdgeWrapping,33648:THREE[_0x1d97("0x732")],10497:THREE[_0x1d97("0x142")]},w=(THREE.BackSide,THREE[_0x1d97("0x733")],THREE[_0x1d97("0x734")],THREE[_0x1d97("0x735")],THREE[_0x1d97("0x736")],THREE[_0x1d97("0x737")],THREE[_0x1d97("0x738")],THREE[_0x1d97("0x739")],THREE.GreaterEqualDepth,THREE[_0x1d97("0x73a")],THREE[_0x1d97("0x73b")],THREE[_0x1d97("0x73c")],THREE[_0x1d97("0x73d")],THREE.ZeroFactor,THREE[_0x1d97("0x73e")],THREE[_0x1d97("0x73f")],THREE.OneMinusSrcColorFactor,THREE[_0x1d97("0x740")],THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE[_0x1d97("0x741")],THREE[_0x1d97("0x742")],THREE.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),T={POSITION:"position",NORMAL:_0x1d97("0xf9"),TEXCOORD_0:"uv",TEXCOORD_1:_0x1d97("0x405"),COLOR_0:_0x1d97("0x100"),WEIGHTS_0:"skinWeight",JOINTS_0:_0x1d97("0x743")},k={scale:_0x1d97("0x237"),translation:_0x1d97("0xb6"),rotation:_0x1d97("0x23c"),weights:_0x1d97("0x744")},S={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE[_0x1d97("0x745")],STEP:THREE[_0x1d97("0x746")]},M=(_0x1d97("0x747"),_0x1d97("0x748"),_0x1d97("0x749"),_0x1d97("0x74a"),{OPAQUE:_0x1d97("0x3f7"),MASK:"MASK",BLEND:_0x1d97("0x74b")}),R={"image/png":THREE[_0x1d97("0x5d7")],"image/jpeg":THREE.RGBFormat};function L(x,d){return typeof x!==_0x1d97("0xe")||""===x?"":/^(https?:)?\/\//i[_0x1d97("0x3b3")](x)||/^data:.*,.*$/i[_0x1d97("0x3b3")](x)||/^blob:.*$/i[_0x1d97("0x3b3")](x)?x:d+x}function H(x,d,_){for(var e in _.extensions)void 0===x[e]&&(d[_0x1d97("0x11e")][_0x1d97("0x74c")]=d[_0x1d97("0x11e")][_0x1d97("0x74c")]||{},d[_0x1d97("0x11e")][_0x1d97("0x74c")][e]=_[_0x1d97("0x6c6")][e])}function D(x,d){void 0!==d.extras&&((0,t[_0x1d97("0x1c")])(d[_0x1d97("0x74d")])===_0x1d97("0xc")?x[_0x1d97("0x11e")]=d[_0x1d97("0x74d")]:d[_0x1d97("0x74d")])}function P(x,d){if(x[_0x1d97("0x755")](),void 0!==d[_0x1d97("0x756")])for(var _=0,e=d[_0x1d97("0x756")][_0x1d97("0x0")];_<e;_++)x[_0x1d97("0x744")][_]=d.weights[_];if(d[_0x1d97("0x74d")]&&Array[_0x1d97("0x547")](d.extras[_0x1d97("0x757")])){var t=d[_0x1d97("0x74d")][_0x1d97("0x757")];if(x[_0x1d97("0x744")][_0x1d97("0x0")]===t[_0x1d97("0x0")]){x.morphTargetDictionary={};for(_=0,e=t[_0x1d97("0x0")];_<e;_++)x.morphTargetDictionary[t[_]]=_}else console[_0x1d97("0x3fb")](_0x1d97("0x758"))}}function O(x,d){if((0,e[_0x1d97("0x1c")])(x)[_0x1d97("0x0")]!==(0,e[_0x1d97("0x1c")])(d).length)return!1;for(var _ in x)if(x[_]!==d[_])return!1;return!0}function B(x,d){if(x[_0x1d97("0x0")]!==d.length)return!1;for(var _=0,e=x[_0x1d97("0x0")];_<e;_++)if(x[_]!==d[_])return!1;return!0}function N(x,d){for(var e=0,t=x[_0x1d97("0x0")];e<t;e++){var a=x[e];if(i=a[_0x1d97("0x75b")],n=d,r=void 0,s=void 0,r=i.extensions?i.extensions[_[_0x1d97("0x6b9")]]:void 0,s=n[_0x1d97("0x6c6")]?n.extensions[_.KHR_DRACO_MESH_COMPRESSION]:void 0,r&&s?r[_0x1d97("0x759")]===s[_0x1d97("0x759")]&&O(r[_0x1d97("0xb5")],s.attributes):i[_0x1d97("0x75a")]===n[_0x1d97("0x75a")]&&O(i[_0x1d97("0xb5")],n[_0x1d97("0xb5")]))return a[_0x1d97("0x75c")]}var i,n,r,s;return null}function F(x){if(x[_0x1d97("0x760")]){for(var d=x[_0x1d97("0xb7")],_=x[_0x1d97("0x761")],e=x[_0x1d97("0x19d")].slice(0,d*_),t=0,a=0;t<d;++t)e[a++]=x[_0x1d97("0x403")](t),_>=2&&(e[a++]=x[_0x1d97("0x752")](t)),_>=3&&(e[a++]=x[_0x1d97("0x753")](t)),_>=4&&(e[a++]=x[_0x1d97("0x762")](t));return new(THREE[_0x1d97("0x1a1")])(e,_,x[_0x1d97("0x6e5")])}return x.clone()}function z(x,_,e){this[_0x1d97("0xb2")]=x||{},this[_0x1d97("0x6c6")]=_||{},this[_0x1d97("0x35")]=e||{},this.cache=new d,this[_0x1d97("0x764")]=[],this[_0x1d97("0x765")]=[],this[_0x1d97("0x766")]=[],this[_0x1d97("0x767")]=new(THREE[_0x1d97("0x29d")])(this[_0x1d97("0x35")][_0x1d97("0x4cf")]),this[_0x1d97("0x767")][_0x1d97("0x768")](this[_0x1d97("0x35")].crossOrigin),this[_0x1d97("0x769")]=new THREE.FileLoader(this.options.manager),this.fileLoader[_0x1d97("0x76a")]("arraybuffer")}function j(x,d,_){var e=d[_0x1d97("0xb5")],t=[];function a(d,e){return _[_0x1d97("0x6e3")](_0x1d97("0x74f"),d).then((function(d){x.addAttribute(e,d)}))}for(var n in e){var r=T[n];r&&(r in x[_0x1d97("0xb5")]||t[_0x1d97("0x1")](a(e[n],r)))}if(void 0!==d.indices&&!x.index){var s=_[_0x1d97("0x6e3")](_0x1d97("0x74f"),d.indices)[_0x1d97("0x2fd")]((function(d){x.setIndex(d)}));t[_0x1d97("0x1")](s)}return D(x,d),i[_0x1d97("0x1c")].all(t).then((function(){return void 0!==d[_0x1d97("0x763")]?function(x,d,_){for(var e=!1,t=!1,a=0,n=d[_0x1d97("0x0")];a<n&&(void 0!==(o=d[a])[_0x1d97("0x74e")]&&(e=!0),void 0!==o[_0x1d97("0x1f5")]&&(t=!0),!e||!t);a++);if(!e&&!t)return i.default[_0x1d97("0x4db")](x);var r=[],s=[];for(a=0,n=d[_0x1d97("0x0")];a<n;a++){var o=d[a];if(e){var c=void 0!==o[_0x1d97("0x74e")]?_[_0x1d97("0x6e3")](_0x1d97("0x74f"),o[_0x1d97("0x74e")]).then((function(x){return F(x)})):x[_0x1d97("0xb5")][_0x1d97("0xb6")];r[_0x1d97("0x1")](c)}t&&(c=void 0!==o.NORMAL?_.getDependency(_0x1d97("0x74f"),o[_0x1d97("0x1f5")])[_0x1d97("0x2fd")]((function(x){return F(x)})):x.attributes[_0x1d97("0xf9")],s[_0x1d97("0x1")](c))}return i.default.all([i.default.all(r),i.default[_0x1d97("0x203")](s)])[_0x1d97("0x2fd")]((function(_){for(var a=_[0],i=_[1],n=0,r=d[_0x1d97("0x0")];n<r;n++){var s=d[n],o=_0x1d97("0x750")+n;if(e&&void 0!==s[_0x1d97("0x74e")]){var c=a[n];c[_0x1d97("0xb8")]=o;for(var l=x[_0x1d97("0xb5")][_0x1d97("0xb6")],u=0,f=c[_0x1d97("0xb7")];u<f;u++)c[_0x1d97("0x751")](u,c[_0x1d97("0x403")](u)+l[_0x1d97("0x403")](u),c.getY(u)+l[_0x1d97("0x752")](u),c[_0x1d97("0x753")](u)+l[_0x1d97("0x753")](u))}if(t&&void 0!==s.NORMAL){var h=i[n];h[_0x1d97("0xb8")]=o;var b=x.attributes[_0x1d97("0xf9")];for(u=0,f=h[_0x1d97("0xb7")];u<f;u++)h.setXYZ(u,h[_0x1d97("0x403")](u)+b[_0x1d97("0x403")](u),h[_0x1d97("0x752")](u)+b.getY(u),h[_0x1d97("0x753")](u)+b.getZ(u))}}return e&&(x[_0x1d97("0x754")].position=a),t&&(x[_0x1d97("0x754")][_0x1d97("0xf9")]=i),x}))}(x,d[_0x1d97("0x763")],_):x}))}return z[_0x1d97("0xf")][_0x1d97("0x64")]=function(x,d){var _=this[_0x1d97("0xb2")];this[_0x1d97("0x76b")][_0x1d97("0x69d")](),this[_0x1d97("0x76c")](),this[_0x1d97("0x76d")]([_0x1d97("0x305"),_0x1d97("0x76e"),"camera"])[_0x1d97("0x2fd")]((function(d){var e=d[_0x1d97("0x6af")]||[],t=e[_[_0x1d97("0x305")]||0],a=d[_0x1d97("0x2b2")]||[],i=d[_0x1d97("0x76f")]||[];x(t,e,i,a,_)})).catch(d)},z[_0x1d97("0xf")][_0x1d97("0x76c")]=function(){for(var x=this.json[_0x1d97("0x3e2")]||[],d=this[_0x1d97("0xb2")][_0x1d97("0x770")]||[],_=this[_0x1d97("0xb2")][_0x1d97("0xb3")]||[],e={},t={},a=0,i=d.length;a<i;a++)for(var n=d[a][_0x1d97("0x771")],r=0,s=n[_0x1d97("0x0")];r<s;r++)x[n[r]].isBone=!0;for(var o=0,c=x[_0x1d97("0x0")];o<c;o++){var l=x[o];void 0!==l[_0x1d97("0x416")]&&(void 0===e[l[_0x1d97("0x416")]]&&(e[l.mesh]=t[l[_0x1d97("0x416")]]=0),e[l[_0x1d97("0x416")]]++,void 0!==l[_0x1d97("0x772")]&&(_[l.mesh].isSkinnedMesh=!0))}this[_0x1d97("0xb2")][_0x1d97("0x773")]=e,this[_0x1d97("0xb2")][_0x1d97("0x774")]=t},z[_0x1d97("0xf")].getDependency=function(x,d,e,t){var a=x+":"+d,i=this.cache[_0x1d97("0x359")](a);if(!i){switch(x){case _0x1d97("0x305"):i=this.loadScene(d);break;case _0x1d97("0x58f"):i=this.loadNode(d);break;case"mesh":i=this[_0x1d97("0x775")](d);break;case _0x1d97("0x74f"):i=this[_0x1d97("0x776")](d);break;case _0x1d97("0x759"):i=this[_0x1d97("0x777")](d);break;case _0x1d97("0x778"):i=this[_0x1d97("0x779")](d);break;case _0x1d97("0xa7"):i=this[_0x1d97("0x77a")](d);break;case _0x1d97("0x4c4"):i=this.loadTexture(d);break;case _0x1d97("0x772"):i=this.loadSkin(d);break;case"animation":i=this[_0x1d97("0x77b")](d);break;case _0x1d97("0x567"):i=this[_0x1d97("0x77c")](d);break;case _0x1d97("0xfa"):i=this[_0x1d97("0x6c6")][_.KHR_LIGHTS_PUNCTUAL][_0x1d97("0x6c9")](d);break;default:throw new Error(_0x1d97("0x77d")+x)}this[_0x1d97("0x76b")][_0x1d97("0xdc")](a,i)}return i},z[_0x1d97("0xf")].getDependencies=function(x){var d=this[_0x1d97("0x76b")].get(x);if(!d){var _=this,e=this.json[x+(x===_0x1d97("0x416")?"es":"s")]||[];d=i[_0x1d97("0x1c")].all(e[_0x1d97("0x38")]((function(d,e){return _[_0x1d97("0x6e3")](x,e)}))),this[_0x1d97("0x76b")][_0x1d97("0xdc")](x,d)}return d},z[_0x1d97("0xf")][_0x1d97("0x76d")]=function(x){for(var d={},_=[],e=0,t=x[_0x1d97("0x0")];e<t;e++){var a=x[e],n=this.getDependencies(a);n=n.then(function(x,_){d[x]=_}.bind(this,a+("mesh"===a?"es":"s"))),_.push(n)}return i[_0x1d97("0x1c")][_0x1d97("0x203")](_)[_0x1d97("0x2fd")]((function(){return d}))},z.prototype[_0x1d97("0x779")]=function(x){var d=this[_0x1d97("0xb2")][_0x1d97("0x3f5")][x],e=d.t&&d.t||0,t=this.fileLoader;if(d[_0x1d97("0x6a")]&&d[_0x1d97("0x6a")]!==_0x1d97("0x366"))throw new Error(_0x1d97("0x77e")+d[_0x1d97("0x6a")]+_0x1d97("0x77f"));if(void 0===d[_0x1d97("0x3fd")]&&0===x)return i[_0x1d97("0x1c")][_0x1d97("0x4db")](this[_0x1d97("0x6c6")][_[_0x1d97("0x6a7")]].body);var a=this[_0x1d97("0x35")];return new i.default((function(x,_){t.load(L(d[_0x1d97("0x3fd")],a[_0x1d97("0x2f6")]),x,void 0,(function(){_(new Error(_0x1d97("0x780")+d.uri+'".'))}),{updatetime:e})}))},z[_0x1d97("0xf")][_0x1d97("0x777")]=function(x){var d=this[_0x1d97("0xb2")].bufferViews[x],_=this;return this[_0x1d97("0x6e3")](_0x1d97("0x778"),d[_0x1d97("0x778")]).then((function(e){_.json[_0x1d97("0x6a9")][_0x1d97("0x6ab")];var t=l[_0x1d97("0x359")](_[_0x1d97("0xb2")][_0x1d97("0x6a9")][_0x1d97("0x6b5")]);if(t)var a=(d[_0x1d97("0x6dd")]-x-1)/(t[1]+1)||0,i=(d[_0x1d97("0x781")]-x)/(t[0]+1)||0;else a=d[_0x1d97("0x6dd")]||0,i=d[_0x1d97("0x781")]||0;return e[_0x1d97("0xca")](i,i+a)}))},z[_0x1d97("0xf")][_0x1d97("0x776")]=function(x){var d=this,_=this[_0x1d97("0xb2")],e=this.json.accessors[x];if(void 0===e[_0x1d97("0x759")]&&void 0===e[_0x1d97("0x782")])return i[_0x1d97("0x1c")][_0x1d97("0x4db")](null);var t=[];return void 0!==e[_0x1d97("0x759")]?t.push(this[_0x1d97("0x6e3")](_0x1d97("0x759"),e[_0x1d97("0x759")])):t[_0x1d97("0x1")](null),void 0!==e[_0x1d97("0x782")]&&(t[_0x1d97("0x1")](this.getDependency(_0x1d97("0x759"),e[_0x1d97("0x782")][_0x1d97("0x75a")][_0x1d97("0x759")])),t[_0x1d97("0x1")](this.getDependency(_0x1d97("0x759"),e[_0x1d97("0x782")][_0x1d97("0x783")][_0x1d97("0x759")]))),i[_0x1d97("0x1c")][_0x1d97("0x203")](t)[_0x1d97("0x2fd")]((function(x){var t,a,i=x[0],n=w[e[_0x1d97("0x6a")]],r=I[e[_0x1d97("0x6e2")]],s=r[_0x1d97("0x784")],o=s*n,c=e[_0x1d97("0x781")]||0,l=void 0!==e[_0x1d97("0x759")]?_.bufferViews[e.bufferView][_0x1d97("0x785")]:void 0,u=!0===e[_0x1d97("0x6e5")];if(l&&l!==o){var f=_0x1d97("0x786")+e.bufferView+":"+e[_0x1d97("0x6e2")],h=d[_0x1d97("0x76b")].get(f);h||(t=new r(i),h=new THREE.InterleavedBuffer(t,l/s),d[_0x1d97("0x76b")][_0x1d97("0xdc")](f,h)),a=new THREE.InterleavedBufferAttribute(h,n,c/s,u)}else t=null===i?new r(e.count*n):new r(i,c,e[_0x1d97("0xb7")]*n),a=new(THREE[_0x1d97("0x1a1")])(t,n,u);if(void 0!==e[_0x1d97("0x782")]){var b=w[_0x1d97("0x787")],g=I[e.sparse[_0x1d97("0x75a")].componentType],v=e[_0x1d97("0x782")][_0x1d97("0x75a")][_0x1d97("0x781")]||0,p=e[_0x1d97("0x782")][_0x1d97("0x783")][_0x1d97("0x781")]||0,m=new g(x[1],v,e.sparse[_0x1d97("0xb7")]*b),A=new r(x[2],p,e[_0x1d97("0x782")].count*n);null!==i&&a[_0x1d97("0x788")](a[_0x1d97("0x19d")].slice());for(var C=0,y=m[_0x1d97("0x0")];C<y;C++){var E=m[C];if(a[_0x1d97("0x3c8")](E,A[C*n]),n>=2&&a[_0x1d97("0x789")](E,A[C*n+1]),n>=3&&a[_0x1d97("0x3ca")](E,A[C*n+2]),n>=4&&a[_0x1d97("0x78a")](E,A[C*n+3]),n>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},z[_0x1d97("0xf")][_0x1d97("0x4e0")]=function(x){var d,e=this,t=this[_0x1d97("0xb2")],a=this.options,n=this[_0x1d97("0x767")],r=window[_0x1d97("0x6b5")]||window[_0x1d97("0x78b")],s=t[_0x1d97("0x6b2")][x],o=t[_0x1d97("0x6b3")][x],c=s[_0x1d97("0x6c6")]||{},l=o&&o.t||0,u=(d=c[_[_0x1d97("0x6ba")]]?t[_0x1d97("0x6b3")][c[_[_0x1d97("0x6ba")]][_0x1d97("0x78c")]]:t.images[s[_0x1d97("0x78c")]])[_0x1d97("0x3fd")],f=!1;return void 0!==d[_0x1d97("0x759")]&&(u=e[_0x1d97("0x6e3")](_0x1d97("0x759"),d.bufferView)[_0x1d97("0x2fd")]((function(x){f=!0;var _=new Blob([x],{type:d[_0x1d97("0x78d")]});return u=r[_0x1d97("0x78e")](_)}))),i[_0x1d97("0x1c")][_0x1d97("0x4db")](u)[_0x1d97("0x2fd")]((function(x){var d=THREE[_0x1d97("0x78f")][_0x1d97("0x790")][_0x1d97("0x359")](x);return d||(d=c[_[_0x1d97("0x6ba")]]?e[_0x1d97("0x6c6")][_.MSFT_TEXTURE_DDS][_0x1d97("0x791")]:n),new(i[_0x1d97("0x1c")])((function(_,e){d[_0x1d97("0x591")](L(x,a[_0x1d97("0x2f6")]),_,void 0,e,{updatetime:l})}))})).then((function(x){!0===f&&r[_0x1d97("0x792")](u),x.flipY=!1,void 0!==s.name&&(x[_0x1d97("0xb8")]=s[_0x1d97("0xb8")]),d[_0x1d97("0x78d")]in R&&(x[_0x1d97("0x793")]=R[d[_0x1d97("0x78d")]]);var _=(t[_0x1d97("0x6b4")]||{})[s[_0x1d97("0x794")]]||{};return x[_0x1d97("0x795")]=y[_[_0x1d97("0x795")]]||THREE[_0x1d97("0x5d6")],x[_0x1d97("0x13f")]=y[_[_0x1d97("0x13f")]]||THREE[_0x1d97("0x140")],x[_0x1d97("0x141")]=E[_.wrapS]||THREE[_0x1d97("0x142")],x[_0x1d97("0x143")]=E[_[_0x1d97("0x143")]]||THREE.RepeatWrapping,x}))},z[_0x1d97("0xf")][_0x1d97("0x6d6")]=function(x,d,e){var t=this;return this[_0x1d97("0x6e3")](_0x1d97("0x4c4"),e[_0x1d97("0x2eb")])[_0x1d97("0x2fd")]((function(a){if(t[_0x1d97("0x6c6")][_.KHR_TEXTURE_TRANSFORM]){var i=void 0!==e.extensions?e[_0x1d97("0x6c6")][_[_0x1d97("0x6bb")]]:void 0;i&&(a=t.extensions[_[_0x1d97("0x6bb")]].extendTexture(a,i))}x[d]=a}))},z[_0x1d97("0xf")][_0x1d97("0x77a")]=function(x){var d,e=this,t=this[_0x1d97("0xb2")],a=this.extensions,n=t[_0x1d97("0x3e1")][x],r={},s=n[_0x1d97("0x6c6")]||{},o=[];if(s[_.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[_[_0x1d97("0x6b8")]];d=c[_0x1d97("0x796")](n),o.push(c[_0x1d97("0x6d3")](r,n,e))}else if(s[_[_0x1d97("0x6b7")]]){var l=a[_.KHR_MATERIALS_UNLIT];d=l[_0x1d97("0x796")](n),o[_0x1d97("0x1")](l[_0x1d97("0x6d3")](r,n,e))}else{d=THREE[_0x1d97("0xfb")];var u=n.pbrMetallicRoughness||{};if(r.color=new(THREE[_0x1d97("0x101")])(1,1,1),r[_0x1d97("0xe2")]=1,Array[_0x1d97("0x547")](u[_0x1d97("0x6d4")])){var f=u.baseColorFactor;r[_0x1d97("0x100")][_0x1d97("0x3e6")](f),r[_0x1d97("0xe2")]=f[3]}void 0!==u[_0x1d97("0x6d5")]&&o[_0x1d97("0x1")](e[_0x1d97("0x6d6")](r,_0x1d97("0x38"),u[_0x1d97("0x6d5")])),r[_0x1d97("0xfc")]=void 0!==u[_0x1d97("0x797")]?u[_0x1d97("0x797")]:1,r.roughness=void 0!==u[_0x1d97("0x798")]?u[_0x1d97("0x798")]:1,void 0!==u.metallicRoughnessTexture&&(o[_0x1d97("0x1")](e[_0x1d97("0x6d6")](r,_0x1d97("0x711"),u[_0x1d97("0x799")])),o[_0x1d97("0x1")](e[_0x1d97("0x6d6")](r,_0x1d97("0x710"),u.metallicRoughnessTexture)))}!0===n[_0x1d97("0x79a")]&&(r[_0x1d97("0x115")]=THREE.DoubleSide);var h=n[_0x1d97("0x3f6")]||M.OPAQUE;return h===M[_0x1d97("0x74b")]?r[_0x1d97("0xff")]=!0:(r[_0x1d97("0xff")]=!1,h===M[_0x1d97("0x79b")]&&(r[_0x1d97("0x79c")]=void 0!==n[_0x1d97("0x79d")]?n[_0x1d97("0x79d")]:.5)),void 0!==n[_0x1d97("0x79e")]&&d!==THREE.MeshBasicMaterial&&(o[_0x1d97("0x1")](e[_0x1d97("0x6d6")](r,_0x1d97("0x6ee"),n[_0x1d97("0x79e")])),r[_0x1d97("0x719")]=new THREE.Vector2(1,1),void 0!==n.normalTexture[_0x1d97("0x237")]&&r.normalScale[_0x1d97("0x11b")](n[_0x1d97("0x79e")].scale,n[_0x1d97("0x79e")][_0x1d97("0x237")])),void 0!==n.occlusionTexture&&d!==THREE[_0x1d97("0xfe")]&&(o[_0x1d97("0x1")](e.assignTexture(r,_0x1d97("0x6e9"),n.occlusionTexture)),void 0!==n[_0x1d97("0x79f")].strength&&(r.aoMapIntensity=n[_0x1d97("0x79f")][_0x1d97("0x7a0")])),void 0!==n.emissiveFactor&&d!==THREE.MeshBasicMaterial&&(r[_0x1d97("0x2cc")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x3e6")](n[_0x1d97("0x7a1")])),void 0!==n[_0x1d97("0x7a2")]&&d!==THREE[_0x1d97("0xfe")]&&o[_0x1d97("0x1")](e.assignTexture(r,_0x1d97("0x6eb"),n[_0x1d97("0x7a2")])),i.default[_0x1d97("0x203")](o)[_0x1d97("0x2fd")]((function(){var x;return x=d===THREE.ShaderMaterial?a[_[_0x1d97("0x6b8")]][_0x1d97("0x33f")](r):new d(r),void 0!==n.name&&(x[_0x1d97("0xb8")]=n[_0x1d97("0xb8")]),x[_0x1d97("0x719")]&&(x[_0x1d97("0x719")].y=-x.normalScale.y),x[_0x1d97("0x38")]&&(x.map.encoding=THREE[_0x1d97("0x7a3")]),x[_0x1d97("0x6eb")]&&(x[_0x1d97("0x6eb")].encoding=THREE[_0x1d97("0x7a3")]),x[_0x1d97("0x717")]&&(x[_0x1d97("0x717")][_0x1d97("0x7a4")]=THREE.sRGBEncoding),D(x,n),n[_0x1d97("0x6c6")]&&H(a,x,n),x}))},z.prototype[_0x1d97("0x7a5")]=function(x){var d,e=this,t=this[_0x1d97("0x6c6")],a=this[_0x1d97("0x764")],n=function(x){if(x[_0x1d97("0x0")]<2)return!1;var d=x[0],e=d[_0x1d97("0x763")]||[];if(void 0===d[_0x1d97("0x75a")])return!1;for(var t=1,a=x[_0x1d97("0x0")];t<a;t++){var i=x[t];if(d.mode!==i[_0x1d97("0x36")])return!1;if(void 0===i[_0x1d97("0x75a")])return!1;if(i[_0x1d97("0x6c6")]&&i[_0x1d97("0x6c6")][_[_0x1d97("0x6b9")]])return!1;if(!O(d[_0x1d97("0xb5")],i.attributes))return!1;var n=i.targets||[];if(e.length!==n[_0x1d97("0x0")])return!1;for(var r=0,s=e[_0x1d97("0x0")];r<s;r++)if(!O(e[r],n[r]))return!1}return!0}(x);function r(x){return t[_[_0x1d97("0x6b9")]][_0x1d97("0x6e1")](x,e)[_0x1d97("0x2fd")]((function(d){return j(d,x,e)}))}n&&(d=x,x=[x[0]]);for(var s=[],o=0,c=x.length;o<c;o++){var l,u=x[o],f=N(a,u);if(f)s[_0x1d97("0x1")](f);else l=u[_0x1d97("0x6c6")]&&u[_0x1d97("0x6c6")][_[_0x1d97("0x6b9")]]?r(u):j(new(THREE[_0x1d97("0x19b")]),u,e),a[_0x1d97("0x1")]({primitive:u,promise:l}),s[_0x1d97("0x1")](l)}return i[_0x1d97("0x1c")][_0x1d97("0x203")](s)[_0x1d97("0x2fd")]((function(_){if(n){var t=_[0];if(null!==(u=function(x,d,_){for(var e=0,t=x[_0x1d97("0x0")];e<t;e++){var a=x[e];if(d===a[_0x1d97("0x75e")]&&B(_,a[_0x1d97("0x75f")]))return a[_0x1d97("0xa5")]}return null}(l=e[_0x1d97("0x766")],t,d)))return[u[_0x1d97("0xa5")]];var a=new(THREE[_0x1d97("0x19b")]);for(var r in a[_0x1d97("0xb8")]=t[_0x1d97("0xb8")],a.userData=t[_0x1d97("0x11e")],t[_0x1d97("0xb5")])a[_0x1d97("0x1a0")](r,t.attributes[r]);for(var r in t[_0x1d97("0x754")])a.morphAttributes[r]=t[_0x1d97("0x754")][r];for(var s=[],o=0,c=d[_0x1d97("0x0")];o<c;o++)s[_0x1d97("0x1")](e[_0x1d97("0x6e3")](_0x1d97("0x74f"),d[o][_0x1d97("0x75a")]));return i.default.all(s)[_0x1d97("0x2fd")]((function(x){for(var _=[],e=0,i=0,n=d.length;i<n;i++){for(var r=x[i],s=0,o=r.count;s<o;s++)_[_0x1d97("0x1")](r.array[s]);a[_0x1d97("0x1a2")](e,r[_0x1d97("0xb7")],i),e+=r[_0x1d97("0xb7")]}return a[_0x1d97("0x406")](_),l.push({geometry:a,baseGeometry:t,primitives:d}),[a]}))}if(_[_0x1d97("0x0")]>1&&void 0!==THREE.BufferGeometryUtils){for(o=1,c=x[_0x1d97("0x0")];o<c;o++)if(x[0][_0x1d97("0x36")]!==x[o][_0x1d97("0x36")])return _;var l,u;if(u=function(x,d){for(var _=0,e=x.length;_<e;_++){var t=x[_];if(B(d,t[_0x1d97("0x75d")]))return t[_0x1d97("0xa5")]}return null}(l=e[_0x1d97("0x765")],_)){if(null!==u.geometry)return[u[_0x1d97("0xa5")]]}else{a=THREE.BufferGeometryUtils[_0x1d97("0x19f")](_,!0);if(l[_0x1d97("0x1")]({geometry:a,baseGeometries:_}),null!==a)return[a]}}return _}))},z[_0x1d97("0xf")][_0x1d97("0x775")]=function(x){for(var d=this,t=this.json,a=this[_0x1d97("0x6c6")],n=t[_0x1d97("0xb3")][x],r=n[_0x1d97("0x75f")],s=[],o=0,c=r[_0x1d97("0x0")];o<c;o++){var l=void 0===r[o][_0x1d97("0xa7")]?new(THREE[_0x1d97("0xfb")])({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE[_0x1d97("0x733")]}):this[_0x1d97("0x6e3")]("material",r[o][_0x1d97("0xa7")]);s[_0x1d97("0x1")](l)}return i[_0x1d97("0x1c")][_0x1d97("0x203")](s)[_0x1d97("0x2fd")]((function(t){return d[_0x1d97("0x7a5")](r)[_0x1d97("0x2fd")]((function(i){for(var s=1===i.length&&i[0][_0x1d97("0x410")][_0x1d97("0x0")]>0,o=[],c=0,l=i[_0x1d97("0x0")];c<l;c++){var u,f=i[c],h=r[c],b=s?t:t[c];if(h[_0x1d97("0x36")]===C[_0x1d97("0x7a6")]||h[_0x1d97("0x36")]===C[_0x1d97("0x7a7")]||h[_0x1d97("0x36")]===C[_0x1d97("0x7a8")]||void 0===h[_0x1d97("0x36")])!0===(u=!0===n[_0x1d97("0x7a9")]?new(THREE[_0x1d97("0x7aa")])(f,b):new THREE.Mesh(f,b)).isSkinnedMesh&&u[_0x1d97("0x7ab")](),h.mode===C[_0x1d97("0x7a7")]?u[_0x1d97("0x120")]=THREE.TriangleStripDrawMode:h[_0x1d97("0x36")]===C[_0x1d97("0x7a8")]&&(u[_0x1d97("0x120")]=THREE[_0x1d97("0x7ac")]);else if(h[_0x1d97("0x36")]===C.LINES)u=new(THREE[_0x1d97("0x1a3")])(f,b);else if(h.mode===C.LINE_STRIP)u=new(THREE[_0x1d97("0x7ad")])(f,b);else if(h.mode===C[_0x1d97("0x7ae")])u=new THREE.LineLoop(f,b);else{if(h[_0x1d97("0x36")]!==C[_0x1d97("0x7af")])throw new Error(_0x1d97("0x7b1")+h[_0x1d97("0x36")]);u=new(THREE[_0x1d97("0x7b0")])(f,b)}(0,e[_0x1d97("0x1c")])(u[_0x1d97("0xa5")].morphAttributes)[_0x1d97("0x0")]>0&&P(u,n),u[_0x1d97("0xb8")]=n[_0x1d97("0xb8")]||_0x1d97("0x7b2")+x,i.length>1&&(u[_0x1d97("0xb8")]+="_"+c),D(u,n),o[_0x1d97("0x1")](u);for(var g=s?u[_0x1d97("0xa7")]:[u.material],v=void 0!==f[_0x1d97("0xb5")][_0x1d97("0x100")],p=void 0===f[_0x1d97("0xb5")].normal,m=!0===u.isSkinnedMesh,A=(0,e.default)(f.morphAttributes).length>0,I=A&&void 0!==f.morphAttributes[_0x1d97("0xf9")],y=0,E=g[_0x1d97("0x0")];y<E;y++){b=g[y];if(u[_0x1d97("0x7b3")]){var w=_0x1d97("0x7b4")+b[_0x1d97("0x3d9")],T=d.cache[_0x1d97("0x359")](w);T||(T=new(THREE[_0x1d97("0x7b5")]),THREE[_0x1d97("0x7b6")][_0x1d97("0xf")][_0x1d97("0x267")][_0x1d97("0x3")](T,b),T[_0x1d97("0x100")][_0x1d97("0x267")](b[_0x1d97("0x100")]),T[_0x1d97("0x38")]=b[_0x1d97("0x38")],T[_0x1d97("0x6c8")]=!1,d[_0x1d97("0x76b")].add(w,T)),b=T}else if(u[_0x1d97("0x7b7")]){w=_0x1d97("0x7b8")+b[_0x1d97("0x3d9")];var k=d[_0x1d97("0x76b")][_0x1d97("0x359")](w);k||(k=new(THREE[_0x1d97("0x195")]),THREE[_0x1d97("0x7b6")][_0x1d97("0xf")][_0x1d97("0x267")][_0x1d97("0x3")](k,b),k.color[_0x1d97("0x267")](b.color),k[_0x1d97("0x6c8")]=!1,d[_0x1d97("0x76b")][_0x1d97("0xdc")](w,k)),b=k}if(v||p||m||A){w=_0x1d97("0x7b9")+b[_0x1d97("0x3d9")]+":";b[_0x1d97("0x718")]&&(w+="specular-glossiness:"),m&&(w+=_0x1d97("0x7ba")),v&&(w+="vertex-colors:"),p&&(w+=_0x1d97("0x7bb")),A&&(w+=_0x1d97("0x7bc")),I&&(w+="morph-normals:");var S=d.cache[_0x1d97("0x359")](w);S||(S=b.isGLTFSpecularGlossinessMaterial?a[_.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS][_0x1d97("0x7bd")](b):b[_0x1d97("0xdb")](),m&&(S[_0x1d97("0x7be")]=!0),v&&(S[_0x1d97("0x7bf")]=THREE[_0x1d97("0x7c0")]),p&&(S[_0x1d97("0x7c1")]=!0),A&&(S.morphTargets=!0),I&&(S[_0x1d97("0x7c2")]=!0),d[_0x1d97("0x76b")][_0x1d97("0xdc")](w,S)),b=S}g[y]=b,b[_0x1d97("0x6e9")]&&void 0===f[_0x1d97("0xb5")][_0x1d97("0x405")]&&void 0!==f[_0x1d97("0xb5")].uv&&f[_0x1d97("0x1a0")](_0x1d97("0x405"),new(THREE[_0x1d97("0x1a1")])(f[_0x1d97("0xb5")].uv.array,2)),b[_0x1d97("0x718")]&&(u[_0x1d97("0x7c3")]=a[_[_0x1d97("0x6b8")]][_0x1d97("0x7c4")])}u[_0x1d97("0xa7")]=s?g:g[0]}if(1===o[_0x1d97("0x0")])return o[0];var M=new(THREE[_0x1d97("0x7c5")]);for(c=0,l=o.length;c<l;c++)M[_0x1d97("0xdc")](o[c]);return M}))}))},z[_0x1d97("0xf")].loadCamera=function(x){var d,_=this[_0x1d97("0xb2")][_0x1d97("0x76f")][x],e=_[_.type];if(e)return _[_0x1d97("0x6a")]===_0x1d97("0x1fd")?d=new THREE.PerspectiveCamera(THREE.Math[_0x1d97("0x24f")](e.yfov),e.aspectRatio||1,e[_0x1d97("0x7c7")]||1,e[_0x1d97("0x7c8")]||2e6):_[_0x1d97("0x6a")]===_0x1d97("0x7c9")&&(d=new(THREE[_0x1d97("0x5f7")])(e.xmag/-2,e[_0x1d97("0x7ca")]/2,e.ymag/2,e.ymag/-2,e[_0x1d97("0x7c7")],e.zfar)),void 0!==_[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=_[_0x1d97("0xb8")]),D(d,_),i.default.resolve(d);console[_0x1d97("0x3fb")](_0x1d97("0x7c6"))},z.prototype[_0x1d97("0x7cb")]=function(x){var d=this[_0x1d97("0xb2")][_0x1d97("0x770")][x],_={joints:d.joints};return void 0===d.inverseBindMatrices?i[_0x1d97("0x1c")][_0x1d97("0x4db")](_):this[_0x1d97("0x6e3")](_0x1d97("0x74f"),d[_0x1d97("0x7cc")]).then((function(x){return _[_0x1d97("0x7cc")]=x,_}))},z[_0x1d97("0xf")][_0x1d97("0x77b")]=function(x){for(var d=this[_0x1d97("0xb2")][_0x1d97("0x2b2")][x],_=[],e=[],t=[],a=[],n=[],r=0,s=d[_0x1d97("0x7cd")][_0x1d97("0x0")];r<s;r++){var o=d[_0x1d97("0x7cd")][r],c=d[_0x1d97("0x6b4")][o[_0x1d97("0x794")]],l=o[_0x1d97("0x27e")],u=void 0!==l[_0x1d97("0x58f")]?l[_0x1d97("0x58f")]:l.id,f=void 0!==d[_0x1d97("0x7ce")]?d[_0x1d97("0x7ce")][c[_0x1d97("0x7cf")]]:c[_0x1d97("0x7cf")],h=void 0!==d[_0x1d97("0x7ce")]?d.parameters[c[_0x1d97("0x7d0")]]:c.output;_[_0x1d97("0x1")](this[_0x1d97("0x6e3")](_0x1d97("0x58f"),u)),e[_0x1d97("0x1")](this[_0x1d97("0x6e3")](_0x1d97("0x74f"),f)),t[_0x1d97("0x1")](this[_0x1d97("0x6e3")](_0x1d97("0x74f"),h)),a[_0x1d97("0x1")](c),n[_0x1d97("0x1")](l)}return i[_0x1d97("0x1c")][_0x1d97("0x203")]([i[_0x1d97("0x1c")].all(_),i[_0x1d97("0x1c")][_0x1d97("0x203")](e),i[_0x1d97("0x1c")][_0x1d97("0x203")](t),i[_0x1d97("0x1c")][_0x1d97("0x203")](a),i.default[_0x1d97("0x203")](n)])[_0x1d97("0x2fd")]((function(_){for(var e=_[0],t=_[1],a=_[2],i=_[3],n=_[4],r=[],s=0,o=e.length;s<o;s++){var c=e[s],l=t[s],u=a[s],f=i[s],h=n[s];if(void 0!==c){var b;switch(c[_0x1d97("0x342")](),c[_0x1d97("0x7d1")]=!0,k[h.path]){case k[_0x1d97("0x756")]:b=THREE[_0x1d97("0x7d2")];break;case k.rotation:b=THREE[_0x1d97("0x7d3")];break;case k[_0x1d97("0xb6")]:case k[_0x1d97("0x237")]:default:b=THREE[_0x1d97("0x7d4")]}var g=c[_0x1d97("0xb8")]?c.name:c[_0x1d97("0x3d9")],v=void 0!==f[_0x1d97("0x7d5")]?S[f[_0x1d97("0x7d5")]]:THREE[_0x1d97("0x745")],p=[];k[h[_0x1d97("0x2f6")]]===k[_0x1d97("0x756")]?c[_0x1d97("0xb4")]((function(x){!0===x.isMesh&&x.morphTargetInfluences&&p[_0x1d97("0x1")](x[_0x1d97("0xb8")]?x[_0x1d97("0xb8")]:x[_0x1d97("0x3d9")])})):p[_0x1d97("0x1")](g);for(var m=0,C=p[_0x1d97("0x0")];m<C;m++){var I=new b(p[m]+"."+k[h[_0x1d97("0x2f6")]],THREE.AnimationUtils[_0x1d97("0x7d6")](l.array,0),THREE[_0x1d97("0x7d7")][_0x1d97("0x7d6")](u.array,0),v);"CUBICSPLINE"===f[_0x1d97("0x7d5")]&&(I[_0x1d97("0x7d8")]=function(x){return new A(this.times,this[_0x1d97("0x783")],this[_0x1d97("0x7d9")]()/3,x)},I.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),r[_0x1d97("0x1")](I)}}}var y=void 0!==d.name?d[_0x1d97("0xb8")]:_0x1d97("0x7da")+x;return new THREE.AnimationClip(y,void 0,r)}))},z[_0x1d97("0xf")][_0x1d97("0x7db")]=function(x){var d=this[_0x1d97("0xb2")],e=this[_0x1d97("0x6c6")],t=this,a=d[_0x1d97("0x773")],n=d[_0x1d97("0x774")],r=d[_0x1d97("0x3e2")][x];return(!0===r[_0x1d97("0x7dc")]?i[_0x1d97("0x1c")][_0x1d97("0x4db")](new(THREE[_0x1d97("0x7dd")])):void 0!==r[_0x1d97("0x416")]?t[_0x1d97("0x6e3")](_0x1d97("0x416"),r[_0x1d97("0x416")]).then((function(x){var d;if(a[r[_0x1d97("0x416")]]>1){var _=n[r.mesh]++;(d=x[_0x1d97("0xdb")]())[_0x1d97("0xb8")]+=_0x1d97("0x7de")+_,d[_0x1d97("0x7c3")]=x.onBeforeRender;for(var e=0,t=d[_0x1d97("0xa4")][_0x1d97("0x0")];e<t;e++)d[_0x1d97("0xa4")][e][_0x1d97("0xb8")]+=_0x1d97("0x7de")+_,d.children[e].onBeforeRender=x[_0x1d97("0xa4")][e][_0x1d97("0x7c3")]}else d=x;return void 0!==r[_0x1d97("0x756")]&&d.traverse((function(x){if(x[_0x1d97("0x7df")])for(var d=0,_=r.weights[_0x1d97("0x0")];d<_;d++)x[_0x1d97("0x744")][d]=r.weights[d]})),d})):void 0!==r[_0x1d97("0x567")]?t.getDependency(_0x1d97("0x567"),r[_0x1d97("0x567")]):r.extensions&&r[_0x1d97("0x6c6")][_[_0x1d97("0x6c5")]]&&void 0!==r[_0x1d97("0x6c6")][_[_0x1d97("0x6c5")]][_0x1d97("0xfa")]?t[_0x1d97("0x6e3")](_0x1d97("0xfa"),r[_0x1d97("0x6c6")][_.KHR_LIGHTS_PUNCTUAL][_0x1d97("0xfa")]):i[_0x1d97("0x1c")].resolve(new(THREE[_0x1d97("0x150")])))[_0x1d97("0x2fd")]((function(x){if(void 0!==r[_0x1d97("0xb8")]&&(x.name=THREE[_0x1d97("0x7e0")][_0x1d97("0x7e1")](r[_0x1d97("0xb8")])),D(x,r),r[_0x1d97("0x6c6")]&&H(e,x,r),void 0!==r[_0x1d97("0x24b")]){var d=new(THREE[_0x1d97("0x261")]);d.fromArray(r[_0x1d97("0x24b")]),x.applyMatrix(d)}else void 0!==r[_0x1d97("0x3ee")]&&x[_0x1d97("0xb6")][_0x1d97("0x3e6")](r.translation),void 0!==r[_0x1d97("0x238")]&&x[_0x1d97("0x23c")][_0x1d97("0x3e6")](r[_0x1d97("0x238")]),void 0!==r[_0x1d97("0x237")]&&x[_0x1d97("0x237")].fromArray(r[_0x1d97("0x237")]);return x}))},z[_0x1d97("0xf")][_0x1d97("0x7e2")]=function(){function x(d,_,e,t){var a=e[_0x1d97("0x3e2")][d];return t[_0x1d97("0x6e3")](_0x1d97("0x58f"),d)[_0x1d97("0x2fd")]((function(x){return void 0===a[_0x1d97("0x772")]?x:t.getDependency("skin",a[_0x1d97("0x772")])[_0x1d97("0x2fd")]((function(x){for(var _=[],e=0,a=(d=x).joints[_0x1d97("0x0")];e<a;e++)_.push(t.getDependency(_0x1d97("0x58f"),d[_0x1d97("0x771")][e]));return i[_0x1d97("0x1c")].all(_)}))[_0x1d97("0x2fd")]((function(_){for(var e=!0===x[_0x1d97("0x7e3")]?x[_0x1d97("0xa4")]:[x],t=0,a=e[_0x1d97("0x0")];t<a;t++){for(var i=e[t],n=[],r=[],s=0,o=_[_0x1d97("0x0")];s<o;s++){var c=_[s];if(c){n[_0x1d97("0x1")](c);var l=new(THREE[_0x1d97("0x261")]);void 0!==d[_0x1d97("0x7cc")]&&l.fromArray(d[_0x1d97("0x7cc")][_0x1d97("0x19d")],16*s),r[_0x1d97("0x1")](l)}else console[_0x1d97("0x3fb")](_0x1d97("0x7e4"),d[_0x1d97("0x771")][s])}i[_0x1d97("0x11")](new THREE.Skeleton(n,r),i[_0x1d97("0x181")])}return x}));var d}))[_0x1d97("0x2fd")]((function(d){_[_0x1d97("0xdc")](d);var n=[];if(a.children)for(var r=a.children,s=0,o=r[_0x1d97("0x0")];s<o;s++){var c=r[s];n[_0x1d97("0x1")](x(c,d,e,t))}return i[_0x1d97("0x1c")][_0x1d97("0x203")](n)}))}return function(d){var _=this[_0x1d97("0xb2")],e=this[_0x1d97("0x6c6")],t=this[_0x1d97("0xb2")][_0x1d97("0x6af")][d],a=new THREE.Scene;void 0!==t[_0x1d97("0xb8")]&&(a[_0x1d97("0xb8")]=t[_0x1d97("0xb8")]),D(a,t),t[_0x1d97("0x6c6")]&&H(e,a,t);for(var n=t[_0x1d97("0x3e2")]||[],r=[],s=0,o=n[_0x1d97("0x0")];s<o;s++)r[_0x1d97("0x1")](x(n[s],a,_,this));return i[_0x1d97("0x1c")][_0x1d97("0x203")](r)[_0x1d97("0x2fd")]((function(){return a}))}}(),x}()},function(x,d,_){"use strict";function e(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++)d[_]=x[_0x1d97("0x2a")](_);return d}Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0x45")]=function(x,d,_){for(var t="",a=e(d+_),i=e(x),n=0;n<i[_0x1d97("0x0")];n++){for(var r=0;r<a.length;r++)i[n]=i[n]^a[r];t+=String[_0x1d97("0xc4")](i[n])}return t}},function(x,d,_){"use strict";var e=i(_(18)),t=i(_(2)),a=i(_(94));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){this[_0x1d97("0x3ed")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x7e5")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x648")]=new THREE.Vector3,this.up=new THREE.Vector3,this[_0x1d97("0x7e6")]=0,this.widthScale=1};n[_0x1d97("0xf")][_0x1d97("0x7e7")]=function(x,d,_){this[_0x1d97("0x3ed")].lerpVectors(x[_0x1d97("0x3ed")],d[_0x1d97("0x3ed")],_),this[_0x1d97("0x7e5")][_0x1d97("0x7e8")](x[_0x1d97("0x7e5")],d[_0x1d97("0x7e5")],_),this.up[_0x1d97("0x7e8")](x.up,d.up,_),this[_0x1d97("0x648")][_0x1d97("0x7e8")](x[_0x1d97("0x648")],d[_0x1d97("0x648")],_),this.dist=(d.dist-x.dist)*_+x[_0x1d97("0x7e6")],this[_0x1d97("0x7e9")]=(d[_0x1d97("0x7e9")]-x[_0x1d97("0x7e9")])*_+x.widthScale},n.prototype[_0x1d97("0x267")]=function(x){this.pos[_0x1d97("0x267")](x.pos),this[_0x1d97("0x7e5")].copy(x[_0x1d97("0x7e5")]),this.up[_0x1d97("0x267")](x.up),this[_0x1d97("0x648")][_0x1d97("0x267")](x[_0x1d97("0x648")]),this[_0x1d97("0x7e6")]=x.dist,this.widthScale=x[_0x1d97("0x7e9")]};var r=function(){this[_0x1d97("0x19d")]=[],this[_0x1d97("0xb7")]=0};r[_0x1d97("0xf")].set=function(x,d,_,e,t){if((x=x[_0x1d97("0xca")](0)).length<2)return this[_0x1d97("0xb7")]=0,void console[_0x1d97("0x3fb")](_0x1d97("0x7ea"));d=void 0!==d?d:.1,_=void 0!==_?_:10,(t=void 0!==t&&t)&&!x[0][_0x1d97("0x59a")](x[x[_0x1d97("0x0")]-1])&&x.push((new THREE.Vector3)[_0x1d97("0x267")](x[0]));for(var a=0,i=x[_0x1d97("0x0")];a<i;a++)if(0===a)this._start(x[a],x[a+1],e);else if(a===i-1)if(t){this[_0x1d97("0x7eb")](x[a],x[1],d,_,e);var n=this[_0x1d97("0x19d")][0][_0x1d97("0x7e6")];this[_0x1d97("0x19d")][0].copy(this[_0x1d97("0x19d")][this.count-1]),this[_0x1d97("0x19d")][0][_0x1d97("0x7e6")]=n}else this[_0x1d97("0x7ec")](x[a]);else this[_0x1d97("0x7eb")](x[a],x[a+1],d,_,e)},r[_0x1d97("0xf")].distance=function(){return 0==this.count?0:this[_0x1d97("0x19d")][this[_0x1d97("0xb7")]-1][_0x1d97("0x7e6")]},r[_0x1d97("0xf")]._start=function(x,d,_){this[_0x1d97("0xb7")]=0;var e=this[_0x1d97("0x7ed")](this[_0x1d97("0xb7")]);if(e.pos[_0x1d97("0x267")](x),e[_0x1d97("0x7e5")][_0x1d97("0x7ee")](d,x),_)e.up[_0x1d97("0x267")](_);else{var t=Number.MAX_VALUE,a=Math[_0x1d97("0x253")](e[_0x1d97("0x7e5")].x),i=Math[_0x1d97("0x253")](e[_0x1d97("0x7e5")].y),n=Math[_0x1d97("0x253")](e[_0x1d97("0x7e5")].z);a<t&&(t=a,e.up.set(1,0,0)),i<t&&(t=i,e.up[_0x1d97("0x11b")](0,1,0)),n<t&&e.up.set(0,0,1)}e.right[_0x1d97("0x7ef")](e[_0x1d97("0x7e5")],e.up)[_0x1d97("0x2e1")](),e.up.crossVectors(e[_0x1d97("0x648")],e.dir)[_0x1d97("0x2e1")](),e.dist=0,e.widthScale=1,e[_0x1d97("0x7e5")][_0x1d97("0x2e1")](),this.count++};var s=new(THREE[_0x1d97("0xe0")]),o=new THREE.Vector3,c=new(THREE[_0x1d97("0xe0")]),l=new(THREE[_0x1d97("0x261")]),u=new(THREE[_0x1d97("0x7f0")]);r[_0x1d97("0xf")][_0x1d97("0x7eb")]=function(x,d,_,e,t){if(_>0&&e>0){for(var a=this[_0x1d97("0x19d")][this[_0x1d97("0xb7")]-1],i=this[_0x1d97("0x7f1")](a[_0x1d97("0x3ed")],x,d,_,u)[_0x1d97("0x7f2")](e),n=0;n<e;n+=1)this._hardCorner(i[n],i[n+1],t);i[e][_0x1d97("0x59a")](d)||this[_0x1d97("0x7f3")](i[e],d,t)}else this[_0x1d97("0x7f3")](x,d,t)},r[_0x1d97("0xf")][_0x1d97("0x7f3")]=function(x,d,_){var e=this[_0x1d97("0x19d")][this.count-1],t=this._getByIndex(this.count),i=s[_0x1d97("0x7ee")](x,e[_0x1d97("0x3ed")]),n=o[_0x1d97("0x7ee")](d,x),r=i.length();if(i.normalize(),n[_0x1d97("0x2e1")](),t[_0x1d97("0x3ed")][_0x1d97("0x267")](x),t.dir.addVectors(i,n),t[_0x1d97("0x7e5")][_0x1d97("0x2e1")](),_)1===t.dir.dot(_)?t[_0x1d97("0x648")][_0x1d97("0x7ef")](n,_)[_0x1d97("0x2e1")]():t[_0x1d97("0x648")][_0x1d97("0x7ef")](t[_0x1d97("0x7e5")],_).normalize(),t.up[_0x1d97("0x7ef")](t[_0x1d97("0x648")],t[_0x1d97("0x7e5")]).normalize();else{t.up[_0x1d97("0x267")](e.up);var u=c[_0x1d97("0x7ef")](e[_0x1d97("0x7e5")],t[_0x1d97("0x7e5")]);if(u.length()>a[_0x1d97("0x1c")]){u[_0x1d97("0x2e1")]();var f=Math[_0x1d97("0x7f4")](Math[_0x1d97("0x318")](Math[_0x1d97("0x317")](e[_0x1d97("0x7e5")][_0x1d97("0x7f5")](t[_0x1d97("0x7e5")]),-1),1));t.up[_0x1d97("0x2db")](l.makeRotationAxis(u,f))}t[_0x1d97("0x648")].crossVectors(t[_0x1d97("0x7e5")],t.up)[_0x1d97("0x2e1")]()}t[_0x1d97("0x7e6")]=e.dist+r;var h=i[_0x1d97("0x7f5")](n);t.widthScale=Math[_0x1d97("0x318")](1/Math[_0x1d97("0xc3")]((1+h)/2),1.414213562373)||1,this[_0x1d97("0xb7")]++},r[_0x1d97("0xf")][_0x1d97("0x7ec")]=function(x){var d=this[_0x1d97("0x19d")][this[_0x1d97("0xb7")]-1],_=this._getByIndex(this[_0x1d97("0xb7")]);_[_0x1d97("0x3ed")][_0x1d97("0x267")](x),_[_0x1d97("0x7e5")][_0x1d97("0x7ee")](x,d[_0x1d97("0x3ed")]);var e=_[_0x1d97("0x7e5")].length();_.dir.normalize(),_.up[_0x1d97("0x267")](d.up);var t=s[_0x1d97("0x7ef")](d[_0x1d97("0x7e5")],_[_0x1d97("0x7e5")]);if(t[_0x1d97("0x0")]()>a[_0x1d97("0x1c")]){t[_0x1d97("0x2e1")]();var i=Math[_0x1d97("0x7f4")](Math[_0x1d97("0x318")](Math[_0x1d97("0x317")](d[_0x1d97("0x7e5")][_0x1d97("0x7f5")](_[_0x1d97("0x7e5")]),-1),1));_.up[_0x1d97("0x2db")](l.makeRotationAxis(t,i))}_[_0x1d97("0x648")].crossVectors(_.dir,_.up).normalize(),_.dist=d[_0x1d97("0x7e6")]+e,_.widthScale=1,this[_0x1d97("0xb7")]++},r.prototype[_0x1d97("0x7ed")]=function(x){return this[_0x1d97("0x19d")][x]||(this[_0x1d97("0x19d")][x]=new n),this[_0x1d97("0x19d")][x]},r[_0x1d97("0xf")][_0x1d97("0x7f1")]=function(x,d,_,e,t){var a=s[_0x1d97("0x7ee")](d,x),i=o[_0x1d97("0x7ee")](_,d),n=a[_0x1d97("0x0")](),r=i[_0x1d97("0x0")]();return a.normalize(),i[_0x1d97("0x2e1")](),n>e?t.v0[_0x1d97("0x267")](d)[_0x1d97("0x3d7")](a[_0x1d97("0x276")](e)):t.v0[_0x1d97("0x267")](x),t.v1[_0x1d97("0x267")](d),r>e?t.v2.copy(d).add(i[_0x1d97("0x276")](e)):t.v2[_0x1d97("0x267")](_),t};var f=function(){this._drawing=!1,this[_0x1d97("0x7f6")]=!1,this._points=[],this[_0x1d97("0x7f7")]=new THREE.Vector3,this[_0x1d97("0x7f8")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x7f9")]=.5,this[_0x1d97("0x1b5")]=.1,this._cornerRadius=.2,this[_0x1d97("0x7fa")]=10,this[_0x1d97("0x7fb")]=new r,this[_0x1d97("0x7fc")]=!0,this.up=new(THREE[_0x1d97("0xe0")])(0,1,0)};Object[_0x1d97("0x7")](f[_0x1d97("0xf")],"cornerRadius",{set:function(x){this[_0x1d97("0x7fd")]=x,this._dirty=!0},get:function(){return this[_0x1d97("0x7fd")]}}),Object[_0x1d97("0x7")](f[_0x1d97("0xf")],_0x1d97("0x7fe"),{set:function(x){this[_0x1d97("0x7fa")]=x,this._dirty=!0},get:function(){return this[_0x1d97("0x7fa")]}}),f[_0x1d97("0xf")][_0x1d97("0x7f2")]=function(){if(this[_0x1d97("0x7f6")]&&(this._points[_0x1d97("0x7ff")](),this[_0x1d97("0x7f6")]=!1),this[_0x1d97("0x800")]&&this[_0x1d97("0x801")][_0x1d97("0x0")]>0){var x=this[_0x1d97("0x802")]();x&&(this[_0x1d97("0x801")][_0x1d97("0x1")](x),this[_0x1d97("0x7f6")]=!0)}return this[_0x1d97("0x801")]},f.prototype[_0x1d97("0x803")]=function(){return(this[_0x1d97("0x800")]||this._dirty)&&(this[_0x1d97("0x7fb")][_0x1d97("0x11b")](this[_0x1d97("0x7f2")](),this[_0x1d97("0x7fd")],this[_0x1d97("0x7fa")],this.up),this._dirty=!1),this[_0x1d97("0x7fb")]},f[_0x1d97("0xf")][_0x1d97("0x11d")]=function(x){this[_0x1d97("0x7f7")][_0x1d97("0x267")](x),this._lastPoint.y+=this[_0x1d97("0x1b5")]},f[_0x1d97("0xf")][_0x1d97("0x804")]=function(){this[_0x1d97("0x800")]=!0;var x=this[_0x1d97("0x802")]();x&&(this[_0x1d97("0x7f6")]&&(this._points[_0x1d97("0x7ff")](),this[_0x1d97("0x7f6")]=!1),this[_0x1d97("0x801")][_0x1d97("0x1")](x[_0x1d97("0xdb")]())),this[_0x1d97("0x7fc")]=!0},f.prototype.start=function(){this[_0x1d97("0x800")]=!0,this[_0x1d97("0x7fc")]=!0},f.prototype[_0x1d97("0x1af")]=function(){this._drawing=!1,this._dirty=!0},f[_0x1d97("0xf")][_0x1d97("0x5f5")]=function(){this._drawing=!1,this._includeDrawingPoint=!1,this._points=[],this[_0x1d97("0x7fc")]=!0};var h=new THREE.Vector3,b=new THREE.Vector3,g=new THREE.Vector3;f[_0x1d97("0xf")][_0x1d97("0x802")]=function(){if(this._lastFixedPoint[_0x1d97("0x267")](this[_0x1d97("0x7f7")]),this._points[_0x1d97("0x0")]>0){var x=this._includeDrawingPoint?this[_0x1d97("0x801")][this._points[_0x1d97("0x0")]-2]:this._points[this[_0x1d97("0x801")][_0x1d97("0x0")]-1];if(function(x,d){return h[_0x1d97("0x267")](d).sub(x).length()}(x,this[_0x1d97("0x7f8")])<this[_0x1d97("0x7f9")]&&(h.normalize()[_0x1d97("0x276")](this[_0x1d97("0x7f9")]),this[_0x1d97("0x7f8")][_0x1d97("0x267")](x)[_0x1d97("0xdc")](h)),this[_0x1d97("0x7f6")]?this._points[_0x1d97("0x0")]>2:this[_0x1d97("0x801")].length>1){var d=this[_0x1d97("0x7f6")]?this._points[this._points[_0x1d97("0x0")]-3]:this[_0x1d97("0x801")][this[_0x1d97("0x801")][_0x1d97("0x0")]-2];if(b[_0x1d97("0x7ee")](x,d),g.subVectors(this[_0x1d97("0x7f8")],x),b[_0x1d97("0x2e1")](),g[_0x1d97("0x2e1")](),b[_0x1d97("0x276")](-1)[_0x1d97("0x7f5")](g)>.99)return null}}return this._lastFixedPoint};var v=function(x){THREE[_0x1d97("0x19b")][_0x1d97("0x3")](this),x=x||3e3,this.setAttribute?(this[_0x1d97("0x332")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(3*x),3)[_0x1d97("0x805")](THREE[_0x1d97("0x806")])),this[_0x1d97("0x332")](_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(3*x),3)[_0x1d97("0x805")](THREE[_0x1d97("0x806")])),this.setAttribute("uv",new(THREE[_0x1d97("0x1a1")])(new Float32Array(2*x),2)[_0x1d97("0x805")](THREE[_0x1d97("0x806")]))):(this.addAttribute(_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(3*x),3).setDynamic(!0)),this.addAttribute(_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(new Float32Array(3*x),3)[_0x1d97("0x807")](!0)),this[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(new Float32Array(2*x),2)[_0x1d97("0x807")](!0))),this[_0x1d97("0x808")][_0x1d97("0x1c1")]=0,this[_0x1d97("0x808")][_0x1d97("0xb7")]=0};v[_0x1d97("0xf")]=(0,t[_0x1d97("0x1c")])((0,e[_0x1d97("0x1c")])(THREE.BufferGeometry[_0x1d97("0xf")]),{constructor:v,update:function(x,d){d=d||{};var _=this[_0x1d97("0x809")](x,d);this[_0x1d97("0x808")].count=_},_resizeAttribute:function(x,d,_){for(;d[_0x1d97("0x19d")].length<_;){var e=d[_0x1d97("0x19d")][_0x1d97("0x0")],t=new THREE.BufferAttribute(new Float32Array(2*e),d[_0x1d97("0x761")],d[_0x1d97("0x6e5")]);t[_0x1d97("0xb8")]=d.name,t[_0x1d97("0x80a")]=d[_0x1d97("0x80a")],this[_0x1d97("0x1a0")],this[_0x1d97("0x1a0")](x,t),d=t}},_updateAttributes:function(x,d){var _=d[_0x1d97("0x328")]||.1,e=void 0!==d.progress?d.progress:1,t=void 0===d.arrow||d[_0x1d97("0x123")],a=void 0!==d[_0x1d97("0x115")]?d[_0x1d97("0x115")]:_0x1d97("0x124"),i=0,r=[],s=[],o=[],c=new THREE.Vector3,l=new(THREE[_0x1d97("0xe0")]);function u(x,d,_){x[_0x1d97("0x7e5")];var e=x.up,t=x[_0x1d97("0x648")];_0x1d97("0x3a5")!==a?c[_0x1d97("0x267")](t).multiplyScalar(d*x[_0x1d97("0x7e9")]):c[_0x1d97("0x11b")](0,0,0),_0x1d97("0x648")!==a?l.copy(t).multiplyScalar(-d*x[_0x1d97("0x7e9")]):l.set(0,0,0),c[_0x1d97("0xdc")](x[_0x1d97("0x3ed")]),l[_0x1d97("0xdc")](x[_0x1d97("0x3ed")]),r[_0x1d97("0x1")](l.x,l.y,l.z,c.x,c.y,c.z),s[_0x1d97("0x1")](e.x,e.y,e.z,e.x,e.y,e.z),o[_0x1d97("0x1")](_,0,_,1),i+=2}var f=new THREE.Vector3,h=x[_0x1d97("0x25e")]();if(0==h)return 0;var b,g=e*h;if(g>0)for(var v=0;v<x[_0x1d97("0xb7")];v++){var p=x[_0x1d97("0x19d")][v];if(p.dist>g){var m=x.array[v-1];b=new n;var A=(g-m.dist)/(p.dist-m.dist);b[_0x1d97("0x7e7")](m,p,A),u(b,_/2,b[_0x1d97("0x7e6")]/("both"!==a?_/2:_));break}u(p,_/2,p[_0x1d97("0x7e6")]/("both"!==a?_/2:_))}else b=x[_0x1d97("0x19d")][0];t&&function(x,d,_){var e=x[_0x1d97("0x7e5")],t=x.up,n=x[_0x1d97("0x648")];"left"!==a?c.copy(n).multiplyScalar(2*d):c[_0x1d97("0x11b")](0,0,0),_0x1d97("0x648")!==a?l[_0x1d97("0x267")](n)[_0x1d97("0x276")](2*-d):l.set(0,0,0),f[_0x1d97("0x267")](e)[_0x1d97("0x80b")](3*d),c[_0x1d97("0xdc")](x[_0x1d97("0x3ed")]),l[_0x1d97("0xdc")](x.pos),f[_0x1d97("0xdc")](x.pos),r[_0x1d97("0x1")](l.x,l.y,l.z,c.x,c.y,c.z,f.x,f.y,f.z),s[_0x1d97("0x1")](t.x,t.y,t.z,t.x,t.y,t.z,t.x,t.y,t.z),o[_0x1d97("0x1")](_,_0x1d97("0x124")!==a?_0x1d97("0x648")!==a?-2:0:-.5,_,"both"!==a?"left"!==a?2:0:1.5,_+3*d/("both"!==a?d:2*d),_0x1d97("0x124")!==a?0:.5),i+=3}(b=b||x[_0x1d97("0x19d")][x[_0x1d97("0xb7")]-1],_/2,b.dist/(_0x1d97("0x124")!==a?_/2:_));var C=this.getAttribute(_0x1d97("0xb6")),I=this[_0x1d97("0x19c")]("normal"),y=this[_0x1d97("0x19c")]("uv");return this[_0x1d97("0x80c")](_0x1d97("0xb6"),C,r[_0x1d97("0x0")]),this._resizeAttribute("normal",I,s[_0x1d97("0x0")]),this._resizeAttribute("uv",y,o[_0x1d97("0x0")]),C=this.getAttribute(_0x1d97("0xb6")),I=this[_0x1d97("0x19c")]("normal"),y=this[_0x1d97("0x19c")]("uv"),C[_0x1d97("0x19d")][_0x1d97("0x11b")](r,0),I[_0x1d97("0x19d")][_0x1d97("0x11b")](s,0),y[_0x1d97("0x19d")].set(o,0),C[_0x1d97("0x80d")][_0x1d97("0xb7")]=r[_0x1d97("0x0")],I[_0x1d97("0x80d")][_0x1d97("0xb7")]=s[_0x1d97("0x0")],y[_0x1d97("0x80d")][_0x1d97("0xb7")]=o.length,C[_0x1d97("0x13b")]=!0,I.needsUpdate=!0,y[_0x1d97("0x13b")]=!0,i}});var p=function(x){v.call(this,x||1e3),this[_0x1d97("0x406")](new Array(2*(x||1e3))),this.maxUvVal=0};p[_0x1d97("0xf")]=(0,t[_0x1d97("0x1c")])((0,e[_0x1d97("0x1c")])(v[_0x1d97("0xf")]),{constructor:p,_resizeIndex:function(x,d){for(;x[_0x1d97("0x19d")].length<d;){var _=x[_0x1d97("0x19d")][_0x1d97("0x0")],e=new THREE.BufferAttribute(2*_>65535?new Uint32Array(2*_):new Uint16Array(2*_),1);e[_0x1d97("0xb8")]=x.name,e[_0x1d97("0x80a")]=x[_0x1d97("0x80a")],this[_0x1d97("0x406")](e),x=e}},_updateAttributes:function(x,d){var _=this,e=d[_0x1d97("0x58b")]||.1,t=d[_0x1d97("0x80e")]||8;t=Math[_0x1d97("0x317")](2,t);var a=d[_0x1d97("0x80f")]||0,i=void 0!==d.progress?d[_0x1d97("0x125")]:1,r=0,s=[],o=[],c=[],l=[],u=0,f=new(THREE[_0x1d97("0xe0")]);function h(x,d,e,t){for(var i=0===s[_0x1d97("0x0")],n=0;n<=e;n++){var h=n;h==e&&(h=0);var b=n/e,g=Math.max(t,b);g>_[_0x1d97("0x104")]&&(_[_0x1d97("0x104")]=g),f[_0x1d97("0x267")](x.up)[_0x1d97("0x810")](x[_0x1d97("0x7e5")],a+2*Math.PI*h/e)[_0x1d97("0x2e1")](),s.push(x[_0x1d97("0x3ed")].x+f.x*d*x[_0x1d97("0x7e9")],x[_0x1d97("0x3ed")].y+f.y*d*x.widthScale,x[_0x1d97("0x3ed")].z+f.z*d*x.widthScale),o[_0x1d97("0x1")](f.x,f.y,f.z),c.push(t,b),u++}if(!i)for(var v=u-2*(e+1),p=u-(e+1),m=0;m<e;m++)l.push(p+m,v+m,v+m+1,p+m,v+m+1,p+m+1),r+=6}var b=i*x[_0x1d97("0x25e")]();if(0==b)return 0;if(b>0)for(var g=0;g<x[_0x1d97("0xb7")];g++){var v=x[_0x1d97("0x19d")][g];if(v.dist>b){var p=x.array[g-1],m=new n,A=(b-p[_0x1d97("0x7e6")])/(v[_0x1d97("0x7e6")]-p[_0x1d97("0x7e6")]);m[_0x1d97("0x7e7")](p,v,A),h(m,e,t,m[_0x1d97("0x7e6")]/(2*e*Math.PI));break}h(v,e,t,v[_0x1d97("0x7e6")]/(2*e*Math.PI))}var C=this.getAttribute(_0x1d97("0xb6")),I=this.getAttribute("normal"),y=this[_0x1d97("0x19c")]("uv"),E=this[_0x1d97("0x811")]();return this[_0x1d97("0x80c")](_0x1d97("0xb6"),C,s[_0x1d97("0x0")]),this[_0x1d97("0x80c")](_0x1d97("0xf9"),I,o[_0x1d97("0x0")]),this[_0x1d97("0x80c")]("uv",y,c[_0x1d97("0x0")]),this._resizeIndex(E,l[_0x1d97("0x0")]),C=this[_0x1d97("0x19c")]("position"),I=this[_0x1d97("0x19c")](_0x1d97("0xf9")),y=this[_0x1d97("0x19c")]("uv"),E=this[_0x1d97("0x811")](),C[_0x1d97("0x19d")][_0x1d97("0x11b")](s,0),I.array.set(o,0),y[_0x1d97("0x19d")][_0x1d97("0x11b")](c,0),E[_0x1d97("0x11b")](l,0),C.updateRange.count=s[_0x1d97("0x0")],I[_0x1d97("0x80d")][_0x1d97("0xb7")]=o[_0x1d97("0x0")],y[_0x1d97("0x80d")][_0x1d97("0xb7")]=c[_0x1d97("0x0")],E[_0x1d97("0x80d")][_0x1d97("0xb7")]=l.length,C[_0x1d97("0x13b")]=!0,I.needsUpdate=!0,y[_0x1d97("0x13b")]=!0,E[_0x1d97("0x13b")]=!0,r}}),THREE[_0x1d97("0x121")]=v,THREE[_0x1d97("0x11c")]=p,THREE[_0x1d97("0x812")]=r,THREE[_0x1d97("0x813")]=f},function(x,d,_){"use strict";THREE[_0x1d97("0x814")]=function(){var x=new(THREE[_0x1d97("0x815")]);new(THREE[_0x1d97("0xe0")]);function d(x,d,_){this[_0x1d97("0x567")]=x,this[_0x1d97("0x305")]=d,this[_0x1d97("0x816")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x817")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x818")]=[],this.deep=_||Number[_0x1d97("0x1b3")],this[_0x1d97("0x819")]=null,this.focusTileId=""}return d[_0x1d97("0xf")][_0x1d97("0x81a")]=function(d,_){return this[_0x1d97("0x816")]=d||this[_0x1d97("0x816")],this.endPoint=_||this[_0x1d97("0x817")],this[_0x1d97("0x818")]=[],this[_0x1d97("0x81b")](this[_0x1d97("0x816")],this.endPoint),this[_0x1d97("0x81c")](x),this[_0x1d97("0x818")]},d[_0x1d97("0xf")].updateFrustum=function(d,_){d=d||this.startPoint,_=_||this[_0x1d97("0x817")];var e=esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(this[_0x1d97("0x567")]=e[_0x1d97("0x17f")],this[_0x1d97("0x567")][_0x1d97("0x81d")](),this[_0x1d97("0x567")][_0x1d97("0x646")](),this[_0x1d97("0x567")][_0x1d97("0x644")]){var t=d[_0x1d97("0xdb")]();t.x=Math[_0x1d97("0x318")](d.x,_.x),t.y=Math[_0x1d97("0x317")](d.y,_.y),_.x=Math[_0x1d97("0x317")](d.x,_.x),_.y=Math.min(d.y,_.y);var a=this[_0x1d97("0x567")].position[_0x1d97("0xdb")](),i=t[_0x1d97("0xdb")](),n=new(THREE[_0x1d97("0xe0")])(_.x,t.y,0),r=_[_0x1d97("0xdb")](),s=new(THREE[_0x1d97("0xe0")])(t.x,_.y,0);i[_0x1d97("0x81e")](this[_0x1d97("0x567")]),n[_0x1d97("0x81e")](this[_0x1d97("0x567")]),r[_0x1d97("0x81e")](this[_0x1d97("0x567")]),s[_0x1d97("0x81e")](this.camera);var o=i[_0x1d97("0xdb")]().sub(a),c=n.clone()[_0x1d97("0x3d7")](a),l=r.clone()[_0x1d97("0x3d7")](a);o.normalize(),c[_0x1d97("0x2e1")](),l.normalize(),o[_0x1d97("0x276")](this[_0x1d97("0x81f")]),c[_0x1d97("0x276")](this[_0x1d97("0x81f")]),l.multiplyScalar(this[_0x1d97("0x81f")]),o[_0x1d97("0xdc")](a),c[_0x1d97("0xdc")](a),l[_0x1d97("0xdc")](a),(g=x[_0x1d97("0x820")])[0][_0x1d97("0x821")](a,i,n),g[1][_0x1d97("0x821")](a,n,r),g[2].setFromCoplanarPoints(r,s,a),g[3][_0x1d97("0x821")](s,i,a),g[4][_0x1d97("0x821")](n,r,s),g[5].setFromCoplanarPoints(l,c,o),g[5][_0x1d97("0xf9")].multiplyScalar(-1)}else{if(!this.camera[_0x1d97("0x649")])return console[_0x1d97("0x3fb")](_0x1d97("0x822")),!1;var u=Math[_0x1d97("0x318")](d.x,_.x),f=Math[_0x1d97("0x317")](d.y,_.y),h=Math.max(d.x,_.x),b=Math[_0x1d97("0x318")](d.y,_.y);if(u===h||f===b)return!1;i=new(THREE[_0x1d97("0xe0")])(u,f,-1),n=new(THREE[_0x1d97("0xe0")])(h,f,-1),r=new(THREE[_0x1d97("0xe0")])(h,b,-1),s=new(THREE[_0x1d97("0xe0")])(u,b,-1);var g,v=new(THREE[_0x1d97("0xe0")])(u,f,1),p=new(THREE[_0x1d97("0xe0")])(h,f,1),m=new THREE.Vector3(h,b,1),A=new(THREE[_0x1d97("0xe0")])(u,b,1);i[_0x1d97("0x81e")](this.camera),n.unproject(this.camera),r[_0x1d97("0x81e")](this.camera),s[_0x1d97("0x81e")](this[_0x1d97("0x567")]),v[_0x1d97("0x81e")](this[_0x1d97("0x567")]),p[_0x1d97("0x81e")](this[_0x1d97("0x567")]),m[_0x1d97("0x81e")](this.camera),A.unproject(this.camera),(g=x[_0x1d97("0x820")])[0][_0x1d97("0x821")](i,v,p),g[1][_0x1d97("0x821")](n,p,m),g[2][_0x1d97("0x821")](m,A,s),g[3][_0x1d97("0x821")](A,v,i),g[4][_0x1d97("0x821")](n,r,s),g[5][_0x1d97("0x821")](m,p,v),g[5][_0x1d97("0xf9")][_0x1d97("0x276")](-1)}return!0},d[_0x1d97("0xf")][_0x1d97("0x81c")]=function(x){var d=this[_0x1d97("0x819")],_=new(THREE[_0x1d97("0xe0")]),e=esmap[_0x1d97("0x33")][_0x1d97("0x34")],t=e[_0x1d97("0x35")][_0x1d97("0x20f")];if(this.preWatchs)for(var a=0;a<this[_0x1d97("0x823")][_0x1d97("0x0")];a++){var i=this[_0x1d97("0x823")][a];if("esline"==i[_0x1d97("0xe9")]){if(!i[_0x1d97("0x824")]){for(var n=i[_0x1d97("0xe6")],r=[],s=0;s<n.length-1;s++){var o=n[s],c=n[s+1],l=c.x-o.x,u=c.y-o.y,f=c.z-o.z,h=Math[_0x1d97("0x317")](Math[_0x1d97("0x253")](l),Math[_0x1d97("0x253")](u),Math[_0x1d97("0x253")](f));if(0!=h&&h!=1/0)for(var b=l/h,g=u/h,v=f/h,p=0;p<h+1;p++){var m=b*p,A=g*p,C=v*p,I=new(THREE[_0x1d97("0xe0")])(o.x+m,o.y+A,o.z+C);r[_0x1d97("0x1")](I)}}i[_0x1d97("0x824")]=r}for(var y=0;y<i[_0x1d97("0x824")][_0x1d97("0x0")];y++){var E=i.boxSelectPoints[y];if(x.containsPoint(E)){this[_0x1d97("0x818")][_0x1d97("0x1")](i);break}}}else i.userData[_0x1d97("0x316")]||(i.userData.box3=(new THREE.Box3)[_0x1d97("0x30c")](i)),x[_0x1d97("0x825")](i[_0x1d97("0x11e")].box3)&&this[_0x1d97("0x818")][_0x1d97("0x1")](i)}for(var w in d)for(var T=d[w],k=0;k<T.length;k++){var S=T[k];if(S[_0x1d97("0xa2")]&&S[_0x1d97("0xa2")][_0x1d97("0xc7")]){if(this.pickType!=_0x1d97("0x203"))if(this.pickType instanceof Array){if(this[_0x1d97("0x826")][_0x1d97("0xd7")](S[_0x1d97("0xa2")].nodeType)<0)continue}else if(S[_0x1d97("0xa2")].nodeType!=this[_0x1d97("0x826")])continue;if(e[_0x1d97("0x146")].isVisible(S))switch(S[_0x1d97("0xa2")][_0x1d97("0xc7")]){case esmap[_0x1d97("0xea")][_0x1d97("0x574")]:if(999==S.datas_[_0x1d97("0x573")])continue;for(var M=S.datas_[_0x1d97("0x33d")],R=0;R<M.length;R++){var L=[];L=t?Array.isArray(M[R][_0x1d97("0xe6")][0])?M[R][_0x1d97("0xe6")][0]:M[R][_0x1d97("0xe6")]:e[_0x1d97("0x2aa")][_0x1d97("0x827")][M[R].ID][0];for(var H=[],D=1;D<L[_0x1d97("0x0")];D++)H.push({x:-L[D].x,y:L[D].y});(esmap[_0x1d97("0x75")][_0x1d97("0x540")](H,this[_0x1d97("0x828")])||esmap[_0x1d97("0x75")][_0x1d97("0x829")](H,this[_0x1d97("0x828")]))&&this.collection.push(M[R])}break;case esmap[_0x1d97("0xea")].MODEL3D:S[_0x1d97("0x11e")][_0x1d97("0x316")]||(S[_0x1d97("0x11e")][_0x1d97("0x316")]=(new THREE.Box3)[_0x1d97("0x30c")](S)),S.userData.clonedMats||S[_0x1d97("0xb4")]((function(x){x[_0x1d97("0xa7")]&&(x[_0x1d97("0xa7")]instanceof Array?(x.material[0]=x[_0x1d97("0xa7")][0][_0x1d97("0xdb")](),x[_0x1d97("0xa7")][0][_0x1d97("0x11e")].clonedMats=!0):(x[_0x1d97("0xa7")]=x.material[_0x1d97("0xdb")](),x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0x82a")]=!0))})),x.intersectsBox(S[_0x1d97("0x11e")].box3)&&this[_0x1d97("0x818")][_0x1d97("0x1")](S[_0x1d97("0xa2")]);break;case esmap[_0x1d97("0xea")][_0x1d97("0xeb")]:if(!S[_0x1d97("0x824")]){for(var P=S[_0x1d97("0xe6")],O=[],B=0;B<P[_0x1d97("0x0")]-1;B++){var N=P[B],F=P[B+1],z=F.x-N.x,j=F.y-N.y,U=F.z-N.z,X=Math[_0x1d97("0x317")](Math.abs(z),Math.abs(j),Math[_0x1d97("0x253")](U));if(0!=X&&X!=1/0)for(var Y=z/X,G=j/X,Q=U/X,V=0;V<X+1;V++){var W=Y*V,Z=G*V,J=Q*V,K=new(THREE[_0x1d97("0xe0")])(N.x+W,N.y+Z,N.z+J);O[_0x1d97("0x1")](K)}}S.boxSelectPoints=O}for(var q=0;q<S[_0x1d97("0x824")][_0x1d97("0x0")];q++){var $=S[_0x1d97("0x824")][q];if(x[_0x1d97("0x82b")]($)){this.collection[_0x1d97("0x1")](S.datas_);break}}break;default:_=S.getWorldPosition(_),x[_0x1d97("0x82b")](_)&&this[_0x1d97("0x818")][_0x1d97("0x1")](S.datas_)}}}},d[_0x1d97("0xf")][_0x1d97("0x82c")]=function(x,d){if(d[_0x1d97("0x7df")]&&void 0!==d.material)if(d[_0x1d97("0x82d")]){if(!d[_0x1d97("0x824")]){for(var _=d.points,e=[],t=0;t<_[_0x1d97("0x0")]-1;t++){var a=_[t],i=_[t+1],n=i.x-a.x,r=i.y-a.y,s=i.z-a.z,o=Math[_0x1d97("0x317")](Math.abs(n),Math[_0x1d97("0x253")](r),Math[_0x1d97("0x253")](s));if(0!=o&&o!=1/0)for(var c=n/o,l=r/o,u=s/o,f=0;f<o+1;f++){var h=c*f,b=l*f,g=u*f,v=new(THREE[_0x1d97("0xe0")])(a.x+h,a.y+b,a.z+g);e[_0x1d97("0x1")](v)}}d[_0x1d97("0x824")]=e}for(var p=0;p<d[_0x1d97("0x824")].length;p++){var m=d[_0x1d97("0x824")][p];if(x.containsPoint(m)){this[_0x1d97("0x818")][_0x1d97("0x1")](d);break}}}else{null===d[_0x1d97("0xa5")].boundingBox&&d[_0x1d97("0xa5")][_0x1d97("0x82e")]();var A=(new THREE.Box3).copy(d[_0x1d97("0xa5")][_0x1d97("0x4bd")]).applyMatrix4(d[_0x1d97("0x181")]);if(x.intersectsBox(A)){var C=null,I=!1;if(d[_0x1d97("0xa2")]?C=d:(C=esmap[_0x1d97("0x50f")][_0x1d97("0x82f")](d),I=!0),C&&this[_0x1d97("0x818")][_0x1d97("0x1")](C[_0x1d97("0xa2")]),C&&I)return!0}}if(d[_0x1d97("0xa4")][_0x1d97("0x0")]>0)for(var y=0;y<d.children.length;y++){if(this.searchChildInFrustum(x,d[_0x1d97("0xa4")][y]))break}},d}()},function(x,d,_){"use strict";THREE[_0x1d97("0x830")]=function(){function x(x,d,_){this.element=document[_0x1d97("0x21")](_0x1d97("0x327")),this[_0x1d97("0x337")][_0x1d97("0x3af")][_0x1d97("0xdc")](_),this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x831")]=_0x1d97("0x4e2"),this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x832")]=_0x1d97("0x833"),this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x834")]="rgba(75, 160, 255, 0.3)",this[_0x1d97("0x337")].style.position=_0x1d97("0x835"),this[_0x1d97("0x5e8")]={domElement:d},this.startPoint=new(THREE[_0x1d97("0x4be")]),this[_0x1d97("0x836")]=new(THREE[_0x1d97("0x4be")]),this[_0x1d97("0x837")]=new(THREE[_0x1d97("0x4be")]),this[_0x1d97("0x838")]=x,this[_0x1d97("0x839")]=!1,this[_0x1d97("0x5e8")][_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0x696"),function(x){this[_0x1d97("0x838")][_0x1d97("0x4d0")]&&2!=x[_0x1d97("0x67c")]&&(this[_0x1d97("0x839")]=!0,this[_0x1d97("0x83a")](x))}.bind(this),!1),this[_0x1d97("0x5e8")][_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0x697"),function(x){this.isDown&&this.onSelectMove(x)}[_0x1d97("0x11")](this),!1),this[_0x1d97("0x5e8")][_0x1d97("0x63c")].addEventListener(_0x1d97("0x698"),function(x){this[_0x1d97("0x838")][_0x1d97("0x4d0")]&&(this.isDown=!1,this[_0x1d97("0x83b")](x))}.bind(this),!1)}return x[_0x1d97("0xf")].onSelectStart=function(x){this[_0x1d97("0x5e8")][_0x1d97("0x63c")].parentElement[_0x1d97("0x25")](this.element),this.element[_0x1d97("0x22")].left=x[_0x1d97("0x3ac")]+"px",this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x3a6")]=x[_0x1d97("0x3ae")]+"px",this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x328")]="0px",this.element[_0x1d97("0x22")].height=_0x1d97("0x83c"),this[_0x1d97("0x337")][_0x1d97("0x22")].zIndex=1e3,this[_0x1d97("0x816")].x=x[_0x1d97("0x3ac")],this.startPoint.y=x[_0x1d97("0x3ae")]},x[_0x1d97("0xf")][_0x1d97("0x83d")]=function(x){this.pointBottomRight.x=Math[_0x1d97("0x317")](this[_0x1d97("0x816")].x,x[_0x1d97("0x3ac")]),this[_0x1d97("0x837")].y=Math[_0x1d97("0x317")](this[_0x1d97("0x816")].y,x[_0x1d97("0x3ae")]),this[_0x1d97("0x836")].x=Math[_0x1d97("0x318")](this[_0x1d97("0x816")].x,x[_0x1d97("0x3ac")]),this.pointTopLeft.y=Math[_0x1d97("0x318")](this[_0x1d97("0x816")].y,x[_0x1d97("0x3ae")]),this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x3a5")]=this.pointTopLeft.x+"px",this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x3a6")]=this[_0x1d97("0x836")].y+"px",this[_0x1d97("0x337")][_0x1d97("0x22")][_0x1d97("0x328")]=this[_0x1d97("0x837")].x-this[_0x1d97("0x836")].x+"px",this[_0x1d97("0x337")].style[_0x1d97("0x1b5")]=this[_0x1d97("0x837")].y-this.pointTopLeft.y+"px"},x.prototype[_0x1d97("0x83b")]=function(){this[_0x1d97("0x337")][_0x1d97("0x83e")]&&this.element[_0x1d97("0x83e")][_0x1d97("0x39a")](this.element)},x}()},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=s(_(12)),t=s(_(13)),a=s(_(0)),i=s(_(1)),n=_(19),r=s(_(267));function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=function(){function x(d,_){(0,a[_0x1d97("0x1c")])(this,x),this.map_=d,this[_0x1d97("0x4b")]=d[_0x1d97("0xee")](_[_0x1d97("0xe5")]),this.config(_),this[_0x1d97("0x83f")]={},this[_0x1d97("0xe8")]=1,this[_0x1d97("0x840")]={}}var d;return(0,i.default)(x,[{key:"getDeviceWH",value:function(x,d){var _=this[_0x1d97("0x4b")][_0x1d97("0x841")][d][_0x1d97("0xaa")]-this[_0x1d97("0x4b")][_0x1d97("0x841")][d].minx,e=this.building[_0x1d97("0x841")][d][_0x1d97("0xab")]-this[_0x1d97("0x4b")][_0x1d97("0x841")][d][_0x1d97("0xae")],t={w:Math[_0x1d97("0x1cc")](_),h:Math[_0x1d97("0x1cc")](e)},a=(0,n[_0x1d97("0x19")])();t.w=t.w*a[0]/15,t.h=t.h*a[1]/15;var i=1,r=x||8192;return(_>500||e>500)&&r>=8192&&(r=2048),(t.w>=r||t.h>=r)&&(t.w>=t.h?(i=t.h/t.w,t.w=r,t.h=r*i):(i=t.w/t.h,t.h=r,t.w=r*i)),t}},{key:_0x1d97("0x842"),value:function(x,d){var _={x:1-(x-this[_0x1d97("0x4b")][_0x1d97("0x841")][this.fnum][_0x1d97("0xad")])/(this[_0x1d97("0x4b")][_0x1d97("0x841")][this[_0x1d97("0xe8")]][_0x1d97("0xaa")]-this[_0x1d97("0x4b")][_0x1d97("0x841")][this[_0x1d97("0xe8")]][_0x1d97("0xad")]),y:1-(d-this[_0x1d97("0x4b")][_0x1d97("0x841")][this[_0x1d97("0xe8")]].miny)/(this[_0x1d97("0x4b")].floorEdges[this.fnum][_0x1d97("0xab")]-this[_0x1d97("0x4b")][_0x1d97("0x841")][this[_0x1d97("0xe8")]][_0x1d97("0xae")])};return _.x=_.x*this[_0x1d97("0x35")][_0x1d97("0x328")],_.y=_.y*this[_0x1d97("0x35")][_0x1d97("0x1b5")],_}},{key:_0x1d97("0x843"),value:function(x){var d=this;d[_0x1d97("0x35")]={opacity:x[_0x1d97("0x2")]("opacity")?x[_0x1d97("0xe2")]:1,mapOpacity:x[_0x1d97("0x2")]("mapOpacity")?x[_0x1d97("0x844")]:1,radius:x[_0x1d97("0x58b")]?x[_0x1d97("0x58b")]:30,bshadow:x.radius?x.radius/20:1.5,maxSize:x[_0x1d97("0x845")]||8192,gendatas:!!x.gendatas,backgroundColor:x[_0x1d97("0x834")]||_0x1d97("0xcb"),boundVal:15e3,duration:x.duration,shadowBlur:15,points:{max:x[_0x1d97("0x317")]?x[_0x1d97("0x317")]:100,data:[]},gradient:x[_0x1d97("0x846")]?x[_0x1d97("0x846")]:{.45:_0x1d97("0x847"),.55:_0x1d97("0x848"),.65:"rgb(0,255,0)",.95:_0x1d97("0x849"),1:_0x1d97("0x84a")}};var _=document.createElement(_0x1d97("0x4a1")),e=_[_0x1d97("0x84b")]("2d");d[_0x1d97("0x35")].ctx=e,d.options.canvas=_;var t=document[_0x1d97("0x21")](_0x1d97("0x4a1")),a=t.getContext("2d");d[_0x1d97("0x35")][_0x1d97("0x84c")]=a,d[_0x1d97("0x35")][_0x1d97("0x84d")]=t}},{key:_0x1d97("0x84e"),value:function(x,d,_,e){var t=this,a=t.options[_0x1d97("0x84c")],i=(t[_0x1d97("0x35")][_0x1d97("0x58b")],t[_0x1d97("0x35")][_0x1d97("0x84f")]),n=parseFloat(_/t.options[_0x1d97("0xe6")][_0x1d97("0x317")],10);a[_0x1d97("0x850")]=_0x1d97("0x851")+n+")",a[_0x1d97("0x852")]=i,a[_0x1d97("0x853")]=i,a[_0x1d97("0x854")]=t[_0x1d97("0x35")][_0x1d97("0x854")],a.beginPath(),a[_0x1d97("0x855")](x-i,d-i,t[_0x1d97("0x35")][_0x1d97("0x58b")],0,2*Math.PI,!0),a[_0x1d97("0x856")](),a[_0x1d97("0x33a")]()}},{key:"renderShadow",value:function(x,d,_,e){var t=this,a=t[_0x1d97("0x35")].ctx,i=(t[_0x1d97("0x35")][_0x1d97("0x58b")],t[_0x1d97("0x35")].boundVal),n=parseFloat(_/t[_0x1d97("0x35")][_0x1d97("0xe6")].max,10);a[_0x1d97("0x850")]=_0x1d97("0x857")+n+")",a.shadowOffsetX=i,a[_0x1d97("0x853")]=i,a[_0x1d97("0x854")]=t[_0x1d97("0x35")].shadowBlur,a[_0x1d97("0x858")](),a[_0x1d97("0x855")](x-i,d-i,t.options.radius,0,2*Math.PI,!0),a[_0x1d97("0x856")](),a[_0x1d97("0x33a")]()}},{key:_0x1d97("0x859"),value:function(){for(var x=this,d=x.options.width,_=x[_0x1d97("0x35")][_0x1d97("0x1b5")],e=x[_0x1d97("0x35")][_0x1d97("0x85a")],t=e[_0x1d97("0x85b")](0,0,d,_),a=t[_0x1d97("0x35d")],i=a.length,n=x.getPalette(),r=x[_0x1d97("0x35")][_0x1d97("0xe2")]?255*x.options[_0x1d97("0xe2")]:25500,s=3;s<i;s+=4){var o=a[s],c=4*o;if(c){var l=o<r?o:r;a[s-3]=n[c],a[s-2]=n[c+1],a[s-1]=n[c+2],a[s]=l}}t[_0x1d97("0x35d")][_0x1d97("0x11b")](a),e.putImageData(t,0,0)}},{key:"setFloorNum",value:function(x){var d=this;d[_0x1d97("0xe8")]=x;var _=d[_0x1d97("0x35")],e=d.getDeviceWH(_[_0x1d97("0x845")],x),t=e.w,a=e.h;_.width=t,_.height=a,_[_0x1d97("0x4a1")][_0x1d97("0x328")]=t,_[_0x1d97("0x4a1")][_0x1d97("0x1b5")]=a,_[_0x1d97("0x84d")].width=t,_[_0x1d97("0x84d")][_0x1d97("0x1b5")]=a,this.HeatMapMaterials[x]||(this.HeatMapMaterials[x]={matTool:new r.default({duration:_.hasOwnProperty(_0x1d97("0x1b6"))?_[_0x1d97("0x1b6")]:1,colorStr:_[_0x1d97("0x834")]})})}},{key:_0x1d97("0x85c"),value:(d=(0,t[_0x1d97("0x1c")])(e[_0x1d97("0x1c")].mark((function x(d){var _,t,a,i,n,r,s,o,c,l,u,f,h,b;return e[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x.prev=x[_0x1d97("0x2a8")]){case 0:if(t=(_=this)[_0x1d97("0x35")][_0x1d97("0x4a1")],a=new(THREE[_0x1d97("0x4a6")])(t),i=_[_0x1d97("0x35")][_0x1d97("0x844")],n=_[_0x1d97("0x4b")].getFloor(d),r=null,a.needsUpdate=!0,_[_0x1d97("0x840")][d]&&_[_0x1d97("0x840")][d].matTool){x[_0x1d97("0x2a8")]=7;break}return console[_0x1d97("0x245")]("åºç¨"+d+_0x1d97("0x85d")),x[_0x1d97("0x2ae")]("return");case 7:if(!n[_0x1d97("0x85e")]){x[_0x1d97("0x2a8")]=16;break}return r=_[_0x1d97("0x840")][d][_0x1d97("0x85f")],x[_0x1d97("0x2a8")]=11,_.HeatMapMaterials[d][_0x1d97("0x860")].update(a);case 11:if(_[_0x1d97("0x840")][d]&&_[_0x1d97("0x840")][d][_0x1d97("0x860")][_0x1d97("0x351")]){x[_0x1d97("0x2a8")]=13;break}return x.abrupt(_0x1d97("0x2af"));case 13:_[_0x1d97("0x840")][d].matTool[_0x1d97("0x351")][_0x1d97("0x102")].texture1[_0x1d97("0xf1")][_0x1d97("0xa6")](),x[_0x1d97("0x2a8")]=19;break;case 16:(r=_[_0x1d97("0x840")][d][_0x1d97("0x860")][_0x1d97("0x33f")](a,new(THREE[_0x1d97("0x4a6")])))[_0x1d97("0x11e")][_0x1d97("0xb8")]=_0x1d97("0x861"),_[_0x1d97("0x840")][d][_0x1d97("0x85f")]=r;case 19:d!=_[_0x1d97("0x4b")].focusFloorNum&&_[_0x1d97("0x4b")][_0x1d97("0x35")][_0x1d97("0x862")],s=n[_0x1d97("0x863")]("floorBase"),o=0;case 23:if(!(o<s.length)){x[_0x1d97("0x2a8")]=36;break}if(c=s[o],"heatmap"!=(l=c[_0x1d97("0xa7")][0]).userData[_0x1d97("0xb8")]){x[_0x1d97("0x2a8")]=28;break}return x.abrupt(_0x1d97("0x53c"),33);case 28:c[_0x1d97("0xa5")].addAttribute(_0x1d97("0x864"),c[_0x1d97("0xa5")].getAttribute("uv")),c.geometry[_0x1d97("0x1a0")]("uv",c.geometry[_0x1d97("0x19c")]("floorUvs")),c[_0x1d97("0x11e")][_0x1d97("0x865")]=l,u=c[_0x1d97("0xa7")][1],c[_0x1d97("0xa7")]=u?[r,u]:[r];case 33:o++,x[_0x1d97("0x2a8")]=23;break;case 36:f=n[_0x1d97("0x863")]([_0x1d97("0x223"),_0x1d97("0x4e5")]),h=n[_0x1d97("0x863")]([_0x1d97("0x224")]),b=function(x){x.userData[_0x1d97("0x866")]||(x[_0x1d97("0x11e")][_0x1d97("0x866")]={transparent:x[_0x1d97("0xff")],opacity:x[_0x1d97("0xe2")],depthWrite:x[_0x1d97("0x867")]},x[_0x1d97("0xff")]=!0,x[_0x1d97("0xe2")]=i,x[_0x1d97("0x867")]=!1)},1!=i&&h[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x234")]=0,x[_0x1d97("0xb4")]((function(x){if(x.material)if(x[_0x1d97("0xa7")]instanceof Array)for(var d in x.material)x[_0x1d97("0xa7")][d]&&b(x[_0x1d97("0xa7")][d]);else b(x[_0x1d97("0xa7")])}))})),f[_0x1d97("0x1d")]((function(x){var d=x[_0x1d97("0xa7")],_=d[0];_[_0x1d97("0x11e")].hasOwnProperty(_0x1d97("0xe2"))||(_.userData[_0x1d97("0xff")]=_[_0x1d97("0xff")],_[_0x1d97("0x11e")][_0x1d97("0xe2")]=_.opacity),_.transparent=!0,_[_0x1d97("0xe2")]=i})),n._hasHeatMap=!0;case 42:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return d[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x86a"),value:function(x){var d=this,_=function(x){if(x[_0x1d97("0x11e")][_0x1d97("0x866")]){var d=x.userData[_0x1d97("0x866")];x[_0x1d97("0xff")]=d.transparent,x[_0x1d97("0xe2")]=d.opacity,x.depthWrite=d[_0x1d97("0x867")],x[_0x1d97("0x13b")]=!0,x[_0x1d97("0x38")]&&(x[_0x1d97("0x38")][_0x1d97("0x13b")]=!0),x[_0x1d97("0x11e")][_0x1d97("0x866")]=null}};if(x){var e=d[_0x1d97("0x4b")][_0x1d97("0x56d")](x);if(!e._hasHeatMap||!this[_0x1d97("0x840")][x])return;if(1!=d[_0x1d97("0x35")][_0x1d97("0x844")])e[_0x1d97("0x863")]([_0x1d97("0x224")])[_0x1d97("0x1d")]((function(x){x[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")])if(x.material instanceof Array)for(var d in x[_0x1d97("0xa7")])x[_0x1d97("0xa7")][d]&&_(x[_0x1d97("0xa7")][d]);else _(x.material)}))}));for(var t=e[_0x1d97("0x863")](_0x1d97("0x4e3")),a=0;a<t[_0x1d97("0x0")];a++){var i=t[a];i[_0x1d97("0xa5")][_0x1d97("0x1a0")]("uv",i[_0x1d97("0xa5")][_0x1d97("0x19c")]("originalUv"));var n=i.material[0];n[_0x1d97("0x11e")].name==_0x1d97("0x861")&&d[_0x1d97("0x840")][x][_0x1d97("0x860")].shader&&(d.HeatMapMaterials[x].matTool.shader[_0x1d97("0x102")].texture1&&d[_0x1d97("0x840")][x][_0x1d97("0x860")].shader[_0x1d97("0x102")].texture1.value[_0x1d97("0xa6")](),d[_0x1d97("0x840")][x].matTool.shader.uniforms[_0x1d97("0x86b")]&&d[_0x1d97("0x840")][x][_0x1d97("0x860")][_0x1d97("0x351")][_0x1d97("0x102")][_0x1d97("0x86b")][_0x1d97("0xf1")][_0x1d97("0xa6")]()),n[_0x1d97("0xa6")](),n=null;var r=i.material[1],s=i[_0x1d97("0x11e")][_0x1d97("0x865")];s[_0x1d97("0x38")]&&(s[_0x1d97("0x38")].needsUpdate=!0),r?i.material=[s,r]:i[_0x1d97("0xa7")]=[s],e[_0x1d97("0x863")]([_0x1d97("0x223"),_0x1d97("0x4e5")]).forEach((function(x){x[_0x1d97("0xa7")][0][_0x1d97("0xff")]=x[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0xff")],x.material[0][_0x1d97("0xe2")]=x[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0xe2")]}))}this[_0x1d97("0x840")][x]=null,e[_0x1d97("0x85e")]=!1}}},{key:_0x1d97("0x86c"),value:function(){var x=document[_0x1d97("0x21")]("canvas"),d=x[_0x1d97("0x84b")]("2d");x.width=1,x.height=256;var _=this.options[_0x1d97("0x846")],e=d[_0x1d97("0x86d")](0,0,1,256);for(var t in _)e[_0x1d97("0x86e")](t,_[t]);return d[_0x1d97("0x86f")]=e,d[_0x1d97("0x870")](0,0,1,256),d[_0x1d97("0x85b")](0,0,1,256)[_0x1d97("0x35d")]}},{key:"cachePoint",value:function(x,d,_){var e=this[_0x1d97("0x35")][_0x1d97("0xe6")],t=e[_0x1d97("0x35d")];_>e[_0x1d97("0x317")]&&(e[_0x1d97("0x317")]=_),t.push([x,d,_])}},{key:"clearPoints",value:function(){this[_0x1d97("0x35")][_0x1d97("0xe6")].data=[],this[_0x1d97("0x5f5")]()}},{key:_0x1d97("0x871"),value:function(x,d,_){if(x&&d&&_){var e=this[_0x1d97("0x842")](x,d);if(e){this[_0x1d97("0x872")](e.x,e.y,_),this[_0x1d97("0x859")]()}}}},{key:_0x1d97("0x5f5"),value:function(){this[_0x1d97("0x35")].ctx[_0x1d97("0x873")](0,0,this[_0x1d97("0x35")][_0x1d97("0x328")],this[_0x1d97("0x35")].height)}},{key:_0x1d97("0x874"),value:function(){var x=this[_0x1d97("0x35")][_0x1d97("0x4a1")],d=this[_0x1d97("0x35")][_0x1d97("0x875")];return{mainTexture:new(THREE[_0x1d97("0x4a6")])(x),copyTexture:new THREE.Texture(d)}}},{key:_0x1d97("0x876"),value:function(x){var d=this;d[_0x1d97("0x5f5")]();for(var _=x[_0x1d97("0x0")],e=0;e<_;e++){var t=x[e].value;if(t){var a=this[_0x1d97("0x842")](x[e].x,x[e].y);if(!a)return!0;d.renderShadow(a.x,a.y,t,!1)}}d[_0x1d97("0x859")]()}},{key:_0x1d97("0x877"),value:function(x){var d=this,_=d[_0x1d97("0x35")][_0x1d97("0x328")],e=d.options.height,t=d[_0x1d97("0x35")].points[_0x1d97("0x317")],a=d.options.gendatas;d[_0x1d97("0x5f5")]();for(var i=0;i<x;i++){var n=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*_+1),r=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*e+1),s=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*t+1);d[_0x1d97("0x872")](n,r,s),a&&d[_0x1d97("0x84e")](n,r,s)}d.colorize()}}]),x}();d.default=o},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(9)),t=i(_(0)),a=i(_(1));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){var _=d.colorStr,e=void 0===_?"#FFFFFF":_,a=d.isShowBackground,i=void 0===a||a,n=d.duration,r=void 0===n?1:n;(0,t.default)(this,x),this[_0x1d97("0x878")]=new(THREE[_0x1d97("0x101")])(e),this[_0x1d97("0x879")]=i,this[_0x1d97("0x1b6")]=r,this[_0x1d97("0x351")]=null}return(0,a.default)(x,[{key:_0x1d97("0x33f"),value:function(x,d){var _=this,e=new THREE.MeshBasicMaterial({color:16777215,transparent:!0});return e[_0x1d97("0x345")]=function(e){e[_0x1d97("0x102")][_0x1d97("0x87a")]={value:0},e.uniforms.texLightFactor={value:.8},e[_0x1d97("0x102")][_0x1d97("0x87b")]={value:x},e[_0x1d97("0x102")][_0x1d97("0x86b")]={value:d},e[_0x1d97("0x102")][_0x1d97("0x878")]={value:_[_0x1d97("0x878")]},e[_0x1d97("0x105")]=e[_0x1d97("0x105")][_0x1d97("0x106")](_0x1d97("0x34c"),_0x1d97("0x87c")),e[_0x1d97("0x105")]=e[_0x1d97("0x105")][_0x1d97("0x106")](_0x1d97("0x107"),_0x1d97("0x87d")),e[_0x1d97("0x109")]=e[_0x1d97("0x109")][_0x1d97("0x106")]("uniform float opacity;",_0x1d97("0x87e")+(_[_0x1d97("0x879")]?_0x1d97("0x87f"):"")+_0x1d97("0x880")),e[_0x1d97("0x109")]=e[_0x1d97("0x109")].replace(_0x1d97("0x10c"),_0x1d97("0x881")),_[_0x1d97("0x351")]=e},e}},{key:_0x1d97("0x11d"),value:function(x){var d=this,_=this;return new e.default((function(e){x?(x[_0x1d97("0x13b")]=!0,_[_0x1d97("0x351")]?(d.shader[_0x1d97("0x102")].texture2[_0x1d97("0xf1")]=x,_[_0x1d97("0x882")]&&_[_0x1d97("0x882")].stop(),_[_0x1d97("0x882")]=new(esmap.TWEEN[_0x1d97("0x1b8")])({x:0}).to({x:1},1e3*_[_0x1d97("0x1b6")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Linear[_0x1d97("0x269")])[_0x1d97("0x12e")]((function(x){_[_0x1d97("0x351")].uniforms[_0x1d97("0x87a")][_0x1d97("0xf1")]=x.x}))[_0x1d97("0x1bd")](e)[_0x1d97("0x1c1")]()):e()):e()}))}}]),x}();d.default=n},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=R(_(10)),t=R(_(53)),a=R(_(9)),i=R(_(12)),n=R(_(13)),r=R(_(2)),s=R(_(64)),o=R(_(4)),c=R(_(0)),l=R(_(1)),u=R(_(5)),f=R(_(6)),h=R(_(96)),b=_(11),g=_(34),v=R(_(275)),p=R(_(67)),m=R(_(68)),A=R(_(293)),C=_(19),I=R(_(136)),y=R(_(297)),E=R(_(138)),w=_(99),T=R(_(315)),k=R(_(316)),S=R(_(142)),M=_(72);function R(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var L=0,H={},D=!1,P=void 0,O=null,B=0,N=null,F=null,z=function(x){function d(x){(0,c[_0x1d97("0x1c")])(this,d);var _=(0,u[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,o[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,x));_[_0x1d97("0x883")]=0,_[_0x1d97("0x884")]=!1,_[_0x1d97("0x885")]=[],_[_0x1d97("0x3cf")]=[],_[_0x1d97("0x148")]=[],_[_0x1d97("0x886")]=null,_[_0x1d97("0x887")]=new THREE.TextureLoader,_[_0x1d97("0x887")].crossOrigin=_0x1d97("0x69c");var e=_;e.updateTile=!1,e[_0x1d97("0x71")]=_0x1d97("0x888"),_[_0x1d97("0x280")][_0x1d97("0x889")]=0,_[_0x1d97("0x280")][_0x1d97("0x88a")]=1,_[_0x1d97("0x280")].maxDistance=15015.34033758685,_[_0x1d97("0x88b")]=!0,_[_0x1d97("0xf6")]=new(esmap[_0x1d97("0x88c")])(_.options),_[_0x1d97("0x16c")]=new(esmap[_0x1d97("0x50e")])(_,_[_0x1d97("0xf6")]),_[_0x1d97("0x2aa")]=new(y[_0x1d97("0x1c")])(_),_[_0x1d97("0x88d")]=new(E[_0x1d97("0x1c")])(!0,_.mapView[_0x1d97("0x4a0")],_[_0x1d97("0x35")]),_[_0x1d97("0x280")][_0x1d97("0x30")](_0x1d97("0x88e"),_[_0x1d97("0x88f")][_0x1d97("0x11")](_)),_[_0x1d97("0x890")]="3D",_[_0x1d97("0x17f")]=_[_0x1d97("0x16d")][_0x1d97("0x567")],_.requireUpdateCollide_=!1,_.firstCameraPos=new THREE.Vector3,_[_0x1d97("0x891")]=new THREE.Vector3,_[_0x1d97("0x892")]=new(esmap[_0x1d97("0x526")])(_),_[_0x1d97("0x893")]=new A.default(_,_[_0x1d97("0x280")]),_[_0x1d97("0x894")]={},_[_0x1d97("0x17a")]=_0x1d97("0x1c7"),(t=_).on(_0x1d97("0x895"),(function(){t[_0x1d97("0x2ef")]()})),_[_0x1d97("0x896")]=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],_[_0x1d97("0x897")]=new(THREE[_0x1d97("0x227")]),_[_0x1d97("0x898")]=new THREE.Clock,_[_0x1d97("0x899")]=1,_[_0x1d97("0x89a")]={},_[_0x1d97("0x89b")]=[],_[_0x1d97("0x89c")]=0,_[_0x1d97("0x28c")]=!0,_[_0x1d97("0x89d")]={},_[_0x1d97("0x89e")]=null,_[_0x1d97("0x57d")]=[],esmap[_0x1d97("0x33")][_0x1d97("0x34")]=_;var t=_;_.on(_0x1d97("0x89f"),_.onMapResize),_[_0x1d97("0x88d")][_0x1d97("0x32")](),_[_0x1d97("0x8a0")]=!1,_.localScaleLevel=16,_[_0x1d97("0x8a1")]=new(THREE[_0x1d97("0x8a2")])(_[_0x1d97("0x17f")],_[_0x1d97("0x16d")][_0x1d97("0x42c")]),_[_0x1d97("0x8a3")]=!1,_.firstPersonControls[_0x1d97("0x4d0")]=!1,_[_0x1d97("0x17b")]=_0x1d97("0x1c7"),esmap[_0x1d97("0x1b7")][_0x1d97("0x38")]=_,_[_0x1d97("0x8a4")](),_[_0x1d97("0x8a5")]=b[_0x1d97("0x8a6")],_.on("updateLts",(function(x){t[_0x1d97("0x8a1")][_0x1d97("0x11d")](x),esmap.TWEEN[_0x1d97("0x11d")]()})),_.on(_0x1d97("0x132"),(function(){e[_0x1d97("0x8a7")]||(e.updateTile=!0)})),_.on(_0x1d97("0x8a8"),(function(){_.options[_0x1d97("0x8a9")]&&(_[_0x1d97("0x146")][_0x1d97("0x8a9")]=!0)})),_.on("focusFloorNumChanged",(function(){_[_0x1d97("0x35")][_0x1d97("0x8a9")]&&(_[_0x1d97("0x146")][_0x1d97("0x8a9")]=!0)})),_.on(_0x1d97("0x8aa"),(function(){_[_0x1d97("0x35")][_0x1d97("0x8a9")]&&(_.mapPicker[_0x1d97("0x8a9")]=!0)})),_.gestureController_=new esmap.ESMapGestureController(_[_0x1d97("0x146")],_[_0x1d97("0x280")]),_[_0x1d97("0x8ab")]=[],_[_0x1d97("0x8ac")]=_[_0x1d97("0x254")],_.on("esVLoaded",(function(x){(N=new(S[_0x1d97("0x1c")])(_))[_0x1d97("0x8ad")]=x.t})),_.on("esVWm",(function(x){N&&N.dispose(x.t)}));var a=new CustomEvent(_0x1d97("0x8ae"),{});return window[_0x1d97("0x335")](a),_}var v,R,z,j;return(0,f[_0x1d97("0x1c")])(d,x),(0,l.default)(d,[{key:_0x1d97("0x8af"),value:function(){this.cssFuncs[_0x1d97("0x1d")]((function(x){x()}))}},{key:_0x1d97("0x8a4"),value:function(){for(var x=this[_0x1d97("0x35")][_0x1d97("0x8b0")],d=(24-x)/24,_=[],e=0;e<24;e++)_[_0x1d97("0x1")](x+e*d);_=_[_0x1d97("0x2ff")](),this[_0x1d97("0x8b1")]=_}},{key:"restoreArea",value:function(x){var d=this[_0x1d97("0x894")][x];for(var _ in d){var e=d[_],t=this.getTileById(_);t||(d[_]=null);var a=t[_0x1d97("0x14d")][_0x1d97("0x192")](esmap.ESLayerType[_0x1d97("0x574")]);if(a[0])for(var i=(a=a[0])[_0x1d97("0xa3")].children,n=0;n<i.length;n++)for(var r=i[n],s=r[_0x1d97("0xa2")][_0x1d97("0x33d")],o=r[_0x1d97("0xa5")],c=0;c<s[_0x1d97("0x0")];c++){var l=s[c],u=e.indexOf(l.ID);u>-1&&(e[_0x1d97("0x189")](u,1),o.showChild(l.ID))}}this[_0x1d97("0x894")][x]=null}},{key:_0x1d97("0x8b2"),value:function(x){var d=this;if(!d.firstPersonAnimating){for(var _ in d[_0x1d97("0x8a1")][_0x1d97("0x672")]=!1,d[_0x1d97("0x8a1")][_0x1d97("0x8b3")]=0,d.firstPersonControls[_0x1d97("0x68d")]=null,d[_0x1d97("0x8a1")][_0x1d97("0x674")]=0,d[_0x1d97("0x8b4")])d[_0x1d97("0x8b4")][_]&&d[_0x1d97("0x8b4")][_][_0x1d97("0x1af")]();d[_0x1d97("0x8b4")]=[],x[_0x1d97("0x8b5")]?(x[_0x1d97("0x8b6")]&&this[_0x1d97("0x277")]({angle:d.beforeCruiseState[_0x1d97("0x8b7")]}),d[_0x1d97("0x8b8")]=!1,x.needAnimate?new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d).to({tiltAngle:d[_0x1d97("0x8b9")][_0x1d97("0x8ba")]},1e3).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]).onComplete((function(){d.scaleLevelTo(d[_0x1d97("0x8b9")][_0x1d97("0x8bb")],{callback:function(){esmap.ESMapUtil[_0x1d97("0x545")](d[_0x1d97("0x8b9")][_0x1d97("0x8bc")]),e()}})})).start():e()):e()}function e(){x[_0x1d97("0x1c2")]&&x.callback()}}},{key:_0x1d97("0x8bd"),value:function(x){for(var d=x.id,_=x[_0x1d97("0x58a")],e=0;e<this[_0x1d97("0x16c")][_0x1d97("0x8be")][_0x1d97("0x0")];e++){var t=this[_0x1d97("0x16c")][_0x1d97("0x8be")][e];if(t.id===d||t[_0x1d97("0x58a")]===_)return t}return null}},{key:_0x1d97("0x8bf"),value:function(x){var d=null;function _(x,d){var _=new(THREE[_0x1d97("0xe0")])(0,0,1),e=new(THREE[_0x1d97("0xe0")])(x.x,0,x.y),t=new(THREE[_0x1d97("0xe0")])(d.x,0,d.y).clone()[_0x1d97("0x3d7")](e)[_0x1d97("0x2e1")](),a=t[_0x1d97("0x24d")](_)*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")];return t.clone()[_0x1d97("0x2dc")](_).y>0?360-a:a}function e(x,i){if(x!=i[_0x1d97("0x0")]){var n=(0,b.DistanceofTwoPts)(i[x-1],i[x])/(i[x-1][_0x1d97("0x2fa")]||a[_0x1d97("0x2fa")]);!function(){if(0!=t[_0x1d97("0x8a1")][_0x1d97("0x672")]){var r={x:i[x-1].x,y:i[x-1].y},s={x:i[x].x,y:i[x].y};i[x][_0x1d97("0x76e")]&&esmap.ESMapUtil[_0x1d97("0x53e")](t,_0x1d97("0x203"),{nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x221")],ID:i[x][_0x1d97("0x76e")].id},(function(d){d[_0x1d97("0x0")]>0&&d[0].playAnimation(i[x][_0x1d97("0x76e")].action)}));var o=_(r,s),c=!1;null!=d&&Math.abs(d-o)>10&&(c=!0),d=o;var l=90-o;c&&t[_0x1d97("0x277")]({angle:l,time:a.rotateTime});var u=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(r).to(s,1e3*n)[_0x1d97("0x1b9")](esmap.TWEEN.Easing.Linear[_0x1d97("0x269")])[_0x1d97("0x12e")]((function(d){i[x-1].x,i[x-1].y;var _={x:i[x-1].x+d.value*(i[x].x-i[x-1].x),y:i[x-1].y+d.value*(i[x].y-i[x-1].y)};t.firstPersonControls.nextPos=_})).onComplete((function(){e(x+=1,i)})).start();t.toClearId.push(u)}}()}else t[_0x1d97("0x8b2")]({callback:a.afterEnd,needAnimate:a[_0x1d97("0x8c0")]})}var t=this;t[_0x1d97("0x8b4")]=[];var a=(0,r[_0x1d97("0x1c")])({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:t.focusFloorNum,scaleRate:.025,height:2},x),i=x[_0x1d97("0xe6")];t[_0x1d97("0x8b9")]={originalControlState:esmap[_0x1d97("0x75")][_0x1d97("0x544")](),originalScaleLevel:map[_0x1d97("0x22e")],originalTiltAngle:map[_0x1d97("0x8c1")],originalRotateAngle:map[_0x1d97("0x252")]};var n=_(i[0],i[1]);function s(){a.beforeStart&&a[_0x1d97("0x8c5")](),t[_0x1d97("0x8a3")]=!1;var x=t[_0x1d97("0x280")][_0x1d97("0xc")][_0x1d97("0xb6")][_0x1d97("0xdb")]();t[_0x1d97("0x280")][_0x1d97("0x4d0")]=!1,t[_0x1d97("0x8b8")]=!0,t[_0x1d97("0x8a1")][_0x1d97("0x8c6")]=a[_0x1d97("0x8c6")],t[_0x1d97("0x8a1")][_0x1d97("0x68c")]=1,t[_0x1d97("0x8a1")][_0x1d97("0x660")]=a[_0x1d97("0x660")],t.firstPersonControls[_0x1d97("0x8c7")]=!1,t[_0x1d97("0x8a1")][_0x1d97("0x661")]=a[_0x1d97("0x661")],t[_0x1d97("0x8a1")][_0x1d97("0x672")]=!0,o.unshift({x:x.x,y:x.z}),e(1,o)}t[_0x1d97("0x8a3")]=!0,a.easeIn?map[_0x1d97("0x254")]({time:1,x:i[0].x,y:i[0].y,callback:function(){t.controls.target[_0x1d97("0x267")](new(THREE[_0x1d97("0xe0")])(-i[0].x,a.height,i[0].y)),t[_0x1d97("0x280")].update(),map[_0x1d97("0x277")]({angle:n,time:.5,onComplete:function(){map.options[_0x1d97("0x8c2")]?map[_0x1d97("0x280")][_0x1d97("0x8c3")](19,4e3,(function(){new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(t).to({tiltAngle:89},1e3)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){s()}))[_0x1d97("0x1c1")]()})):map[_0x1d97("0x8c4")](a[_0x1d97("0x236")],{time:1,rawLevel:!0,callback:function(){new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(t).to({tiltAngle:89},1e3)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){s()})).start()}})}})}}):s();var o=[];i[_0x1d97("0x1d")]((function(x){o[_0x1d97("0x1")]({x:-x.x,y:x.y,speed:x[_0x1d97("0x2fa")]||null,animation:x[_0x1d97("0x76e")]||null})}))}},{key:_0x1d97("0x8c8"),value:function(){var x=[];this[_0x1d97("0x16d")][_0x1d97("0x8c9")]=1;var d=new(THREE[_0x1d97("0x63a")]);this.mapView.rendererCss=d;var _=this[_0x1d97("0x17f")],e=new(THREE[_0x1d97("0x8ca")])(_.fov,_[_0x1d97("0x56b")],1*_.near,1*_[_0x1d97("0x3d8")]),t=this;x[_0x1d97("0x1")]((function(){e[_0x1d97("0x267")](_),D?(t[_0x1d97("0x891")][_0x1d97("0x7ee")](_[_0x1d97("0xb6")],t[_0x1d97("0x8cb")]),e.position[_0x1d97("0x267")](t[_0x1d97("0x891")])[_0x1d97("0x276")](1)):(t[_0x1d97("0x8cb")][_0x1d97("0x267")](_[_0x1d97("0xb6")]),D=!0)})),this[_0x1d97("0x16d")][_0x1d97("0x8cc")]=e;var a=new(THREE[_0x1d97("0x8cd")]);this[_0x1d97("0x16d")].cssScene=a,this.autoUpdateObjects=!0,x.push(function(){!0===this[_0x1d97("0x8ce")]&&a[_0x1d97("0xb4")]((function(x){if(x instanceof THREE.Scene!=!0){var d=x[_0x1d97("0x11e")][_0x1d97("0x8cf")];void 0!==d&&d[_0x1d97("0x11d")]()}}))}.bind(this)),x[_0x1d97("0x1")]((function(x,_){d.render(a,e)})),this.cssFuncs=x}},{key:_0x1d97("0x8d0"),value:function(x){this.zonTempObj[_0x1d97("0x423")](x[_0x1d97("0x328")],x[_0x1d97("0x1b5")])}},{key:_0x1d97("0x8d1"),value:function(x){var d=null;if(this[_0x1d97("0xee")](x))console[_0x1d97("0x3fb")](_0x1d97("0x8d2"));else{var _=(new Date)[_0x1d97("0x74")]();this[_0x1d97("0x8d3")]?d=_-this[_0x1d97("0x8d3")]:this.tl_=_,this[_0x1d97("0x8d3")]=_,d&&d<=1e3&&console.info(esmap.ESInfo[_0x1d97("0x8d4")]),esmap[_0x1d97("0x33")].IsMapLoading?this[_0x1d97("0x18c")][_0x1d97("0x8d5")]=x:this[_0x1d97("0x8d6")]({id:x})}}},{key:"moveTo",value:function(x){if(x){var d=this,_=this.mapView[_0x1d97("0x567")][_0x1d97("0xb6")][_0x1d97("0xdb")]();_.y=this[_0x1d97("0x280")].target.y;var e=this.coordMapToThree({x:x.x,y:x.y});e.y=_.y;var t=d[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")](),a=e.clone()[_0x1d97("0x3d7")](t);this[_0x1d97("0x886")]&&this[_0x1d97("0x886")][_0x1d97("0x1af")](),this.__moveToId=esmap[_0x1d97("0x1b7")][_0x1d97("0x8d7")](null==x[_0x1d97("0x255")]?d[_0x1d97("0x35")][_0x1d97("0x1ff")]?d[_0x1d97("0x35")].moveToAnimateTime:0:x.time,(function(x){var e=t[_0x1d97("0xdb")]().add(a[_0x1d97("0xdb")]()[_0x1d97("0x276")](x[_0x1d97("0xf1")]));d.controls[_0x1d97("0x27e")].x=e.x,d[_0x1d97("0x280")][_0x1d97("0x27e")].z=e.z,_0x1d97("0x3a6")==d[_0x1d97("0x1ef")]&&d[_0x1d97("0x16d")][_0x1d97("0x567")][_0x1d97("0xb6")][_0x1d97("0x267")](_[_0x1d97("0xdb")]().add(a[_0x1d97("0xdb")]()[_0x1d97("0x276")](x[_0x1d97("0xf1")]))),d[_0x1d97("0x280")].update({forceTheta:d[_0x1d97("0x280")][_0x1d97("0x8d8")](),forcePhi:d[_0x1d97("0x280")][_0x1d97("0x8d9")]()})}),esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x1bb")][_0x1d97("0x1bc")],(function(){d[_0x1d97("0x2ef")](),x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")]()}))}}},{key:"disposeBuilding",value:function(x){for(var d=this,_=this[_0x1d97("0xee")](x),e=0;e<this.buildingList[_0x1d97("0x0")];e++)if(this[_0x1d97("0x57d")][e].id==x){this[_0x1d97("0x57d")][_0x1d97("0x189")](e,1);break}var t=_[_0x1d97("0x8da")];for(var a in t[_0x1d97("0x8db")]={},t.modelLayers={},t.baseLayers={},t[_0x1d97("0x8dc")]={},this[_0x1d97("0x1ef")]={mode:"3D",time:0,init:!1},t[_0x1d97("0x8dd")]=[],t[_0x1d97("0x8de")]=[],t[_0x1d97("0x8df")]={},t[_0x1d97("0x8e0")]={},t[_0x1d97("0x8e1")]={},t[_0x1d97("0x8e2")]={},t[_0x1d97("0x8e3")]=!1,t[_0x1d97("0x8e4")]={},_.modelLoadManager[_0x1d97("0x2ab")]={},_.modelLoadManager[_0x1d97("0x8e5")]=[],_[_0x1d97("0x14f")][_0x1d97("0x8e6")]=[],_[_0x1d97("0x14f")][_0x1d97("0x28d")]=!1,_[_0x1d97("0x14f")][_0x1d97("0x2f0")]=!1,t[_0x1d97("0x8e7")]=!1,_[_0x1d97("0x8e8")]=!1,_.o3dFloors_)for(var i=_[_0x1d97("0x576")][a],n=0;n<i.children[_0x1d97("0x0")];n++)for(var r=i[_0x1d97("0xa4")][n],s=0;s<r[_0x1d97("0xa4")][_0x1d97("0x0")];s++)r.remove(r[_0x1d97("0xa4")][s]),s--;this[_0x1d97("0xf6")][_0x1d97("0x8e9")]={},this.on(_0x1d97("0x8ea"),(function(x){d.firstPersonControls.update(x),esmap[_0x1d97("0x1b7")][_0x1d97("0x11d")]()})),_[_0x1d97("0xa3")].parent[_0x1d97("0x149")](_.o3d_),this[_0x1d97("0x16c")].clear(_[_0x1d97("0xa3")])}},{key:"openMapById",value:function(x){this[_0x1d97("0x2aa")][_0x1d97("0x76b")][_0x1d97("0x37")]=x,this.openMap({id:x})}},{key:_0x1d97("0x8eb"),value:function(){this[_0x1d97("0x18c")][_0x1d97("0x2bc")](),this[_0x1d97("0x2aa")].reset(),this.MapInited=!1}},{key:_0x1d97("0x8ec"),value:(j=(0,n[_0x1d97("0x1c")])(i.default[_0x1d97("0x2a6")]((function x(d){var _,e,t,a,n,r,s,o,c,l,u=this;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:return _=d.id,e=new CustomEvent("ESMapResolveReady",{detail:{id:_}}),window.dispatchEvent(e),t=this[_0x1d97("0x35")],esmap.ESMap[_0x1d97("0x8ed")]=!0,x[_0x1d97("0x2a8")]=7,this.mapService[_0x1d97("0x76b")][_0x1d97("0x32")](_);case 7:if(this.mode==esmap.MapMode[_0x1d97("0x21b")]?this[_0x1d97("0x280")][_0x1d97("0x8ee")]=Math.PI/2.2:this[_0x1d97("0x280")][_0x1d97("0x8ee")]=Math.PI/2.5,null!=this[_0x1d97("0x35")][_0x1d97("0x8ef")]&&(this[_0x1d97("0x16d")][_0x1d97("0x8f0")]=this[_0x1d97("0x35")].enablePanDistance),t[_0x1d97("0x36")]!==esmap.MapMode[_0x1d97("0x21b")]){x[_0x1d97("0x2a8")]=39;break}return this.id&&(this._clearListeners(_0x1d97("0x11d")),this.disposeBuilding(this.id)),this.id=_,(a=(0,w.getBuildingOptions)(this[_0x1d97("0x35")])).id=_,x[_0x1d97("0x2a8")]=16,this[_0x1d97("0x2aa")][_0x1d97("0x8f1")](a);case 16:if(n=x[_0x1d97("0x533")]){x.next=19;break}return x[_0x1d97("0x2ae")]("return");case 19:r=n[_0x1d97("0x165")],this[_0x1d97("0x1d9")](_0x1d97("0x8f2"),{bid:_,data:r.navs}),this[_0x1d97("0x8f3")][_0x1d97("0x18d")][_]=r[_0x1d97("0x8f4")],this[_0x1d97("0x896")]=n.scaleLevels_,this[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].Building&&(this.mapService[_0x1d97("0x8f5")]("mapName",r[_0x1d97("0xb8")]),this[_0x1d97("0x2aa")].setState(_0x1d97("0x8f6"),r[_0x1d97("0x45d")])),this[_0x1d97("0x16c")].userScene=n,this[_0x1d97("0x89e")]=n,this[_0x1d97("0x16c")].setScene({maxX:r[_0x1d97("0x44d")],maxY:r.maxY,minX:r[_0x1d97("0x449")],minY:r.minY,centerX:r[_0x1d97("0x8f7")],centerY:r[_0x1d97("0x8f8")]},!0,r),this[_0x1d97("0x16d")][_0x1d97("0xe7")]={x:r.DefaultCenX,y:r.DefaultCenY},this._start_(),this.setOriginCameraPosition(n)||(null!=this[_0x1d97("0x35")][_0x1d97("0x206")]?this[_0x1d97("0x280")][_0x1d97("0x281")](this[_0x1d97("0x896")][this[_0x1d97("0x35")][_0x1d97("0x206")]]):null!=this.options[_0x1d97("0x155")]?this[_0x1d97("0x16d")][_0x1d97("0x155")]=this[_0x1d97("0x35")][_0x1d97("0x155")]:this[_0x1d97("0x280")][_0x1d97("0x281")](this.scaleLevels_[r[_0x1d97("0x8f9")]])),s=this[_0x1d97("0x35")][_0x1d97("0x1fd")]?0:1,this.mapTheme[_0x1d97("0x8fa")]=s,null==this[_0x1d97("0xf6")][_0x1d97("0x8fb")]&&this[_0x1d97("0x8fc")](this[_0x1d97("0xf6")][_0x1d97("0x8fd")],s),this[_0x1d97("0x16d")][_0x1d97("0x274")](),this[_0x1d97("0x8fe")](),this[_0x1d97("0x8ff")](),x[_0x1d97("0x2a8")]=78;break;case 39:if(t[_0x1d97("0x36")]!==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){x[_0x1d97("0x2a8")]=78;break}return this.id=_,this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x32")](),x[_0x1d97("0x2a8")]=44,this.mapService[_0x1d97("0x18c")].onlineAuth();case 44:if(x[_0x1d97("0x533")]){x[_0x1d97("0x2a8")]=47;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 47:return this[_0x1d97("0x35")][_0x1d97("0xe7")]&&(o=this[_0x1d97("0x2f9")](this[_0x1d97("0x35")].center),this.controls[_0x1d97("0x27e")].x=o.x,this[_0x1d97("0x280")][_0x1d97("0x27e")].z=o.z),c=this[_0x1d97("0x35")][_0x1d97("0x1fb")]||0,this[_0x1d97("0x252")]=c,l=null==this[_0x1d97("0x35")][_0x1d97("0x1fc")]?60:this[_0x1d97("0x35")][_0x1d97("0x1fc")],this[_0x1d97("0x8c1")]=l,x[_0x1d97("0x2e3")]=52,x[_0x1d97("0x2a8")]=55,this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x900")]("json");case 55:x.next=62;break;case 57:return x[_0x1d97("0x2e3")]=57,x.t0=x[_0x1d97("0x901")](52),M.MessagePoster[_0x1d97("0x1c8")]({msg:""+x.t0,level:_0x1d97("0x245")}),this.fire(_0x1d97("0x902"),x.t0),x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 62:return window[_0x1d97("0x4d8")][_0x1d97("0x903")]||(null!=this[_0x1d97("0x35")].maxZoomLevel&&(this[_0x1d97("0x280")][_0x1d97("0x2f4")]=this[_0x1d97("0x16d")][_0x1d97("0x904")](this[_0x1d97("0x35")][_0x1d97("0x217")])),null!=this[_0x1d97("0x35")][_0x1d97("0x905")]?this[_0x1d97("0x280")][_0x1d97("0x2d6")]=this[_0x1d97("0x16d")][_0x1d97("0x904")](this[_0x1d97("0x35")][_0x1d97("0x905")]):this[_0x1d97("0x280")].maxDistance=this[_0x1d97("0x16d")][_0x1d97("0x904")](14),this[_0x1d97("0x16d")][_0x1d97("0x567")].far=this.controls.maxDistance,this[_0x1d97("0x16d")][_0x1d97("0x567")][_0x1d97("0x81d")](),this[_0x1d97("0x16d")][_0x1d97("0x906")][_0x1d97("0x3d8")]=this[_0x1d97("0x280")].maxDistance,this.mapView[_0x1d97("0x906")].updateProjectionMatrix(),this[_0x1d97("0x16d")][_0x1d97("0x274")]()),this.on("modelLoadComplete",(function(){if(0==u[_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0x0")]&&0==u[_0x1d97("0x18c")][_0x1d97("0x908")][_0x1d97("0x0")]){var x=u[_0x1d97("0x585")],d=!0;for(var _ in x){var e=x[_],t=e[_0x1d97("0x14f")].queue.length,a=e[_0x1d97("0x14f")][_0x1d97("0x909")][_0x1d97("0x0")],i=0;for(var n in e[_0x1d97("0x14f")].mergeQueue){var r=e[_0x1d97("0x14f")].mergeQueue[n];for(var s in r)i+=r[s][_0x1d97("0x0")]}if(t>0||a>0||i>0){d=!1;break}}u.mapService[_0x1d97("0x90a")]||!d||u[_0x1d97("0x18c")].preLoadBuildingId||(u[_0x1d97("0x2aa")][_0x1d97("0x90a")]=!0,u[_0x1d97("0x1d9")](_0x1d97("0x90b")),u[_0x1d97("0x1d9")](_0x1d97("0x90a"),{bid:u.id}))}})),x[_0x1d97("0x2e3")]=64,x.next=67,this.tileService[_0x1d97("0x90c")]();case 67:x[_0x1d97("0x2a8")]=71;break;case 69:x[_0x1d97("0x2e3")]=69,x.t1=x[_0x1d97("0x901")](64);case 71:return x[_0x1d97("0x2e3")]=71,this[_0x1d97("0x90d")](),this[_0x1d97("0x8ff")](),this[_0x1d97("0x18c")][_0x1d97("0x8d5")]?(this[_0x1d97("0x2aa")][_0x1d97("0x90e")]=!0,this[_0x1d97("0x16c")][_0x1d97("0x90f")].visible=!1,this[_0x1d97("0x18c")][_0x1d97("0x8d6")]({mapId:this[_0x1d97("0x18c")].preLoadBuildingId},null,!0,!1)[_0x1d97("0x2fd")]((function(x){console[_0x1d97("0x246")](_0x1d97("0x910"),x),console[_0x1d97("0x246")](_0x1d97("0x911")),u[_0x1d97("0x912")](x)||(null!=u[_0x1d97("0x35")][_0x1d97("0x206")]?u[_0x1d97("0x280")].setScaleLevelValue(u[_0x1d97("0x896")][u[_0x1d97("0x35")][_0x1d97("0x206")]]):u[_0x1d97("0x280")][_0x1d97("0x281")](u[_0x1d97("0x896")][x[_0x1d97("0x165")][_0x1d97("0x8f9")]]))})),this[_0x1d97("0x1d0")]("closeBuilding",(function(x){x[_0x1d97("0xe5")]===u[_0x1d97("0x18c")][_0x1d97("0x8d5")]&&(u[_0x1d97("0x2aa")][_0x1d97("0x90e")]=!1,esmap[_0x1d97("0x913")]&&esmap[_0x1d97("0x913")][_0x1d97("0x914")][_0x1d97("0x915")](!0),u.mapScene.tileScene_.visible=!0,u[_0x1d97("0x18c")][_0x1d97("0x8d5")]=null,u.loadComplete_(),u[_0x1d97("0x8a7")]=!0,u[_0x1d97("0x280")][_0x1d97("0x916")]())}))):(this[_0x1d97("0x917")](),this[_0x1d97("0x8a7")]=!0),this.on("beforeOpenBuilding",(function(){B+=1})),this.on(_0x1d97("0x918"),(function(){B-=1})),x[_0x1d97("0x919")](71);case 78:case _0x1d97("0x2c4"):return x.stop()}}),x,this,[[52,57],[64,69,71,78]])}))),function(x){return j[_0x1d97("0x5")](this,arguments)})},{key:"initESAudioTool",value:function(){var x=this;return new a.default((function(d,_){var e,t;0==x.options[_0x1d97("0x6b")]?H[0]?e=H[0]:(t=x[_0x1d97("0x35")].mapAudioSrc+"/"+_0x1d97("0x91a"),(e=new(T[_0x1d97("0x1c")])({speed:1}))[_0x1d97("0x32")](t,(function(){})),H[0]=e):H[x[_0x1d97("0x35")][_0x1d97("0x6b")]]?e=H[x[_0x1d97("0x35")][_0x1d97("0x6b")]]:(t=x[_0x1d97("0x35")].mapAudioSrc+"/esaudio-1.2-"+x.options[_0x1d97("0x6b")]+_0x1d97("0x91b"),(e=new(k[_0x1d97("0x1c")])({speed:1}))[_0x1d97("0x32")](t,(function(){})),H[x[_0x1d97("0x35")][_0x1d97("0x6b")]]=e),x.ESAudioTool=e})).catch((function(x){console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")].AUDIO_ERR)}))}},{key:_0x1d97("0x91c"),value:function(x){this[_0x1d97("0xf6")][_0x1d97("0x91d")][_0x1d97("0x1d")]((function(d){d[_0x1d97("0xf0")]=x}))}},{key:_0x1d97("0x8d6"),value:function(x){if(this[_0x1d97("0x18c")][_0x1d97("0x91e")][x.id]){var d=this[_0x1d97("0x18c")][_0x1d97("0x91e")][x.id],_=d[_0x1d97("0xa2")],e=_[_0x1d97("0x91f")];return e&&(6==e.nodeType?e.o3d_?esmap[_0x1d97("0x75")][_0x1d97("0x294")]({target:e[_0x1d97("0xa3")],alpha:.1,hideOnComplete:!0,time:1.5}):e[_0x1d97("0xf0")]=!1:5==e[_0x1d97("0xc7")]&&(e[_0x1d97("0x1b5")]=1e4)),this.mapScene[_0x1d97("0x920")][_0x1d97("0xdc")](d),this.options[_0x1d97("0x921")]&&(this[_0x1d97("0x2aa")].getState(_0x1d97("0x922"))?d[_0x1d97("0xa2")][_0x1d97("0x923")](!0):d.datas_[_0x1d97("0x923")]()),this[_0x1d97("0x57d")][_0x1d97("0x1")](d[_0x1d97("0xa2")]),d.visible=!0,this.fire(_0x1d97("0x918"),d[_0x1d97("0xa2")]),void _[_0x1d97("0x924")](_0x1d97("0x90a"),{bid:_.id})}var t=x.id,a=x.moveTo,i=void 0===a||a,n=x[_0x1d97("0x925")],r=(x.x,x.y,x[_0x1d97("0x926")],x[_0x1d97("0x927")],this[_0x1d97("0x18c")][_0x1d97("0x530")][t]),s=this;if(r){var o={x:r.x,y:r.y,callback:function(){s.updateTileView(),s.tileService[_0x1d97("0x928")](),n&&n()}};i?(s.moveTo(o),s.tileService[_0x1d97("0x929")][_0x1d97("0xd7")](t)<0&&s[_0x1d97("0x18c")][_0x1d97("0x929")][_0x1d97("0x1")](t)):(s.tileService[_0x1d97("0x929")][_0x1d97("0xd7")](t)<0&&s[_0x1d97("0x18c")][_0x1d97("0x929")][_0x1d97("0x1")](t),s[_0x1d97("0x2ef")](),s[_0x1d97("0x18c")][_0x1d97("0x928")]())}else console[_0x1d97("0x245")](_0x1d97("0x92a"))}},{key:_0x1d97("0x92b"),value:function(x){this[_0x1d97("0x89c")]++;this.loadTile_(x)}},{key:_0x1d97("0x92c"),value:function(x){for(var d=this.getBuildingById(0),_=d[_0x1d97("0xa3")][_0x1d97("0xa4")],e=0;e<_[_0x1d97("0x0")];e++)if(_[e][_0x1d97("0xa2")]){var t=_[e].datas_;if(t.ID&&t.ID==x){for(var a=0;a<_[e][_0x1d97("0xa4")].length;a++){var i=_[e][_0x1d97("0xa4")][a],n=this[_0x1d97("0x146")][_0x1d97("0x147")].default[_0x1d97("0xd7")](i);i.manager=null,i[_0x1d97("0xa6")](),i[_0x1d97("0x38")]=null,i=null,n>-1&&this.mapPicker.watchingList[_0x1d97("0x1c")][_0x1d97("0x189")](n,1)}return void d[_0x1d97("0xa3")].remove(_[e])}}}},{key:_0x1d97("0x92d"),value:function(){var x=this[_0x1d97("0xee")](0);if(x){for(var d=x[_0x1d97("0xa3")].children,_=0;_<d.length;_++){var e=d[_];if(d[_][_0x1d97("0xa2")]&&35==d[_][_0x1d97("0xa2")][_0x1d97("0xc7")]){for(var t=0;t<e[_0x1d97("0xa4")][_0x1d97("0x0")];t++){var a=e[_0x1d97("0xa4")][t];e[_0x1d97("0x149")](a),t--}x[_0x1d97("0xa3")].remove(d[_]),_--}}for(var i=this[_0x1d97("0x146")][_0x1d97("0x147")].default,n=0;n<i.length;n++)21==i[n][_0x1d97("0xc7")]&&(i[_0x1d97("0x189")](n,1),n--)}}},{key:_0x1d97("0x92e"),value:function(x,d){var _=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function e(d){x[_0x1d97("0xa3")].add(d);t.getBuildingById(d[_0x1d97("0xe5")]);d[_0x1d97("0xa7")][_0x1d97("0xf0")]=!0,t[_0x1d97("0x92f")](!0),a[_0x1d97("0x930")]&&!x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x931")]&&(x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x931")]=!0,t[_0x1d97("0x146")][_0x1d97("0x188")](d)),null!=a[_0x1d97("0x1b5")]&&(d[_0x1d97("0xb6")].y+=a[_0x1d97("0x1b5")]),a[_0x1d97("0x26")]=(0,b[_0x1d97("0x13")])(a,_0x1d97("0x26"),0),d[_0x1d97("0xb6")].y+=a[_0x1d97("0x26")],d.userData[_0x1d97("0x932")]=d[_0x1d97("0xb6")].y}var t=this,a=x.style||t[_0x1d97("0xf6")][_0x1d97("0x933")];a[_0x1d97("0x934")]=null==a[_0x1d97("0x934")]||a[_0x1d97("0x934")],a[_0x1d97("0x599")]=a[_0x1d97("0x599")]||null;var i=t[_0x1d97("0x935")](x[_0x1d97("0xe6")]);if(!i){console.info(_0x1d97("0x936")),t[_0x1d97("0x16c")][_0x1d97("0x937")][_0x1d97("0xdc")](x[_0x1d97("0xa3")]);var n=void 0;if("texture"==a[_0x1d97("0x145")])n=new(p[_0x1d97("0x1c")])([],a,!1);else{var s=(0,r[_0x1d97("0x1c")])({doubleSide:!0},a);n=new(esmap[_0x1d97("0x52e")])([],s,{},0)}return e(n),void(d&&d(n))}var o,c,l=i[0],u=l[_0x1d97("0x38")]((function(x){return(0,r.default)(new THREE.Vector3,x)}));o=x[_0x1d97("0xe5")]?t.getBuildingById(x[_0x1d97("0xe5")]):t.getBuildingById(0),_&&o[_0x1d97("0xa3")].add(x.o3d_);var f=void 0;f=a[_0x1d97("0x2")](_0x1d97("0x938"))?a[_0x1d97("0x938")]:a[_0x1d97("0x145")]!=esmap.ESLineType[_0x1d97("0xde")],a[_0x1d97("0x934")]||esmap[_0x1d97("0x75")][_0x1d97("0x553")](l),c=a[_0x1d97("0x934")]?esmap[_0x1d97("0x50f")][_0x1d97("0x554")](l,8,a[_0x1d97("0x939")]||.2,f):l;for(var h=[],g=[],v=0;v<c[_0x1d97("0x0")]-1;v++){var m=c[v][_0x1d97("0xe5")],A=c[v+1].bid,C=h[h.length-1],I=g[g.length-1];if(m==A)I!=m&&(g[_0x1d97("0x1")](m),h[_0x1d97("0x1")]([]),(C=h[h[_0x1d97("0x0")]-1])[_0x1d97("0x1")](c[v])),C||(h.push([]),C=h[h[_0x1d97("0x0")]-1]),C.push(c[v+1]);else{g[_0x1d97("0x1")](m+_0x1d97("0x93a")+A);var y=c[v][_0x1d97("0xdb")]();y[_0x1d97("0xe8")]=c[v].fnum,y[_0x1d97("0xe5")]=c[v].bid;var E=c[v+1].clone();E[_0x1d97("0xe8")]=c[v+1][_0x1d97("0xe8")],E[_0x1d97("0xe5")]=c[v+1][_0x1d97("0xe5")],h[_0x1d97("0x1")]([y,E])}}for(var w=0;w<g.length;w++){for(var T=h[w],k=[],S=[],M=0;M<T[_0x1d97("0x0")]-1;M++){var R=T[M][_0x1d97("0xe8")],L=T[M+1].fnum,H=k[k[_0x1d97("0x0")]-1],D=S[S[_0x1d97("0x0")]-1];R==L?(D!=R&&(S[_0x1d97("0x1")](R),k.push([]),(H=k[k[_0x1d97("0x0")]-1])[_0x1d97("0x1")](T[M])),H||(k[_0x1d97("0x1")]([]),H=k[k[_0x1d97("0x0")]-1]),H[_0x1d97("0x1")](T[M+1])):(S.push(R+_0x1d97("0x93a")+L),k[_0x1d97("0x1")]([T[M],T[M+1]]))}for(var P=-1,O=0;O<S[_0x1d97("0x0")];O++){var B=S[O]+"",N=g[w]+"",F="",z=!1;B[_0x1d97("0xd7")](_0x1d97("0x93a"))>-1&&N[_0x1d97("0xd7")](_0x1d97("0x93a"))<0?(z=!0,F=_0x1d97("0x93b")+B,!0):N[_0x1d97("0xd7")](_0x1d97("0x93a"))>-1&&(z=!0,F="crossBuilding"+N);var j=k[O];if(j&&0!=j[_0x1d97("0x0")]){P+=1;for(var U,X=0,Y=S[O],G=!1,Q=1;Q<u.length;Q++){var V=u[Q-1],W=u[Q];if(V[_0x1d97("0xe5")]==N&&W[_0x1d97("0xe5")]==N&&V[_0x1d97("0xe8")]==Y&&W[_0x1d97("0xe8")]==Y)X+=(0,b.DistanceofTwoPtsZ)(V,W),G||(G=!0);else if(G)break}if(a[_0x1d97("0x145")]==_0x1d97("0x4c4"))(U=new p.default(j,a,z)).bid_=N;else{var Z=(0,r.default)({doubleSide:!0},a);z&&(Z[_0x1d97("0x2dc")]=!0),(U=new esmap.ESLine(j,Z,{},P))[_0x1d97("0x93c")]=N}X&&(U[_0x1d97("0x93d")]=X),U[_0x1d97("0xb8")]=z?F:g[w]+"",e(U),d&&d(U)}}}}},{key:"screenshot",value:function(x){var d=this,_=(0,r[_0x1d97("0x1c")])({newTab:!1,filename:_0x1d97("0x93e"),download:!0,width:d.mapView.w_,scale:null,height:d.mapView.h_},x),e=[d[_0x1d97("0x16d")].w_,d[_0x1d97("0x16d")].h_];if((null!==_[_0x1d97("0x237")]&&(_.width=d[_0x1d97("0x16d")].w_*_[_0x1d97("0x237")],_[_0x1d97("0x1b5")]=d[_0x1d97("0x16d")].h_*_[_0x1d97("0x237")]),_[_0x1d97("0x328")]>d.mapView.w_||_.height>d[_0x1d97("0x16d")].h_)&&(this[_0x1d97("0x2aa")][_0x1d97("0x424")]("ul")>>1&1||0)<1)return void console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")][_0x1d97("0x93f")]);d[_0x1d97("0x16d")][_0x1d97("0x940")](_[_0x1d97("0x328")],_[_0x1d97("0x1b5")]),d[_0x1d97("0x16d")][_0x1d97("0x5e8")].clear(),"3D"==d[_0x1d97("0x890")]?d[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x4cd")](d[_0x1d97("0x16d")].scene,d.mapView[_0x1d97("0x567")]):d[_0x1d97("0x16d")].renderer.render(d[_0x1d97("0x16d")][_0x1d97("0x305")],d[_0x1d97("0x16d")][_0x1d97("0x906")]),d[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x608")](),d[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x4cd")](d.mapView[_0x1d97("0x4a0")],d[_0x1d97("0x16d")][_0x1d97("0x941")]);var t=d[_0x1d97("0x16d")].renderer[_0x1d97("0x63c")][_0x1d97("0x942")]("image/png",1);if(d[_0x1d97("0x16d")][_0x1d97("0x940")](e[0],e[1]),_[_0x1d97("0x943")]){var a=document[_0x1d97("0x21")]("a"),i=(0,C[_0x1d97("0x1a")])(t);document[_0x1d97("0x944")](_0x1d97("0x659")).initEvent(_0x1d97("0x945"),!0,!0),a[_0x1d97("0x943")]=_[_0x1d97("0x67")],a[_0x1d97("0x73")]=URL.createObjectURL(i),a.click()}if(_[_0x1d97("0x946")]){var n=window.open("","");n[_0x1d97("0x947")][_0x1d97("0x948")]=_0x1d97("0x949");var s=new Image;s[_0x1d97("0x39e")]=t,n[_0x1d97("0x947")].body.appendChild(s)}return t}},{key:_0x1d97("0x94a"),value:function(x){var d,_=null==x[_0x1d97("0x3fa")]?.3:x[_0x1d97("0x3fa")],e=_0x1d97("0xb8"),t=this,a=[][_0x1d97("0x1de")](x[_0x1d97("0xb8")]);x[_0x1d97("0xb8")]||(a=[][_0x1d97("0x1de")](x.id),e="ID");var i=[];x.bid?[].concat(x[_0x1d97("0xe5")])[_0x1d97("0x1d")]((function(x){var d=t[_0x1d97("0xee")](x);d||(d=t[_0x1d97("0x588")](x)),d&&i[_0x1d97("0x1")](d)})):i=t[_0x1d97("0x57d")].concat(t[_0x1d97("0x585")]);var n=x[_0x1d97("0x100")];t=this;d=x[_0x1d97("0xe8")]?[][_0x1d97("0x1de")](x[_0x1d97("0xe8")]):null,i[_0x1d97("0x1d")]((function(x){if(1==x[_0x1d97("0x14e")]){var t=x.layerManager[_0x1d97("0x193")](_0x1d97("0x94b"));if(t[0])t[0][_0x1d97("0xb4")]((function(d){if(d[_0x1d97("0xc7")]==esmap.ESNodeType[_0x1d97("0x221")])if(d[_0x1d97("0x33d")])for(var t in d[_0x1d97("0x33d")]){var i=d[_0x1d97("0x33d")][t];a[_0x1d97("0xd7")](i[e])>-1&&x[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x413")](i.ID,d[_0x1d97("0xa3")],n,_)}else a[_0x1d97("0xd7")](d[e])>-1&&d[_0x1d97("0x2ca")](n)}))}else{var i=d||x[_0x1d97("0x584")],r=function(d){var t=x[_0x1d97("0x56d")](i[d]),r=x[_0x1d97("0x14f")];if(!t)return _0x1d97("0x53c");t[_0x1d97("0x94c")][_0x1d97("0x1d")]((function(x){x._type_==esmap[_0x1d97("0x168")][_0x1d97("0x221")]&&x[_0x1d97("0xa3")][_0x1d97("0xa4")][_0x1d97("0x1d")]((function(x){x[_0x1d97("0xa2")]&&(x.datas_[_0x1d97("0x33d")]?x.datas_.brothers.forEach((function(d){a[_0x1d97("0xd7")](d[e])>-1&&r.GLTFMergeTool[_0x1d97("0x413")](d.id,x,n,_)})):a.indexOf(x[_0x1d97("0xa2")][e])>-1&&x[_0x1d97("0xa2")][_0x1d97("0x2ca")](n))}))}))};for(var s in i)r(s)}}))}},{key:_0x1d97("0x94d"),value:function(x){function d(x){var d=[];this[_0x1d97("0x94c")][_0x1d97("0x1d")]((function(x){x._type_!=esmap[_0x1d97("0x168")].MODEL&&x._type_!=esmap[_0x1d97("0x168")].MODEL_BASE&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x221")]&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x94f")]&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")].MODEL_LABEL&&x._type_!=esmap.ESLayerType[_0x1d97("0x950")]||(d=d.concat(x.o3d_[_0x1d97("0xa4")]))}));for(var _=0;_<d.length;_++){var e=d[_];if(e[_0x1d97("0xa2")][_0x1d97("0x33d")])for(var t=e[_0x1d97("0xa2")][_0x1d97("0x33d")],a=0;a<t[_0x1d97("0x0")];a++){if(x(t[a],d[_].datas_.o3d_))return}else if(x(e[_0x1d97("0xa2")],e))return}}var _=this,e=_0x1d97("0xb8"),t=[][_0x1d97("0x1de")](x[_0x1d97("0xb8")]),a=this[_0x1d97("0xee")](this.id),i=[a];x[_0x1d97("0xe5")]?[].concat(x[_0x1d97("0xe5")]).forEach((function(x){var d=_[_0x1d97("0x588")](x);d||(d=_[_0x1d97("0xee")](x)),d&&i[_0x1d97("0x1")](d)})):i=this[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?[a]:_[_0x1d97("0x585")];x[_0x1d97("0xb8")]||(t=[][_0x1d97("0x1de")](x.id),e="ID");var n=x[_0x1d97("0xf1")],r=0,s=a[_0x1d97("0x14f")][_0x1d97("0x57f")];i[_0x1d97("0x1d")]((function(x){var _=[];1==x[_0x1d97("0x14e")]?_=[x[_0x1d97("0x14d")]]:x[_0x1d97("0x584")][_0x1d97("0x1d")]((function(d){_.push(x.getFloor(d))}));var a=function(x){var a=_[x];d[_0x1d97("0x3")](a,(function(x,d){if(!d)return!1;if(x[e]&&t[_0x1d97("0xd7")](x[e])>-1)if(r++,n)if(5==x[_0x1d97("0xc7")]){p=x[_0x1d97("0xbb")][0],m=x[_0x1d97("0xbb")][1];for(var _=d[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x19d")],i=p;i<m;i++)_[i]=0;if(d.geometry[_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x13b")]=!0,x[_0x1d97("0x955")]){var o=a[_0x1d97("0x192")](esmap[_0x1d97("0x168")][_0x1d97("0x950")]);if(o[0]&&o[0].o3d_&&o[0].o3d_.children[0])for(var c=o[0][_0x1d97("0xa3")][_0x1d97("0xa4")][0],l=c[_0x1d97("0xa5")][_0x1d97("0x2eb")][_0x1d97("0x19d")],u=c[_0x1d97("0xa5")][_0x1d97("0x11e")].groupInfo,f=c[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x19d")],h=0;h<u.length;h++)if(u[h].id==x[e]){for(var b=u[h][_0x1d97("0x1c1")],g=u[h][_0x1d97("0x1c1")]+u[h][_0x1d97("0xb7")],v=b;v<g;v++){f[l[v]]=0}c[_0x1d97("0xa5")][_0x1d97("0xb5")].isHideFlags[_0x1d97("0x13b")]=!0}}}else if(6==x[_0x1d97("0xc7")]){d[_0x1d97("0x11e")][_0x1d97("0x952")]&&(1==d.datas_[_0x1d97("0x33d")][_0x1d97("0x0")]?d[_0x1d97("0xf0")]=!0:d[_0x1d97("0xa4")].forEach((function(d){s[_0x1d97("0x953")](d,x.ID,!0)})))}else x[_0x1d97("0xf0")]=!0;else if(5==x.nodeType){for(var p=x[_0x1d97("0xbb")][0],m=x[_0x1d97("0xbb")][1],A=d[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")].array,C=p;C<m;C++)A[C]=1;if(d[_0x1d97("0xa5")].attributes[_0x1d97("0x951")].needsUpdate=!0,x.RoomLogo){var I=a[_0x1d97("0x192")](esmap[_0x1d97("0x168")].MODEL_IMAGE);if(I[0]&&I[0][_0x1d97("0xa3")]&&I[0].o3d_.children[0])for(var y=I[0].o3d_[_0x1d97("0xa4")][0],E=y[_0x1d97("0xa5")][_0x1d97("0x2eb")][_0x1d97("0x19d")],w=y[_0x1d97("0xa5")][_0x1d97("0x11e")].groupInfo,T=y.geometry.attributes[_0x1d97("0x951")][_0x1d97("0x19d")],k=0;k<w[_0x1d97("0x0")];k++)if(w[k].id==x[e]){for(var S=w[k][_0x1d97("0x1c1")],M=w[k][_0x1d97("0x1c1")]+w[k][_0x1d97("0xb7")],R=S;R<M;R++){T[E[R]]=1}y[_0x1d97("0xa5")][_0x1d97("0xb5")].isHideFlags[_0x1d97("0x13b")]=!0}}}else if(6==x.nodeType){d.userData[_0x1d97("0x952")]&&(1==d.datas_.brothers[_0x1d97("0x0")]?d.visible=!1:d[_0x1d97("0xa4")][_0x1d97("0x1d")]((function(d){s[_0x1d97("0x953")](d,x.ID,!1)})))}else x[_0x1d97("0xc7")]==esmap.ESNodeType.MODEL_IMAGE?console[_0x1d97("0x246")](_0x1d97("0x954")):x[_0x1d97("0xf0")]=!1;return r==t[_0x1d97("0x0")]&&"ID"==e}))};for(var i in _)a(i)}))}},{key:_0x1d97("0x956"),value:function(x){function d(x){var d=[];this.layers[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x574")]&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x957")]&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x221")]||(d=d[_0x1d97("0x1de")](x[_0x1d97("0xa3")][_0x1d97("0xa4")]))}));for(var _=0;_<d[_0x1d97("0x0")];_++){var e=d[_];if(e.datas_[_0x1d97("0x33d")])for(var t=e[_0x1d97("0xa2")][_0x1d97("0x33d")],a=0;a<t[_0x1d97("0x0")];a++){if(x(t[a],d[_][_0x1d97("0xa2")][_0x1d97("0xa3")]))return}else if(x(e[_0x1d97("0xa2")],e.o3d_))return}}var _=this,e="name",t=[][_0x1d97("0x1de")](x[_0x1d97("0xb8")]),a=[];x[_0x1d97("0xe5")]?[][_0x1d97("0x1de")](x.bid)[_0x1d97("0x1d")]((function(x){var d=_.getTileById(x);d&&a[_0x1d97("0x1")](d)})):a=_[_0x1d97("0x585")];x[_0x1d97("0xb8")]||(t=[].concat(x.id),e="ID");var i=x[_0x1d97("0x100")],n=i[_0x1d97("0x0")],r=x.hasOwnProperty(_0x1d97("0xe2"))?x[_0x1d97("0xe2")]:1,s=0,o=!1;if(i){var c=(o=esmap.ESMapUtil[_0x1d97("0x2cf")](i))[_0x1d97("0x28")](","),l=[1*c[0]/255,1*c[1]/255,1*c[2]/255,r];o=l}if(!n)for(;this.mapService[_0x1d97("0x958")][_0x1d97("0x0")]>0;){var u=this[_0x1d97("0x2aa")][_0x1d97("0x958")][_0x1d97("0x4")]();t[_0x1d97("0x1")](u.value)}var f=t[_0x1d97("0x38")]((function(x){return{key:e,value:x,data:o}}));if(a[_0x1d97("0x1d")]((function(x){var a=x.layerManager;d.call(a,(function(d,a){if(!a)return!1;if(d[e]&&t[_0x1d97("0xd7")](d[e])>-1){if(s++,n)if(5==d.nodeType){for(var r=d[_0x1d97("0xbb")][0],c=d[_0x1d97("0xbb")][1],l=a.geometry.attributes[_0x1d97("0x959")][_0x1d97("0x19d")],u=a.geometry[_0x1d97("0xb5")][_0x1d97("0x95a")].array,h=r;h<c;h++)l[h]=1;for(var b=4*r;b<4*c;b+=4)u[b]=o[0],u[b+1]=o[1],u[b+2]=o[2],u[b+3]=o[3];a.geometry[_0x1d97("0xb5")][_0x1d97("0x959")].needsUpdate=!0,a.geometry[_0x1d97("0xb5")][_0x1d97("0x95a")][_0x1d97("0x13b")]=!0,_[_0x1d97("0x1d9")](_0x1d97("0x956"),{color:i,value:1,startIndex:r,endIndex:c})}else 6==d[_0x1d97("0xc7")]&&(a.userData[_0x1d97("0x409")]=!0,d.changeColor?d[_0x1d97("0x2ca")](i):x[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x413")](d.ID,a,i,.3));else if(5==d.nodeType){r=d[_0x1d97("0xbb")][0],c=d[_0x1d97("0xbb")][1],l=a[_0x1d97("0xa5")].attributes[_0x1d97("0x959")].array;for(var g=a.geometry[_0x1d97("0xb5")].highLightColor[_0x1d97("0x19d")],v=r;v<c;v++)l[v]=0;for(var p=4*r;p<4*c;p+=4)g[p]=1,g[p+1]=1,g[p+2]=1,g[p+3]=1;a[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x959")].needsUpdate=!0,a[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x95a")][_0x1d97("0x13b")]=!0,_[_0x1d97("0x1d9")]("changeBuildingColor",{color:i,value:0,startIndex:r,endIndex:c})}else 6==d.nodeType&&(a[_0x1d97("0x11e")].locked=!1,d[_0x1d97("0x2ca")]?d[_0x1d97("0x2c9")]():x.modelLoadManager[_0x1d97("0x57f")].changeModelColorById(d.ID,a,i,.3));for(var m=0;m<f[_0x1d97("0x0")];m++)if(f[m][_0x1d97("0xf1")]==d[e]){f[_0x1d97("0x189")](m,1);break}}return s==t[_0x1d97("0x0")]&&"ID"==e}))})),n)for(var h=0;h<f[_0x1d97("0x0")];h++)this[_0x1d97("0x2aa")][_0x1d97("0x95b")](f[h])}},{key:_0x1d97("0x95c"),value:function(x){function d(x){var d=[];this.layers[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x94e")]!=esmap.ESLayerType[_0x1d97("0x574")]&&x[_0x1d97("0x94e")]!=esmap[_0x1d97("0x168")][_0x1d97("0x957")]||(d=d[_0x1d97("0x1de")](x[_0x1d97("0xa3")][_0x1d97("0xa4")]))}));for(var _=0;_<d.length;_++){var e=d[_][_0x1d97("0xa2")].brothers;if(e)for(var t=0;t<e[_0x1d97("0x0")];t++){if(x(e[t],d[_][_0x1d97("0xa2")][_0x1d97("0xa3")]))return}}}var _,e=this,t=(esmap[_0x1d97("0x75")][_0x1d97("0x53f")],x[_0x1d97("0x100")]),a=!!t,i=!!x[_0x1d97("0x2")](_0x1d97("0xe2"))&&x[_0x1d97("0xe2")],n=0!=i,r=_0x1d97("0xb8"),s=[][_0x1d97("0x1de")](x[_0x1d97("0xb8")]),o=[];x[_0x1d97("0xe5")]?[].concat(x[_0x1d97("0xe5")])[_0x1d97("0x1d")]((function(x){var d=e.getBuildingById(x);d&&o[_0x1d97("0x1")](d)})):o=e[_0x1d97("0x57d")];x.name||(s=[][_0x1d97("0x1de")](x.id),r="ID");t[_0x1d97("0x0")];var c=0;_=x[_0x1d97("0xe8")]?[][_0x1d97("0x1de")](x[_0x1d97("0xe8")]):null,o.forEach((function(x){var o=_||x[_0x1d97("0x584")];for(var l in o){var u=x[_0x1d97("0x56d")](o[l]);u&&d[_0x1d97("0x3")](u,(function(x,d){var _;if(x[r]&&s.indexOf(x[r])>-1)if(c++,a||n){if(d[_0x1d97("0x11e")].colorMap||(d[_0x1d97("0x11e")][_0x1d97("0x95d")]={}),!d.userData.colorMap[t]){var o=d.material[0][_0x1d97("0xdb")]();a&&(o[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(t),u[_0x1d97("0xa3")][_0x1d97("0x575")]||(u[_0x1d97("0xa3")].lastAlpha={}),u[_0x1d97("0xa3")][_0x1d97("0x575")][o[_0x1d97("0x3d9")]]=u[_0x1d97("0xa3")].lastAlpha[d.material[0][_0x1d97("0x3d9")]]),i&&(o[_0x1d97("0xe2")]=i,o.transparent=1!=i),d[_0x1d97("0xa7")].push(o),d.userData[_0x1d97("0x95d")][t]=d[_0x1d97("0xa7")][_0x1d97("0x0")]-1}var l=d.geometry[_0x1d97("0x410")];d.geometry[_0x1d97("0x411")]();var f=x.faceRange[0],h=x.faceRange[1],b=d.userData[_0x1d97("0x95d")][t];e[_0x1d97("0x414")](f,h,b,l,!1)[_0x1d97("0x1d")]((function(x){d.geometry.addGroup(x[_0x1d97("0x1c1")],x[_0x1d97("0xb7")],x[_0x1d97("0x412")])}))}else{l=d[_0x1d97("0xa5")][_0x1d97("0x410")];d.geometry[_0x1d97("0x411")]();f=x.faceRange[0],h=x[_0x1d97("0xbb")][1];for(var g=null,v=0;v<l.length;v++)if(f>=l[v][_0x1d97("0x1c1")]&&f<l[v].start+l[v][_0x1d97("0xb7")]){_=l[v][_0x1d97("0x412")],g=v;break}null!=g&&0!=_&&(l=e[_0x1d97("0x414")](f,h,0,l,!1));for(v=0;v<l[_0x1d97("0x0")];v++)d[_0x1d97("0xa5")][_0x1d97("0x1a2")](l[v][_0x1d97("0x1c1")],l[v][_0x1d97("0xb7")],l[v][_0x1d97("0x412")])}return c==s[_0x1d97("0x0")]&&("ID"==r||r==_0x1d97("0xb8"))}))}o=null}))}},{key:_0x1d97("0x935"),value:function(x){function d(x,d){var _,e=0,t=x.bid;(t||(t=n.id),x.fnum&&t)?e+=(_=n[_0x1d97("0xee")](t))?_[_0x1d97("0x2f8")](x[_0x1d97("0xe8")]):0:e+=(_=n[_0x1d97("0xee")](t))[_0x1d97("0x2f8")](1);var a=n.coordMapToThree({x:x.x,y:x.y});return a.y=e+Number(x.offset||x.z||0),a}if(!(x.length<1)){var _,e=[],t=[],a=null,i=null,n=this;return function(x){for(var _=0;_<x[_0x1d97("0x0")];_++)a=x[_],(i=d(a))[_0x1d97("0xe8")]=a[_0x1d97("0xe8")]||1,i[_0x1d97("0xe5")]=a[_0x1d97("0xe5")]||0,t[_0x1d97("0x1")](i)}(x),(_=t)[_0x1d97("0x0")]>1&&e[_0x1d97("0x1")](_),e}}},{key:"toSceneCoord",value:function(x,d){var _=null;null==d&&this[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]&&(d=this.id);var e=this[_0x1d97("0xee")](d);return x[_0x1d97("0xe8")]&&(_=e[_0x1d97("0x2f8")](x[_0x1d97("0xe8")])),new THREE.Vector3(-this[_0x1d97("0x16c")].sceneX_-x.x,x.z||_||0,x.y-this[_0x1d97("0x16c")][_0x1d97("0x19a")])}},{key:_0x1d97("0x95e"),value:function(x){return this.tileService.targetAndBuildingList[x]||null}},{key:_0x1d97("0x95f"),value:function(x){x=(0,r.default)({coord:null,mode:"height",inverse:!1,startCoord:null,depth:100,endCoord:null},x),this[_0x1d97("0x31b")]||(this.rayPointer=new(I[_0x1d97("0x1c")])(x)),this[_0x1d97("0x31b")][_0x1d97("0x3d0")][_0x1d97("0x3dd")]=x[_0x1d97("0x3dd")];var d=void 0;if(x[_0x1d97("0x36")]==_0x1d97("0x1b5")){var _=this[_0x1d97("0x2f9")](x[_0x1d97("0x1c4")]);d=this[_0x1d97("0x31b")][_0x1d97("0x3db")](_,x.mode)}else{var e=this[_0x1d97("0x2f9")](x[_0x1d97("0x960")]),t=this[_0x1d97("0x2f9")](x[_0x1d97("0x961")]);d=this[_0x1d97("0x31b")][_0x1d97("0x3d6")](e,t)}if(x[_0x1d97("0x962")]&&d){if(!this[_0x1d97("0x31b")][_0x1d97("0x963")]){var a=document.createElement(_0x1d97("0x4a1"));a[_0x1d97("0x328")]=64,a[_0x1d97("0x1b5")]=64;var i=a[_0x1d97("0x84b")]("2d");i[_0x1d97("0x858")](),i.arc(32,32,20,0,360,!1),i[_0x1d97("0x86f")]=_0x1d97("0x964"),i[_0x1d97("0x33a")](),i[_0x1d97("0x119")]=20,i[_0x1d97("0x965")]=_0x1d97("0x966"),i[_0x1d97("0x967")]=.2,i[_0x1d97("0x968")](),i.closePath();var n=new THREE.Texture(a),s=new(THREE[_0x1d97("0x29f")]);s[_0x1d97("0xa7")]=new THREE.SpriteMaterial({map:n,depthTest:!1,sizeAttenuation:!1}),s[_0x1d97("0x234")]=101,s[_0x1d97("0x237")].multiplyScalar(.02),s[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x13b")]=!0,this[_0x1d97("0x31b")][_0x1d97("0x963")]=s,this[_0x1d97("0x16d")][_0x1d97("0x305")][_0x1d97("0xdc")](s)}x[_0x1d97("0x36")]==_0x1d97("0x1b5")?this[_0x1d97("0x31b")].cubeTip[_0x1d97("0xb6")].copy(d):this.rayPointer[_0x1d97("0x963")][_0x1d97("0xb6")][_0x1d97("0x267")](d[_0x1d97("0x3e0")])}return"height"==x[_0x1d97("0x36")]?d?d.y:null:d||null}},{key:_0x1d97("0x969"),value:function(){var x=this[_0x1d97("0x280")][_0x1d97("0xc")][_0x1d97("0xb6")][_0x1d97("0x25d")](this[_0x1d97("0x280")].target),d=this[_0x1d97("0x16d")].getCenter();return{directionAngle:1*this[_0x1d97("0x252")][_0x1d97("0x55f")](1),pitchAngle:1*this[_0x1d97("0x8c1")].toFixed(1),radius:1*x[_0x1d97("0x55f")](1),x:1*d.x[_0x1d97("0x55f")](1),y:1*d.y.toFixed(1),z:1*this.controls[_0x1d97("0x27e")].y[_0x1d97("0x55f")](1)}}},{key:_0x1d97("0x30d"),value:function(){return this[_0x1d97("0x16d")][_0x1d97("0x30d")]()}},{key:_0x1d97("0x96a"),value:function(){return this[_0x1d97("0x16d")].getCenterLonLat()}},{key:_0x1d97("0x96b"),value:(z=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _,e,t,n=this;return i.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:if((d=(0,r[_0x1d97("0x1c")])({fnum:null,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,clockwise:!0,delay:0,time:1},d)).clockwise||(d[_0x1d97("0x96c")]=360-d[_0x1d97("0x96c")]),!d[_0x1d97("0x1b4")]){x[_0x1d97("0x2a8")]=6;break}return x[_0x1d97("0x2a8")]=6,new(a[_0x1d97("0x1c")])((function(x){setTimeout(x,1e3*d.delay)}));case 6:if(d.z||(d.z=0),_=0,!d.fnum){x[_0x1d97("0x2a8")]=18;break}if(d.bid||(d[_0x1d97("0xe5")]=this.id),this[_0x1d97("0xee")](d.bid)){x[_0x1d97("0x2a8")]=15;break}return x[_0x1d97("0x2a8")]=13,new a.default((function(x){n.openBuildingById(d[_0x1d97("0xe5")]),n[_0x1d97("0x1d0")](_0x1d97("0x918"),(function(){var e=n[_0x1d97("0xee")](d.bid);e.changeFocusFloor(d[_0x1d97("0xe8")]),_=e[_0x1d97("0x2f8")](d.fnum),x()}))}));case 13:x[_0x1d97("0x2a8")]=18;break;case 15:(e=this[_0x1d97("0xee")](d[_0x1d97("0xe5")]))[_0x1d97("0x96d")](d[_0x1d97("0xe8")]),_=e[_0x1d97("0x2f8")](d.fnum);case 18:return null!=d[_0x1d97("0x22e")]?d[_0x1d97("0x58b")]=(this[_0x1d97("0x896")][d[_0x1d97("0x22e")]]+1e-4)*this[_0x1d97("0x280")][_0x1d97("0x96e")]:null==d[_0x1d97("0x58b")]&&(d[_0x1d97("0x58b")]=this[_0x1d97("0x280")][_0x1d97("0x559")]()),t=this[_0x1d97("0x2f9")]({x:d.x,y:d.y,z:d.z+_}),d[_0x1d97("0x96f")]=d[_0x1d97("0x96f")]<=1?1:d[_0x1d97("0x96f")],x[_0x1d97("0x2ae")](_0x1d97("0x2af"),new a.default((function(x){n.flyController.flyFocusTo({targetPos:t,radius:d.radius,pitchAngle:d[_0x1d97("0x96f")],directionAngle:d.directionAngle,time:d.time,callback:function(){d.callback&&d[_0x1d97("0x1c2")](),x()}})})));case 22:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return z.apply(this,arguments)})},{key:"highlightBuildingById",value:function(x){var d=this;d.selectNull(),esmap[_0x1d97("0x75")].search(this,_0x1d97("0x203"),{ID:x},(function(x){if(x[_0x1d97("0x0")]>0){var _=x[0],e=d[_0x1d97("0x970")],t=document[_0x1d97("0x971")](e[_0x1d97("0x972")]);t[_0x1d97("0x331")]="",e.popDiv_.style[_0x1d97("0xe2")]=0,_[_0x1d97("0xb8")]?(e[_0x1d97("0x254")]({x:_.mapCoord.x,y:_[_0x1d97("0x3cb")].y,time:.01,callback:function(){e[_0x1d97("0x973")][_0x1d97("0xb6")].y=_[_0x1d97("0x974")]+20,setTimeout((function(){t[_0x1d97("0x331")]=_[_0x1d97("0xb8")],e[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=1}),1)}}),e[_0x1d97("0xe5")]=_[_0x1d97("0xe5")]):e[_0x1d97("0x975")][_0x1d97("0x22")].opacity=0,d[_0x1d97("0x976")](_)}}))}},{key:_0x1d97("0x977"),value:function(x){var d=x,_=.2,e=null;x instanceof Object&&(d=x[_0x1d97("0x257")],_=x[_0x1d97("0x255")]||.2,e=x.callback||null),new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this).to({tiltAngle:d},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x1bb")].Out)[_0x1d97("0x12e")]((function(x){}))[_0x1d97("0x1bd")]((function(){e&&e()})).start()}},{key:_0x1d97("0x8c4"),value:function(x){var d=this;if(this[_0x1d97("0x36")]!=esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var _=void 0;if(_=(x=(0,r[_0x1d97("0x1c")])({value:0,time:1,emitError:!1,raw:!1,onComplete:null},x))[_0x1d97("0x978")]?x.value:this[_0x1d97("0x896")][x.value],x[_0x1d97("0x979")]||null!=_){var e=this[_0x1d97("0x280")][_0x1d97("0x97b")]();O&&(O[_0x1d97("0x1af")](),O=null),O=new(esmap[_0x1d97("0x1b7")].Tween)({value:e}).to({value:_},1e3*x.time).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x){d[_0x1d97("0x280")].setScaleLevelValue(x[_0x1d97("0xf1")])})).onComplete((function(){x[_0x1d97("0x1bd")]&&x[_0x1d97("0x1bd")](),O=null}))[_0x1d97("0x1c1")]()}else console[_0x1d97("0x245")]("æªæ¾å°scaleLevelä¸º"+x[_0x1d97("0xf1")]+_0x1d97("0x97a"))}}},{key:_0x1d97("0x97c"),value:function(x,d){var _=this;x=THREE[_0x1d97("0x24e")].clamp(x,0,_.scaleLevels_.length-1),d=THREE.Math[_0x1d97("0x688")](d,0,_.scaleLevels_.length-1),_[_0x1d97("0x97d")]=x,_.maxScaleLevel_=d,_.controls[_0x1d97("0x97e")](_[_0x1d97("0x896")][x],_.scaleLevels_[d]),_.scaleLevel=_.scaleLevels_[Math[_0x1d97("0xb0")]((x+d)/2)]}},{key:_0x1d97("0x97f"),value:function(){this.scaleLevel>0&&this[_0x1d97("0x8c4")]({value:this.scaleLevel-1})}},{key:_0x1d97("0x980"),value:function(){this[_0x1d97("0x22e")]<this[_0x1d97("0x896")][_0x1d97("0x0")]-1&&this[_0x1d97("0x8c4")]({value:this[_0x1d97("0x22e")]+1})}},{key:"zoomIn",value:function(x){this[_0x1d97("0x280")][_0x1d97("0x981")](x)}},{key:_0x1d97("0x982"),value:function(x){this.controls[_0x1d97("0x983")](x)}},{key:"setBackgroundImage",value:function(x){x?(this[_0x1d97("0x16d")][_0x1d97("0x305")].background=esmap[_0x1d97("0x75")].loadTexture(x),this[_0x1d97("0x16d")][_0x1d97("0x305")].background[_0x1d97("0x13b")]=!0):(this[_0x1d97("0x16d")][_0x1d97("0x305")][_0x1d97("0x984")]=null,this[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x60c")](this.mapTheme[_0x1d97("0x8fd")],this[_0x1d97("0xf6")].clearTrans_))}},{key:_0x1d97("0x8fc"),value:function(x,d){if(esmap.ESMap[_0x1d97("0x8ed")])return this[_0x1d97("0xf6")][_0x1d97("0x8fb")]=x,void this[_0x1d97("0x16d")][_0x1d97("0x5e8")].setClearColor(x);!1!==x?this[_0x1d97("0x16d")][_0x1d97("0x5e8")].setClearColor(x,d):this[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x60c")](this[_0x1d97("0xf6")].clearColor_,this[_0x1d97("0xf6")][_0x1d97("0x8fa")])}},{key:_0x1d97("0x985"),value:function(x,d){var _=null==d?1:d;this[_0x1d97("0xf6")].selectModelMat[_0x1d97("0x100")][_0x1d97("0x11b")](x),this.mapTheme[_0x1d97("0x3fe")][_0x1d97("0x2cc")].set(x),this[_0x1d97("0xf6")].selectModelMat[_0x1d97("0xe2")]=_,this[_0x1d97("0x899")]=_}},{key:"splitGroup",value:function(x,d,_,e,t){var a,i=d-x,n=[];e.forEach((function(x){n[_0x1d97("0x1")]({start:x[_0x1d97("0x1c1")],count:x.count,materialIndex:x[_0x1d97("0x412")]})}));for(var r=0;r<n[_0x1d97("0x0")];r++){var s=n[r],o=s[_0x1d97("0x1c1")]+s[_0x1d97("0xb7")];if(x>=s[_0x1d97("0x1c1")]&&x<o&&s[_0x1d97("0x412")]!=_){if(s[_0x1d97("0xb7")]>=i){t&&(this[_0x1d97("0x417")]=s.materialIndex),n[_0x1d97("0x189")](r,1),x>s[_0x1d97("0x1c1")]&&n[_0x1d97("0x1")]({start:s[_0x1d97("0x1c1")],count:x-s.start,materialIndex:s[_0x1d97("0x412")]}),n[_0x1d97("0x1")]({start:x,count:i,materialIndex:_}),d<o&&n.push({start:d,count:o-d,materialIndex:s[_0x1d97("0x412")]});break}n[r].materialIndex=_}}n.sort((a=_0x1d97("0x1c1"),function(x,d){return x[a]-d[a]}));for(var c=0;c<n.length-1;c++)n[c].materialIndex==n[c+1][_0x1d97("0x412")]&&(n[c][_0x1d97("0xb7")]+=n[c+1].count,n[_0x1d97("0x189")](c+1,1),c--);return n}},{key:_0x1d97("0x986"),value:function(x,d,_,e){var t=this;this[_0x1d97("0xf6")][_0x1d97("0x987")][d]?x():_?this[_0x1d97("0x8f3")][_0x1d97("0x988")](d,e,(function(_){_&&(t[_0x1d97("0xf6")][_0x1d97("0x989")](d,_),x())})):this.buildingService[_0x1d97("0x98a")](d,e,(function(_){t.mapTheme.setThemeList(d,_),x()}))}},{key:_0x1d97("0x976"),value:function(x,d,_){if(x&&x[_0x1d97("0xa3")]&&x[_0x1d97("0xa3")][_0x1d97("0xa5")]){var e=this;null==d&&(d=!0);var t=x[_0x1d97("0xa3")][_0x1d97("0xa5")][_0x1d97("0x410")],a=x.o3d_[_0x1d97("0x11e")].selectMatIndex,i=x[_0x1d97("0xbb")][0],n=x[_0x1d97("0xbb")][1];if(1==x[_0x1d97("0x186")]){var r=1;0==d&&(r=0);for(var s=x[_0x1d97("0xa3")][_0x1d97("0xa5")].attributes[_0x1d97("0x98b")][_0x1d97("0x19d")],o=i;o<n;o+=1)s[o]=r;return x.o3d_[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x98b")].needsUpdate=!0,void(d&&!_&&(e[_0x1d97("0x98c")](),e[_0x1d97("0x885")][_0x1d97("0x1")](x)))}x[_0x1d97("0xa3")][_0x1d97("0xa5")][_0x1d97("0x411")]();if(0!=d){x[_0x1d97("0x4b6")]?x[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x1")](e[_0x1d97("0x16c")].mapTheme_[_0x1d97("0x3fe")]):x[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x1")](e[_0x1d97("0x16c")][_0x1d97("0x183")][_0x1d97("0x3fe")]),x.o3d_[_0x1d97("0xa7")][0].userData.slots&&x[_0x1d97("0xa3")][_0x1d97("0xa7")][0][_0x1d97("0x38")]&&!x[_0x1d97("0xa3")].material[1]&&(x[_0x1d97("0xa3")][_0x1d97("0xa7")][x[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x0")]-1]=e[_0x1d97("0x16c")].mapTheme_[_0x1d97("0x3fe")][_0x1d97("0xdb")](),t=x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x410")],a=1,x.o3d_[_0x1d97("0xa7")][a].map=x[_0x1d97("0xa3")].material[0][_0x1d97("0x38")].clone(),x[_0x1d97("0xa3")][_0x1d97("0xa7")][a][_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(0,0,0),x[_0x1d97("0xa3")].material[a][_0x1d97("0x38")][_0x1d97("0x13b")]=!0,x[_0x1d97("0xa3")][_0x1d97("0xa7")][a].needsUpdate=!0),a=x[_0x1d97("0xa3")][_0x1d97("0xa7")].length-1;x[_0x1d97("0xa3")].geometry[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")];e.splitGroup(i,n,a,t,true).forEach((function(d){x[_0x1d97("0xa3")].geometry[_0x1d97("0x1a2")](d[_0x1d97("0x1c1")],d[_0x1d97("0xb7")],d[_0x1d97("0x412")])})),d&&!_&&(e[_0x1d97("0x98c")](),e.lastSelectStore[_0x1d97("0x1")](x))}else{for(var c=0;c<x[_0x1d97("0xa3")].material.length;c++)if(x[_0x1d97("0xa3")][_0x1d97("0xa7")][c]&&x[_0x1d97("0xa3")][_0x1d97("0xa7")][c][_0x1d97("0xb8")]==_0x1d97("0x98d")){x[_0x1d97("0xa3")][_0x1d97("0xa7")][c][_0x1d97("0x38")]&&x[_0x1d97("0xa3")].material[c][_0x1d97("0x38")][_0x1d97("0xa6")]()&&(x.o3d_.material[c][_0x1d97("0x38")]=null),x[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x189")](c,1);break}e[_0x1d97("0x414")](i,n,e[_0x1d97("0x417")],t,true)[_0x1d97("0x1d")]((function(d){x[_0x1d97("0xa3")].geometry[_0x1d97("0x1a2")](d[_0x1d97("0x1c1")],d[_0x1d97("0xb7")],d[_0x1d97("0x412")])}))}}}},{key:_0x1d97("0x588"),value:function(x){for(var d=[][_0x1d97("0x1de")](this.mapScene[_0x1d97("0x90f")][_0x1d97("0xa4")]),_=0;_<d.length;_++)if(d[_][_0x1d97("0xa2")].id==x)return d[_][_0x1d97("0xa2")]}},{key:"ol",value:function(x,d){if(d==this.id){var _=this[_0x1d97("0x2aa")][_0x1d97("0x827")][x]||[],e=[];return _.map((function(x){var d=[];x[_0x1d97("0x1d")]((function(x){d[_0x1d97("0x1")]({x:-x.x,y:x.y})})),e.push(d)})),e}}},{key:_0x1d97("0x98e"),value:function(x,d){var _=esmap[_0x1d97("0x75")].toColor(d);switch(x){case esmap[_0x1d97("0xea")].MODEL:this[_0x1d97("0xf6")].selectModelMat[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(d);break;case esmap[_0x1d97("0xea")][_0x1d97("0x98f")]:this[_0x1d97("0xf6")][_0x1d97("0x990")]=_;break;case esmap[_0x1d97("0xea")][_0x1d97("0x991")]:case esmap[_0x1d97("0xea")][_0x1d97("0xeb")]:this[_0x1d97("0xf6")][_0x1d97("0x992")]=_}}},{key:"toggleTileBuildings",value:function(x){x?(this[_0x1d97("0xf6")].modelBasicMat[_0x1d97("0x1d")]((function(x){x&&(x[_0x1d97("0xf0")]=!0)})),this[_0x1d97("0x2aa")][_0x1d97("0x90e")]=!1):(this.mapService._disableTileUpdate=!0,this.mapTheme[_0x1d97("0x91d")][_0x1d97("0x1d")]((function(x){x&&(x[_0x1d97("0xf0")]=!1)})))}},{key:"highLightArea",value:function(x){var d=this,_=esmap.ESMapUtil.getTileNumsByPolygon(x);_[_0x1d97("0x1d")]((function(x){d[_0x1d97("0x18c")].userTiles[_0x1d97("0x1")](x)}));var e=[];this[_0x1d97("0x585")].forEach((function(x){-1==_.indexOf(x.id)&&e[_0x1d97("0x1")](x.id)}));for(var t=this[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")],a=0;a<t.length;a++){var i=t[a];e.includes(i.datas_.id)&&(i[_0x1d97("0xf0")]=!1,this[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0x149")](i),a--,this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x993")][_0x1d97("0xd7")](i[_0x1d97("0xa2")])<0&&this[_0x1d97("0x18c")][_0x1d97("0x994")](i[_0x1d97("0xa2")]),this[_0x1d97("0x1d9")](_0x1d97("0x995"),{bid:i.datas_.id}))}}},{key:_0x1d97("0x996"),value:function(){this[_0x1d97("0x18c")][_0x1d97("0x997")]=[],this[_0x1d97("0x2ef")]()}},{key:_0x1d97("0x998"),value:function(x){var d=this,_=_0x1d97("0xb8"),e=[].concat(x[_0x1d97("0xb8")]);x[_0x1d97("0xb8")]||(e=[][_0x1d97("0x1de")](x.id),_="ID");var a=x[_0x1d97("0x295")]||!1,i=x[_0x1d97("0xe2")],n=x[_0x1d97("0x1b4")]||0,r=null==x.time?.8:x[_0x1d97("0x255")],s=null!=x[_0x1d97("0x577")]&&x[_0x1d97("0x577")];setTimeout((function(){esmap[_0x1d97("0x75")][_0x1d97("0x53e")](d,_0x1d97("0x203"),(0,t[_0x1d97("0x1c")])({nodeType:6},_,e),(function(d){for(var _=0;_<d.length;_++)esmap[_0x1d97("0x75")][_0x1d97("0x294")]({target:d[_].o3d_,time:r,alpha:i,hideOnComplete:s,clonemat:a,visible:x[_0x1d97("0xf0")]})}))}),1e3*n)}},{key:_0x1d97("0x578"),value:function(){return this[_0x1d97("0xee")](this.id)}},{key:_0x1d97("0xee"),value:function(x){if(this[_0x1d97("0x16c")][_0x1d97("0x999")]&&(0==x||x==this.id))return this[_0x1d97("0x16c")].userScene;for(var d=[][_0x1d97("0x1de")](this.mapScene[_0x1d97("0x920")].children),_=0;_<d[_0x1d97("0x0")];_++)if(d[_][_0x1d97("0xa2")].id==x)return d[_][_0x1d97("0xa2")];return null}},{key:"storeModelSelected",value:function(x,d,_){var e=this;null==d&&(d=!0),d&&!_&&(e[_0x1d97("0x99a")](),e[_0x1d97("0x3cf")].push(x));var t=e[_0x1d97("0xf6")][_0x1d97("0x99b")];x[_0x1d97("0xa2")][_0x1d97("0xc7")]==esmap[_0x1d97("0xea")].POLYGON_MARKER&&(t=e.mapTheme[_0x1d97("0x990")]);var a=x[_0x1d97("0x11e")][_0x1d97("0x99c")];x[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")])if(x[_0x1d97("0xa7")]instanceof Array)if(a)x[_0x1d97("0xa7")][0].userData[_0x1d97("0x99d")]||(x[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0x99d")]=x[_0x1d97("0xa7")][0][_0x1d97("0x2cc")][_0x1d97("0xdb")]()),d?x[_0x1d97("0xa7")][0][_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(t):(x[_0x1d97("0xa7")][0].emissive=x[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0x99d")],x[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0x99d")]=null);else for(var _=0;_<x[_0x1d97("0xa7")].length;_++){var e=x[_0x1d97("0xa7")][_][_0x1d97("0xdb")]();e[_0x1d97("0x2")](_0x1d97("0x2cc"))&&(e[_0x1d97("0x11e")].originEMS||(e.userData[_0x1d97("0x99d")]=e[_0x1d97("0x2cc")][_0x1d97("0xdb")]()),e[_0x1d97("0x2cc")]=d?new(THREE[_0x1d97("0x101")])(t):e[_0x1d97("0x11e")][_0x1d97("0x99d")]instanceof THREE[_0x1d97("0x101")]?e.userData.originEMS:new(THREE[_0x1d97("0x101")])(e[_0x1d97("0x11e")][_0x1d97("0x99d")]),x[_0x1d97("0xa7")][_]=e,e[_0x1d97("0x13b")]=!0)}else{var i=x.material;i[_0x1d97("0x11e")][_0x1d97("0x3f8")]||((i=i[_0x1d97("0xdb")]())[_0x1d97("0x11e")][_0x1d97("0x3f8")]=!0,x[_0x1d97("0xa7")]=i),i.hasOwnProperty(_0x1d97("0x2cc"))?(d?(i[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x99d"))||(i.userData[_0x1d97("0x99d")]=x.material.emissive[_0x1d97("0x49b")]()),i[_0x1d97("0x2cc")]=new THREE.Color(t)):i[_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(i.userData[_0x1d97("0x99d")]),x.material[_0x1d97("0x13b")]=!0):(d?x[_0x1d97("0x99e")]?(i[_0x1d97("0x11e")].lastColor||(i[_0x1d97("0x11e")].lastColor=x[_0x1d97("0x100")]),x[_0x1d97("0x100")]=t):(i[_0x1d97("0x11e")][_0x1d97("0x99f")]||(i[_0x1d97("0x11e")][_0x1d97("0x99f")]=i.color[_0x1d97("0xdb")]()),i[_0x1d97("0x100")]=new THREE.Color(t)):null!=i[_0x1d97("0x11e")][_0x1d97("0x99f")]&&(x[_0x1d97("0x99e")]?(x[_0x1d97("0x100")]=i[_0x1d97("0x11e")].lastColor,i[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(1,1,1)):i[_0x1d97("0x100")]=new THREE.Color(i[_0x1d97("0x11e")].lastColor),i[_0x1d97("0x11e")][_0x1d97("0x99f")]=null),x[_0x1d97("0x99e")]||(x.material=i),x.material[_0x1d97("0x13b")]=!0)}})),d?(x.userData[_0x1d97("0x9a0")]=!0,x[_0x1d97("0x234")]+=1):(x[_0x1d97("0x11e")].isSelected=!1,x[_0x1d97("0x234")]-=1)}},{key:_0x1d97("0x99a"),value:function(){var x=this;x[_0x1d97("0x3cf")].forEach((function(d){d[_0x1d97("0xa2")]&&d[_0x1d97("0xa2")][_0x1d97("0xc7")]==esmap[_0x1d97("0xea")][_0x1d97("0x98f")]&&d[_0x1d97("0xa2")][_0x1d97("0x9a1")]&&(d[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x122")]=d.datas_[_0x1d97("0x9a1")][_0x1d97("0x22")].fixedWidth,d[_0x1d97("0xa2")].line[_0x1d97("0x119")]=d.datas_[_0x1d97("0x9a1")][_0x1d97("0x9a2")]||d[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x22")][_0x1d97("0x119")],d[_0x1d97("0xa2")].line.geometry.setRadius?d[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0xa5")][_0x1d97("0x9a3")](d[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0xa5")][_0x1d97("0x9a4")]):d[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x134")]()),x[_0x1d97("0x9a5")](d,!1)})),x[_0x1d97("0x3cf")][_0x1d97("0x0")]=0;var d=x[_0x1d97("0xee")](0);d[_0x1d97("0x14f")][_0x1d97("0x57f")].lastSelectNode&&d[_0x1d97("0x14f")].GLTFMergeTool[_0x1d97("0x415")]()}},{key:_0x1d97("0x9a6"),value:function(x){x[_0x1d97("0x9a7")]}},{key:_0x1d97("0x9a8"),value:function(x){if(x){var d="",_=document[_0x1d97("0x971")](this[_0x1d97("0x970")].spanId);_&&(d=_.innerHTML),this[_0x1d97("0x970")][_0x1d97("0x9a9")]||(this[_0x1d97("0x970")][_0x1d97("0x9a9")]=this[_0x1d97("0x970")][_0x1d97("0x975")].innerHTML),this[_0x1d97("0x970")][_0x1d97("0x975")][_0x1d97("0x331")]=x;var e=document[_0x1d97("0x971")](this[_0x1d97("0x970")][_0x1d97("0x972")]);e&&(e[_0x1d97("0x331")]=d)}}},{key:_0x1d97("0x9aa"),value:function(){this[_0x1d97("0x970")][_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=0}},{key:_0x1d97("0x98c"),value:function(){var x=this;x[_0x1d97("0x885")][_0x1d97("0x1d")]((function(d){x[_0x1d97("0x976")](d,!1)})),x[_0x1d97("0x885")][_0x1d97("0x0")]=0}},{key:_0x1d97("0x9ab"),value:function(x,d,_){_=_||0;var e=esmap[_0x1d97("0x75")][_0x1d97("0x53e")](this,_,{types:[_0x1d97("0x223"),_0x1d97("0x224")],ID:x});if(0!=e[_0x1d97("0x0")]){var t=e[0];if(t[_0x1d97("0xc7")]==esmap[_0x1d97("0xea")][_0x1d97("0x574")]){for(var a=t[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x410")],i=(t[_0x1d97("0xa3")][_0x1d97("0xa5")][_0x1d97("0xb5")].position[_0x1d97("0xb7")],t.faceRange[0]),n=(t[_0x1d97("0xbb")][1],null),r=0;r<a.length;r++)if(i>=a[r][_0x1d97("0x1c1")]&&i<a[r][_0x1d97("0x1c1")]+a[r].count){n=a[r][_0x1d97("0x412")];break}t[_0x1d97("0xa3")][_0x1d97("0xa7")][n].userData[_0x1d97("0x9ac")]=t[_0x1d97("0xa3")].material[n][_0x1d97("0xe2")],t[_0x1d97("0xa3")][_0x1d97("0xa7")][n][_0x1d97("0xe2")]=d}else{[][_0x1d97("0x1de")](t.o3d_[_0x1d97("0xa7")])[_0x1d97("0x1d")]((function(x){var _=x[_0x1d97("0xe2")];x[_0x1d97("0x11e")].originalOp=_,x[_0x1d97("0xe2")]=d}))}}}},{key:_0x1d97("0x9ad"),value:function(x){this[_0x1d97("0x9ae")][_0x1d97("0x9af")](x)}},{key:_0x1d97("0x9b0"),value:function(x){this[_0x1d97("0x9ae")][_0x1d97("0x9b1")](x)}},{key:_0x1d97("0x9b2"),value:function(x,d){d=d||0;var _=esmap[_0x1d97("0x75")][_0x1d97("0x53e")](this,d,{types:["model",_0x1d97("0x224")],ID:x});if(0!=_[_0x1d97("0x0")]){var e=_[0];if(e[_0x1d97("0xc7")]==esmap[_0x1d97("0xea")][_0x1d97("0x574")]){for(var t=0;t<e[_0x1d97("0xa3")].material[_0x1d97("0x0")];t++)if(_0x1d97("0x9ac")in e[_0x1d97("0xa3")][_0x1d97("0xa7")][t][_0x1d97("0x11e")]){e.o3d_.material[t][_0x1d97("0xe2")]=e.o3d_.material[t][_0x1d97("0x11e")][_0x1d97("0x9ac")],delete e[_0x1d97("0xa3")][_0x1d97("0xa7")][t][_0x1d97("0x11e")][_0x1d97("0x9ac")];break}}else[][_0x1d97("0x1de")](e.o3d_[_0x1d97("0xa7")]).forEach((function(x){x[_0x1d97("0xe2")]=x[_0x1d97("0x11e")][_0x1d97("0x9ac")],delete x[_0x1d97("0x11e")][_0x1d97("0x9ac")]}))}}},{key:_0x1d97("0x9b3"),value:function(x){return!this[_0x1d97("0x9b4")]||this.pickFilterFunction(x)}},{key:"initScene",value:function(){this[_0x1d97("0x88d")][_0x1d97("0x430")]();var x=this[_0x1d97("0x16c")][_0x1d97("0x9b5")]();this[_0x1d97("0x16d")][_0x1d97("0x305")][_0x1d97("0xdc")](x)}},{key:_0x1d97("0x9b6"),value:function(x){for(var d=0;d<this[_0x1d97("0x18c")][_0x1d97("0x993")].length;d++)if(this[_0x1d97("0x18c")][_0x1d97("0x993")][d].id==x)return this.tileService.cachedTiles[d]}},{key:_0x1d97("0x9b7"),value:function(x){var d=this,_=x.id,e=x[_0x1d97("0x14e")];9568297==this.sl()&&this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x9b8")](_,(function(x,t){t[_0x1d97("0x14e")]=e,t[_0x1d97("0xe7")]=[t[_0x1d97("0x165")].x,t[_0x1d97("0x165")].y];var a=d[_0x1d97("0x9b9")][_0x1d97("0x28")](",");t[_0x1d97("0xa3")][_0x1d97("0xb6")][_0x1d97("0x11b")](0+1*a[0]-0,1*a[1],0+1*a[2]+0),d[_0x1d97("0x16c")][_0x1d97("0x9ba")]()[_0x1d97("0xdc")](t.o3d_),t[_0x1d97("0x15b")](1),d[_0x1d97("0x18c")].queryNavs(_,d[_0x1d97("0x35")],_)}),(function(x){d[_0x1d97("0x18c")][_0x1d97("0x9bb")][_]=!0,d.tileService.solvingList[_0x1d97("0x189")](d[_0x1d97("0x18c")].solvingList.indexOf(_),1),esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]=!1,d.tileService[_0x1d97("0x9bc")][_]=!0,d[_0x1d97("0x18c")].queryNavs(_,d[_0x1d97("0x35")],_),d[_0x1d97("0x1d0")](_0x1d97("0x9bd"),(function(x){if(d.tileService[_0x1d97("0x9bc")][x]){var _=x[_0x1d97("0x28")]("_"),t=(0,g[_0x1d97("0xa1")])(1*_[0],1*_[1],d[_0x1d97("0x35")][_0x1d97("0x1c6")],!0),a=(t[_0x1d97("0xaa")]-t.minx)/2+t[_0x1d97("0xad")],i=(t.maxy-t[_0x1d97("0xae")])/2+t[_0x1d97("0xae")],n=new(m[_0x1d97("0x1c")])({id:x,map:d});n.center=[a,i],n[_0x1d97("0x14e")]=e;var r=d[_0x1d97("0x9b9")][_0x1d97("0x28")](",");n.o3d_[_0x1d97("0xb6")][_0x1d97("0x11b")](0+1*r[0]-0,1*r[1],0+1*r[2]+0),d[_0x1d97("0x16c")][_0x1d97("0x9ba")]()[_0x1d97("0xdc")](n[_0x1d97("0xa3")]),d[_0x1d97("0x18c")][_0x1d97("0x9bc")][x]=null,d.tileLoadComplete_(n)}})),0==d[_0x1d97("0x18c")][_0x1d97("0x908")][_0x1d97("0x0")]&&0==d[_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0x0")]&&(d.fire(_0x1d97("0x9be")),d[_0x1d97("0x9bf")]||0!==d[_0x1d97("0x585")][_0x1d97("0x0")]||(esmap.ESMap.IsMapLoading=!1,d[_0x1d97("0x1d9")](_0x1d97("0x8a8"),{bid:d.id}),d[_0x1d97("0x9bf")]=!0))}))}},{key:_0x1d97("0x9c0"),value:function(x){this[_0x1d97("0x2aa")][_0x1d97("0x9c1")].applyToNavLib(x)}},{key:"setUserGenLangLib",value:function(x){this.mapService.langLib.applyToGeneralLib(x)}},{key:_0x1d97("0x9c2"),value:function(){return this[_0x1d97("0x2aa")][_0x1d97("0x9c1")][_0x1d97("0x9c3")][_0x1d97("0x1c")]}},{key:_0x1d97("0x9c4"),value:function(){return this[_0x1d97("0x2aa")][_0x1d97("0x9c1")][_0x1d97("0x9c5")][_0x1d97("0x1c")]}},{key:_0x1d97("0x9c6"),value:(R=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _,e,t,n,r,s,o,c,l,u,f,h,b,g;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:if(!esmap[_0x1d97("0x33")].IsMapLoading){x[_0x1d97("0x2a8")]=2;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 2:if(_=this,e=this.getBuildingById(d)){x[_0x1d97("0x2a8")]=7;break}return console[_0x1d97("0x246")](_0x1d97("0x9c7")),x.abrupt("return");case 7:return t=e[_0x1d97("0x14e")],this[_0x1d97("0x1d9")](_0x1d97("0x9c8"),{bid:d,type:t}),n=this.currentCamera[_0x1d97("0xb6")].y,r=this[_0x1d97("0x280")][_0x1d97("0x27e")].y,x[_0x1d97("0x2a8")]=13,new(a[_0x1d97("0x1c")])((function(x){new esmap.TWEEN.Tween(_[_0x1d97("0x280")].target).to({y:0},300)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x12e")]((function(x){_.currentCamera[_0x1d97("0xb6")].y=n-(r-x.y),_[_0x1d97("0x280")].update()})).onComplete(x)[_0x1d97("0x1c1")]()}));case 13:s=0;case 14:if(!(s<this.buildingList.length)){x[_0x1d97("0x2a8")]=21;break}if(this[_0x1d97("0x57d")][s].id!=d){x.next=18;break}return this[_0x1d97("0x57d")].splice(s,1),x[_0x1d97("0x2ae")](_0x1d97("0x9c9"),21);case 18:s++,x.next=14;break;case 21:if(e[_0x1d97("0x9ca")],(o=e[_0x1d97("0xa3")])[_0x1d97("0xf0")]=!1,c=e[_0x1d97("0x91f")])if(6==c[_0x1d97("0xc7")])c.o3d_?c[_0x1d97("0xa3")][_0x1d97("0xa2")][_0x1d97("0x33d")]&&c[_0x1d97("0xa3")].datas_[_0x1d97("0x33d")].length>1?c.o3d_.children.forEach((function(x){e[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x953")](x,c.ID,!0)})):(c[_0x1d97("0xa3")][_0x1d97("0xf0")]=!0,esmap.ESMapUtil.setAlpha({target:c[_0x1d97("0xa3")],alpha:!1})):c[_0x1d97("0xf0")]=!0;else if(5==c[_0x1d97("0xc7")]){for(l=c[_0x1d97("0xa3")].geometry[_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x19d")],u=c[_0x1d97("0xbb")],f=u[0];f<u[1];f+=1)l[f]=0;c[_0x1d97("0xa3")][_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x13b")]=!0}if(!e[_0x1d97("0x9cb")]||0!=B){x.next=29;break}return x[_0x1d97("0x2a8")]=29,e[_0x1d97("0x9cc")]();case 29:this[_0x1d97("0x35")].buildingCache?(this.tileService.cacheBuildings[e.id]=o,this[_0x1d97("0x16c")][_0x1d97("0x920")][_0x1d97("0x149")](o)):(e[_0x1d97("0x38")]=void 0,e.meshHandler=void 0,e[_0x1d97("0x165")]=void 0,e[_0x1d97("0x576")]=void 0,this[_0x1d97("0x16c")][_0x1d97("0x920")][_0x1d97("0x149")](o),o=void 0),this[_0x1d97("0x35")][_0x1d97("0x9cd")]||this[_0x1d97("0x146")][_0x1d97("0x147")][d]&&(this[_0x1d97("0x146")][_0x1d97("0x147")][d]=void 0,delete this[_0x1d97("0x146")][_0x1d97("0x147")][d]),x.t0=i[_0x1d97("0x1c")].keys(this[_0x1d97("0x18c")][_0x1d97("0x530")]);case 32:if((x.t1=x.t0())[_0x1d97("0x3e8")]){x[_0x1d97("0x2a8")]=40;break}if((h=x.t1[_0x1d97("0xf1")])!=d){x[_0x1d97("0x2a8")]=38;break}return this.tileService.bidList[h][_0x1d97("0x9ce")]&&(this[_0x1d97("0x18c")].bidList[h][_0x1d97("0x9ce")]=!1),this[_0x1d97("0x18c")][_0x1d97("0x530")][h][_0x1d97("0x9cf")]=!0,x[_0x1d97("0x2ae")](_0x1d97("0x9c9"),40);case 38:x[_0x1d97("0x2a8")]=32;break;case 40:for(this[_0x1d97("0x1d9")](_0x1d97("0x9d0"),{bid:d,type:t}),b=0;b<this[_0x1d97("0x57d")][_0x1d97("0x0")];b++)(g=this[_0x1d97("0x57d")][b])[_0x1d97("0xa3")]&&1!=g[_0x1d97("0xa3")][_0x1d97("0x237")].y&&new(esmap.TWEEN[_0x1d97("0x1b8")])(g.o3d_[_0x1d97("0x237")]).to({y:1},1e3)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")].Quadratic.Out).start();0===this[_0x1d97("0x57d")][_0x1d97("0x0")]&&this.fire("closeAllBuildings");case 43:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return R.apply(this,arguments)})},{key:_0x1d97("0x9d1"),value:function(x){for(var d,_=[],e=x[_0x1d97("0xa3")],t=x.faceRange[0];t<x.faceRange[1];t++){var a=e[_0x1d97("0xa5")][_0x1d97("0x9d4")][t];!a[_0x1d97("0xf9")].x&&!a[_0x1d97("0xf9")].y&&a.normal.z<0&&_[_0x1d97("0x1")](a.a,a.b,a.c)}_=(0,b[_0x1d97("0x14")])(_);for(var i=0;i<_[_0x1d97("0x0")];i++)d=e[_0x1d97("0xa5")][_0x1d97("0x9d5")][_[i]],new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d).to({z:d[_0x1d97("0x9d2")]},500).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){e[_0x1d97("0xa5")][_0x1d97("0x9d3")]=!0}))[_0x1d97("0x1c1")]()}},{key:_0x1d97("0x9d6"),value:function(x){for(var d,_=[],e=x[_0x1d97("0xa3")],t=x.faceRange[0];t<x.faceRange[1];t++){var a=e.geometry[_0x1d97("0x9d4")][t];!a[_0x1d97("0xf9")].x&&!a[_0x1d97("0xf9")].y&&a.normal.z<0&&_.push(a.a,a.b,a.c)}_=(0,b.dedupe)(_);for(var i=0;i<_[_0x1d97("0x0")];i++)(d=e.geometry[_0x1d97("0x9d5")][_[i]])[_0x1d97("0x9d2")]=d.z,new(esmap[_0x1d97("0x1b7")].Tween)(d).to({z:0},500).easing(esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x268")][_0x1d97("0x269")]).onComplete((function(){e[_0x1d97("0xa5")][_0x1d97("0x9d3")]=!0})).start()}},{key:_0x1d97("0x9d7"),value:function(x){var d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=d?x:this[_0x1d97("0x2f9")](x),e=this[_0x1d97("0xee")](0),t=e[_0x1d97("0x14f")];return t[_0x1d97("0x81b")](),t[_0x1d97("0x9d8")][_0x1d97("0x82b")](_)}},{key:_0x1d97("0x9d9"),value:function(){for(;this[_0x1d97("0x57d")].length>0;){var x=this[_0x1d97("0x57d")][_0x1d97("0x4")]();this.closeBuildingById(x.id)}}},{key:_0x1d97("0x9da"),value:function(x){var d=this;typeof x!=_0x1d97("0x13d")&&typeof x!=_0x1d97("0xe")||(x={value:1*x});var _=(x=(0,r.default)({value:0,time:1,emitError:!1,onComplete:null},x))[_0x1d97("0xf1")],e=this[_0x1d97("0x155")];O&&(O[_0x1d97("0x1af")](),O=null),O=new(esmap.TWEEN[_0x1d97("0x1b8")])({value:e}).to({value:_},1e3*x[_0x1d97("0x255")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic.Out)[_0x1d97("0x12e")]((function(x){d[_0x1d97("0x155")]=x[_0x1d97("0xf1")]})).onComplete((function(){x[_0x1d97("0x1bd")]&&x[_0x1d97("0x1bd")](),O=null}))[_0x1d97("0x1c1")]()}},{key:"selectLineNull",value:function(){var x=this;x[_0x1d97("0x148")][_0x1d97("0x1d")]((function(d){x[_0x1d97("0x9db")](d,!1)})),x[_0x1d97("0x148")].length=0}},{key:"storeSelectLine",value:function(x,d,_){var e=this;null==d&&(d=!0),d&&!_&&(!e[_0x1d97("0x35")][_0x1d97("0x9dc")]&&e[_0x1d97("0x9dd")](),e[_0x1d97("0x148")][_0x1d97("0x1")](x));var t=x[_0x1d97("0xa4")][0];if("Mesh"==x[_0x1d97("0x6a")]&&(t=x),t&&t[_0x1d97("0xa7")]){if(0==d)return t[_0x1d97("0x11e")][_0x1d97("0x9de")]?(t[_0x1d97("0xa7")]=t[_0x1d97("0x11e")][_0x1d97("0x9de")],t[_0x1d97("0x11e")].originalMat=null):t.naviMap?t.color=t.userData[_0x1d97("0x868")]:t[_0x1d97("0xa7")][_0x1d97("0x100")]=t.material[_0x1d97("0x11e")][_0x1d97("0x868")]?t.material.userData[_0x1d97("0x868")]:t.userData[_0x1d97("0x868")],void(t.userData.isSelected=!1);t[_0x1d97("0x11e")][_0x1d97("0x952")]&&(t.userData.originalMat=t[_0x1d97("0xa7")],t.material=t[_0x1d97("0xa7")].clone()),t.naviMap?(t.userData.originalColor=t[_0x1d97("0x100")],t[_0x1d97("0x100")]=e[_0x1d97("0xf6")][_0x1d97("0x992")]):(t[_0x1d97("0x11e")].originalColor=t.material.color[_0x1d97("0xdb")](),t[_0x1d97("0x11e")][_0x1d97("0x9de")]||(t[_0x1d97("0x11e")][_0x1d97("0x9de")]=t.material),t[_0x1d97("0xa7")]=t.material[_0x1d97("0xdb")](),t[_0x1d97("0xa7")][_0x1d97("0x100")]=new THREE.Color(e[_0x1d97("0xf6")].selectedLineColor)),t[_0x1d97("0x11e")].isSelected=!0}}},{key:_0x1d97("0x8ff"),value:function(){var x=this;this[_0x1d97("0x146")]&&(this[_0x1d97("0x146")].init_||(this[_0x1d97("0x146")].on(_0x1d97("0x9df"),(function(d){x[_0x1d97("0x98c")](),x[_0x1d97("0x9dd")](),x[_0x1d97("0x99a")]();for(var _=x[_0x1d97("0x146")][_0x1d97("0x9e0")],e=d[_0x1d97("0x642")],t=!1,a=d[_0x1d97("0x67c")],i=0;i<d[_0x1d97("0x642")].length;i++)if((d[_0x1d97("0x642")][i].object instanceof esmap[_0x1d97("0x50c")]||d.objects[i].object instanceof esmap[_0x1d97("0x177")])&&(d[_0x1d97("0x642")][i][_0x1d97("0xc")][_0x1d97("0xa2")][_0x1d97("0x9e1")]||d[_0x1d97("0x642")][i][_0x1d97("0xc")][_0x1d97("0xa2")].pickPriority_)){e=[d[_0x1d97("0x642")][i]];break}for(var n={},r=!1,s=0;s<e.length;s++)if(_||!s){_&&(x[_0x1d97("0x98c")](),x.selectModelNull());var o=e[s],c=o[_0x1d97("0xc")],l=c,u=null;if(!c[_0x1d97("0xa2")])if(21==c[_0x1d97("0xc7")])c=c[_0x1d97("0xba")];else{if(c.name&&c.name[_0x1d97("0xd7")](_0x1d97("0x9e2"))>-1)continue;c=(0,g.findGroup)(c)}if(c&&!n[c[_0x1d97("0x3d9")]]){n[c[_0x1d97("0x3d9")]]=!0;var f=o[_0x1d97("0x3e0")];if(c.datas_){switch(c[_0x1d97("0xa2")][_0x1d97("0xc7")]){case esmap[_0x1d97("0xea")][_0x1d97("0x574")]:var h=c[_0x1d97("0xa2")][_0x1d97("0x33d")],b=c[_0x1d97("0xa2")][_0x1d97("0xe5")],v=x[_0x1d97("0x35")];2==c[_0x1d97("0xa2")][_0x1d97("0x186")]&&(v=x[_0x1d97("0xee")](b)[_0x1d97("0x35")]);var p=!1;if(h){var m=(0,g.getChildByFaceIndex)(o.faceIndex,h);if((u=h[m]).o3d_||(u[_0x1d97("0xa3")]=c),l[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")]){for(var A=l[_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")][_0x1d97("0x19d")],C=u[_0x1d97("0xbb")][0],I=u.faceRange[1],y=!1,E=C+1;E<I-1;E+=1)if(1==A[E]){y=!0,_=!0;break}y&&(p=!0,r=!0)}}else u=c[_0x1d97("0xa2")];if(p)continue;var w=!1;u[_0x1d97("0x37")]&&x[_0x1d97("0x35")][_0x1d97("0x9e4")]&&2!=a&&(x[_0x1d97("0x18c")].openBuilding(u),w=!0);var T=u[_0x1d97("0x58a")],k=x[_0x1d97("0xee")](b);if(k){var S=k[_0x1d97("0x14f")].bimLoader[_0x1d97("0x9e5")][T];S||(S=k.modelLoadManager[_0x1d97("0x9e6")][_0x1d97("0x9e7")](T))&&(k[_0x1d97("0x14f")][_0x1d97("0x9e6")][_0x1d97("0x9e5")][T]=S),S&&(u[_0x1d97("0x3d9")]=S[_0x1d97("0x3d9")],u[_0x1d97("0x9e8")]=S[_0x1d97("0x9e8")])}w||(h?v[_0x1d97("0x1ea")]&&x[_0x1d97("0x9b3")](u)&&x.storeSelect(u):x[_0x1d97("0x976")](u));break;case esmap[_0x1d97("0xea")].MODEL3D:var M=x[_0x1d97("0x35")],R=x[_0x1d97("0x146")][_0x1d97("0x9e9")];if(2==c[_0x1d97("0xa2")].bType&&(M=x[_0x1d97("0xee")](c[_0x1d97("0xa2")][_0x1d97("0xe5")])[_0x1d97("0x35")]),!s&&M.model3DSelectedEffect&&(c[_0x1d97("0x11e")][_0x1d97("0x952")]||!c[_0x1d97("0xa2")][_0x1d97("0x9ea")]&&x[_0x1d97("0x9a5")](c)),c[_0x1d97("0xa2")][_0x1d97("0x33d")]){var L=function(){var d=x.getBuildingById(0),_=d[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x40a")](o.faceIndex,l[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x407")]),t=d[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0x9eb")](o[_0x1d97("0x9ec")],l[_0x1d97("0xa5")][_0x1d97("0x410")]),i=_.id,n=c[_0x1d97("0xa2")][_0x1d97("0x33d")][_0x1d97("0x302")]((function(x){return x.id==i})),r=!1;if(!n[0])return _0x1d97("0x53c");if(!n[0].bclick)return e[_0x1d97("0x189")](s,1),s--,"continue";if(n[0].mapId&&x.options[_0x1d97("0x9e4")]&&(r=!0),x[_0x1d97("0x35")][_0x1d97("0x1eb")]&&!r&&d.modelLoadManager[_0x1d97("0x57f")][_0x1d97("0x408")](o[_0x1d97("0x9ec")],l,t),u={mapId:n[0].mapId,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x221")],angle:n[0][_0x1d97("0x257")],dataID:n[0][_0x1d97("0x58a")],bid:c[_0x1d97("0xa2")][_0x1d97("0xe5")],bType:c[_0x1d97("0xa2")][_0x1d97("0x186")],ID:i,name:n[0][_0x1d97("0xb8")],scale:n[0][_0x1d97("0x237")],Height:n[0].Height,model:n[0][_0x1d97("0x223")],FloorNum:n[0][_0x1d97("0xe8")],gid:n[0].gid,url:n[0][_0x1d97("0x48")],o3d_:c,typeID:n[0].typeID,mapCoord:x.coordThreeToMap(n[0][_0x1d97("0xb6")])},n[0].classID&&(u[_0x1d97("0x583")]=n[0][_0x1d97("0x583")]),n[0].showLevel&&(u[_0x1d97("0x22c")]=n[0][_0x1d97("0x22c")]),n[0].isBim&&(u=n[0],!n[0][_0x1d97("0x3d9")])){var f=x[_0x1d97("0xee")](u.bid),h=n[0][_0x1d97("0x58a")],b=f[_0x1d97("0x14f")][_0x1d97("0x9e6")][_0x1d97("0x9e5")][h];b||(b=f[_0x1d97("0x14f")][_0x1d97("0x9e6")][_0x1d97("0x9e7")](h)),b&&(f[_0x1d97("0x14f")][_0x1d97("0x9e6")][_0x1d97("0x9e5")][h]=b,u[_0x1d97("0x3d9")]=b.uuid,u.infoList=b[_0x1d97("0x9e8")])}r&&2!=a&&x[_0x1d97("0x18c")][_0x1d97("0x8d6")](u)}();if(L===_0x1d97("0x53c"))continue}else c[_0x1d97("0xa2")].mapId&&x[_0x1d97("0x35")][_0x1d97("0x9e4")]&&x[_0x1d97("0x18c")][_0x1d97("0x8d6")](c[_0x1d97("0xa2")]);if(R){var H="";H=c[_0x1d97("0xa2")][_0x1d97("0x33d")]?c.datas_[_0x1d97("0x33d")][0][_0x1d97("0x223")]:c[_0x1d97("0xa2")][_0x1d97("0x223")];var D=x[_0x1d97("0x2aa")].modelStore[H][_0x1d97("0x30a")];if(!D[_0x1d97("0x11e")].info){var P=(0,g[_0x1d97("0x9ed")])(D);D[_0x1d97("0x11e")].info=P}console[_0x1d97("0x246")]("%clogModelInfo:","color: #2BDE73;",D[_0x1d97("0x11e")][_0x1d97("0x2ac")])}break;case esmap[_0x1d97("0xea")][_0x1d97("0x991")]:u=c[_0x1d97("0xa2")]||null,x[_0x1d97("0x35")].lineSelectedEffect&&x[_0x1d97("0x9db")](c);break;case esmap[_0x1d97("0xea")].LINE:x[_0x1d97("0x35")][_0x1d97("0x20e")]&&x[_0x1d97("0x9db")](c);break;case esmap[_0x1d97("0xea")].POLYGON_MARKER:x[_0x1d97("0x35")][_0x1d97("0x1ea")]&&(c[_0x1d97("0xa2")].line&&(c[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x2")](_0x1d97("0x9a2"))||(c[_0x1d97("0xa2")][_0x1d97("0x9a1")]._originalWidth=c[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x119")]),c[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0x2")](_0x1d97("0x9a4"))||(c[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0xa5")]._originalRadius=c[_0x1d97("0xa2")][_0x1d97("0x9a1")][_0x1d97("0xa5")][_0x1d97("0x58b")]),c[_0x1d97("0xa2")].line.lineWidth=5,c.datas_.line[_0x1d97("0x134")]&&c.datas_[_0x1d97("0x9a1")][_0x1d97("0x134")](),c.datas_.line[_0x1d97("0x122")]=!0),x.storeModelSelected(c));case esmap[_0x1d97("0xea")][_0x1d97("0x9ee")]:case esmap[_0x1d97("0xea")][_0x1d97("0x58c")]:case esmap.ESNodeType[_0x1d97("0x9ef")]:}var O=u||c[_0x1d97("0xa2")];O[_0x1d97("0x9f0")]=f[_0x1d97("0xdb")]();var B=x._coordThreeToMapScene(f),N=x[_0x1d97("0x1a6")]({from:x[_0x1d97("0x17b")],to:x[_0x1d97("0x35")][_0x1d97("0x1e7")],coord:B});O.hitCoord=N,t||(t=!0),_&&x[_0x1d97("0x35")].editMode&&(O[_0x1d97("0x9f1")]=s);var F={button:d.button,object:l};if(x[_0x1d97("0x1d9")](_0x1d97("0x9f2"),O,F),r)break}else console[_0x1d97("0x245")](_0x1d97("0x9e3"))}}if(!t){var z=x[_0x1d97("0x146")][_0x1d97("0x9f3")][_0x1d97("0x3da")]([x.plane_],!0);1==z[_0x1d97("0x0")]&&x[_0x1d97("0x146")][_0x1d97("0x1d9")]("pickerNone_",{mouse:x[_0x1d97("0x146")][_0x1d97("0x9f4")],hitCoord:z[0][_0x1d97("0x3e0")],worldCoord:z[0][_0x1d97("0x3e0")]})}})),this.mapPicker.on(_0x1d97("0x9f5"),(function(d){x[_0x1d97("0x98c")](),x[_0x1d97("0x99a")](),x.selectLineNull();var _=d[_0x1d97("0x9f6")]?x._coordThreeToMapScene(d[_0x1d97("0x9f6")]):null,e=x[_0x1d97("0x1a6")]({from:x[_0x1d97("0x17b")],to:x[_0x1d97("0x35")][_0x1d97("0x1e7")],coord:_});x[_0x1d97("0x1d9")]("mapClickNode",{target:null,mouse:d[_0x1d97("0x9f7")],hitCoord:e,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x9f8")],worldCoord:d[_0x1d97("0x9f6")]},{button:d[_0x1d97("0x67c")]})})),this.mapPicker.on(_0x1d97("0x9f9"),(function(d){if(0!=d[_0x1d97("0x9fa")][_0x1d97("0x0")]){var _=d.intersects[0][_0x1d97("0xc")];if(!_[_0x1d97("0xa2")]&&!(_=(0,g[_0x1d97("0x82f")])(_)))return null;if(!_)return null;var e=_[_0x1d97("0xa2")];if(e&&e[_0x1d97("0xc7")]&&(e[_0x1d97("0xc7")]==esmap.ESNodeType[_0x1d97("0x9fb")]||e.nodeType==esmap[_0x1d97("0xea")][_0x1d97("0x9fc")]||e[_0x1d97("0xc7")]==esmap[_0x1d97("0xea")][_0x1d97("0x58c")]||e[_0x1d97("0xc7")]==esmap.ESNodeType.LABEL)){var t=d[_0x1d97("0x9fa")][0][_0x1d97("0x3e0")];e[_0x1d97("0x9f0")]=t[_0x1d97("0xdb")]();var a=x[_0x1d97("0x259")](t),i=x.transformCoord({from:x[_0x1d97("0x17b")],to:x[_0x1d97("0x35")][_0x1d97("0x1e7")],coord:a});e[_0x1d97("0x9f6")]=i;var n=0;if(x[_0x1d97("0x36")]==esmap.MapMode.City)n=x.mapService[_0x1d97("0x424")]("l0");else n=x[_0x1d97("0x2aa")][_0x1d97("0x424")]("ul")>>1&1||0;n>=1&&x[_0x1d97("0x1d9")](_0x1d97("0x9fd"),e)}}}))))}},{key:_0x1d97("0x9fe"),value:function(){for(var x=0;x<this[_0x1d97("0x89b")].length;x++)this.off(_0x1d97("0x11d"),this[_0x1d97("0x89b")][x]);this[_0x1d97("0x89b")]=[]}},{key:"getUserScene",value:function(){return this.mapScene[_0x1d97("0x999")]}},{key:_0x1d97("0x1a6"),value:function(x){var d=x[_0x1d97("0x2e4")],_=void 0===d?this.DEFAULT_COORDSYSTEM:d,e=x.to,t=void 0===e?this[_0x1d97("0x17b")]:e,a=x[_0x1d97("0x1c4")];if(_==t)return a;var i=(0,r.default)({},a),n=esmap.ESMapUtil[_0x1d97("0xa9")](i.x,i.y),s=n;_!==t&&(s=h[_0x1d97("0x1c")][_0x1d97("0x38b")](n,h[_0x1d97("0x1c")][_],h[_0x1d97("0x1c")][t]));var o=esmap[_0x1d97("0x75")].lonLat2Mercator(s[0],s[1]);return i.x=o[0],i.y=o[1],i}},{key:_0x1d97("0x9ff"),value:function(x){return this[_0x1d97("0x35")][_0x1d97("0x1e7")]!=this[_0x1d97("0x17b")]?this.transformCoord({from:this[_0x1d97("0x35")][_0x1d97("0x1e7")],to:this[_0x1d97("0x17b")],coord:x}):x}},{key:_0x1d97("0x4c0"),value:function(x){var d=x[_0x1d97("0x2e4")],_=x.to,e=x[_0x1d97("0xa00")],t=x[_0x1d97("0xa01")],a=void 0!==t&&t;if(d==_)return e;var i=[];for(var n in e)if(isNaN(e[n].x)||isNaN(e[n].y))_0x1d97("0xa02"),e[n];else{var s=(0,r[_0x1d97("0x1c")])({},e[n]);a&&(s.x=-s.x);var o=this[_0x1d97("0x1a6")]({from:d,to:_,coord:s});s.x=o.x,s.y=o.y,a&&(s.x=-s.x),i.push(s)}return i}},{key:"coordMapToThree",value:function(x){var d=this.transformCoord({from:this[_0x1d97("0x35")][_0x1d97("0x1e7")],to:this.coordSystem,coord:x});return this[_0x1d97("0x17c")](d)}},{key:_0x1d97("0x17c"),value:function(x){var d=x.z||x.offset||0,_=this[_0x1d97("0x16c")],e={x:x.x,y:x.y};return e.x=-(e.x+_[_0x1d97("0x199")]),e.y=e.y-_[_0x1d97("0x19a")],new(THREE[_0x1d97("0xe0")])(e.x,d,e.y)}},{key:_0x1d97("0x23d"),value:function(x){var d={x:this[_0x1d97("0xa03")].x-x.x,y:x.z+this[_0x1d97("0xa03")].y,z:x.y||0};return this.transformCoord({from:this[_0x1d97("0x17b")],to:this[_0x1d97("0x35")].userCrs,coord:d})}},{key:_0x1d97("0x259"),value:function(x){return{x:this[_0x1d97("0xa03")].x-x.x,y:x.z+this.localCenter.y,z:x.y||0}}},{key:_0x1d97("0x90d"),value:function(){this[_0x1d97("0xa04")]=!0,this[_0x1d97("0xa05")]=!1,this[_0x1d97("0xa06")]=!1,this.updateCountDown_=0,this[_0x1d97("0xa07")]=Math.sqrt(Math[_0x1d97("0xa8")]((this[_0x1d97("0x44d")]-this[_0x1d97("0x449")])/2,2)+Math[_0x1d97("0xa8")]((this.maxY-this[_0x1d97("0x44c")])/2,2)),this[_0x1d97("0x1ef")]={mode:this[_0x1d97("0x35")][_0x1d97("0x1ef")],init:!0,time:0},this.plane_=new(THREE[_0x1d97("0x14a")])(new THREE.PlaneBufferGeometry(30707730.7171648,30707730.7171648,1,1),new(THREE[_0x1d97("0xfe")])({color:6724044,visible:!1})),this[_0x1d97("0x3df")][_0x1d97("0xb8")]="$ESMapPlane",this[_0x1d97("0x3df")].datas_={nodeType:1,name:_0x1d97("0xa08"),o3d_:this[_0x1d97("0x3df")]},this[_0x1d97("0x16c")].o3dScene_.add(this.plane_),this.plane_[_0x1d97("0xb6")][_0x1d97("0x11b")](0,0,0),this[_0x1d97("0x3df")].rotation.x=-Math.PI/2,this[_0x1d97("0x1d9")](_0x1d97("0x1c1")),this[_0x1d97("0xa09")]||(this[_0x1d97("0xa09")]=!0),this.on("update",this[_0x1d97("0x92f")])}},{key:"tileLoadComplete_",value:function(x){var d=this;d[_0x1d97("0x1d9")](_0x1d97("0xa0a"),x),d[_0x1d97("0x2aa")][_0x1d97("0x18d")][x.id]&&d[_0x1d97("0x1d9")]("routeLoaded",x.id),d[_0x1d97("0x35")][_0x1d97("0x20f")]&&d[_0x1d97("0x35")][_0x1d97("0x18a")]&&x[_0x1d97("0x18a")](),d[_0x1d97("0x35")].loadPoi&&x[_0x1d97("0xa0b")]();var _=x.id,e=d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0xd7")](_);if(d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0x189")](e,1),0==d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0x0")]&&0==d[_0x1d97("0x2aa")][_0x1d97("0x18c")].currentView.length){if(!d[_0x1d97("0x2aa")][_0x1d97("0xa0c")]){d[_0x1d97("0x2aa")][_0x1d97("0xa0c")]=!0;var t=d.tileList,a=!0;for(var i in t){var n=t[i],r=n.modelLoadManager[_0x1d97("0x8e5")].length,s=n[_0x1d97("0x14f")][_0x1d97("0x909")][_0x1d97("0x0")];if(r>0||s>0){a=!1;break}}!d.mapService.modelInited&&a&&(d[_0x1d97("0x2aa")][_0x1d97("0xa0d")]=!0)}d[_0x1d97("0x1d9")](_0x1d97("0x9be")),d[_0x1d97("0x9bf")]||(d.loadCompleted=!0,esmap.ESMap[_0x1d97("0x8ed")]=!1,d[_0x1d97("0x1d9")](_0x1d97("0x8a8"),{bid:d.id})),d[_0x1d97("0xa0e")]()}x.id===d.tileService[_0x1d97("0xa0f")]&&(d[_0x1d97("0x18c")][_0x1d97("0xa10")]=!0,d.tileService[_0x1d97("0xa11")]())}},{key:_0x1d97("0x8fe"),value:function(){var x=this;esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]=!1;var d=this[_0x1d97("0x16d")].container.clientWidth,_=this[_0x1d97("0x16d")][_0x1d97("0x42c")].clientHeight;x[_0x1d97("0x16d")][_0x1d97("0x940")](d,_),x.zonTempObj[_0x1d97("0x423")](d,_),x[_0x1d97("0x892")].updateText(),this.on(_0x1d97("0x132"),(function(){var d=x[_0x1d97("0x16d")][_0x1d97("0x155")];x[_0x1d97("0xa12")](d),d<=x.options.tileShowLevel?x[_0x1d97("0x9d9")]():d<=x[_0x1d97("0x35")][_0x1d97("0xa13")]&&x.tapTip&&0!=x[_0x1d97("0x970")][_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]&&(x[_0x1d97("0x970")][_0x1d97("0x975")][_0x1d97("0x22")].opacity=0),x.scaler_.updateText()}))}},{key:"loadComplete_",value:function(x){var d=this;d[_0x1d97("0x16d")][_0x1d97("0xa14")]=this[_0x1d97("0x969")](),esmap.ESMap[_0x1d97("0x8ed")]=!1;var e=this[_0x1d97("0x16d")][_0x1d97("0x42c")][_0x1d97("0x3bb")],t=this[_0x1d97("0x16d")].container[_0x1d97("0x42e")];d[_0x1d97("0x16d")][_0x1d97("0x940")](e,t),d[_0x1d97("0x88d")][_0x1d97("0x423")](e,t),d[_0x1d97("0x892")].updateText();var a=_(141),i=a[_0x1d97("0x444")][_0x1d97("0x45")](d.mapService.tileService.privites);if(Object[_0x1d97("0x7")](d,_0x1d97("0xa15"),{value:i[_0x1d97("0x452")],writable:!1,enumerable:!1,configurable:!0}),d[_0x1d97("0x1d9")](_0x1d97("0xa16"),{}),window[_0x1d97("0x4d8")][_0x1d97("0x903")]||(d.updateTile=!0,d[_0x1d97("0x18c")][_0x1d97("0xa11")]()),this.on(_0x1d97("0x11d"),(function(){d[_0x1d97("0xa17")]()})),this.on("zoomed",(function(){var x=d.mapView.zoomLevel;d.computeLocalScaleLevel(x),x<=d[_0x1d97("0x35")][_0x1d97("0xa13")]?d[_0x1d97("0x9d9")]():x<=d[_0x1d97("0x35")][_0x1d97("0xa13")]&&d[_0x1d97("0x970")]&&0!=d[_0x1d97("0x970")][_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]&&(d[_0x1d97("0x970")].popDiv_[_0x1d97("0x22")][_0x1d97("0xe2")]=0),d[_0x1d97("0x892")].updateText()})),a[_0x1d97("0x444")][_0x1d97("0x469")]()){if(d.options[_0x1d97("0x456")]&&i[_0x1d97("0x456")])esmap.ESMapUtil[_0x1d97("0x76")](_0x1d97("0xa19")+i[_0x1d97("0x455")]+d.options[_0x1d97("0x456")])===i.logotoken&&(d.zonTempObj[_0x1d97("0x41e")][_0x1d97("0x11e")][_0x1d97("0xf0")]=!1);if(esmap.ESMapUtil[_0x1d97("0x76")](i[_0x1d97("0x449")]+""+i[_0x1d97("0x44c")]+i[_0x1d97("0x44d")]+i[_0x1d97("0x44e")]+i.token+i[_0x1d97("0x456")]+ +i[_0x1d97("0x452")]+i.modnums+"ABC"+i.o1+i.ul)===i[_0x1d97("0x446")]){if(!d[_0x1d97("0xa1a")]&&i[_0x1d97("0x77")]!=_0x1d97("0xa1b"))if(esmap[_0x1d97("0x75")].encode64(i[_0x1d97("0x170")]+""+d.options[_0x1d97("0x77")])!=i[_0x1d97("0x77")]&&3==d[_0x1d97("0x35")].tid)return void d[_0x1d97("0x2aa")][_0x1d97("0xa18")](0)}else d.mapService[_0x1d97("0xa18")](0)}else d[_0x1d97("0x2aa")][_0x1d97("0xa18")](0)}},{key:"computeLocalScaleLevel",value:function(x){for(var d=this[_0x1d97("0x8b1")],_=23,e=0;e<d[_0x1d97("0x0")];e++)if(d[e]<=x){_=e;break}this.localScaleLevel=_}},{key:_0x1d97("0xa1c"),value:function(){var x=this[_0x1d97("0x35")].worldScale,d=-this[_0x1d97("0x16c")].sceneX_-this[_0x1d97("0x280")][_0x1d97("0x27e")].x,_=this.mapScene[_0x1d97("0x19a")]+this[_0x1d97("0x280")].target.z,e=(0,g.getTileFromMec)(d,_,x);this[_0x1d97("0x2aa")].tileService[_0x1d97("0x92b")](e.x+"_"+e.y,!0)}},{key:"updateTileView",value:function(){if(this[_0x1d97("0x36")]===esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]&&(!this[_0x1d97("0x2aa")][_0x1d97("0x90e")]&&!(this[_0x1d97("0x155")]<=this[_0x1d97("0x35")].tileShowLevel)&&this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0xa1d")]())){(0==this[_0x1d97("0x2aa")].tileService[_0x1d97("0x908")][_0x1d97("0x0")]||this.mapService[_0x1d97("0xa1e")])&&this[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0xa11")]();for(var x=0;x<this[_0x1d97("0x16c")][_0x1d97("0x90f")].children[_0x1d97("0x0")];x++){var d=this[_0x1d97("0x16c")][_0x1d97("0x90f")].children[x].datas_;d[_0x1d97("0xa3")]&&(d[_0x1d97("0xa3")][_0x1d97("0xf0")]&&d[_0x1d97("0x14f")][_0x1d97("0x8e6")][_0x1d97("0x0")]>0&&(d[_0x1d97("0x14f")][_0x1d97("0x28d")]=!1))}}}},{key:_0x1d97("0xa1f"),value:function(x){for(var d=this,_=0;_<d[_0x1d97("0x16c")][_0x1d97("0x920")].children[_0x1d97("0x0")];_++){var e=d[_0x1d97("0x16c")][_0x1d97("0x920")][_0x1d97("0xa4")][_][_0x1d97("0xa2")];if(e.isLoadedAll&&e.id==x){var t=d[_0x1d97("0x16c")].buildingScene_[_0x1d97("0xa4")][_];t[_0x1d97("0xf0")]=!1,t[_0x1d97("0xba")][_0x1d97("0x149")](t);for(var a=0;a<d.buildingList[_0x1d97("0x0")];a++)if(d.buildingList[a].id==t[_0x1d97("0xa2")].id){d[_0x1d97("0x57d")][_0x1d97("0x189")](a,1);break}t[_0x1d97("0xa2")][_0x1d97("0x14e")]==esmap[_0x1d97("0x508")][_0x1d97("0xa20")]&&d[_0x1d97("0x18c")][_0x1d97("0x994")](t[_0x1d97("0xa2")]);break}}}},{key:_0x1d97("0x995"),value:function(){for(var x=this,d=this._coordThreeToMapScene(this[_0x1d97("0x280")][_0x1d97("0x27e")],!0),_=[],e=0;e<x[_0x1d97("0x16c")][_0x1d97("0x90f")].children[_0x1d97("0x0")];e++){var t=x[_0x1d97("0x16c")].tileScene_[_0x1d97("0xa4")][e];if(t[_0x1d97("0xa2")][_0x1d97("0xe7")]){var a=t[_0x1d97("0xa2")][_0x1d97("0xe7")],i=t[_0x1d97("0xa2")].id,n=(0,b[_0x1d97("0xbc")])({x:a[0],y:a[1]},d);_[_0x1d97("0x1")]({dis:n,id:i,index:e})}}_=_[_0x1d97("0x41c")]((function(x,d){return d.dis-x[_0x1d97("0x590")]}));for(var r=0;r<_[_0x1d97("0x0")];r++){var s=x[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")][_0x1d97("0x0")],o=_[r];if(!(x[_0x1d97("0x2aa")][_0x1d97("0x18c")].currentShows.indexOf(o.id)>-1)){if(s<=x.options[_0x1d97("0xa21")])break;for(var c=0;c<x[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")][_0x1d97("0x0")];c++){var l=x[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")][c];if(l[_0x1d97("0xa2")].id==o.id){l[_0x1d97("0xf0")]=!1,x.mapScene[_0x1d97("0x90f")][_0x1d97("0x149")](l),c--,_[_0x1d97("0x189")](r,1),r--,x.mapService[_0x1d97("0x18c")][_0x1d97("0x993")][_0x1d97("0xd7")](l[_0x1d97("0xa2")])<0&&x[_0x1d97("0x18c")][_0x1d97("0x994")](l[_0x1d97("0xa2")]),x.fire(_0x1d97("0x995"),{bid:l.datas_.id});break}}}}}},{key:_0x1d97("0xa22"),value:function(x,d,_,e,t){if(d==x[_0x1d97("0x0")]-1)return!0;var a,i,n,r,s,o,c=x[d],l=x[d+1],u=l[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](c),f=e/2,h=(a=l,i=c,n=new(THREE[_0x1d97("0xe0")])(1,0,0),r=new(THREE[_0x1d97("0xe0")])(a.x,0,a.y),s=new(THREE[_0x1d97("0xe0")])(i.x,0,i.y)[_0x1d97("0xdb")]().sub(r)[_0x1d97("0x2e1")](),o=s.angleTo(n)*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")],s[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](n).y>0?o:360-o),b=u[_0x1d97("0x0")]();if(u[_0x1d97("0x2e1")](),0!=b){if(b>e){var g=Math[_0x1d97("0x2b")](b/e),v=b%e,p=c[_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]()[_0x1d97("0x276")](f));p.angle=h,p.scale=e/t,_[_0x1d97("0x1")](p);for(var m=1;m<g;m++){var A=_[_.length-1][_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]()[_0x1d97("0x276")](e));A.angle=h,A.scale=e/t,_[_0x1d97("0x1")](A)}if(v>0)if(v>=t/2){var C=_[_[_0x1d97("0x0")]-1][_0x1d97("0xdb")]()[_0x1d97("0xdc")](u.clone()[_0x1d97("0x276")](f+v/2));C[_0x1d97("0x257")]=h,C[_0x1d97("0x237")]=v/t,_[_0x1d97("0x1")](C)}else{var I=_[_[_0x1d97("0x0")]-1];I[_0x1d97("0x237")]=(v+e)/t;var y=I.clone()[_0x1d97("0xdc")](u.clone()[_0x1d97("0x276")](v/2));I.x=y.x,I.y=y.y}}else{var E=c[_0x1d97("0xdb")]()[_0x1d97("0xdc")](u.clone()[_0x1d97("0x276")](b/2));E[_0x1d97("0x257")]=h,E[_0x1d97("0x237")]=b/t,_[_0x1d97("0x1")](E)}this.computeCenters(x,++d,_,e,t)}}},{key:"checkBuildingHide",value:function(){for(var x=this,d=0;d<x[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")][_0x1d97("0x0")];d++){var _=x.mapScene[_0x1d97("0x90f")].children[d][_0x1d97("0xa2")];if(_)for(var e={x:_[_0x1d97("0xe7")][0],y:_.center[1]},t=0;t<x[_0x1d97("0x2aa")][_0x1d97("0xa23")].length;t++){if((0,b[_0x1d97("0xbc")])(x[_0x1d97("0x2aa")][_0x1d97("0xa23")][t],e)<=2*x[_0x1d97("0x2aa")][_0x1d97("0xa24")]){new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(_[_0x1d97("0xa3")].scale).to({y:.15},1e3).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1c0")]).start();break}}}}},{key:_0x1d97("0xa0e"),value:function(){var x=this.mapService[_0x1d97("0xa25")],d=!0;for(var _ in x)if(x[_]){d=!1;break}if(d&&!this[_0x1d97("0x2aa")].modelLoadedAll){var e=this.tileList,t=!0;for(var a in e){var i=e[a],n=i.modelLoadManager[_0x1d97("0x8e5")][_0x1d97("0x0")],r=i[_0x1d97("0x14f")][_0x1d97("0x909")][_0x1d97("0x0")],s=0;for(var o in i[_0x1d97("0x14f")].mergeQueue){var c=i[_0x1d97("0x14f")][_0x1d97("0xa26")][o];for(var l in c)s+=c[l][_0x1d97("0x0")]}if(n>0||r>0||s>0){t=!1;break}}t&&(this.mapService.modelLoadedAll=!0,this.fire("tileModelInited"),this[_0x1d97("0x1d9")]("modelLoadedAll",{bid:this.id}))}}},{key:_0x1d97("0xa17"),value:(v=(0,n.default)(i[_0x1d97("0x1c")].mark((function x(){var d,_,e,t,a,n,r,s;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:if(!this[_0x1d97("0x2aa")][_0x1d97("0x90e")]){x.next=2;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 2:if(this[_0x1d97("0x8a7")]&&!this[_0x1d97("0x2aa")][_0x1d97("0xa1e")]){x.next=4;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 4:if(!((d=this)[_0x1d97("0x155")]<=d[_0x1d97("0x35")][_0x1d97("0xa13")])){x[_0x1d97("0x2a8")]=12;break}if(!(d[_0x1d97("0x8a7")]&&d[_0x1d97("0x16c")][_0x1d97("0x90f")].children[_0x1d97("0x0")]>0)){x[_0x1d97("0x2a8")]=10;break}return d.mapScene[_0x1d97("0x90f")][_0x1d97("0xf0")]&&(d[_0x1d97("0x16c")].tileScene_.visible=!1),d[_0x1d97("0x18c")][_0x1d97("0xa10")]&&(d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x159")]=[],d[_0x1d97("0x995")]()),x.abrupt(_0x1d97("0x2af"));case 10:x.next=13;break;case 12:d[_0x1d97("0x16c")].tileScene_[_0x1d97("0xf0")]||(d[_0x1d97("0x16c")][_0x1d97("0x90f")].visible=!0);case 13:if(!(d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x908")].length>0)){x.next=48;break}d[_0x1d97("0xa27")]||(d.handling=!0),_=d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x908")].shift(),e=!1,t=null,a=0;case 19:if(!(a<d[_0x1d97("0x16c")][_0x1d97("0x90f")].children[_0x1d97("0x0")])){x.next=28;break}if((n=d[_0x1d97("0x16c")].tileScene_[_0x1d97("0xa4")][a])[_0x1d97("0xa2")].id!=_){x[_0x1d97("0x2a8")]=25;break}return e=!0,t=n,x[_0x1d97("0x2ae")](_0x1d97("0x9c9"),28);case 25:a++,x[_0x1d97("0x2a8")]=19;break;case 28:if(e){x[_0x1d97("0x2a8")]=44;break}r=d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x993")],s=0;case 31:if(!(s<r.length)){x[_0x1d97("0x2a8")]=44;break}if(r[s].id!=_){x[_0x1d97("0x2a8")]=41;break}return d[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xdc")](r[s][_0x1d97("0xa3")]),r[s].o3d_.visible||(r[s][_0x1d97("0xa3")][_0x1d97("0xf0")]=!0),r[s][_0x1d97("0x14f")].queueRanked=!1,d[_0x1d97("0x2aa")][_0x1d97("0x18c")].checkToLoadedBuildings(),d.mapService[_0x1d97("0x18c")][_0x1d97("0x993")][_0x1d97("0x189")](s,1),e=!0,0==d.mapService[_0x1d97("0x18c")][_0x1d97("0x908")][_0x1d97("0x0")]&&0==d.mapService.tileService[_0x1d97("0x907")][_0x1d97("0x0")]&&(d[_0x1d97("0x1d9")]("tileUpdated"),d[_0x1d97("0xa0e")]()),x[_0x1d97("0x2ae")](_0x1d97("0x9c9"),44);case 41:s++,x.next=31;break;case 44:!e&&d.mapService[_0x1d97("0x18c")][_0x1d97("0x907")].indexOf(_)<0?(d[_0x1d97("0x2aa")].tileService[_0x1d97("0x907")].push(_),d.mapService.tileService[_0x1d97("0x92b")](_)):t&&!t[_0x1d97("0xf0")]&&(t[_0x1d97("0xf0")]=!0),0==d[_0x1d97("0x18c")][_0x1d97("0x908")][_0x1d97("0x0")]&&0==d[_0x1d97("0x18c")].solvingList[_0x1d97("0x0")]&&(d[_0x1d97("0x9bf")]||(d.loadCompleted=!0,esmap.ESMap.IsMapLoading=!1,d[_0x1d97("0x1d9")]("loadComplete",{bid:d.id}))),x.next=49;break;case 48:d[_0x1d97("0xa27")]&&(d[_0x1d97("0xa27")]=!1);case 49:d[_0x1d97("0x16c")].tileScene_[_0x1d97("0xa4")].length>d[_0x1d97("0x35")][_0x1d97("0xa21")]&&0==d.mapService[_0x1d97("0x18c")][_0x1d97("0x907")][_0x1d97("0x0")]&&0==d[_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x908")].length&&d.unloadTile();case 50:case _0x1d97("0x2c4"):return x.stop()}}),x,this)}))),function(){return v[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0xa28"),value:function(){var x=this[_0x1d97("0x16d")];if(x[_0x1d97("0xe7")]){var d=x.getCenter();if(d&&x[_0x1d97("0x8f0")]){var _=x[_0x1d97("0x8f0")],e={minx:this[_0x1d97("0x449")]-_,miny:this[_0x1d97("0x44c")]-_,maxx:this[_0x1d97("0x44d")]+_,maxy:this[_0x1d97("0x44e")]+_};if(d.x<e[_0x1d97("0xad")]||d.x>e.maxx||d.y<e[_0x1d97("0xae")]||d.y>e[_0x1d97("0xab")]){if(!x[_0x1d97("0xa29")])return;this[_0x1d97("0x254")]({x:x._lastValidCoord.x,y:x[_0x1d97("0xa29")].y,time:0})}else x[_0x1d97("0xa29")]=d}}}},{key:"controlsChange_",value:function(){var x=this;this[_0x1d97("0xa28")]();var d=this[_0x1d97("0x16d")].zoomLevel;if(null===F)F=d;else{var _=F[_0x1d97("0x55f")](3),e=d[_0x1d97("0x55f")](3);_!=e&&this.fire(_0x1d97("0x132"),1*e),F=d}if("3D"==this.viewMode_&&Math.PI,this.fire("controlchange"),this[_0x1d97("0xa04")]=!0,"3D"!=this[_0x1d97("0x890")]&&(this[_0x1d97("0x16d")][_0x1d97("0x567")][_0x1d97("0xb6")].x=this[_0x1d97("0x16d")][_0x1d97("0x906")].position.x,this[_0x1d97("0x16d")][_0x1d97("0x567")].position.z=this[_0x1d97("0x16d")][_0x1d97("0x906")][_0x1d97("0xb6")].z,this[_0x1d97("0x892")][_0x1d97("0xa2a")]()),this[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]&&this.options[_0x1d97("0xa2b")]&&!esmap.ESMap[_0x1d97("0x8ed")]&&!esmap[_0x1d97("0x33")][_0x1d97("0xa2c")]){var t=this[_0x1d97("0x16d")].getLocalCenter(),a=this[_0x1d97("0x18c")][_0x1d97("0x530")];if(this[_0x1d97("0x155")]>=this[_0x1d97("0x35")][_0x1d97("0xa2d")]){var i=null,n=null;for(var r in a){var s=a[r];if(!s[_0x1d97("0x9cf")]&&(!s[_0x1d97("0x409")]&&s.polygon)){var o=esmap.ESMapUtil[_0x1d97("0xa2e")](t,s[_0x1d97("0x587")]);s[_0x1d97("0x9ce")]?o||n||(n=s):o&&!i&&(i=s.bid,s[_0x1d97("0x9ce")]=!0)}}i&&n&&(this.closeBuildingById(n[_0x1d97("0xe5")]),n[_0x1d97("0x9ce")]=!1),i&&this.openBuildingById(i)}else for(var c in a){var l=a[c];l[_0x1d97("0x9cf")]&&(l[_0x1d97("0x9cf")]=!1),l[_0x1d97("0x409")]||l[_0x1d97("0x9ce")]&&(this.closeBuildingById(l[_0x1d97("0xe5")]),l[_0x1d97("0x9ce")]=!1)}}P&&window[_0x1d97("0x28e")](P),P=setTimeout((function(){x.fire(_0x1d97("0x156")),window[_0x1d97("0x28e")](P),P=null}),300);for(var u=this[_0x1d97("0x280")][_0x1d97("0x97b")](),f=L,h=0;h<this[_0x1d97("0x896")][_0x1d97("0x0")];h++)if(u<this[_0x1d97("0x896")][h])return void((L=h-1)!=f&&this.fire(_0x1d97("0xa2f"),{level:L,rate:u}))}},{key:_0x1d97("0x92f"),value:function(){this[_0x1d97("0x16c")][_0x1d97("0xa30")](this[_0x1d97("0x16d")])}},{key:"forceUpdate",value:function(){}},{key:_0x1d97("0xa31"),value:function(x,d){return!0}},{key:_0x1d97("0x912"),value:function(x){var d=x[_0x1d97("0xa32")],_=x[_0x1d97("0x165")],t=x[_0x1d97("0x35")][_0x1d97("0xe7")]||x[_0x1d97("0xe7")],a=this.coordMapToThree(t),i=this;if(x[_0x1d97("0xa33")]&&_[_0x1d97("0xa34")][d-1]){var n,r=x[_0x1d97("0xa33")].getSize(new THREE.Vector3),s=_[_0x1d97("0xa34")][d-1].Elevation,o=.75*r.x+s,c=t?new(THREE[_0x1d97("0xe0")])(a.x,s,a.z):new(THREE[_0x1d97("0xe0")])(0,s,0);n=new THREE.Vector3(r.x,o,-r.x),this[_0x1d97("0x16d")].camera.position[_0x1d97("0x267")](n),this[_0x1d97("0xa35")]=c,this[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x267")](c),i.minScaleLevel_=i[_0x1d97("0x35")][_0x1d97("0x204")],i[_0x1d97("0xa36")]=i[_0x1d97("0x35")][_0x1d97("0x205")]?i.options[_0x1d97("0x205")]>=i[_0x1d97("0x896")][_0x1d97("0x0")]?i.scaleLevels_.length-1:i[_0x1d97("0x35")][_0x1d97("0x205")]:i[_0x1d97("0x896")].length-1;var l=new(THREE[_0x1d97("0xe0")]),u=this[_0x1d97("0x280")][_0x1d97("0xc")][_0x1d97("0xb6")][_0x1d97("0x25d")](l);if(this[_0x1d97("0x280")][_0x1d97("0x96e")]=u,this.controls.initTop_=esmap.ESMapUtil[_0x1d97("0x549")](this[_0x1d97("0x16d")][_0x1d97("0x567")],this[_0x1d97("0x280")],u)[_0x1d97("0x3a6")],i[_0x1d97("0x280")][_0x1d97("0x97e")](i[_0x1d97("0x896")][i[_0x1d97("0x97d")]],i[_0x1d97("0x896")][i.maxScaleLevel_],!0),this.options[_0x1d97("0xa37")]){var f=this[_0x1d97("0x35")].defaultControlsPose,h=0;switch(void 0===f?_0x1d97("0x8"):(0,e.default)(f)){case _0x1d97("0xe"):switch(f){case"n":h=Math.PI;break;case"s":default:h=0;break;case"w":h=-Math.PI/2;break;case"e":h=Math.PI/2;break;case"ne":h=.75*Math.PI;break;case"nw":h=1.25*Math.PI;break;case"se":h=Math.PI/4;break;case"sw":h=-Math.PI/4}this[_0x1d97("0x35")][_0x1d97("0x1ef")],esmap.ESViewMode[_0x1d97("0xa38")],this[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:h});break;case"number":this[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:f*THREE[_0x1d97("0x24e")].DEG2RAD});break;case"object":var b=this[_0x1d97("0x35")].defaultControlsPose.target.split(","),g=this[_0x1d97("0x35")][_0x1d97("0xa37")][_0x1d97("0xb6")][_0x1d97("0x28")](","),v=new(THREE[_0x1d97("0xe0")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2])),p=new(THREE[_0x1d97("0xe0")])(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]));return this[_0x1d97("0x280")].target.copy(v),this[_0x1d97("0x280")][_0x1d97("0xc")].position.copy(p),this.controls[_0x1d97("0x11d")](),!0}}if(this[_0x1d97("0x35")][_0x1d97("0x2")](_0x1d97("0x1fb"))&&null!=this[_0x1d97("0x35")][_0x1d97("0x1fb")]){var m=(180-this.options[_0x1d97("0x1fb")])*Math.PI/180;this[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:m})}else if(!this[_0x1d97("0x35")][_0x1d97("0xa37")]){var A=Math.PI;this[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:A})}return null!=this.options[_0x1d97("0x1fc")]&&(this.tiltAngle=this.options[_0x1d97("0x1fc")]),this.updateCountDown_=0,!1}}},{key:"sl",value:function(){for(var x=this[_0x1d97("0x16d")].sceneOrtho[_0x1d97("0xa4")],d=null,_=0;_<x[_0x1d97("0x0")];_++)x[_][_0x1d97("0x11e")][_0x1d97("0xf0")]&&(d=x[_]);if(!d)return 9568297;for(var e=d[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x173")]?d[_0x1d97("0xa7")][_0x1d97("0x38")].image[_0x1d97("0x39e")]:"",t=e[_0x1d97("0x0")],a=0,i=0;i<t;i++)a+=e[i][_0x1d97("0x2a")]();return parseInt(a,16)}},{key:_0x1d97("0xa39"),value:function(x){this[_0x1d97("0x16c")][_0x1d97("0x1a4")][_0x1d97("0xdc")](x[_0x1d97("0xa3")]),this.mapPicker[_0x1d97("0x188")](x.o3d_)}},{key:_0x1d97("0xa3a"),value:function(x){x[_0x1d97("0xa6")]()}},{key:_0x1d97("0xa3b"),value:function(x){return this.mapScene[_0x1d97("0x9b5")]()[_0x1d97("0x244")](x)}},{key:_0x1d97("0xa3c"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},d=this[_0x1d97("0x16d")].w_/2,_=this.mapView.h_/2,e=void 0,t=this.getBuildingById(x.bid);t?e=t[_0x1d97("0x2f8")](x[_0x1d97("0xe8")]):(t=this.getTileById(x.bid),e=0);var a=this[_0x1d97("0xa3d")](d,_,e);return a.z+=1,a}},{key:"coordScreenToScene",value:function(x,d){var _=arguments[_0x1d97("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x1d97("0x3df")])return null;var e=this.currentCamera||this.mapView[_0x1d97("0x567")],t=null;t=new(THREE[_0x1d97("0xe0")])(x/this[_0x1d97("0x16d")].w_*2-1,1-d/this[_0x1d97("0x16d")].h_*2,.5);var a=new(THREE[_0x1d97("0x3d2")]);a[_0x1d97("0xa3e")](t,e),this[_0x1d97("0x3df")][_0x1d97("0xb6")].y=_,this.plane_[_0x1d97("0x646")](),this[_0x1d97("0xa3f")]();var i=a[_0x1d97("0xa40")](this[_0x1d97("0x3df")]);if(i[_0x1d97("0x0")]>0){var n=i[0][_0x1d97("0x3e0")];return n}return null}},{key:"coordScreenToMap",value:function(x,d){_0x1d97("0x0");var _=this[_0x1d97("0xa41")](x,d,0);return _?this.coordThreeToMap(_):null}},{key:_0x1d97("0xa42"),value:function(x,d,_){var e=this.currentCamera,t=this.coordMapToThree({x:x,y:d,z:_||0});t[_0x1d97("0xa43")](e);var a=this[_0x1d97("0x16d")][_0x1d97("0xa44")],i=this[_0x1d97("0x16d")][_0x1d97("0xa45")];return{x:t.x*a+a,y:i-t.y*i}}},{key:"project_",value:function(x){var d=new THREE.Vector3;d[_0x1d97("0x64f")](x[_0x1d97("0x181")]),d.project(this[_0x1d97("0x17f")]);var _=d.x*this.mapView[_0x1d97("0xa44")],e=d.y*this[_0x1d97("0x16d")][_0x1d97("0xa45")];return{x:_+this.mapView[_0x1d97("0xa44")],y:-e+this[_0x1d97("0x16d")].h_2_}}},{key:_0x1d97("0xa46"),value:function(x){var d=[this[_0x1d97("0xa47")]()][_0x1d97("0x1de")](this[_0x1d97("0x57d")]);for(var _ in d){var e=d[_][_0x1d97("0x576")];for(var t in e)for(var a=e[t].children,i=0;i<a[_0x1d97("0x0")];i++)if(a[i].name==_0x1d97("0xa48")&&a[i].userData.id===x)return a[i].datas_}return null}},{key:_0x1d97("0xa49"),value:function(x){var d=[this.getUserScene()][_0x1d97("0x1de")](this[_0x1d97("0x57d")]);for(var _ in d){var e=d[_][_0x1d97("0x576")];for(var t in e)for(var a=e[t][_0x1d97("0xa4")],i=0;i<a[_0x1d97("0x0")];i++)if(a[i][_0x1d97("0xb8")]==_0x1d97("0xa48")&&a[i][_0x1d97("0x11e")].id===x)return a[i][_0x1d97("0xa2")].close(),!0}}},{key:"clearAllPopMarker",value:function(){var x=[this[_0x1d97("0xa47")]()][_0x1d97("0x1de")](this[_0x1d97("0x57d")]);for(var d in x){var _=x[d][_0x1d97("0x576")];for(var e in _)for(var t=_[e][_0x1d97("0xa4")],a=0;a<t[_0x1d97("0x0")];a++)"popGroup"==t[a][_0x1d97("0xb8")]&&(t[a].datas_[_0x1d97("0xa4a")](),a--)}}},{key:"stopRender",value:function(){this[_0x1d97("0x1d9")](_0x1d97("0xa4b"))}},{key:_0x1d97("0xa4c"),value:function(){this[_0x1d97("0x1d9")](_0x1d97("0xa4c"))}},{key:_0x1d97("0xa4d"),value:function(x){var d=this,_=this.tileService[_0x1d97("0xa4e")][_0x1d97("0x0")],e=0;this[_0x1d97("0x35")].maximumTiles=x[_0x1d97("0x13d")],this[_0x1d97("0x18c")][_0x1d97("0xa4f")]=(Math.floor(Math.sqrt(this[_0x1d97("0x35")][_0x1d97("0xa21")]))-1)/2,this[_0x1d97("0x18c")][_0x1d97("0xa50")](x[_0x1d97("0x13d")]),this.on("tileUpdated",(function(){d[_0x1d97("0x18c")][_0x1d97("0xa51")]&&d.tileService[_0x1d97("0xa51")][_0x1d97("0x0")]>0?d[_0x1d97("0x18c")][_0x1d97("0xa52")]():x[_0x1d97("0x1bd")]&&x[_0x1d97("0x1bd")]()})),this.on("tileLoadComplete",(function(){var d=(e+=1)/_;x[_0x1d97("0xa53")]&&x.onProgress(d)}))}},{key:_0x1d97("0x277"),value:function(x){var d=this;_0x1d97("0x13d")==typeof x&&(x={angle:x});var _,e=(0,b[_0x1d97("0x13")])(x,_0x1d97("0x255"),_0x1d97("0x1b6"),.3),t=d.rotateAngle,a=function(x,d){var _=d-x;return Math.abs(_)>180&&(_=-1*(0,s[_0x1d97("0x1c")])(_)*360+_),_}(t,x[_0x1d97("0x257")]);d[_0x1d97("0xa54")]&&d[_0x1d97("0xa54")][_0x1d97("0x1af")](),d[_0x1d97("0xa54")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])({value:0}).to({value:1},1e3*e)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x){x=x.value,(_=t+a*x)<=0?_=360+_:_>=360&&(_-=360),d.rotateAngle=_}))[_0x1d97("0x1bd")]((function(){x.onComplete&&x[_0x1d97("0x1bd")]()})).start()}},{key:_0x1d97("0x8b8"),set:function(x){var d=this;if(x){d.controls.enabled=!1;var _=d[_0x1d97("0x17f")][_0x1d97("0xb6")][_0x1d97("0xdb")]();d[_0x1d97("0x280")][_0x1d97("0x8d8")](),d[_0x1d97("0x280")][_0x1d97("0x8d9")]();d.controls[_0x1d97("0xa55")]=_[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](d[_0x1d97("0x280")][_0x1d97("0x27e")].clone())[_0x1d97("0x0")](),d.firstPersonControls[_0x1d97("0x692")]=d[_0x1d97("0x252")]+90,d[_0x1d97("0x8a1")][_0x1d97("0x693")]=-(90-d.tiltAngle),d[_0x1d97("0x8a1")][_0x1d97("0x4d0")]=!0}else{var e=d.currentCamera.position.clone(),t=d.firstPersonControls[_0x1d97("0x27e")].clone();d[_0x1d97("0x8a1")][_0x1d97("0x4d0")]=!1,d[_0x1d97("0x280")].enabled=!0,d[_0x1d97("0x252")]=d[_0x1d97("0x8a1")][_0x1d97("0x692")]-90,d.tiltAngle=d.firstPersonControls.lat+90,d.currentCamera[_0x1d97("0xb6")][_0x1d97("0x267")](e);var a=t[_0x1d97("0x3d7")](e);a[_0x1d97("0x2e1")]();var i=e.clone()[_0x1d97("0xdc")](a.clone().multiplyScalar(d[_0x1d97("0x280")][_0x1d97("0xa55")]));d[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x267")](i),d[_0x1d97("0x17f")][_0x1d97("0x28f")](i),d.controls.update()}},get:function(){return!(!this[_0x1d97("0x8a1")]||!this.firstPersonControls[_0x1d97("0x4d0")])}},{key:"tileService",get:function(){return this[_0x1d97("0x2aa")][_0x1d97("0x18c")]}},{key:_0x1d97("0x8f3"),get:function(){return this.mapService.buildingService}},{key:"gestureController",get:function(){return this[_0x1d97("0xa56")]}},{key:_0x1d97("0xa57"),get:function(){return b[_0x1d97("0x8a6")][_0x1d97("0xa58")]}},{key:_0x1d97("0xa59"),get:function(){return b[_0x1d97("0x8a6")].activated},set:function(x){x?b[_0x1d97("0x8a6")][_0x1d97("0xa5a")](this.mapView[_0x1d97("0x42c")]):b[_0x1d97("0x8a6")][_0x1d97("0xa5b")]()}},{key:_0x1d97("0xa5c"),get:function(){return 6}},{key:_0x1d97("0x36"),get:function(){return this.options.mode}},{key:_0x1d97("0xa5d"),set:function(x){x.hasOwnProperty("color")&&(this.mapTheme[_0x1d97("0x933")][_0x1d97("0x100")]=x.color),x[_0x1d97("0x2")](_0x1d97("0x119"))&&(this[_0x1d97("0xf6")][_0x1d97("0x933")][_0x1d97("0x119")]=x[_0x1d97("0x119")]),x[_0x1d97("0x2")](_0x1d97("0xe1"))&&(this.mapTheme[_0x1d97("0x933")][_0x1d97("0xe1")]=x[_0x1d97("0xe1")]),x[_0x1d97("0x2")]("alpha")&&(this.mapTheme[_0x1d97("0x933")][_0x1d97("0xe1")]=x[_0x1d97("0xe1")]),x.hasOwnProperty(_0x1d97("0xa5e"))&&x[_0x1d97("0xa5e")][_0x1d97("0x2")](_0x1d97("0xa5f"))&&(this.mapTheme.navigateStyle_.dash[_0x1d97("0xa5f")]=x.dash[_0x1d97("0xa5f")]),x[_0x1d97("0x2")]("dash")&&x[_0x1d97("0xa5e")][_0x1d97("0x2")]("gap")&&(this[_0x1d97("0xf6")][_0x1d97("0x933")][_0x1d97("0xa5e")][_0x1d97("0xa60")]=x[_0x1d97("0xa5e")][_0x1d97("0xa60")])},get:function(){return this[_0x1d97("0xf6")][_0x1d97("0x933")]}},{key:_0x1d97("0x449"),get:function(){return this[_0x1d97("0x16c")][_0x1d97("0xa61")]}},{key:"maxX",get:function(){return this[_0x1d97("0x16c")].maxX_}},{key:_0x1d97("0x44c"),get:function(){return this[_0x1d97("0x16c")][_0x1d97("0xa62")]}},{key:_0x1d97("0x44e"),get:function(){return this[_0x1d97("0x16c")][_0x1d97("0xa63")]}},{key:_0x1d97("0x22e"),get:function(){return this[_0x1d97("0x280")][_0x1d97("0xa64")]?this.controls[_0x1d97("0xa64")]():24-this[_0x1d97("0x155")]},set:function(x){L=Math[_0x1d97("0xb0")](x),null!=this[_0x1d97("0x896")][L]&&this[_0x1d97("0x280")][_0x1d97("0x281")]&&this[_0x1d97("0x280")].setScaleLevelValue(this[_0x1d97("0x896")][L])}},{key:_0x1d97("0x204"),get:function(){return this[_0x1d97("0x97d")]},set:function(x){this.setScaleLevelLimit(x,this[_0x1d97("0xa36")])}},{key:_0x1d97("0x205"),get:function(){return this.maxScaleLevel_},set:function(x){this[_0x1d97("0x97c")](this.minScaleLevel_,x)}},{key:_0x1d97("0xa65"),get:function(){return this[_0x1d97("0x280")][_0x1d97("0x97b")]()},set:function(x){this[_0x1d97("0x280")][_0x1d97("0x281")](x)}},{key:"localCenter",get:function(){return{x:-this.mapView.center.x,y:this[_0x1d97("0x16d")][_0x1d97("0xe7")].y}}},{key:_0x1d97("0xa66"),get:function(){return this[_0x1d97("0x16d")][_0x1d97("0x30d")]()}},{key:_0x1d97("0xe7"),get:function(){return{x:-this[_0x1d97("0x16d")][_0x1d97("0xe7")].x,y:this[_0x1d97("0x16d")][_0x1d97("0xe7")].y}}},{key:"watchingOpens",get:function(){return this[_0x1d97("0x18c")].bidList}},{key:"maxPolarAngle",get:function(){return this[_0x1d97("0x280")][_0x1d97("0x8ee")]*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")]},set:function(x){this[_0x1d97("0x280")][_0x1d97("0x8ee")]=x*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")],this[_0x1d97("0x280")][_0x1d97("0x11d")]()}},{key:"mapOriginCoord",get:function(){return new(THREE[_0x1d97("0xe0")])(this[_0x1d97("0x16c")][_0x1d97("0x199")],0,this[_0x1d97("0x16c")][_0x1d97("0x19a")])}},{key:_0x1d97("0x1ef"),set:function(x){var d=x,_=!1,t=!1;if(typeof x==_0x1d97("0xe")){if("2D"!=(x=x[_0x1d97("0xa67")]())&&"3D"!=x)return void console[_0x1d97("0x245")](_0x1d97("0xa68"))}else{if("2D"!=x[_0x1d97("0x36")]&&"3D"!=x[_0x1d97("0x36")])return void console[_0x1d97("0x245")]("viewMode must be 2D or 3D");_=x[_0x1d97("0x32")],t=x[_0x1d97("0xa69")]}if(!(_&&window[_0x1d97("0x4d8")].tileMapInited&&"2D"==x[_0x1d97("0x36")]||x==this[_0x1d97("0x1ef")]))if(t||_||this[_0x1d97("0x35")][_0x1d97("0x20f")]||1!=this[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xf0")]||!window[_0x1d97("0x4d8")].tileMapInited){if(!this.__viewModeAnimating){var a=null,i=null;if(_0x1d97("0xc")==(typeof d===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(d))&&(a=d[_0x1d97("0x255")],i=d.callback,d=d.mode),d!=this[_0x1d97("0x890")]){var n=this;n[_0x1d97("0x884")]=!0;var r=this[_0x1d97("0x16d")][_0x1d97("0x567")],s=this[_0x1d97("0x16d")][_0x1d97("0x906")];"3D"==this.viewMode_?(n[_0x1d97("0x883")]=n[_0x1d97("0x280")][_0x1d97("0x8d9")](),esmap.TWEEN[_0x1d97("0x8d7")](null!=a?a:n.options[_0x1d97("0x1fe")]?n[_0x1d97("0x35")].viewModeAnimateTime:0,(function(x){n[_0x1d97("0x280")][_0x1d97("0x11d")]({forcePhi:n.__lastPhi-n[_0x1d97("0x883")]*x[_0x1d97("0xf1")]}),n.requireUpdateCollide_=!0}),null,(function(){n[_0x1d97("0x280")][_0x1d97("0xc")]=n[_0x1d97("0x16d")].cameraTop,n[_0x1d97("0x280")][_0x1d97("0x889")]=0,n[_0x1d97("0x280")][_0x1d97("0x8ee")]=0,n[_0x1d97("0x17f")]=n[_0x1d97("0x16d")].cameraTop,n[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:n[_0x1d97("0x280")][_0x1d97("0x8d8")]()+Math.PI,notChangeCompass:!0}),n[_0x1d97("0x280")][_0x1d97("0xc")]=n.mapView.cameraTop,n[_0x1d97("0x280")][_0x1d97("0x8ee")]=0,n.mapView.cameraTop.position[_0x1d97("0x267")](r[_0x1d97("0xb6")]),n[_0x1d97("0x280")][_0x1d97("0x11d")](),function(x){var _=esmap[_0x1d97("0x75")].getOrthoCameraSizeByPerspectiveCamera(r,x[_0x1d97("0x280")]);s[_0x1d97("0xa6b")]=1,s.left=-_[_0x1d97("0x648")],s[_0x1d97("0x648")]=_[_0x1d97("0x648")],s[_0x1d97("0x3a6")]=_[_0x1d97("0x3a6")],s[_0x1d97("0x16f")]=-_.top,s[_0x1d97("0x81d")](),d&&(x[_0x1d97("0x890")]=d),x[_0x1d97("0x884")]=!1}(n),i&&i(n[_0x1d97("0x890")]),n.fire(_0x1d97("0x8aa"),n[_0x1d97("0x890")])}))):(n[_0x1d97("0x280")][_0x1d97("0xc")]=n[_0x1d97("0x16d")].camera,n[_0x1d97("0x280")][_0x1d97("0x889")]=0,n[_0x1d97("0x280")].maxPolarAngle=Math.PI/2.5,n.currentCamera=n[_0x1d97("0x16d")].camera,n[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:n[_0x1d97("0x280")][_0x1d97("0x8d8")](),notChangeCompass:!0}),esmap.TWEEN[_0x1d97("0x8d7")](null!=a?a:n[_0x1d97("0x35")][_0x1d97("0x1fe")]?n[_0x1d97("0x35")][_0x1d97("0xa6c")]:0,(function(x){n.controls[_0x1d97("0x11d")]({forcePhi:n.__lastPhi*x[_0x1d97("0xf1")]}),n.requireUpdateCollide_=!0}),null,(function(){i&&i(n[_0x1d97("0x890")]),n.__viewModeAnimating=!1})),function(x){var _=s[_0x1d97("0xa6b")],e=x[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x25d")](r.position),t=r[_0x1d97("0xb6")][_0x1d97("0xdb")]().sub(x.controls[_0x1d97("0x27e")])[_0x1d97("0x2e1")]();r[_0x1d97("0xb6")][_0x1d97("0x267")](x.controls[_0x1d97("0x27e")][_0x1d97("0xdb")]()[_0x1d97("0xdc")](t.multiplyScalar(e/_))),r.updateProjectionMatrix(),x.viewMode_=d}(n),n.fire("viewModeChanged",n[_0x1d97("0x890")])),this[_0x1d97("0x5c7")]=0}}}else{"2D"==x&&(this[_0x1d97("0xa6a")]=this[_0x1d97("0x8c1")]);var o="2D"==x?.01:this[_0x1d97("0xa6a")];this[_0x1d97("0x977")]({angle:o,callback:function(){}})}},get:function(){return this.viewMode_}},{key:_0x1d97("0xa6d"),set:function(x){var d=this;if(x!=this[_0x1d97("0xf6")].themeName_){if(d[_0x1d97("0xf6")][_0x1d97("0xa6e")]=x,!d.sceneId_)return;d[_0x1d97("0xf6")][_0x1d97("0xa6f")]=x;var _=this.options[_0x1d97("0xa70")];this[_0x1d97("0x8f3")][_0x1d97("0x988")](x,_,(function(_){d[_0x1d97("0xf6")][_0x1d97("0xa71")](_,x)}))}},get:function(){return this[_0x1d97("0xf6")][_0x1d97("0xa6e")]}},{key:"backgroundColor",set:function(x){this[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x60c")](parseInt(x))}},{key:_0x1d97("0xa72"),set:function(x){x!=this[_0x1d97("0x892")][_0x1d97("0xf0")]&&(this[_0x1d97("0x892")][_0x1d97("0xf0")]=x)},get:function(){return this[_0x1d97("0x892")][_0x1d97("0xf0")]}},{key:_0x1d97("0xa73"),get:function(){return Math.ceil(this[_0x1d97("0x16d")][_0x1d97("0x155")])}},{key:_0x1d97("0x155"),get:function(){return this.mapView.zoomLevel},set:function(x){this[_0x1d97("0x16d")].zoomLevel=x}},{key:_0x1d97("0xa74"),get:function(){return this[_0x1d97("0x16d")].shadowLight[_0x1d97("0xa75")]},set:function(x){this.mapView[_0x1d97("0xa76")][_0x1d97("0xa75")]=x}},{key:_0x1d97("0x1f8"),get:function(){return this[_0x1d97("0x16d")][_0x1d97("0xa77")]},set:function(x){this[_0x1d97("0x16d")][_0x1d97("0xa77")]=x}},{key:_0x1d97("0xa78"),get:function(){return this[_0x1d97("0x16d")].shadowAngleY},set:function(x){this[_0x1d97("0x16d")][_0x1d97("0xa79")]=x}},{key:"id",set:function(x){this.sceneId_=x},get:function(){return this[_0x1d97("0xa7a")]}},{key:_0x1d97("0x585"),get:function(){for(var x=[],d=0;d<this.mapScene[_0x1d97("0x90f")].children[_0x1d97("0x0")];d++)x[_0x1d97("0x1")](this[_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xa4")][d][_0x1d97("0xa2")]);return x}},{key:"Name",get:function(){return this[_0x1d97("0x2aa")][_0x1d97("0x424")](_0x1d97("0xa7b"))}},{key:_0x1d97("0xa7c"),get:function(){return this[_0x1d97("0x2aa")][_0x1d97("0x424")](_0x1d97("0x8f6"))}},{key:_0x1d97("0x8c1"),get:function(){return this.controls[_0x1d97("0x8d9")]()*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")]},set:function(x){(x=x*Math.PI/180)<this.controls[_0x1d97("0x889")]&&(x=this[_0x1d97("0x280")][_0x1d97("0x889")]),x>this[_0x1d97("0x280")][_0x1d97("0x8ee")]&&(x=this[_0x1d97("0x280")][_0x1d97("0x8ee")]),this[_0x1d97("0x280")][_0x1d97("0x11d")]({forcePhi:x}),this.updateCountDown_=0}},{key:_0x1d97("0x252"),get:function(){var x=this[_0x1d97("0x280")][_0x1d97("0x8d8")]();return(Math.PI-x)*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")]},set:function(x){x=-x*THREE[_0x1d97("0x24e")].DEG2RAD,this[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:x+Math.PI}),this[_0x1d97("0x5c7")]=0}},{key:_0x1d97("0x328"),get:function(){return this.mapView.w_}},{key:_0x1d97("0x1b5"),get:function(){return this[_0x1d97("0x16d")].h_}}]),d}(v[_0x1d97("0x1c")]);z.tempFlipX_=!0,z[_0x1d97("0x8ed")]=!1,z.id=1,d.default=z},,,,,,,function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=b(_(27)),t=b(_(4)),a=b(_(0)),i=b(_(1)),n=b(_(5)),r=b(_(6)),s=b(_(276)),o=b(_(278)),c=b(_(98)),l=b(_(134)),u=_(34),f=b(_(282)),h=_(99);function b(x){return x&&x.__esModule?x:{default:x}}_(287);var g=null,v=!1,p=function(x){function d(x){(0,a[_0x1d97("0x1c")])(this,d);var _=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this));return _[_0x1d97("0xa7d")]=.01,_[_0x1d97("0x32")](x),_}return(0,r[_0x1d97("0x1c")])(d,x),(0,i.default)(d,[{key:_0x1d97("0x32"),value:function(x){this[_0x1d97("0x35")]=new h.MapOptions(x),this[_0x1d97("0x16d")]=new(s[_0x1d97("0x1c")])(this),this[_0x1d97("0x16d")][_0x1d97("0x32")]()&&(this[_0x1d97("0x17f")]=this.mapView[_0x1d97("0x567")],this[_0x1d97("0x17f")][_0x1d97("0xb6")][_0x1d97("0x11b")](30,30,30),this[_0x1d97("0x280")]=new(THREE[_0x1d97("0xa7e")])(this[_0x1d97("0x16d")].camera,this[_0x1d97("0x16d")].container),this[_0x1d97("0x16d")].container[_0x1d97("0x30")]("wheel",(function(x){x.preventDefault()})),this[_0x1d97("0x146")]=new(o[_0x1d97("0x1c")])(this),this[_0x1d97("0x146")][_0x1d97("0x8a9")]=x.hoverMode,this[_0x1d97("0xa7f")]=new(THREE[_0x1d97("0x227")]),this.compass=new f.default(!1,this[_0x1d97("0x16d")].sceneOrtho,this[_0x1d97("0x35")]),this[_0x1d97("0xa80")](),this.mapView[_0x1d97("0x940")](),this.update(),this.on(_0x1d97("0xa4b"),(function(){v=!0})),this.on(_0x1d97("0xa4c"),(function(){v=!1})))}},{key:_0x1d97("0xa81"),value:function(){var x=this;THREE[_0x1d97("0x6bc")]=null,x[_0x1d97("0x1d9")]("dispose"),x[_0x1d97("0x8eb")](),x[_0x1d97("0x1dc")](),cancelAnimationFrame(g);var d=this[_0x1d97("0x16d")][_0x1d97("0x305")],_=this[_0x1d97("0x16d")][_0x1d97("0x5e8")];x.mapPicker.dispose(),(0,u[_0x1d97("0xa0")])(d),x.controls[_0x1d97("0xa6")]();var t=x[_0x1d97("0x16d")][_0x1d97("0x4a1")].getContext(_0x1d97("0xa82"));t||(t=x[_0x1d97("0x16d")].canvas[_0x1d97("0x84b")](_0x1d97("0x4d7"))),t[_0x1d97("0x5f5")](t[_0x1d97("0xa83")]);for(var a=0;a<x[_0x1d97("0x585")][_0x1d97("0x0")];a++)x.tileList[a]=null;for(var i=0;i<x[_0x1d97("0x57d")].length;i++)x[_0x1d97("0x57d")][i]=null;(0,e[_0x1d97("0x1c")])(x[_0x1d97("0x16d")].container[_0x1d97("0xa4")])[_0x1d97("0x1d")]((function(d){x.mapView[_0x1d97("0x42c")][_0x1d97("0x39a")](d)})),_[_0x1d97("0x63c")]=void 0,esmap[_0x1d97("0x33")][_0x1d97("0x34")]=null,THREE[_0x1d97("0xa84")].clear()}},{key:_0x1d97("0xa85"),value:function(x){var d=this.controls[_0x1d97("0x88a")];this[_0x1d97("0x280")][_0x1d97("0xa6")](),this[_0x1d97("0xa86")](x);var _=esmap.ESMap[_0x1d97("0x34")];_&&x[_0x1d97("0x30")](_0x1d97("0x88e"),_[_0x1d97("0x88f")][_0x1d97("0x11")](this)),this[_0x1d97("0x280")]=x,this.controls[_0x1d97("0x88a")]=d,this.gestureController_&&(this.gestureController_.controls_=x),this[_0x1d97("0x1d9")](_0x1d97("0xa87"))}},{key:"registerEvents",value:function(){var x,d,_,e,t,a=this;a[_0x1d97("0x146")][_0x1d97("0xa80")](a),this[_0x1d97("0x146")].on(_0x1d97("0x9df"),(function(x){var d=null;x[_0x1d97("0x642")][_0x1d97("0x0")]>0&&(d=x.objects[0][_0x1d97("0xc")]),a.fire(_0x1d97("0xa88"),{obj:d})})),a.registerMapControllerEvents(a.controls),a[_0x1d97("0xa89")]=(_=function(x,d){return""!==x?x+d.slice(0,1)[_0x1d97("0xa67")]()+d.slice(1):d},d=!1,typeof window[_0x1d97("0xa8a")]===_0x1d97("0x13d")&&[_0x1d97("0xa8b"),_0x1d97("0xa8c"),"ms","o",""].forEach((function(e){0==d&&null!=document[_(e,_0x1d97("0x63b"))]&&(x=e,d=!0)})),e=d,{state:(t=function(){if(e)return document[_(x,"visibilityState")]})(),visibilitychange:function(d,_){if(e&&typeof d===_0x1d97("0x1e"))return document[_0x1d97("0x30")](x+"visibilitychange",function(x){this[_0x1d97("0x5fa")]=t(),d.call(this,x)}.bind(this),!1)}}),a.pageVisibility[_0x1d97("0xa8d")]((function(){a[_0x1d97("0x1d9")](_0x1d97("0xa8e"),this[_0x1d97("0x5fa")])}))}},{key:_0x1d97("0xa86"),value:function(x){var d=this;x[_0x1d97("0x30")](_0x1d97("0x1c1"),(function(x){esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]&&(v=!1),d[_0x1d97("0x1d9")](_0x1d97("0xa8f"))})),x.addEventListener(_0x1d97("0x2c4"),(function(){esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]&&(v=!0),d.fire(_0x1d97("0x895"))})),x[_0x1d97("0x30")](_0x1d97("0x88e"),(function(){d[_0x1d97("0x9ae")][_0x1d97("0xa90")](-d[_0x1d97("0x280")].getAzimuthalAngle()-Math.PI)}))}},{key:"update",value:function(){var x=this;v||(x[_0x1d97("0x1d9")](_0x1d97("0x11d"),x[_0x1d97("0xa7d")]),x[_0x1d97("0x1d9")](_0x1d97("0x8ea"),x.maindeltaTime)),g=requestAnimationFrame(x[_0x1d97("0x11d")].bind(x)),v||(x[_0x1d97("0x16d")][_0x1d97("0x4cd")](),x[_0x1d97("0x280")][_0x1d97("0x11d")](),x[_0x1d97("0xa7d")]=x[_0x1d97("0xa7f")].getDelta())}},{key:"compassOffset",get:function(){return this[_0x1d97("0x9ae")].options_.compassOffset},set:function(x){var d=this[_0x1d97("0x9ae")][_0x1d97("0x41d")].compassOffset;this[_0x1d97("0x9ae")][_0x1d97("0xa91")][_0x1d97("0xb6")].x=this.compass[_0x1d97("0xa91")][_0x1d97("0xb6")].x-d[0]+x[0],this.compass.spriteBg_.position.y=this[_0x1d97("0x9ae")][_0x1d97("0xa91")].position.y+d[1]-x[1],this[_0x1d97("0x9ae")].spritePt_[_0x1d97("0xb6")].x=this[_0x1d97("0x9ae")].spritePt_[_0x1d97("0xb6")].x-d[0]+x[0],this[_0x1d97("0x9ae")][_0x1d97("0xa92")][_0x1d97("0xb6")].y=this[_0x1d97("0x9ae")].spritePt_[_0x1d97("0xb6")].y+d[1]-x[1],this[_0x1d97("0x9ae")][_0x1d97("0x41d")][_0x1d97("0xa93")]=x}},{key:"compassSize",get:function(){return this[_0x1d97("0x9ae")].spriteBg_.scale.x},set:function(x){this[_0x1d97("0x9ae")][_0x1d97("0xa91")].scale.x=x,this.compass[_0x1d97("0xa91")][_0x1d97("0x237")].y=x,this.compass.spritePt_[_0x1d97("0x237")].x=x,this[_0x1d97("0x9ae")][_0x1d97("0xa92")][_0x1d97("0x237")].y=x}},{key:"showCompass",set:function(x){x!=this[_0x1d97("0x9ae")][_0x1d97("0xf0")]&&(this[_0x1d97("0x9ae")][_0x1d97("0xf0")]=x,x&&this[_0x1d97("0x9ae")].updateDirection(this[_0x1d97("0x35")][_0x1d97("0x1fb")]*THREE[_0x1d97("0x24e")].DEG2RAD))},get:function(){return this[_0x1d97("0x9ae")].visible}}]),d}((0,c[_0x1d97("0x1c")])(l[_0x1d97("0x1c")]));d.default=p},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(0)),t=n(_(1)),a=n(_(54)),i=n(_(277));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=new(a[_0x1d97("0x1c")]),s=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xa94")]=.018661384582519532,this[_0x1d97("0xa95")]=19567.88,this.ZoomLevel={1:78271.52},this[_0x1d97("0x6c8")]={},this[_0x1d97("0x38")]=d,this[_0x1d97("0x4d7")]=!1,this.panLimit=null,this._lastValidCoord=null}return(0,t.default)(x,[{key:_0x1d97("0x5d8"),value:function(){var x={};this[_0x1d97("0x42c")][_0x1d97("0x22")][_0x1d97("0x328")]&&this[_0x1d97("0x42c")][_0x1d97("0x22")].height?(this[_0x1d97("0x42c")][_0x1d97("0x22")][_0x1d97("0x328")][_0x1d97("0xd7")]("px")>-1&&(x[_0x1d97("0x328")]=this[_0x1d97("0x42c")].style[_0x1d97("0x328")][_0x1d97("0x106")]("px","")),this.container[_0x1d97("0x22")][_0x1d97("0x1b5")][_0x1d97("0xd7")]("px")>-1&&(x[_0x1d97("0x1b5")]=this[_0x1d97("0x42c")].style[_0x1d97("0x1b5")][_0x1d97("0x106")]("px","")),x[_0x1d97("0x328")]&&x[_0x1d97("0x1b5")]||(x={width:this.container[_0x1d97("0x3bb")],height:this.container[_0x1d97("0x42e")]})):x={width:this.container[_0x1d97("0x3bb")],height:this.container.clientHeight};var d=x[_0x1d97("0x328")],_=x[_0x1d97("0x1b5")];return d!=this.w_||_!=this.h_?{w:d,h:_}:null}},{key:"init",value:function(){this[_0x1d97("0x42c")]=this.map.options[_0x1d97("0x42c")],this[_0x1d97("0x42c")][_0x1d97("0x22")].outline=_0x1d97("0x4e2");var x=this[_0x1d97("0x38")].options.powerPreference;try{var d=this.map[_0x1d97("0x35")].effects;if(esmap[_0x1d97("0xa96")]&&(null==d||d)){var _={antialias:!0,alpha:!!this.map[_0x1d97("0x35")].perspective},e=document[_0x1d97("0x21")](_0x1d97("0x4a1")),t=e[_0x1d97("0x84b")](_0x1d97("0x4d7"),_);null!==t?(this[_0x1d97("0x5e8")]=new(THREE[_0x1d97("0xa97")])({canvas:e,context:t,powerPreference:x,alpha:!!this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1fd")],precision:"highp",logarithmicDepthBuffer:true}),this[_0x1d97("0x4d7")]=!0):this[_0x1d97("0x5e8")]=new THREE.WebGLRenderer({antialias:!0,precision:"highp",powerPreference:x,alpha:!!this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1fd")],logarithmicDepthBuffer:!0})}else this.renderer=new(THREE[_0x1d97("0xa97")])({antialias:!0,precision:_0x1d97("0xa98"),powerPreference:x,logarithmicDepthBuffer:true});this[_0x1d97("0x5e8")][_0x1d97("0xa99")]=!0,this.renderer.zBufferSupport=!0}catch(x){return void(new(i[_0x1d97("0x1c")]))[_0x1d97("0x50a")](this[_0x1d97("0x42c")])}this[_0x1d97("0x4a1")]=this[_0x1d97("0x5e8")].domElement,this.hide(),this[_0x1d97("0x5e8")][_0x1d97("0x60c")](16777215),this[_0x1d97("0x5e8")].setPixelRatio(window[_0x1d97("0xa9a")]),this[_0x1d97("0x5e8")][_0x1d97("0x609")]=!1,this.renderer.shadowMap.enabled=!1;var a=this[_0x1d97("0x42c")][_0x1d97("0x3bb")],n=this[_0x1d97("0x42c")].clientHeight||window[_0x1d97("0x679")];this[_0x1d97("0x5e8")].setSize(a,n),this[_0x1d97("0x42c")][_0x1d97("0x25")](this[_0x1d97("0x4a1")]),this.map[_0x1d97("0x35")][_0x1d97("0x1f3")]==esmap.ESCameraMode[_0x1d97("0x1f5")]?this[_0x1d97("0x567")]=new(THREE[_0x1d97("0x8ca")])(35,a/n,1,4e4):this[_0x1d97("0x567")]=new(THREE[_0x1d97("0x8ca")])(60,a/n,.001,1e4),this[_0x1d97("0xa9b")]=2*Math.tan(this[_0x1d97("0x567")][_0x1d97("0x56a")]*Math.PI/360),this[_0x1d97("0x567")][_0x1d97("0xa9c")]=new THREE.Vector3,this[_0x1d97("0x567")][_0x1d97("0x11e")][_0x1d97("0xa9d")]=this[_0x1d97("0xa9b")]/n,this[_0x1d97("0x305")]=new(THREE[_0x1d97("0x8cd")]),this[_0x1d97("0x567")][_0x1d97("0x28f")](this[_0x1d97("0x305")][_0x1d97("0xb6")]),this[_0x1d97("0x906")]=new(THREE[_0x1d97("0x5f7")])(-a/2,a/2,-n/2,n/2,1,1e5),this[_0x1d97("0x906")].rotation[_0x1d97("0x11b")](-Math.PI/2,0,0,"XYZ"),this[_0x1d97("0x906")][_0x1d97("0xa9e")]=!1,this[_0x1d97("0x906")][_0x1d97("0xb6")][_0x1d97("0x11b")](0,1e5,0),this[_0x1d97("0x38")].options[_0x1d97("0x1fd")]&&this[_0x1d97("0x5e8")].setClearAlpha(0),this[_0x1d97("0xa9f")]=new(esmap[_0x1d97("0x50b")])(this[_0x1d97("0x38")]),this.cameraOrtho=new(THREE[_0x1d97("0x5f7")])(-a/2,a/2,n/2,-n/2,1,1e3),this[_0x1d97("0x941")].position[_0x1d97("0x3ca")](10),this[_0x1d97("0x4a0")]=new THREE.Scene,this[_0x1d97("0xaa0")]=new THREE.AmbientLight,this[_0x1d97("0xaa0")][_0x1d97("0xb8")]="1",this.ambientLight.intensity=.5,this[_0x1d97("0x305")][_0x1d97("0xdc")](this[_0x1d97("0xaa0")]),this[_0x1d97("0x6c8")][1]=this.ambientLight,this[_0x1d97("0xaa1")]=new(THREE[_0x1d97("0x6cb")])(8947848,1.4),this[_0x1d97("0xaa1")].name="2",this[_0x1d97("0x305")][_0x1d97("0xdc")](this[_0x1d97("0xaa1")]),this[_0x1d97("0x6c8")][2]=this[_0x1d97("0xaa1")];var r=new(THREE[_0x1d97("0x6cb")])(0,.1);return r[_0x1d97("0xb8")]="3",this[_0x1d97("0xaa2")]=r,this[_0x1d97("0x305")].add(r),this[_0x1d97("0x6c8")][3]=r,this[_0x1d97("0xaa3")](a,n),window[_0x1d97("0x30")](_0x1d97("0x89f"),this.onWindowResize[_0x1d97("0x11")](this),!1),!0}},{key:_0x1d97("0xaa4"),value:function(){this[_0x1d97("0x4a1")][_0x1d97("0x22")][_0x1d97("0xaa5")]="hidden"}},{key:_0x1d97("0x274"),value:function(){this[_0x1d97("0x4a1")][_0x1d97("0x22")][_0x1d97("0xaa5")]=_0x1d97("0xaa6")}},{key:_0x1d97("0xaa7"),value:function(x){var d=this.level2Resolution(x)/this[_0x1d97("0x567")][_0x1d97("0x11e")][_0x1d97("0xa9d")]/this[_0x1d97("0x38")].controls[_0x1d97("0x96e")];this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x281")](d)}},{key:"getOrthoZoomLevel",value:function(){var x=this[_0x1d97("0x38")],d=x.controls[_0x1d97("0x97b")](),_=x[_0x1d97("0x280")].initDistance_*d,e=this.camera.userData[_0x1d97("0xa9d")]*_;return this[_0x1d97("0xaa8")](e)}},{key:_0x1d97("0xaa9"),value:function(x){return this[_0x1d97("0x567")][_0x1d97("0x11e")][_0x1d97("0xa9d")]*x}},{key:"getZoomLevelByDistance",value:function(x){return this[_0x1d97("0xaa8")](this[_0x1d97("0xaa9")](x))}},{key:_0x1d97("0x904"),value:function(x){return this[_0x1d97("0xaaa")](x)/this.camera[_0x1d97("0x11e")].vFovHeight}},{key:"resolution2Level",value:function(x){return Math[_0x1d97("0x246")](78271.52/x)*Math.LOG2E+1}},{key:_0x1d97("0xaaa"),value:function(x){return 78271.52/Math[_0x1d97("0xa8")](Math.E,(x-1)/Math.LOG2E)}},{key:"calResolution",value:function(x,d){x[_0x1d97("0xaab")](x.cam2control);var _=x[_0x1d97("0xa9c")],e=new(THREE[_0x1d97("0xe0")]),t=x.position;if(this[_0x1d97("0x38")].viewMode==_0x1d97("0x3a6")){var a=this.map;t=a[_0x1d97("0x280")].target.clone()[_0x1d97("0xdc")](this[_0x1d97("0x567")][_0x1d97("0xb6")].clone()[_0x1d97("0x3d7")](a[_0x1d97("0x280")].target)[_0x1d97("0x2e1")]().multiplyScalar(a.controls.target[_0x1d97("0x25d")](this[_0x1d97("0x567")][_0x1d97("0xb6")])/this.cameraTop[_0x1d97("0xa6b")]))}return e.subVectors(d,t),x[_0x1d97("0x11e")][_0x1d97("0xa9d")]*_[_0x1d97("0x7f5")](e)}},{key:_0x1d97("0xaac"),value:function(){return this[_0x1d97("0x38")][_0x1d97("0x259")](this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")])}},{key:_0x1d97("0x30d"),value:function(){return this[_0x1d97("0x38")][_0x1d97("0x23d")](this[_0x1d97("0x38")].controls[_0x1d97("0x27e")])}},{key:_0x1d97("0x96a"),value:function(){var x=this.map[_0x1d97("0x23d")](this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")]);return esmap[_0x1d97("0x75")][_0x1d97("0xa9")](x.x,x.y)}},{key:"updateSize",value:function(x,d){if(!x||!d){var _=this[_0x1d97("0x5d8")]();if(!_)return;x=_.w,d=_.h}if(0!=x&&0!=d){this[_0x1d97("0x89f")](x,d),this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x89f"),{width:x,height:d});var e=this[_0x1d97("0x4a1")][_0x1d97("0x328")],t=this[_0x1d97("0x4a1")][_0x1d97("0x1b5")];e==x&&t==d||this[_0x1d97("0x940")]()}}},{key:"initCss2dScene",value:function(x,d){var _=new(THREE[_0x1d97("0x64c")]);_[_0x1d97("0x5f3")](x,d);var e=_.domElement;e[_0x1d97("0x22")][_0x1d97("0x328")]="100%",e.style[_0x1d97("0x1b5")]="100%",this.container[_0x1d97("0x25")](e);var t=this.canvas;t[_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x329"),t[_0x1d97("0x22")].height="100%",t[_0x1d97("0x22")].pointerEvents=_0x1d97("0x4e2"),e.appendChild(t),this[_0x1d97("0x321")]=_}},{key:_0x1d97("0xaad"),value:function(){this.updateSize(),this[_0x1d97("0x38")][_0x1d97("0x9ae")][_0x1d97("0x423")](this.w_,this.h_),this.updateSize()}},{key:"resize",value:function(x,d){this[_0x1d97("0xa44")]=x/2,this[_0x1d97("0xa45")]=d/2,this[_0x1d97("0xa9f")][_0x1d97("0xaae")](x,d),this.renderer.setSize(x,d),this[_0x1d97("0x321")][_0x1d97("0x5f3")](x,d),this[_0x1d97("0x567")][_0x1d97("0x56b")]=x/d,this[_0x1d97("0x567")].updateProjectionMatrix(),this.cssCamera&&(this.cssCamera[_0x1d97("0x56b")]=x/d,this[_0x1d97("0x8cc")].updateProjectionMatrix(),this[_0x1d97("0xaaf")][_0x1d97("0x5f3")](x,d));var _=esmap[_0x1d97("0x75")][_0x1d97("0x549")](this[_0x1d97("0x567")],this.map[_0x1d97("0x280")]);this.cameraTop[_0x1d97("0x3a5")]=-_.right,this.cameraTop.right=_[_0x1d97("0x648")],this[_0x1d97("0x906")][_0x1d97("0x3a6")]=_[_0x1d97("0x3a6")],this[_0x1d97("0x906")][_0x1d97("0x16f")]=-_.top,this.cameraTop[_0x1d97("0x81d")](),this[_0x1d97("0x941")].left=-this[_0x1d97("0xa44")],this.cameraOrtho[_0x1d97("0x648")]=this.w_2_,this[_0x1d97("0x941")].top=this[_0x1d97("0xa45")],this.cameraOrtho[_0x1d97("0x16f")]=-this[_0x1d97("0xa45")],this.cameraOrtho[_0x1d97("0x81d")](),this.w_=x,this.h_=d}},{key:_0x1d97("0xab0"),value:function(){var x="";try{var d=this[_0x1d97("0x38")].mapView.renderer.context[_0x1d97("0xab1")](_0x1d97("0xab2"));x=_0x1d97("0xab3")+this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x1d8")][_0x1d97("0xab4")](d[_0x1d97("0xab5")])}catch(d){x=d[_0x1d97("0x2d")]()}return x}},{key:"render",value:function(){this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x210")]||(this.renderer[_0x1d97("0x5f5")](),"3D"==this.map[_0x1d97("0x890")]?this[_0x1d97("0x5e8")][_0x1d97("0x4cd")](this.scene,this[_0x1d97("0x567")]):this[_0x1d97("0x5e8")][_0x1d97("0x4cd")](this[_0x1d97("0x305")],this[_0x1d97("0x906")]),this[_0x1d97("0x5e8")][_0x1d97("0x608")](),this[_0x1d97("0x5e8")][_0x1d97("0x4cd")](this[_0x1d97("0x4a0")],this[_0x1d97("0x941")]),"3D"==this.map[_0x1d97("0x890")]?this[_0x1d97("0x321")][_0x1d97("0x4cd")](this[_0x1d97("0x305")],this[_0x1d97("0x567")]):this[_0x1d97("0x321")][_0x1d97("0x4cd")](this[_0x1d97("0x305")],this.cameraTop))}},{key:_0x1d97("0xab6"),get:function(){return this.resolution2Level(this.resolution)}},{key:_0x1d97("0x280"),get:function(){return this[_0x1d97("0x38")].controls}},{key:_0x1d97("0x155"),get:function(){return this[_0x1d97("0x38")].viewMode==esmap[_0x1d97("0x504")][_0x1d97("0xab7")]?this.resolution2Level(this.resolution):this[_0x1d97("0xab8")]()},set:function(x){if(this[_0x1d97("0x38")].viewMode==esmap[_0x1d97("0x504")][_0x1d97("0xab7")]){var d=this[_0x1d97("0xaaa")](x);this.resolution=d}else this[_0x1d97("0xaa7")](x)}},{key:"resolution",get:function(){var x=this[_0x1d97("0xab9")](this[_0x1d97("0x567")],this[_0x1d97("0x280")].target);return r[_0x1d97("0x11b")](this,x),r[_0x1d97("0x359")](this)},set:function(x){if(x&&null!=x&&!isNaN(x)&&(x=Math[_0x1d97("0x317")](this[_0x1d97("0xa94")],Math[_0x1d97("0x318")](x,this[_0x1d97("0xa95")])),r[_0x1d97("0x11b")](this,x),this.controls&&this.camera[_0x1d97("0x11e")].vFovHeight)){var d=x/this.camera[_0x1d97("0x11e")].vFovHeight;this[_0x1d97("0x567")].getWorldDirection(this.camera[_0x1d97("0xa9c")]);var _=this[_0x1d97("0x567")].cam2control,e=_[_0x1d97("0x7f5")](this[_0x1d97("0x280")].target),t=_.dot(this[_0x1d97("0x567")][_0x1d97("0xb6")]),a=(new(THREE[_0x1d97("0xe0")]))[_0x1d97("0x7ee")](this[_0x1d97("0x280")][_0x1d97("0x27e")],this[_0x1d97("0x567")][_0x1d97("0xb6")]),i=(t-(e-d))/a[_0x1d97("0x7f5")](_);a[_0x1d97("0x276")](i),this[_0x1d97("0x567")][_0x1d97("0xb6")][_0x1d97("0x3d7")](a),this.camera[_0x1d97("0x646")](!0),this[_0x1d97("0x280")][_0x1d97("0x11d")]()}}}]),x}();d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(){(0,e.default)(this,x)}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x50a"),value:function(x){var d=document.createElement(_0x1d97("0x327"));d[_0x1d97("0x331")]=_0x1d97("0xaba"),d[_0x1d97("0x332")](_0x1d97("0x333"),"noWebGL"),x[_0x1d97("0x25")](d)}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=l(_(4)),t=l(_(0)),a=l(_(1)),i=l(_(5)),n=l(_(6)),r=_(11),s=l(_(98)),o=l(_(134)),c=_(34);function l(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var u={},f=!1,h=function(x){function d(){(0,t.default)(this,d);var x=(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d)).call(this));return x.mousePos=null,x[_0x1d97("0x9f3")]=new(THREE[_0x1d97("0x3d2")]),x[_0x1d97("0xabb")]=new(THREE[_0x1d97("0x3d2")]),x.propogation=!1,x.enabled=!0,x[_0x1d97("0xabc")]=!1,x.boxPickedObjects=[],x[_0x1d97("0xabd")]=!1,x[_0x1d97("0xabe")]=0,x[_0x1d97("0xabf")]=!1,x[_0x1d97("0x9e9")]=!1,x.hoverList=[],x[_0x1d97("0x9fa")]=[],x[_0x1d97("0xac0")]=null,x[_0x1d97("0xac1")]=null,x.hoverMode=!1,x[_0x1d97("0x147")]={default:[]},x[_0x1d97("0xac2")]=(0,r.getPlatform)()[_0x1d97("0xac2")],x}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x188"),value:function(x){var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x1d97("0x1c");this[_0x1d97("0x147")][d]||(this[_0x1d97("0x147")][d]=[]),this[_0x1d97("0x147")][d][_0x1d97("0x1")](x)}},{key:_0x1d97("0xa6"),value:function(){var x=this.map[_0x1d97("0x16d")][_0x1d97("0x42c")];x[_0x1d97("0x1d5")](_0x1d97("0x696"),u.mousedown),x[_0x1d97("0x1d5")](_0x1d97("0x697"),u[_0x1d97("0x697")]),x[_0x1d97("0x1d5")](_0x1d97("0x698"),u.mouseup),x[_0x1d97("0x1d5")]("touchstart",u[_0x1d97("0x696")]),x[_0x1d97("0x1d5")](_0x1d97("0xac3"),u[_0x1d97("0x697")]),x[_0x1d97("0x1d5")](_0x1d97("0xac4"),u[_0x1d97("0x698")]),this[_0x1d97("0x147")]=null,u={}}},{key:_0x1d97("0xa80"),value:function(x){var d=this;this[_0x1d97("0x38")]=x;var _=this[_0x1d97("0x38")][_0x1d97("0x16d")].container;this[_0x1d97("0xac5")]=new(THREE[_0x1d97("0x814")])(this[_0x1d97("0x38")][_0x1d97("0x17f")],null,7e9),this[_0x1d97("0xac5")][_0x1d97("0x4d0")]=!1,this.BoxPicker[_0x1d97("0x826")]=_0x1d97("0x203"),this[_0x1d97("0xac6")]=new(THREE[_0x1d97("0x830")])(this.BoxPicker,_,_0x1d97("0xac7")),u[_0x1d97("0x696")]=this[_0x1d97("0xac8")][_0x1d97("0x11")](this),u[_0x1d97("0x697")]=this[_0x1d97("0xac9")].bind(this),u[_0x1d97("0x698")]=this[_0x1d97("0xaca")][_0x1d97("0x11")](this),_[_0x1d97("0x30")](_0x1d97("0x696"),u[_0x1d97("0x696")]),_[_0x1d97("0x30")](_0x1d97("0x697"),u[_0x1d97("0x697")]),_[_0x1d97("0x30")](_0x1d97("0x698"),u[_0x1d97("0x698")]),_[_0x1d97("0x30")](_0x1d97("0xacb"),u[_0x1d97("0x696")]),_[_0x1d97("0x30")]("touchmove",u[_0x1d97("0x697")]),_[_0x1d97("0x30")](_0x1d97("0xac4"),u[_0x1d97("0x698")]),this.map.on(_0x1d97("0xa6"),(function(){d[_0x1d97("0xa6")]()}))}},{key:_0x1d97("0xacc"),value:function(){if(0!=this[_0x1d97("0xacd")].length){this.raycaster[_0x1d97("0xa3e")](this[_0x1d97("0x9f4")],this.map[_0x1d97("0x17f")]);var x=this[_0x1d97("0x9f3")].intersectObjects(this.hoverList,!0);if(x.length>0){var d=x[0];this[_0x1d97("0xace")](d[_0x1d97("0xc")])}else this[_0x1d97("0xacf")]()}}},{key:_0x1d97("0xad0"),value:function(x){var d=this[_0x1d97("0x147")];for(var _ in d){var e=d[_];if(e[_0x1d97("0xd7")](x)>-1)return e[_0x1d97("0x189")](e[_0x1d97("0xd7")](x),1),!0}return!1}},{key:"unhightLightObject",value:function(){if(this[_0x1d97("0xac0")]){(this[_0x1d97("0xac0")][_0x1d97("0x11e")][_0x1d97("0xad1")]||this[_0x1d97("0xac0")])[_0x1d97("0xb4")]((function(x){x.material&&x.material[_0x1d97("0x2cc")]&&x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad2")]&&(x[_0x1d97("0xa7")][_0x1d97("0x2cc")]=x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad3")],x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad2")]=!1)}));var x=this[_0x1d97("0xac0")][_0x1d97("0x11e")].lineGroup,d=this.lastHoverTarget.userData[_0x1d97("0x4e4")];x&&x[_0x1d97("0xf0")]&&(x.visible=!1),d&&d.userData[_0x1d97("0xad2")]&&(d[_0x1d97("0xa7")][_0x1d97("0x100")]=d[_0x1d97("0xa7")][_0x1d97("0x11e")].$originalColor,d.userData[_0x1d97("0xad2")]=!1),this[_0x1d97("0xac0")]=null}}},{key:_0x1d97("0xace"),value:function(x){if(this.lastHoverTarget!=x){this.unhightLightObject();var d=x[_0x1d97("0x11e")][_0x1d97("0xad1")]||x,_=_0x1d97("0xad4");this[_0x1d97("0x38")].options.selectedColor&&this.map[_0x1d97("0x35")][_0x1d97("0x3f9")][_0x1d97("0x54")]&&(_=this[_0x1d97("0x38")][_0x1d97("0x35")].selectedColor[_0x1d97("0x54")][_0x1d97("0x100")]),d[_0x1d97("0xb4")]((function(x){x.material&&x[_0x1d97("0xa7")][_0x1d97("0x2cc")]&&!x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad2")]&&(x.material[_0x1d97("0x11e")][_0x1d97("0xad3")]=x.material.emissive[_0x1d97("0xdb")](),x[_0x1d97("0xa7")][_0x1d97("0x2cc")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](_),x[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad2")]=!0)}));var e=x[_0x1d97("0x11e")][_0x1d97("0xad5")],t=x[_0x1d97("0x11e")][_0x1d97("0x4e4")];e&&!e[_0x1d97("0xf0")]&&(e[_0x1d97("0xf0")]=!0),t&&!t[_0x1d97("0x11e")][_0x1d97("0xad2")]&&(t[_0x1d97("0xa7")][_0x1d97("0x11e")][_0x1d97("0xad6")]=t[_0x1d97("0xa7")][_0x1d97("0x100")][_0x1d97("0xdb")](),t[_0x1d97("0xa7")][_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](_),t[_0x1d97("0x11e")][_0x1d97("0xad2")]=!0),this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xad7"),{floornum:x[_0x1d97("0x11e")][_0x1d97("0xad8")],target:x[_0x1d97("0x11e")][_0x1d97("0x223")]}),this[_0x1d97("0xac0")]=x}}},{key:"update",value:function(x){var d=this,_=this;this[_0x1d97("0x9f3")][_0x1d97("0xa3e")](this.mousePos,this[_0x1d97("0x38")][_0x1d97("0x17f")]),this[_0x1d97("0xabc")]=!1,this[_0x1d97("0x9fa")]=[];var e=[];if(this[_0x1d97("0xabf")])this.map[_0x1d97("0x16d")][_0x1d97("0x305")][_0x1d97("0xb4")]((function(x){x[_0x1d97("0x6a")]!=_0x1d97("0x14a")||x[_0x1d97("0xb8")]==_0x1d97("0xad9")||x[_0x1d97("0xb8")]==_0x1d97("0xada")||x[_0x1d97("0xadb")]||_[_0x1d97("0xadc")](x)&&e[_0x1d97("0x1")](x)}));else{var t=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xadd")];for(var a in this.watchingList){var i=this[_0x1d97("0x147")][a];t&&this[_0x1d97("0x38")][_0x1d97("0x588")](a)||i[_0x1d97("0x1d")]((function(t){x?d.map[_0x1d97("0x35")].hoverTypes!=_0x1d97("0x203")?t.datas_&&d.map[_0x1d97("0x35")][_0x1d97("0x202")][_0x1d97("0xd7")](t[_0x1d97("0xa2")].nodeType)>-1&&_[_0x1d97("0xadc")](t)&&e[_0x1d97("0x1")](t):_[_0x1d97("0xadc")](t)&&e[_0x1d97("0x1")](t):_.isVisible(t)&&e[_0x1d97("0x1")](t)}))}}if(this[_0x1d97("0x4d0")]&&(this[_0x1d97("0x9fa")]=this[_0x1d97("0x9f3")][_0x1d97("0x3da")](e,!0)),this[_0x1d97("0x9fa")][_0x1d97("0x0")]>0){this.isPicked=!0;for(var n=0;n<this.intersects[_0x1d97("0x0")];n++){var r=this[_0x1d97("0x9fa")][n];if("$ESMapPlane"==r.object[_0x1d97("0xb8")]){this.intersects[_0x1d97("0x189")](n,1),this[_0x1d97("0x9fa")][_0x1d97("0x1")](r);break}}}if(x)if(this[_0x1d97("0x9fa")][_0x1d97("0x0")]>0){var s=this[_0x1d97("0x9fa")][0][_0x1d97("0xc")],o=null;if(21==s[_0x1d97("0xc7")])o=(s=s[_0x1d97("0xba")]).datas_;else if(s[_0x1d97("0xa2")]){if(s[_0x1d97("0xa2")]){var l=s[_0x1d97("0xa2")][_0x1d97("0xc7")];if(l==esmap[_0x1d97("0xea")][_0x1d97("0x574")]&&s.datas_[_0x1d97("0x33d")]){var u=(0,c[_0x1d97("0xade")])(this[_0x1d97("0x9fa")][0][_0x1d97("0x9ec")],s[_0x1d97("0xa2")][_0x1d97("0x33d")]);o=s[_0x1d97("0xa2")].brothers[u]}else l==esmap[_0x1d97("0xea")][_0x1d97("0x9ee")]?o=s[_0x1d97("0xa2")]:l!=esmap[_0x1d97("0xea")][_0x1d97("0x9fb")]&&l!=esmap[_0x1d97("0xea")][_0x1d97("0x9fc")]||(o=s[_0x1d97("0xa2")])}}else(s=(0,c.findGroup)(s))&&(o=s[_0x1d97("0xa2")]);if(this[_0x1d97("0x38")].fire(_0x1d97("0xadf"),s),!o)return;this.hoverObject==s&&this[_0x1d97("0xac1")]==o||(this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xae0"),o),this[_0x1d97("0xae1")]=s,this[_0x1d97("0xac1")]=o)}else this[_0x1d97("0xae1")]&&(this[_0x1d97("0x38")][_0x1d97("0x1d9")]("onLeave"),this[_0x1d97("0xae1")]=null,this[_0x1d97("0xac1")]=null)}},{key:_0x1d97("0xac8"),value:function(x){var d=this;if(this[_0x1d97("0xae2")]=!0,this.mousemoved_=!1,this.tapcount=0,f=!1,this[_0x1d97("0x9f4")]=this.getPick(x),this.update(),x[_0x1d97("0x37d")](),this[_0x1d97("0xae3")]&&2!=x[_0x1d97("0x67c")])return this[_0x1d97("0xac5")][_0x1d97("0x816")][_0x1d97("0x11b")](this[_0x1d97("0x9f4")].x,this[_0x1d97("0x9f4")].y,.5),this[_0x1d97("0xac5")].startClientX=x[_0x1d97("0x655")],void(this[_0x1d97("0xac5")].startClientY=x[_0x1d97("0x656")]);var _=setTimeout((function(){if(1==d.isStaping){if(d[_0x1d97("0xae4")]&&d[_0x1d97("0xabe")]>1)return void window.clearTimeout(_);d[_0x1d97("0x11d")](!1),d[_0x1d97("0x1d9")](_0x1d97("0x9f9"),{intersects:d.intersects,mouse:d[_0x1d97("0x9f4")].clone()})}}),800)}},{key:"isVisible",value:function(x){var d=x[_0x1d97("0xa2")]&&x[_0x1d97("0xa2")][_0x1d97("0xc7")]==esmap[_0x1d97("0xea")][_0x1d97("0x9ee")],_=x[_0x1d97("0x3d9")]==this[_0x1d97("0x38")][_0x1d97("0x3df")].uuid;if(!this.map[_0x1d97("0x35")][_0x1d97("0x20f")]&&x[_0x1d97("0xa7")]&&!d&&!_)if(Array[_0x1d97("0x547")](x[_0x1d97("0xa7")])){var e=!1;if(x[_0x1d97("0xa7")][_0x1d97("0x1d")]((function(x){x.visible&&(e=!0)})),!e)return!1}else if(!x[_0x1d97("0xa7")][_0x1d97("0xf0")])return!1;if(!x[_0x1d97("0xf0")])return!1;var t=!0;return x.traverseAncestors((function(x){x[_0x1d97("0xf0")]||(t=!1)})),t}},{key:_0x1d97("0xae5"),value:function(){var x=!1,d=this[_0x1d97("0x38")];if(this[_0x1d97("0x9f4")]&&this[_0x1d97("0x38")][_0x1d97("0x27b")].enableCompassTap){if(this[_0x1d97("0xabb")][_0x1d97("0xa3e")](this.mousePos,d.mapView[_0x1d97("0x941")]),!d[_0x1d97("0x9ae")][_0x1d97("0xa91")])return;this[_0x1d97("0xabb")][_0x1d97("0xa40")](d.compass[_0x1d97("0xa91")])[_0x1d97("0x0")]>0&&(d[_0x1d97("0x1d9")](_0x1d97("0xae6")),x=!0,d[_0x1d97("0x277")](0))}return x}},{key:_0x1d97("0xac9"),value:function(x){this.mousemoved_=!0,this.tapcount++,this.mousePos=this[_0x1d97("0xae7")](x),this[_0x1d97("0xacc")](),this[_0x1d97("0x8a9")]&&this[_0x1d97("0x11d")](!0)}},{key:"onmouseup",value:function(x){if(this.isStaping=!1,!(!this[_0x1d97("0xae3")]&&this[_0x1d97("0xae4")]&&this[_0x1d97("0xabe")]>=5)){if(x[_0x1d97("0xae8")]||(this[_0x1d97("0x9f4")]=this[_0x1d97("0xae7")](x)),this[_0x1d97("0xae3")]&&2!=x.button&&this.tapcount>5&&this[_0x1d97("0xae4")]){var d=this[_0x1d97("0x38")];this.BoxPicker.endPoint.set(this.mousePos.x,this.mousePos.y,.5),this[_0x1d97("0xac5")][_0x1d97("0xae9")]=x.offsetX,this[_0x1d97("0xac5")].endClientY=x[_0x1d97("0x656")];var _=d[_0x1d97("0xa3d")](this[_0x1d97("0xac5")][_0x1d97("0xaea")],this[_0x1d97("0xac5")][_0x1d97("0xaeb")],0),e=d[_0x1d97("0xa3d")](this[_0x1d97("0xac5")][_0x1d97("0xae9")],this.BoxPicker[_0x1d97("0xaec")],0),t=d[_0x1d97("0xa3d")](this[_0x1d97("0xac5")][_0x1d97("0xaea")],this[_0x1d97("0xac5")].endClientY,0),a=d[_0x1d97("0xa3d")](this[_0x1d97("0xac5")][_0x1d97("0xae9")],this[_0x1d97("0xac5")][_0x1d97("0xaeb")],0),i=1,n=0;d[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]&&(i=d[_0x1d97("0x578")]().focusFloorNum,n=d.id);var r=[{x:_.x,y:_.y},{x:t.x,y:t.y},{x:e.x,y:e.y},{x:a.x,y:a.y},{x:_.x,y:_.y}],s=[];return r[_0x1d97("0x1d")]((function(x){s[_0x1d97("0x1")]({x:x.x,y:x.y,fnum:i,bid:n,offset:0})})),this[_0x1d97("0xac5")][_0x1d97("0x828")]=r,this[_0x1d97("0xac5")][_0x1d97("0x819")]||(this[_0x1d97("0xac5")][_0x1d97("0x819")]=this[_0x1d97("0x147")]),this[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]&&(this[_0x1d97("0xac5")][_0x1d97("0xaed")]=this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xaee")].indx+"_"+this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xaee")][_0x1d97("0xaef")]),this[_0x1d97("0xaf0")]=this.BoxPicker[_0x1d97("0x81a")](),this.map[_0x1d97("0x1d9")](_0x1d97("0xaf1"),{objects:this[_0x1d97("0xaf0")],points:s}),void this[_0x1d97("0x38")].selectNull()}var o=!1;if(this[_0x1d97("0x38")].options.rightClick&&2==x[_0x1d97("0x67c")]&&(o=!0),(0==x[_0x1d97("0x67c")]||x.touches||o)&&!f){if(this[_0x1d97("0xae5")]())return;if(0==this[_0x1d97("0x9fa")].length){var c=this[_0x1d97("0x9f3")].intersectObjects([this[_0x1d97("0x38")][_0x1d97("0x3df")]],!0);1==c.length&&(this.fire(_0x1d97("0x9f5"),{mouse:this[_0x1d97("0x9f4")],hitCoord:c[0][_0x1d97("0x3e0")],button:x[_0x1d97("0x67c")]}),this.debugPick&&this[_0x1d97("0x1d9")]("debugPick",c))}else this[_0x1d97("0xabf")]?(console[_0x1d97("0x246")](this[_0x1d97("0x9fa")]),this[_0x1d97("0x1d9")](_0x1d97("0xabf"),this[_0x1d97("0x9fa")])):this.fire(_0x1d97("0x9df"),{objects:this[_0x1d97("0x9fa")],mouse:this[_0x1d97("0x9f4")],button:x[_0x1d97("0x67c")]})}x[_0x1d97("0x37d")]()}}},{key:"getPick",value:function(x){var d=this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x42c")][_0x1d97("0x3a9")](),_=new(THREE[_0x1d97("0x4be")]);return _.x=((x[_0x1d97("0xae8")]?x[_0x1d97("0xae8")][0][_0x1d97("0x3ac")]:x.clientX)-d[_0x1d97("0x3a5")])/d[_0x1d97("0x328")]*2-1,_.y=-((x[_0x1d97("0xae8")]?x[_0x1d97("0xae8")][0].clientY:x[_0x1d97("0x3ae")])-d[_0x1d97("0x3a6")])/d[_0x1d97("0x1b5")]*2+1,_}},{key:"enableBoxPick",set:function(x){this[_0x1d97("0xabd")]=x,x?(this[_0x1d97("0x38")][_0x1d97("0x27b")][_0x1d97("0x27c")]=!1,this[_0x1d97("0xac5")][_0x1d97("0x4d0")]=!0):(this[_0x1d97("0x38")][_0x1d97("0x27b")][_0x1d97("0x27c")]=!0,this[_0x1d97("0xac5")].enabled=!1)},get:function(){return this[_0x1d97("0xabd")]}}]),d}((0,s[_0x1d97("0x1c")])(o[_0x1d97("0x1c")]));d[_0x1d97("0x1c")]=h},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e={};if(!_(133)[_0x1d97("0x38a")]){var t=navigator[_0x1d97("0x560")][_0x1d97("0x1d3")](),a=document[_0x1d97("0xaf2")],i="ActiveXObject"in window,n=-1!==t[_0x1d97("0xd7")]("webkit"),r=-1!==t[_0x1d97("0xd7")]("phantom"),s=-1!==t[_0x1d97("0x53e")](_0x1d97("0xaf3")),o=-1!==t.indexOf(_0x1d97("0xaf4")),c=-1!==t[_0x1d97("0xd7")](_0x1d97("0x39c"))&&!n&&!window[_0x1d97("0xaf5")]&&!i,l=typeof orientation!==_0x1d97("0x8")||-1!==t[_0x1d97("0xd7")](_0x1d97("0xaf6")),u=!window.PointerEvent&&window[_0x1d97("0xaf7")],f=window.PointerEvent&&navigator[_0x1d97("0xaf8")]||u,h=i&&"transition"in a.style,b=_0x1d97("0xaf9")in window&&_0x1d97("0xafa")in new(window[_0x1d97("0xaf9")])&&!s,g=_0x1d97("0xafb")in a.style,v="OTransition"in a[_0x1d97("0x22")],p=(h||b||g)&&!v&&!r,m=0;o&&(m=t[_0x1d97("0xce")](/chrome\/([\d.]+)/)[1]);var A=!r&&(f||"ontouchstart"in window||window.DocumentTouch&&document instanceof window[_0x1d97("0xafc")]),C=void 0;try{var I=document.createElement(_0x1d97("0x4a1")),y=I.getContext(_0x1d97("0xa82"))||I[_0x1d97("0x84b")](_0x1d97("0xafd"));C=y&&y instanceof WebGLRenderingContext}catch(x){C=!1}e={ie:i,ielt9:i&&!document.addEventListener,edge:_0x1d97("0xafe")in navigator&&!(_0x1d97("0xaff")in document),webkit:n,gecko:c,android:-1!==t[_0x1d97("0xd7")](_0x1d97("0xb00")),android23:s,chrome:o,chromeVersion:m,safari:!o&&-1!==t.indexOf("safari"),phantomjs:r,ie3d:h,webkit3d:b,gecko3d:g,opera12:v,any3d:p,mobile:l,mobileWebkit:l&&n,mobileWebkit3d:l&&b,mobileOpera:l&&window[_0x1d97("0xaf5")],mobileGecko:l&&c,touch:!!A,msPointer:!!u,pointer:!!f,retina:(window[_0x1d97("0xa9a")]||window.screen[_0x1d97("0x1f")]/window[_0x1d97("0x59c")].logicalXDPI)>1,language:navigator[_0x1d97("0xb01")]?navigator[_0x1d97("0xb01")]:navigator[_0x1d97("0xb02")],ie9:i&&9===document[_0x1d97("0xaff")],ie10:i&&10===document[_0x1d97("0xaff")],webgl:C}}d.default=e},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xb03")]=a,d[_0x1d97("0xb04")]=function(x){if(!(0,e[_0x1d97("0x1d1")])(x))return x;return x[_0x1d97("0x106")](i,"")},d[_0x1d97("0xb05")]=function(x){return a(x)[_0x1d97("0x28")](/\s+/)},d.stringWidth=r,d[_0x1d97("0xb06")]=o,d.getFontHeight=c,d[_0x1d97("0xb07")]=l,d[_0x1d97("0xb08")]=function(x,d){if(!(0,e.isString)(x))return x;return x[_0x1d97("0x106")](u,(function(x,_){if(!d)return"";var t=d[_];return(0,e[_0x1d97("0x1d6")])(t)?"":Array[_0x1d97("0x547")](t)?t[_0x1d97("0x2e")]():t}))},d[_0x1d97("0xb09")]=function(x,d,_){var e=x.width,t=x.height,a=void 0,i=void 0;a=d===_0x1d97("0x3a5")?-e:d===_0x1d97("0x648")?0:-e/2;i=_===_0x1d97("0x3a6")?-t:_===_0x1d97("0x16f")?0:-t/2;return new Point(a,i)},d[_0x1d97("0xb0a")]=f,d[_0x1d97("0xb0b")]=function(x,d){var _=f(d),t=d[_0x1d97("0xb15")]||0,a=o(x,_),i=a.width,n=a[_0x1d97("0x1b5")],s=d[_0x1d97("0xb16")],c=[],u=d[_0x1d97("0xb17")];(!u||u>i)&&(u=i);(0,e[_0x1d97("0x1d1")])(x)||(x+="");var h=0;if(s&&x[_0x1d97("0xd7")](s)>=0)for(var b=x[_0x1d97("0x28")](s),g=0,v=b[_0x1d97("0x0")];g<v;g++){var p=b[g],m=r(p,_);if(m>u)for(var A=l(p,_,u,m),C=0,I=A.length;C<I;C++){var y=A[C][_0x1d97("0x328")];y>h&&(h=y),c.push({text:A[C][_0x1d97("0xb18")],size:new Size(y,n)})}else m>h&&(h=m),c[_0x1d97("0x1")]({text:p,size:new Size(m,n)})}else if(i>u)for(var E=l(x,_,u,i),w=0;w<E[_0x1d97("0x0")];w++){var T=E[w][_0x1d97("0x328")];T>h&&(h=T),c[_0x1d97("0x1")]({text:E[w].text,size:new Size(T,n)})}else i>h&&(h=i),c.push({text:x,size:a});var k=c.length,S=new Size(h,n*k+t*(k-1));return{total:k,size:S,rows:c,rawSize:a}};var e=_(11),t=_(132);function a(x){return x[_0x1d97("0xb03")]?x.trim():x[_0x1d97("0x106")](/^\s+|\s+$/g,"")}var i=/[\b\t\r\v\f]/gim;var n="undefined"!=typeof document?document[_0x1d97("0x21")]("canvas").getContext("2d"):null;function r(x,d){return r[_0x1d97("0x58f")]?r[_0x1d97("0x58f")](x,d):(n[_0x1d97("0xb0c")]=d,n[_0x1d97("0xb0d")](x)[_0x1d97("0x328")])}var s={};function o(x,d){if(o.node)return o[_0x1d97("0x58f")](x,d);var _=r(x,d);return d||(d=_0x1d97("0xb0e")),s[d]||(s[d]=c(d)),new Size(_,s[d])}function c(x){var d=(0,t[_0x1d97("0x389")])();x!==_0x1d97("0xb0e")&&(d[_0x1d97("0x22")][_0x1d97("0xb0c")]=x),d[_0x1d97("0x331")]="ç§¦";var _=d.clientHeight;return(0,t[_0x1d97("0x37a")])(d),_}function l(x,d,_,t){if(!x||0===x[_0x1d97("0x0")])return[{text:"",width:0}];var a=(0,e[_0x1d97("0x1d6")])(t)?r(x,d):t,i=a/x[_0x1d97("0x0")],n=Math[_0x1d97("0x2b")](_/i/2);if(i>=_||n<=0)return[{text:"",width:_}];if(a<=_)return[{text:x,width:a}];for(var s=[],o=x[_0x1d97("0x198")](0,n),c=i*n,l=n,u=x[_0x1d97("0x0")];l<u;l++){var f=x[l],h=r(o+f);h>=_?(s[_0x1d97("0x1")]({text:o,width:c}),o=x[_0x1d97("0x198")](l,n+l),l+=n-1,c=i*n):(o+=f,c=h),l>=u-1&&(c=r(o),s[_0x1d97("0x1")]({text:o,width:c}))}return s}var u=/\{([\w_]+)\}/g;function f(x){return x[_0x1d97("0xb0f")]?x[_0x1d97("0xb0f")]:(x[_0x1d97("0xb10")]&&x.textStyle!==_0x1d97("0xf9")?x[_0x1d97("0xb10")]+" ":"")+(x[_0x1d97("0xb11")]&&x.textWeight!==_0x1d97("0xf9")?x[_0x1d97("0xb11")]+" ":"")+x[_0x1d97("0xb12")]+_0x1d97("0xb13")+('"'===x[_0x1d97("0xb14")][0]?x[_0x1d97("0xb14")]:'"'+x[_0x1d97("0xb14")]+'"')}},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(98));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e.default)(this,x),this[_0x1d97("0x27e")]=d}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x3c3"),value:function(){return this._enabled||(this[_0x1d97("0xb19")]=!0,this[_0x1d97("0xb1a")]()),this}},{key:_0x1d97("0xb1b"),value:function(){return this._enabled?(this[_0x1d97("0xb19")]=!1,this[_0x1d97("0xb1c")](),this):this}},{key:"enabled",value:function(){return!!this[_0x1d97("0xb19")]}},{key:_0x1d97("0x149"),value:function(){this[_0x1d97("0xb1b")](),delete this[_0x1d97("0x27e")],delete this[_0x1d97("0xb1d")]}}]),x}();d[_0x1d97("0x1c")]=(0,a[_0x1d97("0x1c")])(n)},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=n(_(0)),t=n(_(1)),a=_(283),i=_(284);function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(d,_,t){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x41d")]=t,this[_0x1d97("0xa91")]=null,this[_0x1d97("0xa92")]=null,this[_0x1d97("0xb1e")]=null,this[_0x1d97("0xb1f")]=null,this.visible_=d,this[_0x1d97("0x420")]=_,this.w_=Math[_0x1d97("0x318")](t[_0x1d97("0x200")],128),this.h_=Math.min(t[_0x1d97("0x200")],128)}return(0,t.default)(x,[{key:"updateHUD",value:function(x,d,_){if(null!=this[_0x1d97("0xa91")]&&null!=this[_0x1d97("0xa92")]){var e=x/2,t=d/2,a=_||this[_0x1d97("0x41d")][_0x1d97("0xa93")],i=esmap[_0x1d97("0x33")].instance,n=1;i.options[_0x1d97("0x1f2")]&&(n=i.options.compassPosition),1==n?(this[_0x1d97("0xa91")][_0x1d97("0xb6")][_0x1d97("0x11b")](-e+this.w_/2+a[0],t-this.h_/2-a[1],.5),this.spritePt_[_0x1d97("0xb6")].set(-e+this.w_/2+a[0],t-this.h_/2-a[1],1)):3==n?(this[_0x1d97("0xa91")].position[_0x1d97("0x11b")](e-this.w_/2-a[0],t-this.h_/2-a[1],.5),this[_0x1d97("0xa92")][_0x1d97("0xb6")].set(e-this.w_/2-a[0],t-this.h_/2-a[1],1)):2==n?(this[_0x1d97("0xa91")][_0x1d97("0xb6")][_0x1d97("0x11b")](-e+this.w_/2+a[0],this.h_/2-t+a[1],.5),this[_0x1d97("0xa92")].position[_0x1d97("0x11b")](-e+this.w_/2+a[0],this.h_/2-t+a[1],1)):4==n&&(this[_0x1d97("0xa91")][_0x1d97("0xb6")][_0x1d97("0x11b")](e-this.w_/2-a[0],this.h_/2-t+a[1],.5),this[_0x1d97("0xa92")][_0x1d97("0xb6")][_0x1d97("0x11b")](e-this.w_/2-a[0],this.h_/2-t+a[1],1))}}},{key:_0x1d97("0xa90"),value:function(x){null!=this[_0x1d97("0xb1f")]&&(this.materialPt_[_0x1d97("0x238")]=Math.PI+x)}},{key:_0x1d97("0x9af"),value:function(x){var d=document[_0x1d97("0x21")](_0x1d97("0x428"));d[_0x1d97("0x39e")]=x;var _=new(THREE[_0x1d97("0x4a6")])(d);this.materialPt_.map=_,d[_0x1d97("0x4a2")]=function(){_.needsUpdate=!0}}},{key:_0x1d97("0x9b1"),value:function(x){var d=document[_0x1d97("0x21")](_0x1d97("0x428"));d[_0x1d97("0x39e")]=x;var _=new(THREE[_0x1d97("0x4a6")])(d);this[_0x1d97("0xb1f")][_0x1d97("0x38")]=_,d[_0x1d97("0x4a2")]=function(){_[_0x1d97("0x13b")]=!0}}},{key:_0x1d97("0x32"),value:function(){var x=esmap[_0x1d97("0x33")].instance;if(null==this[_0x1d97("0xa91")]&&null==this[_0x1d97("0xa92")]){var d=document.createElement("img");x[_0x1d97("0x35")][_0x1d97("0x1f1")]?d[_0x1d97("0x39e")]=x.options[_0x1d97("0x1f1")]:d[_0x1d97("0x39e")]=i[_0x1d97("0xb20")];var _=new(THREE[_0x1d97("0x4a6")])(d),e=document.createElement(_0x1d97("0x428"));x.options[_0x1d97("0x1f0")]?e.src=x.options[_0x1d97("0x1f0")]:e[_0x1d97("0x39e")]=a[_0x1d97("0xb21")];var t=new(THREE[_0x1d97("0x4a6")])(e);this[_0x1d97("0xb22")]=this.w_,this[_0x1d97("0xb23")]=this.h_,_.needsUpdate=!0,t[_0x1d97("0x13b")]=!0,this[_0x1d97("0xb1f")]=new(THREE[_0x1d97("0x42b")])({map:_}),this.spriteBg_=new(THREE[_0x1d97("0x29f")])(this[_0x1d97("0xb1f")]),this.spriteBg_[_0x1d97("0x237")][_0x1d97("0x11b")](this.w_,this.h_,1),this[_0x1d97("0xb1e")]=new THREE.SpriteMaterial({map:t}),this[_0x1d97("0xa92")]=new(THREE[_0x1d97("0x29f")])(this[_0x1d97("0xb1e")]),this[_0x1d97("0xa92")][_0x1d97("0x237")][_0x1d97("0x11b")](this[_0x1d97("0xb22")],this[_0x1d97("0xb23")],1),this[_0x1d97("0xb1f")][_0x1d97("0x38")][_0x1d97("0x13f")]=THREE.LinearFilter,this[_0x1d97("0xb1e")][_0x1d97("0x38")].minFilter=THREE[_0x1d97("0x5d6")],this[_0x1d97("0x420")][_0x1d97("0xdc")](this[_0x1d97("0xa91")]),this.sceneOrtho_[_0x1d97("0xdc")](this[_0x1d97("0xa92")]);var n=this.options_[_0x1d97("0x42c")],r=n.clientWidth,s=n[_0x1d97("0x42e")];this[_0x1d97("0x423")](r,s)}}},{key:_0x1d97("0xf0"),set:function(x){x!=this[_0x1d97("0x41f")]&&(this[_0x1d97("0x41f")]=x,x?(this[_0x1d97("0x32")](),this.spriteBg_[_0x1d97("0xf0")]=this[_0x1d97("0xa92")][_0x1d97("0xf0")]=!0):null!=this[_0x1d97("0xa91")]&&null!=this[_0x1d97("0xa92")]&&(this[_0x1d97("0xa91")][_0x1d97("0xf0")]=this[_0x1d97("0xa92")][_0x1d97("0xf0")]=!1))},get:function(){return this[_0x1d97("0x41f")]}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=_0x1d97("0xb24");d[_0x1d97("0xb21")]=e},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=_0x1d97("0xb25");d.compassBg=e},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x1d97("0xb26"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,showBuildingMode:esmap[_0x1d97("0x4ec")][_0x1d97("0xb27")],showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},buildingCache:!1,zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:_0x1d97("0xb28"),disableIndoorClick:!1,disableOutdoorClick:!1,buildingScale:1,pickableBuildings:[],tileMode:!0,roadStyle:{url:"image/light2.png",lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap[_0x1d97("0x4fd")][_0x1d97("0xde")]},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoOpenLevel:20,buildingFoucsMode:2};d[_0x1d97("0xb29")]=e},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});d[_0x1d97("0x21f")]={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offset:[0,0,0],visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:null,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,focusMode:2}},function(x,d,_){"use strict";var e=a(_(55)),t=a(_(18));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}THREE[_0x1d97("0xa7e")]=function(x,d){var _,e,t,a,i;this[_0x1d97("0xc")]=x,this[_0x1d97("0x63c")]=void 0!==d?d:document,this[_0x1d97("0x4d0")]=!0,this[_0x1d97("0x27e")]=new(THREE[_0x1d97("0xe0")]),this[_0x1d97("0x2f4")]=0,this[_0x1d97("0x2d6")]=1/0,this[_0x1d97("0xb2a")]=0,this.maxZoom=1/0,this[_0x1d97("0x889")]=0,this.maxPolarAngle=Math.PI,this[_0x1d97("0xb2b")]=-1/0,this.maxAzimuthAngle=1/0,this[_0x1d97("0xb2c")]=!1,this[_0x1d97("0xb2d")]=.25,this[_0x1d97("0xb2e")]=!0,this[_0x1d97("0xb2f")]=1,this[_0x1d97("0xb30")]=!0,this.rotateSpeed=1,this[_0x1d97("0xb31")]=!0,this[_0x1d97("0xb32")]=!0,this[_0x1d97("0xb33")]=1,this[_0x1d97("0xb34")]=!1,this[_0x1d97("0xb35")]=7,this[_0x1d97("0xb36")]=!1,this[_0x1d97("0xb37")]=2,this.orthoLimitSize={min:-1,max:1/0},this[_0x1d97("0xb38")]=!0,this[_0x1d97("0x538")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x1d97("0xb39")]={LEFT:THREE[_0x1d97("0xb3a")].LEFT,MIDDLE:THREE[_0x1d97("0xb3a")].MIDDLE,RIGHT:THREE.MOUSE[_0x1d97("0xb3b")]},this.target0=this[_0x1d97("0x27e")][_0x1d97("0xdb")](),this[_0x1d97("0xb3c")]=this.object[_0x1d97("0xb6")].clone(),this.zoom0=this[_0x1d97("0xc")].zoom,this.getPolarAngle=function(){return h[_0x1d97("0x668")]},this[_0x1d97("0x8d8")]=function(){return h[_0x1d97("0x694")]},this[_0x1d97("0x559")]=function(){return this.object[_0x1d97("0xb6")].clone()[_0x1d97("0x3d7")](this[_0x1d97("0x27e")]).length()},this[_0x1d97("0x97b")]=function(){return this[_0x1d97("0xc")]instanceof THREE[_0x1d97("0x8ca")]?this[_0x1d97("0x559")]()/this[_0x1d97("0x96e")]:this[_0x1d97("0xc")].top/this.object[_0x1d97("0xa6b")]/this[_0x1d97("0xb3d")]},this.setScaleLevelValue=function(x,d){var _=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")][_0x1d97("0x567")],e=_[_0x1d97("0xb6")].clone()[_0x1d97("0x3d7")](this[_0x1d97("0x27e")])[_0x1d97("0x2e1")]();e[_0x1d97("0x276")](this[_0x1d97("0x96e")]*x);var t=this[_0x1d97("0x27e")][_0x1d97("0xdb")]().add(e);if(this.object instanceof THREE[_0x1d97("0x8ca")])_[_0x1d97("0xb6")].copy(t);else if(this[_0x1d97("0xc")]instanceof THREE[_0x1d97("0x5f7")]){var a=t[_0x1d97("0x25d")](this[_0x1d97("0x27e")]),i=esmap[_0x1d97("0x75")][_0x1d97("0x549")](_,this,a),n=this[_0x1d97("0xc")].top/i[_0x1d97("0x3a6")];this[_0x1d97("0xc")][_0x1d97("0xa6b")]=n,this[_0x1d97("0xc")][_0x1d97("0x81d")]()}},this.getCurrentScaleLevel=function(){for(var x=this[_0x1d97("0x97b")](),d=esmap[_0x1d97("0x33")].instance,_=0;_<d.scaleLevels_[_0x1d97("0x0")];_++)if(Math[_0x1d97("0x253")](d[_0x1d97("0x896")][_]-x)>.001&&x<d[_0x1d97("0x896")][_])return _-1<0?0:_-1;return _-1<0?0:_-1},this[_0x1d97("0xb3e")]=function(){n[_0x1d97("0xb3f")].copy(n.target),n[_0x1d97("0xb3c")].copy(n.object.position),n[_0x1d97("0xb40")]=n[_0x1d97("0xc")][_0x1d97("0xa6b")]},this[_0x1d97("0xb41")]=function(){u=l[_0x1d97("0x9f8")],this[_0x1d97("0x335")](o)},this[_0x1d97("0x2bc")]=function(){n.target[_0x1d97("0x267")](n[_0x1d97("0xb3f")]),n[_0x1d97("0xc")][_0x1d97("0xb6")][_0x1d97("0x267")](n[_0x1d97("0xb3c")]),n[_0x1d97("0xc")][_0x1d97("0xa6b")]=n[_0x1d97("0xb40")],n[_0x1d97("0xc")][_0x1d97("0x81d")](),n[_0x1d97("0x335")](r),n.update(),u=l[_0x1d97("0x9f8")]},this[_0x1d97("0x11d")]=(_=new(THREE[_0x1d97("0xe0")]),e=(new THREE.Quaternion)[_0x1d97("0xb42")](x.up,new(THREE[_0x1d97("0xe0")])(0,1,0)),t=e[_0x1d97("0xdb")]()[_0x1d97("0x3dc")](),a=new(THREE[_0x1d97("0xe0")]),i=new(THREE[_0x1d97("0x239")]),function(x){var d=n[_0x1d97("0xc")][_0x1d97("0xb6")];return _[_0x1d97("0x267")](d)[_0x1d97("0x3d7")](n[_0x1d97("0x27e")]),_[_0x1d97("0xb43")](e),h.setFromVector3(_),n.autoRotate&&u===l.NONE&&P(2*Math.PI/60/60*n.autoRotateSpeed),h[_0x1d97("0x694")]+=b[_0x1d97("0x694")],h[_0x1d97("0x668")]+=b[_0x1d97("0x668")],x&&(x[_0x1d97("0x2")]("forceTheta")&&(h[_0x1d97("0x694")]=x[_0x1d97("0xb44")],b[_0x1d97("0x694")]=0),x.hasOwnProperty(_0x1d97("0xb45"))&&(h.phi=x[_0x1d97("0xb45")],b[_0x1d97("0x668")]=0)),h.theta=Math[_0x1d97("0x317")](n[_0x1d97("0xb2b")],Math.min(n[_0x1d97("0xb46")],h[_0x1d97("0x694")])),h[_0x1d97("0x668")]=Math[_0x1d97("0x317")](n[_0x1d97("0x889")],Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),1!=g&&n[_0x1d97("0x335")](c),h.radius*=g,h[_0x1d97("0x58b")]=Math[_0x1d97("0x317")](n.minDistance,Math.min(n[_0x1d97("0x2d6")],h.radius)),n[_0x1d97("0x27e")][_0x1d97("0xdc")](v),_.setFromSpherical(h),_.applyQuaternion(t),d[_0x1d97("0x267")](n[_0x1d97("0x27e")]).add(_),n[_0x1d97("0xc")][_0x1d97("0x28f")](n[_0x1d97("0x27e")]),!0===n[_0x1d97("0xb2c")]?(b[_0x1d97("0x694")]*=1-n[_0x1d97("0xb2d")],b[_0x1d97("0x668")]*=1-n[_0x1d97("0xb2d")],v[_0x1d97("0x276")](1-n[_0x1d97("0xb2d")])):(b.set(0,0,0),v[_0x1d97("0x11b")](0,0,0)),g=1,!!(p||a[_0x1d97("0x65d")](n[_0x1d97("0xc")][_0x1d97("0xb6")])>f||8*(1-i[_0x1d97("0x7f5")](n.object[_0x1d97("0x23c")]))>f)&&(n[_0x1d97("0x335")](r),a[_0x1d97("0x267")](n.object[_0x1d97("0xb6")]),i.copy(n[_0x1d97("0xc")][_0x1d97("0x23c")]),p=!1,!0)}),this[_0x1d97("0xa6")]=function(){n[_0x1d97("0x63c")].removeEventListener(_0x1d97("0x699"),tx,!1),n[_0x1d97("0x63c")][_0x1d97("0x1d5")](_0x1d97("0x696"),J,!1),n[_0x1d97("0x63c")][_0x1d97("0x1d5")](_0x1d97("0xb47"),$,!1),n.domElement.removeEventListener(_0x1d97("0xacb"),dx,!1),n.domElement.removeEventListener("touchend",ex,!1),n.domElement[_0x1d97("0x1d5")](_0x1d97("0xac3"),_x,!1),document[_0x1d97("0x1d5")](_0x1d97("0x697"),K,!1),document[_0x1d97("0x1d5")](_0x1d97("0x698"),q,!1),window[_0x1d97("0x1d5")](_0x1d97("0x286"),xx,!1)};var n=this,r={type:_0x1d97("0x88e")},s={type:_0x1d97("0x1c1")},o={type:_0x1d97("0x2c4")},c={type:"zoomed"},l={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},u=l[_0x1d97("0x9f8")],f=1e-6,h=new THREE.Spherical,b=new(THREE[_0x1d97("0xb48")]),g=1,v=new(THREE[_0x1d97("0xe0")]),p=!1,m=new(THREE[_0x1d97("0x4be")]),A=new(THREE[_0x1d97("0x4be")]),C=new(THREE[_0x1d97("0x4be")]),I=new(THREE[_0x1d97("0x4be")]),y=new(THREE[_0x1d97("0x4be")]),E=new(THREE[_0x1d97("0x4be")]),w=new(THREE[_0x1d97("0x4be")]),T=new(THREE[_0x1d97("0x4be")]),k=new(THREE[_0x1d97("0x4be")]),S=new(THREE[_0x1d97("0x4be")]),M=new THREE.Vector2,R=new(THREE[_0x1d97("0x4be")]),L=new THREE.Vector2,H=new THREE.Vector2;function D(){return Math[_0x1d97("0xa8")](.95,n[_0x1d97("0xb2f")])}function P(x){b[_0x1d97("0x694")]-=x}function O(x){b[_0x1d97("0x668")]-=x}var B,N,F,z=(B=new(THREE[_0x1d97("0xe0")]),function(x,d){B[_0x1d97("0xb49")](d,0),B[_0x1d97("0x276")](-x),v[_0x1d97("0xdc")](B)}),j=(N=new(THREE[_0x1d97("0xe0")]),function(x,d){!0===n[_0x1d97("0xb34")]?N.setFromMatrixColumn(d,1):(N[_0x1d97("0xb49")](d,0),N[_0x1d97("0x7ef")](n[_0x1d97("0xc")].up,N)),N.multiplyScalar(x),v[_0x1d97("0xdc")](N)}),U=(F=new THREE.Vector3,function(x,d){var _=n[_0x1d97("0x63c")]===document?n[_0x1d97("0x63c")][_0x1d97("0x1ec")]:n[_0x1d97("0x63c")];if(n[_0x1d97("0xc")][_0x1d97("0x644")]){var e=n[_0x1d97("0xc")][_0x1d97("0xb6")];F[_0x1d97("0x267")](e)[_0x1d97("0x3d7")](n.target);var t=F[_0x1d97("0x0")]();t*=Math[_0x1d97("0x31a")](n.object.fov/2*Math.PI/180),z(2*x*t/_[_0x1d97("0x42e")],n.object[_0x1d97("0x24b")]),j(2*d*t/_[_0x1d97("0x42e")],n.object.matrix)}else n[_0x1d97("0xc")].isOrthographicCamera?(z(x*(n.object[_0x1d97("0x648")]-n[_0x1d97("0xc")].left)/n.object[_0x1d97("0xa6b")]/_[_0x1d97("0x3bb")],n[_0x1d97("0xc")][_0x1d97("0x24b")]),j(d*(n.object.top-n[_0x1d97("0xc")].bottom)/n.object.zoom/_[_0x1d97("0x42e")],n.object[_0x1d97("0x24b")])):(console[_0x1d97("0x3fb")](_0x1d97("0xb4a")),n.enablePan=!1)});function X(x){if(n[_0x1d97("0xc")][_0x1d97("0x644")])g/=x;else if(n.object[_0x1d97("0x649")]){var d=n[_0x1d97("0xc")].zoom*x,_=window[_0x1d97("0x4d8")][_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")][_0x1d97("0x906")][_0x1d97("0x3a6")]/d;_<n.orthoLimitSize[_0x1d97("0x317")]&&_>n.orthoLimitSize[_0x1d97("0x318")]&&(n[_0x1d97("0xc")].zoom=Math[_0x1d97("0x317")](n[_0x1d97("0xb2a")],Math.min(n[_0x1d97("0xb4b")],n[_0x1d97("0xc")].zoom*x)),n[_0x1d97("0xc")].updateProjectionMatrix(),p=!0)}else console[_0x1d97("0x3fb")]("WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled."),n[_0x1d97("0xb2e")]=!1}function Y(x){if(n[_0x1d97("0xc")].isPerspectiveCamera)g*=x;else if(n[_0x1d97("0xc")][_0x1d97("0x649")]){var d=n[_0x1d97("0xc")][_0x1d97("0xa6b")]/x;window[_0x1d97("0x4d8")][_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")].cameraTop.top/d>n[_0x1d97("0xb4c")][_0x1d97("0x318")]&&(n[_0x1d97("0xc")][_0x1d97("0xa6b")]=Math[_0x1d97("0x317")](n.minZoom,Math[_0x1d97("0x318")](n[_0x1d97("0xb4b")],n[_0x1d97("0xc")].zoom/x)),n.object[_0x1d97("0x81d")](),p=!0)}else console[_0x1d97("0x3fb")](_0x1d97("0xb4d")),n[_0x1d97("0xb2e")]=!1}function G(x){if(!1!==n.enableRotate&&0!=(u&l[_0x1d97("0xb52")])){if(C[_0x1d97("0x11b")](x[_0x1d97("0xae8")][0][_0x1d97("0x67f")],x[_0x1d97("0xae8")][0].pageY),I[_0x1d97("0x11b")](x.touches[1].pageX,x[_0x1d97("0xae8")][1].pageY),y.subVectors(C,m),E[_0x1d97("0x7ee")](I,A),w[_0x1d97("0x7ee")](A,m),T[_0x1d97("0x7ee")](I,C),function(){W(w);W(T);if(!Z(y))return!1;if(!Z(E))return!1;return y[_0x1d97("0x7f5")](E)>0}()){var d=n[_0x1d97("0x63c")]===document?n[_0x1d97("0x63c")][_0x1d97("0x1ec")]:n[_0x1d97("0x63c")];O(2*Math.PI*y.y/d[_0x1d97("0x42e")]),u=l[_0x1d97("0xb53")]}else 0!=(u&l[_0x1d97("0xb54")])&&P((w[_0x1d97("0x257")]()-T[_0x1d97("0x257")]())*n.rotateSpeed);m[_0x1d97("0x267")](C),A.copy(I)}}var Q,V,W=(Q=Math[_0x1d97("0x569")](Math.PI/6),function(x){return Math[_0x1d97("0x253")](Math[_0x1d97("0x569")](x[_0x1d97("0x257")]()))<Q}),Z=(V=Math[_0x1d97("0x5a2")](Math.PI/2-Math.PI/6),function(x){return Math[_0x1d97("0x253")](Math.cos(x[_0x1d97("0x257")]()))<V});function J(x){if(!1!==n[_0x1d97("0x4d0")]){switch(x[_0x1d97("0x37d")](),x[_0x1d97("0x67c")]){case n[_0x1d97("0xb39")].LEFT:if(!1===n[_0x1d97("0xb32")])return;e=x,k[_0x1d97("0x11b")](e[_0x1d97("0x3ac")],e.clientY),u=l[_0x1d97("0xb55")];break;case n.mouseButtons[_0x1d97("0xb56")]:if(!1===n[_0x1d97("0xb2e")])return;_=x,R[_0x1d97("0x11b")](_[_0x1d97("0x3ac")],_[_0x1d97("0x3ae")]),u=l.DOLLY;break;case n[_0x1d97("0xb39")][_0x1d97("0xb3b")]:d=x,m[_0x1d97("0x11b")](d[_0x1d97("0x3ac")],d.clientY),u=l[_0x1d97("0xb52")]}var d,_,e;u!==l[_0x1d97("0x9f8")]&&(document.addEventListener(_0x1d97("0x697"),K,!1),document[_0x1d97("0x30")](_0x1d97("0x698"),q,!1),n[_0x1d97("0x335")](s))}}function K(x){var d,_;if(!1!==n[_0x1d97("0x4d0")])switch(x.preventDefault(),u){case l[_0x1d97("0xb52")]:!function(x){C[_0x1d97("0x11b")](x[_0x1d97("0x3ac")],x[_0x1d97("0x3ae")]),y.subVectors(C,m)[_0x1d97("0x276")](n[_0x1d97("0xb4e")]);var d=n[_0x1d97("0x63c")]===document?n[_0x1d97("0x63c")][_0x1d97("0x1ec")]:n[_0x1d97("0x63c")];n[_0x1d97("0xb30")]&&P(2*Math.PI*y.x/d[_0x1d97("0x42e")]),n[_0x1d97("0xb31")]&&O(2*Math.PI*y.y/d[_0x1d97("0x42e")]),m[_0x1d97("0x267")](C),n[_0x1d97("0x11d")]()}(x);break;case l[_0x1d97("0xb57")]:if(!1===n.enableZoom)return;_=x,L[_0x1d97("0x11b")](_[_0x1d97("0x3ac")],_[_0x1d97("0x3ae")]),H.subVectors(L,R),H.y>0?X(D()):H.y<0&&Y(D()),R[_0x1d97("0x267")](L),n[_0x1d97("0x11d")]();break;case l.PAN:if(!1===n.enablePan)return;d=x,S[_0x1d97("0x11b")](d[_0x1d97("0x3ac")],d[_0x1d97("0x3ae")]),M[_0x1d97("0x7ee")](S,k)[_0x1d97("0x276")](n[_0x1d97("0xb33")]),U(M.x,M.y),k[_0x1d97("0x267")](S),n[_0x1d97("0x11d")]()}}function q(x){!1!==n.enabled&&(document[_0x1d97("0x1d5")](_0x1d97("0x697"),K,!1),document.removeEventListener(_0x1d97("0x698"),q,!1),n[_0x1d97("0x335")](o),u=l[_0x1d97("0x9f8")])}function $(x){var d;!1===n.enabled||!1===n.enableZoom||u!==l.NONE&&u!==l[_0x1d97("0xb52")]||(x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")](),n.dispatchEvent(s),(d=x).deltaY<0?Y(D()):d[_0x1d97("0xb4f")]>0&&X(D()),n.update(),n[_0x1d97("0x335")](o))}function xx(x){!1!==n.enabled&&!1!==n[_0x1d97("0xb38")]&&!1!==n[_0x1d97("0xb32")]&&function(x){switch(x.keyCode){case n[_0x1d97("0x538")].UP:U(0,n[_0x1d97("0xb35")]),n.update();break;case n[_0x1d97("0x538")][_0x1d97("0xb50")]:U(0,-n.keyPanSpeed),n[_0x1d97("0x11d")]();break;case n[_0x1d97("0x538")][_0x1d97("0xb51")]:U(n.keyPanSpeed,0),n[_0x1d97("0x11d")]();break;case n.keys.RIGHT:U(-n[_0x1d97("0xb35")],0),n.update()}}(x)}function dx(x){if(!1!==n[_0x1d97("0x4d0")]){switch(x.preventDefault(),x[_0x1d97("0xae8")][_0x1d97("0x0")]){case 1:if(!1===n[_0x1d97("0xb32")])return;_=x,n[_0x1d97("0xb32")]&&k[_0x1d97("0x11b")](_[_0x1d97("0xae8")][0][_0x1d97("0x67f")],_[_0x1d97("0xae8")][0][_0x1d97("0x681")]),u=l[_0x1d97("0xb55")];break;case 2:if(!1===n[_0x1d97("0xb2e")]&&!1===n[_0x1d97("0xb30")])return;d=x,m[_0x1d97("0x11b")](d.touches[0].pageX,d[_0x1d97("0xae8")][0][_0x1d97("0x681")]),A[_0x1d97("0x11b")](d[_0x1d97("0xae8")][1][_0x1d97("0x67f")],d.touches[1][_0x1d97("0x681")]),function(x){if(n[_0x1d97("0xb2e")]){var d=x[_0x1d97("0xae8")][0].pageX-x[_0x1d97("0xae8")][1][_0x1d97("0x67f")],_=x[_0x1d97("0xae8")][0][_0x1d97("0x681")]-x[_0x1d97("0xae8")][1][_0x1d97("0x681")],e=Math[_0x1d97("0xc3")](d*d+_*_);R[_0x1d97("0x11b")](0,e)}}(x),u=l[_0x1d97("0xb58")];break;default:u=l[_0x1d97("0x9f8")]}var d,_;u!==l[_0x1d97("0x9f8")]&&n.dispatchEvent(s)}}function _x(x){var d;if(!1!==n[_0x1d97("0x4d0")])switch(x.preventDefault(),x[_0x1d97("0x1e0")](),x[_0x1d97("0xae8")][_0x1d97("0x0")]){case 1:if(!1===n[_0x1d97("0xb32")])return;if(u!==l[_0x1d97("0xb55")])return;d=x,!1!==n[_0x1d97("0xb32")]&&0!=(u&l[_0x1d97("0xb55")])&&(S.set(d[_0x1d97("0xae8")][0][_0x1d97("0x67f")],d[_0x1d97("0xae8")][0][_0x1d97("0x681")]),M[_0x1d97("0x7ee")](S,k)[_0x1d97("0x276")](n[_0x1d97("0xb33")]),U(M.x,M.y),k[_0x1d97("0x267")](S)),n.update();break;case 2:if(!1===n[_0x1d97("0xb2e")]&&!1===n[_0x1d97("0xb30")])return;if(0==(u&l[_0x1d97("0xb58")]))return;G(x),function(x){if(!1!==n[_0x1d97("0xb2e")]&&0!=(u&l.DOLLY)){var d=x[_0x1d97("0xae8")][0][_0x1d97("0x67f")]-x[_0x1d97("0xae8")][1][_0x1d97("0x67f")],_=x[_0x1d97("0xae8")][0][_0x1d97("0x681")]-x.touches[1].pageY,e=Math.sqrt(d*d+_*_);L[_0x1d97("0x11b")](0,e),H.set(0,Math[_0x1d97("0xa8")](L.y/R.y,n[_0x1d97("0xb2f")])),X(H.y),R.copy(L)}}(x),n.update();break;default:u=l[_0x1d97("0x9f8")]}}function ex(x){!1!==n[_0x1d97("0x4d0")]&&(n[_0x1d97("0x335")](o),u=l.NONE)}function tx(x){!1!==n[_0x1d97("0x4d0")]&&x.preventDefault()}n[_0x1d97("0x63c")][_0x1d97("0x30")]("contextmenu",tx,!1),n[_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0x696"),J,!1),n.domElement[_0x1d97("0x30")]("wheel",$,!1),n[_0x1d97("0x63c")][_0x1d97("0x30")]("touchstart",dx,!1),n.domElement[_0x1d97("0x30")](_0x1d97("0xac4"),ex,!1),n[_0x1d97("0x63c")][_0x1d97("0x30")](_0x1d97("0xac3"),_x,!1),window[_0x1d97("0x30")](_0x1d97("0x286"),xx,!1),this[_0x1d97("0x11d")]()},THREE[_0x1d97("0xa7e")].prototype=(0,t.default)(THREE[_0x1d97("0xb59")][_0x1d97("0xf")]),THREE.MapControls[_0x1d97("0xf")][_0x1d97("0x49c")]=THREE[_0x1d97("0xa7e")],(0,e[_0x1d97("0x1c")])(THREE[_0x1d97("0xa7e")][_0x1d97("0xf")],{unsetScaleLevel:{value:function(){this[_0x1d97("0x2f4")]=0,this.maxDistance=1/0}},initScaleLevel:{value:function(x,d){var _=window[_0x1d97("0x4d8")][_0x1d97("0x33")].instance,e=this.initDistance_*x,t=this.initDistance_*d;this.minDistance=e,this[_0x1d97("0x2d6")]=t;var a=esmap[_0x1d97("0x75")][_0x1d97("0x549")](_[_0x1d97("0x16d")][_0x1d97("0x567")],this,e),i=esmap[_0x1d97("0x75")][_0x1d97("0x549")](_[_0x1d97("0x16d")].camera,this,t);this[_0x1d97("0xb4c")]={min:a[_0x1d97("0x3a6")],max:i[_0x1d97("0x3a6")]}}},center:{get:function(){return console[_0x1d97("0x3fb")](_0x1d97("0xb5a")),this[_0x1d97("0x27e")]}},noZoom:{get:function(){return console[_0x1d97("0x3fb")](_0x1d97("0xb5b")),!this[_0x1d97("0xb2e")]},set:function(x){console[_0x1d97("0x3fb")](_0x1d97("0xb5b")),this.enableZoom=!x}},noRotate:{get:function(){return console[_0x1d97("0x3fb")](_0x1d97("0xb5c")),!this[_0x1d97("0xb30")]},set:function(x){console[_0x1d97("0x3fb")]("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),this[_0x1d97("0xb30")]=!x}},noPan:{get:function(){return console[_0x1d97("0x3fb")](_0x1d97("0xb5d")),!this[_0x1d97("0xb32")]},set:function(x){console[_0x1d97("0x3fb")](_0x1d97("0xb5d")),this[_0x1d97("0xb32")]=!x}},noKeys:{get:function(){return!this.enableKeys},set:function(x){console[_0x1d97("0x3fb")](_0x1d97("0xb5e")),this.enableKeys=!x}},staticMoving:{get:function(){return console[_0x1d97("0x3fb")](_0x1d97("0xb5f")),!this.enableDamping},set:function(x){console[_0x1d97("0x3fb")](_0x1d97("0xb5f")),this[_0x1d97("0xb2c")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x1d97("0x3fb")]("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this[_0x1d97("0xb2d")]},set:function(x){console[_0x1d97("0x3fb")](_0x1d97("0xb60")),this.dampingFactor=x}}})},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=l(_(69)),t=l(_(9)),a=l(_(10)),i=l(_(12)),n=l(_(13)),r=l(_(0)),s=l(_(1)),o=l(_(100)),c=l(_(137));function l(x){return x&&x.__esModule?x:{default:x}}function u(x){if(x){if(x.datas_&&x.datas_.o3d_&&(x[_0x1d97("0xa2")][_0x1d97("0xa3")]=void 0,x.datas_=void 0),x[_0x1d97("0xa4")])for(var d=0;d<x[_0x1d97("0xa4")][_0x1d97("0x0")];d++)u(x.children[d]);x.geometry&&x[_0x1d97("0xa5")].dispose(),x[_0x1d97("0xa7")]&&(x.material instanceof Array?x[_0x1d97("0xa7")].forEach((function(x){x&&x[_0x1d97("0xa6")]()})):x.material[_0x1d97("0xa6")]())}x=void 0}var f=function(){function x(d){(0,r[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x305")]=d.map[_0x1d97("0x16c")],this[_0x1d97("0xb61")]=this.scene[_0x1d97("0xb62")],this[_0x1d97("0x310")]=d.map[_0x1d97("0x2aa")][_0x1d97("0xb63")],this[_0x1d97("0xb64")]=0,this[_0x1d97("0xb65")]=1,this[_0x1d97("0xb66")]=20,this[_0x1d97("0xb67")]=0,this[_0x1d97("0xa26")]={},this[_0x1d97("0xb68")]={},this[_0x1d97("0x8e5")]=[],this[_0x1d97("0x909")]=[],this[_0x1d97("0x8e6")]=[],this[_0x1d97("0x28d")]=!1,this[_0x1d97("0x2f0")]=!1,this[_0x1d97("0xb69")]={},this.userModelLoadStatus={},this[_0x1d97("0xb6a")]={},this[_0x1d97("0xb6b")]=null,this[_0x1d97("0xb6c")]=50,this[_0x1d97("0xb6d")]=1e4,this.GLTFMergeTool=new(c[_0x1d97("0x1c")]),this.mergeModels=!d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]&&d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x212")],this[_0x1d97("0x579")]={modelTypesCount:0,roomModelsCount:0},this[_0x1d97("0x9d8")]=new(THREE[_0x1d97("0x815")]);var _=this;d[_0x1d97("0x38")].on(_0x1d97("0xb6e"),(function(){0,_[_0x1d97("0xb67")]=0,_[_0x1d97("0x579")][_0x1d97("0x57a")]=0,_.modelStatic.roomModelsCount=0})),d[_0x1d97("0x38")].on(_0x1d97("0x895"),(function(){_[_0x1d97("0x2f0")]=!1})),this.bid=d.id,this[_0x1d97("0x4b")]=d,this[_0x1d97("0x155")]=_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x155")],d.map.on(_0x1d97("0x156"),this[_0x1d97("0xb6f")][_0x1d97("0x11")](this))}var d,_,l,f;return(0,s[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xb70"),value:function(){this.frustum.inited||(this[_0x1d97("0x9d8")].setFromMatrix((new(THREE[_0x1d97("0x261")])).multiplyMatrices(this[_0x1d97("0x305")][_0x1d97("0x38")].currentCamera[_0x1d97("0x643")],this.scene.map[_0x1d97("0x17f")][_0x1d97("0x180")])),this[_0x1d97("0x9d8")][_0x1d97("0xb71")]=!0),this[_0x1d97("0x155")]=this.scene.map[_0x1d97("0x155")]}},{key:_0x1d97("0xb72"),value:function(x,d){var _=x[_0x1d97("0x223")],e=x[_0x1d97("0x48")],t=x[_0x1d97("0xe8")];if(d=d||!1,!(_[_0x1d97("0xd7")](_0x1d97("0xb73"))>-1&&this[_0x1d97("0x305")].map[_0x1d97("0x35")][_0x1d97("0x214")]==_0x1d97("0x47b"))){this[_0x1d97("0xb64")]++,_[_0x1d97("0xd7")](_0x1d97("0xb74"))>-1&&(d=!0);var a=x.showLevel,i=this[_0x1d97("0x155")];this.mergeModels&&!d?(this[_0x1d97("0x2ab")][_]||this[_0x1d97("0x310")][_]||(this.loadingList[_]=!0,this[_0x1d97("0x311")](_,e)),i<a?(this[_0x1d97("0xb68")][a]||(this[_0x1d97("0xb68")][a]={}),this.mergeQueueWaiting[a][t]||(this[_0x1d97("0xb68")][a][t]={}),this[_0x1d97("0xb68")][a][t][_]||(this.mergeQueueWaiting[a][t][_]=[]),this[_0x1d97("0xb68")][a][t][_][_0x1d97("0x1")](x)):(this.mergeQueue[t]||(this[_0x1d97("0xa26")][t]={}),this[_0x1d97("0xa26")][t][_]||(this[_0x1d97("0xa26")][t][_]=[]),this[_0x1d97("0xa26")][t][_].push(x))):x[_0x1d97("0x1aa")]<=12?(this[_0x1d97("0x2ab")][_]||this[_0x1d97("0x310")][_]||(this.loadingList[_]=!0,this[_0x1d97("0x311")](_,e)),this[_0x1d97("0x909")][_0x1d97("0x1")](x),this[_0x1d97("0xb75")]()):(this[_0x1d97("0x9d8")][_0x1d97("0x82b")](x[_0x1d97("0xb6")])&&(this[_0x1d97("0x2ab")][_]||this[_0x1d97("0x310")][_]||(this[_0x1d97("0x310")][_]=!0,this[_0x1d97("0x311")](_,e))),this[_0x1d97("0xb76")](x))}}},{key:_0x1d97("0xb75"),value:function(){this[_0x1d97("0x909")].sort((function(x,d){return d.rank-x[_0x1d97("0x1aa")]}))}},{key:_0x1d97("0xb77"),value:function(x){var d=x[_0x1d97("0x223")],_=x[_0x1d97("0x48")];!this.checkO1()||this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0xa1a")]?(this[_0x1d97("0xb64")]++,this[_0x1d97("0x2ab")][d]||this[_0x1d97("0x310")][d]||(this[_0x1d97("0x310")][d]=!0,this[_0x1d97("0x311")](d,_)),x[_0x1d97("0xbf")]?(this.userMergeQueue[x.layerid]||(this[_0x1d97("0xb6a")][x.layerid]={}),this.userMergeQueue[x[_0x1d97("0xb79")]][d]||(this[_0x1d97("0xb6a")][x[_0x1d97("0xb79")]][d]=[]),this[_0x1d97("0xb6a")][x[_0x1d97("0xb79")]][d][_0x1d97("0x1")](x)):this[_0x1d97("0xb76")](x)):esmap[_0x1d97("0x2ad")][_0x1d97("0xb78")]}},{key:"start",value:(f=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:return x[_0x1d97("0x2a8")]=2,this[_0x1d97("0xb7a")](d);case 2:if(!(this[_0x1d97("0x909")].length>0)){x[_0x1d97("0x2a8")]=5;break}return x[_0x1d97("0x2a8")]=5,this[_0x1d97("0xb7b")]();case 5:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return f[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0xb7c"),value:function(x){var d=this,_=this,e=this[_0x1d97("0x4b")],t=_[_0x1d97("0x4b")].map.id,i=_.mergeQueueWaiting[x];if(i)for(var n in this[_0x1d97("0xb68")][x]=null,i){var r=i[n],s=Array[_0x1d97("0x547")](r);for(var o in r){var c=r[o=s?r[o].model:o],l=!1;if(_[_0x1d97("0x2ab")][o]&&c[_0x1d97("0x0")]>0){var f=function(){c[0][_0x1d97("0xb7d")]&&(l=!0),!l&&o.indexOf("__singlemesh")<0&&(_[_0x1d97("0xb67")]+=c[_0x1d97("0x0")]);var x=c[0].parent,a=c[0][_0x1d97("0x48")],i=c[0][_0x1d97("0x22c")];0,0;for(var r=null,s={},f=0;f<c.length;f++){var h=c[f];h.mapId&&(r=h[_0x1d97("0x37")],s=d[_0x1d97("0x305")].map[_0x1d97("0x23d")](h[_0x1d97("0xb6")]))}if(0!=_[_0x1d97("0x2ab")][o][_0x1d97("0x30a")].animations[_0x1d97("0x0")]){for(var b=0;b<c.length;b++)_.addMapModel(c[b],!0);return _0x1d97("0x53c")}var g=_[_0x1d97("0x57f")][_0x1d97("0xbf")](_[_0x1d97("0x2ab")][o][_0x1d97("0x30a")],c);if(!g){for(var v=0;v<c.length;v++)c[v][_0x1d97("0xbf")]=!1,1,_[_0x1d97("0xb72")](c[v]);return{v:void 0}}g.name="_root_",g[_0x1d97("0x11e")][_0x1d97("0x952")]=!0,g[_0x1d97("0xa2")]={model:o,isWall:l,bid:t,tileId:_[_0x1d97("0x4b")].id,bType:_[_0x1d97("0x4b")][_0x1d97("0x14e")],FloorNum:n,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x221")],brothers:c,animations:[],o3d_:g,url:a,mapCoord:s},r&&(g.datas_[_0x1d97("0x37")]=r,d[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x18c")].targetAndBuildingList[r]=g[_0x1d97("0xa2")]),g[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],c[0].bclick&&(2==e[_0x1d97("0x14e")]?(!_[_0x1d97("0x305")].map[_0x1d97("0x35")].disableIndoorClick&&_[_0x1d97("0x305")].map[_0x1d97("0x146")][_0x1d97("0x188")](g,e.id),e[_0x1d97("0xb7e")][n][_0x1d97("0x235")]-=c.length):_[_0x1d97("0x305")][_0x1d97("0x38")].mapPicker.addObject(g,e.id)),x[_0x1d97("0xdc")](g);var p=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](g),m={};[p.max.x-p.min.x,p[_0x1d97("0x317")].z-p[_0x1d97("0x318")].z,p[_0x1d97("0x317")].y-p.min.y][_0x1d97("0x41c")](),m[_0x1d97("0x316")]=p,g.userData[_0x1d97("0x315")]=m,_[_0x1d97("0x305")][_0x1d97("0x38")].mapService.modelLoadCount-=c[_0x1d97("0x0")],_[_0x1d97("0x305")][_0x1d97("0x38")].on("controlUpdated",(function(){if(_[_0x1d97("0x305")].map[_0x1d97("0x155")]<i&&g.parent){g.parent.remove(g);var x=_.scene[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x147")][_[_0x1d97("0x4b")].id];if(x){var d=x[_0x1d97("0xd7")](g);d>-1&&x[_0x1d97("0x189")](d,1)}_[_0x1d97("0xb68")][i]||(_.mergeQueueWaiting[i]={}),_[_0x1d97("0xb68")][i][1]||(_.mergeQueueWaiting[i][1]={});var e=g[_0x1d97("0xa2")][_0x1d97("0x33d")][0][_0x1d97("0x223")];_.mergeQueueWaiting[i][1][e]||(_.mergeQueueWaiting[i][1][e]=[]),_.mergeQueueWaiting[i][1][e]=_[_0x1d97("0xb68")][i][1][e][_0x1d97("0x1de")](g[_0x1d97("0xa2")][_0x1d97("0x33d")]),u(g)}})),_[_0x1d97("0x305")][_0x1d97("0x38")].mapService[_0x1d97("0x18c")][_0x1d97("0x928")](),_.scene[_0x1d97("0x38")].fire(_0x1d97("0xb7f"),g[_0x1d97("0xa2")]),e[_0x1d97("0x15f")](n),2==e.buildingType&&e.options[_0x1d97("0x862")]&&e[_0x1d97("0x35")][_0x1d97("0xb80")]<1&&e.focusFloorNum!=n&&esmap[_0x1d97("0x75")][_0x1d97("0x54a")](n,e[_0x1d97("0x35")][_0x1d97("0xb80")])}();if("continue"===f)continue;if("object"===(typeof f===_0x1d97("0x8")?_0x1d97("0x8"):(0,a[_0x1d97("0x1c")])(f)))return f.v}}}}},{key:_0x1d97("0xb81"),value:function(x,d){var _=this,e=_[_0x1d97("0xa26")][d],t=_.scene[_0x1d97("0x38")].id;for(var a in e){var i=e[a],n=!1;if(_.modelStore[a]&&i[_0x1d97("0x0")]>0){i[0].iswall&&(n=!0),!n&&a[_0x1d97("0xd7")](_0x1d97("0xb73"))<0&&(_.mapModelsCount+=i[_0x1d97("0x0")]);for(var r=(new(THREE[_0x1d97("0x30b")])).setFromObject(_[_0x1d97("0x2ab")][a][_0x1d97("0x30a")].scene),s=i[0][_0x1d97("0xba")],o=i[0].url,c=null,l={},u=r[_0x1d97("0x317")].y-r[_0x1d97("0x318")].y,f=0;f<i[_0x1d97("0x0")];f++){var h=u*i[f][_0x1d97("0x237")].y,b=h+i[f][_0x1d97("0xb6")].y-h/2;i[f].Height=1*b.toFixed(2);var g=i[f];g[_0x1d97("0xc7")]=esmap.ESNodeType[_0x1d97("0x221")],g.ID=g.id;var v=_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x23d")](g[_0x1d97("0xb6")]);g[_0x1d97("0x3cb")]=v,g.mapId&&(c=g[_0x1d97("0x37")],l=v)}if(0!=_[_0x1d97("0x2ab")][a][_0x1d97("0x30a")].animations[_0x1d97("0x0")]){for(var p=0;p<i[_0x1d97("0x0")];p++)_[_0x1d97("0xb72")](i[p],!0);_[_0x1d97("0xa26")][d][a]=[];continue}var m=_[_0x1d97("0x57f")].merge(_[_0x1d97("0x2ab")][a].gltfObj,i);if(!m){for(var A=0;A<i[_0x1d97("0x0")];A++)i[A].merge=!1,1,_.addMapModel(i[A]);return void(_.mergeQueue[d][a]=[])}m[_0x1d97("0xb8")]="_root_",m[_0x1d97("0x11e")][_0x1d97("0x952")]=!0,m.datas_={isWall:n,model:a,bid:t,tileId:_[_0x1d97("0x4b")].id,bType:_[_0x1d97("0x4b")][_0x1d97("0x14e")],FloorNum:d,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x221")],brothers:i,animations:[],o3d_:m,url:o,mapCoord:l},c&&(m[_0x1d97("0xa2")][_0x1d97("0x37")]=c,this.scene[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xb82")][c]=m.datas_),m[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")].model3D,i[0].bclick&&(2==x.buildingType?(!_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb83")]&&_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](m,x.id),x[_0x1d97("0xb7e")][d][_0x1d97("0x235")]-=i.length):_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x146")].addObject(m,x.id)),s[_0x1d97("0xdc")](m);var C=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](m),I={};[C[_0x1d97("0x317")].x-C[_0x1d97("0x318")].x,C[_0x1d97("0x317")].z-C[_0x1d97("0x318")].z,C.max.y-C[_0x1d97("0x318")].y][_0x1d97("0x41c")](),I[_0x1d97("0x316")]=C,m[_0x1d97("0x11e")].modelinfo=I,_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x162")]-=i[_0x1d97("0x0")],_.scene[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x18c")][_0x1d97("0x928")](),_[_0x1d97("0xa26")][d][a]=[],_.scene[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xb7f"),m[_0x1d97("0xa2")]),x[_0x1d97("0x15f")](d),2==x[_0x1d97("0x14e")]&&x.options.focusAlphaMode&&x[_0x1d97("0x35")][_0x1d97("0xb80")]<1&&x.focusFloorNum!=d&&esmap.ESMapUtil[_0x1d97("0x54a")](d,x[_0x1d97("0x35")][_0x1d97("0xb80")])}}}},{key:_0x1d97("0xb7b"),value:function(){var x=this,d=this;return new t.default((function(_){for(var e=0,t=0;t<d.requisitesQueue[_0x1d97("0x0")];t++){var a=d[_0x1d97("0x909")][t];if(e>=x.concurrencyLimit)break;d[_0x1d97("0x2ab")][a[_0x1d97("0x223")]]?(d.requisitesQueue[_0x1d97("0x189")](t,1),t--,d[_0x1d97("0xb84")](a),e++):d.loadingList[a[_0x1d97("0x223")]]||(d.loadingList[a.model]=!0,d.preFetchModel3D(a[_0x1d97("0x223")],a[_0x1d97("0x48")]))}_()}))}},{key:_0x1d97("0xb85"),value:function(){var x=this;if(x[_0x1d97("0x1e9")]&&x.scene[_0x1d97("0x38")][_0x1d97("0x28c")]&&!this.viewRangeUpdated&&x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb86")]){for(var d=x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x22e")],_=x[_0x1d97("0x4b")],e=0;e<_[_0x1d97("0x0")];e++){var t=x[_0x1d97("0x305")][_0x1d97("0x38")].getFloor(_[e]);if(!t)return;var a=t[_0x1d97("0x193")]("marker3d")[0];if(!a)return;var i=a[_0x1d97("0xa3")][_0x1d97("0xa4")];this.scene.map[_0x1d97("0x8b8")]?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")].distanceTo(this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]):this[_0x1d97("0x305")].map[_0x1d97("0x280")].target.distanceTo(this[_0x1d97("0x305")][_0x1d97("0x38")].currentCamera[_0x1d97("0xb6")]);for(var n=0;n<i[_0x1d97("0x0")];n++){for(var r=i[n],s=r[_0x1d97("0xa2")][_0x1d97("0x33d")],o=[],c=[],l=0;l<s.length;l++){var u=s[l],f=u.position[_0x1d97("0xdb")]();f[_0x1d97("0xa43")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")]);var h=!1;(Math[_0x1d97("0x253")](f.x)>=1.5||Math[_0x1d97("0x253")](f.y)>=1.5)&&(h=!0);var b=x[_0x1d97("0x57f")][_0x1d97("0xb87")](r,u.id);u[_0x1d97("0x22c")]<d||h?b&&o[_0x1d97("0x1")](u.id):!b&&c.push(u.id)}x[_0x1d97("0x57f")].setModelVisible(r,o,!1),x[_0x1d97("0x57f")][_0x1d97("0x41a")](r,c,!0)}}this.viewRangeUpdated=!0}}},{key:_0x1d97("0xb88"),value:function(){var x=this;if(!x[_0x1d97("0x1e9")]&&x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x28c")]&&!this[_0x1d97("0x2f0")]){var d=new(THREE[_0x1d97("0x815")]);d[_0x1d97("0xb89")]((new(THREE[_0x1d97("0x261")])).multiplyMatrices(this[_0x1d97("0x305")].map[_0x1d97("0x17f")][_0x1d97("0x643")],this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x180")]));var _=x[_0x1d97("0x4b")].layerManager[_0x1d97("0x193")](_0x1d97("0x94b"))[0];if(!_)return;var e=_[_0x1d97("0xa3")][_0x1d97("0xa4")];this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8b8")]?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")].target[_0x1d97("0x25d")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]):this[_0x1d97("0x305")][_0x1d97("0x38")].controls.target[_0x1d97("0x25d")](this.scene[_0x1d97("0x38")].currentCamera[_0x1d97("0xb6")]);for(var t=0;t<e[_0x1d97("0x0")];t++){var a=e[t],i=(a[_0x1d97("0xb6")],a[_0x1d97("0x11e")][_0x1d97("0x315")][_0x1d97("0xb8a")],a[_0x1d97("0x11e")][_0x1d97("0x315")].box3);d[_0x1d97("0x825")](i)||(x[_0x1d97("0x8e6")][_0x1d97("0x1")](a[_0x1d97("0x11e")][_0x1d97("0x315")]),a[_0x1d97("0xa2")][_0x1d97("0xa6")](),t--)}this[_0x1d97("0x2f0")]=!0}}},{key:"applyMergeToMap",value:function(x,d,_,e){var a=this;return new(t[_0x1d97("0x1c")])((function(t){if(a[_0x1d97("0x2ab")][_]&&d[_0x1d97("0x0")]>0){a.mapModelsCount+=d.length;var i=d[0][_0x1d97("0xba")],n=d[0][_0x1d97("0x48")],r=(new THREE.Box3).setFromObject(a[_0x1d97("0x2ab")][_][_0x1d97("0x30a")][_0x1d97("0x305")]),s=(r[_0x1d97("0x317")].y-r[_0x1d97("0x318")].y)/2,o=0,c=0;if(0!=a.modelStore[_].gltfObj[_0x1d97("0x2b2")][_0x1d97("0x0")]){for(var l=0;l<d[_0x1d97("0x0")];l++)d[l][_0x1d97("0xbf")]=!1,1,a.addUserModel(d[l]);return void(a[_0x1d97("0xb6a")][e][_]=[])}for(var f=r[_0x1d97("0x317")].y-r[_0x1d97("0x318")].y,h=!1,b=0;b<d[_0x1d97("0x0")];b++){var g=f*d[b][_0x1d97("0x237")].y+d[b][_0x1d97("0xb6")].y-f/2;d[b][_0x1d97("0x31e")]=1*g.toFixed(2),d[b][_0x1d97("0xb6")].y+=s*d[b].scale.y,0==b&&d[b].iswall&&(h=!0),2==x[_0x1d97("0x14e")]&&(o=x[_0x1d97("0x165")][_0x1d97("0x8f7")]-a[_0x1d97("0x305")][_0x1d97("0x199")],c=x[_0x1d97("0x165")][_0x1d97("0x8f8")]-a.scene[_0x1d97("0x19a")]);var v=d[b][_0x1d97("0xb6")];d[b][_0x1d97("0xb6")].x=v.x-o,d[b][_0x1d97("0xb6")].z=v.z-c}var p=a[_0x1d97("0x57f")].merge(a[_0x1d97("0x2ab")][_][_0x1d97("0x30a")],d);if(!p){for(var m=0;m<d[_0x1d97("0x0")];m++)d[m].merge=!1,1,a.addUserModel(d[m]);return void(a[_0x1d97("0xb6a")][e][_]=[])}p[_0x1d97("0xb8")]=_0x1d97("0xb9");var A=d[0][_0x1d97("0xe8")];p.userData[_0x1d97("0x952")]=!0;p[_0x1d97("0xa2")]={model:_,isWall:h,bid:mapId,tileId:x.id,FloorNum:A,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x221")],brothers:d,animations:[],url:n,bType:x[_0x1d97("0x14e")],o3d_:p,dispose:function(x){(x=x||this).visible=!1;var d=x[_0x1d97("0xba")];return d?(d[_0x1d97("0x149")](x),u(x),!0):void 0}.bind(p)},p[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],d[0][_0x1d97("0xb8b")]&&(2==x[_0x1d97("0x14e")]?!a[_0x1d97("0x305")][_0x1d97("0x38")].options[_0x1d97("0xb83")]&&a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](p,x.id):a[_0x1d97("0x305")].map.mapPicker[_0x1d97("0x188")](p,x.id)),i.add(p),a[_0x1d97("0x305")].map[_0x1d97("0x2aa")][_0x1d97("0x162")]-=d.length,a.userMergeQueue[e][_]=[],a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xb7f"),p[_0x1d97("0xa2")]),a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x862")]&&a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb80")]<1&&a.scene.map[_0x1d97("0xb8c")]!=A&&esmap[_0x1d97("0x75")].setFloorAlpha(A,a[_0x1d97("0x305")].map.options.focusAlpha)}t()}))}},{key:"loadUserMergeModel",value:(l=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d,_){var e,t,a,n,r;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x.prev=x.next){case 0:for(a in t=(e=this)[_0x1d97("0xb6a")][_])t[a].length;x.t0=i.default[_0x1d97("0x538")](t);case 5:if((x.t1=x.t0())[_0x1d97("0x3e8")]){x[_0x1d97("0x2a8")]=12;break}return n=x.t1[_0x1d97("0xf1")],r=t[n],x[_0x1d97("0x2a8")]=10,e[_0x1d97("0xb8d")](d,r,n,_);case 10:x[_0x1d97("0x2a8")]=5;break;case 12:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x,d){return l.apply(this,arguments)})},{key:_0x1d97("0xb8e"),value:function(){return!1}},{key:_0x1d97("0xb6f"),value:function(){var x=this,d=this[_0x1d97("0x305")][_0x1d97("0x38")].zoomLevel,_=function(_){if(!x[_0x1d97("0xb68")][_])return _0x1d97("0x53c");d>=_&&setTimeout((function(){x[_0x1d97("0xb7c")](_)}),0)};for(var e in this[_0x1d97("0xb68")])_(e)}},{key:_0x1d97("0xb8f"),value:function(){var x=this,d=this[_0x1d97("0x4b")];if(this.mergeModels&&x[_0x1d97("0xb67")]<x.modelStatic.roomModelsCount)for(var _ in this.mapModelLoadStatus)this.mapModelLoadStatus[_]&&this.startLoadModelsByFLoor(d,_);for(var e in this[_0x1d97("0xb6a")])this[_0x1d97("0xb90")][e]&&this[_0x1d97("0xb91")](d,e);if(this[_0x1d97("0xb65")]&&x[_0x1d97("0x909")].length>0&&x[_0x1d97("0x1c1")](),this[_0x1d97("0xb65")]&&x[_0x1d97("0x305")][_0x1d97("0x38")].enableCollide&&(x.queue[_0x1d97("0x0")]>0||x[_0x1d97("0x8e6")][_0x1d97("0x0")]>0)){if(!this[_0x1d97("0x28d")]){var t=x[_0x1d97("0x305")].map[_0x1d97("0x8b8")];if(this[_0x1d97("0xb6b")]||(this[_0x1d97("0xb6b")]=t?this.scene[_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")][_0x1d97("0xdb")]():this[_0x1d97("0x305")][_0x1d97("0x38")].controls[_0x1d97("0x27e")][_0x1d97("0xdb")]()),x[_0x1d97("0x8e5")]=x[_0x1d97("0x8e5")][_0x1d97("0x1de")](x[_0x1d97("0x8e6")]),x[_0x1d97("0x8e6")]=[],x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb86")]){var a=new THREE.Frustum;t?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")][_0x1d97("0x25d")](this[_0x1d97("0x305")].map[_0x1d97("0x17f")][_0x1d97("0xb6")]):this.scene.map[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x25d")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")].position);var i=t?this.scene.map[_0x1d97("0x8a1")][_0x1d97("0x27e")]:this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")];a[_0x1d97("0xb89")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x17e")](this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x643")],this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x180")]));for(var n=0;n<x.queue[_0x1d97("0x0")];n++){if(x[_0x1d97("0x8e5")][n][_0x1d97("0xb92")]=1/x[_0x1d97("0x8e5")][n][_0x1d97("0xb6")][_0x1d97("0x25d")](i),x[_0x1d97("0x8e5")][n][_0x1d97("0x316")]){if(!a[_0x1d97("0x825")](x.queue[n].box3)){x[_0x1d97("0x8e6")][_0x1d97("0x1")](x[_0x1d97("0x8e5")][n]),x[_0x1d97("0x8e5")][_0x1d97("0x189")](n,1),n--;continue}x[_0x1d97("0x8e5")][n][_0x1d97("0xb92")]=1/x[_0x1d97("0x8e5")][n].position[_0x1d97("0x25d")](i)}else if(!a.containsPoint(x[_0x1d97("0x8e5")][n][_0x1d97("0xb6")])){x[_0x1d97("0x8e6")][_0x1d97("0x1")](x.queue[n]),x.queue[_0x1d97("0x189")](n,1),n--;continue}}for(var r=d[_0x1d97("0x14d")][_0x1d97("0x193")](_0x1d97("0x94b"))[0][_0x1d97("0xa3")][_0x1d97("0xa4")],s=[],o=0;o<r[_0x1d97("0x0")];o++){var c=r[o];if(!c[_0x1d97("0xa2")][_0x1d97("0xb93")]){c[_0x1d97("0x11e")][_0x1d97("0x315")][_0x1d97("0xb8a")],x[_0x1d97("0x305")][_0x1d97("0x38")].scaleLevel_;var l={modelrank:1/c[_0x1d97("0xb6")].distanceTo(i),model:c,ind:o};s[_0x1d97("0x1")](l)}}var u=[];(u=[][_0x1d97("0x1de")](s,x[_0x1d97("0x8e5")]))[_0x1d97("0x41c")]((function(x,d){return d[_0x1d97("0xb92")]-x[_0x1d97("0xb92")]}));var f=[];if(u.length>x[_0x1d97("0xb6d")]){f=u[_0x1d97("0x189")](x[_0x1d97("0xb6d")]);for(var h=0;h<f[_0x1d97("0x0")];h++)f[h][_0x1d97("0x2")](_0x1d97("0xb94"))?(x[_0x1d97("0x8e6")][_0x1d97("0x1")](f[h][_0x1d97("0x223")][_0x1d97("0x11e")].modelinfo),f[h].model.datas_[_0x1d97("0xa6")](),f[h][_0x1d97("0x223")]=null):x.toAddQueue[_0x1d97("0x1")](f[h]),f[_0x1d97("0x189")](h,1),h--}for(var b=0;b<u[_0x1d97("0x0")];b++)u[b][_0x1d97("0x2")](_0x1d97("0xb94"))&&(u[_0x1d97("0x189")](b,1),b--);x[_0x1d97("0x8e5")]=u}this[_0x1d97("0xb95")](),this[_0x1d97("0x28d")]=!0,t?this.lasViewCenter=this[_0x1d97("0x305")].map[_0x1d97("0x8a1")][_0x1d97("0x27e")][_0x1d97("0xdb")]():this[_0x1d97("0xb6b")]=this[_0x1d97("0x305")][_0x1d97("0x38")].controls[_0x1d97("0x27e")][_0x1d97("0xdb")]()}x[_0x1d97("0x1c1")](d)}}},{key:_0x1d97("0xb76"),value:function(x){for(var d=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8b8")]?this.scene[_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")]:this.scene[_0x1d97("0x38")].controls[_0x1d97("0x27e")],_=this[_0x1d97("0x8e5")][_0x1d97("0x0")],e=x.position[_0x1d97("0x25d")](d),t=0;t<_;t++){if(this[_0x1d97("0x8e5")][t][_0x1d97("0xb6")].distanceTo(d)>=e)return void this[_0x1d97("0x8e5")].splice(t,0,x)}this[_0x1d97("0x8e6")][_0x1d97("0x1")](x),this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x28c")]=!0}},{key:_0x1d97("0xb95"),value:function(){var x=this[_0x1d97("0x305")].map[_0x1d97("0x8b8")]?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")].target:this[_0x1d97("0x305")].map[_0x1d97("0x280")].target;this.queue[_0x1d97("0x0")];this.queue[_0x1d97("0x41c")]((function(d,_){return d[_0x1d97("0xb6")][_0x1d97("0x25d")](x)-_[_0x1d97("0xb6")][_0x1d97("0x25d")](x)})),this[_0x1d97("0x8e5")]}},{key:_0x1d97("0xb7a"),value:function(){var x=this,d=this;return new t.default((function(_){for(var e=0,t=0;t<d[_0x1d97("0x8e5")][_0x1d97("0x0")];t++){var a=d[_0x1d97("0x8e5")][t];if(e>=x.concurrencyLimit)break;d[_0x1d97("0x2ab")][a[_0x1d97("0x223")]]?(d[_0x1d97("0x8e5")][_0x1d97("0x189")](t,1),t--,d[_0x1d97("0xb84")](a),e++):d.loadingList[a[_0x1d97("0x223")]]||(d[_0x1d97("0x310")][a[_0x1d97("0x223")]]=!0,d[_0x1d97("0x311")](a[_0x1d97("0x223")],a[_0x1d97("0x48")]))}_()}))}},{key:"loadExist",value:function(x){var d,_=this,e=this[_0x1d97("0x4b")],t=x[_0x1d97("0x223")],a=_.modelStore[t].gltfObj[_0x1d97("0x305")],i=_[_0x1d97("0x2ab")][t].animNames,n=(i[_0x1d97("0x0")],!1);a.children.forEach((function(x){(x instanceof THREE.SkinnedMesh||x instanceof THREE.Bone)&&(n=!0)})),d=n?THREE.SkeletonUtils[_0x1d97("0xdb")](a):a[_0x1d97("0xdb")](),_[_0x1d97("0x5")](d,x,i,e)}},{key:"apply",value:function(x,d,_){var a=this,i=this,n=this[_0x1d97("0x4b")],r=n.map.id;return new(t[_0x1d97("0x1c")])((function(t){_=_||[];var s=i.scene.map[_0x1d97("0x146")],c=d.fnum,l=null,u=null,f={},h=null,b=!1;x[_0x1d97("0xb4")]((function(x){if(x&&x[_0x1d97("0xb8")])if(x.name.indexOf(_0x1d97("0xb96"))>-1){s[_0x1d97("0xacd")][_0x1d97("0x1")](x);var d=x.name[_0x1d97("0x28")]("-"),_=d[d[_0x1d97("0x0")]-1];f[_]||(f[_]={floorObj:null,floorLabel:null,lineGroup:null}),f[_][_0x1d97("0xb97")]=x,x[_0x1d97("0x11e")].floornum=_}else if(x[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x9e2"))>-1)l=x,u=x[_0x1d97("0xba")];else if(x[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0xb98"))>-1){var e=x[_0x1d97("0xb8")].split("-"),t=e[e[_0x1d97("0x0")]-1];f[t]||(f[t]={floorObj:null,floorLabel:null,lineGroup:null}),f[t][_0x1d97("0xb99")]=x}else x.name.indexOf("_ef_$fl-group")>-1&&(h=x)})),h&&(b=!0),l&&u.remove(l);var g=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](x);g.getCenter(x[_0x1d97("0xb6")]),x[_0x1d97("0xb6")][_0x1d97("0x276")](-1),l&&u.add(l);var v,p,m=g.max.y-g[_0x1d97("0x318")].y;g[_0x1d97("0x317")].x,g[_0x1d97("0x318")].x;v=m<1?15:20,v*=d[_0x1d97("0x237")].y;var A=d[_0x1d97("0x22f")]||!1;if(d[_0x1d97("0xb9a")]){0;var C=d[_0x1d97("0x48")].lastIndexOf("/"),I=d[_0x1d97("0x48")];C>-1&&(I=d.url[_0x1d97("0xca")](C+1)),p=d.marker,d.marker[_0x1d97("0x23e")]=d.parent,d[_0x1d97("0xb9a")][_0x1d97("0x241")]=d[_0x1d97("0x241")],d[_0x1d97("0xb9a")][_0x1d97("0x22d")]=x,d[_0x1d97("0xb9a")][_0x1d97("0x223")]=I,d[_0x1d97("0xb9a")][_0x1d97("0x2b2")]=_,d[_0x1d97("0xb9a")][_0x1d97("0x22f")]=A,d[_0x1d97("0xb9a")][_0x1d97("0x32")](),d[_0x1d97("0xb9a")].on("removed",(function(){0})),d[_0x1d97("0xb7d")]&&(d[_0x1d97("0xb9a")][_0x1d97("0xb9b")]=!0)}else{var y=d[_0x1d97("0xb6")];for(var E in d[_0x1d97("0xb6")].x=y.x-0,d[_0x1d97("0xb6")].y=y.y,d[_0x1d97("0xb6")].z=y.z-0,(p=new(o[_0x1d97("0x1c")])({diableClickEffect:b,name:d[_0x1d97("0xb8")],fnum:d[_0x1d97("0xe8")],ID:d.id,url:d[_0x1d97("0x48")],gid:d[_0x1d97("0xb9c")],mapId:d[_0x1d97("0x37")],bid:r,dataID:d[_0x1d97("0x58a")],bType:n.buildingType,model:d[_0x1d97("0x223")],callback:d[_0x1d97("0x1c2")],top:d.top,rotation:d[_0x1d97("0x238")],position:d[_0x1d97("0xb6")],scale:d[_0x1d97("0x237")],scaleRate:v,child:x,addTo:d[_0x1d97("0xba")],isChildNode:A,animations:_}))[_0x1d97("0x91")]=d.tileId,d[_0x1d97("0xb7d")]&&(p[_0x1d97("0xb9b")]=!0),f){var w=f[E];w[_0x1d97("0xb97")][_0x1d97("0x11e")].label=w.floorLabel,h&&(h[_0x1d97("0xf0")]=!1,w[_0x1d97("0xb97")][_0x1d97("0x11e")][_0x1d97("0xad5")]=h),w[_0x1d97("0xb97")][_0x1d97("0x11e")][_0x1d97("0x223")]=p;var T=w[_0x1d97("0xb97")][_0x1d97("0xa4")];for(var k in T)T[k][_0x1d97("0x11e")].label=w.floorLabel,h&&(T[k][_0x1d97("0x11e")][_0x1d97("0xad5")]=h),T[k][_0x1d97("0x11e")][_0x1d97("0x223")]=p,T[k][_0x1d97("0x11e")][_0x1d97("0xad8")]=E,T[k][_0x1d97("0x11e")][_0x1d97("0xad1")]=w.floorObj}p.init(),a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x162")]--,d[_0x1d97("0x223")].includes(_0x1d97("0xb9d"))&&(p[_0x1d97("0x22a")]=d.model.replace(_0x1d97("0xb9d"),""),p[_0x1d97("0x307")]())}d[_0x1d97("0xb9e")]&&d[_0x1d97("0xb9e")].MA&&(0,e[_0x1d97("0x1c")])(d[_0x1d97("0xb9e")].MA)[_0x1d97("0x1d")]((function(x){var d=x.n,e=x.t,t=x.dt,a=x.l;if(!_[_0x1d97("0xb9f")]((function(x){return x==d})))return _0x1d97("0xba0"),void _0x1d97("0xba1");p.playAnimation({name:d,time:e,delay:t,loop:a})}));var S=p[_0x1d97("0xa3")],M=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](S),R=[M[_0x1d97("0x317")].x-M[_0x1d97("0x318")].x,M[_0x1d97("0x317")].z-M.min.z,M.max.y-M.min.y];R[_0x1d97("0x41c")](),d[_0x1d97("0xb8a")]=R[1]*R[2],d[_0x1d97("0x316")]=M,S[_0x1d97("0x11e")][_0x1d97("0x315")]=d,S[_0x1d97("0x11e")][_0x1d97("0x316")]=M,2==n[_0x1d97("0x14e")]?i[_0x1d97("0x294")](n,S):a[_0x1d97("0xba2")](S),d.id!=_0x1d97("0xba3")&&(d[_0x1d97("0xb8b")]||i[_0x1d97("0x305")].map[_0x1d97("0x35")][_0x1d97("0x20f")])&&(2==n[_0x1d97("0x14e")]?d[_0x1d97("0xb9a")]?s[_0x1d97("0x188")](S,n.id):i.scene[_0x1d97("0x38")].options[_0x1d97("0xb83")]||s[_0x1d97("0x188")](S,n.id):s[_0x1d97("0x188")](S,n.id)),p[_0x1d97("0x37")]&&(a.scene[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xb82")][p[_0x1d97("0x37")]]=p),a[_0x1d97("0x305")].map.mapService[_0x1d97("0x18c")][_0x1d97("0x928")](),a.scene.map[_0x1d97("0x1d9")]("modelLoadComplete",p),2==n[_0x1d97("0x14e")]&&n[_0x1d97("0x15f")](c),t()}))}},{key:_0x1d97("0x311"),value:function(x,d,_){var e=this,t=e[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xba4")];e[_0x1d97("0x305")][_0x1d97("0x38")].options[_0x1d97("0x20f")];var a=esmap[_0x1d97("0x12b")].model3D;e[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xa25")][x]=!0;var i=this[_0x1d97("0x305")][_0x1d97("0x38")].id;this[_0x1d97("0xb61")][_0x1d97("0x591")](d,(function(d){e[_0x1d97("0x305")][_0x1d97("0x38")].mapService[_0x1d97("0xa25")][x]=!1,e[_0x1d97("0xb64")]--,e.modelStatic[_0x1d97("0x57a")]++,e[_0x1d97("0x310")][x]=!1;var i=new THREE.AnimationMixer(d.scene);i.watching=!1;var n=[];d[_0x1d97("0x2b2")][_0x1d97("0x1d")]((function(x){n[_0x1d97("0x1")](x[_0x1d97("0xb8")][_0x1d97("0x2b6")]())})),d[_0x1d97("0x305")].traverse((function(x){x.renderOrder=a,x[_0x1d97("0xa7")]&&x.material[_0x1d97("0xba5")]&&(x[_0x1d97("0xa7")][_0x1d97("0xfd")]||(x.material[_0x1d97("0xfd")]=.9),x[_0x1d97("0xa7")][_0x1d97("0x38")]&&(x[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xb8")].indexOf(_0x1d97("0xba6"))>-1&&(x[_0x1d97("0xa7")][_0x1d97("0xff")]=!1),t||(x[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x7a4")]=THREE[_0x1d97("0xba7")])),!d[_0x1d97("0x305")][_0x1d97("0x11e")].needDepth&&x.material[_0x1d97("0xb8")].indexOf(_0x1d97("0x3dd"))>=0&&(d[_0x1d97("0x305")][_0x1d97("0x11e")].needDepth=!0))}));var r=null;d[_0x1d97("0xb1")]&&d[_0x1d97("0xb1")].json&&d[_0x1d97("0xb1")][_0x1d97("0xb2")].ms&&(r=d.parser[_0x1d97("0xb2")].ms),e[_0x1d97("0x2ab")][x]={mixer:i,gltfObj:d,queue:[],animations:d.animations,animNames:n,ms:r},_&&_(d),e.scene[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xba8"),{name:x,gltfObj:d}),e[_0x1d97("0x28d")]=!1}),(function(){}),(function(x){console[_0x1d97("0x3fb")](x,d),e[_0x1d97("0xb64")]--}),i)}},{key:_0x1d97("0xba9"),value:function(x){var d=esmap[_0x1d97("0x12b")][_0x1d97("0x235")];x[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x3dd"))>=0&&(x[_0x1d97("0x867")]=!1),obj.renderOrder=d,x.needsUpdate=!0}},{key:_0x1d97("0xba2"),value:(_=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:_=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],d[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")]){if(x[_0x1d97("0xa7")]instanceof Array)for(var d=0;d<x[_0x1d97("0xa7")].length;d++){var e=x[_0x1d97("0xa7")][d];e.name.indexOf("depth")>=0&&(e.depthWrite=!1,e[_0x1d97("0x13b")]=!0)}else x.material[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x3dd"))>=0&&(x[_0x1d97("0xa7")].depthWrite=!1,x[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0);x.renderOrder=_}}));case 2:case _0x1d97("0x2c4"):return x.stop()}}),x,this)}))),function(x){return _[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x294"),value:(d=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d,_){var e,t,a;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:e=_[_0x1d97("0xa2")][_0x1d97("0x23f")],t=d[_0x1d97("0x576")][e],a=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],t&&t[_0x1d97("0xf0")]&&(d.options[_0x1d97("0xb80")],_[_0x1d97("0xb4")]((function(x){if(x.material){if(x[_0x1d97("0xa7")]instanceof Array)for(var d=0;d<x.material[_0x1d97("0x0")];d++){var _=x.material[d];_[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x3dd"))>=0&&(_[_0x1d97("0x867")]=!1,_[_0x1d97("0x13b")]=!0)}else x.material[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x3dd"))>=0&&(x.material[_0x1d97("0x867")]=!1,x.material[_0x1d97("0x13b")]=!0);x[_0x1d97("0x234")]=a}})));case 6:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x,_){return d.apply(this,arguments)})},{key:_0x1d97("0x2ab"),get:function(){return this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x2aa")].modelStore}}]),x}();d[_0x1d97("0x1c")]=f},,,,function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=s(_(4)),t=s(_(2)),a=s(_(0)),i=s(_(1)),n=s(_(5)),r=s(_(6));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x){function d(x,_,i){(0,a.default)(this,d);var r=(0,t.default)({lineWidth:6,lineWidthMeter:!1,color:_0x1d97("0xcb"),lineType:esmap[_0x1d97("0x4fd")].TEXTURE,offsetHeight:0,fixedWidth:!1,closed:!1,metalness:.2,roughness:.5,transparent:!1,hiddenByFloor:!0,randomeTexture:!1,reverseAnimate:0,lineMode:_0x1d97("0xdf"),repeat:1,animateSpeed:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x1d97("0xe0")])(0,1,0),matSide:1,noAnimate:!1},_),s=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d)).call(this)),o=esmap[_0x1d97("0x33")].instance;s[_0x1d97("0xa5d")]=r;var c=function(x){for(var d=0,_=x[0][_0x1d97("0xdb")](),e=1;e<x[_0x1d97("0x0")];e++)d+=x[e][_0x1d97("0x25d")](x[e-1]),_[_0x1d97("0xdc")](x[e]);return{length:d,center:_[_0x1d97("0xdd")](x[_0x1d97("0x0")])}}(x);return s[_0x1d97("0xe6")]=x,s[_0x1d97("0x0")]=c.length,s[_0x1d97("0xe7")]=c[_0x1d97("0xe7")],s[_0x1d97("0xe8")]=x[0][_0x1d97("0xe8")]||1,s[_0x1d97("0xe5")]=x[0][_0x1d97("0xe5")]||o.id,s[_0x1d97("0xe9")]=_0x1d97("0xbaa"),s[_0x1d97("0xc7")]=esmap[_0x1d97("0xea")][_0x1d97("0xeb")],s[_0x1d97("0x32")](i),s}return(0,r[_0x1d97("0x1c")])(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:"init",value:function(x){var d=esmap[_0x1d97("0x33")].instance,_=this;_[_0x1d97("0x38")]=d;var e,t=new(THREE[_0x1d97("0x812")]),a=void 0;if(x?a=x:(a=this.lineStyle.metalness||this[_0x1d97("0xa5d")][_0x1d97("0xfd")]?new(THREE[_0x1d97("0xfb")])({color:16777215,wireframe:!1,metalness:this[_0x1d97("0xa5d")][_0x1d97("0xfc")],roughness:this[_0x1d97("0xa5d")].roughness}):new(THREE[_0x1d97("0xfe")])({color:16777215,wireframe:!1}),2==_[_0x1d97("0xa5d")][_0x1d97("0x127")]&&(a[_0x1d97("0x115")]=THREE[_0x1d97("0x111")]),a[_0x1d97("0xff")]=_[_0x1d97("0xa5d")][_0x1d97("0xff")],a[_0x1d97("0x115")]=THREE[_0x1d97("0x111")],a[_0x1d97("0x13b")]=!0),this[_0x1d97("0xa5d")][_0x1d97("0x116")]==_0x1d97("0x117")){var i=this[_0x1d97("0xa5d")].lineWidth/8;if(this[_0x1d97("0xa5d")][_0x1d97("0x118")]&&(i=this[_0x1d97("0xa5d")][_0x1d97("0x119")]),this[_0x1d97("0x11a")]=t,this[_0x1d97("0x11a")][_0x1d97("0x11b")](this.points,i,0,void 0,!1),e=new(THREE[_0x1d97("0x11c")]),this[_0x1d97("0xa5d")].fixedWidth){var n=esmap[_0x1d97("0x75")][_0x1d97("0x136")](d,this);e[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{radius:i/2*n*10,radialSegments:20,startRad:0}),e.userData.trueRadius=i/2*n*10}else e[_0x1d97("0x11d")](this.pathPointList,{radius:i/2,radialSegments:20,startRad:0}),e[_0x1d97("0x11e")].trueRadius=i/2;this[_0x1d97("0x119")]=i/2}else{var r=this[_0x1d97("0xa5d")][_0x1d97("0x119")]/8;this[_0x1d97("0xa5d")][_0x1d97("0x118")]&&(r=this[_0x1d97("0xa5d")][_0x1d97("0x119")]),this[_0x1d97("0x120")]=1,e=new THREE.PathGeometry,this[_0x1d97("0x11a")]=t;var s=!1,o=this[_0x1d97("0xe6")].length-1;if(this[_0x1d97("0xe6")][0].x==this[_0x1d97("0xe6")][o].x&&this[_0x1d97("0xe6")][0].z==this.points[o].z&&(s=!0),this[_0x1d97("0x11a")].set(this[_0x1d97("0xe6")],0,0,this[_0x1d97("0xa5d")].up,s),this[_0x1d97("0xa5d")].fixedWidth){var c=esmap[_0x1d97("0x75")].getSpriteScale(d,this);e[_0x1d97("0x11d")](this.pathPointList,{width:r*c*18,side:_0x1d97("0x124"),arrow:this[_0x1d97("0xa5d")][_0x1d97("0x123")]}),e.userData[_0x1d97("0x11f")]=r*c*18}else e[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:r,side:_0x1d97("0x124"),arrow:this.lineStyle[_0x1d97("0x123")]}),e[_0x1d97("0x11e")][_0x1d97("0x11f")]=r;this[_0x1d97("0x119")]=r}e[_0x1d97("0x126")]();this[_0x1d97("0xa5d")].dashArray=[2,0],this.textureLength=this[_0x1d97("0xa5d")].dashArray[_0x1d97("0xc5")]((function(x,d){return x+d})),this[_0x1d97("0xa7")]=a,this.geometry=e,this[_0x1d97("0x234")]=71,x.userData.bindedUpdate||(this.__bindupdate=this.updatechange_[_0x1d97("0x11")](this),d.on("update",this[_0x1d97("0xbab")]),this[_0x1d97("0xbac")]=this[_0x1d97("0xbad")].bind(this),d.on(_0x1d97("0xbae"),this[_0x1d97("0xbac")]),x[_0x1d97("0x11e")][_0x1d97("0xbaf")]=!0),this[_0x1d97("0xa5d")][_0x1d97("0xed")]&&d.on(_0x1d97("0x131"),this[_0x1d97("0x131")][_0x1d97("0x11")](this)),this.position.y+=this[_0x1d97("0xa5d")][_0x1d97("0x26")]}},{key:"updatechange_",value:function(x){!this[_0x1d97("0xa5d")][_0x1d97("0x135")]&&this[_0x1d97("0xbb0")](x)}},{key:_0x1d97("0xbad"),value:function(){this[_0x1d97("0xa5d")][_0x1d97("0x122")]&&this.updateLineWidth()}},{key:_0x1d97("0xf2"),value:function(x){var d=this[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x11f")];this[_0x1d97("0xe6")]=x;var _=!1,e=this[_0x1d97("0xe6")][_0x1d97("0x0")]-1;this[_0x1d97("0xe6")][0].x==this[_0x1d97("0xe6")][e].x&&this[_0x1d97("0xe6")][0].z==this[_0x1d97("0xe6")][e].z&&(_=!0),"circle"==this[_0x1d97("0xa5d")][_0x1d97("0x116")]?(this[_0x1d97("0x11a")][_0x1d97("0x11b")](x,d,0,void 0,!1),this[_0x1d97("0xa5")].update(this[_0x1d97("0x11a")],{radius:d,radialSegments:20,startRad:0})):(this.pathPointList[_0x1d97("0x11b")](this[_0x1d97("0xe6")],0,0,this[_0x1d97("0xa5d")].up,_),this.geometry[_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:d,side:_0x1d97("0x124"),arrow:this[_0x1d97("0xa5d")][_0x1d97("0x123")]}))}},{key:_0x1d97("0x134"),value:function(){var x=esmap[_0x1d97("0x33")].instance,d=esmap.ESMapUtil[_0x1d97("0x136")](x,this);"plane"==this[_0x1d97("0xa5d")][_0x1d97("0x116")]?this[_0x1d97("0xa5")][_0x1d97("0x11d")](this[_0x1d97("0x11a")],{width:this[_0x1d97("0x119")]*d*18,side:_0x1d97("0x124"),arrow:this.lineStyle.arrow}):this[_0x1d97("0xa5")][_0x1d97("0x11d")](this[_0x1d97("0x11a")],{radius:this.lineWidth*d*10,radialSegments:20,startRad:0})}},{key:_0x1d97("0xbb0"),value:function(x){this.material&&this.material[_0x1d97("0x38")]&&!this[_0x1d97("0xa5d")][_0x1d97("0x135")]&&(this[_0x1d97("0xa5d")].reverseAnimate?this.material[_0x1d97("0x38")][_0x1d97("0x113")].x+=x*this[_0x1d97("0xa5d")][_0x1d97("0x138")]:this[_0x1d97("0xa7")][_0x1d97("0x38")].offset.x-=x*this[_0x1d97("0xa5d")][_0x1d97("0x138")],this[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0)}},{key:_0x1d97("0xbb1"),value:function(x){this[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(this[_0x1d97("0x13c")](x))}},{key:_0x1d97("0x13c"),value:function(x){if("number"==typeof x){for(var d=x.toString(16);d[_0x1d97("0x0")]<6;)d="0"+d;return"#"+d}return x}},{key:_0x1d97("0xbb2"),value:function(x){var d=(new THREE.TextureLoader)[_0x1d97("0x591")](this[_0x1d97("0xa5d")][_0x1d97("0x48")]);d[_0x1d97("0x112")].y=1,d[_0x1d97("0x113")].y=0,d.minFilter=THREE[_0x1d97("0x140")],d[_0x1d97("0x141")]=THREE[_0x1d97("0x142")],d[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],x(d)}},{key:_0x1d97("0x144"),value:function(x){x.color&&"number"==typeof x.color&&(x[_0x1d97("0x100")]=this[_0x1d97("0x13c")](x[_0x1d97("0x100")])),(0,t[_0x1d97("0x1c")])(this.lineStyle,x),x[_0x1d97("0x145")]&&!x[_0x1d97("0x10e")]&&(this[_0x1d97("0xa5d")].dashArray=[2,0]),this[_0x1d97("0xa7")][_0x1d97("0x38")].dispose();this.fetchTexture((function(x){}))}},{key:_0x1d97("0x131"),value:function(x){if(x[_0x1d97("0xe5")]==this[_0x1d97("0xe5")]){var d=x[_0x1d97("0xbb3")],_=this[_0x1d97("0xe8")],e=!0;_0x1d97("0x13d")==typeof _?-1==d[_0x1d97("0xd7")](_)&&(e=!1):_ instanceof Array&&_[_0x1d97("0x1d")]((function(x){-1==d[_0x1d97("0xd7")](x)&&(e=!1)})),this[_0x1d97("0xf0")]=e}}},{key:_0x1d97("0xa6"),value:function(){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")];this.brothers&&this[_0x1d97("0x33d")][_0x1d97("0x0")]>0&&this[_0x1d97("0x33d")].forEach((function(x){x[_0x1d97("0xa6")]()})),esmap[_0x1d97("0x510")][_0x1d97("0xf")][_0x1d97("0xa6")][_0x1d97("0x3")](this),x[_0x1d97("0x5e")]("update",this[_0x1d97("0xbab")]),x.off(_0x1d97("0xbae"),this[_0x1d97("0xbac")]),x[_0x1d97("0x5e")](_0x1d97("0x131"),this[_0x1d97("0x131")]),this[_0x1d97("0xba")]&&this[_0x1d97("0xba")][_0x1d97("0x149")](this),this[_0x1d97("0xbb4")]=null;var d=this[_0x1d97("0xa4")][0];d&&(d[_0x1d97("0xa7")]&&(d.material[_0x1d97("0x38")]&&(d[_0x1d97("0xa7")][_0x1d97("0x38")].dispose(),d[_0x1d97("0xa7")][_0x1d97("0x38")]=null),d.material[_0x1d97("0xa6")](),d.material=void 0),d[_0x1d97("0xa5")]&&(d[_0x1d97("0xa5")][_0x1d97("0xa6")](),d[_0x1d97("0xa5")]=void 0),this[_0x1d97("0xa4")][0]=null),this.geometry&&(this[_0x1d97("0xa5")][_0x1d97("0xa6")](),this.geometry=void 0),this.material&&(this[_0x1d97("0xa7")][_0x1d97("0x38")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xa6")](),this[_0x1d97("0xa7")].map=null),this.material[_0x1d97("0xa6")](),this.material=void 0)}}]),d}(THREE[_0x1d97("0x14a")]);d.default=o},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=n(_(294)),t=n(_(0)),a=n(_(1)),i=n(_(2));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(d,_){(0,t[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xbb5")]=d,this[_0x1d97("0x280")]=_,this[_0x1d97("0xbb6")]=!1}return(0,a[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xbb7"),value:function(x){var d=x.direction,_=x.position,e=x[_0x1d97("0xbb8")],t=void 0===e?3:e,a=x[_0x1d97("0xb2f")],i=void 0===a?5:a,n=x.radiusFactor,r=x[_0x1d97("0x96f")],s=x[_0x1d97("0x2f1")];if(esmap[_0x1d97("0x4e1")]){var o=new(THREE[_0x1d97("0xe0")])(_.x,this[_0x1d97("0x280")].target.y,_.z)[_0x1d97("0x25d")](this[_0x1d97("0x280")].target),c=this[_0x1d97("0x280")].object[_0x1d97("0xbba")]-n,l=Math[_0x1d97("0x2b")](o/t),u=Math[_0x1d97("0x2b")](Math[_0x1d97("0x253")](c)/i);u<1e3&&(u=1e3),l<1e3&&(l=1e3);var f=0;switch(d){case esmap[_0x1d97("0x4e1")][_0x1d97("0xbbb")]:f=179.99;break;case esmap[_0x1d97("0x4e1")][_0x1d97("0xbbc")]:f=.01;break;case esmap[_0x1d97("0x4e1")].WAST:f=-90;break;case esmap[_0x1d97("0x4e1")].EAST:f=90;break;case esmap[_0x1d97("0x4e1")][_0x1d97("0xbbd")]:f=135;break;case esmap.ESDirection[_0x1d97("0xbbe")]:f=-135;break;case esmap[_0x1d97("0x4e1")].SOUTH_EAST:f=45;break;case esmap[_0x1d97("0x4e1")][_0x1d97("0xbbf")]:f=-45}var h=this;this[_0x1d97("0x280")][_0x1d97("0xbc0")]({x:-_.x,y:_.z,callback:function(){h.controls[_0x1d97("0xbc1")]({thetaAngle:f,phiAngle:r},n,u,s)},time:l})}else console[_0x1d97("0x245")](_0x1d97("0xbb9"))}},{key:"p2pFlyFocusTo",value:function(x,d){var _=1+50/(0,e[_0x1d97("0x1c")])(x.x,x.y,x.z);this[_0x1d97("0xbc2")]({x:x.x*_,y:x.y*_,z:x.z*_},x,d||3e3)}},{key:_0x1d97("0xbc3"),value:function(x){var d=x[_0x1d97("0xbc4")],_=x.radius,e=x[_0x1d97("0x96f")],t=void 0===e?45:e,a=x[_0x1d97("0x96c")],i=void 0===a?0:a,n=x[_0x1d97("0x255")],r=void 0===n?3:n,s=x[_0x1d97("0x1c2")];this.toggleControlsLock(!0),t=90-t>=0&&90-t<90?90-t:45;var o=_*Math[_0x1d97("0x569")](THREE.Math[_0x1d97("0x265")](t)),c=_*Math[_0x1d97("0x5a2")](THREE[_0x1d97("0x24e")][_0x1d97("0x265")](t)),l=new(THREE[_0x1d97("0x4be")])(0,0),u=new THREE.Vector2(c,0)[_0x1d97("0xbc5")](l,THREE.Math[_0x1d97("0x265")](i-90)),f=new(THREE[_0x1d97("0xe0")])(d.x+u.x,d.y+o,d.z+u.y);return this[_0x1d97("0xbc2")]({x:f.x,y:f.y,z:f.z},d,1e3*r,s),f}},{key:_0x1d97("0xbc2"),value:function(x,d,_,e){var t=this[_0x1d97("0x280")][_0x1d97("0xc")],a=this;if(x){var n=x,r=d||{x:0,y:0,z:0},s=(0,i.default)({},t[_0x1d97("0xb6")]),o=a[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")]();new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(s).to(n,_).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x){var d,_,e,t,i,n;d=a[_0x1d97("0x280")],_=x,e=d[_0x1d97("0xc")],t=_.x,i=_.y,n=_.z,void 0!==t&&(e[_0x1d97("0xb6")].x=t),void 0!==i&&(e[_0x1d97("0xb6")].y=i),void 0!==n&&(e[_0x1d97("0xb6")].z=n),d.update()})).onComplete((function(){a[_0x1d97("0xbc6")](!1),e&&e(),a[_0x1d97("0x280")][_0x1d97("0xbc7")]&&a[_0x1d97("0x280")].checkScaleLevel()}))[_0x1d97("0x1c1")](),new(esmap[_0x1d97("0x1b7")].Tween)(o).to(r,_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1c0")]).onUpdate((function(x){var d,_;d=a[_0x1d97("0x280")],_=x,d[_0x1d97("0x27e")][_0x1d97("0x11b")](_.x,_.y,_.z),d.update()}))[_0x1d97("0x1c1")]()}}},{key:_0x1d97("0xbc6"),value:function(x){this[_0x1d97("0xbb6")]=x}}]),x}();d[_0x1d97("0x1c")]=r},,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=g(_(12)),t=g(_(13)),a=g(_(0)),i=g(_(1)),n=g(_(138)),r=g(_(298)),s=g(_(304)),o=_(305),c=_(309),l=g(_(313)),u=_(314),f=g(_(23)),h=g(_(142)),b=_(72);function g(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var v={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},p=function(){function x(d){(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x38")]=d,this[_0x1d97("0x8f3")]=new c.BuildingService(this),this[_0x1d97("0x18c")]=new(o[_0x1d97("0xbc8")])(this),this.options_=d.options,this[_0x1d97("0xa23")]=[];var _=new r.default(d);THREE.ESCache=_,this.cache=_,this[_0x1d97("0xa1e")]=!1,this[_0x1d97("0x90e")]=!1,this[_0x1d97("0xbc9")]={},this[_0x1d97("0xbca")]=new(s[_0x1d97("0x1c")])(this),this.modelLoadingList={},this[_0x1d97("0x2ab")]={},this[_0x1d97("0x162")]=0,this.modelInited=!1,this[_0x1d97("0xa25")]={},this[_0x1d97("0xbcb")]={},this.filterSingleMesh=!1,this.modelLod=new u.ModelLod(d),this.navData={},this[_0x1d97("0x9c1")]=new l.default(this),this[_0x1d97("0x827")]={},d.options[_0x1d97("0x20f")]?this[_0x1d97("0xbcc")]=!1:d[_0x1d97("0x35")].quality==_0x1d97("0x47b")&&(this[_0x1d97("0xbcc")]=!0)}var d;return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x424"),value:function(x){return v[x]}},{key:"setState",value:function(x,d){v[x]=d}},{key:"addToSingleMeshData",value:function(x,d){var _,e=this,t=(this[_0x1d97("0x38")][_0x1d97("0x16c")],new(THREE[_0x1d97("0xe0")])(1,1.5,1));if(x.RMS){var a=x[_0x1d97("0xbcd")][_0x1d97("0x28")](",");t=new THREE.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}if(x.RMR){var i=Math.PI/180,n=x[_0x1d97("0xbce")][_0x1d97("0x28")](",");_=new(THREE[_0x1d97("0x264")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i)}var r=new(THREE[_0x1d97("0xe0")])(x.x,x.y,0),s=this[_0x1d97("0x38")].coordMapToThree({x:x[_0x1d97("0xbcf")],y:x[_0x1d97("0xbd0")],z:0});if(x.RMO){var o=x[_0x1d97("0xbd1")][_0x1d97("0x28")](",");s.x+=parseFloat(o[0]),s.y+=parseFloat(o[1]),s.z+=parseFloat(o[2]),r.x-=parseFloat(o[0]),r.z+=parseFloat(o[1]),r.y+=parseFloat(o[2])}var c={id:x._id,name:x.NA,rotation:_,position:s,scale:t,rotate:x[_0x1d97("0x4a4")]};e.singleMesheDatas[x.RM]||(e[_0x1d97("0xbcb")][x.RM]={}),e[_0x1d97("0xbcb")][x.RM][d]||(e[_0x1d97("0xbcb")][x.RM][d]=[]),e[_0x1d97("0xbcb")][x.RM][d][_0x1d97("0x1")](c)}},{key:_0x1d97("0x8f1"),value:(d=(0,t.default)(e[_0x1d97("0x1c")].mark((function x(d){var _,t,a,i,n,r,s,o,c,l,u;return e.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x.prev=x.next){case 0:return _=d.id,t=f[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x4b"),{buildingId:_}),a=t[_0x1d97("0x48")],i=t.skMode,x.next=4,this[_0x1d97("0x8f3")].queryData({url:a,skMode:i,id:_});case 4:if(n=x[_0x1d97("0x533")]){x[_0x1d97("0x2a8")]=7;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"),!1);case 7:if(this[_0x1d97("0x8f3")][_0x1d97("0xbd2")](n)){x[_0x1d97("0x2a8")]=10;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"),!1);case 10:if(!d.lang){x[_0x1d97("0x2a8")]=13;break}return x[_0x1d97("0x2a8")]=13,this.langLib[_0x1d97("0xbd3")](_);case 13:return r=d[_0x1d97("0x66")]||n.styleid||_0x1d97("0xbd4"),s=void 0,x.prev=15,x[_0x1d97("0x2a8")]=18,this[_0x1d97("0x8f3")][_0x1d97("0x98a")](r);case 18:s=x[_0x1d97("0x533")],x[_0x1d97("0x2a8")]=26;break;case 21:return x[_0x1d97("0x2e3")]=21,x.t0=x[_0x1d97("0x901")](15),b[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:""+x.t0,level:_0x1d97("0x245")}),this.map[_0x1d97("0x1d9")](_0x1d97("0x902"),x.t0),x.abrupt("return",!1);case 26:return this[_0x1d97("0x38")][_0x1d97("0x1d9")]("themeLoaded",{id:r,data:s}),this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xbd6")]({id:r,data:s}),(o=new esmap.ESBuilding(_,d,this[_0x1d97("0x38")])).type=n[_0x1d97("0xbd7")],o[_0x1d97("0xb8")]=n.name,o.version=n[_0x1d97("0x71")],o[_0x1d97("0xe7")]={x:n[_0x1d97("0x8f7")],y:n.DefaultCenY},o.themeID=r,(c=this.buildingService[_0x1d97("0xbd8")](n,o))[_0x1d97("0x8f7")]=-c[_0x1d97("0x8f7")],c.x=-c.x,this[_0x1d97("0x38")][_0x1d97("0x16c")].buildingScene_[_0x1d97("0xdc")](o[_0x1d97("0xa3")]),o[_0x1d97("0xa32")]=1,l=o.floorNums,1!=(u=o[_0x1d97("0x35")][_0x1d97("0xbd9")])&&l[_0x1d97("0xd7")](u)>-1&&(l[0]=l.splice(u-1,1,l[0])[0]),o[_0x1d97("0x896")]=JSON.parse("["+n.ScaleLevel+"]"),o.box3_=esmap.ESMapSceneUtil[_0x1d97("0xbda")](n),o[_0x1d97("0xef")]=o[_0x1d97("0x35")][_0x1d97("0xbdb")]==_0x1d97("0x203")?l:o[_0x1d97("0x35")].visibleFloors,o[_0x1d97("0xbdc")](0,l,(function(){})),x[_0x1d97("0x2ae")](_0x1d97("0x2af"),o);case 48:case"end":return x.stop()}}),x,this,[[15,21]])}))),function(x){return d.apply(this,arguments)})},{key:_0x1d97("0xbdd"),value:function(){new(h[_0x1d97("0x1c")])(this[_0x1d97("0x38")])}},{key:_0x1d97("0x2bc"),value:function(){v={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this[_0x1d97("0xa1e")]=!1,this._disableTileUpdate=!1,this[_0x1d97("0xbc9")]={},this.modelLoadingList={},this[_0x1d97("0x2ab")]={},this[_0x1d97("0x162")]=0,this.modelInited=!1,this.modelLoadings={},this[_0x1d97("0xbcb")]={},this[_0x1d97("0xbcc")]=!1,this[_0x1d97("0x18d")]={},this.buildingBounds={},this[_0x1d97("0x90a")]=!1}},{key:_0x1d97("0x37"),get:function(){return this[_0x1d97("0x38")].id}}]),x}();p[_0x1d97("0xbde")]=n.default,d[_0x1d97("0x1c")]=p},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=s(_(9)),t=s(_(12)),a=s(_(13)),i=s(_(71)),n=s(_(0)),r=s(_(1));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(){function x(d){(0,n[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x38")]=d,this[_0x1d97("0x4d0")]=!1,this[_0x1d97("0xbdf")]=!0,this.startTime=(new Date)[_0x1d97("0x74")](),this[_0x1d97("0xbe0")]=2592e5,this[_0x1d97("0x6bd")]=new(i[_0x1d97("0x1c")])}var d,_;return(0,r.default)(x,[{key:"init",value:(_=(0,a[_0x1d97("0x1c")])(t.default[_0x1d97("0x2a6")]((function x(d){var _,e=this;return t.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:if(this[_0x1d97("0x37")]=d,this[_0x1d97("0x38")].options[_0x1d97("0x215")]){x[_0x1d97("0x2a8")]=3;break}return x.abrupt("return");case 3:return x[_0x1d97("0x2a8")]=5,this[_0x1d97("0xbe1")]({db:_0x1d97("0xbe2"),version:2});case 5:if(_=x[_0x1d97("0x533")]){x[_0x1d97("0x2a8")]=10;break}return console[_0x1d97("0x245")](_0x1d97("0xbe3")),this[_0x1d97("0x4b0")](),x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 10:return this.db=_,x[_0x1d97("0x2a8")]=13,this[_0x1d97("0xbe4")]({id:d,updatetime:this[_0x1d97("0xbe5")],active:!0});case 13:this[_0x1d97("0x4d0")]=!0,this[_0x1d97("0xbdf")]=!1,this.map[_0x1d97("0x1d9")](_0x1d97("0xbe6")),this[_0x1d97("0x38")].on(_0x1d97("0x90a"),(function(){setTimeout((function(){e[_0x1d97("0xbe7")](),e[_0x1d97("0xbe8")]()}),3e3)}));case 17:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return _.apply(this,arguments)})},{key:"setCacheObject",value:function(x){var d=this.db.transaction(_0x1d97("0xbe9"),_0x1d97("0xbea")).objectStore(_0x1d97("0xbe9")).put(x);d[_0x1d97("0xbeb")]=function(){},d[_0x1d97("0x509")]=function(){_0x1d97("0xbec")}}},{key:_0x1d97("0xbed"),value:function(x){var d=this.db,_=this.mapId+":"+x;return new(e[_0x1d97("0x1c")])((function(x){var e=d[_0x1d97("0xbee")](_0x1d97("0xbe9"))[_0x1d97("0xbef")](_0x1d97("0xbe9")).get(_);e[_0x1d97("0xbeb")]=function(){x(e[_0x1d97("0xbf0")])},e.onerror=function(){x(null)}}))}},{key:"canUseCache",value:function(x){var d=x.url,_=x[_0x1d97("0xbf1")],t=this.mapId+":"+d,a=this.db;return new(e[_0x1d97("0x1c")])((function(x){var d=a.transaction("cacheObjects")[_0x1d97("0xbef")]("cacheObjects")[_0x1d97("0x359")](t);d[_0x1d97("0xbeb")]=function(){d[_0x1d97("0xbf0")]&&1*d[_0x1d97("0xbf0")][_0x1d97("0xbf1")]==1*_?x(!0):x(!1)},d[_0x1d97("0x509")]=function(){x(!1)}}))}},{key:_0x1d97("0xbe7"),value:function(){var x=window[_0x1d97("0xbf2")][_0x1d97("0xbf3")](_0x1d97("0xbf4"));x.onerror=function(){},x[_0x1d97("0xbeb")]=function(){}}},{key:_0x1d97("0xbf5"),value:function(x){this[_0x1d97("0xbf6")](x);for(var d=this.db[_0x1d97("0xbee")](_0x1d97("0xbe9"),"readwrite")[_0x1d97("0xbef")](_0x1d97("0xbe9"))[_0x1d97("0x2eb")](_0x1d97("0xbf7")),_=0;_<x.length;_++){var e=x[_];d[_0x1d97("0xbf8")](IDBKeyRange[_0x1d97("0xbf9")]([e]))[_0x1d97("0xbeb")]=function(x){var d=x[_0x1d97("0x27e")].result;d&&(d[_0x1d97("0x2a5")](),d[_0x1d97("0x53c")]())}}}},{key:_0x1d97("0xbe8"),value:(d=(0,a[_0x1d97("0x1c")])(t[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){var d,_,e,a,i,n,r,s,o=this;return t.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:d=this[_0x1d97("0x37")],_=this.db,e=this.startTime,a=this.expiresIn,i=_[_0x1d97("0xbee")](_0x1d97("0xbfa"),_0x1d97("0xbea")),n=i[_0x1d97("0xbef")](_0x1d97("0xbfa")),r=n[_0x1d97("0xbf8")](),s=[],r[_0x1d97("0xbeb")]=function(x){var _=x[_0x1d97("0x27e")].result;if(_){var t=_.value;if(t.id===d||!t.active)return void _.continue();var i=t[_0x1d97("0xbf1")];e-i>a&&s[_0x1d97("0x1")](t.id),_[_0x1d97("0x53c")]()}else o.clearOutDated(s)};case 9:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return d.apply(this,arguments)})},{key:"clearAll",value:function(){if(window[_0x1d97("0xbf2")]){var x=window[_0x1d97("0xbf2")][_0x1d97("0xbf3")](_0x1d97("0xbe2"));x.onerror=function(){},x[_0x1d97("0xbeb")]=function(){};var d=window[_0x1d97("0xbf2")][_0x1d97("0xbf3")](_0x1d97("0xbfb"));d[_0x1d97("0x509")]=function(){console[_0x1d97("0x245")]("Error deleting database ESBIM")},d[_0x1d97("0xbeb")]=function(){}}}},{key:_0x1d97("0xbfc"),value:function(x){var d=this.db,_=this[_0x1d97("0x37")],t=_+":"+x.id,a=x[_0x1d97("0xbf1")];new e.default((function(e){d[_0x1d97("0xbee")]("cacheObjects",_0x1d97("0xbea"))[_0x1d97("0xbef")](_0x1d97("0xbe9"))[_0x1d97("0xbfd")]({mapid:_,id:t,data:x[_0x1d97("0x35d")],updatetime:a}).onsuccess=function(){e()}}))}},{key:_0x1d97("0xbf6"),value:function(x){this.db.transaction(_0x1d97("0xbfa"),"readwrite")[_0x1d97("0xbef")](_0x1d97("0xbfa"))[_0x1d97("0xbf8")]()[_0x1d97("0xbeb")]=function(d){var _=d[_0x1d97("0x27e")][_0x1d97("0xbf0")];if(_){var e=_[_0x1d97("0xf1")];-1!==x[_0x1d97("0xd7")](e.id)&&(e[_0x1d97("0xbfe")]=!1,_[_0x1d97("0x11d")](e)),_.continue()}}}},{key:_0x1d97("0xbe4"),value:function(x){var d=this.db;return new(e[_0x1d97("0x1c")])((function(_){var e=d[_0x1d97("0xbee")](_0x1d97("0xbfa"),_0x1d97("0xbea"))[_0x1d97("0xbef")](_0x1d97("0xbfa"))[_0x1d97("0xbfd")](x);e[_0x1d97("0xbeb")]=function(){_()},e[_0x1d97("0x509")]=function(){_()}}))}},{key:_0x1d97("0xbe1"),value:function(x){return new(e[_0x1d97("0x1c")])((function(d){if(window[_0x1d97("0xbf2")]){var _=window[_0x1d97("0xbf2")][_0x1d97("0x303")](x.db,x[_0x1d97("0x71")]);_[_0x1d97("0xbff")]=function(x){var d=x[_0x1d97("0x27e")][_0x1d97("0xbf0")];d.objectStoreNames.contains("cacheObjects")&&d[_0x1d97("0xc00")](_0x1d97("0xbe9")),d[_0x1d97("0xc01")][_0x1d97("0x3b0")](_0x1d97("0xbfa"))&&d[_0x1d97("0xc00")](_0x1d97("0xbfa")),d[_0x1d97("0xc02")](_0x1d97("0xbe9"),{keyPath:"id"})[_0x1d97("0x53b")](_0x1d97("0xbf7"),[_0x1d97("0xc03")],{unique:!1}),d[_0x1d97("0xc02")](_0x1d97("0xbfa"),{keyPath:"id"})},_[_0x1d97("0xbeb")]=function(){var x=_[_0x1d97("0xbf0")];d(x)},_.onerror=function(x){var e=_[_0x1d97("0xc04")];console[_0x1d97("0x245")](_0x1d97("0xc05"),e,x),d(!1)}}else d(!1)}))}}]),x}();d.default=o},,,,,,function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xc06")]={},this.roomTexturePool={},this[_0x1d97("0x2aa")]=d,this[_0x1d97("0xf7")]={},this[_0x1d97("0xc07")]={},this[_0x1d97("0xc08")]=[];var _=new THREE.TextureLoader;_[_0x1d97("0x6a5")]="anonymous",this[_0x1d97("0x767")]=_,this[_0x1d97("0xc09")]={}}return(0,t.default)(x,[{key:"prefetchTexture",value:function(x,d,_){var e=this;e.loadRecords[_0x1d97("0xd7")](x)<0&&!e[_0x1d97("0xc09")][x]&&(e[_0x1d97("0xc08")][_0x1d97("0x1")](x),e[d]||(e[d]={}),this[_0x1d97("0x767")].load(x,(function(x){x[_0x1d97("0x13e")]=e[_0x1d97("0x2aa")][_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0xc0a")][_0x1d97("0xc0b")](),e[d][_]=x}),null,(function(){e[_0x1d97("0xc09")][x]=!0,e[d][_]=null})))}},{key:"FetchImgByUrl",value:function(x,d){var _=this;if(this.imgs[x]){var e=this[_0x1d97("0xc07")][x],t=document[_0x1d97("0x21")](_0x1d97("0x428"));t[_0x1d97("0x39e")]=e,t[_0x1d97("0x4a2")]=function(){d(t)}}else if(!_[_0x1d97("0xc09")][x]){var a=new Image;a[_0x1d97("0x6a5")]=_0x1d97("0x69c"),a.src=x,a[_0x1d97("0x4a2")]=function(){var e=document[_0x1d97("0x21")](_0x1d97("0x4a1"));e[_0x1d97("0x328")]=a[_0x1d97("0x328")],e[_0x1d97("0x1b5")]=a[_0x1d97("0x1b5")],e[_0x1d97("0x84b")]("2d")[_0x1d97("0x4a5")](a,0,0,e[_0x1d97("0x328")],e[_0x1d97("0x1b5")]);var t=e.toDataURL(_0x1d97("0xc0c"));_[_0x1d97("0xc07")][x]=t,a[_0x1d97("0x4a2")]=null,d(a)},a[_0x1d97("0x509")]=function(){_[_0x1d97("0xc09")][x]=!0}}}},{key:"syncGetTextureByUrl",value:function(x){var d=this;return this[_0x1d97("0xf7")][x]?this[_0x1d97("0xf7")][x].clone():d[_0x1d97("0xc09")][x]?void 0:this[_0x1d97("0x767")][_0x1d97("0x591")](x,(function(_){_[_0x1d97("0x13e")]=d.mapService[_0x1d97("0xc0d")][_0x1d97("0x16d")].renderer[_0x1d97("0xc0a")][_0x1d97("0xc0b")](),d.main[x]=_[_0x1d97("0xdb")]()}),null,(function(){d[_0x1d97("0xf7")][x]=null,d[_0x1d97("0xc09")][x]=!0}))}},{key:_0x1d97("0x4e0"),value:function(x,d,_,e){var t=this;if(this.main[x]){var a=this.main[x][_0x1d97("0xdb")]();return d&&setTimeout((function(){d(a)}),0),a}return t[_0x1d97("0xc09")][x]?new(THREE[_0x1d97("0x4a6")]):this[_0x1d97("0x767")][_0x1d97("0x591")](x,(function(_){t.main[x]=_[_0x1d97("0xdb")](),d&&d(_)}),_,(function(){t[_0x1d97("0xc09")][x]=!0,e&&e()}))}}]),x}();d.default=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xbc8")]=void 0;var e=m(_(16)),t=m(_(9)),a=m(_(0)),i=m(_(1)),n=_(57),r=_(34),s=_(56),o=_(19),c=m(_(68)),l=m(_(140)),u=_(101),f=m(_(23)),h=m(_(102)),b=_(99),g=_(70),v=_(72),p=_(307);function m(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var A=_0x1d97("0x1c7"),C={1:_0x1d97("0x59e"),2:_0x1d97("0x1c7")},I=null,y=1,E=null,w=_(308),T=_(141),k=null,S=!1,M=[],R=1,L=function(){function x(d){(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xc0e")]=d,this[_0x1d97("0x38")]=d[_0x1d97("0x38")],this[_0x1d97("0x907")]=[],this[_0x1d97("0xc0f")]=[],this[_0x1d97("0xc10")]=[],this[_0x1d97("0x165")]={},this[_0x1d97("0x908")]=[],this[_0x1d97("0x159")]=[],this[_0x1d97("0xaee")]=null,this[_0x1d97("0x993")]=[],this[_0x1d97("0x91e")]={},this[_0x1d97("0xc11")]=null,this[_0x1d97("0xc12")]=[],this[_0x1d97("0x9bc")]={},this.navData={},this[_0x1d97("0xc13")]={1:12,2:16,3:18},this.counters={buildings:0,models:0},this[_0x1d97("0x958")]=[],this[_0x1d97("0x2ed")]=!1,this.tileInited=!1,this.tileGrids=null,this[_0x1d97("0xc14")]=null,this.userTiles=[],this.failedNavs={},this[_0x1d97("0xc15")]=!1,this[_0x1d97("0x530")]={},this[_0x1d97("0x9bb")]={},this[_0x1d97("0x929")]=[],this[_0x1d97("0xb82")]={},this.buildingIDs=[],this[_0x1d97("0xc16")]="",this[_0x1d97("0xc17")]=0,this._mo=0,this[_0x1d97("0x431")]=0,this.getTileBound=r.getTileBound,this[_0x1d97("0xc18")]=0,this[_0x1d97("0x8d5")]=null,this[_0x1d97("0xc19")]=!1,this[_0x1d97("0xc1a")]=null,this[_0x1d97("0xa0f")]=null,this.initialComplete=!1}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x32"),value:function(){this[_0x1d97("0xa4f")]=(Math[_0x1d97("0x2b")](Math[_0x1d97("0xc3")](this.options[_0x1d97("0xa21")]))-1)/2}},{key:"getBuildingColorStaged",value:function(x){for(var d=0;d<this[_0x1d97("0x958")][_0x1d97("0x0")];d++){var _=this[_0x1d97("0x958")][d];if(x[_[_0x1d97("0x57c")]]==_.value)return _[_0x1d97("0x35d")]}return!1}},{key:_0x1d97("0x928"),value:function(){if(this.toLoadedBuildings[_0x1d97("0x0")]>0)for(var x=0;x<this[_0x1d97("0x929")][_0x1d97("0x0")];x++){var d=this[_0x1d97("0x929")][x];this[_0x1d97("0xb82")][d]&&(this[_0x1d97("0x8d6")](this.targetAndBuildingList[d]),this[_0x1d97("0x929")][_0x1d97("0x189")](x,1))}}},{key:_0x1d97("0x9fa"),value:function(x,d){var _=Math.max(x.minx,d[_0x1d97("0xad")]),e=Math.max(x.miny,d[_0x1d97("0xae")]),t=Math.min(x[_0x1d97("0xaa")],d[_0x1d97("0xaa")]),a=Math[_0x1d97("0x318")](x[_0x1d97("0xab")],d.maxy),i=!(_>t||e>a);return i}},{key:_0x1d97("0xc1b"),value:function(x){var d=(new(l.default[_0x1d97("0xc1c")]))[_0x1d97("0x64")](x);return{points:d[_0x1d97("0x438")],holes:d.holes_}}},{key:_0x1d97("0x95b"),value:function(x){for(var d in this[_0x1d97("0x958")]){var _=this[_0x1d97("0x958")][d];if(_[_0x1d97("0xf1")]==x.value&&_[_0x1d97("0x57c")]==x.key)return void(_[_0x1d97("0x35d")]=x[_0x1d97("0x35d")])}this[_0x1d97("0x958")][_0x1d97("0x1")](x)}},{key:"_sdu",value:function(x){y=x}},{key:_0x1d97("0xa1d"),value:function(){return y}},{key:_0x1d97("0xc1d"),value:function(x){var d=[{x:x[_0x1d97("0xaa")],y:x.maxy},{x:x[_0x1d97("0xaa")],y:x[_0x1d97("0xae")]},{x:x[_0x1d97("0xad")],y:x.miny},{x:x[_0x1d97("0xad")],y:x[_0x1d97("0xab")]},{x:x[_0x1d97("0xaa")],y:x[_0x1d97("0xab")]}],_=new(esmap[_0x1d97("0x519")])({color:_0x1d97("0x29b"),alpha:.3,lineWidth:30,bid:0,height:20,pickable:!0,points:d});map.getBuildingById(0)[_0x1d97("0x56d")](1)[_0x1d97("0x191")](_0x1d97("0xc1e"),esmap[_0x1d97("0x168")][_0x1d97("0x98f")]).addMarker(_)}},{key:_0x1d97("0xc1f"),value:function(){for(var x in this[_0x1d97("0x530")]){var d=this[_0x1d97("0x530")][x];if(d[_0x1d97("0x587")]){var _=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:this[_0x1d97("0x38")][_0x1d97("0x17b")],to:this.map.options.userCrs,coords:d[_0x1d97("0x587")]}),e=new esmap.ESPolygonMarker({alpha:.5,color:"#"+Math[_0x1d97("0x2b")](16777215*Math[_0x1d97("0x2c")]()).toString(16),lineWidth:1,height:200,points:_});map[_0x1d97("0xee")](0).getFloor(1).getOrCreateLayerByName("mypoly",esmap[_0x1d97("0x168")][_0x1d97("0x98f")])[_0x1d97("0xc20")](e)}}}},{key:_0x1d97("0xc21"),value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],d=this[_0x1d97("0x38")],_={color:"#FF0000",lineWidth:120,alpha:1,offsetHeight:1,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap[_0x1d97("0x4fd")][_0x1d97("0xc22")],noAnimate:!1};if(x)for(var e in d.tileList){var t=d.tileList[e],a=t.id[_0x1d97("0x28")]("_"),i=(0,r[_0x1d97("0xa1")])(1*a[0],1*a[1],d[_0x1d97("0x35")][_0x1d97("0x1c6")],!0),n=[{x:i[_0x1d97("0xad")],y:i[_0x1d97("0xae")]},{x:i.minx,y:i.maxy},{x:i[_0x1d97("0xaa")],y:i.maxy},{x:i[_0x1d97("0xaa")],y:i[_0x1d97("0xae")]},{x:i.minx,y:i[_0x1d97("0xae")]}],s=d[_0x1d97("0x4c0")]({from:d.coordSystem,to:d.options[_0x1d97("0x1e7")],coords:n}),o=new(esmap[_0x1d97("0x52d")])({id:t.id+_0x1d97("0xc23"),bid:0,points:s,style:_});d[_0x1d97("0x92e")](o)}else for(var c in d[_0x1d97("0x585")]){var l=d.tileList[c],u=l.id+_0x1d97("0xc23");d[_0x1d97("0x92c")](u)}}},{key:_0x1d97("0x994"),value:function(x){if(64==this[_0x1d97("0x993")][_0x1d97("0x0")]){var d=this[_0x1d97("0x993")][_0x1d97("0x4")]();for(var _ in this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x147")][d.id]=[],this[_0x1d97("0xb82")])this.targetAndBuildingList[_]&&this[_0x1d97("0xb82")][_][_0x1d97("0xe5")]==d.id&&(this.targetAndBuildingList[_]=null);d[_0x1d97("0x14b")][_0x1d97("0x1c9")][_0x1d97("0xc24")].modelManagerStarted[d.id]=!1,d=null}this[_0x1d97("0x993")][_0x1d97("0x1")](x)}},{key:"forceLoadSecond",value:function(){this[_0x1d97("0x159")]=this[_0x1d97("0x159")][_0x1d97("0x1de")](this[_0x1d97("0xa51")]),this[_0x1d97("0x908")]=this[_0x1d97("0x908")][_0x1d97("0x1de")](this.secondViews),this.map[_0x1d97("0x2ef")](),this[_0x1d97("0xa51")]=[]}},{key:"onlineAuth",value:function(){var x=this,d=this,_=d[_0x1d97("0x38")][_0x1d97("0x35")],e=d[_0x1d97("0x38")].id,a=_[_0x1d97("0x456")],i=(_.s,_[_0x1d97("0x77")]),n=(_.k,_[_0x1d97("0x40")]),r=3==_[_0x1d97("0x40")],c=f[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0xc25")),l=c[_0x1d97("0x48")],b=c.timestamp;return new(t[_0x1d97("0x1c")])((function(_,t){esmap[_0x1d97("0x4d9")][_0x1d97("0x359")]({url:l,isArrayBuffer:!0})[_0x1d97("0x356")]((function(t){var c,g=!1,m=!1,I=new Uint8Array(t);r||(0,s[_0x1d97("0xcf")])(e+""+n+b,I),d[_0x1d97("0xc11")]=I;try{c=T[_0x1d97("0x444")][_0x1d97("0x45")](I)}catch(x){return v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:esmap[_0x1d97("0x2ad")].INVALID_TYPE+": "+l,level:"error"}),void v.MessagePoster.post({msg:""+x[_0x1d97("0x2d")](),level:"error"})}if(3==c[_0x1d97("0x40")]||3!=n){k=c[_0x1d97("0x77")],d.service[_0x1d97("0x8f5")]("mapName",c.name),d[_0x1d97("0xc0e")].setState(_0x1d97("0x8f6"),c[_0x1d97("0xb8")]),d[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("l0",c.ul>>1&1||0),d[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("l1",c.l1||0),d[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("l2",c.l2||0),d[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("l3",c.l3||0),d[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("l4",c.l4||0),c.AngleZ&&(d[_0x1d97("0xc1a")]={directionAngle:c[_0x1d97("0x447")],pitchAngle:c[_0x1d97("0x460")],radius:c[_0x1d97("0x448")],time:0,x:c.x,y:c.y,z:0},d[_0x1d97("0x38")].options.center&&(d.defaultView.x=d.map[_0x1d97("0x35")].center.x,d[_0x1d97("0xc1a")].y=d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")].y));var y=!1,w=c[_0x1d97("0x77")];E=c[_0x1d97("0x455")];var M=esmap[_0x1d97("0x75")].encode64(w)===_0x1d97("0xc27");if((new Date)[_0x1d97("0x74")]()-1e6*c.mtime>0)u[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2005,param:[e,3]});else if(esmap[_0x1d97("0x75")].encode64(c[_0x1d97("0x449")]+""+c[_0x1d97("0x44c")]+c.maxX+c[_0x1d97("0x44e")]+c[_0x1d97("0x77")]+c[_0x1d97("0x456")]+ +c[_0x1d97("0x452")]+c.modnums+"ABC"+c.o1+c.ul)===c[_0x1d97("0x446")]){if(x[_0x1d97("0xc17")]=c.o1,x[_0x1d97("0xc29")]=c[_0x1d97("0x462")],x[_0x1d97("0x431")]=c.ul,d[_0x1d97("0x38")].options.s&&d.map.options.k&&(d[_0x1d97("0x38")].hasOwnProperty(_0x1d97("0xa1a"))||Object[_0x1d97("0x7")](d[_0x1d97("0x38")],_0x1d97("0xa1a"),{value:!0,writable:!1,enumerable:!1,configurable:!0}),y=!0,x[_0x1d97("0xc29")]=1e4,x[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("sk",!0)),d[_0x1d97("0x38")][_0x1d97("0x88d")][_0x1d97("0x41e")][_0x1d97("0x11e")][_0x1d97("0xf0")]=!0,!y||!d.map._em){m=!0;var R=document.domain,L=(0,s[_0x1d97("0x45")])(c[_0x1d97("0x453")],_0x1d97("0xc2a"),""),H=esmap.ESMapUtil[_0x1d97("0x76")](R),D=p.Domains[_0x1d97("0xd7")](H)>-1;g=D;var P=!L;if(!M&&!D){if(2!=x[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x40")]&&!P&&L[_0x1d97("0x0")]>1&&-1==L[_0x1d97("0xd7")](R))return void u[_0x1d97("0x31f")].throw({code:2002,param:[e,R,3]});var O=L[_0x1d97("0x28")](","),B=!0;if(O[_0x1d97("0x1d")]((function(x){var d=c[_0x1d97("0x445")],_=x;if(x[_0x1d97("0xcc")]("|")){var t=x[_0x1d97("0x28")]("|");_=t[0],d=t[1]}if(_===R&&(new Date).getTime()-1e6*d>0)return u.MapError.throw({code:2010,param:[e,R,3]}),void(B=!1)})),!B)return}var N=[c[_0x1d97("0x456")],c[_0x1d97("0x77")]],F=[a,i];if(d[_0x1d97("0x38")][_0x1d97("0x88d")][_0x1d97("0x41e")][_0x1d97("0x11e")].visible=!0,N[0]&&F[0])esmap[_0x1d97("0x75")].encode64(_0x1d97("0xa19")+c[_0x1d97("0x455")]+F[0])==N[0]&&(d[_0x1d97("0x38")].zonTempObj.sprite_[_0x1d97("0x11e")][_0x1d97("0xf0")]=!1);if(!M){if(!F[1]&&1!=n)return u[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2003,param:[e,3]}),void v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:esmap[_0x1d97("0x2ad")][_0x1d97("0xc2b")],level:"error"});if(esmap.ESMapUtil[_0x1d97("0x76")](c[_0x1d97("0x170")]+""+F[1])!=N[1]&&3==n)return u.MapError[_0x1d97("0x320")]({code:2004,param:[e,3]}),void v[_0x1d97("0xbd5")].post({msg:esmap[_0x1d97("0x2ad")][_0x1d97("0xc2c")],level:_0x1d97("0x245")})}}M&&(S=!0);var z=(0,s[_0x1d97("0x45")])(c[_0x1d97("0x451")],_0x1d97("0xc2d"),"")[_0x1d97("0x28")](";");z[_0x1d97("0x0")]>1?d[_0x1d97("0x451")]=z:d[_0x1d97("0x451")]="",Object[_0x1d97("0x7")](d[_0x1d97("0x38")],_0x1d97("0xc2e"),{value:z[1],writable:!1,enumerable:!1,configurable:!0});var j=esmap[_0x1d97("0x75")][_0x1d97("0x76")](c[_0x1d97("0xe5")]+c[_0x1d97("0x77")]);Object.defineProperty(d[_0x1d97("0x38")],"__mtn",{value:j,writable:!1,enumerable:!1,configurable:!0}),Object[_0x1d97("0x7")](d,_0x1d97("0xc2f"),{value:w,writable:!1,enumerable:!1,configurable:!0});var U=parseInt(c.v%10),X=C[U],Y=_0x1d97("0xc30")+e+" map uses the WGS84 coordinate system. "+U;if(c[_0x1d97("0x45c")]){var G=esmap[_0x1d97("0x75")][_0x1d97("0x55a")](1e3*c[_0x1d97("0x45c")]);Y+=_0x1d97("0xc31")+G}Y+=d[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0xab0")](),v[_0x1d97("0xbd5")].post({msg:[Y,"color: #3399FF;font-weight: bold;font-size: 14px;"],level:"custom"}),d.map[_0x1d97("0x17b")]=X,null==d[_0x1d97("0x38")].options[_0x1d97("0x1e7")]&&(d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e7")]=A);var Q=d[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:A,to:X,coord:{x:c.x,y:c.y}});if(d[_0x1d97("0x38")][_0x1d97("0x16d")].center={x:-Q.x,y:Q.y},d[_0x1d97("0x38")].options[_0x1d97("0xe7")]){var V=d[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:A,to:X,coord:{x:d[_0x1d97("0x38")][_0x1d97("0x35")].center.x,y:d[_0x1d97("0x38")][_0x1d97("0x35")].center.y}});d[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0xe7")]={x:-V.x,y:V.y},Q=V}if(d[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0xc32")]={x:c.x,y:c.y},d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")]||(d[_0x1d97("0x38")].options[_0x1d97("0xe7")]={x:c.x,y:c.y}),d[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0xc33")]({maxX:c[_0x1d97("0x44d")],maxY:c.maxY,minX:c[_0x1d97("0x449")],minY:c[_0x1d97("0x44c")],centerX:Q.x,centerY:Q.y},!1),d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xc34")]){var W=(0,o.createHash)(8),Z=new(esmap[_0x1d97("0xc35")])({id:W,content:_0x1d97("0xc36")+W+_0x1d97("0xc37"),className:_0x1d97("0xc38"),created:function(x){x[_0x1d97("0x22")][_0x1d97("0x834")]=_0x1d97("0xc39"),x[_0x1d97("0x22")][_0x1d97("0x100")]=_0x1d97("0xc3a"),x.style[_0x1d97("0x32e")]="4px 11px",x[_0x1d97("0x22")][_0x1d97("0xc3b")]="4px",x.style[_0x1d97("0xc3c")]="12px",x.style.display=_0x1d97("0x32b"),x[_0x1d97("0x22")][_0x1d97("0x32c")]=_0x1d97("0xe7"),x[_0x1d97("0x83e")][_0x1d97("0x83e")][_0x1d97("0x22")][_0x1d97("0x831")]="none";var d=(0,h[_0x1d97("0x1c")])(_0x1d97("0xc3d"));d.attr(_0x1d97("0x333"),_0x1d97("0xc3e")),d[_0x1d97("0x22")]({width:0,height:0,fontSize:0,overflow:_0x1d97("0xc3f"),position:"absolute",borderStyle:_0x1d97("0xc40"),borderWidth:_0x1d97("0xc41"),borderColor:_0x1d97("0x55e")+esmap[_0x1d97("0x75")].hexToRgb(_0x1d97("0xc39"))+",1) transparent transparent",left:this.w_/2-25+"px",bottom:"-16px"}),x[_0x1d97("0x25")](d[_0x1d97("0x337")]),Z[_0x1d97("0x975")][_0x1d97("0x22")].transition="all 0.2s ease",Z[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=0,Z[_0x1d97("0x975")].style[_0x1d97("0x831")]="none",Z[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xc42")]="none"},mapCoord:{x:d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")][0],y:d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")][1],height:150}});Z[_0x1d97("0x972")]=W,d[_0x1d97("0x38")][_0x1d97("0x970")]=Z,d[_0x1d97("0x38")].on("tileUpdated",(function(){d[_0x1d97("0x159")][_0x1d97("0xd7")](Z.bid)<0&&0!=Z[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]&&(Z[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=0)})),d[_0x1d97("0x38")].on(_0x1d97("0x9f2"),(function(x){var _=d.map.tapTip;if(!d[_0x1d97("0x38")].mapPicker[_0x1d97("0x9e0")]||!d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]||0==x[_0x1d97("0x9f1")]){var e=d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xc34")];if(x[_0x1d97("0xc7")]!=esmap[_0x1d97("0xea")][_0x1d97("0x574")]||x.mapId||2==x[_0x1d97("0x186")])if(x.nodeType!=esmap[_0x1d97("0xea")].MODEL3D||x[_0x1d97("0x37")]||2==x[_0x1d97("0x186")]||x instanceof esmap[_0x1d97("0x524")])_[_0x1d97("0x975")][_0x1d97("0x22")].opacity=0;else{var t=document[_0x1d97("0x971")](_[_0x1d97("0x972")]);if(_[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=0,t[_0x1d97("0x331")]="",x[_0x1d97("0xb8")]&&e){var a=x[_0x1d97("0x9f6")].z;x[_0x1d97("0xa3")]&&x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x315")]&&(a=x[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x315")].box3[_0x1d97("0x317")].y-x[_0x1d97("0xa3")].userData[_0x1d97("0x315")][_0x1d97("0x316")][_0x1d97("0x318")].y),_[_0x1d97("0x254")]({x:x[_0x1d97("0x3cb")].x,y:x[_0x1d97("0x3cb")].y,time:.01,callback:function(){_[_0x1d97("0x973")][_0x1d97("0xb6")].y=1.1*a,t.innerHTML=x[_0x1d97("0xb8")],setTimeout((function(){_[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=1}),1)}})}else _.popDiv_[_0x1d97("0x22")].opacity=0}else{var i=document[_0x1d97("0x971")](_[_0x1d97("0x972")]);if(i[_0x1d97("0x331")]="",_[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0xe2")]=0,x[_0x1d97("0xb8")]&&e){var n=d[_0x1d97("0x38")].transformCoord({from:d.map.DEFAULT_COORDSYSTEM,to:d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e7")],coord:x[_0x1d97("0x3cb")]});_[_0x1d97("0x254")]({x:n.x,y:n.y,time:.01,callback:function(){_.group[_0x1d97("0xb6")].y=1.1*x.RoomHigh,i[_0x1d97("0x331")]=x[_0x1d97("0xb8")],setTimeout((function(){_.popDiv_[_0x1d97("0x22")][_0x1d97("0xe2")]=1}),1)}}),_.bid=x[_0x1d97("0xe5")]}else _.popDiv_[_0x1d97("0x22")][_0x1d97("0xe2")]=0}}}))}1!=n&&setTimeout((function(){var x=f[_0x1d97("0x1c")].getPath(_0x1d97("0x4a"));esmap[_0x1d97("0x4d9")][_0x1d97("0x359")]({url:x,isArrayBuffer:!0})}),18e5),null==d.map.options[_0x1d97("0x66")]&&(d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x66")]=c[_0x1d97("0x454")],d[_0x1d97("0x35")][_0x1d97("0x66")]=c[_0x1d97("0x454")]),c[_0x1d97("0x465")]&&d[_0x1d97("0xc43")](c[_0x1d97("0x465")]),d[_0x1d97("0x38")][_0x1d97("0xc44")]=c[_0x1d97("0x464")];var J=(0,s[_0x1d97("0x45")])(c[_0x1d97("0x453")],_0x1d97("0xc2a"),"")[_0x1d97("0x28")](","),K=!0;J[_0x1d97("0x1d")]((function(x){var d=x[_0x1d97("0x28")]("|"),_=d[0],e=d[1];if(_===R&&e&&(new Date)[_0x1d97("0x74")]()-1e6*e>0)return void(K=!1)})),(!m||M||g||K)&&(d[_0x1d97("0xc1a")]&&!d[_0x1d97("0xc45")]()&&d[_0x1d97("0x38")][_0x1d97("0x96b")](d[_0x1d97("0xc1a")]),_(!0))}else v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:_0x1d97("0xc28"),level:_0x1d97("0x245")})}else console[_0x1d97("0x3fb")](esmap.ESInfo[_0x1d97("0xc26")])})).error((function(x){u[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2006,param:[e,3]}),t(!1)}))}))}},{key:_0x1d97("0xc45"),value:function(){return esmap.ESTileMap&&esmap[_0x1d97("0x913")].inited}},{key:"queryNavs",value:function(x,d,_){if(!(this[_0x1d97("0xc46")][x]||this[_0x1d97("0xc14")]&&this.roadGrids[_0x1d97("0xd7")](x)<0)){d[_0x1d97("0x113")]&&(d[_0x1d97("0x113")][0],d[_0x1d97("0x113")][1]);var t=this,a=1!=t[_0x1d97("0x38")].options[_0x1d97("0x40")],i=f[_0x1d97("0x1c")][_0x1d97("0x531")]("tile",{tileId:_,typeId:2});esmap.Ajax.get({url:i,isArrayBuffer:!0})[_0x1d97("0x356")]((function(d){var _=new Uint8Array(d);a||(0,s[_0x1d97("0xcf")])(t[_0x1d97("0x38")].id+""+t[_0x1d97("0x35")][_0x1d97("0x40")],_);var i=null;try{i=w[_0x1d97("0x913")][_0x1d97("0xc47")][_0x1d97("0x45")](_)}catch(d){return t.failedNavs[x]=!0,void v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:esmap[_0x1d97("0x2ad")][_0x1d97("0xc48")],level:_0x1d97("0x245")})}if(i){t.navData[x]=i,i[_0x1d97("0xc49")]&&(0,e[_0x1d97("0x1c")])(i[_0x1d97("0xc49")])[_0x1d97("0x0")]>0&&(t[_0x1d97("0xc4a")](i),t[_0x1d97("0x38")].fire(_0x1d97("0xc4b"),{bid:x,data:i})),t.map[_0x1d97("0x1d9")](_0x1d97("0x9bd"),x);var n=t[_0x1d97("0x38")][_0x1d97("0x588")](x);t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]&&n&&n[_0x1d97("0x18a")]()}})).error((function(){t.failedNavs[x]=!0}))}}},{key:_0x1d97("0x9b8"),value:function(x,d,_){var e=this;if(this[_0x1d97("0x9bb")][x])_();else if(1!=this[_0x1d97("0x35")][_0x1d97("0x40")]&&this.tileGrids&&this.tileGrids[_0x1d97("0xd7")](x)<0)_();else{var t=x,a=1!=e[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x40")],i=f.default[_0x1d97("0x531")](_0x1d97("0xc4c"),{tileId:x,typeId:1});if(e[_0x1d97("0x38")][_0x1d97("0x1d9")]("tilePreLoad",t),S)if(!(esmap[_0x1d97("0x75")][_0x1d97("0x76")](k)===_0x1d97("0xc27")))return;esmap[_0x1d97("0x4d9")][_0x1d97("0x359")]({url:i,isArrayBuffer:!0}).success((function(t){var n=new Uint8Array(t);a||(0,s[_0x1d97("0xcf")])(e[_0x1d97("0x38")].id+""+e[_0x1d97("0x35")][_0x1d97("0x40")],n);var r=null;try{r=w[_0x1d97("0x913")][_0x1d97("0xc4d")][_0x1d97("0x45")](n)}catch(x){return v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:esmap[_0x1d97("0x2ad")][_0x1d97("0xc48")]+": "+i,level:_0x1d97("0x245")}),void _()}if(E==r[_0x1d97("0xc4e")]){var o=new(c[_0x1d97("0x1c")])({id:x,map:e[_0x1d97("0x38")]});o.sourceData=r;var l=e[_0x1d97("0xc4f")](r,x);o[_0x1d97("0x15a")]=l,d(r,o)}}))[_0x1d97("0x245")](_)}}},{key:_0x1d97("0x900"),value:function(x){var d=this,_=d[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x66")],e=f[_0x1d97("0x1c")].getPath("cityTheme",{ext:x,themeID:_});return new(t[_0x1d97("0x1c")])((function(t,a){esmap.Ajax.getJSON({url:e}).success((function(x){if(x){d[_0x1d97("0x38")][_0x1d97("0x1d9")]("themeLoaded",{id:_,data:x}),d[_0x1d97("0x38")][_0x1d97("0xf6")].setMapTheme(x);var e=T[_0x1d97("0x444")][_0x1d97("0x45")](d[_0x1d97("0xc11")]);(new Date)[_0x1d97("0x74")]()-1e6*e.mtime>0||t()}else a(_0x1d97("0xc50")+_)}))[_0x1d97("0x245")]((function(){x==_0x1d97("0xb2")?t(d.queryTileTheme(_0x1d97("0xc51"))):a(_0x1d97("0xc50")+_)}))}))}},{key:_0x1d97("0xa11"),value:function(){var x=this;if(0!=this[_0x1d97("0x38")][_0x1d97("0x8a7")]){var d=this.map.options[_0x1d97("0x1c6")],_=this[_0x1d97("0x38")][_0x1d97("0x23d")](this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")],!0),e=_.x,t=_.y,a=(0,r[_0x1d97("0x1c5")])(e,t,d),i={x:e,y:t,indx:a.x,indy:a.y};this[_0x1d97("0x159")]=[];var n=this,s=[],o=this[_0x1d97("0xc52")]();if(o){var c=(0,r[_0x1d97("0xa1")])(i[_0x1d97("0xc53")],i[_0x1d97("0xaef")],this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1c6")],!1),l=c[_0x1d97("0xaa")]-c[_0x1d97("0xad")],u=c[_0x1d97("0xab")]-c[_0x1d97("0xae")];this[_0x1d97("0xaee")]=i,this[_0x1d97("0xa24")]=l;var f=i.indx,h=i[_0x1d97("0xaef")],b=e,g=t,v=[f],p=[h],m=this[_0x1d97("0xa4f")];if(!this[_0x1d97("0xa0f")])return this.initialTileId=f+"_"+h,this[_0x1d97("0x159")][_0x1d97("0x1")](this.initialTileId),void(this[_0x1d97("0x908")]=[this[_0x1d97("0xa0f")]]);for(var A=0;A<m;A++){if((b+=l)>o.maxx){v[_0x1d97("0x1")](f+A+1,f-(A+1));break}v[_0x1d97("0x1")](f+A+1,f-(A+1))}for(var C=0;C<m;C++){if((g+=u)>o[_0x1d97("0xab")]){p[_0x1d97("0x1")](h+C+1,h-(C+1));break}p.push(h+C+1,h-(C+1))}p[_0x1d97("0x1d")]((function(d){v[_0x1d97("0x1d")]((function(_){var e=_+"_"+d,t=(0,r.getTileBound)(_,d,x[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1c6")],!1),a=n[_0x1d97("0x9fa")](o,t),i=x[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x155")]>=18&&x.map[_0x1d97("0x8c1")]>=60,c=n[_0x1d97("0xc54")](e),l=n[_0x1d97("0xa1d")]();c&&l&&(a||i)&&(s.push(e),n[_0x1d97("0x159")][_0x1d97("0x1")](e))}))})),this[_0x1d97("0x908")]=s,0!=s[_0x1d97("0x0")]||this[_0x1d97("0x38")][_0x1d97("0x9bf")]||(this[_0x1d97("0x38")][_0x1d97("0x9bf")]=!0,esmap.ESMap[_0x1d97("0x8ed")]=!1,this.map[_0x1d97("0x1d9")](_0x1d97("0x8a8"),{bid:this[_0x1d97("0x38")].bid}))}}}},{key:_0x1d97("0xc55"),value:function(x){var d=[{x:x[_0x1d97("0x449")],y:x[_0x1d97("0x44c")]},{x:x[_0x1d97("0x44d")],y:x[_0x1d97("0x44c")]},{x:x[_0x1d97("0x44d")],y:x.maxY},{x:x[_0x1d97("0x449")],y:x[_0x1d97("0x44e")]},{x:x[_0x1d97("0x449")],y:x.minY}],_=new esmap.ESPolygonMarker({alpha:.5,lineWidth:1,height:6,points:d});this[_0x1d97("0x38")][_0x1d97("0xee")](0).getFloor(1)[_0x1d97("0x191")](_0x1d97("0xc1e"),esmap[_0x1d97("0x168")][_0x1d97("0x98f")])[_0x1d97("0xc20")](_)}},{key:"queryTilesByNum",value:function(x){if(0!=this[_0x1d97("0x38")][_0x1d97("0x8a7")]){var d=this[_0x1d97("0x38")][_0x1d97("0x35")].worldScale,_=this[_0x1d97("0x38")][_0x1d97("0x23d")](this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")]),e=this[_0x1d97("0xc52")]();if(e){var t=1,a=(0,r[_0x1d97("0x1c5")])(_.x,_.y,d),i={x:_.x,y:_.y,indx:a.x,indy:a.y},n=(0,r.getTileBound)(i[_0x1d97("0xc53")],i[_0x1d97("0xaef")],this.map.options[_0x1d97("0x1c6")],!0),s=n[_0x1d97("0xaa")]-n[_0x1d97("0xad")];this.centerTile=i;var o=[i[_0x1d97("0xc53")]+"_"+i[_0x1d97("0xaef")]],c=this[_0x1d97("0xc56")](8);this.currentShows=[i[_0x1d97("0xc53")]+"_"+i.indy];for(var l=[],u=0;u<c[_0x1d97("0x0")];u++){var f=c[u][0]+i[_0x1d97("0xc53")],h=c[u][1]+i[_0x1d97("0xaef")],b=f+"_"+h,g=this[_0x1d97("0xc54")](b);if(!(t>=x)&&g){var v=(0,r[_0x1d97("0xa1")])(f,h,this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1c6")],!0);this[_0x1d97("0x9fa")](e,v)?(o.push(b),this.currentShows[_0x1d97("0x1")](b)):l[_0x1d97("0x1")](b),t+=1}}this[_0x1d97("0xa24")]=s,this.currentView=o,this[_0x1d97("0xa51")]=l}}}},{key:_0x1d97("0xc56"),value:function(x){for(var d=[],_=-x;_<x+1;_++)for(var e=-x;e<x+1;e++)0==_&&0==e||d[_0x1d97("0x1")]([_,e]);return d[_0x1d97("0x41c")]((function(x,d){return Math.abs(x[0])+Math[_0x1d97("0x253")](x[1])-(Math[_0x1d97("0x253")](d[0])+Math.abs(d[1]))})),d}},{key:_0x1d97("0x92b"),value:function(x,d){if(!I){var _=T[_0x1d97("0x444")][_0x1d97("0x45")](this[_0x1d97("0xc11")]);if(T.ESCityLicSet[_0x1d97("0x469")](),I=(0,s[_0x1d97("0x45")])(_.tiletoken,_0x1d97("0xc57"),""),{maxx:_[_0x1d97("0x44d")],minx:_[_0x1d97("0x449")],maxy:_[_0x1d97("0x44e")],miny:_[_0x1d97("0x44c")]},this[_0x1d97("0x38")].__bo=_[_0x1d97("0x44f")]||_0x1d97("0xc58"),this.map[_0x1d97("0x1ab")]=_[_0x1d97("0x450")]||_0x1d97("0xc58"),this.map[_0x1d97("0xc2e")].indexOf(this.options[_0x1d97("0xc59")])<0)return void v.MessagePoster[_0x1d97("0x1c8")]({msg:_0x1d97("0xc5a"),level:"error"})}var e={id:x,buildingType:esmap[_0x1d97("0x508")][_0x1d97("0xa20")],isFirstLoading:d};this[_0x1d97("0x38")][_0x1d97("0x92b")](e)}},{key:"convertTileData",value:function(x,d){var _=this,e=x.Rooms,t=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xc5b")],a=this.map[_0x1d97("0x17b")],i=(this[_0x1d97("0x530")],0),n=0,r=this[_0x1d97("0xc0e")].filterSingleMesh,s={1:[],2:[],3:[]},o={1:[],2:[],3:[]},c=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xc5c")];for(var l in e){var u,f=e[l],h=!1,b=!1,g=this[_0x1d97("0x38")].mapTheme[_0x1d97("0xc5d")][f.RS],p=!1;999!=f.RS&&(this.map[_0x1d97("0x16c")].counter[_0x1d97("0x4b")]+=1),g&&999!=f.RS?g&&2==g[_0x1d97("0xc5e")]&&(h=2==g.topTextureType,b=2==g.sideTextureType):2==(g=this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xc5d")][0])[_0x1d97("0xc5e")]&&(h=2==g[_0x1d97("0xc5f")],b=2==g[_0x1d97("0xc60")]),u=g[_0x1d97("0xc61")];var m=this[_0x1d97("0xc1b")](f.Outline);if(c){var C=!0;if(m[_0x1d97("0xe6")][0][_0x1d97("0x0")]>=3){var I=m.points[0][_0x1d97("0x38")]((function(x){return{x:-x.x,y:x.y}}));C=esmap.ESMapUtil[_0x1d97("0x829")](c,I)}else C=esmap[_0x1d97("0x75")][_0x1d97("0xa2e")]({x:f.CenX,y:f[_0x1d97("0xbd0")]},c);if(!C)continue}var y=this[_0x1d97("0x38")].transformCoordArray({from:A,to:a,coords:m.points[0],flipX:!0}),E=m[_0x1d97("0x4b1")];E[_0x1d97("0x0")]>0&&(E=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:A,to:a,coords:m[_0x1d97("0x4b1")][0],flipX:!0})),f[_0x1d97("0x535")]&&this.bidList[f[_0x1d97("0x535")]]&&function(){var x={x:f[_0x1d97("0xc62")]||0,y:f[_0x1d97("0xc63")]||0,z:f[_0x1d97("0xc64")]||0};_[_0x1d97("0x530")][f[_0x1d97("0x535")]][_0x1d97("0x113")]=x,_[_0x1d97("0x530")][f[_0x1d97("0x535")]][_0x1d97("0xc65")]||(_[_0x1d97("0x530")][f[_0x1d97("0x535")]][_0x1d97("0xc65")]=!0,_[_0x1d97("0x530")][f[_0x1d97("0x535")]].x+=x.x,_[_0x1d97("0x530")][f[_0x1d97("0x535")]].y+=x.y);var d=[];y.forEach((function(x){d[_0x1d97("0x1")]({x:-x.x,y:x.y})})),_.bidList[f[_0x1d97("0x535")]][_0x1d97("0x587")]=d}();var w=this[_0x1d97("0x38")].transformCoord({from:A,to:a,coord:{x:f[_0x1d97("0xbcf")],y:f[_0x1d97("0xbd0")]}}),T=f.FH*u*t;f.RM&&(r&&f.RM[_0x1d97("0xd7")](_0x1d97("0xb73"))>=0?p=!0:i++);var k={fnums:f[_0x1d97("0xc66")],RoomHigh:T,Typeid:f[_0x1d97("0x171")],classID:f.MC||0,gid:f[_0x1d97("0xc67")],CenX:w.x,RoomLogoSize:null==f.RLSize?"":f[_0x1d97("0xc68")],CenY:w.y,OCenX:f.CenX,OCenY:f[_0x1d97("0xbd0")],tileid:d,oid:f._id,FC:f[_0x1d97("0xc69")]||null,AS:f.AS,name:f.NA,nameEn:f.NA,scale:f[_0x1d97("0xbcd")],rotate:f[_0x1d97("0xbce")],RModel:f.RM,bids:f[_0x1d97("0x535")],offset:f[_0x1d97("0xbd1")],RoomStyle:f.RS||0,points:[y],originalPoints:m[_0x1d97("0xe6")],holes:E,originalHoles:m[_0x1d97("0x4b1")],normalizeTop:h,normalizeSide:b,ShowLevel:(24==f.SL?10:f.SL)||10};k[_0x1d97("0xc6a")]=f.NE?JSON[_0x1d97("0x64")](f.NE):null,this[_0x1d97("0xc0e")].buildingBounds[f._id]=m.points,k[_0x1d97("0x3a6")]=f.BC>>1||1,k[_0x1d97("0xb8b")]=1&f.BC||0;var S=null;S=f.SL<=12?1:f.SL<=16?2:3,k[_0x1d97("0xb8b")]?s[S][_0x1d97("0x1")](k):o[S][_0x1d97("0x1")](k),p?(this[_0x1d97("0x35")][_0x1d97("0x214")]==_0x1d97("0x47b")||this[_0x1d97("0x35")][_0x1d97("0x20f")]||v[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:_0x1d97("0xc6b"),level:_0x1d97("0xc6c")}),this.service.addToSingleMeshData(f,d)):k[_0x1d97("0xc6d")]&&1==S&&n++}for(var M={},R=1;R<4;R++){var L={modellayers:[{models:s[R]}],modelbaselayer:[{modelbases:o[R]}],maxX:x.maxX,maxY:x[_0x1d97("0x44e")],minX:x[_0x1d97("0x449")],minY:x.minY,roomModelsCount:i,lod1ModelsCount:n};M[R]=L}return M}},{key:_0x1d97("0xc54"),value:function(x){var d=this[_0x1d97("0xa4e")]&&this[_0x1d97("0xa4e")][_0x1d97("0xd7")](x)>-1,_=this[_0x1d97("0xc14")]&&this[_0x1d97("0xc14")][_0x1d97("0xd7")](x)>-1,e=0==this[_0x1d97("0x997")][_0x1d97("0x0")]||this[_0x1d97("0x997")][_0x1d97("0xd7")](x)>-1;return(d||_)&&e}},{key:_0x1d97("0xc6e"),value:function(x){return!(x>esmap[_0x1d97("0xc6f")]||x<esmap[_0x1d97("0xc70")])}},{key:_0x1d97("0xc4a"),value:function(x){var d=x[_0x1d97("0xc49")],_=this[_0x1d97("0x38")][_0x1d97("0x17b")];for(var e in d){var t=this[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:_0x1d97("0x1c7"),to:_,coord:{x:d[e].X,y:d[e].Y}});d[e].X=t.x,d[e].Y=t.y}}},{key:"transformNavData",value:function(x,d,_){var e=d.x,t=d.y,a=_.x,i=_.y,n=this[_0x1d97("0x38")][_0x1d97("0x17b")],r=e-a,s=t-i;for(var o in x){var c=x[o].Nodes;for(var l in c){c[l].X=c[l].X+r,c[l].Y=c[l].Y+s;var u=this[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:"WGS84",to:n,coord:{x:c[l].X,y:c[l].Y}});c[l].X=u.x,c[l].Y=u.y}}}},{key:"getContainerExtent",value:function(){var x=this.map[_0x1d97("0x16d")][_0x1d97("0x4a1")][_0x1d97("0x3a9")](),d=0;this[_0x1d97("0x38")].tiltAngle>=80?d=x.height/2:this[_0x1d97("0x38")][_0x1d97("0x8c1")]>=70&&(d=x[_0x1d97("0x1b5")]/3);var _=this[_0x1d97("0x38")][_0x1d97("0xa3d")](0,d,0),e=this[_0x1d97("0x38")].coordScreenToMap(x.width,d,0),t=this[_0x1d97("0x38")][_0x1d97("0xa3d")](x[_0x1d97("0x328")],x[_0x1d97("0x1b5")],0),a=this.map.coordScreenToMap(0,x[_0x1d97("0x1b5")],0);return _&&e&&t&&a?{minx:Math[_0x1d97("0x318")](_.x,e.x,t.x,a.x),maxx:Math.max(_.x,e.x,t.x,a.x),miny:Math.min(_.y,e.y,t.y,a.y),maxy:Math[_0x1d97("0x317")](_.y,e.y,t.y,a.y)}:null}},{key:"getQueryUrl",value:function(x){var d,_=this[_0x1d97("0x38")].options,e=x,t=_.version,a=_.s,i=_[_0x1d97("0x40")],r=window[_0x1d97("0x72")][_0x1d97("0x73")],o=parseInt((new Date)[_0x1d97("0x74")]()/1e3);d=_.s&&_.k?_.k:esmap.ESMapUtil.encode64(_[_0x1d97("0x77")]+_0x1d97("0x87")+o);var c=esmap[_0x1d97("0x75")][_0x1d97("0x76")](i+"&"+e+"&"+a+"&"+d+"&"+o+"&"+r+"&"+t);querySign=c;var l=n[_0x1d97("0x44")][_0x1d97("0x45")]((0,s.getSubDirByS)(a)),u=void 0;if(3==i)u=_.serverUrl+"/"+e+"_lic.esmap";else{var f=(0,s[_0x1d97("0x42")])(a);u=(3==a?f:n[_0x1d97("0x44")].decode(f))+"/"+l+_0x1d97("0x79")+e+_0x1d97("0x7a")+_.s+_0x1d97("0x83")+d+_0x1d97("0x63")+o+_0x1d97("0x7b")+encodeURIComponent(r)+_0x1d97("0x7c")+c+_0x1d97("0x7d")+t+_0x1d97("0x7e")+i}return u}},{key:_0x1d97("0xc71"),value:function(x){var d=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x41")]+this.map.id+_0x1d97("0x8d")+this.options.themeID+"/"+this[_0x1d97("0x35")][_0x1d97("0x66")]+"."+x;return this[_0x1d97("0x35")][_0x1d97("0x5f")]&&(d+=_0x1d97("0x65")+Date.parse(new Date)),d}},{key:"setBidList",value:function(x){for(var d=x.split("|"),_=0;_<d.length;_++){var e=d[_][_0x1d97("0x28")](",");this[_0x1d97("0x530")][e[1]]||(this[_0x1d97("0x530")][e[1]]={bid:e[1],x:1*e[2],y:1*e[3],id:1*e[0],_raws:{x:1*e[2],y:1*e[3]}})}}},{key:_0x1d97("0x90c"),value:function(){var x=this,d=x[_0x1d97("0x38")][_0x1d97("0x35")],_=void 0;d.s;return _=1==d[_0x1d97("0x40")]?d.mapDataSrc+"/"+this.map.id+"/boundary.json":d[_0x1d97("0x43")]+_0x1d97("0xc72"),new(t[_0x1d97("0x1c")])((function(e,t){esmap.Ajax[_0x1d97("0x35c")]({url:_})[_0x1d97("0x356")]((function(_){if(d[_0x1d97("0xc5c")]){for(var t=esmap[_0x1d97("0x75")][_0x1d97("0x546")](d.vBoundary),a=[],i=[],n=0;n<_.grids1[_0x1d97("0x0")];n++)t[_0x1d97("0xd7")](_.grids1[n])>-1&&a[_0x1d97("0x1")](_[_0x1d97("0xc73")][n]),t[_0x1d97("0xd7")](_[_0x1d97("0xc74")][n])>-1&&i[_0x1d97("0x1")](_[_0x1d97("0xc74")][n]);x[_0x1d97("0xa4e")]=a,x.roadGrids=i}else x.tileGrids=_.grids1,x.roadGrids=_.grids2;for(var r=_[_0x1d97("0xc12")],s=[],o=0;o<r[_0x1d97("0x0")];o++){var c=r[o],u=c.citycode,f=c[_0x1d97("0x197")],h=(new(l.default[_0x1d97("0xc1c")]))[_0x1d97("0x439")](f);s[_0x1d97("0x1")]({citycode:u,outline:h[_0x1d97("0x438")]})}x.areas=s,e()}))[_0x1d97("0x245")]((function(){t(!1)}))}))}},{key:"disableTileBaseMap",value:function(){esmap[_0x1d97("0x913")]&&esmap.ESTileMap[_0x1d97("0xc75")]&&(esmap.ESTileMap[_0x1d97("0xc75")][_0x1d97("0xc76")][_0x1d97("0xc77")]=!0,this[_0x1d97("0x2ed")]=!0)}},{key:_0x1d97("0x2d7"),value:function(){esmap[_0x1d97("0x913")]&&esmap[_0x1d97("0x913")][_0x1d97("0xc75")]&&(esmap.ESTileMap[_0x1d97("0xc75")][_0x1d97("0xc76")][_0x1d97("0xc77")]=!1,this.tileBaseFrozen=!1)}},{key:_0x1d97("0x8d6"),value:function(x){var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]?arguments[1]:null,_=this,e=arguments[_0x1d97("0x0")]>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this[_0x1d97("0x38")],i=this;if(!a[_0x1d97("0xee")](x[_0x1d97("0x37")]))if(this[_0x1d97("0x530")][x[_0x1d97("0x37")]]){if(a[_0x1d97("0x57d")][_0x1d97("0x0")]>=a.options.maximumBuildings){var n=a[_0x1d97("0x57d")][0];a[_0x1d97("0x9c6")](n.id)}var r=(0,b[_0x1d97("0x220")])({loadModel3D:!0,visibleFloors:1==a[_0x1d97("0x35")].buildingFoucsMode?[1]:_0x1d97("0x203"),focusFloor:1==a[_0x1d97("0x35")][_0x1d97("0xc7a")]?1:_0x1d97("0x3a6"),focusMode:a[_0x1d97("0x35")][_0x1d97("0xc7a")],focusAnimateMode:1==a[_0x1d97("0x35")][_0x1d97("0xc7a")],hideFloorBase:t,dataCenter:{x:this[_0x1d97("0x530")][x.mapId].x,y:this[_0x1d97("0x530")][x[_0x1d97("0x37")]].y},token:d||a[_0x1d97("0x35")][_0x1d97("0x77")]}),s=this[_0x1d97("0x530")][x[_0x1d97("0x37")]].offset||{x:0,y:0,z:0},o={shell:e?null:x,tile:x[_0x1d97("0xe5")],id:x[_0x1d97("0x37")],angle:10,options:r},c=o.id,l=o[_0x1d97("0x35")],u=o[_0x1d97("0x91f")]||null;o[_0x1d97("0xc7b")];if(!(this[_0x1d97("0xc18")]>0)){if(a.fire("beforeOpenBuilding"),esmap[_0x1d97("0x182")][_0x1d97("0xc7c")]={},this[_0x1d97("0xc0e")][_0x1d97("0xa23")].push({x:l[_0x1d97("0xc7d")].x,y:l[_0x1d97("0xc7d")].y,bid:c,changed:[]}),u)if(6==u[_0x1d97("0xc7")])if(u[_0x1d97("0xa3")])if(u[_0x1d97("0xa3")].datas_[_0x1d97("0x33d")]&&u[_0x1d97("0xa3")][_0x1d97("0xa2")].brothers[_0x1d97("0x0")]>1){var f=i[_0x1d97("0x38")][_0x1d97("0xee")](a.id),h=f[_0x1d97("0x14f")][_0x1d97("0x57f")];u[_0x1d97("0xa3")][_0x1d97("0xa4")].forEach((function(x){h[_0x1d97("0x953")](x,u.ID,!1)})),u[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0xc7e")]||(u[_0x1d97("0xa3")][_0x1d97("0x11e")].shellMap={}),u[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0xc7e")][c]||(u[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0xc7e")][c]=u.ID)}else esmap[_0x1d97("0x75")][_0x1d97("0x294")]({clonemat:!0,target:u[_0x1d97("0xa3")],alpha:.1,hideOnComplete:!0,time:1.5});else u[_0x1d97("0xf0")]=!1;else if(5==u[_0x1d97("0xc7")]){for(var g=u.o3d_.geometry[_0x1d97("0xb5")].isHideFlags.array,p=u[_0x1d97("0xbb")][0],m=u[_0x1d97("0xbb")][1],A=p;A<m;A+=1)g[A]=1;u[_0x1d97("0xa3")][_0x1d97("0xa5")][_0x1d97("0xb5")][_0x1d97("0x951")].needsUpdate=!0}if(this[_0x1d97("0x91e")][c]){var C=this[_0x1d97("0x91e")][c];return a.mapScene[_0x1d97("0x920")].add(C),a[_0x1d97("0x35")][_0x1d97("0x921")]&&(this[_0x1d97("0xc19")]?C[_0x1d97("0xa2")].enter(!0):C[_0x1d97("0xa2")][_0x1d97("0x923")]()),a[_0x1d97("0x57d")][_0x1d97("0x1")](C[_0x1d97("0xa2")]),C[_0x1d97("0xf0")]=!0,a.fire(_0x1d97("0x918"),C[_0x1d97("0xa2")]),void C.datas_[_0x1d97("0x924")](_0x1d97("0x90a"),{bid:C[_0x1d97("0xa2")].id})}var I=a.sl();if(9568297==I)return l.id=c,this[_0x1d97("0xc0e")][_0x1d97("0x8f1")](l)[_0x1d97("0x2fd")]((function(x){var d=x[_0x1d97("0x165")];if(x[_0x1d97("0x14e")]=esmap[_0x1d97("0x508")].BUILDING,x[_0x1d97("0x9ca")]=o.shellId,x[_0x1d97("0x91f")]=o[_0x1d97("0x91f")],x[_0x1d97("0xe7")]={x:l[_0x1d97("0xc7d")].x,y:l[_0x1d97("0xc7d")].y},_.transformNavData(d[_0x1d97("0x8f4")],x[_0x1d97("0xe7")],{x:-d[_0x1d97("0x8f7")],y:d[_0x1d97("0x8f8")]}),_[_0x1d97("0xc0e")][_0x1d97("0x8f3")][_0x1d97("0x18d")][c]=d[_0x1d97("0x8f4")],_[_0x1d97("0x38")].fire("buildingRouteDataLoaded",{bid:c,data:d.navs}),a.options.tileMode&&x[_0x1d97("0xa3")].position[_0x1d97("0x11b")](0,0,0),x.udoffset=0,x[_0x1d97("0x35")][_0x1d97("0x113")]?(x[_0x1d97("0x35")][_0x1d97("0x113")][2]&&(s+=x[_0x1d97("0x35")][_0x1d97("0x113")][2]),x.yoffset=s):x[_0x1d97("0xc7f")]=s,x.options.undergroundOffset){var e=x.listFloors[1*x[_0x1d97("0x35")][_0x1d97("0xc80")]-1][_0x1d97("0x31e")];x.o3d_[_0x1d97("0xb6")].y-=e,x[_0x1d97("0xc81")]=e}x.originHeight_=x[_0x1d97("0xa3")][_0x1d97("0xb6")].y+1;var t=d[_0x1d97("0xc82")]<32503514?d[_0x1d97("0xc82")]:d.maptime/1e3;if(!((new Date)[_0x1d97("0x74")]()>1e6*t))return a[_0x1d97("0x89e")]=x,a[_0x1d97("0x896")]=x[_0x1d97("0x896")],a[_0x1d97("0x1d9")]("buildingReady",x),x}))[_0x1d97("0x901")]((function(x){i[_0x1d97("0x907")][_0x1d97("0x189")](i[_0x1d97("0x907")][_0x1d97("0xd7")](c),1),i.loadedList[_0x1d97("0x1")](c),esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]=!1}))}}else v.MessagePoster[_0x1d97("0x1c8")]({msg:_0x1d97("0xc78")+x[_0x1d97("0x37")]+_0x1d97("0xc79"),level:_0x1d97("0x245")})}},{key:_0x1d97("0xc83"),value:function(x){var d=this,_=[],e=x[_0x1d97("0x1c4")],t=x[_0x1d97("0x1bd")],a=x[_0x1d97("0x255")],i=void 0===a?1:a,n=x[_0x1d97("0xc84")],r=void 0===n?.25:n;if(!1!==r){var s=(0,g[_0x1d97("0x1ad")])({coord:e}),o=[esmap.ESLayerType[_0x1d97("0x94f")],esmap[_0x1d97("0x168")][_0x1d97("0x169")]];s[_0x1d97("0x1d")]((function(x){var e=d[_0x1d97("0x38")].getTileById(x);e&&e[_0x1d97("0x14d")].layers.forEach((function(x){o[_0x1d97("0xcc")](x[_0x1d97("0x94e")])||_.push(x)}))})),M=_,R=r,new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])({value:1}).to({value:r},1e3*i).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x12e")]((function(x){_[_0x1d97("0x1d")]((function(d){d[_0x1d97("0xa3")][_0x1d97("0x237")].y=x[_0x1d97("0xf1")]}))}))[_0x1d97("0x1bd")]((function(){d.service.setState(_0x1d97("0x922"),!0),t&&t()}))[_0x1d97("0x1c1")]()}else new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])({value:R}).to({value:1},1e3*i)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x12e")]((function(x){M[_0x1d97("0x1d")]((function(d){d.o3d_[_0x1d97("0x237")].y=x[_0x1d97("0xf1")]}))})).onComplete((function(){M=[],d[_0x1d97("0xc0e")][_0x1d97("0x8f5")](_0x1d97("0x922"),!1),t&&t()})).start()}},{key:"toggleTilesLayer",value:function(x){this[_0x1d97("0x38")].mapService[_0x1d97("0x90e")]=!x,esmap[_0x1d97("0x913")]&&esmap[_0x1d97("0x913")][_0x1d97("0x914")][_0x1d97("0x915")](x),this[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x90f")][_0x1d97("0xf0")]=x}},{key:_0x1d97("0x2bc"),value:function(){I=null,y=1,E=null,k=null,S=!1,M=[],R=1,this[_0x1d97("0x907")]=[],this[_0x1d97("0xc0f")]=[],this[_0x1d97("0xc10")]=[],this[_0x1d97("0x165")]={},this.currentView=[],this.currentShows=[],this[_0x1d97("0xaee")]=null,this[_0x1d97("0x993")]=[],this[_0x1d97("0x91e")]={},this[_0x1d97("0xc11")]=null,this[_0x1d97("0xc12")]=[],this.needNewTileByRoutes={},this[_0x1d97("0x18d")]={},this[_0x1d97("0xc13")]={1:12,2:16,3:18},this[_0x1d97("0xc85")]={buildings:0,models:0},this[_0x1d97("0x958")]=[],this[_0x1d97("0x2ed")]=!1,this[_0x1d97("0xa0c")]=!1,this[_0x1d97("0xa4e")]=null,this[_0x1d97("0xc14")]=null,this[_0x1d97("0x997")]=[],this[_0x1d97("0xc46")]={},this.navLoaded=!1,this[_0x1d97("0x530")]={},this[_0x1d97("0x9bb")]={},this[_0x1d97("0x929")]=[],this[_0x1d97("0xb82")]={},this[_0x1d97("0xc86")]=[],this[_0x1d97("0xc16")]="",this._o1=0,this._mo=0,this[_0x1d97("0x431")]=0,this[_0x1d97("0xc18")]=0,this[_0x1d97("0x8d5")]=null,this[_0x1d97("0xc19")]=!1}},{key:_0x1d97("0x35"),get:function(){return this[_0x1d97("0x38")][_0x1d97("0x35")]}}]),x}();d.TileService=L},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e={1e3:"æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨",2e3:_0x1d97("0xc87"),2001:"skéªè¯éè¯¯",2002:_0x1d97("0xc88"),2003:_0x1d97("0xc89"),2004:_0x1d97("0xc8a"),2005:_0x1d97("0xc8b"),2006:_0x1d97("0xc8c"),2007:_0x1d97("0xc8d"),2008:"ä¸ç»´åºæ¯ ${1} è§£æå¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºè¯·æ±ååºç»æ! è·¯å¾: ${2}, #${3}",2009:"ä¸ç»´åºæ¯ ${1} æ¥¼å±æ°æ®ä¸ºç©ºï¼è¯·æ£æ¥ä¸ç»´åºæ¯æ°æ®æ¯å¦æè¯¯! #${2}",2010:_0x1d97("0xc8e"),2011:_0x1d97("0xc8f")};d[_0x1d97("0x325")]=e},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=[_0x1d97("0xc90"),_0x1d97("0xc91"),_0x1d97("0xc92"),_0x1d97("0xc93"),_0x1d97("0xc94"),_0x1d97("0xc95"),"WndNWnQOW24="];d[_0x1d97("0xc96")]=e},function(x,d,_){"use strict";var e=a(_(10)),t=a(_(16));function a(x){return x&&x.__esModule?x:{default:x}}var i,n=_(65),r=n.Reader,s=n.Writer,o=n[_0x1d97("0x442")],c=n.roots[_0x1d97("0x1c")]||(n[_0x1d97("0x443")].default={});c[_0x1d97("0x913")]=((i={})[_0x1d97("0xc4d")]=function(){function x(x){if(this[_0x1d97("0xc97")]={},this[_0x1d97("0x166")]={},x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x.prototype.v=0,x[_0x1d97("0xf")][_0x1d97("0x445")]=0,x.prototype[_0x1d97("0x446")]="",x[_0x1d97("0xf")][_0x1d97("0xc4e")]="",x.prototype[_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0xbd7")]=0,x[_0x1d97("0xf")].x=0,x.prototype.y=0,x[_0x1d97("0xf")].z=0,x.prototype[_0x1d97("0x449")]=0,x.prototype[_0x1d97("0x44c")]=0,x[_0x1d97("0xf")][_0x1d97("0x44d")]=0,x[_0x1d97("0xf")][_0x1d97("0x44e")]=0,x[_0x1d97("0xf")][_0x1d97("0x77")]="",x[_0x1d97("0xf")].Rooms=o[_0x1d97("0xc98")],x[_0x1d97("0xf")].Labels=o.emptyObject,x.prototype.other1="",x[_0x1d97("0xf")].o1=0,x[_0x1d97("0xf")].other2="",x[_0x1d97("0xf")].o2=0,x[_0x1d97("0xf")].t1="",x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x.v&&x[_0x1d97("0x2")]("v")&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x.v),null!=x[_0x1d97("0x445")]&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x.mtime),null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&d[_0x1d97("0x45a")](26)[_0x1d97("0xe")](x.Hash),null!=x.cname&&x.hasOwnProperty(_0x1d97("0xc4e"))&&d.uint32(34)[_0x1d97("0xe")](x.cname),null!=x._id&&x.hasOwnProperty("_id")&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x.Type&&x.hasOwnProperty(_0x1d97("0xbd7"))&&d[_0x1d97("0x45a")](48)[_0x1d97("0x45b")](x[_0x1d97("0xbd7")]),null!=x.x&&x[_0x1d97("0x2")]("x")&&d[_0x1d97("0x45a")](57)[_0x1d97("0x45f")](x.x),null!=x.y&&x[_0x1d97("0x2")]("y")&&d[_0x1d97("0x45a")](65)[_0x1d97("0x45f")](x.y),null!=x.z&&x[_0x1d97("0x2")]("z")&&d.uint32(73)[_0x1d97("0x45f")](x.z),null!=x[_0x1d97("0x449")]&&x[_0x1d97("0x2")](_0x1d97("0x449"))&&d[_0x1d97("0x45a")](81)[_0x1d97("0x45f")](x.minX),null!=x.minY&&x.hasOwnProperty(_0x1d97("0x44c"))&&d[_0x1d97("0x45a")](89)[_0x1d97("0x45f")](x[_0x1d97("0x44c")]),null!=x[_0x1d97("0x44d")]&&x.hasOwnProperty("maxX")&&d.uint32(97)[_0x1d97("0x45f")](x[_0x1d97("0x44d")]),null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&d.uint32(105)[_0x1d97("0x45f")](x[_0x1d97("0x44e")]),null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&d[_0x1d97("0x45a")](114).string(x[_0x1d97("0x77")]),null!=x[_0x1d97("0xc97")]&&x[_0x1d97("0x2")](_0x1d97("0xc97")))for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc97")]),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](122)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8).int32(_[e]),c[_0x1d97("0x913")][_0x1d97("0xc9a")].encode(x[_0x1d97("0xc97")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]()[_0x1d97("0xc9b")]();if(null!=x.Labels&&x.hasOwnProperty("Labels"))for(_=(0,t.default)(x[_0x1d97("0x166")]),e=0;e<_[_0x1d97("0x0")];++e)d.uint32(130)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x913")][_0x1d97("0xc9c")][_0x1d97("0x467")](x[_0x1d97("0x166")][_[e]],d.uint32(18)[_0x1d97("0xc99")]()).ldelim()[_0x1d97("0xc9b")]();return null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d[_0x1d97("0x45a")](138)[_0x1d97("0xe")](x[_0x1d97("0x458")]),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&d[_0x1d97("0x45a")](144).int32(x.o1),null!=x.other2&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&d[_0x1d97("0x45a")](154)[_0x1d97("0xe")](x[_0x1d97("0x463")]),null!=x.o2&&x[_0x1d97("0x2")]("o2")&&d[_0x1d97("0x45a")](160).int32(x.o2),null!=x.t1&&x[_0x1d97("0x2")]("t1")&&d[_0x1d97("0x45a")](170)[_0x1d97("0xe")](x.t1),d},x[_0x1d97("0x466")]=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _,e=void 0===d?x.len:x.pos+d,t=new(c[_0x1d97("0x913")][_0x1d97("0xc4d")]);x[_0x1d97("0x3ed")]<e;){var a=x[_0x1d97("0x45a")]();switch(a>>>3){case 1:t.v=x[_0x1d97("0x45b")]();break;case 2:t[_0x1d97("0x445")]=x.int32();break;case 3:t[_0x1d97("0x446")]=x[_0x1d97("0xe")]();break;case 4:t[_0x1d97("0xc4e")]=x[_0x1d97("0xe")]();break;case 5:t[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 6:t.Type=x[_0x1d97("0x45b")]();break;case 7:t.x=x.double();break;case 8:t.y=x[_0x1d97("0x45f")]();break;case 9:t.z=x[_0x1d97("0x45f")]();break;case 10:t[_0x1d97("0x449")]=x[_0x1d97("0x45f")]();break;case 11:t[_0x1d97("0x44c")]=x.double();break;case 12:t[_0x1d97("0x44d")]=x[_0x1d97("0x45f")]();break;case 13:t[_0x1d97("0x44e")]=x.double();break;case 14:t[_0x1d97("0x77")]=x[_0x1d97("0xe")]();break;case 15:x.skip()[_0x1d97("0x3ed")]++,t.Rooms===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xc97")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xc97")][_]=c[_0x1d97("0x913")][_0x1d97("0xc9a")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;case 16:x[_0x1d97("0xc9d")]().pos++,t[_0x1d97("0x166")]===o[_0x1d97("0xc98")]&&(t.Labels={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0x166")][_]=c[_0x1d97("0x913")][_0x1d97("0xc9c")][_0x1d97("0x45")](x,x.uint32());break;case 17:t[_0x1d97("0x458")]=x.string();break;case 18:t.o1=x.int32();break;case 19:t[_0x1d97("0x463")]=x.string();break;case 20:t.o2=x.int32();break;case 21:t.t1=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&a)}}return t},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){if((typeof x===_0x1d97("0x8")?"undefined":(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x.v&&x.hasOwnProperty("v")&&!o[_0x1d97("0x46d")](x.v))return"v: integer expected";if(null!=x[_0x1d97("0x445")]&&x.hasOwnProperty(_0x1d97("0x445"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x445")]))return"mtime: integer expected";if(null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&!o.isString(x[_0x1d97("0x446")]))return"Hash: string expected";if(null!=x.cname&&x[_0x1d97("0x2")]("cname")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xc4e")]))return"cname: string expected";if(null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")]))return"_id: integer expected";if(null!=x[_0x1d97("0xbd7")]&&x.hasOwnProperty("Type")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xbd7")]))return _0x1d97("0xc9e");if(null!=x.x&&x[_0x1d97("0x2")]("x")&&typeof x.x!==_0x1d97("0x13d"))return _0x1d97("0x477");if(null!=x.y&&x[_0x1d97("0x2")]("y")&&typeof x.y!==_0x1d97("0x13d"))return"y: number expected";if(null!=x.z&&x[_0x1d97("0x2")]("z")&&typeof x.z!==_0x1d97("0x13d"))return _0x1d97("0x478");if(null!=x[_0x1d97("0x449")]&&x[_0x1d97("0x2")]("minX")&&typeof x[_0x1d97("0x449")]!==_0x1d97("0x13d"))return"minX: number expected";if(null!=x.minY&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&"number"!=typeof x.minY)return _0x1d97("0xc9f");if(null!=x[_0x1d97("0x44d")]&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&typeof x[_0x1d97("0x44d")]!==_0x1d97("0x13d"))return"maxX: number expected";if(null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&typeof x[_0x1d97("0x44e")]!==_0x1d97("0x13d"))return _0x1d97("0xca0");if(null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x77")]))return _0x1d97("0x484");if(null!=x[_0x1d97("0xc97")]&&x.hasOwnProperty(_0x1d97("0xc97"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0xc97")]))return _0x1d97("0xca1");for(var d=(0,t[_0x1d97("0x1c")])(x.Rooms),_=0;_<d[_0x1d97("0x0")];++_){if(!o.key32Re[_0x1d97("0x3b3")](d[_]))return _0x1d97("0xca2");if(a=c[_0x1d97("0x913")][_0x1d97("0xc9a")][_0x1d97("0x46b")](x.Rooms[d[_]]))return _0x1d97("0xca3")+a}}if(null!=x[_0x1d97("0x166")]&&x[_0x1d97("0x2")](_0x1d97("0x166"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0x166")]))return _0x1d97("0xca4");for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x166")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o.key32Re[_0x1d97("0x3b3")](d[_]))return _0x1d97("0xca5");var a;if(a=c[_0x1d97("0x913")].POISet[_0x1d97("0x46b")](x[_0x1d97("0x166")][d[_]]))return"Labels."+a}}return null!=x.other1&&x.hasOwnProperty(_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.o1&&x.hasOwnProperty("o1")&&!o[_0x1d97("0x46d")](x.o1)?"o1: integer expected":null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x463")])?_0x1d97("0x48c"):null!=x.o2&&x[_0x1d97("0x2")]("o2")&&!o[_0x1d97("0x46d")](x.o2)?_0x1d97("0x489"):null!=x.t1&&x[_0x1d97("0x2")]("t1")&&!o[_0x1d97("0x1d1")](x.t1)?_0x1d97("0xca6"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")][_0x1d97("0xc4d")])return x;var d=new(c.ESTileMap[_0x1d97("0xc4d")]);if(null!=x.v&&(d.v=0|x.v),null!=x[_0x1d97("0x445")]&&(d[_0x1d97("0x445")]=0|x[_0x1d97("0x445")]),null!=x[_0x1d97("0x446")]&&(d[_0x1d97("0x446")]=String(x[_0x1d97("0x446")])),null!=x[_0x1d97("0xc4e")]&&(d.cname=String(x.cname)),null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&(d[_0x1d97("0xbd7")]=0|x[_0x1d97("0xbd7")]),null!=x.x&&(d.x=Number(x.x)),null!=x.y&&(d.y=Number(x.y)),null!=x.z&&(d.z=Number(x.z)),null!=x.minX&&(d[_0x1d97("0x449")]=Number(x[_0x1d97("0x449")])),null!=x.minY&&(d.minY=Number(x[_0x1d97("0x44c")])),null!=x[_0x1d97("0x44d")]&&(d.maxX=Number(x.maxX)),null!=x[_0x1d97("0x44e")]&&(d[_0x1d97("0x44e")]=Number(x[_0x1d97("0x44e")])),null!=x[_0x1d97("0x77")]&&(d.token=String(x[_0x1d97("0x77")])),x[_0x1d97("0xc97")]){if((0,e.default)(x.Rooms)!==_0x1d97("0xc"))throw TypeError(".ESTileMap.ESTileMapSet.Rooms: object expected");d[_0x1d97("0xc97")]={};for(var _=(0,t[_0x1d97("0x1c")])(x.Rooms),a=0;a<_[_0x1d97("0x0")];++a){if((0,e.default)(x.Rooms[_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xca7"));d[_0x1d97("0xc97")][_[a]]=c[_0x1d97("0x913")].RoomSet[_0x1d97("0x494")](x[_0x1d97("0xc97")][_[a]])}}if(x[_0x1d97("0x166")]){if("object"!==(0,e[_0x1d97("0x1c")])(x[_0x1d97("0x166")]))throw TypeError(_0x1d97("0xca8"));for(d[_0x1d97("0x166")]={},_=(0,t[_0x1d97("0x1c")])(x.Labels),a=0;a<_[_0x1d97("0x0")];++a){if((0,e.default)(x[_0x1d97("0x166")][_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xca8"));d[_0x1d97("0x166")][_[a]]=c[_0x1d97("0x913")].POISet[_0x1d97("0x494")](x[_0x1d97("0x166")][_[a]])}}return null!=x.other1&&(d[_0x1d97("0x458")]=String(x.other1)),null!=x.o1&&(d.o1=0|x.o1),null!=x[_0x1d97("0x463")]&&(d[_0x1d97("0x463")]=String(x[_0x1d97("0x463")])),null!=x.o2&&(d.o2=0|x.o2),null!=x.t1&&(d.t1=String(x.t1)),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _,e={};if((d[_0x1d97("0x642")]||d.defaults)&&(e.Rooms={},e[_0x1d97("0x166")]={}),d[_0x1d97("0x499")]&&(e.v=0,e.mtime=0,e[_0x1d97("0x446")]="",e.cname="",e[_0x1d97("0x170")]=0,e.Type=0,e.x=0,e.y=0,e.z=0,e[_0x1d97("0x449")]=0,e[_0x1d97("0x44c")]=0,e[_0x1d97("0x44d")]=0,e[_0x1d97("0x44e")]=0,e[_0x1d97("0x77")]="",e[_0x1d97("0x458")]="",e.o1=0,e[_0x1d97("0x463")]="",e.o2=0,e.t1=""),null!=x.v&&x[_0x1d97("0x2")]("v")&&(e.v=x.v),null!=x[_0x1d97("0x445")]&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&(e[_0x1d97("0x445")]=x[_0x1d97("0x445")]),null!=x.Hash&&x[_0x1d97("0x2")]("Hash")&&(e[_0x1d97("0x446")]=x[_0x1d97("0x446")]),null!=x.cname&&x[_0x1d97("0x2")](_0x1d97("0xc4e"))&&(e[_0x1d97("0xc4e")]=x[_0x1d97("0xc4e")]),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&(e._id=x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")](_0x1d97("0xbd7"))&&(e[_0x1d97("0xbd7")]=x[_0x1d97("0xbd7")]),null!=x.x&&x[_0x1d97("0x2")]("x")&&(e.x=x.x),null!=x.y&&x[_0x1d97("0x2")]("y")&&(e.y=x.y),null!=x.z&&x[_0x1d97("0x2")]("z")&&(e.z=x.z),null!=x[_0x1d97("0x449")]&&x.hasOwnProperty(_0x1d97("0x449"))&&(e[_0x1d97("0x449")]=x[_0x1d97("0x449")]),null!=x[_0x1d97("0x44c")]&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&(e[_0x1d97("0x44c")]=x.minY),null!=x.maxX&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&(e[_0x1d97("0x44d")]=x.maxX),null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&(e[_0x1d97("0x44e")]=x[_0x1d97("0x44e")]),null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&(e.token=x[_0x1d97("0x77")]),x[_0x1d97("0xc97")]&&(_=(0,t.default)(x.Rooms))[_0x1d97("0x0")]){e[_0x1d97("0xc97")]={};for(var a=0;a<_[_0x1d97("0x0")];++a)e.Rooms[_[a]]=c[_0x1d97("0x913")].RoomSet[_0x1d97("0x49d")](x.Rooms[_[a]],d)}if(x.Labels&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x166")]))[_0x1d97("0x0")])for(e.Labels={},a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0x166")][_[a]]=c.ESTileMap[_0x1d97("0xc9c")].toObject(x[_0x1d97("0x166")][_[a]],d);return null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(e[_0x1d97("0x458")]=x.other1),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&(e.o1=x.o1),null!=x[_0x1d97("0x463")]&&x.hasOwnProperty(_0x1d97("0x463"))&&(e[_0x1d97("0x463")]=x[_0x1d97("0x463")]),null!=x.o2&&x.hasOwnProperty("o2")&&(e.o2=x.o2),null!=x.t1&&x[_0x1d97("0x2")]("t1")&&(e.t1=x.t1),e},x.prototype[_0x1d97("0x49d")]=function(x){return this.constructor[_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xc9a")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")]._id=0,x[_0x1d97("0xf")].NA="",x.prototype.NE="",x[_0x1d97("0xf")].MC=0,x[_0x1d97("0xf")].Tid=0,x.prototype.RL="",x[_0x1d97("0xf")][_0x1d97("0xc68")]="",x[_0x1d97("0xf")].BC=0,x.prototype.Fnum=0,x[_0x1d97("0xf")].FH=0,x[_0x1d97("0xf")].RM="",x[_0x1d97("0xf")][_0x1d97("0xbcd")]="",x.prototype[_0x1d97("0xbce")]="",x[_0x1d97("0xf")].RMO="",x[_0x1d97("0xf")].RS=0,x[_0x1d97("0xf")].SL=0,x.prototype[_0x1d97("0xbcf")]=0,x[_0x1d97("0xf")].CenY=0,x[_0x1d97("0xf")].AS=0,x.prototype[_0x1d97("0xcaa")]="",x[_0x1d97("0xf")][_0x1d97("0xcab")]=0,x.prototype[_0x1d97("0xc67")]=0,x[_0x1d97("0xf")].bids="",x[_0x1d97("0xf")][_0x1d97("0xc62")]=0,x[_0x1d97("0xf")][_0x1d97("0xc63")]=0,x[_0x1d97("0xf")][_0x1d97("0xc64")]=0,x[_0x1d97("0xf")][_0x1d97("0xcac")]=0,x[_0x1d97("0xf")].bidstyle="",x[_0x1d97("0xf")][_0x1d97("0xcad")]="",x[_0x1d97("0xf")][_0x1d97("0xcae")]="",x[_0x1d97("0xf")].layer=0,x.prototype.Did="",x[_0x1d97("0xf")].o1=0,x.prototype.other1="",x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](8).int32(x[_0x1d97("0x170")]),null!=x.NA&&x[_0x1d97("0x2")]("NA")&&d.uint32(18)[_0x1d97("0xe")](x.NA),null!=x.NE&&x[_0x1d97("0x2")]("NE")&&d[_0x1d97("0x45a")](26)[_0x1d97("0xe")](x.NE),null!=x.MC&&x[_0x1d97("0x2")]("MC")&&d[_0x1d97("0x45a")](32)[_0x1d97("0x45b")](x.MC),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x171")]),null!=x.RL&&x.hasOwnProperty("RL")&&d[_0x1d97("0x45a")](50)[_0x1d97("0xe")](x.RL),null!=x[_0x1d97("0xc68")]&&x[_0x1d97("0x2")](_0x1d97("0xc68"))&&d[_0x1d97("0x45a")](58)[_0x1d97("0xe")](x[_0x1d97("0xc68")]),null!=x.BC&&x[_0x1d97("0x2")]("BC")&&d[_0x1d97("0x45a")](64).int32(x.BC),null!=x[_0x1d97("0xc66")]&&x[_0x1d97("0x2")]("Fnum")&&d[_0x1d97("0x45a")](72)[_0x1d97("0x45b")](x[_0x1d97("0xc66")]),null!=x.FH&&x.hasOwnProperty("FH")&&d[_0x1d97("0x45a")](81)[_0x1d97("0x45f")](x.FH),null!=x.RM&&x[_0x1d97("0x2")]("RM")&&d[_0x1d97("0x45a")](90)[_0x1d97("0xe")](x.RM),null!=x[_0x1d97("0xbcd")]&&x[_0x1d97("0x2")]("RMS")&&d.uint32(98)[_0x1d97("0xe")](x.RMS),null!=x.RMR&&x.hasOwnProperty(_0x1d97("0xbce"))&&d.uint32(106)[_0x1d97("0xe")](x[_0x1d97("0xbce")]),null!=x[_0x1d97("0xbd1")]&&x[_0x1d97("0x2")](_0x1d97("0xbd1"))&&d[_0x1d97("0x45a")](114).string(x[_0x1d97("0xbd1")]),null!=x.RS&&x[_0x1d97("0x2")]("RS")&&d[_0x1d97("0x45a")](120)[_0x1d97("0x45b")](x.RS),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&d[_0x1d97("0x45a")](128)[_0x1d97("0x45b")](x.SL),null!=x[_0x1d97("0xbcf")]&&x[_0x1d97("0x2")](_0x1d97("0xbcf"))&&d[_0x1d97("0x45a")](137).double(x.CenX),null!=x[_0x1d97("0xbd0")]&&x[_0x1d97("0x2")](_0x1d97("0xbd0"))&&d[_0x1d97("0x45a")](145).double(x[_0x1d97("0xbd0")]),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&d[_0x1d97("0x45a")](153).double(x.AS),null!=x[_0x1d97("0xcaa")]&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&d[_0x1d97("0x45a")](162)[_0x1d97("0xe")](x.Outline),null!=x[_0x1d97("0xcab")]&&x[_0x1d97("0x2")](_0x1d97("0xcab"))&&d[_0x1d97("0x45a")](168).int32(x.PID),null!=x[_0x1d97("0xc67")]&&x[_0x1d97("0x2")](_0x1d97("0xc67"))&&d.uint32(176)[_0x1d97("0x45b")](x[_0x1d97("0xc67")]),null!=x[_0x1d97("0x535")]&&x[_0x1d97("0x2")](_0x1d97("0x535"))&&d[_0x1d97("0x45a")](186).string(x[_0x1d97("0x535")]),null!=x[_0x1d97("0xc62")]&&x[_0x1d97("0x2")]("bidox")&&d[_0x1d97("0x45a")](193)[_0x1d97("0x45f")](x[_0x1d97("0xc62")]),null!=x[_0x1d97("0xc63")]&&x.hasOwnProperty("bidoy")&&d.uint32(201)[_0x1d97("0x45f")](x[_0x1d97("0xc63")]),null!=x.bidoz&&x[_0x1d97("0x2")](_0x1d97("0xc64"))&&d[_0x1d97("0x45a")](209).double(x[_0x1d97("0xc64")]),null!=x[_0x1d97("0xcac")]&&x[_0x1d97("0x2")](_0x1d97("0xcac"))&&d[_0x1d97("0x45a")](217)[_0x1d97("0x45f")](x[_0x1d97("0xcac")]),null!=x[_0x1d97("0xcaf")]&&x[_0x1d97("0x2")](_0x1d97("0xcaf"))&&d.uint32(226)[_0x1d97("0xe")](x[_0x1d97("0xcaf")]),null!=x[_0x1d97("0xcad")]&&x[_0x1d97("0x2")]("bidrids")&&d[_0x1d97("0x45a")](234).string(x[_0x1d97("0xcad")]),null!=x[_0x1d97("0xcae")]&&x[_0x1d97("0x2")](_0x1d97("0xcae"))&&d.uint32(242)[_0x1d97("0xe")](x.bidpids),null!=x[_0x1d97("0xcb0")]&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&d[_0x1d97("0x45a")](248)[_0x1d97("0x45b")](x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0xc69")]&&x[_0x1d97("0x2")](_0x1d97("0xc69"))&&d.uint32(258)[_0x1d97("0xe")](x.Did),null!=x.o1&&x.hasOwnProperty("o1")&&d[_0x1d97("0x45a")](264)[_0x1d97("0x45b")](x.o1),null!=x.other1&&x[_0x1d97("0x2")]("other1")&&d[_0x1d97("0x45a")](274)[_0x1d97("0xe")](x[_0x1d97("0x458")]),d},x[_0x1d97("0x466")]=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r.create(x));for(var _=void 0===d?x.len:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x913")][_0x1d97("0xc9a")]);x[_0x1d97("0x3ed")]<_;){var t=x.uint32();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x.int32();break;case 2:e.NA=x[_0x1d97("0xe")]();break;case 3:e.NE=x.string();break;case 4:e.MC=x.int32();break;case 5:e[_0x1d97("0x171")]=x[_0x1d97("0x45b")]();break;case 6:e.RL=x[_0x1d97("0xe")]();break;case 7:e[_0x1d97("0xc68")]=x[_0x1d97("0xe")]();break;case 8:e.BC=x[_0x1d97("0x45b")]();break;case 9:e[_0x1d97("0xc66")]=x.int32();break;case 10:e.FH=x.double();break;case 11:e.RM=x[_0x1d97("0xe")]();break;case 12:e[_0x1d97("0xbcd")]=x.string();break;case 13:e[_0x1d97("0xbce")]=x[_0x1d97("0xe")]();break;case 14:e[_0x1d97("0xbd1")]=x[_0x1d97("0xe")]();break;case 15:e.RS=x[_0x1d97("0x45b")]();break;case 16:e.SL=x[_0x1d97("0x45b")]();break;case 17:e[_0x1d97("0xbcf")]=x.double();break;case 18:e.CenY=x.double();break;case 19:e.AS=x.double();break;case 20:e[_0x1d97("0xcaa")]=x[_0x1d97("0xe")]();break;case 21:e[_0x1d97("0xcab")]=x.int32();break;case 22:e[_0x1d97("0xc67")]=x[_0x1d97("0x45b")]();break;case 23:e.bids=x[_0x1d97("0xe")]();break;case 24:e[_0x1d97("0xc62")]=x[_0x1d97("0x45f")]();break;case 25:e[_0x1d97("0xc63")]=x[_0x1d97("0x45f")]();break;case 26:e[_0x1d97("0xc64")]=x[_0x1d97("0x45f")]();break;case 27:e[_0x1d97("0xcac")]=x.double();break;case 28:e[_0x1d97("0xcaf")]=x[_0x1d97("0xe")]();break;case 29:e[_0x1d97("0xcad")]=x[_0x1d97("0xe")]();break;case 30:e.bidpids=x.string();break;case 31:e.layer=x.int32();break;case 32:e.Did=x[_0x1d97("0xe")]();break;case 33:e.o1=x.int32();break;case 34:e[_0x1d97("0x458")]=x.string();break;default:x.skipType(7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?"undefined":(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x.NA&&x.hasOwnProperty("NA")&&!o[_0x1d97("0x1d1")](x.NA)?_0x1d97("0xcb1"):null!=x.NE&&x[_0x1d97("0x2")]("NE")&&!o[_0x1d97("0x1d1")](x.NE)?_0x1d97("0xcb2"):null!=x.MC&&x[_0x1d97("0x2")]("MC")&&!o.isInteger(x.MC)?_0x1d97("0xcb3"):null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")]("Tid")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x171")])?_0x1d97("0xcb4"):null!=x.RL&&x.hasOwnProperty("RL")&&!o[_0x1d97("0x1d1")](x.RL)?_0x1d97("0xcb5"):null!=x.RLSize&&x[_0x1d97("0x2")]("RLSize")&&!o.isString(x.RLSize)?"RLSize: string expected":null!=x.BC&&x[_0x1d97("0x2")]("BC")&&!o[_0x1d97("0x46d")](x.BC)?"BC: integer expected":null!=x[_0x1d97("0xc66")]&&x[_0x1d97("0x2")]("Fnum")&&!o.isInteger(x[_0x1d97("0xc66")])?_0x1d97("0xcb6"):null!=x.FH&&x[_0x1d97("0x2")]("FH")&&"number"!=typeof x.FH?_0x1d97("0xcb7"):null!=x.RM&&x.hasOwnProperty("RM")&&!o[_0x1d97("0x1d1")](x.RM)?_0x1d97("0xcb8"):null!=x[_0x1d97("0xbcd")]&&x.hasOwnProperty(_0x1d97("0xbcd"))&&!o[_0x1d97("0x1d1")](x.RMS)?_0x1d97("0xcb9"):null!=x[_0x1d97("0xbce")]&&x[_0x1d97("0x2")]("RMR")&&!o[_0x1d97("0x1d1")](x.RMR)?_0x1d97("0xcba"):null!=x[_0x1d97("0xbd1")]&&x.hasOwnProperty("RMO")&&!o.isString(x[_0x1d97("0xbd1")])?_0x1d97("0xcbb"):null!=x.RS&&x[_0x1d97("0x2")]("RS")&&!o.isInteger(x.RS)?_0x1d97("0xcbc"):null!=x.SL&&x[_0x1d97("0x2")]("SL")&&!o[_0x1d97("0x46d")](x.SL)?"SL: integer expected":null!=x[_0x1d97("0xbcf")]&&x[_0x1d97("0x2")]("CenX")&&typeof x.CenX!==_0x1d97("0x13d")?_0x1d97("0xcbd"):null!=x[_0x1d97("0xbd0")]&&x[_0x1d97("0x2")](_0x1d97("0xbd0"))&&typeof x.CenY!==_0x1d97("0x13d")?_0x1d97("0xcbe"):null!=x.AS&&x.hasOwnProperty("AS")&&typeof x.AS!==_0x1d97("0x13d")?"AS: number expected":null!=x.Outline&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&!o.isString(x[_0x1d97("0xcaa")])?_0x1d97("0xcbf"):null!=x[_0x1d97("0xcab")]&&x[_0x1d97("0x2")]("PID")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xcab")])?_0x1d97("0xcc0"):null!=x[_0x1d97("0xc67")]&&x[_0x1d97("0x2")](_0x1d97("0xc67"))&&!o.isInteger(x[_0x1d97("0xc67")])?_0x1d97("0xcc1"):null!=x[_0x1d97("0x535")]&&x[_0x1d97("0x2")](_0x1d97("0x535"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x535")])?_0x1d97("0xcc2"):null!=x[_0x1d97("0xc62")]&&x[_0x1d97("0x2")](_0x1d97("0xc62"))&&typeof x[_0x1d97("0xc62")]!==_0x1d97("0x13d")?_0x1d97("0xcc3"):null!=x[_0x1d97("0xc63")]&&x[_0x1d97("0x2")](_0x1d97("0xc63"))&&typeof x.bidoy!==_0x1d97("0x13d")?_0x1d97("0xcc4"):null!=x[_0x1d97("0xc64")]&&x[_0x1d97("0x2")](_0x1d97("0xc64"))&&typeof x.bidoz!==_0x1d97("0x13d")?_0x1d97("0xcc5"):null!=x[_0x1d97("0xcac")]&&x[_0x1d97("0x2")](_0x1d97("0xcac"))&&typeof x[_0x1d97("0xcac")]!==_0x1d97("0x13d")?_0x1d97("0xcc6"):null!=x[_0x1d97("0xcaf")]&&x[_0x1d97("0x2")](_0x1d97("0xcaf"))&&!o[_0x1d97("0x1d1")](x.bidstyle)?_0x1d97("0xcc7"):null!=x.bidrids&&x[_0x1d97("0x2")](_0x1d97("0xcad"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xcad")])?_0x1d97("0xcc8"):null!=x.bidpids&&x.hasOwnProperty(_0x1d97("0xcae"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xcae")])?_0x1d97("0xcc9"):null!=x[_0x1d97("0xcb0")]&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xcb0")])?"layer: integer expected":null!=x.Did&&x[_0x1d97("0x2")]("Did")&&!o.isString(x[_0x1d97("0xc69")])?_0x1d97("0xcca"):null!=x.o1&&x[_0x1d97("0x2")]("o1")&&!o[_0x1d97("0x46d")](x.o1)?"o1: integer expected":null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")]("other1")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")][_0x1d97("0xc9a")])return x;var d=new(c[_0x1d97("0x913")][_0x1d97("0xc9a")]);return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x._id),null!=x.NA&&(d.NA=String(x.NA)),null!=x.NE&&(d.NE=String(x.NE)),null!=x.MC&&(d.MC=0|x.MC),null!=x[_0x1d97("0x171")]&&(d.Tid=0|x[_0x1d97("0x171")]),null!=x.RL&&(d.RL=String(x.RL)),null!=x[_0x1d97("0xc68")]&&(d.RLSize=String(x[_0x1d97("0xc68")])),null!=x.BC&&(d.BC=0|x.BC),null!=x.Fnum&&(d[_0x1d97("0xc66")]=0|x[_0x1d97("0xc66")]),null!=x.FH&&(d.FH=Number(x.FH)),null!=x.RM&&(d.RM=String(x.RM)),null!=x[_0x1d97("0xbcd")]&&(d.RMS=String(x.RMS)),null!=x.RMR&&(d[_0x1d97("0xbce")]=String(x[_0x1d97("0xbce")])),null!=x[_0x1d97("0xbd1")]&&(d[_0x1d97("0xbd1")]=String(x.RMO)),null!=x.RS&&(d.RS=0|x.RS),null!=x.SL&&(d.SL=0|x.SL),null!=x.CenX&&(d[_0x1d97("0xbcf")]=Number(x.CenX)),null!=x[_0x1d97("0xbd0")]&&(d[_0x1d97("0xbd0")]=Number(x[_0x1d97("0xbd0")])),null!=x.AS&&(d.AS=Number(x.AS)),null!=x[_0x1d97("0xcaa")]&&(d.Outline=String(x[_0x1d97("0xcaa")])),null!=x[_0x1d97("0xcab")]&&(d[_0x1d97("0xcab")]=0|x[_0x1d97("0xcab")]),null!=x.GID&&(d[_0x1d97("0xc67")]=0|x.GID),null!=x[_0x1d97("0x535")]&&(d[_0x1d97("0x535")]=String(x[_0x1d97("0x535")])),null!=x.bidox&&(d[_0x1d97("0xc62")]=Number(x[_0x1d97("0xc62")])),null!=x[_0x1d97("0xc63")]&&(d[_0x1d97("0xc63")]=Number(x[_0x1d97("0xc63")])),null!=x[_0x1d97("0xc64")]&&(d[_0x1d97("0xc64")]=Number(x[_0x1d97("0xc64")])),null!=x[_0x1d97("0xcac")]&&(d.bidor=Number(x.bidor)),null!=x[_0x1d97("0xcaf")]&&(d.bidstyle=String(x[_0x1d97("0xcaf")])),null!=x[_0x1d97("0xcad")]&&(d[_0x1d97("0xcad")]=String(x.bidrids)),null!=x[_0x1d97("0xcae")]&&(d[_0x1d97("0xcae")]=String(x.bidpids)),null!=x[_0x1d97("0xcb0")]&&(d[_0x1d97("0xcb0")]=0|x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0xc69")]&&(d.Did=String(x.Did)),null!=x.o1&&(d.o1=0|x.o1),null!=x[_0x1d97("0x458")]&&(d[_0x1d97("0x458")]=String(x.other1)),d},x.from=x.fromObject,x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d.defaults&&(_[_0x1d97("0x170")]=0,_.NA="",_.NE="",_.MC=0,_[_0x1d97("0x171")]=0,_.RL="",_[_0x1d97("0xc68")]="",_.BC=0,_[_0x1d97("0xc66")]=0,_.FH=0,_.RM="",_[_0x1d97("0xbcd")]="",_[_0x1d97("0xbce")]="",_[_0x1d97("0xbd1")]="",_.RS=0,_.SL=0,_[_0x1d97("0xbcf")]=0,_[_0x1d97("0xbd0")]=0,_.AS=0,_[_0x1d97("0xcaa")]="",_[_0x1d97("0xcab")]=0,_.GID=0,_[_0x1d97("0x535")]="",_[_0x1d97("0xc62")]=0,_[_0x1d97("0xc63")]=0,_.bidoz=0,_[_0x1d97("0xcac")]=0,_[_0x1d97("0xcaf")]="",_[_0x1d97("0xcad")]="",_[_0x1d97("0xcae")]="",_.layer=0,_[_0x1d97("0xc69")]="",_.o1=0,_[_0x1d97("0x458")]=""),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.NA&&x[_0x1d97("0x2")]("NA")&&(_.NA=x.NA),null!=x.NE&&x[_0x1d97("0x2")]("NE")&&(_.NE=x.NE),null!=x.MC&&x[_0x1d97("0x2")]("MC")&&(_.MC=x.MC),null!=x.Tid&&x.hasOwnProperty("Tid")&&(_[_0x1d97("0x171")]=x[_0x1d97("0x171")]),null!=x.RL&&x.hasOwnProperty("RL")&&(_.RL=x.RL),null!=x[_0x1d97("0xc68")]&&x[_0x1d97("0x2")](_0x1d97("0xc68"))&&(_[_0x1d97("0xc68")]=x[_0x1d97("0xc68")]),null!=x.BC&&x[_0x1d97("0x2")]("BC")&&(_.BC=x.BC),null!=x.Fnum&&x.hasOwnProperty(_0x1d97("0xc66"))&&(_.Fnum=x[_0x1d97("0xc66")]),null!=x.FH&&x[_0x1d97("0x2")]("FH")&&(_.FH=x.FH),null!=x.RM&&x[_0x1d97("0x2")]("RM")&&(_.RM=x.RM),null!=x[_0x1d97("0xbcd")]&&x[_0x1d97("0x2")](_0x1d97("0xbcd"))&&(_.RMS=x[_0x1d97("0xbcd")]),null!=x[_0x1d97("0xbce")]&&x.hasOwnProperty(_0x1d97("0xbce"))&&(_[_0x1d97("0xbce")]=x[_0x1d97("0xbce")]),null!=x[_0x1d97("0xbd1")]&&x[_0x1d97("0x2")](_0x1d97("0xbd1"))&&(_[_0x1d97("0xbd1")]=x[_0x1d97("0xbd1")]),null!=x.RS&&x.hasOwnProperty("RS")&&(_.RS=x.RS),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&(_.SL=x.SL),null!=x[_0x1d97("0xbcf")]&&x[_0x1d97("0x2")](_0x1d97("0xbcf"))&&(_[_0x1d97("0xbcf")]=x.CenX),null!=x[_0x1d97("0xbd0")]&&x[_0x1d97("0x2")]("CenY")&&(_[_0x1d97("0xbd0")]=x[_0x1d97("0xbd0")]),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&(_.AS=x.AS),null!=x[_0x1d97("0xcaa")]&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&(_[_0x1d97("0xcaa")]=x[_0x1d97("0xcaa")]),null!=x[_0x1d97("0xcab")]&&x[_0x1d97("0x2")](_0x1d97("0xcab"))&&(_.PID=x[_0x1d97("0xcab")]),null!=x.GID&&x[_0x1d97("0x2")](_0x1d97("0xc67"))&&(_.GID=x[_0x1d97("0xc67")]),null!=x[_0x1d97("0x535")]&&x[_0x1d97("0x2")](_0x1d97("0x535"))&&(_[_0x1d97("0x535")]=x[_0x1d97("0x535")]),null!=x.bidox&&x.hasOwnProperty(_0x1d97("0xc62"))&&(_[_0x1d97("0xc62")]=x[_0x1d97("0xc62")]),null!=x[_0x1d97("0xc63")]&&x[_0x1d97("0x2")](_0x1d97("0xc63"))&&(_[_0x1d97("0xc63")]=x[_0x1d97("0xc63")]),null!=x[_0x1d97("0xc64")]&&x.hasOwnProperty(_0x1d97("0xc64"))&&(_[_0x1d97("0xc64")]=x.bidoz),null!=x[_0x1d97("0xcac")]&&x[_0x1d97("0x2")](_0x1d97("0xcac"))&&(_[_0x1d97("0xcac")]=x.bidor),null!=x[_0x1d97("0xcaf")]&&x[_0x1d97("0x2")](_0x1d97("0xcaf"))&&(_[_0x1d97("0xcaf")]=x[_0x1d97("0xcaf")]),null!=x[_0x1d97("0xcad")]&&x.hasOwnProperty(_0x1d97("0xcad"))&&(_[_0x1d97("0xcad")]=x[_0x1d97("0xcad")]),null!=x[_0x1d97("0xcae")]&&x.hasOwnProperty(_0x1d97("0xcae"))&&(_[_0x1d97("0xcae")]=x[_0x1d97("0xcae")]),null!=x[_0x1d97("0xcb0")]&&x[_0x1d97("0x2")]("layer")&&(_[_0x1d97("0xcb0")]=x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0xc69")]&&x[_0x1d97("0x2")](_0x1d97("0xc69"))&&(_[_0x1d97("0xc69")]=x.Did),null!=x.o1&&x.hasOwnProperty("o1")&&(_.o1=x.o1),null!=x.other1&&x[_0x1d97("0x2")]("other1")&&(_.other1=x[_0x1d97("0x458")]),_},x.prototype[_0x1d97("0x49d")]=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this.constructor[_0x1d97("0x49d")](this,n.util[_0x1d97("0xca9")])},x}(),i[_0x1d97("0xc9c")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d.length;++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x.prototype[_0x1d97("0x170")]=0,x[_0x1d97("0xf")].NA="",x.prototype.NE="",x.prototype.Tid=0,x[_0x1d97("0xf")].MT=0,x[_0x1d97("0xf")].ST=0,x[_0x1d97("0xf")].X=0,x[_0x1d97("0xf")].Y=0,x.prototype.SL=0,x.prototype.SH=0,x[_0x1d97("0xf")][_0x1d97("0x173")]="",x.prototype.w=0,x[_0x1d97("0xf")].h=0,x[_0x1d97("0xf")][_0x1d97("0x16e")]=0,x[_0x1d97("0xf")][_0x1d97("0xccb")]=0,x[_0x1d97("0xf")][_0x1d97("0xcb0")]=0,x[_0x1d97("0xf")][_0x1d97("0x172")]=0,x[_0x1d97("0xf")][_0x1d97("0x458")]="",x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x._id),null!=x.NA&&x.hasOwnProperty("NA")&&d.uint32(18).string(x.NA),null!=x.NE&&x.hasOwnProperty("NE")&&d.uint32(26).string(x.NE),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")]("Tid")&&d.uint32(32)[_0x1d97("0x45b")](x[_0x1d97("0x171")]),null!=x.MT&&x[_0x1d97("0x2")]("MT")&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x.MT),null!=x.ST&&x.hasOwnProperty("ST")&&d[_0x1d97("0x45a")](48).int32(x.ST),null!=x.X&&x.hasOwnProperty("X")&&d[_0x1d97("0x45a")](57)[_0x1d97("0x45f")](x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&d.uint32(65).double(x.Y),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&d[_0x1d97("0x45a")](72)[_0x1d97("0x45b")](x.SL),null!=x.SH&&x[_0x1d97("0x2")]("SH")&&d.uint32(85)[_0x1d97("0xccc")](x.SH),null!=x.image&&x[_0x1d97("0x2")](_0x1d97("0x173"))&&d[_0x1d97("0x45a")](90)[_0x1d97("0xe")](x[_0x1d97("0x173")]),null!=x.w&&x.hasOwnProperty("w")&&d.uint32(101)[_0x1d97("0xccc")](x.w),null!=x.h&&x.hasOwnProperty("h")&&d[_0x1d97("0x45a")](109)[_0x1d97("0xccc")](x.h),null!=x[_0x1d97("0x16e")]&&x[_0x1d97("0x2")](_0x1d97("0x16e"))&&d[_0x1d97("0x45a")](112).int32(x[_0x1d97("0x16e")]),null!=x[_0x1d97("0xccb")]&&x[_0x1d97("0x2")](_0x1d97("0xccb"))&&d[_0x1d97("0x45a")](120).int32(x[_0x1d97("0xccb")]),null!=x[_0x1d97("0xcb0")]&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&d.uint32(128)[_0x1d97("0x45b")](x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0x172")]&&x.hasOwnProperty(_0x1d97("0x172"))&&d.uint32(136)[_0x1d97("0x45b")](x[_0x1d97("0x172")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")]("other1")&&d[_0x1d97("0x45a")](146)[_0x1d97("0xe")](x[_0x1d97("0x458")]),d},x.encodeDelimited=function(x,d){return this[_0x1d97("0x467")](x,d).ldelim()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x.pos+d,e=new(c[_0x1d97("0x913")][_0x1d97("0xc9c")]);x[_0x1d97("0x3ed")]<_;){var t=x.uint32();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x.int32();break;case 2:e.NA=x[_0x1d97("0xe")]();break;case 3:e.NE=x[_0x1d97("0xe")]();break;case 4:e[_0x1d97("0x171")]=x[_0x1d97("0x45b")]();break;case 5:e.MT=x[_0x1d97("0x45b")]();break;case 6:e.ST=x[_0x1d97("0x45b")]();break;case 7:e.X=x[_0x1d97("0x45f")]();break;case 8:e.Y=x[_0x1d97("0x45f")]();break;case 9:e.SL=x.int32();break;case 10:e.SH=x[_0x1d97("0xccc")]();break;case 11:e[_0x1d97("0x173")]=x[_0x1d97("0xe")]();break;case 12:e.w=x[_0x1d97("0xccc")]();break;case 13:e.h=x.float();break;case 14:e.ipos=x.int32();break;case 15:e[_0x1d97("0xccb")]=x[_0x1d97("0x45b")]();break;case 16:e.layer=x.int32();break;case 17:e[_0x1d97("0x172")]=x[_0x1d97("0x45b")]();break;case 18:e[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x.NA&&x.hasOwnProperty("NA")&&!o[_0x1d97("0x1d1")](x.NA)?_0x1d97("0xcb1"):null!=x.NE&&x[_0x1d97("0x2")]("NE")&&!o[_0x1d97("0x1d1")](x.NE)?_0x1d97("0xcb2"):null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&!o[_0x1d97("0x46d")](x.Tid)?"Tid: integer expected":null!=x.MT&&x[_0x1d97("0x2")]("MT")&&!o[_0x1d97("0x46d")](x.MT)?_0x1d97("0xcce"):null!=x.ST&&x.hasOwnProperty("ST")&&!o.isInteger(x.ST)?"ST: integer expected":null!=x.X&&x[_0x1d97("0x2")]("X")&&typeof x.X!==_0x1d97("0x13d")?_0x1d97("0xccf"):null!=x.Y&&x[_0x1d97("0x2")]("Y")&&"number"!=typeof x.Y?_0x1d97("0xcd0"):null!=x.SL&&x[_0x1d97("0x2")]("SL")&&!o[_0x1d97("0x46d")](x.SL)?_0x1d97("0xcd1"):null!=x.SH&&x[_0x1d97("0x2")]("SH")&&typeof x.SH!==_0x1d97("0x13d")?"SH: number expected":null!=x[_0x1d97("0x173")]&&x.hasOwnProperty("image")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x173")])?_0x1d97("0xcd2"):null!=x.w&&x.hasOwnProperty("w")&&typeof x.w!==_0x1d97("0x13d")?"w: number expected":null!=x.h&&x[_0x1d97("0x2")]("h")&&"number"!=typeof x.h?_0x1d97("0xcd3"):null!=x[_0x1d97("0x16e")]&&x[_0x1d97("0x2")](_0x1d97("0x16e"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x16e")])?_0x1d97("0xcd4"):null!=x[_0x1d97("0xccb")]&&x[_0x1d97("0x2")](_0x1d97("0xccb"))&&!o[_0x1d97("0x46d")](x.FSId)?_0x1d97("0xcd5"):null!=x.layer&&x[_0x1d97("0x2")]("layer")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xcb0")])?_0x1d97("0xcd6"):null!=x[_0x1d97("0x172")]&&x[_0x1d97("0x2")](_0x1d97("0x172"))&&!o.isInteger(x[_0x1d97("0x172")])?_0x1d97("0xcd7"):null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")][_0x1d97("0xc9c")])return x;var d=new(c[_0x1d97("0x913")][_0x1d97("0xc9c")]);return null!=x._id&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x.NA&&(d.NA=String(x.NA)),null!=x.NE&&(d.NE=String(x.NE)),null!=x[_0x1d97("0x171")]&&(d[_0x1d97("0x171")]=0|x[_0x1d97("0x171")]),null!=x.MT&&(d.MT=0|x.MT),null!=x.ST&&(d.ST=0|x.ST),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),null!=x.SL&&(d.SL=0|x.SL),null!=x.SH&&(d.SH=Number(x.SH)),null!=x[_0x1d97("0x173")]&&(d[_0x1d97("0x173")]=String(x[_0x1d97("0x173")])),null!=x.w&&(d.w=Number(x.w)),null!=x.h&&(d.h=Number(x.h)),null!=x.ipos&&(d[_0x1d97("0x16e")]=0|x[_0x1d97("0x16e")]),null!=x.FSId&&(d[_0x1d97("0xccb")]=0|x[_0x1d97("0xccb")]),null!=x[_0x1d97("0xcb0")]&&(d.layer=0|x.layer),null!=x[_0x1d97("0x172")]&&(d.Sid=0|x[_0x1d97("0x172")]),null!=x[_0x1d97("0x458")]&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),d},x.from=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _={};return d.defaults&&(_[_0x1d97("0x170")]=0,_.NA="",_.NE="",_.Tid=0,_.MT=0,_.ST=0,_.X=0,_.Y=0,_.SL=0,_.SH=0,_[_0x1d97("0x173")]="",_.w=0,_.h=0,_[_0x1d97("0x16e")]=0,_[_0x1d97("0xccb")]=0,_[_0x1d97("0xcb0")]=0,_.Sid=0,_[_0x1d97("0x458")]=""),null!=x._id&&x[_0x1d97("0x2")]("_id")&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.NA&&x[_0x1d97("0x2")]("NA")&&(_.NA=x.NA),null!=x.NE&&x.hasOwnProperty("NE")&&(_.NE=x.NE),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&(_[_0x1d97("0x171")]=x[_0x1d97("0x171")]),null!=x.MT&&x[_0x1d97("0x2")]("MT")&&(_.MT=x.MT),null!=x.ST&&x[_0x1d97("0x2")]("ST")&&(_.ST=x.ST),null!=x.X&&x[_0x1d97("0x2")]("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),null!=x.SL&&x.hasOwnProperty("SL")&&(_.SL=x.SL),null!=x.SH&&x[_0x1d97("0x2")]("SH")&&(_.SH=x.SH),null!=x[_0x1d97("0x173")]&&x[_0x1d97("0x2")](_0x1d97("0x173"))&&(_[_0x1d97("0x173")]=x[_0x1d97("0x173")]),null!=x.w&&x[_0x1d97("0x2")]("w")&&(_.w=x.w),null!=x.h&&x[_0x1d97("0x2")]("h")&&(_.h=x.h),null!=x[_0x1d97("0x16e")]&&x[_0x1d97("0x2")](_0x1d97("0x16e"))&&(_[_0x1d97("0x16e")]=x[_0x1d97("0x16e")]),null!=x[_0x1d97("0xccb")]&&x.hasOwnProperty(_0x1d97("0xccb"))&&(_[_0x1d97("0xccb")]=x[_0x1d97("0xccb")]),null!=x.layer&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&(_[_0x1d97("0xcb0")]=x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0x172")]&&x[_0x1d97("0x2")](_0x1d97("0x172"))&&(_.Sid=x[_0x1d97("0x172")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x.other1),_},x[_0x1d97("0xf")].toObject=function(x){return this.constructor[_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")].toJSON=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xc47")]=function(){function x(x){if(this.Nodes={},this[_0x1d97("0x18e")]={},x)for(var d=(0,t.default)(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")].v=0,x.prototype.mtime=0,x[_0x1d97("0xf")].Hash="",x[_0x1d97("0xf")][_0x1d97("0xc4e")]="",x.prototype[_0x1d97("0x170")]=0,x.prototype[_0x1d97("0xbd7")]=0,x.prototype[_0x1d97("0xc49")]=o[_0x1d97("0xc98")],x.prototype.Lines=o.emptyObject,x[_0x1d97("0xf")][_0x1d97("0x77")]="",x[_0x1d97("0xf")][_0x1d97("0x458")]="",x[_0x1d97("0xf")].o1=0,x[_0x1d97("0xf")][_0x1d97("0x463")]="",x[_0x1d97("0xf")].o2=0,x[_0x1d97("0xf")].t1="",x[_0x1d97("0xd")]=function(d){return new x(d)},x.encode=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x.v&&x.hasOwnProperty("v")&&d[_0x1d97("0x45a")](8).int32(x.v),null!=x.mtime&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x[_0x1d97("0x445")]),null!=x.Hash&&x.hasOwnProperty("Hash")&&d.uint32(26)[_0x1d97("0xe")](x[_0x1d97("0x446")]),null!=x[_0x1d97("0xc4e")]&&x[_0x1d97("0x2")](_0x1d97("0xc4e"))&&d[_0x1d97("0x45a")](34)[_0x1d97("0xe")](x.cname),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&x.hasOwnProperty("Type")&&d[_0x1d97("0x45a")](48)[_0x1d97("0x45b")](x.Type),null!=x[_0x1d97("0xc49")]&&x.hasOwnProperty("Nodes"))for(var _=(0,t.default)(x.Nodes),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](58)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x913")][_0x1d97("0xcd8")].encode(x[_0x1d97("0xc49")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]().ldelim();if(null!=x.Lines&&x[_0x1d97("0x2")](_0x1d97("0x18e")))for(_=(0,t[_0x1d97("0x1c")])(x.Lines),e=0;e<_[_0x1d97("0x0")];++e)d.uint32(66).fork()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x913")][_0x1d97("0xcd9")][_0x1d97("0x467")](x.Lines[_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]()[_0x1d97("0xc9b")]();return null!=x[_0x1d97("0x77")]&&x.hasOwnProperty(_0x1d97("0x77"))&&d[_0x1d97("0x45a")](74).string(x[_0x1d97("0x77")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d[_0x1d97("0x45a")](82).string(x[_0x1d97("0x458")]),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&d.uint32(88)[_0x1d97("0x45b")](x.o1),null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")]("other2")&&d[_0x1d97("0x45a")](98)[_0x1d97("0xe")](x.other2),null!=x.o2&&x[_0x1d97("0x2")]("o2")&&d[_0x1d97("0x45a")](104)[_0x1d97("0x45b")](x.o2),null!=x.t1&&x.hasOwnProperty("t1")&&d[_0x1d97("0x45a")](114)[_0x1d97("0xe")](x.t1),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _,e=void 0===d?x.len:x[_0x1d97("0x3ed")]+d,t=new(c[_0x1d97("0x913")][_0x1d97("0xc47")]);x.pos<e;){var a=x[_0x1d97("0x45a")]();switch(a>>>3){case 1:t.v=x[_0x1d97("0x45b")]();break;case 2:t.mtime=x[_0x1d97("0x45b")]();break;case 3:t[_0x1d97("0x446")]=x.string();break;case 4:t[_0x1d97("0xc4e")]=x[_0x1d97("0xe")]();break;case 5:t[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 6:t.Type=x[_0x1d97("0x45b")]();break;case 7:x.skip()[_0x1d97("0x3ed")]++,t[_0x1d97("0xc49")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xc49")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xc49")][_]=c[_0x1d97("0x913")][_0x1d97("0xcd8")][_0x1d97("0x45")](x,x.uint32());break;case 8:x[_0x1d97("0xc9d")]()[_0x1d97("0x3ed")]++,t[_0x1d97("0x18e")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0x18e")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0x18e")][_]=c[_0x1d97("0x913")][_0x1d97("0xcd9")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;case 9:t.token=x[_0x1d97("0xe")]();break;case 10:t[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;case 11:t.o1=x[_0x1d97("0x45b")]();break;case 12:t[_0x1d97("0x463")]=x.string();break;case 13:t.o2=x[_0x1d97("0x45b")]();break;case 14:t.t1=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&a)}}return t},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){if((void 0===x?_0x1d97("0x8"):(0,e.default)(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x.v&&x.hasOwnProperty("v")&&!o[_0x1d97("0x46d")](x.v))return _0x1d97("0x46e");if(null!=x[_0x1d97("0x445")]&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x445")]))return _0x1d97("0xcda");if(null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&!o.isString(x.Hash))return _0x1d97("0x470");if(null!=x[_0x1d97("0xc4e")]&&x[_0x1d97("0x2")](_0x1d97("0xc4e"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xc4e")]))return"cname: string expected";if(null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&!o[_0x1d97("0x46d")](x._id))return _0x1d97("0x471");if(null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")](_0x1d97("0xbd7"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xbd7")]))return _0x1d97("0xc9e");if(null!=x[_0x1d97("0xc49")]&&x[_0x1d97("0x2")](_0x1d97("0xc49"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0xc49")]))return _0x1d97("0xcdb");for(var d=(0,t.default)(x[_0x1d97("0xc49")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xcdd");if(a=c[_0x1d97("0x913")][_0x1d97("0xcd8")][_0x1d97("0x46b")](x[_0x1d97("0xc49")][d[_]]))return _0x1d97("0xcde")+a}}if(null!=x.Lines&&x[_0x1d97("0x2")](_0x1d97("0x18e"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0x18e")]))return _0x1d97("0xcdf");for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x18e")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return"Lines: integer key{k:int32} expected";var a;if(a=c[_0x1d97("0x913")][_0x1d97("0xcd9")][_0x1d97("0x46b")](x[_0x1d97("0x18e")][d[_]]))return _0x1d97("0xce0")+a}}return null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&!o.isString(x[_0x1d97("0x77")])?"token: string expected":null!=x[_0x1d97("0x458")]&&x.hasOwnProperty("other1")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.o1&&x[_0x1d97("0x2")]("o1")&&!o[_0x1d97("0x46d")](x.o1)?_0x1d97("0x488"):null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&!o[_0x1d97("0x1d1")](x.other2)?_0x1d97("0x48c"):null!=x.o2&&x.hasOwnProperty("o2")&&!o.isInteger(x.o2)?"o2: integer expected":null!=x.t1&&x[_0x1d97("0x2")]("t1")&&!o[_0x1d97("0x1d1")](x.t1)?"t1: string expected":null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")][_0x1d97("0xc47")])return x;var d=new(c[_0x1d97("0x913")][_0x1d97("0xc47")]);if(null!=x.v&&(d.v=0|x.v),null!=x.mtime&&(d[_0x1d97("0x445")]=0|x[_0x1d97("0x445")]),null!=x[_0x1d97("0x446")]&&(d[_0x1d97("0x446")]=String(x.Hash)),null!=x.cname&&(d[_0x1d97("0xc4e")]=String(x[_0x1d97("0xc4e")])),null!=x[_0x1d97("0x170")]&&(d._id=0|x[_0x1d97("0x170")]),null!=x.Type&&(d.Type=0|x[_0x1d97("0xbd7")]),x[_0x1d97("0xc49")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc49")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xce1"));d[_0x1d97("0xc49")]={};for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc49")][_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xce1"));d[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x913")][_0x1d97("0xcd8")][_0x1d97("0x494")](x[_0x1d97("0xc49")][_[a]])}}if(x[_0x1d97("0x18e")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0x18e")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xce2"));for(d[_0x1d97("0x18e")]={},_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x18e")]),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0x18e")][_[a]])!==_0x1d97("0xc"))throw TypeError(".ESTileMap.ESTileMapNavSet.Lines: object expected");d[_0x1d97("0x18e")][_[a]]=c[_0x1d97("0x913")][_0x1d97("0xcd9")][_0x1d97("0x494")](x[_0x1d97("0x18e")][_[a]])}}return null!=x.token&&(d[_0x1d97("0x77")]=String(x[_0x1d97("0x77")])),null!=x.other1&&(d.other1=String(x[_0x1d97("0x458")])),null!=x.o1&&(d.o1=0|x.o1),null!=x[_0x1d97("0x463")]&&(d.other2=String(x[_0x1d97("0x463")])),null!=x.o2&&(d.o2=0|x.o2),null!=x.t1&&(d.t1=String(x.t1)),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _,e={};if((d[_0x1d97("0x642")]||d.defaults)&&(e[_0x1d97("0xc49")]={},e[_0x1d97("0x18e")]={}),d.defaults&&(e.v=0,e[_0x1d97("0x445")]=0,e.Hash="",e[_0x1d97("0xc4e")]="",e._id=0,e[_0x1d97("0xbd7")]=0,e[_0x1d97("0x77")]="",e.other1="",e.o1=0,e[_0x1d97("0x463")]="",e.o2=0,e.t1=""),null!=x.v&&x.hasOwnProperty("v")&&(e.v=x.v),null!=x.mtime&&x[_0x1d97("0x2")](_0x1d97("0x445"))&&(e[_0x1d97("0x445")]=x[_0x1d97("0x445")]),null!=x[_0x1d97("0x446")]&&x.hasOwnProperty(_0x1d97("0x446"))&&(e[_0x1d97("0x446")]=x[_0x1d97("0x446")]),null!=x.cname&&x.hasOwnProperty(_0x1d97("0xc4e"))&&(e[_0x1d97("0xc4e")]=x[_0x1d97("0xc4e")]),null!=x._id&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(e[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")](_0x1d97("0xbd7"))&&(e[_0x1d97("0xbd7")]=x.Type),x[_0x1d97("0xc49")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")])).length){e.Nodes={};for(var a=0;a<_.length;++a)e[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x913")][_0x1d97("0xcd8")][_0x1d97("0x49d")](x[_0x1d97("0xc49")][_[a]],d)}if(x[_0x1d97("0x18e")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x18e")]))[_0x1d97("0x0")])for(e[_0x1d97("0x18e")]={},a=0;a<_[_0x1d97("0x0")];++a)e.Lines[_[a]]=c[_0x1d97("0x913")][_0x1d97("0xcd9")][_0x1d97("0x49d")](x[_0x1d97("0x18e")][_[a]],d);return null!=x[_0x1d97("0x77")]&&x.hasOwnProperty(_0x1d97("0x77"))&&(e[_0x1d97("0x77")]=x.token),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(e[_0x1d97("0x458")]=x[_0x1d97("0x458")]),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&(e.o1=x.o1),null!=x.other2&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&(e[_0x1d97("0x463")]=x.other2),null!=x.o2&&x[_0x1d97("0x2")]("o2")&&(e.o2=x.o2),null!=x.t1&&x[_0x1d97("0x2")]("t1")&&(e.t1=x.t1),e},x[_0x1d97("0xf")][_0x1d97("0x49d")]=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")].toObject(this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i.NavNodeSet=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0x40")]=0,x.prototype.H=0,x[_0x1d97("0xf")].X=0,x[_0x1d97("0xf")].Y=0,x[_0x1d97("0xf")][_0x1d97("0xce3")]=0,x[_0x1d97("0xf")][_0x1d97("0xb9c")]=0,x[_0x1d97("0xf")][_0x1d97("0xcb0")]=0,x[_0x1d97("0xf")].other1="",x[_0x1d97("0xf")].Z=0,x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s.create()),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&d.uint32(8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0x40")]&&x.hasOwnProperty(_0x1d97("0x40"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x[_0x1d97("0x40")]),null!=x.H&&x.hasOwnProperty("H")&&d[_0x1d97("0x45a")](25)[_0x1d97("0x45f")](x.H),null!=x.X&&x[_0x1d97("0x2")]("X")&&d.uint32(33)[_0x1d97("0x45f")](x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&d.uint32(41)[_0x1d97("0x45f")](x.Y),null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&d.uint32(48)[_0x1d97("0x45b")](x.sid),null!=x[_0x1d97("0xb9c")]&&x[_0x1d97("0x2")](_0x1d97("0xb9c"))&&d[_0x1d97("0x45a")](56)[_0x1d97("0x45b")](x.gid),null!=x.layer&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&d[_0x1d97("0x45a")](64)[_0x1d97("0x45b")](x.layer),null!=x[_0x1d97("0x458")]&&x.hasOwnProperty(_0x1d97("0x458"))&&d[_0x1d97("0x45a")](74)[_0x1d97("0xe")](x.other1),null!=x.Z&&x[_0x1d97("0x2")]("Z")&&d.uint32(81).double(x.Z),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d).ldelim()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x913")].NavNodeSet);x.pos<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 2:e[_0x1d97("0x40")]=x.int32();break;case 3:e.H=x.double();break;case 4:e.X=x.double();break;case 5:e.Y=x[_0x1d97("0x45f")]();break;case 6:e.sid=x[_0x1d97("0x45b")]();break;case 7:e.gid=x[_0x1d97("0x45b")]();break;case 8:e[_0x1d97("0xcb0")]=x[_0x1d97("0x45b")]();break;case 9:e.other1=x[_0x1d97("0xe")]();break;case 10:e.Z=x[_0x1d97("0x45f")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x.uint32())},x.verify=function(x){return"object"!==(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e.default)(x))||null===x?"object expected":null!=x._id&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x._id)?_0x1d97("0x471"):null!=x[_0x1d97("0x40")]&&x[_0x1d97("0x2")](_0x1d97("0x40"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x40")])?"tid: integer expected":null!=x.H&&x.hasOwnProperty("H")&&typeof x.H!==_0x1d97("0x13d")?_0x1d97("0xce4"):null!=x.X&&x[_0x1d97("0x2")]("X")&&typeof x.X!==_0x1d97("0x13d")?"X: number expected":null!=x.Y&&x[_0x1d97("0x2")]("Y")&&"number"!=typeof x.Y?_0x1d97("0xcd0"):null!=x.sid&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xce3")])?_0x1d97("0xce5"):null!=x[_0x1d97("0xb9c")]&&x[_0x1d97("0x2")](_0x1d97("0xb9c"))&&!o.isInteger(x[_0x1d97("0xb9c")])?"gid: integer expected":null!=x.layer&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&!o[_0x1d97("0x46d")](x.layer)?_0x1d97("0xcd6"):null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.Z&&x.hasOwnProperty("Z")&&typeof x.Z!==_0x1d97("0x13d")?_0x1d97("0xce6"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")][_0x1d97("0xcd8")])return x;var d=new(c[_0x1d97("0x913")][_0x1d97("0xcd8")]);return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0x40")]&&(d[_0x1d97("0x40")]=0|x[_0x1d97("0x40")]),null!=x.H&&(d.H=Number(x.H)),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),null!=x.sid&&(d.sid=0|x[_0x1d97("0xce3")]),null!=x[_0x1d97("0xb9c")]&&(d.gid=0|x[_0x1d97("0xb9c")]),null!=x.layer&&(d[_0x1d97("0xcb0")]=0|x.layer),null!=x[_0x1d97("0x458")]&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),null!=x.Z&&(d.Z=Number(x.Z)),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_[_0x1d97("0x170")]=0,_[_0x1d97("0x40")]=0,_.H=0,_.X=0,_.Y=0,_[_0x1d97("0xce3")]=0,_[_0x1d97("0xb9c")]=0,_.layer=0,_.other1="",_.Z=0),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x._id),null!=x[_0x1d97("0x40")]&&x[_0x1d97("0x2")](_0x1d97("0x40"))&&(_[_0x1d97("0x40")]=x[_0x1d97("0x40")]),null!=x.H&&x[_0x1d97("0x2")]("H")&&(_.H=x.H),null!=x.X&&x[_0x1d97("0x2")]("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),null!=x[_0x1d97("0xce3")]&&x.hasOwnProperty(_0x1d97("0xce3"))&&(_.sid=x[_0x1d97("0xce3")]),null!=x[_0x1d97("0xb9c")]&&x.hasOwnProperty(_0x1d97("0xb9c"))&&(_[_0x1d97("0xb9c")]=x[_0x1d97("0xb9c")]),null!=x.layer&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&(_[_0x1d97("0xcb0")]=x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x.other1),null!=x.Z&&x[_0x1d97("0x2")]("Z")&&(_.Z=x.Z),_},x[_0x1d97("0xf")].toObject=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")].toJSON=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xcd9")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x.prototype.na="",x.prototype[_0x1d97("0xce3")]=0,x[_0x1d97("0xf")][_0x1d97("0x464")]=0,x[_0x1d97("0xf")][_0x1d97("0x197")]="",x[_0x1d97("0xf")][_0x1d97("0x1aa")]=0,x.prototype.dis=0,x[_0x1d97("0xf")][_0x1d97("0x7e5")]="",x.prototype.bstair=0,x[_0x1d97("0xf")].style=0,x[_0x1d97("0xf")][_0x1d97("0xcb0")]=0,x[_0x1d97("0xf")][_0x1d97("0x458")]="",x.create=function(d){return new x(d)},x.encode=function(x,d){return d||(d=s.create()),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&d.uint32(8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x.na&&x.hasOwnProperty("na")&&d[_0x1d97("0x45a")](18)[_0x1d97("0xe")](x.na),null!=x.sid&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&d.uint32(24)[_0x1d97("0x45b")](x[_0x1d97("0xce3")]),null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")](_0x1d97("0x464"))&&d[_0x1d97("0x45a")](32)[_0x1d97("0x45b")](x[_0x1d97("0x464")]),null!=x[_0x1d97("0x197")]&&x[_0x1d97("0x2")](_0x1d97("0x197"))&&d[_0x1d97("0x45a")](42)[_0x1d97("0xe")](x[_0x1d97("0x197")]),null!=x.rank&&x[_0x1d97("0x2")]("rank")&&d[_0x1d97("0x45a")](48).int32(x[_0x1d97("0x1aa")]),null!=x[_0x1d97("0x590")]&&x[_0x1d97("0x2")]("dis")&&d[_0x1d97("0x45a")](57)[_0x1d97("0x45f")](x[_0x1d97("0x590")]),null!=x[_0x1d97("0x7e5")]&&x.hasOwnProperty(_0x1d97("0x7e5"))&&d.uint32(66)[_0x1d97("0xe")](x[_0x1d97("0x7e5")]),null!=x[_0x1d97("0xce7")]&&x[_0x1d97("0x2")](_0x1d97("0xce7"))&&d[_0x1d97("0x45a")](72).int32(x[_0x1d97("0xce7")]),null!=x[_0x1d97("0x22")]&&x.hasOwnProperty(_0x1d97("0x22"))&&d[_0x1d97("0x45a")](80).int32(x[_0x1d97("0x22")]),null!=x[_0x1d97("0xcb0")]&&x.hasOwnProperty(_0x1d97("0xcb0"))&&d[_0x1d97("0x45a")](88)[_0x1d97("0x45b")](x[_0x1d97("0xcb0")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d.uint32(98).string(x.other1),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x.decode=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x.len:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x913")][_0x1d97("0xcd9")]);x[_0x1d97("0x3ed")]<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x.int32();break;case 2:e.na=x[_0x1d97("0xe")]();break;case 3:e[_0x1d97("0xce3")]=x[_0x1d97("0x45b")]();break;case 4:e.eid=x.int32();break;case 5:e.outline=x[_0x1d97("0xe")]();break;case 6:e.rank=x[_0x1d97("0x45b")]();break;case 7:e[_0x1d97("0x590")]=x.double();break;case 8:e[_0x1d97("0x7e5")]=x[_0x1d97("0xe")]();break;case 9:e.bstair=x[_0x1d97("0x45b")]();break;case 10:e[_0x1d97("0x22")]=x[_0x1d97("0x45b")]();break;case 11:e[_0x1d97("0xcb0")]=x[_0x1d97("0x45b")]();break;case 12:e[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x.na&&x.hasOwnProperty("na")&&!o.isString(x.na)?_0x1d97("0xce8"):null!=x.sid&&x.hasOwnProperty(_0x1d97("0xce3"))&&!o.isInteger(x[_0x1d97("0xce3")])?_0x1d97("0xce5"):null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")]("eid")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x464")])?_0x1d97("0xce9"):null!=x[_0x1d97("0x197")]&&x.hasOwnProperty(_0x1d97("0x197"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x197")])?_0x1d97("0xcea"):null!=x[_0x1d97("0x1aa")]&&x.hasOwnProperty(_0x1d97("0x1aa"))&&!o[_0x1d97("0x46d")](x.rank)?_0x1d97("0xceb"):null!=x.dis&&x.hasOwnProperty("dis")&&typeof x[_0x1d97("0x590")]!==_0x1d97("0x13d")?_0x1d97("0xcec"):null!=x[_0x1d97("0x7e5")]&&x[_0x1d97("0x2")](_0x1d97("0x7e5"))&&!o.isString(x[_0x1d97("0x7e5")])?_0x1d97("0xced"):null!=x[_0x1d97("0xce7")]&&x.hasOwnProperty(_0x1d97("0xce7"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xce7")])?_0x1d97("0xcee"):null!=x.style&&x[_0x1d97("0x2")]("style")&&!o.isInteger(x.style)?_0x1d97("0xcef"):null!=x[_0x1d97("0xcb0")]&&x[_0x1d97("0x2")]("layer")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xcb0")])?_0x1d97("0xcd6"):null!=x[_0x1d97("0x458")]&&x.hasOwnProperty(_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x913")].NavLineSet)return x;var d=new(c[_0x1d97("0x913")].NavLineSet);return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x.na&&(d.na=String(x.na)),null!=x[_0x1d97("0xce3")]&&(d[_0x1d97("0xce3")]=0|x[_0x1d97("0xce3")]),null!=x[_0x1d97("0x464")]&&(d[_0x1d97("0x464")]=0|x.eid),null!=x[_0x1d97("0x197")]&&(d[_0x1d97("0x197")]=String(x.outline)),null!=x[_0x1d97("0x1aa")]&&(d[_0x1d97("0x1aa")]=0|x[_0x1d97("0x1aa")]),null!=x[_0x1d97("0x590")]&&(d[_0x1d97("0x590")]=Number(x.dis)),null!=x.dir&&(d[_0x1d97("0x7e5")]=String(x[_0x1d97("0x7e5")])),null!=x[_0x1d97("0xce7")]&&(d[_0x1d97("0xce7")]=0|x[_0x1d97("0xce7")]),null!=x[_0x1d97("0x22")]&&(d[_0x1d97("0x22")]=0|x[_0x1d97("0x22")]),null!=x[_0x1d97("0xcb0")]&&(d[_0x1d97("0xcb0")]=0|x[_0x1d97("0xcb0")]),null!=x.other1&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),d},x[_0x1d97("0x2e4")]=x.fromObject,x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d.defaults&&(_._id=0,_.na="",_[_0x1d97("0xce3")]=0,_.eid=0,_.outline="",_[_0x1d97("0x1aa")]=0,_[_0x1d97("0x590")]=0,_[_0x1d97("0x7e5")]="",_[_0x1d97("0xce7")]=0,_[_0x1d97("0x22")]=0,_[_0x1d97("0xcb0")]=0,_[_0x1d97("0x458")]=""),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.na&&x.hasOwnProperty("na")&&(_.na=x.na),null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&(_.sid=x.sid),null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")](_0x1d97("0x464"))&&(_[_0x1d97("0x464")]=x[_0x1d97("0x464")]),null!=x.outline&&x[_0x1d97("0x2")]("outline")&&(_[_0x1d97("0x197")]=x.outline),null!=x[_0x1d97("0x1aa")]&&x[_0x1d97("0x2")](_0x1d97("0x1aa"))&&(_.rank=x[_0x1d97("0x1aa")]),null!=x.dis&&x[_0x1d97("0x2")](_0x1d97("0x590"))&&(_[_0x1d97("0x590")]=x[_0x1d97("0x590")]),null!=x[_0x1d97("0x7e5")]&&x.hasOwnProperty(_0x1d97("0x7e5"))&&(_[_0x1d97("0x7e5")]=x[_0x1d97("0x7e5")]),null!=x[_0x1d97("0xce7")]&&x[_0x1d97("0x2")](_0x1d97("0xce7"))&&(_[_0x1d97("0xce7")]=x[_0x1d97("0xce7")]),null!=x[_0x1d97("0x22")]&&x[_0x1d97("0x2")](_0x1d97("0x22"))&&(_[_0x1d97("0x22")]=x[_0x1d97("0x22")]),null!=x.layer&&x[_0x1d97("0x2")](_0x1d97("0xcb0"))&&(_[_0x1d97("0xcb0")]=x.layer),null!=x.other1&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x[_0x1d97("0x458")]),_},x[_0x1d97("0xf")][_0x1d97("0x49d")]=function(x){return this.constructor[_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")].toJSON=function(){return this[_0x1d97("0x49c")].toObject(this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i),x[_0x1d97("0x6")]=c},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xcf0")]=void 0;var e=l(_(9)),t=l(_(0)),a=l(_(1)),i=l(_(140)),n=_(310),r=_(101),s=_(311),o=l(_(23)),c=_(72);function l(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var u=_(312),f=_0x1d97("0x1c7"),h=null,b=null,g=0,v=function(){function x(d){(0,t[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xc0e")]=d,this[_0x1d97("0x38")]=d.map,this[_0x1d97("0xcf1")]={},this[_0x1d97("0xcf2")]=this.map[_0x1d97("0x35")],this[_0x1d97("0xc86")]=[],this[_0x1d97("0xbcc")]=!0,this[_0x1d97("0x18d")]={},this[_0x1d97("0xcf3")]={},this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]?this.filterSingleMesh=!1:this.map[_0x1d97("0x35")][_0x1d97("0x214")]!=_0x1d97("0x47b")&&(this[_0x1d97("0xbcc")]=!1)}return(0,a.default)(x,[{key:_0x1d97("0xcf4"),value:function(x){var d=x[_0x1d97("0xe5")],_=x.coord,e=x[_0x1d97("0xe8")],t=(x.id,this[_0x1d97("0xcf3")][d]);if(!t)return!0;var a=t[_0x1d97("0xcf5")],i=t[_0x1d97("0x35d")];if(a==_0x1d97("0x3c6")){if(!i[e])return!1;var n=!1;for(var r in i[e]){var s=i[e][r];if(esmap[_0x1d97("0x75")][_0x1d97("0xa2e")](_,s)){n=!0;break}}return n}}},{key:_0x1d97("0xcf6"),value:function(x){x[_0x1d97("0x6a")]==_0x1d97("0x4b")&&(this[_0x1d97("0xcf3")][x[_0x1d97("0xe5")]]=x)}},{key:_0x1d97("0xcf7"),value:function(x){var d=new Array;if(null!=x&&x[_0x1d97("0x0")]>10)for(var _=x.split("&&"),e=0;e<_[_0x1d97("0x0")];e++){var t=_[e][_0x1d97("0xd7")]("&");t>0&&(_[e]=_[e][_0x1d97("0x198")](0,t)),_[e][_0x1d97("0x0")]>10&&d.push(_[e])}return d}},{key:_0x1d97("0xcf8"),value:function(){}},{key:_0x1d97("0xcf9"),value:function(x,d,_,e){var t=this[_0x1d97("0xcfa")](d,x);esmap[_0x1d97("0x33")].tempFlipX_&&this.tempFlipX_(t),_(t)}},{key:_0x1d97("0xc6e"),value:function(x){return!(x>esmap[_0x1d97("0xc6f")]||x<esmap[_0x1d97("0xc70")])}},{key:_0x1d97("0xcfb"),value:function(x,d){if(x||(x=23),this[_0x1d97("0x38")].mode==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")])return x;if(x>=23)return 11;var _=d[_0x1d97("0xcfc")][x]*d[_0x1d97("0xcfd")];return this[_0x1d97("0x38")][_0x1d97("0x16d")].getZoomLevelByDistance(_)}},{key:_0x1d97("0xcfe"),value:function(x){var d=this,_=this[_0x1d97("0x38")][_0x1d97("0x16c")],e=x[_0x1d97("0xad8")],t=new(THREE[_0x1d97("0xe0")])(1,1.5,1);if(x[_0x1d97("0x237")]){var a=x.scale[_0x1d97("0x28")](",");t=new THREE.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}if(x[_0x1d97("0x4a4")])var i=Math.PI/180,n=x.rotate[_0x1d97("0x28")](","),r=new(THREE[_0x1d97("0x264")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i);var s=new(THREE[_0x1d97("0xe0")])(x.x,x.y,0),o=new THREE.Vector3(-x[_0x1d97("0xbcf")]-_[_0x1d97("0x199")],0,x.CenY-_[_0x1d97("0x19a")]);if(x.offset){var c=x[_0x1d97("0x113")][_0x1d97("0x28")](",");o.x+=parseFloat(c[0]),o.y+=parseFloat(c[1]),o.z+=parseFloat(c[2]),s.x-=parseFloat(c[0]),s.z+=parseFloat(c[1]),s.y+=parseFloat(c[2])}var l={id:x[_0x1d97("0xcff")],name:x[_0x1d97("0xb8")],fnum:x[_0x1d97("0xad8")],rotation:r,position:o,scale:t,rotate:x[_0x1d97("0x4a4")]};d[_0x1d97("0xbcb")][x[_0x1d97("0xc6d")]]||(d.singleMesheDatas[x.RModel]={}),d[_0x1d97("0xbcb")][x[_0x1d97("0xc6d")]][e]||(d.singleMesheDatas[x[_0x1d97("0xc6d")]][e]=[]),d[_0x1d97("0xbcb")][x[_0x1d97("0xc6d")]][e][_0x1d97("0x1")](l)}},{key:_0x1d97("0xd00"),value:function(x,d){var _=d[_0x1d97("0x165")][_0x1d97("0xe5")],e=x[_0x1d97("0xad8")],t=this[_0x1d97("0x38")][_0x1d97("0x17b")],a=this[_0x1d97("0x38")].options,i=this[_0x1d97("0xbcc")],n=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x6b")],r=this,s={maxx:0,minx:1/0,maxy:0,miny:1/0},l=[],u=[],h=[],b=[],g=[],v=this[_0x1d97("0xcf7")](x[_0x1d97("0xcaa")]),p=d.center.x,m=d[_0x1d97("0xe7")].y;d[_0x1d97("0x35")][_0x1d97("0xc7d")]&&(p=d[_0x1d97("0x35")][_0x1d97("0xc7d")].x,m=d[_0x1d97("0x35")][_0x1d97("0xc7d")].y);var A=[],C=(this[_0x1d97("0x38")].mapScene,{x:p+d.sourceData[_0x1d97("0x8f7")]+0,y:m-d.sourceData[_0x1d97("0x8f8")]+0});d[_0x1d97("0x113")]=C;for(var I=0;I<v.length;I++){var y=[],E=this[_0x1d97("0xd01")](v[I],C.x,C.y),w=this[_0x1d97("0x38")].transformCoordArray({from:f,to:t,coords:E.points,flipX:!0});for(var T in E[_0x1d97("0x4b1")]){var k=E[_0x1d97("0x4b1")][T],S=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:f,to:t,coords:k,flipX:!0});y[_0x1d97("0x1")](S)}E[_0x1d97("0xe6")]=w,E[_0x1d97("0x4b1")]=y,l[_0x1d97("0x1")](E)}d[_0x1d97("0x841")][e]=s,l.forEach((function(x){x[_0x1d97("0xe6")].forEach((function(x){x.y<s[_0x1d97("0xae")]&&(s[_0x1d97("0xae")]=x.y),x.y>s[_0x1d97("0xab")]&&(s[_0x1d97("0xab")]=x.y),-x.x<s[_0x1d97("0xad")]&&(s[_0x1d97("0xad")]=-x.x),-x.x>s[_0x1d97("0xaa")]&&(s[_0x1d97("0xaa")]=-x.x)}))})),x[_0x1d97("0xcaa")]=null;var M=x.Rooms,R=0;for(var L in M){var H=!1,D=M[L],P=this[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:f,to:t,coord:{x:D[_0x1d97("0xbcf")]+C.x,y:D[_0x1d97("0xbd0")]+C.y}});if(this[_0x1d97("0xcf4")]({bid:_,coord:{x:D.CenX+C.x,y:D.CenY+C.y},fnum:e,id:D[_0x1d97("0x170")]})){var O=this.convertIndoorGeo2Geometry_(D[_0x1d97("0xcaa")],C.x,C.y);O.floornum=e,O.isTube=!1,D[_0x1d97("0xcaa")][_0x1d97("0xd7")]("Circle")>-1&&(O[_0x1d97("0xd02")]=!0),O[_0x1d97("0x3a6")]=D.BC>>1||1,O[_0x1d97("0xcff")]=D[_0x1d97("0x170")],O[_0x1d97("0x573")]=D.RS,O.FC=D.FC||null,O.gid=null,O.RColor=D.RC||"",O[_0x1d97("0x82d")]=O.points,O[_0x1d97("0x583")]=null,O[_0x1d97("0xd03")]=O[_0x1d97("0x4b1")];var B=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:f,to:t,coords:O[_0x1d97("0xe6")],flipX:!0});O.points=B,this[_0x1d97("0xc0e")].buildingBounds[D[_0x1d97("0x170")]]=[O[_0x1d97("0xe6")]];var N=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:f,to:t,coords:O[_0x1d97("0x4b1")],flipX:!0});O.holes=N,O[_0x1d97("0xbcf")]=P.x,O[_0x1d97("0xbd0")]=P.y,O[_0x1d97("0xd04")]=-1,O[_0x1d97("0xc6d")]=D.RM,O[_0x1d97("0xc6d")]&&(i&&O[_0x1d97("0xc6d")][_0x1d97("0xd7")](_0x1d97("0xb73"))>=0?H=!0:(R++,d.modelLoadManager.modelStatic[_0x1d97("0x161")]++)),O[_0x1d97("0xd05")]=D.Tid||D[_0x1d97("0xd05")]||0,O[_0x1d97("0xb8b")]=1&D.BC||0;var F=O[_0x1d97("0xb8b")]||1==a[_0x1d97("0x20f")];r[_0x1d97("0xc86")][_0x1d97("0xd7")](_)>=0&&(F=O[_0x1d97("0xb8b")]=D.BC&&1&D.BC),O[_0x1d97("0xd06")]=D.FS||0,O[_0x1d97("0xb8")]=n?this[_0x1d97("0xd07")](D[_0x1d97("0xb8")],n):D[_0x1d97("0xb8")],D[_0x1d97("0xbd1")]&&(O[_0x1d97("0x113")]=D[_0x1d97("0xbd1")]),O[_0x1d97("0x974")]=null==D.RH?5:D.RH,O[_0x1d97("0x955")]=null==D.RL?"":D.RL,O[_0x1d97("0xd08")]=null==D[_0x1d97("0xc68")]?"":D[_0x1d97("0xc68")],O[_0x1d97("0xc6a")]=D.Brief?JSON[_0x1d97("0x64")](D[_0x1d97("0xc6a")]):null;var z=O[_0x1d97("0xd08")][_0x1d97("0x28")](",");if(z[3]&&(O[_0x1d97("0xd04")]=1*z[3]),O[_0x1d97("0x955")])for(var j=O[_0x1d97("0x955")].split(";"),U=O.RoomLogoSize[_0x1d97("0x28")](";"),X=0;X<j.length;X++){var Y=j[X],G="";if(U[X])1*U[X][_0x1d97("0x28")](",")[3]<3?(G=o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0xd09"),{filename:Y,type:_0x1d97("0xd0a"),buildingId:d.id}),r.service[_0x1d97("0xbca")][_0x1d97("0xd0b")](G,_0x1d97("0xc06"),Y)):(G=o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0xd09"),{filename:Y,type:_0x1d97("0xd0c"),buildingId:d.id}),r[_0x1d97("0xc0e")][_0x1d97("0xbca")][_0x1d97("0xd0b")](G,_0x1d97("0xd0d"),Y))}O.ShowLevel=D.SL||24,6!=O[_0x1d97("0x3a6")]?(D.RM&&(D[_0x1d97("0xbcd")]&&(O[_0x1d97("0x237")]=D[_0x1d97("0xbcd")]),D[_0x1d97("0xbce")]&&(O.rotate=D[_0x1d97("0xbce")])),O[_0x1d97("0xd04")]>=3&&(O.RS=O[_0x1d97("0x573")],O[_0x1d97("0xd0e")]=O[_0x1d97("0x573")]+"_"+O.RoomLogo+"_"+O[_0x1d97("0xd08")]),O[_0x1d97("0x974")]>4&&this[_0x1d97("0x38")][_0x1d97("0x35")].randomTexture?O[_0x1d97("0xd0f")]={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:O.noTexture=!0,F?u.push(O):(O.RoomHigh=null==D.RH?.25:D.RH,g[_0x1d97("0x1")](O)),H&&("low"==this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x214")]||this.map[_0x1d97("0x35")][_0x1d97("0x20f")]||c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:"åå«singleMeshï¼ä½æ¯qualityæ²¡æè®¾ç½®ä¸ºlow",level:"warning"}),this[_0x1d97("0xcfe")](O))):A[_0x1d97("0x1")](O)}}var Q=x[_0x1d97("0x166")];for(var V in Q){var W=x[_0x1d97("0x166")][V],Z={oid:W._id,Typeid:W[_0x1d97("0x171")],name:(n?this[_0x1d97("0xd07")](W[_0x1d97("0xb8")],n):W[_0x1d97("0xb8")])||"",fontstyleid:W.FSId,Height:W.SH,X:W.X+C.x,Y:W.Y+C.y,image:W[_0x1d97("0x173")],w:null==W.w?32:W.w,h:null==W.h?32:W.h,ShowLevel:this[_0x1d97("0xcfb")](W.SL,d),texture:null==W[_0x1d97("0x173")]||""==W[_0x1d97("0x173")]?"":esmap.ESMapUtil[_0x1d97("0x4e0")](this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x41")]+"/"+_+"/imagelabel/"+W[_0x1d97("0x173")]),center:{x:.5,y:0}};if(W[_0x1d97("0x458")]){var J=W.other1[_0x1d97("0x28")](",");Z[_0x1d97("0x173")]=J[0],Z.w=1*J[1],Z.h=1*J[2];var K=_0x1d97("0x3a5");switch(1*J[3]){case 0:K=_0x1d97("0x3a5");break;case 1:K="top";break;case 2:K=_0x1d97("0x648");break;case 3:K="bottom"}Z[_0x1d97("0xd10")]=K,Z.center={x:1*J[4],y:1*J[5]}}h[_0x1d97("0x1")](Z)}var q=x[_0x1d97("0xd11")];if(x[_0x1d97("0xd11")])for(var $ in q){var xx=q[$],dx={oid:xx[_0x1d97("0x170")],X:xx.X+C.x,Y:xx.Y+C.y,Height:xx.SH,image:null==xx[_0x1d97("0x173")]?"":xx[_0x1d97("0x173")],w:null==xx.w||""==xx.w?32:xx.w,h:null==xx.h||""==xx.h?32:xx.h,name:n?this[_0x1d97("0xd07")](xx[_0x1d97("0xb8")],n):xx.name,ShowLevel:this[_0x1d97("0xcfb")](xx.SL,d),Typeid:xx[_0x1d97("0x171")],center:{x:.5,y:0}};if(xx.other1){var _x=xx[_0x1d97("0x458")][_0x1d97("0x28")](",");dx[_0x1d97("0x173")]=_x[0],dx.w=1*_x[1],dx.h=1*_x[2],dx[_0x1d97("0xd12")]=1*_x[3],dx.center.x=1*_x[4],dx[_0x1d97("0xe7")].y=1*_x[5]}b[_0x1d97("0x1")](dx)}x[_0x1d97("0xd13")];var ex={fnum:e,floorEdge:s,floorBaseLayers:[{lid:2,floorBases:l}],modellayers:[{lid:3,models:u}],labellayers:[{lid:5,labels:h}],poilayers:[{lid:4,pois:b}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:g}],roadDatas:A,modelsCount:R};return this.map[_0x1d97("0x35")][_0x1d97("0x1e9")]||(d[_0x1d97("0xb7e")][e][_0x1d97("0x223")]=u[_0x1d97("0x0")]),ex}},{key:_0x1d97("0xcfa"),value:function(x,d){for(var _=d[_0x1d97("0x165")][_0x1d97("0xa34")],e=0;e<_[_0x1d97("0x0")];e++){var t=_[e];if(t[_0x1d97("0xad8")]==x)return this[_0x1d97("0xd00")](t,d)}return null}},{key:_0x1d97("0xd01"),value:function(x,d,_){var e=(new(i.default[_0x1d97("0xc1c")]))[_0x1d97("0x43b")](x,d,_);return{points:e[_0x1d97("0x438")],holes:e.holes_}}},{key:"_convertIndoorFullData",value:function(x,d){d[_0x1d97("0xd14")]=esmap[_0x1d97("0x50f")][_0x1d97("0xbda")](x);var _=d[_0x1d97("0xd14")].getSize(new(THREE[_0x1d97("0xe0")])),e=x[_0x1d97("0xd15")],t=x[_0x1d97("0xa34")][e-1][_0x1d97("0xd16")],a=.75*_.x+t,i=new THREE.Vector3(_.x,a,-_.x),n=new(THREE[_0x1d97("0xe0")])(0,0,0),r=i[_0x1d97("0x25d")](n);d[_0x1d97("0xcfc")]=JSON[_0x1d97("0x64")]("["+x[_0x1d97("0xd17")]+"]"),d.sourceData=x,d[_0x1d97("0xcfd")]=r;var s,o=d[_0x1d97("0x35")],l=d[_0x1d97("0x38")].options[_0x1d97("0x20f")],u=o.visibleFloors;if(u){if(!Array[_0x1d97("0x547")](u)&&u!=_0x1d97("0x203"))return void c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:"the visibleFloors "+esmap[_0x1d97("0x2ad")].ARRAY_REQUIRED+" or string 'all'",level:_0x1d97("0xc6c")});s=o[_0x1d97("0xd18")]?o[_0x1d97("0xd18")]:o[_0x1d97("0xbd9")]?o[_0x1d97("0xbd9")]:x[_0x1d97("0xd15")]?x[_0x1d97("0xd15")]:1}else u=[s=o.defaultFloornum?o[_0x1d97("0xd18")]:o[_0x1d97("0xbd9")]?o[_0x1d97("0xbd9")]:x[_0x1d97("0xd15")]?x[_0x1d97("0xd15")]:1];(s>x[_0x1d97("0xa34")][_0x1d97("0x0")]||s<1)&&(s=x.DefaultFnum||1),o[_0x1d97("0xbd9")]=s,(Array[_0x1d97("0x547")](u)&&u[_0x1d97("0x0")]==x[_0x1d97("0xa34")][_0x1d97("0x0")]||u==_0x1d97("0x203"))&&o.viewMode==esmap[_0x1d97("0x504")][_0x1d97("0xa38")]&&(c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:""+esmap[_0x1d97("0x2ad")][_0x1d97("0xd19")],level:_0x1d97("0xc6c")}),u=[s]),o[_0x1d97("0xbdb")]=u,d.visibleFloorNums_=u;var f=o[_0x1d97("0xd1a")]||0,h=0,b=0,g=0;for(this.map[_0x1d97("0x18c")][_0x1d97("0x530")][d.id]&&this.map[_0x1d97("0x18c")][_0x1d97("0x530")][d.id][_0x1d97("0x113")]&&(g=this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x530")][d.id][_0x1d97("0x113")].z);h<x[_0x1d97("0xa34")][_0x1d97("0x0")];h++){var v=x[_0x1d97("0xa34")][h];v[_0x1d97("0xd1b")]<0&&(v[_0x1d97("0xd16")]*=.001),b=f instanceof Array?f[h]||0+v.Elevation:(h+1)*f+v[_0x1d97("0xd16")],v[_0x1d97("0xd16")]=b+g,v[_0x1d97("0xd1c")]=f+x.FloorHigh,d[_0x1d97("0x584")][_0x1d97("0x1")](v[_0x1d97("0xad8")]),d[_0x1d97("0xb7e")][v[_0x1d97("0xad8")]]={label:1,poi:1,floorBase:1,model:1,modelBase:l?0:1,model3D:0}}return d[_0x1d97("0x165")]}},{key:_0x1d97("0x988"),value:function(x,d,_){var e=o[_0x1d97("0x1c")][_0x1d97("0x531")]("buildingTheme",{themeID:x,ext:_0x1d97("0xb2")});esmap[_0x1d97("0x4d9")][_0x1d97("0x35c")]({url:e})[_0x1d97("0x356")](_)[_0x1d97("0x245")]((function(){var d=o.default[_0x1d97("0x531")](_0x1d97("0x51"),{themeID:x,ext:_0x1d97("0xc51")});esmap[_0x1d97("0x4d9")].getJSON({url:d}).success(_)}))}},{key:_0x1d97("0x98a"),value:function(x){return new e.default((function(d,_){var e=o.default.getPath(_0x1d97("0x51"),{themeID:x,ext:_0x1d97("0xb2")});esmap.Ajax[_0x1d97("0x35c")]({url:e})[_0x1d97("0x356")](d).error((function(){var e=o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x51"),{themeID:x,ext:_0x1d97("0xc51")});esmap.Ajax.getJSON({url:e}).success(d).error((function(){_(_0x1d97("0xc50")+x)}))}))}))}},{key:_0x1d97("0xd07"),value:function(x,d){return this.service[_0x1d97("0x9c1")][_0x1d97("0xd1d")]&&this[_0x1d97("0xc0e")][_0x1d97("0x9c1")][_0x1d97("0xd1d")][x]?this[_0x1d97("0xc0e")][_0x1d97("0x9c1")][_0x1d97("0xd1d")][x][1*d-1]:x}},{key:_0x1d97("0xbd2"),value:function(x){return this[_0x1d97("0x38")][_0x1d97("0x36")]===esmap.MapMode[_0x1d97("0x21b")]?this[_0x1d97("0xd1e")](x):this[_0x1d97("0xd1f")](x)}},{key:"_authCity",value:function(x){if(!this[_0x1d97("0xc6e")](x[_0x1d97("0x71")]))return c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:""+esmap[_0x1d97("0x2ad")].VERS_ERR,level:_0x1d97("0x245")}),!1;var d=x[_0x1d97("0xc82")]<32503514?x[_0x1d97("0xc82")]:x[_0x1d97("0xc82")]/1e3;return!((new Date)[_0x1d97("0x74")]()>1e6*d)||(c[_0x1d97("0xbd5")].post({msg:bname+": "+esmap[_0x1d97("0x2ad")][_0x1d97("0xd20")],level:_0x1d97("0x245")}),!1)}},{key:_0x1d97("0xd1e"),value:function(x){var d=this[_0x1d97("0xcf2")],_=d.s&&d.k,e=x.bid;if(this[_0x1d97("0xc6e")](x[_0x1d97("0x71")])){if(x[_0x1d97("0x456")]&&d[_0x1d97("0x456")])(0,n[_0x1d97("0xd23")])(_0x1d97("0xa19")+(x[_0x1d97("0xe5")]+d.logotoken))==x.logotoken&&this[_0x1d97("0xc0e")][_0x1d97("0x8f5")](_0x1d97("0x425"),!1);var t=!1;if(_){var a=(0,n.decrypt)(x.token+"editor"),i=d.k[_0x1d97("0xd7")]("&"),o=d.k;if(i>0&&(o=o[_0x1d97("0x198")](0,i),a=(0,n[_0x1d97("0xd23")])(x[_0x1d97("0x77")]+_0x1d97("0xd24"))),a!=o)return r[_0x1d97("0x31f")][_0x1d97("0x320")](2001),!1;this.service.setState("sk",!0),t=!0}g>3&&(x[_0x1d97("0xc82")]=0);var l=x.Remark;if(!(_&&t||x[_0x1d97("0x77")]===_0x1d97("0xa1b"))){var u=document[_0x1d97("0x80")],f=(0,n[_0x1d97("0xd23")])(u);if(s[_0x1d97("0xd25")][_0x1d97("0xd7")](f)<0){if(l[_0x1d97("0x0")]>1&&l[_0x1d97("0xd7")](u)<0)return r[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2002,param:[e,u,1]}),!1;if(!d[_0x1d97("0x77")])return r[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2003,param:[e,1]}),!1;if((0,n[_0x1d97("0xd23")])(""+(x._id+d.token))!=x[_0x1d97("0x77")])return r[_0x1d97("0x31f")].throw({code:2004,param:[e,1]}),!1;if(b!=h[0])return!1}}h=null,(0,n[_0x1d97("0xd23")])(x[_0x1d97("0x77")]+x[_0x1d97("0x456")]+l+x.o1+"ABC"+x.o2)!==x[_0x1d97("0x446")]&&x[_0x1d97("0x446")]!==x[_0x1d97("0x77")]&&x[_0x1d97("0x77")]!==_0x1d97("0xa1b")&&sourceHashStatus++;var v=x[_0x1d97("0xc82")]<32503514?x[_0x1d97("0xc82")]:x[_0x1d97("0xc82")]/1e3;return(new Date)[_0x1d97("0x74")]()>1e6*v?(r[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2005,param:[e,1]}),!1):(x[_0x1d97("0x45e")]&&this.service[_0x1d97("0x8f5")]("navBrand",x.adcode),this[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("ul",x.ul),this[_0x1d97("0xc0e")][_0x1d97("0x8f5")]("o2",x.o2||0),0==x[_0x1d97("0xa34")].length?(r[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2009,param:[e,1]}),!1):((x.ul>>1&1||0)<1&&(g+=1),!(g>3)||(r.MapError[_0x1d97("0x320")]({code:2011}),!1)))}c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:_this[_0x1d97("0x38")][_0x1d97("0xa7a")]+": "+esmap[_0x1d97("0x2ad")][_0x1d97("0xd21")]+_0x1d97("0xd22")+results[_0x1d97("0x71")],level:_0x1d97("0x245")})}},{key:"queryData",value:function(x){var d=x[_0x1d97("0x48")],_=x[_0x1d97("0x39")],t=x.id;return new(e[_0x1d97("0x1c")])((function(x,e){esmap.Ajax[_0x1d97("0x359")]({url:d,isArrayBuffer:!0})[_0x1d97("0x356")]((function(a){var i,s=new Uint8Array(a);b=s[0],_&&(0,n[_0x1d97("0xcf")])(t,s),h=s;try{i=u[_0x1d97("0x33")][_0x1d97("0xd26")][_0x1d97("0x45")](s)}catch(x){return r[_0x1d97("0x31f")][_0x1d97("0x320")]({code:2008,param:[t,d,1]}),c[_0x1d97("0xbd5")][_0x1d97("0x1c8")]({msg:t+": "+x.toString(),level:_0x1d97("0x245")}),void e()}x(i)})).error((function(){r[_0x1d97("0x31f")].throw({code:2007,param:[t,1]})}))}))}},{key:_0x1d97("0xbcb"),get:function(){return this.service[_0x1d97("0xbcb")]}},{key:_0x1d97("0x36"),get:function(){return this.map.mode}}]),x}();d[_0x1d97("0xcf0")]=v},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xd23")]=function(x){var d,_,e,t,a,i="QRSTUVWXYZabcdefghijklmnopqrstuv"+_0x1d97("0x596")+"wxyz0123456789+/=",n="",r="",s="",o=0;do{d=x[_0x1d97("0x2a")](o++),_=x[_0x1d97("0x2a")](o++),r=x[_0x1d97("0x2a")](o++),e=d>>4,t=(3&d)<<4|_>>4,a=(15&_)<<2|r>>6,s=63&r,isNaN(_)?a=s=64:isNaN(r)&&(s=64),n=n+i[_0x1d97("0x598")](e)+i.charAt(t)+i.charAt(a)+i.charAt(s),d=_=r="",e=t=a=s=""}while(o<x.length);return n},d.decodeByte=function(x,d){for(var _=function(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++)d[_]=x[_0x1d97("0x2a")](_);return d}(x),e=0;e<16;e++)for(var t=0;t<_[_0x1d97("0x0")];t++)d[e]=d[e]^_[t]}},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});d.domainWhiteList=["TjEySDU2TS4xSDU1TQ==",_0x1d97("0xd27"),"Wi5FSndDW3RFSGdO",_0x1d97("0xc95")]},function(x,d,_){"use strict";var e=a(_(10)),t=a(_(16));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i,n=_(65),r=n[_0x1d97("0xd28")],s=n[_0x1d97("0x441")],o=n[_0x1d97("0x442")],c=n[_0x1d97("0x443")][_0x1d97("0x1c")]||(n[_0x1d97("0x443")][_0x1d97("0x1c")]={});c[_0x1d97("0x33")]=((i={})[_0x1d97("0xd26")]=function(){function x(x){if(this.floors=[],this[_0x1d97("0x8f4")]=[],this[_0x1d97("0xd29")]=[],x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x.prototype.version=0,x[_0x1d97("0xf")][_0x1d97("0xc82")]=0,x[_0x1d97("0xf")][_0x1d97("0x446")]="",x.prototype[_0x1d97("0x170")]=0,x[_0x1d97("0xf")].Type=0,x.prototype[_0x1d97("0xb8")]="",x.prototype[_0x1d97("0x45d")]="",x[_0x1d97("0xf")].Brief="",x.prototype.adcode="",x.prototype[_0x1d97("0xd2a")]="",x.prototype.AS=0,x[_0x1d97("0xf")].BuildingHigh=0,x[_0x1d97("0xf")][_0x1d97("0xd2b")]="",x[_0x1d97("0xf")][_0x1d97("0xd2c")]=0,x[_0x1d97("0xf")].FirstRotateAngleY=0,x[_0x1d97("0xf")][_0x1d97("0xd2d")]=0,x[_0x1d97("0xf")][_0x1d97("0x8f9")]=0,x.prototype[_0x1d97("0xd15")]=0,x[_0x1d97("0xf")][_0x1d97("0x8f7")]=0,x.prototype.DefaultCenY=0,x[_0x1d97("0xf")][_0x1d97("0xd2e")]=0,x.prototype.x=0,x[_0x1d97("0xf")].y=0,x.prototype.z=0,x[_0x1d97("0xf")].minX=0,x[_0x1d97("0xf")][_0x1d97("0x44c")]=0,x[_0x1d97("0xf")][_0x1d97("0x44d")]=0,x.prototype.maxY=0,x[_0x1d97("0xf")][_0x1d97("0xd17")]="",x[_0x1d97("0xf")][_0x1d97("0x453")]="",x[_0x1d97("0xf")].FloorBarName="",x[_0x1d97("0xf")].FloorHigh=0,x[_0x1d97("0xf")][_0x1d97("0xa34")]=o[_0x1d97("0xd2f")],x[_0x1d97("0xf")][_0x1d97("0x8f4")]=o.emptyArray,x[_0x1d97("0xf")][_0x1d97("0xd29")]=o[_0x1d97("0xd2f")],x[_0x1d97("0xf")][_0x1d97("0x454")]="",x[_0x1d97("0xf")].token="",x[_0x1d97("0xf")][_0x1d97("0xe5")]="",x[_0x1d97("0xf")][_0x1d97("0x456")]="",x.prototype[_0x1d97("0x458")]="",x[_0x1d97("0xf")].o1=0,x.prototype[_0x1d97("0x463")]="",x.prototype.o2=0,x[_0x1d97("0xf")].ul=0,x.prototype.t1="",x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x71")]&&x[_0x1d97("0x2")](_0x1d97("0x71"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0x71")]),null!=x[_0x1d97("0xc82")]&&x[_0x1d97("0x2")]("maptime")&&d.uint32(16)[_0x1d97("0x45b")](x.maptime),null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&d[_0x1d97("0x45a")](26)[_0x1d97("0xe")](x.Hash),null!=x._id&&x[_0x1d97("0x2")]("_id")&&d[_0x1d97("0x45a")](32)[_0x1d97("0x45b")](x._id),null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")](_0x1d97("0xbd7"))&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0xbd7")]),null!=x.name&&x.hasOwnProperty(_0x1d97("0xb8"))&&d.uint32(50)[_0x1d97("0xe")](x[_0x1d97("0xb8")]),null!=x[_0x1d97("0x45d")]&&x[_0x1d97("0x2")](_0x1d97("0x45d"))&&d.uint32(58)[_0x1d97("0xe")](x[_0x1d97("0x45d")]),null!=x.Brief&&x[_0x1d97("0x2")]("Brief")&&d[_0x1d97("0x45a")](66).string(x[_0x1d97("0xc6a")]),null!=x.adcode&&x.hasOwnProperty(_0x1d97("0x45e"))&&d[_0x1d97("0x45a")](74)[_0x1d97("0xe")](x[_0x1d97("0x45e")]),null!=x.address&&x[_0x1d97("0x2")](_0x1d97("0xd2a"))&&d.uint32(82).string(x[_0x1d97("0xd2a")]),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&d.uint32(89).double(x.AS),null!=x[_0x1d97("0xd30")]&&x.hasOwnProperty(_0x1d97("0xd30"))&&d[_0x1d97("0x45a")](101)[_0x1d97("0xccc")](x[_0x1d97("0xd30")]),null!=x[_0x1d97("0xd2b")]&&x.hasOwnProperty(_0x1d97("0xd2b"))&&d[_0x1d97("0x45a")](106)[_0x1d97("0xe")](x[_0x1d97("0xd2b")]),null!=x.FirstRotateAngleX&&x[_0x1d97("0x2")]("FirstRotateAngleX")&&d[_0x1d97("0x45a")](113).double(x.FirstRotateAngleX),null!=x[_0x1d97("0xd31")]&&x[_0x1d97("0x2")](_0x1d97("0xd31"))&&d.uint32(121)[_0x1d97("0x45f")](x[_0x1d97("0xd31")]),null!=x.FirstRotateAngleZ&&x.hasOwnProperty("FirstRotateAngleZ")&&d[_0x1d97("0x45a")](129)[_0x1d97("0x45f")](x[_0x1d97("0xd2d")]),null!=x[_0x1d97("0x8f9")]&&x[_0x1d97("0x2")]("Firstscale")&&d[_0x1d97("0x45a")](137)[_0x1d97("0x45f")](x.Firstscale),null!=x.DefaultFnum&&x[_0x1d97("0x2")](_0x1d97("0xd15"))&&d.uint32(144)[_0x1d97("0x45b")](x[_0x1d97("0xd15")]),null!=x.DefaultCenX&&x.hasOwnProperty("DefaultCenX")&&d.uint32(153).double(x.DefaultCenX),null!=x[_0x1d97("0x8f8")]&&x[_0x1d97("0x2")](_0x1d97("0x8f8"))&&d[_0x1d97("0x45a")](161)[_0x1d97("0x45f")](x[_0x1d97("0x8f8")]),null!=x[_0x1d97("0xd2e")]&&x[_0x1d97("0x2")](_0x1d97("0xd2e"))&&d[_0x1d97("0x45a")](169)[_0x1d97("0x45f")](x.DefaultCenZ),null!=x.x&&x.hasOwnProperty("x")&&d.uint32(177).double(x.x),null!=x.y&&x[_0x1d97("0x2")]("y")&&d[_0x1d97("0x45a")](185)[_0x1d97("0x45f")](x.y),null!=x.z&&x[_0x1d97("0x2")]("z")&&d.uint32(193)[_0x1d97("0x45f")](x.z),null!=x.minX&&x[_0x1d97("0x2")](_0x1d97("0x449"))&&d[_0x1d97("0x45a")](201)[_0x1d97("0x45f")](x[_0x1d97("0x449")]),null!=x[_0x1d97("0x44c")]&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&d[_0x1d97("0x45a")](209)[_0x1d97("0x45f")](x.minY),null!=x.maxX&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&d[_0x1d97("0x45a")](217).double(x[_0x1d97("0x44d")]),null!=x[_0x1d97("0x44e")]&&x[_0x1d97("0x2")](_0x1d97("0x44e"))&&d.uint32(225)[_0x1d97("0x45f")](x[_0x1d97("0x44e")]),null!=x[_0x1d97("0xd17")]&&x[_0x1d97("0x2")]("ScaleLevel")&&d[_0x1d97("0x45a")](234)[_0x1d97("0xe")](x[_0x1d97("0xd17")]),null!=x[_0x1d97("0x453")]&&x[_0x1d97("0x2")](_0x1d97("0x453"))&&d.uint32(242)[_0x1d97("0xe")](x[_0x1d97("0x453")]),null!=x[_0x1d97("0xd32")]&&x[_0x1d97("0x2")](_0x1d97("0xd32"))&&d[_0x1d97("0x45a")](250)[_0x1d97("0xe")](x[_0x1d97("0xd32")]),null!=x.FloorHigh&&x[_0x1d97("0x2")](_0x1d97("0xd33"))&&d.uint32(256)[_0x1d97("0x45b")](x[_0x1d97("0xd33")]),null!=x[_0x1d97("0xa34")]&&x[_0x1d97("0xa34")][_0x1d97("0x0")])for(var _=0;_<x[_0x1d97("0xa34")][_0x1d97("0x0")];++_)c.ESMap[_0x1d97("0xd34")][_0x1d97("0x467")](x[_0x1d97("0xa34")][_],d[_0x1d97("0x45a")](266)[_0x1d97("0xc99")]()).ldelim();if(null!=x.navs&&x[_0x1d97("0x8f4")][_0x1d97("0x0")])for(_=0;_<x[_0x1d97("0x8f4")][_0x1d97("0x0")];++_)c[_0x1d97("0x33")][_0x1d97("0xd35")].encode(x.navs[_],d[_0x1d97("0x45a")](274)[_0x1d97("0xc99")]()).ldelim();if(null!=x.panos&&x[_0x1d97("0xd29")][_0x1d97("0x0")])for(_=0;_<x.panos.length;++_)c[_0x1d97("0x33")].PicSet[_0x1d97("0x467")](x.panos[_],d[_0x1d97("0x45a")](282).fork())[_0x1d97("0xc9b")]();return null!=x.styleid&&x[_0x1d97("0x2")]("styleid")&&d[_0x1d97("0x45a")](290)[_0x1d97("0xe")](x[_0x1d97("0x454")]),null!=x.token&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&d[_0x1d97("0x45a")](298).string(x[_0x1d97("0x77")]),null!=x[_0x1d97("0xe5")]&&x[_0x1d97("0x2")](_0x1d97("0xe5"))&&d.uint32(306)[_0x1d97("0xe")](x.bid),null!=x[_0x1d97("0x456")]&&x[_0x1d97("0x2")](_0x1d97("0x456"))&&d[_0x1d97("0x45a")](314)[_0x1d97("0xe")](x[_0x1d97("0x456")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d[_0x1d97("0x45a")](322)[_0x1d97("0xe")](x.other1),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&d[_0x1d97("0x45a")](328)[_0x1d97("0x45b")](x.o1),null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&d[_0x1d97("0x45a")](338)[_0x1d97("0xe")](x[_0x1d97("0x463")]),null!=x.o2&&x.hasOwnProperty("o2")&&d[_0x1d97("0x45a")](344).int32(x.o2),null!=x.ul&&x[_0x1d97("0x2")]("ul")&&d[_0x1d97("0x45a")](352).int32(x.ul),null!=x.t1&&x[_0x1d97("0x2")]("t1")&&d[_0x1d97("0x45a")](362)[_0x1d97("0xe")](x.t1),d},x.encodeDelimited=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xd26")]);x.pos<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x71")]=x.int32();break;case 2:e[_0x1d97("0xc82")]=x.int32();break;case 3:e.Hash=x[_0x1d97("0xe")]();break;case 4:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 5:e[_0x1d97("0xbd7")]=x[_0x1d97("0x45b")]();break;case 6:e.name=x.string();break;case 7:e[_0x1d97("0x45d")]=x.string();break;case 8:e.Brief=x[_0x1d97("0xe")]();break;case 9:e.adcode=x[_0x1d97("0xe")]();break;case 10:e.address=x[_0x1d97("0xe")]();break;case 11:e.AS=x[_0x1d97("0x45f")]();break;case 12:e[_0x1d97("0xd30")]=x[_0x1d97("0xccc")]();break;case 13:e.Tel=x[_0x1d97("0xe")]();break;case 14:e.FirstRotateAngleX=x[_0x1d97("0x45f")]();break;case 15:e[_0x1d97("0xd31")]=x[_0x1d97("0x45f")]();break;case 16:e.FirstRotateAngleZ=x[_0x1d97("0x45f")]();break;case 17:e[_0x1d97("0x8f9")]=x.double();break;case 18:e[_0x1d97("0xd15")]=x[_0x1d97("0x45b")]();break;case 19:e[_0x1d97("0x8f7")]=x[_0x1d97("0x45f")]();break;case 20:e.DefaultCenY=x[_0x1d97("0x45f")]();break;case 21:e[_0x1d97("0xd2e")]=x[_0x1d97("0x45f")]();break;case 22:e.x=x[_0x1d97("0x45f")]();break;case 23:e.y=x[_0x1d97("0x45f")]();break;case 24:e.z=x[_0x1d97("0x45f")]();break;case 25:e[_0x1d97("0x449")]=x[_0x1d97("0x45f")]();break;case 26:e[_0x1d97("0x44c")]=x.double();break;case 27:e[_0x1d97("0x44d")]=x.double();break;case 28:e[_0x1d97("0x44e")]=x[_0x1d97("0x45f")]();break;case 29:e[_0x1d97("0xd17")]=x[_0x1d97("0xe")]();break;case 30:e[_0x1d97("0x453")]=x[_0x1d97("0xe")]();break;case 31:e[_0x1d97("0xd32")]=x[_0x1d97("0xe")]();break;case 32:e[_0x1d97("0xd33")]=x[_0x1d97("0x45b")]();break;case 33:e.floors&&e.floors[_0x1d97("0x0")]||(e.floors=[]),e.floors.push(c.ESMap[_0x1d97("0xd34")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]()));break;case 34:e[_0x1d97("0x8f4")]&&e[_0x1d97("0x8f4")][_0x1d97("0x0")]||(e[_0x1d97("0x8f4")]=[]),e[_0x1d97("0x8f4")][_0x1d97("0x1")](c[_0x1d97("0x33")].NavSet[_0x1d97("0x45")](x,x.uint32()));break;case 35:e[_0x1d97("0xd29")]&&e[_0x1d97("0xd29")].length||(e[_0x1d97("0xd29")]=[]),e.panos[_0x1d97("0x1")](c[_0x1d97("0x33")][_0x1d97("0xd36")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]()));break;case 36:e[_0x1d97("0x454")]=x[_0x1d97("0xe")]();break;case 37:e.token=x[_0x1d97("0xe")]();break;case 38:e[_0x1d97("0xe5")]=x[_0x1d97("0xe")]();break;case 39:e[_0x1d97("0x456")]=x[_0x1d97("0xe")]();break;case 40:e[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;case 41:e.o1=x[_0x1d97("0x45b")]();break;case 42:e[_0x1d97("0x463")]=x[_0x1d97("0xe")]();break;case 43:e.o2=x[_0x1d97("0x45b")]();break;case 44:e.ul=x.int32();break;case 45:e.t1=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){if((void 0===x?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x[_0x1d97("0x71")]&&x[_0x1d97("0x2")](_0x1d97("0x71"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x71")]))return _0x1d97("0xd37");if(null!=x[_0x1d97("0xc82")]&&x[_0x1d97("0x2")](_0x1d97("0xc82"))&&!o[_0x1d97("0x46d")](x.maptime))return _0x1d97("0xd38");if(null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x446")]))return"Hash: string expected";if(null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x._id))return _0x1d97("0x471");if(null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")](_0x1d97("0xbd7"))&&!o.isInteger(x[_0x1d97("0xbd7")]))return _0x1d97("0xc9e");if(null!=x[_0x1d97("0xb8")]&&x.hasOwnProperty("name")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xb8")]))return _0x1d97("0xd39");if(null!=x[_0x1d97("0x45d")]&&x[_0x1d97("0x2")](_0x1d97("0x45d"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x45d")]))return"nameEn: string expected";if(null!=x.Brief&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&!o.isString(x.Brief))return _0x1d97("0xd3a");if(null!=x.adcode&&x[_0x1d97("0x2")](_0x1d97("0x45e"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x45e")]))return _0x1d97("0x473");if(null!=x[_0x1d97("0xd2a")]&&x.hasOwnProperty(_0x1d97("0xd2a"))&&!o.isString(x[_0x1d97("0xd2a")]))return _0x1d97("0xd3b");if(null!=x.AS&&x[_0x1d97("0x2")]("AS")&&typeof x.AS!==_0x1d97("0x13d"))return _0x1d97("0xd3c");if(null!=x[_0x1d97("0xd30")]&&x.hasOwnProperty("BuildingHigh")&&typeof x[_0x1d97("0xd30")]!==_0x1d97("0x13d"))return"BuildingHigh: number expected";if(null!=x[_0x1d97("0xd2b")]&&x.hasOwnProperty(_0x1d97("0xd2b"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd2b")]))return _0x1d97("0xd3d");if(null!=x.FirstRotateAngleX&&x[_0x1d97("0x2")](_0x1d97("0xd2c"))&&typeof x[_0x1d97("0xd2c")]!==_0x1d97("0x13d"))return _0x1d97("0xd3e");if(null!=x.FirstRotateAngleY&&x[_0x1d97("0x2")](_0x1d97("0xd31"))&&"number"!=typeof x[_0x1d97("0xd31")])return _0x1d97("0xd3f");if(null!=x[_0x1d97("0xd2d")]&&x[_0x1d97("0x2")](_0x1d97("0xd2d"))&&"number"!=typeof x.FirstRotateAngleZ)return _0x1d97("0xd40");if(null!=x[_0x1d97("0x8f9")]&&x[_0x1d97("0x2")](_0x1d97("0x8f9"))&&typeof x[_0x1d97("0x8f9")]!==_0x1d97("0x13d"))return _0x1d97("0xd41");if(null!=x[_0x1d97("0xd15")]&&x[_0x1d97("0x2")](_0x1d97("0xd15"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xd15")]))return"DefaultFnum: integer expected";if(null!=x.DefaultCenX&&x.hasOwnProperty(_0x1d97("0x8f7"))&&"number"!=typeof x[_0x1d97("0x8f7")])return _0x1d97("0xd42");if(null!=x[_0x1d97("0x8f8")]&&x[_0x1d97("0x2")](_0x1d97("0x8f8"))&&typeof x.DefaultCenY!==_0x1d97("0x13d"))return _0x1d97("0xd43");if(null!=x[_0x1d97("0xd2e")]&&x[_0x1d97("0x2")](_0x1d97("0xd2e"))&&"number"!=typeof x[_0x1d97("0xd2e")])return _0x1d97("0xd44");if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x1d97("0x13d"))return"x: number expected";if(null!=x.y&&x[_0x1d97("0x2")]("y")&&typeof x.y!==_0x1d97("0x13d"))return _0x1d97("0xd45");if(null!=x.z&&x[_0x1d97("0x2")]("z")&&typeof x.z!==_0x1d97("0x13d"))return _0x1d97("0x478");if(null!=x[_0x1d97("0x449")]&&x.hasOwnProperty(_0x1d97("0x449"))&&"number"!=typeof x[_0x1d97("0x449")])return _0x1d97("0xd46");if(null!=x[_0x1d97("0x44c")]&&x[_0x1d97("0x2")](_0x1d97("0x44c"))&&"number"!=typeof x[_0x1d97("0x44c")])return _0x1d97("0xc9f");if(null!=x.maxX&&x[_0x1d97("0x2")]("maxX")&&typeof x[_0x1d97("0x44d")]!==_0x1d97("0x13d"))return _0x1d97("0xd47");if(null!=x.maxY&&x[_0x1d97("0x2")]("maxY")&&"number"!=typeof x[_0x1d97("0x44e")])return _0x1d97("0xca0");if(null!=x[_0x1d97("0xd17")]&&x[_0x1d97("0x2")]("ScaleLevel")&&!o.isString(x[_0x1d97("0xd17")]))return _0x1d97("0xd48");if(null!=x.Remark&&x.hasOwnProperty("Remark")&&!o.isString(x.Remark))return"Remark: string expected";if(null!=x[_0x1d97("0xd32")]&&x[_0x1d97("0x2")]("FloorBarName")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd32")]))return _0x1d97("0xd49");if(null!=x[_0x1d97("0xd33")]&&x[_0x1d97("0x2")]("FloorHigh")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xd33")]))return"FloorHigh: integer expected";if(null!=x[_0x1d97("0xa34")]&&x[_0x1d97("0x2")](_0x1d97("0xa34"))){if(!Array[_0x1d97("0x547")](x[_0x1d97("0xa34")]))return _0x1d97("0xd4a");for(var d=0;d<x[_0x1d97("0xa34")][_0x1d97("0x0")];++d)if(_=c.ESMap[_0x1d97("0xd34")][_0x1d97("0x46b")](x.floors[d]))return _0x1d97("0xd4b")+_}if(null!=x[_0x1d97("0x8f4")]&&x[_0x1d97("0x2")](_0x1d97("0x8f4"))){if(!Array[_0x1d97("0x547")](x[_0x1d97("0x8f4")]))return _0x1d97("0xd4c");for(d=0;d<x[_0x1d97("0x8f4")][_0x1d97("0x0")];++d)if(_=c[_0x1d97("0x33")].NavSet[_0x1d97("0x46b")](x[_0x1d97("0x8f4")][d]))return _0x1d97("0xd4d")+_}if(null!=x.panos&&x.hasOwnProperty(_0x1d97("0xd29"))){if(!Array[_0x1d97("0x547")](x[_0x1d97("0xd29")]))return _0x1d97("0xd4e");for(d=0;d<x[_0x1d97("0xd29")][_0x1d97("0x0")];++d){var _;if(_=c[_0x1d97("0x33")][_0x1d97("0xd36")].verify(x[_0x1d97("0xd29")][d]))return _0x1d97("0xd4f")+_}}return null!=x[_0x1d97("0x454")]&&x[_0x1d97("0x2")]("styleid")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x454")])?_0x1d97("0x483"):null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&!o[_0x1d97("0x1d1")](x.token)?"token: string expected":null!=x[_0x1d97("0xe5")]&&x[_0x1d97("0x2")]("bid")&&!o[_0x1d97("0x1d1")](x.bid)?_0x1d97("0xd50"):null!=x[_0x1d97("0x456")]&&x[_0x1d97("0x2")]("logotoken")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x456")])?_0x1d97("0x486"):null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!o.isString(x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.o1&&x[_0x1d97("0x2")]("o1")&&!o[_0x1d97("0x46d")](x.o1)?_0x1d97("0x488"):null!=x[_0x1d97("0x463")]&&x.hasOwnProperty(_0x1d97("0x463"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x463")])?"other2: string expected":null!=x.o2&&x.hasOwnProperty("o2")&&!o[_0x1d97("0x46d")](x.o2)?"o2: integer expected":null!=x.ul&&x[_0x1d97("0x2")]("ul")&&!o[_0x1d97("0x46d")](x.ul)?_0x1d97("0x48a"):null!=x.t1&&x[_0x1d97("0x2")]("t1")&&!o[_0x1d97("0x1d1")](x.t1)?_0x1d97("0xca6"):null},x.fromObject=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd26")])return x;var d=new(c[_0x1d97("0x33")][_0x1d97("0xd26")]);if(null!=x[_0x1d97("0x71")]&&(d[_0x1d97("0x71")]=0|x[_0x1d97("0x71")]),null!=x.maptime&&(d.maptime=0|x[_0x1d97("0xc82")]),null!=x[_0x1d97("0x446")]&&(d[_0x1d97("0x446")]=String(x[_0x1d97("0x446")])),null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&(d[_0x1d97("0xbd7")]=0|x[_0x1d97("0xbd7")]),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x.name)),null!=x[_0x1d97("0x45d")]&&(d[_0x1d97("0x45d")]=String(x.nameEn)),null!=x.Brief&&(d[_0x1d97("0xc6a")]=String(x.Brief)),null!=x[_0x1d97("0x45e")]&&(d[_0x1d97("0x45e")]=String(x.adcode)),null!=x[_0x1d97("0xd2a")]&&(d[_0x1d97("0xd2a")]=String(x[_0x1d97("0xd2a")])),null!=x.AS&&(d.AS=Number(x.AS)),null!=x.BuildingHigh&&(d.BuildingHigh=Number(x.BuildingHigh)),null!=x[_0x1d97("0xd2b")]&&(d.Tel=String(x[_0x1d97("0xd2b")])),null!=x[_0x1d97("0xd2c")]&&(d[_0x1d97("0xd2c")]=Number(x[_0x1d97("0xd2c")])),null!=x.FirstRotateAngleY&&(d[_0x1d97("0xd31")]=Number(x.FirstRotateAngleY)),null!=x[_0x1d97("0xd2d")]&&(d.FirstRotateAngleZ=Number(x.FirstRotateAngleZ)),null!=x[_0x1d97("0x8f9")]&&(d[_0x1d97("0x8f9")]=Number(x[_0x1d97("0x8f9")])),null!=x[_0x1d97("0xd15")]&&(d[_0x1d97("0xd15")]=0|x[_0x1d97("0xd15")]),null!=x[_0x1d97("0x8f7")]&&(d[_0x1d97("0x8f7")]=Number(x[_0x1d97("0x8f7")])),null!=x[_0x1d97("0x8f8")]&&(d.DefaultCenY=Number(x.DefaultCenY)),null!=x.DefaultCenZ&&(d[_0x1d97("0xd2e")]=Number(x[_0x1d97("0xd2e")])),null!=x.x&&(d.x=Number(x.x)),null!=x.y&&(d.y=Number(x.y)),null!=x.z&&(d.z=Number(x.z)),null!=x.minX&&(d.minX=Number(x[_0x1d97("0x449")])),null!=x[_0x1d97("0x44c")]&&(d[_0x1d97("0x44c")]=Number(x[_0x1d97("0x44c")])),null!=x.maxX&&(d[_0x1d97("0x44d")]=Number(x[_0x1d97("0x44d")])),null!=x.maxY&&(d[_0x1d97("0x44e")]=Number(x[_0x1d97("0x44e")])),null!=x[_0x1d97("0xd17")]&&(d[_0x1d97("0xd17")]=String(x[_0x1d97("0xd17")])),null!=x[_0x1d97("0x453")]&&(d[_0x1d97("0x453")]=String(x[_0x1d97("0x453")])),null!=x.FloorBarName&&(d.FloorBarName=String(x[_0x1d97("0xd32")])),null!=x[_0x1d97("0xd33")]&&(d.FloorHigh=0|x[_0x1d97("0xd33")]),x[_0x1d97("0xa34")]){if(!Array[_0x1d97("0x547")](x[_0x1d97("0xa34")]))throw TypeError(_0x1d97("0xd51"));d.floors=[];for(var _=0;_<x[_0x1d97("0xa34")][_0x1d97("0x0")];++_){if((0,e[_0x1d97("0x1c")])(x.floors[_])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd52"));d[_0x1d97("0xa34")][_]=c[_0x1d97("0x33")].FloorSet[_0x1d97("0x494")](x.floors[_])}}if(x[_0x1d97("0x8f4")]){if(!Array.isArray(x[_0x1d97("0x8f4")]))throw TypeError(".ESMap.ESMapSet.navs: array expected");for(d.navs=[],_=0;_<x[_0x1d97("0x8f4")][_0x1d97("0x0")];++_){if((0,e.default)(x[_0x1d97("0x8f4")][_])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd53"));d[_0x1d97("0x8f4")][_]=c[_0x1d97("0x33")].NavSet[_0x1d97("0x494")](x[_0x1d97("0x8f4")][_])}}if(x.panos){if(!Array.isArray(x[_0x1d97("0xd29")]))throw TypeError(_0x1d97("0xd54"));for(d[_0x1d97("0xd29")]=[],_=0;_<x[_0x1d97("0xd29")].length;++_){if((0,e.default)(x[_0x1d97("0xd29")][_])!==_0x1d97("0xc"))throw TypeError(".ESMap.ESMapSet.panos: object expected");d.panos[_]=c[_0x1d97("0x33")][_0x1d97("0xd36")][_0x1d97("0x494")](x[_0x1d97("0xd29")][_])}}return null!=x[_0x1d97("0x454")]&&(d[_0x1d97("0x454")]=String(x[_0x1d97("0x454")])),null!=x.token&&(d[_0x1d97("0x77")]=String(x[_0x1d97("0x77")])),null!=x.bid&&(d[_0x1d97("0xe5")]=String(x.bid)),null!=x[_0x1d97("0x456")]&&(d.logotoken=String(x[_0x1d97("0x456")])),null!=x[_0x1d97("0x458")]&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),null!=x.o1&&(d.o1=0|x.o1),null!=x.other2&&(d[_0x1d97("0x463")]=String(x[_0x1d97("0x463")])),null!=x.o2&&(d.o2=0|x.o2),null!=x.ul&&(d.ul=0|x.ul),null!=x.t1&&(d.t1=String(x.t1)),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};if((d[_0x1d97("0xd55")]||d[_0x1d97("0x499")])&&(_[_0x1d97("0xa34")]=[],_[_0x1d97("0x8f4")]=[],_.panos=[]),d[_0x1d97("0x499")]&&(_.version=0,_[_0x1d97("0xc82")]=0,_[_0x1d97("0x446")]="",_[_0x1d97("0x170")]=0,_.Type=0,_[_0x1d97("0xb8")]="",_[_0x1d97("0x45d")]="",_[_0x1d97("0xc6a")]="",_[_0x1d97("0x45e")]="",_.address="",_.AS=0,_[_0x1d97("0xd30")]=0,_[_0x1d97("0xd2b")]="",_[_0x1d97("0xd2c")]=0,_[_0x1d97("0xd31")]=0,_[_0x1d97("0xd2d")]=0,_[_0x1d97("0x8f9")]=0,_[_0x1d97("0xd15")]=0,_[_0x1d97("0x8f7")]=0,_.DefaultCenY=0,_.DefaultCenZ=0,_.x=0,_.y=0,_.z=0,_[_0x1d97("0x449")]=0,_.minY=0,_[_0x1d97("0x44d")]=0,_[_0x1d97("0x44e")]=0,_[_0x1d97("0xd17")]="",_[_0x1d97("0x453")]="",_[_0x1d97("0xd32")]="",_[_0x1d97("0xd33")]=0,_[_0x1d97("0x454")]="",_[_0x1d97("0x77")]="",_[_0x1d97("0xe5")]="",_[_0x1d97("0x456")]="",_[_0x1d97("0x458")]="",_.o1=0,_[_0x1d97("0x463")]="",_.o2=0,_.ul=0,_.t1=""),null!=x.version&&x.hasOwnProperty(_0x1d97("0x71"))&&(_[_0x1d97("0x71")]=x.version),null!=x.maptime&&x.hasOwnProperty(_0x1d97("0xc82"))&&(_[_0x1d97("0xc82")]=x.maptime),null!=x[_0x1d97("0x446")]&&x[_0x1d97("0x2")](_0x1d97("0x446"))&&(_[_0x1d97("0x446")]=x.Hash),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x[_0x1d97("0xbd7")]&&x[_0x1d97("0x2")]("Type")&&(_[_0x1d97("0xbd7")]=x[_0x1d97("0xbd7")]),null!=x.name&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&(_.name=x[_0x1d97("0xb8")]),null!=x[_0x1d97("0x45d")]&&x[_0x1d97("0x2")](_0x1d97("0x45d"))&&(_[_0x1d97("0x45d")]=x.nameEn),null!=x[_0x1d97("0xc6a")]&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&(_.Brief=x[_0x1d97("0xc6a")]),null!=x[_0x1d97("0x45e")]&&x[_0x1d97("0x2")]("adcode")&&(_[_0x1d97("0x45e")]=x[_0x1d97("0x45e")]),null!=x.address&&x[_0x1d97("0x2")](_0x1d97("0xd2a"))&&(_[_0x1d97("0xd2a")]=x[_0x1d97("0xd2a")]),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&(_.AS=x.AS),null!=x[_0x1d97("0xd30")]&&x.hasOwnProperty(_0x1d97("0xd30"))&&(_[_0x1d97("0xd30")]=x.BuildingHigh),null!=x[_0x1d97("0xd2b")]&&x[_0x1d97("0x2")](_0x1d97("0xd2b"))&&(_.Tel=x[_0x1d97("0xd2b")]),null!=x[_0x1d97("0xd2c")]&&x[_0x1d97("0x2")](_0x1d97("0xd2c"))&&(_[_0x1d97("0xd2c")]=x.FirstRotateAngleX),null!=x.FirstRotateAngleY&&x.hasOwnProperty("FirstRotateAngleY")&&(_[_0x1d97("0xd31")]=x[_0x1d97("0xd31")]),null!=x[_0x1d97("0xd2d")]&&x[_0x1d97("0x2")](_0x1d97("0xd2d"))&&(_[_0x1d97("0xd2d")]=x[_0x1d97("0xd2d")]),null!=x.Firstscale&&x[_0x1d97("0x2")](_0x1d97("0x8f9"))&&(_.Firstscale=x[_0x1d97("0x8f9")]),null!=x[_0x1d97("0xd15")]&&x.hasOwnProperty(_0x1d97("0xd15"))&&(_[_0x1d97("0xd15")]=x.DefaultFnum),null!=x[_0x1d97("0x8f7")]&&x[_0x1d97("0x2")]("DefaultCenX")&&(_[_0x1d97("0x8f7")]=x[_0x1d97("0x8f7")]),null!=x[_0x1d97("0x8f8")]&&x[_0x1d97("0x2")](_0x1d97("0x8f8"))&&(_[_0x1d97("0x8f8")]=x[_0x1d97("0x8f8")]),null!=x[_0x1d97("0xd2e")]&&x[_0x1d97("0x2")](_0x1d97("0xd2e"))&&(_[_0x1d97("0xd2e")]=x[_0x1d97("0xd2e")]),null!=x.x&&x[_0x1d97("0x2")]("x")&&(_.x=x.x),null!=x.y&&x.hasOwnProperty("y")&&(_.y=x.y),null!=x.z&&x[_0x1d97("0x2")]("z")&&(_.z=x.z),null!=x[_0x1d97("0x449")]&&x[_0x1d97("0x2")]("minX")&&(_.minX=x[_0x1d97("0x449")]),null!=x.minY&&x[_0x1d97("0x2")]("minY")&&(_[_0x1d97("0x44c")]=x[_0x1d97("0x44c")]),null!=x[_0x1d97("0x44d")]&&x[_0x1d97("0x2")](_0x1d97("0x44d"))&&(_[_0x1d97("0x44d")]=x.maxX),null!=x[_0x1d97("0x44e")]&&x.hasOwnProperty(_0x1d97("0x44e"))&&(_[_0x1d97("0x44e")]=x[_0x1d97("0x44e")]),null!=x[_0x1d97("0xd17")]&&x[_0x1d97("0x2")](_0x1d97("0xd17"))&&(_[_0x1d97("0xd17")]=x[_0x1d97("0xd17")]),null!=x.Remark&&x[_0x1d97("0x2")](_0x1d97("0x453"))&&(_[_0x1d97("0x453")]=x[_0x1d97("0x453")]),null!=x[_0x1d97("0xd32")]&&x[_0x1d97("0x2")]("FloorBarName")&&(_[_0x1d97("0xd32")]=x[_0x1d97("0xd32")]),null!=x.FloorHigh&&x[_0x1d97("0x2")](_0x1d97("0xd33"))&&(_[_0x1d97("0xd33")]=x[_0x1d97("0xd33")]),x.floors&&x[_0x1d97("0xa34")][_0x1d97("0x0")]){_[_0x1d97("0xa34")]=[];for(var e=0;e<x[_0x1d97("0xa34")].length;++e)_[_0x1d97("0xa34")][e]=c[_0x1d97("0x33")][_0x1d97("0xd34")][_0x1d97("0x49d")](x[_0x1d97("0xa34")][e],d)}if(x[_0x1d97("0x8f4")]&&x[_0x1d97("0x8f4")][_0x1d97("0x0")])for(_[_0x1d97("0x8f4")]=[],e=0;e<x.navs[_0x1d97("0x0")];++e)_[_0x1d97("0x8f4")][e]=c[_0x1d97("0x33")][_0x1d97("0xd35")][_0x1d97("0x49d")](x.navs[e],d);if(x[_0x1d97("0xd29")]&&x[_0x1d97("0xd29")].length)for(_[_0x1d97("0xd29")]=[],e=0;e<x[_0x1d97("0xd29")].length;++e)_[_0x1d97("0xd29")][e]=c[_0x1d97("0x33")][_0x1d97("0xd36")][_0x1d97("0x49d")](x.panos[e],d);return null!=x[_0x1d97("0x454")]&&x.hasOwnProperty(_0x1d97("0x454"))&&(_[_0x1d97("0x454")]=x[_0x1d97("0x454")]),null!=x[_0x1d97("0x77")]&&x[_0x1d97("0x2")](_0x1d97("0x77"))&&(_[_0x1d97("0x77")]=x[_0x1d97("0x77")]),null!=x[_0x1d97("0xe5")]&&x[_0x1d97("0x2")](_0x1d97("0xe5"))&&(_[_0x1d97("0xe5")]=x.bid),null!=x[_0x1d97("0x456")]&&x[_0x1d97("0x2")](_0x1d97("0x456"))&&(_[_0x1d97("0x456")]=x[_0x1d97("0x456")]),null!=x.other1&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x[_0x1d97("0x458")]),null!=x.o1&&x[_0x1d97("0x2")]("o1")&&(_.o1=x.o1),null!=x[_0x1d97("0x463")]&&x.hasOwnProperty(_0x1d97("0x463"))&&(_[_0x1d97("0x463")]=x.other2),null!=x.o2&&x.hasOwnProperty("o2")&&(_.o2=x.o2),null!=x.ul&&x[_0x1d97("0x2")]("ul")&&(_.ul=x.ul),null!=x.t1&&x[_0x1d97("0x2")]("t1")&&(_.t1=x.t1),_},x[_0x1d97("0xf")].toObject=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x.prototype.toJSON=function(){return this.constructor.toObject(this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i.FloorSet=function(){function x(x){if(this[_0x1d97("0xc97")]={},this[_0x1d97("0xd11")]={},this[_0x1d97("0x166")]={},this[_0x1d97("0xd13")]={},x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x.prototype.floornum=0,x.prototype[_0x1d97("0xd1b")]=0,x[_0x1d97("0xf")][_0x1d97("0xb8")]="",x.prototype[_0x1d97("0xa7c")]="",x[_0x1d97("0xf")].AS=0,x[_0x1d97("0xf")][_0x1d97("0x31e")]=0,x[_0x1d97("0xf")][_0x1d97("0xd16")]=0,x[_0x1d97("0xf")].Outline="",x[_0x1d97("0xf")][_0x1d97("0xd56")]="",x[_0x1d97("0xf")][_0x1d97("0xc97")]=o.emptyObject,x[_0x1d97("0xf")][_0x1d97("0xd11")]=o[_0x1d97("0xc98")],x[_0x1d97("0xf")][_0x1d97("0x166")]=o[_0x1d97("0xc98")],x[_0x1d97("0xf")][_0x1d97("0xd13")]=o[_0x1d97("0xc98")],x[_0x1d97("0xf")].image="",x.prototype[_0x1d97("0xd57")]="",x[_0x1d97("0xf")][_0x1d97("0x458")]="",x[_0x1d97("0xf")][_0x1d97("0x463")]="",x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x[_0x1d97("0xad8")]),null!=x[_0x1d97("0xd1b")]&&x[_0x1d97("0x2")](_0x1d97("0xd1b"))&&d[_0x1d97("0x45a")](24)[_0x1d97("0x45b")](x[_0x1d97("0xd1b")]),null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&d[_0x1d97("0x45a")](34).string(x.name),null!=x.NameEn&&x.hasOwnProperty(_0x1d97("0xa7c"))&&d.uint32(42)[_0x1d97("0xe")](x.NameEn),null!=x.AS&&x.hasOwnProperty("AS")&&d[_0x1d97("0x45a")](49).double(x.AS),null!=x[_0x1d97("0x31e")]&&x[_0x1d97("0x2")]("Height")&&d[_0x1d97("0x45a")](56).int32(x.Height),null!=x[_0x1d97("0xd16")]&&x[_0x1d97("0x2")](_0x1d97("0xd16"))&&d[_0x1d97("0x45a")](64)[_0x1d97("0x45b")](x[_0x1d97("0xd16")]),null!=x.Outline&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&d.uint32(74)[_0x1d97("0xe")](x[_0x1d97("0xcaa")]),null!=x[_0x1d97("0xd56")]&&x.hasOwnProperty(_0x1d97("0xd56"))&&d[_0x1d97("0x45a")](82)[_0x1d97("0xe")](x[_0x1d97("0xd56")]),null!=x[_0x1d97("0xc97")]&&x[_0x1d97("0x2")]("Rooms"))for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc97")]),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](90)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c.ESMap[_0x1d97("0xc9a")][_0x1d97("0x467")](x[_0x1d97("0xc97")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]().ldelim();if(null!=x[_0x1d97("0xd11")]&&x[_0x1d97("0x2")]("Facility"))for(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd11")]),e=0;e<_.length;++e)d[_0x1d97("0x45a")](98).fork().uint32(8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")].POISet[_0x1d97("0x467")](x.Facility[_[e]],d[_0x1d97("0x45a")](18).fork())[_0x1d97("0xc9b")]().ldelim();if(null!=x[_0x1d97("0x166")]&&x[_0x1d97("0x2")](_0x1d97("0x166")))for(_=(0,t.default)(x[_0x1d97("0x166")]),e=0;e<_.length;++e)d.uint32(106)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")][_0x1d97("0xc9c")][_0x1d97("0x467")](x.Labels[_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]()).ldelim().ldelim();if(null!=x[_0x1d97("0xd13")]&&x.hasOwnProperty(_0x1d97("0xd13")))for(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd13")]),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](114)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")].LiftSet[_0x1d97("0x467")](x[_0x1d97("0xd13")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]()).ldelim()[_0x1d97("0xc9b")]();return null!=x.image&&x[_0x1d97("0x2")]("image")&&d.uint32(122).string(x[_0x1d97("0x173")]),null!=x[_0x1d97("0xd57")]&&x[_0x1d97("0x2")](_0x1d97("0xd57"))&&d[_0x1d97("0x45a")](130)[_0x1d97("0xe")](x.imagesize),null!=x.other1&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d[_0x1d97("0x45a")](138)[_0x1d97("0xe")](x.other1),null!=x[_0x1d97("0x463")]&&x.hasOwnProperty(_0x1d97("0x463"))&&d[_0x1d97("0x45a")](146).string(x[_0x1d97("0x463")]),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _,e=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,t=new(c[_0x1d97("0x33")][_0x1d97("0xd34")]);x.pos<e;){var a=x[_0x1d97("0x45a")]();switch(a>>>3){case 1:t[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 2:t[_0x1d97("0xad8")]=x.int32();break;case 3:t.floornumtext=x[_0x1d97("0x45b")]();break;case 4:t[_0x1d97("0xb8")]=x[_0x1d97("0xe")]();break;case 5:t[_0x1d97("0xa7c")]=x[_0x1d97("0xe")]();break;case 6:t.AS=x[_0x1d97("0x45f")]();break;case 7:t[_0x1d97("0x31e")]=x[_0x1d97("0x45b")]();break;case 8:t[_0x1d97("0xd16")]=x[_0x1d97("0x45b")]();break;case 9:t[_0x1d97("0xcaa")]=x.string();break;case 10:t[_0x1d97("0xd56")]=x[_0x1d97("0xe")]();break;case 11:x.skip()[_0x1d97("0x3ed")]++,t.Rooms===o[_0x1d97("0xc98")]&&(t.Rooms={}),_=x.int32(),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xc97")][_]=c[_0x1d97("0x33")][_0x1d97("0xc9a")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;case 12:x[_0x1d97("0xc9d")]()[_0x1d97("0x3ed")]++,t[_0x1d97("0xd11")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xd11")]={}),_=x.int32(),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xd11")][_]=c.ESMap[_0x1d97("0xc9c")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;case 13:x[_0x1d97("0xc9d")]()[_0x1d97("0x3ed")]++,t.Labels===o[_0x1d97("0xc98")]&&(t[_0x1d97("0x166")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0x166")][_]=c[_0x1d97("0x33")].POISet[_0x1d97("0x45")](x,x.uint32());break;case 14:x[_0x1d97("0xc9d")]().pos++,t[_0x1d97("0xd13")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xd13")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xd13")][_]=c[_0x1d97("0x33")][_0x1d97("0xd58")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;case 15:t[_0x1d97("0x173")]=x.string();break;case 16:t.imagesize=x[_0x1d97("0xe")]();break;case 17:t.other1=x[_0x1d97("0xe")]();break;case 18:t[_0x1d97("0x463")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&a)}}return t},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x.verify=function(x){if((typeof x===_0x1d97("0x8")?"undefined":(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x._id))return"_id: integer expected";if(null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&!o[_0x1d97("0x46d")](x.floornum))return _0x1d97("0xd59");if(null!=x[_0x1d97("0xd1b")]&&x[_0x1d97("0x2")]("floornumtext")&&!o[_0x1d97("0x46d")](x.floornumtext))return _0x1d97("0xd5a");if(null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&!o[_0x1d97("0x1d1")](x.name))return _0x1d97("0xd39");if(null!=x.NameEn&&x[_0x1d97("0x2")](_0x1d97("0xa7c"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xa7c")]))return _0x1d97("0xd5b");if(null!=x.AS&&x[_0x1d97("0x2")]("AS")&&typeof x.AS!==_0x1d97("0x13d"))return _0x1d97("0xd3c");if(null!=x[_0x1d97("0x31e")]&&x[_0x1d97("0x2")](_0x1d97("0x31e"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x31e")]))return _0x1d97("0xd5c");if(null!=x[_0x1d97("0xd16")]&&x[_0x1d97("0x2")](_0x1d97("0xd16"))&&!o[_0x1d97("0x46d")](x.Elevation))return _0x1d97("0xd5d");if(null!=x[_0x1d97("0xcaa")]&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xcaa")]))return _0x1d97("0xcbf");if(null!=x.Alias&&x[_0x1d97("0x2")](_0x1d97("0xd56"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd56")]))return"Alias: string expected";if(null!=x[_0x1d97("0xc97")]&&x[_0x1d97("0x2")](_0x1d97("0xc97"))){if(!o[_0x1d97("0x339")](x.Rooms))return"Rooms: object expected";for(var d=(0,t[_0x1d97("0x1c")])(x.Rooms),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xca2");if(a=c.ESMap.RoomSet[_0x1d97("0x46b")](x[_0x1d97("0xc97")][d[_]]))return _0x1d97("0xca3")+a}}if(null!=x[_0x1d97("0xd11")]&&x.hasOwnProperty(_0x1d97("0xd11"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0xd11")]))return _0x1d97("0xd5e");for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd11")]),_=0;_<d.length;++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return"Facility: integer key{k:int32} expected";if(a=c[_0x1d97("0x33")].POISet[_0x1d97("0x46b")](x[_0x1d97("0xd11")][d[_]]))return _0x1d97("0xd5f")+a}}if(null!=x[_0x1d97("0x166")]&&x[_0x1d97("0x2")](_0x1d97("0x166"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0x166")]))return _0x1d97("0xca4");for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x166")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xca5");if(a=c[_0x1d97("0x33")].POISet[_0x1d97("0x46b")](x[_0x1d97("0x166")][d[_]]))return _0x1d97("0xd60")+a}}if(null!=x.Lifts&&x[_0x1d97("0x2")](_0x1d97("0xd13"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0xd13")]))return _0x1d97("0xd61");for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd13")]),_=0;_<d.length;++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xd62");var a;if(a=c[_0x1d97("0x33")][_0x1d97("0xd58")][_0x1d97("0x46b")](x[_0x1d97("0xd13")][d[_]]))return"Lifts."+a}}return null!=x[_0x1d97("0x173")]&&x.hasOwnProperty(_0x1d97("0x173"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x173")])?_0x1d97("0xcd2"):null!=x[_0x1d97("0xd57")]&&x[_0x1d97("0x2")](_0x1d97("0xd57"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd57")])?"imagesize: string expected":null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x.other1)?_0x1d97("0x48b"):null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x463")])?_0x1d97("0x48c"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd34")])return x;var d=new(c.ESMap[_0x1d97("0xd34")]);if(null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0xad8")]&&(d[_0x1d97("0xad8")]=0|x.floornum),null!=x[_0x1d97("0xd1b")]&&(d.floornumtext=0|x[_0x1d97("0xd1b")]),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x[_0x1d97("0xb8")])),null!=x[_0x1d97("0xa7c")]&&(d.NameEn=String(x[_0x1d97("0xa7c")])),null!=x.AS&&(d.AS=Number(x.AS)),null!=x[_0x1d97("0x31e")]&&(d[_0x1d97("0x31e")]=0|x.Height),null!=x[_0x1d97("0xd16")]&&(d[_0x1d97("0xd16")]=0|x[_0x1d97("0xd16")]),null!=x[_0x1d97("0xcaa")]&&(d[_0x1d97("0xcaa")]=String(x.Outline)),null!=x[_0x1d97("0xd56")]&&(d[_0x1d97("0xd56")]=String(x.Alias)),x[_0x1d97("0xc97")]){if((0,e.default)(x.Rooms)!==_0x1d97("0xc"))throw TypeError(".ESMap.FloorSet.Rooms: object expected");d[_0x1d97("0xc97")]={};for(var _=(0,t.default)(x[_0x1d97("0xc97")]),a=0;a<_.length;++a){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc97")][_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd63"));d[_0x1d97("0xc97")][_[a]]=c.ESMap[_0x1d97("0xc9a")][_0x1d97("0x494")](x[_0x1d97("0xc97")][_[a]])}}if(x.Facility){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xd11")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd64"));for(d[_0x1d97("0xd11")]={},_=(0,t.default)(x.Facility),a=0;a<_[_0x1d97("0x0")];++a){if("object"!==(0,e[_0x1d97("0x1c")])(x.Facility[_[a]]))throw TypeError(_0x1d97("0xd64"));d[_0x1d97("0xd11")][_[a]]=c.ESMap[_0x1d97("0xc9c")][_0x1d97("0x494")](x[_0x1d97("0xd11")][_[a]])}}if(x[_0x1d97("0x166")]){if((0,e.default)(x[_0x1d97("0x166")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd65"));for(d[_0x1d97("0x166")]={},_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x166")]),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x.Labels[_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd65"));d.Labels[_[a]]=c.ESMap[_0x1d97("0xc9c")][_0x1d97("0x494")](x[_0x1d97("0x166")][_[a]])}}if(x[_0x1d97("0xd13")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xd13")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd66"));for(d[_0x1d97("0xd13")]={},_=(0,t.default)(x.Lifts),a=0;a<_[_0x1d97("0x0")];++a){if("object"!==(0,e[_0x1d97("0x1c")])(x.Lifts[_[a]]))throw TypeError(_0x1d97("0xd66"));d[_0x1d97("0xd13")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xd58")][_0x1d97("0x494")](x[_0x1d97("0xd13")][_[a]])}}return null!=x.image&&(d.image=String(x[_0x1d97("0x173")])),null!=x.imagesize&&(d.imagesize=String(x[_0x1d97("0xd57")])),null!=x.other1&&(d[_0x1d97("0x458")]=String(x.other1)),null!=x[_0x1d97("0x463")]&&(d[_0x1d97("0x463")]=String(x[_0x1d97("0x463")])),d},x.from=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _,e={};if((d[_0x1d97("0x642")]||d.defaults)&&(e[_0x1d97("0xc97")]={},e[_0x1d97("0xd11")]={},e[_0x1d97("0x166")]={},e[_0x1d97("0xd13")]={}),d[_0x1d97("0x499")]&&(e[_0x1d97("0x170")]=0,e[_0x1d97("0xad8")]=0,e[_0x1d97("0xd1b")]=0,e[_0x1d97("0xb8")]="",e[_0x1d97("0xa7c")]="",e.AS=0,e[_0x1d97("0x31e")]=0,e.Elevation=0,e.Outline="",e[_0x1d97("0xd56")]="",e[_0x1d97("0x173")]="",e[_0x1d97("0xd57")]="",e[_0x1d97("0x458")]="",e[_0x1d97("0x463")]=""),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&(e[_0x1d97("0x170")]=x._id),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&(e[_0x1d97("0xad8")]=x.floornum),null!=x[_0x1d97("0xd1b")]&&x[_0x1d97("0x2")]("floornumtext")&&(e[_0x1d97("0xd1b")]=x[_0x1d97("0xd1b")]),null!=x.name&&x.hasOwnProperty("name")&&(e.name=x[_0x1d97("0xb8")]),null!=x.NameEn&&x[_0x1d97("0x2")]("NameEn")&&(e.NameEn=x.NameEn),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&(e.AS=x.AS),null!=x.Height&&x[_0x1d97("0x2")](_0x1d97("0x31e"))&&(e[_0x1d97("0x31e")]=x[_0x1d97("0x31e")]),null!=x[_0x1d97("0xd16")]&&x[_0x1d97("0x2")]("Elevation")&&(e[_0x1d97("0xd16")]=x.Elevation),null!=x[_0x1d97("0xcaa")]&&x.hasOwnProperty("Outline")&&(e[_0x1d97("0xcaa")]=x[_0x1d97("0xcaa")]),null!=x.Alias&&x[_0x1d97("0x2")](_0x1d97("0xd56"))&&(e[_0x1d97("0xd56")]=x[_0x1d97("0xd56")]),x[_0x1d97("0xc97")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc97")]))[_0x1d97("0x0")]){e[_0x1d97("0xc97")]={};for(var a=0;a<_.length;++a)e.Rooms[_[a]]=c[_0x1d97("0x33")].RoomSet[_0x1d97("0x49d")](x[_0x1d97("0xc97")][_[a]],d)}if(x[_0x1d97("0xd11")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd11")]))[_0x1d97("0x0")])for(e.Facility={},a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0xd11")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xc9c")][_0x1d97("0x49d")](x[_0x1d97("0xd11")][_[a]],d);if(x[_0x1d97("0x166")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x166")])).length)for(e.Labels={},a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0x166")][_[a]]=c.ESMap.POISet.toObject(x[_0x1d97("0x166")][_[a]],d);if(x[_0x1d97("0xd13")]&&(_=(0,t[_0x1d97("0x1c")])(x.Lifts))[_0x1d97("0x0")])for(e[_0x1d97("0xd13")]={},a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0xd13")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xd58")][_0x1d97("0x49d")](x.Lifts[_[a]],d);return null!=x[_0x1d97("0x173")]&&x[_0x1d97("0x2")](_0x1d97("0x173"))&&(e.image=x[_0x1d97("0x173")]),null!=x.imagesize&&x[_0x1d97("0x2")](_0x1d97("0xd57"))&&(e.imagesize=x[_0x1d97("0xd57")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(e[_0x1d97("0x458")]=x.other1),null!=x[_0x1d97("0x463")]&&x[_0x1d97("0x2")](_0x1d97("0x463"))&&(e[_0x1d97("0x463")]=x[_0x1d97("0x463")]),e},x[_0x1d97("0xf")][_0x1d97("0x49d")]=function(x){return this.constructor[_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this.constructor[_0x1d97("0x49d")](this,n[_0x1d97("0x442")].toJSONOptions)},x}(),i[_0x1d97("0xc9a")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0xb8")]="",x.prototype[_0x1d97("0xa7c")]="",x[_0x1d97("0xf")].Brief="",x[_0x1d97("0xf")][_0x1d97("0x171")]=0,x[_0x1d97("0xf")].RL="",x[_0x1d97("0xf")].RLSize="",x.prototype.BC=0,x[_0x1d97("0xf")].RC="",x[_0x1d97("0xf")].RH=0,x[_0x1d97("0xf")].RM="",x[_0x1d97("0xf")][_0x1d97("0xbcd")]="",x[_0x1d97("0xf")].RMR="",x[_0x1d97("0xf")][_0x1d97("0xbd1")]="",x[_0x1d97("0xf")].RS=0,x.prototype.SL=0,x.prototype[_0x1d97("0xbcf")]=0,x.prototype[_0x1d97("0xbd0")]=0,x[_0x1d97("0xf")].AS=0,x[_0x1d97("0xf")][_0x1d97("0xcaa")]="",x[_0x1d97("0xf")].PointID=0,x[_0x1d97("0xf")].ShopID=0,x.prototype.FS=0,x[_0x1d97("0xf")].FC="",x[_0x1d97("0xf")][_0x1d97("0x458")]="",x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x._id),null!=x[_0x1d97("0xb8")]&&x.hasOwnProperty(_0x1d97("0xb8"))&&d.uint32(18)[_0x1d97("0xe")](x[_0x1d97("0xb8")]),null!=x[_0x1d97("0xa7c")]&&x[_0x1d97("0x2")](_0x1d97("0xa7c"))&&d.uint32(26)[_0x1d97("0xe")](x[_0x1d97("0xa7c")]),null!=x[_0x1d97("0xc6a")]&&x.hasOwnProperty(_0x1d97("0xc6a"))&&d.uint32(34)[_0x1d97("0xe")](x[_0x1d97("0xc6a")]),null!=x.Tid&&x[_0x1d97("0x2")]("Tid")&&d.uint32(40)[_0x1d97("0x45b")](x[_0x1d97("0x171")]),null!=x.RL&&x.hasOwnProperty("RL")&&d[_0x1d97("0x45a")](50)[_0x1d97("0xe")](x.RL),null!=x[_0x1d97("0xc68")]&&x.hasOwnProperty("RLSize")&&d[_0x1d97("0x45a")](58)[_0x1d97("0xe")](x[_0x1d97("0xc68")]),null!=x.BC&&x.hasOwnProperty("BC")&&d[_0x1d97("0x45a")](64).int32(x.BC),null!=x.RC&&x[_0x1d97("0x2")]("RC")&&d[_0x1d97("0x45a")](74)[_0x1d97("0xe")](x.RC),null!=x.RH&&x[_0x1d97("0x2")]("RH")&&d[_0x1d97("0x45a")](81)[_0x1d97("0x45f")](x.RH),null!=x.RM&&x[_0x1d97("0x2")]("RM")&&d.uint32(90)[_0x1d97("0xe")](x.RM),null!=x.RMS&&x[_0x1d97("0x2")]("RMS")&&d[_0x1d97("0x45a")](98).string(x[_0x1d97("0xbcd")]),null!=x[_0x1d97("0xbce")]&&x[_0x1d97("0x2")](_0x1d97("0xbce"))&&d[_0x1d97("0x45a")](106)[_0x1d97("0xe")](x.RMR),null!=x[_0x1d97("0xbd1")]&&x.hasOwnProperty(_0x1d97("0xbd1"))&&d[_0x1d97("0x45a")](114).string(x[_0x1d97("0xbd1")]),null!=x.RS&&x.hasOwnProperty("RS")&&d[_0x1d97("0x45a")](120)[_0x1d97("0x45b")](x.RS),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&d.uint32(128)[_0x1d97("0x45b")](x.SL),null!=x.CenX&&x[_0x1d97("0x2")](_0x1d97("0xbcf"))&&d[_0x1d97("0x45a")](137).double(x[_0x1d97("0xbcf")]),null!=x.CenY&&x[_0x1d97("0x2")](_0x1d97("0xbd0"))&&d[_0x1d97("0x45a")](145).double(x.CenY),null!=x.AS&&x[_0x1d97("0x2")]("AS")&&d[_0x1d97("0x45a")](153)[_0x1d97("0x45f")](x.AS),null!=x[_0x1d97("0xcaa")]&&x[_0x1d97("0x2")]("Outline")&&d.uint32(162)[_0x1d97("0xe")](x[_0x1d97("0xcaa")]),null!=x[_0x1d97("0xd67")]&&x[_0x1d97("0x2")]("PointID")&&d[_0x1d97("0x45a")](168)[_0x1d97("0x45b")](x[_0x1d97("0xd67")]),null!=x[_0x1d97("0xd68")]&&x[_0x1d97("0x2")]("ShopID")&&d[_0x1d97("0x45a")](176)[_0x1d97("0x45b")](x[_0x1d97("0xd68")]),null!=x.FS&&x[_0x1d97("0x2")]("FS")&&d[_0x1d97("0x45a")](184)[_0x1d97("0x45b")](x.FS),null!=x.FC&&x[_0x1d97("0x2")]("FC")&&d[_0x1d97("0x45a")](194)[_0x1d97("0xe")](x.FC),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&d[_0x1d97("0x45a")](202).string(x[_0x1d97("0x458")]),d},x.encodeDelimited=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x.pos+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xc9a")]);x.pos<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 2:e[_0x1d97("0xb8")]=x.string();break;case 3:e[_0x1d97("0xa7c")]=x[_0x1d97("0xe")]();break;case 4:e.Brief=x[_0x1d97("0xe")]();break;case 5:e[_0x1d97("0x171")]=x.int32();break;case 6:e.RL=x[_0x1d97("0xe")]();break;case 7:e[_0x1d97("0xc68")]=x[_0x1d97("0xe")]();break;case 8:e.BC=x[_0x1d97("0x45b")]();break;case 9:e.RC=x.string();break;case 10:e.RH=x[_0x1d97("0x45f")]();break;case 11:e.RM=x[_0x1d97("0xe")]();break;case 12:e[_0x1d97("0xbcd")]=x[_0x1d97("0xe")]();break;case 13:e[_0x1d97("0xbce")]=x[_0x1d97("0xe")]();break;case 14:e[_0x1d97("0xbd1")]=x[_0x1d97("0xe")]();break;case 15:e.RS=x.int32();break;case 16:e.SL=x[_0x1d97("0x45b")]();break;case 17:e[_0x1d97("0xbcf")]=x[_0x1d97("0x45f")]();break;case 18:e[_0x1d97("0xbd0")]=x[_0x1d97("0x45f")]();break;case 19:e.AS=x[_0x1d97("0x45f")]();break;case 20:e[_0x1d97("0xcaa")]=x[_0x1d97("0xe")]();break;case 21:e[_0x1d97("0xd67")]=x.int32();break;case 22:e[_0x1d97("0xd68")]=x[_0x1d97("0x45b")]();break;case 23:e.FS=x[_0x1d97("0x45b")]();break;case 24:e.FC=x.string();break;case 25:e[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?"_id: integer expected":null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xb8")])?_0x1d97("0xd39"):null!=x.NameEn&&x[_0x1d97("0x2")](_0x1d97("0xa7c"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xa7c")])?_0x1d97("0xd5b"):null!=x.Brief&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xc6a")])?_0x1d97("0xd3a"):null!=x[_0x1d97("0x171")]&&x.hasOwnProperty(_0x1d97("0x171"))&&!o[_0x1d97("0x46d")](x.Tid)?_0x1d97("0xcb4"):null!=x.RL&&x[_0x1d97("0x2")]("RL")&&!o[_0x1d97("0x1d1")](x.RL)?_0x1d97("0xcb5"):null!=x[_0x1d97("0xc68")]&&x[_0x1d97("0x2")](_0x1d97("0xc68"))&&!o[_0x1d97("0x1d1")](x.RLSize)?"RLSize: string expected":null!=x.BC&&x.hasOwnProperty("BC")&&!o.isInteger(x.BC)?_0x1d97("0xd69"):null!=x.RC&&x[_0x1d97("0x2")]("RC")&&!o[_0x1d97("0x1d1")](x.RC)?_0x1d97("0xd6a"):null!=x.RH&&x[_0x1d97("0x2")]("RH")&&"number"!=typeof x.RH?_0x1d97("0xd6b"):null!=x.RM&&x[_0x1d97("0x2")]("RM")&&!o[_0x1d97("0x1d1")](x.RM)?_0x1d97("0xcb8"):null!=x[_0x1d97("0xbcd")]&&x[_0x1d97("0x2")](_0x1d97("0xbcd"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xbcd")])?"RMS: string expected":null!=x.RMR&&x[_0x1d97("0x2")](_0x1d97("0xbce"))&&!o.isString(x[_0x1d97("0xbce")])?_0x1d97("0xcba"):null!=x[_0x1d97("0xbd1")]&&x[_0x1d97("0x2")]("RMO")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xbd1")])?_0x1d97("0xcbb"):null!=x.RS&&x[_0x1d97("0x2")]("RS")&&!o[_0x1d97("0x46d")](x.RS)?_0x1d97("0xcbc"):null!=x.SL&&x[_0x1d97("0x2")]("SL")&&!o.isInteger(x.SL)?_0x1d97("0xcd1"):null!=x[_0x1d97("0xbcf")]&&x[_0x1d97("0x2")](_0x1d97("0xbcf"))&&typeof x[_0x1d97("0xbcf")]!==_0x1d97("0x13d")?_0x1d97("0xcbd"):null!=x[_0x1d97("0xbd0")]&&x[_0x1d97("0x2")](_0x1d97("0xbd0"))&&typeof x[_0x1d97("0xbd0")]!==_0x1d97("0x13d")?_0x1d97("0xcbe"):null!=x.AS&&x[_0x1d97("0x2")]("AS")&&typeof x.AS!==_0x1d97("0x13d")?_0x1d97("0xd3c"):null!=x.Outline&&x[_0x1d97("0x2")](_0x1d97("0xcaa"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xcaa")])?_0x1d97("0xcbf"):null!=x.PointID&&x[_0x1d97("0x2")]("PointID")&&!o[_0x1d97("0x46d")](x.PointID)?_0x1d97("0xd6c"):null!=x[_0x1d97("0xd68")]&&x[_0x1d97("0x2")](_0x1d97("0xd68"))&&!o.isInteger(x.ShopID)?_0x1d97("0xd6d"):null!=x.FS&&x[_0x1d97("0x2")]("FS")&&!o[_0x1d97("0x46d")](x.FS)?_0x1d97("0xd6e"):null!=x.FC&&x[_0x1d97("0x2")]("FC")&&!o[_0x1d97("0x1d1")](x.FC)?"FC: string expected":null!=x[_0x1d97("0x458")]&&x.hasOwnProperty(_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xc9a")])return x;var d=new c.ESMap.RoomSet;return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x[_0x1d97("0xb8")])),null!=x[_0x1d97("0xa7c")]&&(d[_0x1d97("0xa7c")]=String(x[_0x1d97("0xa7c")])),null!=x[_0x1d97("0xc6a")]&&(d[_0x1d97("0xc6a")]=String(x[_0x1d97("0xc6a")])),null!=x[_0x1d97("0x171")]&&(d[_0x1d97("0x171")]=0|x.Tid),null!=x.RL&&(d.RL=String(x.RL)),null!=x[_0x1d97("0xc68")]&&(d[_0x1d97("0xc68")]=String(x[_0x1d97("0xc68")])),null!=x.BC&&(d.BC=0|x.BC),null!=x.RC&&(d.RC=String(x.RC)),null!=x.RH&&(d.RH=Number(x.RH)),null!=x.RM&&(d.RM=String(x.RM)),null!=x[_0x1d97("0xbcd")]&&(d.RMS=String(x[_0x1d97("0xbcd")])),null!=x[_0x1d97("0xbce")]&&(d[_0x1d97("0xbce")]=String(x[_0x1d97("0xbce")])),null!=x[_0x1d97("0xbd1")]&&(d.RMO=String(x[_0x1d97("0xbd1")])),null!=x.RS&&(d.RS=0|x.RS),null!=x.SL&&(d.SL=0|x.SL),null!=x[_0x1d97("0xbcf")]&&(d[_0x1d97("0xbcf")]=Number(x[_0x1d97("0xbcf")])),null!=x[_0x1d97("0xbd0")]&&(d[_0x1d97("0xbd0")]=Number(x[_0x1d97("0xbd0")])),null!=x.AS&&(d.AS=Number(x.AS)),null!=x[_0x1d97("0xcaa")]&&(d[_0x1d97("0xcaa")]=String(x.Outline)),null!=x.PointID&&(d[_0x1d97("0xd67")]=0|x[_0x1d97("0xd67")]),null!=x.ShopID&&(d.ShopID=0|x[_0x1d97("0xd68")]),null!=x.FS&&(d.FS=0|x.FS),null!=x.FC&&(d.FC=String(x.FC)),null!=x.other1&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),d},x.from=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_[_0x1d97("0x170")]=0,_.name="",_.NameEn="",_[_0x1d97("0xc6a")]="",_[_0x1d97("0x171")]=0,_.RL="",_[_0x1d97("0xc68")]="",_.BC=0,_.RC="",_.RH=0,_.RM="",_[_0x1d97("0xbcd")]="",_[_0x1d97("0xbce")]="",_[_0x1d97("0xbd1")]="",_.RS=0,_.SL=0,_[_0x1d97("0xbcf")]=0,_[_0x1d97("0xbd0")]=0,_.AS=0,_[_0x1d97("0xcaa")]="",_[_0x1d97("0xd67")]=0,_[_0x1d97("0xd68")]=0,_.FS=0,_.FC="",_[_0x1d97("0x458")]=""),null!=x._id&&x.hasOwnProperty(_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.name&&x.hasOwnProperty(_0x1d97("0xb8"))&&(_[_0x1d97("0xb8")]=x[_0x1d97("0xb8")]),null!=x[_0x1d97("0xa7c")]&&x[_0x1d97("0x2")](_0x1d97("0xa7c"))&&(_[_0x1d97("0xa7c")]=x[_0x1d97("0xa7c")]),null!=x.Brief&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&(_.Brief=x.Brief),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&(_[_0x1d97("0x171")]=x.Tid),null!=x.RL&&x[_0x1d97("0x2")]("RL")&&(_.RL=x.RL),null!=x[_0x1d97("0xc68")]&&x.hasOwnProperty(_0x1d97("0xc68"))&&(_[_0x1d97("0xc68")]=x[_0x1d97("0xc68")]),null!=x.BC&&x.hasOwnProperty("BC")&&(_.BC=x.BC),null!=x.RC&&x[_0x1d97("0x2")]("RC")&&(_.RC=x.RC),null!=x.RH&&x[_0x1d97("0x2")]("RH")&&(_.RH=x.RH),null!=x.RM&&x[_0x1d97("0x2")]("RM")&&(_.RM=x.RM),null!=x[_0x1d97("0xbcd")]&&x[_0x1d97("0x2")](_0x1d97("0xbcd"))&&(_[_0x1d97("0xbcd")]=x[_0x1d97("0xbcd")]),null!=x[_0x1d97("0xbce")]&&x[_0x1d97("0x2")](_0x1d97("0xbce"))&&(_[_0x1d97("0xbce")]=x[_0x1d97("0xbce")]),null!=x[_0x1d97("0xbd1")]&&x[_0x1d97("0x2")](_0x1d97("0xbd1"))&&(_[_0x1d97("0xbd1")]=x.RMO),null!=x.RS&&x.hasOwnProperty("RS")&&(_.RS=x.RS),null!=x.SL&&x.hasOwnProperty("SL")&&(_.SL=x.SL),null!=x[_0x1d97("0xbcf")]&&x.hasOwnProperty(_0x1d97("0xbcf"))&&(_[_0x1d97("0xbcf")]=x.CenX),null!=x.CenY&&x[_0x1d97("0x2")](_0x1d97("0xbd0"))&&(_[_0x1d97("0xbd0")]=x[_0x1d97("0xbd0")]),null!=x.AS&&x.hasOwnProperty("AS")&&(_.AS=x.AS),null!=x.Outline&&x.hasOwnProperty(_0x1d97("0xcaa"))&&(_.Outline=x[_0x1d97("0xcaa")]),null!=x[_0x1d97("0xd67")]&&x[_0x1d97("0x2")](_0x1d97("0xd67"))&&(_[_0x1d97("0xd67")]=x.PointID),null!=x[_0x1d97("0xd68")]&&x.hasOwnProperty(_0x1d97("0xd68"))&&(_[_0x1d97("0xd68")]=x[_0x1d97("0xd68")]),null!=x.FS&&x[_0x1d97("0x2")]("FS")&&(_.FS=x.FS),null!=x.FC&&x.hasOwnProperty("FC")&&(_.FC=x.FC),null!=x[_0x1d97("0x458")]&&x.hasOwnProperty("other1")&&(_.other1=x[_0x1d97("0x458")]),_},x[_0x1d97("0xf")][_0x1d97("0x49d")]=function(x){return this.constructor[_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i.POISet=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x[_0x1d97("0xf")].name="",x[_0x1d97("0xf")][_0x1d97("0xa7c")]="",x.prototype[_0x1d97("0xc6a")]="",x.prototype.Tid=0,x[_0x1d97("0xf")].X=0,x[_0x1d97("0xf")].Y=0,x[_0x1d97("0xf")].SL=0,x[_0x1d97("0xf")].SH=0,x[_0x1d97("0xf")].w=0,x.prototype.h=0,x.prototype.image="",x[_0x1d97("0xf")][_0x1d97("0xccb")]=0,x[_0x1d97("0xf")][_0x1d97("0x458")]="",x[_0x1d97("0xf")][_0x1d97("0x16e")]=0,x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d.uint32(8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x.name&&x.hasOwnProperty("name")&&d[_0x1d97("0x45a")](18)[_0x1d97("0xe")](x[_0x1d97("0xb8")]),null!=x.NameEn&&x[_0x1d97("0x2")]("NameEn")&&d.uint32(26).string(x.NameEn),null!=x[_0x1d97("0xc6a")]&&x.hasOwnProperty("Brief")&&d[_0x1d97("0x45a")](34)[_0x1d97("0xe")](x[_0x1d97("0xc6a")]),null!=x[_0x1d97("0x171")]&&x.hasOwnProperty("Tid")&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x171")]),null!=x.X&&x[_0x1d97("0x2")]("X")&&d[_0x1d97("0x45a")](49)[_0x1d97("0x45f")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&d.uint32(57)[_0x1d97("0x45f")](x.Y),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&d[_0x1d97("0x45a")](64)[_0x1d97("0x45b")](x.SL),null!=x.SH&&x[_0x1d97("0x2")]("SH")&&d.uint32(77)[_0x1d97("0xccc")](x.SH),null!=x.w&&x[_0x1d97("0x2")]("w")&&d[_0x1d97("0x45a")](85).float(x.w),null!=x.h&&x[_0x1d97("0x2")]("h")&&d[_0x1d97("0x45a")](93).float(x.h),null!=x[_0x1d97("0x173")]&&x.hasOwnProperty(_0x1d97("0x173"))&&d.uint32(98)[_0x1d97("0xe")](x.image),null!=x.FSId&&x[_0x1d97("0x2")](_0x1d97("0xccb"))&&d[_0x1d97("0x45a")](104).int32(x[_0x1d97("0xccb")]),null!=x.other1&&x[_0x1d97("0x2")]("other1")&&d.uint32(114).string(x[_0x1d97("0x458")]),null!=x.ipos&&x[_0x1d97("0x2")]("ipos")&&d[_0x1d97("0x45a")](120).int32(x[_0x1d97("0x16e")]),d},x.encodeDelimited=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x.len:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xc9c")]);x.pos<_;){var t=x.uint32();switch(t>>>3){case 1:e._id=x.int32();break;case 2:e[_0x1d97("0xb8")]=x.string();break;case 3:e[_0x1d97("0xa7c")]=x[_0x1d97("0xe")]();break;case 4:e.Brief=x[_0x1d97("0xe")]();break;case 5:e[_0x1d97("0x171")]=x[_0x1d97("0x45b")]();break;case 6:e.X=x[_0x1d97("0x45f")]();break;case 7:e.Y=x[_0x1d97("0x45f")]();break;case 8:e.SL=x.int32();break;case 9:e.SH=x[_0x1d97("0xccc")]();break;case 10:e.w=x.float();break;case 11:e.h=x.float();break;case 12:e[_0x1d97("0x173")]=x[_0x1d97("0xe")]();break;case 13:e[_0x1d97("0xccb")]=x[_0x1d97("0x45b")]();break;case 14:e.other1=x.string();break;case 15:e[_0x1d97("0x16e")]=x[_0x1d97("0x45b")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(void 0===x?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?"object expected":null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o.isInteger(x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")]("name")&&!o.isString(x.name)?"name: string expected":null!=x[_0x1d97("0xa7c")]&&x.hasOwnProperty(_0x1d97("0xa7c"))&&!o[_0x1d97("0x1d1")](x.NameEn)?"NameEn: string expected":null!=x[_0x1d97("0xc6a")]&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&!o.isString(x[_0x1d97("0xc6a")])?_0x1d97("0xd3a"):null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x171")])?_0x1d97("0xcb4"):null!=x.X&&x.hasOwnProperty("X")&&"number"!=typeof x.X?_0x1d97("0xccf"):null!=x.Y&&x[_0x1d97("0x2")]("Y")&&"number"!=typeof x.Y?_0x1d97("0xcd0"):null!=x.SL&&x[_0x1d97("0x2")]("SL")&&!o[_0x1d97("0x46d")](x.SL)?_0x1d97("0xcd1"):null!=x.SH&&x[_0x1d97("0x2")]("SH")&&typeof x.SH!==_0x1d97("0x13d")?_0x1d97("0xd6f"):null!=x.w&&x[_0x1d97("0x2")]("w")&&typeof x.w!==_0x1d97("0x13d")?_0x1d97("0xd70"):null!=x.h&&x[_0x1d97("0x2")]("h")&&typeof x.h!==_0x1d97("0x13d")?_0x1d97("0xcd3"):null!=x[_0x1d97("0x173")]&&x.hasOwnProperty(_0x1d97("0x173"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x173")])?_0x1d97("0xcd2"):null!=x.FSId&&x.hasOwnProperty("FSId")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xccb")])?"FSId: integer expected":null!=x.other1&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0x458")])?_0x1d97("0x48b"):null!=x.ipos&&x.hasOwnProperty("ipos")&&!o.isInteger(x[_0x1d97("0x16e")])?_0x1d97("0xcd4"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c.ESMap[_0x1d97("0xc9c")])return x;var d=new(c[_0x1d97("0x33")][_0x1d97("0xc9c")]);return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x._id),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x[_0x1d97("0xb8")])),null!=x.NameEn&&(d[_0x1d97("0xa7c")]=String(x[_0x1d97("0xa7c")])),null!=x[_0x1d97("0xc6a")]&&(d.Brief=String(x[_0x1d97("0xc6a")])),null!=x[_0x1d97("0x171")]&&(d[_0x1d97("0x171")]=0|x[_0x1d97("0x171")]),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),null!=x.SL&&(d.SL=0|x.SL),null!=x.SH&&(d.SH=Number(x.SH)),null!=x.w&&(d.w=Number(x.w)),null!=x.h&&(d.h=Number(x.h)),null!=x[_0x1d97("0x173")]&&(d[_0x1d97("0x173")]=String(x[_0x1d97("0x173")])),null!=x[_0x1d97("0xccb")]&&(d[_0x1d97("0xccb")]=0|x[_0x1d97("0xccb")]),null!=x.other1&&(d[_0x1d97("0x458")]=String(x[_0x1d97("0x458")])),null!=x[_0x1d97("0x16e")]&&(d[_0x1d97("0x16e")]=0|x[_0x1d97("0x16e")]),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_._id=0,_[_0x1d97("0xb8")]="",_[_0x1d97("0xa7c")]="",_[_0x1d97("0xc6a")]="",_.Tid=0,_.X=0,_.Y=0,_.SL=0,_.SH=0,_.w=0,_.h=0,_[_0x1d97("0x173")]="",_.FSId=0,_[_0x1d97("0x458")]="",_.ipos=0),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&(_[_0x1d97("0xb8")]=x.name),null!=x.NameEn&&x[_0x1d97("0x2")](_0x1d97("0xa7c"))&&(_[_0x1d97("0xa7c")]=x[_0x1d97("0xa7c")]),null!=x[_0x1d97("0xc6a")]&&x[_0x1d97("0x2")](_0x1d97("0xc6a"))&&(_[_0x1d97("0xc6a")]=x[_0x1d97("0xc6a")]),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&(_[_0x1d97("0x171")]=x[_0x1d97("0x171")]),null!=x.X&&x.hasOwnProperty("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),null!=x.SL&&x[_0x1d97("0x2")]("SL")&&(_.SL=x.SL),null!=x.SH&&x[_0x1d97("0x2")]("SH")&&(_.SH=x.SH),null!=x.w&&x[_0x1d97("0x2")]("w")&&(_.w=x.w),null!=x.h&&x[_0x1d97("0x2")]("h")&&(_.h=x.h),null!=x.image&&x[_0x1d97("0x2")](_0x1d97("0x173"))&&(_[_0x1d97("0x173")]=x.image),null!=x[_0x1d97("0xccb")]&&x[_0x1d97("0x2")](_0x1d97("0xccb"))&&(_[_0x1d97("0xccb")]=x[_0x1d97("0xccb")]),null!=x[_0x1d97("0x458")]&&x[_0x1d97("0x2")](_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x.other1),null!=x[_0x1d97("0x16e")]&&x[_0x1d97("0x2")](_0x1d97("0x16e"))&&(_[_0x1d97("0x16e")]=x[_0x1d97("0x16e")]),_},x[_0x1d97("0xf")].toObject=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x.prototype[_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")].toObject(this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xd58")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d.length;++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x.prototype[_0x1d97("0xb8")]="",x.prototype[_0x1d97("0x171")]=0,x[_0x1d97("0xf")].F1=0,x[_0x1d97("0xf")].F2=0,x[_0x1d97("0xf")].ST=0,x[_0x1d97("0xf")].LT=0,x[_0x1d97("0xf")].LH=0,x[_0x1d97("0xf")].LM="",x[_0x1d97("0xf")].LS="",x.prototype.LR="",x[_0x1d97("0xf")].LO="",x[_0x1d97("0xf")].X1=0,x[_0x1d97("0xf")].X2=0,x.prototype.Y1=0,x[_0x1d97("0xf")].Y2=0,x[_0x1d97("0xf")].O1="",x[_0x1d97("0xf")].O2="",x[_0x1d97("0xf")][_0x1d97("0x458")]="",x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&d[_0x1d97("0x45a")](18).string(x[_0x1d97("0xb8")]),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&d[_0x1d97("0x45a")](24)[_0x1d97("0x45b")](x[_0x1d97("0x171")]),null!=x.F1&&x[_0x1d97("0x2")]("F1")&&d[_0x1d97("0x45a")](32).int32(x.F1),null!=x.F2&&x[_0x1d97("0x2")]("F2")&&d.uint32(40)[_0x1d97("0x45b")](x.F2),null!=x.ST&&x[_0x1d97("0x2")]("ST")&&d[_0x1d97("0x45a")](48)[_0x1d97("0x45b")](x.ST),null!=x.LT&&x[_0x1d97("0x2")]("LT")&&d[_0x1d97("0x45a")](56).int32(x.LT),null!=x.LH&&x.hasOwnProperty("LH")&&d[_0x1d97("0x45a")](64)[_0x1d97("0x45b")](x.LH),null!=x.LM&&x[_0x1d97("0x2")]("LM")&&d[_0x1d97("0x45a")](74)[_0x1d97("0xe")](x.LM),null!=x.LS&&x[_0x1d97("0x2")]("LS")&&d[_0x1d97("0x45a")](82)[_0x1d97("0xe")](x.LS),null!=x.LR&&x.hasOwnProperty("LR")&&d[_0x1d97("0x45a")](90)[_0x1d97("0xe")](x.LR),null!=x.LO&&x[_0x1d97("0x2")]("LO")&&d[_0x1d97("0x45a")](98)[_0x1d97("0xe")](x.LO),null!=x.X1&&x[_0x1d97("0x2")]("X1")&&d[_0x1d97("0x45a")](105)[_0x1d97("0x45f")](x.X1),null!=x.X2&&x[_0x1d97("0x2")]("X2")&&d[_0x1d97("0x45a")](113)[_0x1d97("0x45f")](x.X2),null!=x.Y1&&x[_0x1d97("0x2")]("Y1")&&d[_0x1d97("0x45a")](121)[_0x1d97("0x45f")](x.Y1),null!=x.Y2&&x[_0x1d97("0x2")]("Y2")&&d[_0x1d97("0x45a")](129)[_0x1d97("0x45f")](x.Y2),null!=x.O1&&x[_0x1d97("0x2")]("O1")&&d[_0x1d97("0x45a")](138)[_0x1d97("0xe")](x.O1),null!=x.O2&&x[_0x1d97("0x2")]("O2")&&d[_0x1d97("0x45a")](146).string(x.O2),null!=x.other1&&x.hasOwnProperty(_0x1d97("0x458"))&&d[_0x1d97("0x45a")](154)[_0x1d97("0xe")](x[_0x1d97("0x458")]),d},x[_0x1d97("0x466")]=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c.ESMap[_0x1d97("0xd58")]);x.pos<_;){var t=x.uint32();switch(t>>>3){case 1:e._id=x[_0x1d97("0x45b")]();break;case 2:e.name=x[_0x1d97("0xe")]();break;case 3:e[_0x1d97("0x171")]=x[_0x1d97("0x45b")]();break;case 4:e.F1=x[_0x1d97("0x45b")]();break;case 5:e.F2=x[_0x1d97("0x45b")]();break;case 6:e.ST=x[_0x1d97("0x45b")]();break;case 7:e.LT=x[_0x1d97("0x45b")]();break;case 8:e.LH=x.int32();break;case 9:e.LM=x[_0x1d97("0xe")]();break;case 10:e.LS=x[_0x1d97("0xe")]();break;case 11:e.LR=x.string();break;case 12:e.LO=x[_0x1d97("0xe")]();break;case 13:e.X1=x.double();break;case 14:e.X2=x[_0x1d97("0x45f")]();break;case 15:e.Y1=x.double();break;case 16:e.Y2=x[_0x1d97("0x45f")]();break;case 17:e.O1=x[_0x1d97("0xe")]();break;case 18:e.O2=x.string();break;case 19:e[_0x1d97("0x458")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return"object"!==(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e.default)(x))||null===x?_0x1d97("0x46c"):null!=x._id&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?"_id: integer expected":null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")]("name")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xb8")])?_0x1d97("0xd39"):null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x171")])?"Tid: integer expected":null!=x.F1&&x[_0x1d97("0x2")]("F1")&&!o.isInteger(x.F1)?"F1: integer expected":null!=x.F2&&x[_0x1d97("0x2")]("F2")&&!o.isInteger(x.F2)?_0x1d97("0xd71"):null!=x.ST&&x[_0x1d97("0x2")]("ST")&&!o[_0x1d97("0x46d")](x.ST)?_0x1d97("0xd72"):null!=x.LT&&x[_0x1d97("0x2")]("LT")&&!o[_0x1d97("0x46d")](x.LT)?_0x1d97("0xd73"):null!=x.LH&&x[_0x1d97("0x2")]("LH")&&!o[_0x1d97("0x46d")](x.LH)?_0x1d97("0xd74"):null!=x.LM&&x[_0x1d97("0x2")]("LM")&&!o.isString(x.LM)?"LM: string expected":null!=x.LS&&x[_0x1d97("0x2")]("LS")&&!o[_0x1d97("0x1d1")](x.LS)?_0x1d97("0xd75"):null!=x.LR&&x[_0x1d97("0x2")]("LR")&&!o[_0x1d97("0x1d1")](x.LR)?_0x1d97("0xd76"):null!=x.LO&&x[_0x1d97("0x2")]("LO")&&!o[_0x1d97("0x1d1")](x.LO)?_0x1d97("0xd77"):null!=x.X1&&x[_0x1d97("0x2")]("X1")&&typeof x.X1!==_0x1d97("0x13d")?"X1: number expected":null!=x.X2&&x[_0x1d97("0x2")]("X2")&&typeof x.X2!==_0x1d97("0x13d")?_0x1d97("0xd78"):null!=x.Y1&&x[_0x1d97("0x2")]("Y1")&&typeof x.Y1!==_0x1d97("0x13d")?_0x1d97("0xd79"):null!=x.Y2&&x[_0x1d97("0x2")]("Y2")&&"number"!=typeof x.Y2?"Y2: number expected":null!=x.O1&&x.hasOwnProperty("O1")&&!o[_0x1d97("0x1d1")](x.O1)?_0x1d97("0xd7a"):null!=x.O2&&x[_0x1d97("0x2")]("O2")&&!o[_0x1d97("0x1d1")](x.O2)?_0x1d97("0xd7b"):null!=x.other1&&x.hasOwnProperty(_0x1d97("0x458"))&&!o.isString(x[_0x1d97("0x458")])?_0x1d97("0x48b"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd58")])return x;var d=new(c.ESMap[_0x1d97("0xd58")]);return null!=x._id&&(d._id=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0xb8")]&&(d[_0x1d97("0xb8")]=String(x[_0x1d97("0xb8")])),null!=x[_0x1d97("0x171")]&&(d.Tid=0|x[_0x1d97("0x171")]),null!=x.F1&&(d.F1=0|x.F1),null!=x.F2&&(d.F2=0|x.F2),null!=x.ST&&(d.ST=0|x.ST),null!=x.LT&&(d.LT=0|x.LT),null!=x.LH&&(d.LH=0|x.LH),null!=x.LM&&(d.LM=String(x.LM)),null!=x.LS&&(d.LS=String(x.LS)),null!=x.LR&&(d.LR=String(x.LR)),null!=x.LO&&(d.LO=String(x.LO)),null!=x.X1&&(d.X1=Number(x.X1)),null!=x.X2&&(d.X2=Number(x.X2)),null!=x.Y1&&(d.Y1=Number(x.Y1)),null!=x.Y2&&(d.Y2=Number(x.Y2)),null!=x.O1&&(d.O1=String(x.O1)),null!=x.O2&&(d.O2=String(x.O2)),null!=x[_0x1d97("0x458")]&&(d[_0x1d97("0x458")]=String(x.other1)),d},x.from=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_[_0x1d97("0x170")]=0,_[_0x1d97("0xb8")]="",_.Tid=0,_.F1=0,_.F2=0,_.ST=0,_.LT=0,_.LH=0,_.LM="",_.LS="",_.LR="",_.LO="",_.X1=0,_.X2=0,_.Y1=0,_.Y2=0,_.O1="",_.O2="",_[_0x1d97("0x458")]=""),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x[_0x1d97("0xb8")]&&x[_0x1d97("0x2")](_0x1d97("0xb8"))&&(_[_0x1d97("0xb8")]=x[_0x1d97("0xb8")]),null!=x[_0x1d97("0x171")]&&x[_0x1d97("0x2")](_0x1d97("0x171"))&&(_.Tid=x[_0x1d97("0x171")]),null!=x.F1&&x[_0x1d97("0x2")]("F1")&&(_.F1=x.F1),null!=x.F2&&x.hasOwnProperty("F2")&&(_.F2=x.F2),null!=x.ST&&x[_0x1d97("0x2")]("ST")&&(_.ST=x.ST),null!=x.LT&&x[_0x1d97("0x2")]("LT")&&(_.LT=x.LT),null!=x.LH&&x.hasOwnProperty("LH")&&(_.LH=x.LH),null!=x.LM&&x.hasOwnProperty("LM")&&(_.LM=x.LM),null!=x.LS&&x[_0x1d97("0x2")]("LS")&&(_.LS=x.LS),null!=x.LR&&x[_0x1d97("0x2")]("LR")&&(_.LR=x.LR),null!=x.LO&&x.hasOwnProperty("LO")&&(_.LO=x.LO),null!=x.X1&&x[_0x1d97("0x2")]("X1")&&(_.X1=x.X1),null!=x.X2&&x[_0x1d97("0x2")]("X2")&&(_.X2=x.X2),null!=x.Y1&&x[_0x1d97("0x2")]("Y1")&&(_.Y1=x.Y1),null!=x.Y2&&x[_0x1d97("0x2")]("Y2")&&(_.Y2=x.Y2),null!=x.O1&&x[_0x1d97("0x2")]("O1")&&(_.O1=x.O1),null!=x.O2&&x[_0x1d97("0x2")]("O2")&&(_.O2=x.O2),null!=x[_0x1d97("0x458")]&&x.hasOwnProperty(_0x1d97("0x458"))&&(_[_0x1d97("0x458")]=x.other1),_},x.prototype.toObject=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x.prototype.toJSON=function(){return this.constructor[_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xd35")]=function(){function x(x){if(this[_0x1d97("0xc49")]={},this[_0x1d97("0x18e")]={},x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0xad8")]=0,x[_0x1d97("0xf")].Nodes=o.emptyObject,x[_0x1d97("0xf")][_0x1d97("0x18e")]=o[_0x1d97("0xc98")],x[_0x1d97("0xd")]=function(d){return new x(d)},x.encode=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0xad8")]),null!=x[_0x1d97("0xc49")]&&x[_0x1d97("0x2")]("Nodes"))for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8).int32(_[e]),c[_0x1d97("0x33")][_0x1d97("0xcd8")][_0x1d97("0x467")](x[_0x1d97("0xc49")][_[e]],d[_0x1d97("0x45a")](18).fork())[_0x1d97("0xc9b")]()[_0x1d97("0xc9b")]();if(null!=x[_0x1d97("0x18e")]&&x[_0x1d97("0x2")]("Lines"))for(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x18e")]),e=0;e<_[_0x1d97("0x0")];++e)d.uint32(26)[_0x1d97("0xc99")]()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")][_0x1d97("0xcd9")].encode(x[_0x1d97("0x18e")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]().ldelim();return d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d).ldelim()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _,e=void 0===d?x.len:x[_0x1d97("0x3ed")]+d,t=new c.ESMap.NavSet;x[_0x1d97("0x3ed")]<e;){var a=x[_0x1d97("0x45a")]();switch(a>>>3){case 1:t[_0x1d97("0xad8")]=x[_0x1d97("0x45b")]();break;case 2:x.skip()[_0x1d97("0x3ed")]++,t[_0x1d97("0xc49")]===o.emptyObject&&(t.Nodes={}),_=x[_0x1d97("0x45b")](),x.pos++,t[_0x1d97("0xc49")][_]=c.ESMap[_0x1d97("0xcd8")][_0x1d97("0x45")](x,x.uint32());break;case 3:x[_0x1d97("0xc9d")]()[_0x1d97("0x3ed")]++,t[_0x1d97("0x18e")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0x18e")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0x18e")][_]=c[_0x1d97("0x33")][_0x1d97("0xcd9")][_0x1d97("0x45")](x,x[_0x1d97("0x45a")]());break;default:x[_0x1d97("0x468")](7&a)}}return t},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x.verify=function(x){if((void 0===x?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x.floornum&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xad8")]))return _0x1d97("0xd59");if(null!=x[_0x1d97("0xc49")]&&x.hasOwnProperty(_0x1d97("0xc49"))){if(!o.isObject(x.Nodes))return _0x1d97("0xcdb");for(var d=(0,t.default)(x[_0x1d97("0xc49")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xcdd");if(a=c.ESMap[_0x1d97("0xcd8")][_0x1d97("0x46b")](x.Nodes[d[_]]))return"Nodes."+a}}if(null!=x[_0x1d97("0x18e")]&&x[_0x1d97("0x2")](_0x1d97("0x18e"))){if(!o.isObject(x[_0x1d97("0x18e")]))return _0x1d97("0xcdf");for(d=(0,t[_0x1d97("0x1c")])(x.Lines),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xd7c");var a;if(a=c[_0x1d97("0x33")][_0x1d97("0xcd9")][_0x1d97("0x46b")](x[_0x1d97("0x18e")][d[_]]))return _0x1d97("0xce0")+a}}return null},x.fromObject=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd35")])return x;var d=new(c[_0x1d97("0x33")][_0x1d97("0xd35")]);if(null!=x[_0x1d97("0xad8")]&&(d[_0x1d97("0xad8")]=0|x.floornum),x[_0x1d97("0xc49")]){if((0,e.default)(x[_0x1d97("0xc49")])!==_0x1d97("0xc"))throw TypeError(".ESMap.NavSet.Nodes: object expected");d[_0x1d97("0xc49")]={};for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc49")][_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd7d"));d[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xcd8")][_0x1d97("0x494")](x[_0x1d97("0xc49")][_[a]])}}if(x[_0x1d97("0x18e")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0x18e")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd7e"));for(d.Lines={},_=(0,t.default)(x[_0x1d97("0x18e")]),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0x18e")][_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd7e"));d[_0x1d97("0x18e")][_[a]]=c.ESMap[_0x1d97("0xcd9")][_0x1d97("0x494")](x.Lines[_[a]])}}return d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _,e={};if((d[_0x1d97("0x642")]||d[_0x1d97("0x499")])&&(e[_0x1d97("0xc49")]={},e[_0x1d97("0x18e")]={}),d[_0x1d97("0x499")]&&(e.floornum=0),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")]("floornum")&&(e[_0x1d97("0xad8")]=x[_0x1d97("0xad8")]),x.Nodes&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]))[_0x1d97("0x0")]){e[_0x1d97("0xc49")]={};for(var a=0;a<_.length;++a)e[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x33")].NavNodeSet[_0x1d97("0x49d")](x[_0x1d97("0xc49")][_[a]],d)}if(x[_0x1d97("0x18e")]&&(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0x18e")])).length)for(e[_0x1d97("0x18e")]={},a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0x18e")][_[a]]=c.ESMap[_0x1d97("0xcd9")][_0x1d97("0x49d")](x.Lines[_[a]],d);return e},x[_0x1d97("0xf")][_0x1d97("0x49d")]=function(x){return this[_0x1d97("0x49c")].toObject(this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")].toJSONOptions)},x}(),i[_0x1d97("0xcd8")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0x40")]=0,x[_0x1d97("0xf")].rid=0,x.prototype.X=0,x[_0x1d97("0xf")].Y=0,x.prototype[_0x1d97("0xce3")]=0,x[_0x1d97("0xf")].Z=0,x.create=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x.tid&&x.hasOwnProperty("tid")&&d.uint32(16).int32(x.tid),null!=x[_0x1d97("0xd7f")]&&x.hasOwnProperty("rid")&&d[_0x1d97("0x45a")](24)[_0x1d97("0x45b")](x[_0x1d97("0xd7f")]),null!=x.X&&x[_0x1d97("0x2")]("X")&&d[_0x1d97("0x45a")](33)[_0x1d97("0x45f")](x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&d[_0x1d97("0x45a")](41).double(x.Y),null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")]("sid")&&d.uint32(48)[_0x1d97("0x45b")](x[_0x1d97("0xce3")]),null!=x.Z&&x[_0x1d97("0x2")]("Z")&&d[_0x1d97("0x45a")](57)[_0x1d97("0x45f")](x.Z),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x.decode=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xcd8")]);x[_0x1d97("0x3ed")]<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 2:e[_0x1d97("0x40")]=x[_0x1d97("0x45b")]();break;case 3:e[_0x1d97("0xd7f")]=x[_0x1d97("0x45b")]();break;case 4:e.X=x[_0x1d97("0x45f")]();break;case 5:e.Y=x.double();break;case 6:e[_0x1d97("0xce3")]=x[_0x1d97("0x45b")]();break;case 7:e.Z=x.double();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(void 0===x?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x._id)?"_id: integer expected":null!=x[_0x1d97("0x40")]&&x[_0x1d97("0x2")]("tid")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x40")])?"tid: integer expected":null!=x[_0x1d97("0xd7f")]&&x[_0x1d97("0x2")]("rid")&&!o[_0x1d97("0x46d")](x[_0x1d97("0xd7f")])?_0x1d97("0xd80"):null!=x.X&&x[_0x1d97("0x2")]("X")&&"number"!=typeof x.X?_0x1d97("0xccf"):null!=x.Y&&x[_0x1d97("0x2")]("Y")&&"number"!=typeof x.Y?_0x1d97("0xcd0"):null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xce3")])?"sid: integer expected":null!=x.Z&&x[_0x1d97("0x2")]("Z")&&typeof x.Z!==_0x1d97("0x13d")?_0x1d97("0xce6"):null},x.fromObject=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xcd8")])return x;var d=new(c[_0x1d97("0x33")].NavNodeSet);return null!=x._id&&(d[_0x1d97("0x170")]=0|x._id),null!=x[_0x1d97("0x40")]&&(d[_0x1d97("0x40")]=0|x[_0x1d97("0x40")]),null!=x[_0x1d97("0xd7f")]&&(d[_0x1d97("0xd7f")]=0|x[_0x1d97("0xd7f")]),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),null!=x[_0x1d97("0xce3")]&&(d[_0x1d97("0xce3")]=0|x[_0x1d97("0xce3")]),null!=x.Z&&(d.Z=Number(x.Z)),d},x.from=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _={};return d.defaults&&(_._id=0,_[_0x1d97("0x40")]=0,_.rid=0,_.X=0,_.Y=0,_[_0x1d97("0xce3")]=0,_.Z=0),null!=x._id&&x.hasOwnProperty("_id")&&(_._id=x[_0x1d97("0x170")]),null!=x[_0x1d97("0x40")]&&x[_0x1d97("0x2")](_0x1d97("0x40"))&&(_.tid=x[_0x1d97("0x40")]),null!=x[_0x1d97("0xd7f")]&&x[_0x1d97("0x2")](_0x1d97("0xd7f"))&&(_.rid=x[_0x1d97("0xd7f")]),null!=x.X&&x[_0x1d97("0x2")]("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&(_[_0x1d97("0xce3")]=x.sid),null!=x.Z&&x[_0x1d97("0x2")]("Z")&&(_.Z=x.Z),_},x[_0x1d97("0xf")].toObject=function(x){return this[_0x1d97("0x49c")].toObject(this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n.util.toJSONOptions)},x}(),i[_0x1d97("0xcd9")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x.prototype[_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0xce3")]=0,x[_0x1d97("0xf")][_0x1d97("0x464")]=0,x[_0x1d97("0xf")][_0x1d97("0xd81")]=0,x[_0x1d97("0xf")][_0x1d97("0x1aa")]=0,x[_0x1d97("0xf")][_0x1d97("0x0")]=0,x[_0x1d97("0xf")][_0x1d97("0xd82")]="",x.prototype[_0x1d97("0xce7")]="",x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s.create()),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x._id),null!=x[_0x1d97("0xce3")]&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&d.uint32(16)[_0x1d97("0x45b")](x[_0x1d97("0xce3")]),null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")](_0x1d97("0x464"))&&d[_0x1d97("0x45a")](24).int32(x[_0x1d97("0x464")]),null!=x.efnum&&x.hasOwnProperty(_0x1d97("0xd81"))&&d[_0x1d97("0x45a")](32)[_0x1d97("0x45b")](x[_0x1d97("0xd81")]),null!=x.rank&&x[_0x1d97("0x2")](_0x1d97("0x1aa"))&&d[_0x1d97("0x45a")](40)[_0x1d97("0x45b")](x[_0x1d97("0x1aa")]),null!=x[_0x1d97("0x0")]&&x[_0x1d97("0x2")](_0x1d97("0x0"))&&d[_0x1d97("0x45a")](49).double(x[_0x1d97("0x0")]),null!=x[_0x1d97("0xd82")]&&x[_0x1d97("0x2")](_0x1d97("0xd82"))&&d[_0x1d97("0x45a")](58)[_0x1d97("0xe")](x[_0x1d97("0xd82")]),null!=x.bstair&&x[_0x1d97("0x2")](_0x1d97("0xce7"))&&d.uint32(66)[_0x1d97("0xe")](x[_0x1d97("0xce7")]),d},x.encodeDelimited=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x.pos+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xcd9")]);x[_0x1d97("0x3ed")]<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 2:e[_0x1d97("0xce3")]=x[_0x1d97("0x45b")]();break;case 3:e[_0x1d97("0x464")]=x.int32();break;case 4:e[_0x1d97("0xd81")]=x.int32();break;case 5:e[_0x1d97("0x1aa")]=x[_0x1d97("0x45b")]();break;case 6:e[_0x1d97("0x0")]=x[_0x1d97("0x45f")]();break;case 7:e.direction=x[_0x1d97("0xe")]();break;case 8:e[_0x1d97("0xce7")]=x.string();break;default:x.skipType(7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return"object"!==(typeof x===_0x1d97("0x8")?"undefined":(0,e[_0x1d97("0x1c")])(x))||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x[_0x1d97("0xce3")]&&x.hasOwnProperty(_0x1d97("0xce3"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xce3")])?_0x1d97("0xce5"):null!=x.eid&&x[_0x1d97("0x2")]("eid")&&!o.isInteger(x[_0x1d97("0x464")])?"eid: integer expected":null!=x.efnum&&x[_0x1d97("0x2")](_0x1d97("0xd81"))&&!o.isInteger(x[_0x1d97("0xd81")])?_0x1d97("0xd83"):null!=x[_0x1d97("0x1aa")]&&x[_0x1d97("0x2")](_0x1d97("0x1aa"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x1aa")])?_0x1d97("0xceb"):null!=x[_0x1d97("0x0")]&&x[_0x1d97("0x2")](_0x1d97("0x0"))&&typeof x[_0x1d97("0x0")]!==_0x1d97("0x13d")?"length: number expected":null!=x[_0x1d97("0xd82")]&&x.hasOwnProperty("direction")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd82")])?"direction: string expected":null!=x[_0x1d97("0xce7")]&&x.hasOwnProperty("bstair")&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xce7")])?_0x1d97("0xd84"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c.ESMap[_0x1d97("0xcd9")])return x;var d=new(c.ESMap[_0x1d97("0xcd9")]);return null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x._id),null!=x[_0x1d97("0xce3")]&&(d[_0x1d97("0xce3")]=0|x[_0x1d97("0xce3")]),null!=x[_0x1d97("0x464")]&&(d[_0x1d97("0x464")]=0|x.eid),null!=x[_0x1d97("0xd81")]&&(d[_0x1d97("0xd81")]=0|x.efnum),null!=x[_0x1d97("0x1aa")]&&(d[_0x1d97("0x1aa")]=0|x[_0x1d97("0x1aa")]),null!=x[_0x1d97("0x0")]&&(d.length=Number(x[_0x1d97("0x0")])),null!=x.direction&&(d[_0x1d97("0xd82")]=String(x[_0x1d97("0xd82")])),null!=x.bstair&&(d[_0x1d97("0xce7")]=String(x.bstair)),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_[_0x1d97("0x170")]=0,_[_0x1d97("0xce3")]=0,_[_0x1d97("0x464")]=0,_[_0x1d97("0xd81")]=0,_.rank=0,_[_0x1d97("0x0")]=0,_.direction="",_.bstair=""),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.sid&&x[_0x1d97("0x2")](_0x1d97("0xce3"))&&(_[_0x1d97("0xce3")]=x[_0x1d97("0xce3")]),null!=x[_0x1d97("0x464")]&&x[_0x1d97("0x2")]("eid")&&(_[_0x1d97("0x464")]=x[_0x1d97("0x464")]),null!=x[_0x1d97("0xd81")]&&x[_0x1d97("0x2")](_0x1d97("0xd81"))&&(_.efnum=x[_0x1d97("0xd81")]),null!=x[_0x1d97("0x1aa")]&&x[_0x1d97("0x2")](_0x1d97("0x1aa"))&&(_.rank=x.rank),null!=x[_0x1d97("0x0")]&&x[_0x1d97("0x2")](_0x1d97("0x0"))&&(_[_0x1d97("0x0")]=x[_0x1d97("0x0")]),null!=x.direction&&x[_0x1d97("0x2")](_0x1d97("0xd82"))&&(_.direction=x[_0x1d97("0xd82")]),null!=x[_0x1d97("0xce7")]&&x[_0x1d97("0x2")](_0x1d97("0xce7"))&&(_[_0x1d97("0xce7")]=x[_0x1d97("0xce7")]),_},x[_0x1d97("0xf")].toObject=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xd36")]=function(){function x(x){if(this[_0x1d97("0xc49")]={},this.Infos={},x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0xd85")]="",x.prototype.bgaudio="",x[_0x1d97("0xf")][_0x1d97("0xd86")]=0,x.prototype.picscale="",x[_0x1d97("0xf")][_0x1d97("0xd87")]="",x.prototype[_0x1d97("0xc49")]=o[_0x1d97("0xc98")],x[_0x1d97("0xf")][_0x1d97("0xd88")]=o.emptyObject,x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){if(d||(d=s.create()),null!=x[_0x1d97("0xd85")]&&x.hasOwnProperty(_0x1d97("0xd85"))&&d[_0x1d97("0x45a")](10)[_0x1d97("0xe")](x[_0x1d97("0xd85")]),null!=x.bgaudio&&x[_0x1d97("0x2")](_0x1d97("0xd89"))&&d[_0x1d97("0x45a")](18)[_0x1d97("0xe")](x[_0x1d97("0xd89")]),null!=x.bgaudioplay&&x[_0x1d97("0x2")]("bgaudioplay")&&d[_0x1d97("0x45a")](24)[_0x1d97("0x45b")](x.bgaudioplay),null!=x[_0x1d97("0xd8a")]&&x.hasOwnProperty("picscale")&&d[_0x1d97("0x45a")](34).string(x[_0x1d97("0xd8a")]),null!=x[_0x1d97("0xd87")]&&x[_0x1d97("0x2")](_0x1d97("0xd87"))&&d.uint32(42).string(x[_0x1d97("0xd87")]),null!=x.Nodes&&x[_0x1d97("0x2")](_0x1d97("0xc49")))for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),e=0;e<_[_0x1d97("0x0")];++e)d[_0x1d97("0x45a")](50).fork()[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")][_0x1d97("0xd8b")][_0x1d97("0x467")](x[_0x1d97("0xc49")][_[e]],d[_0x1d97("0x45a")](18).fork()).ldelim()[_0x1d97("0xc9b")]();if(null!=x[_0x1d97("0xd88")]&&x[_0x1d97("0x2")]("Infos"))for(_=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd88")]),e=0;e<_.length;++e)d[_0x1d97("0x45a")](58)[_0x1d97("0xc99")]().uint32(8)[_0x1d97("0x45b")](_[e]),c[_0x1d97("0x33")][_0x1d97("0xd8c")][_0x1d97("0x467")](x[_0x1d97("0xd88")][_[e]],d[_0x1d97("0x45a")](18)[_0x1d97("0xc99")]())[_0x1d97("0xc9b")]()[_0x1d97("0xc9b")]();return d},x[_0x1d97("0x466")]=function(x,d){return this.encode(x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r.create(x));for(var _,e=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,t=new(c.ESMap[_0x1d97("0xd36")]);x.pos<e;){var a=x[_0x1d97("0x45a")]();switch(a>>>3){case 1:t[_0x1d97("0xd85")]=x.string();break;case 2:t[_0x1d97("0xd89")]=x[_0x1d97("0xe")]();break;case 3:t[_0x1d97("0xd86")]=x[_0x1d97("0x45b")]();break;case 4:t[_0x1d97("0xd8a")]=x.string();break;case 5:t[_0x1d97("0xd87")]=x[_0x1d97("0xe")]();break;case 6:x.skip()[_0x1d97("0x3ed")]++,t[_0x1d97("0xc49")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xc49")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t.Nodes[_]=c[_0x1d97("0x33")][_0x1d97("0xd8b")].decode(x,x[_0x1d97("0x45a")]());break;case 7:x[_0x1d97("0xc9d")]().pos++,t[_0x1d97("0xd88")]===o[_0x1d97("0xc98")]&&(t[_0x1d97("0xd88")]={}),_=x[_0x1d97("0x45b")](),x[_0x1d97("0x3ed")]++,t[_0x1d97("0xd88")][_]=c[_0x1d97("0x33")].PicClickSet.decode(x,x[_0x1d97("0x45a")]());break;default:x[_0x1d97("0x468")](7&a)}}return t},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x.verify=function(x){if("object"!==(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e.default)(x))||null===x)return _0x1d97("0x46c");if(null!=x[_0x1d97("0xd85")]&&x.hasOwnProperty(_0x1d97("0xd85"))&&!o[_0x1d97("0x1d1")](x.serverurl))return _0x1d97("0xd8d");if(null!=x.bgaudio&&x.hasOwnProperty(_0x1d97("0xd89"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd89")]))return"bgaudio: string expected";if(null!=x.bgaudioplay&&x[_0x1d97("0x2")](_0x1d97("0xd86"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xd86")]))return"bgaudioplay: integer expected";if(null!=x[_0x1d97("0xd8a")]&&x[_0x1d97("0x2")](_0x1d97("0xd8a"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd8a")]))return _0x1d97("0xd8e");if(null!=x[_0x1d97("0xd87")]&&x[_0x1d97("0x2")]("msgscale")&&!o.isString(x[_0x1d97("0xd87")]))return _0x1d97("0xd8f");if(null!=x.Nodes&&x[_0x1d97("0x2")](_0x1d97("0xc49"))){if(!o.isObject(x[_0x1d97("0xc49")]))return _0x1d97("0xcdb");for(var d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),_=0;_<d.length;++_){if(!o[_0x1d97("0xcdc")].test(d[_]))return _0x1d97("0xcdd");if(a=c[_0x1d97("0x33")].PicNodeSet[_0x1d97("0x46b")](x[_0x1d97("0xc49")][d[_]]))return _0x1d97("0xcde")+a}}if(null!=x[_0x1d97("0xd88")]&&x.hasOwnProperty(_0x1d97("0xd88"))){if(!o[_0x1d97("0x339")](x[_0x1d97("0xd88")]))return"Infos: object expected";for(d=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xd88")]),_=0;_<d[_0x1d97("0x0")];++_){if(!o[_0x1d97("0xcdc")][_0x1d97("0x3b3")](d[_]))return _0x1d97("0xd90");var a;if(a=c[_0x1d97("0x33")][_0x1d97("0xd8c")].verify(x.Infos[d[_]]))return _0x1d97("0xd91")+a}}return null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd36")])return x;var d=new(c[_0x1d97("0x33")][_0x1d97("0xd36")]);if(null!=x[_0x1d97("0xd85")]&&(d[_0x1d97("0xd85")]=String(x.serverurl)),null!=x[_0x1d97("0xd89")]&&(d[_0x1d97("0xd89")]=String(x.bgaudio)),null!=x[_0x1d97("0xd86")]&&(d[_0x1d97("0xd86")]=0|x[_0x1d97("0xd86")]),null!=x[_0x1d97("0xd8a")]&&(d[_0x1d97("0xd8a")]=String(x[_0x1d97("0xd8a")])),null!=x[_0x1d97("0xd87")]&&(d[_0x1d97("0xd87")]=String(x[_0x1d97("0xd87")])),x[_0x1d97("0xc49")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc49")])!==_0x1d97("0xc"))throw TypeError(".ESMap.PicSet.Nodes: object expected");d[_0x1d97("0xc49")]={};for(var _=(0,t[_0x1d97("0x1c")])(x[_0x1d97("0xc49")]),a=0;a<_[_0x1d97("0x0")];++a){if("object"!==(0,e[_0x1d97("0x1c")])(x[_0x1d97("0xc49")][_[a]]))throw TypeError(_0x1d97("0xd92"));d[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xd8b")].fromObject(x[_0x1d97("0xc49")][_[a]])}}if(x[_0x1d97("0xd88")]){if((0,e[_0x1d97("0x1c")])(x[_0x1d97("0xd88")])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd93"));for(d[_0x1d97("0xd88")]={},_=(0,t[_0x1d97("0x1c")])(x.Infos),a=0;a<_[_0x1d97("0x0")];++a){if((0,e[_0x1d97("0x1c")])(x.Infos[_[a]])!==_0x1d97("0xc"))throw TypeError(_0x1d97("0xd93"));d[_0x1d97("0xd88")][_[a]]=c.ESMap[_0x1d97("0xd8c")][_0x1d97("0x494")](x[_0x1d97("0xd88")][_[a]])}}return d},x.from=x[_0x1d97("0x494")],x.toObject=function(x,d){d||(d={});var _,e={};if((d[_0x1d97("0x642")]||d[_0x1d97("0x499")])&&(e[_0x1d97("0xc49")]={},e[_0x1d97("0xd88")]={}),d[_0x1d97("0x499")]&&(e[_0x1d97("0xd85")]="",e[_0x1d97("0xd89")]="",e[_0x1d97("0xd86")]=0,e[_0x1d97("0xd8a")]="",e[_0x1d97("0xd87")]=""),null!=x.serverurl&&x[_0x1d97("0x2")](_0x1d97("0xd85"))&&(e[_0x1d97("0xd85")]=x[_0x1d97("0xd85")]),null!=x[_0x1d97("0xd89")]&&x[_0x1d97("0x2")]("bgaudio")&&(e.bgaudio=x[_0x1d97("0xd89")]),null!=x[_0x1d97("0xd86")]&&x.hasOwnProperty(_0x1d97("0xd86"))&&(e.bgaudioplay=x[_0x1d97("0xd86")]),null!=x[_0x1d97("0xd8a")]&&x.hasOwnProperty(_0x1d97("0xd8a"))&&(e.picscale=x[_0x1d97("0xd8a")]),null!=x[_0x1d97("0xd87")]&&x[_0x1d97("0x2")](_0x1d97("0xd87"))&&(e[_0x1d97("0xd87")]=x.msgscale),x.Nodes&&(_=(0,t[_0x1d97("0x1c")])(x.Nodes))[_0x1d97("0x0")]){e.Nodes={};for(var a=0;a<_[_0x1d97("0x0")];++a)e[_0x1d97("0xc49")][_[a]]=c[_0x1d97("0x33")].PicNodeSet[_0x1d97("0x49d")](x[_0x1d97("0xc49")][_[a]],d)}if(x[_0x1d97("0xd88")]&&(_=(0,t[_0x1d97("0x1c")])(x.Infos))[_0x1d97("0x0")])for(e[_0x1d97("0xd88")]={},a=0;a<_.length;++a)e[_0x1d97("0xd88")][_[a]]=c[_0x1d97("0x33")][_0x1d97("0xd8c")].toObject(x[_0x1d97("0xd88")][_[a]],d);return e},x.prototype.toObject=function(x){return this[_0x1d97("0x49c")].toObject(this,x)},x[_0x1d97("0xf")].toJSON=function(){return this.constructor[_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xd8b")]=function(){function x(x){if(this[_0x1d97("0xd94")]=[],this[_0x1d97("0xd95")]=[],x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d.length;++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")][_0x1d97("0xad8")]=0,x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x[_0x1d97("0xf")][_0x1d97("0x48")]="",x[_0x1d97("0xf")][_0x1d97("0xd96")]=0,x[_0x1d97("0xf")].X=0,x.prototype.Y=0,x[_0x1d97("0xf")].idlist1=o[_0x1d97("0xd2f")],x[_0x1d97("0xf")][_0x1d97("0xd95")]=o[_0x1d97("0xd2f")],x[_0x1d97("0xd")]=function(d){return new x(d)},x.encode=function(x,d){if(d||(d=s[_0x1d97("0xd")]()),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")]("floornum")&&d[_0x1d97("0x45a")](8)[_0x1d97("0x45b")](x[_0x1d97("0xad8")]),null!=x._id&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d.uint32(16)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x[_0x1d97("0x48")]&&x[_0x1d97("0x2")](_0x1d97("0x48"))&&d[_0x1d97("0x45a")](26)[_0x1d97("0xe")](x.url),null!=x[_0x1d97("0xd96")]&&x[_0x1d97("0x2")](_0x1d97("0xd96"))&&d.uint32(32).int32(x.base),null!=x.X&&x[_0x1d97("0x2")]("X")&&d[_0x1d97("0x45a")](41)[_0x1d97("0x45f")](x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&d.uint32(49)[_0x1d97("0x45f")](x.Y),null!=x[_0x1d97("0xd94")]&&x[_0x1d97("0xd94")][_0x1d97("0x0")]){d[_0x1d97("0x45a")](58)[_0x1d97("0xc99")]();for(var _=0;_<x[_0x1d97("0xd94")].length;++_)d[_0x1d97("0x45b")](x[_0x1d97("0xd94")][_]);d[_0x1d97("0xc9b")]()}if(null!=x[_0x1d97("0xd95")]&&x[_0x1d97("0xd95")].length){for(d[_0x1d97("0x45a")](66)[_0x1d97("0xc99")](),_=0;_<x[_0x1d97("0xd95")][_0x1d97("0x0")];++_)d[_0x1d97("0x45b")](x[_0x1d97("0xd95")][_]);d.ldelim()}return d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d).ldelim()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xd8b")]);x[_0x1d97("0x3ed")]<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0xad8")]=x.int32();break;case 2:e[_0x1d97("0x170")]=x[_0x1d97("0x45b")]();break;case 3:e.url=x[_0x1d97("0xe")]();break;case 4:e[_0x1d97("0xd96")]=x[_0x1d97("0x45b")]();break;case 5:e.X=x.double();break;case 6:e.Y=x[_0x1d97("0x45f")]();break;case 7:if(e[_0x1d97("0xd94")]&&e[_0x1d97("0xd94")].length||(e[_0x1d97("0xd94")]=[]),2==(7&t))for(var a=x[_0x1d97("0x45a")]()+x.pos;x[_0x1d97("0x3ed")]<a;)e[_0x1d97("0xd94")].push(x[_0x1d97("0x45b")]());else e[_0x1d97("0xd94")][_0x1d97("0x1")](x.int32());break;case 8:if(e.idlist2&&e.idlist2[_0x1d97("0x0")]||(e[_0x1d97("0xd95")]=[]),2==(7&t))for(a=x[_0x1d97("0x45a")]()+x.pos;x[_0x1d97("0x3ed")]<a;)e[_0x1d97("0xd95")][_0x1d97("0x1")](x.int32());else e[_0x1d97("0xd95")][_0x1d97("0x1")](x.int32());break;default:x.skipType(7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this[_0x1d97("0x45")](x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){if((typeof x===_0x1d97("0x8")?"undefined":(0,e[_0x1d97("0x1c")])(x))!==_0x1d97("0xc")||null===x)return _0x1d97("0x46c");if(null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")]("floornum")&&!o[_0x1d97("0x46d")](x.floornum))return"floornum: integer expected";if(null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")]))return _0x1d97("0x471");if(null!=x[_0x1d97("0x48")]&&x[_0x1d97("0x2")](_0x1d97("0x48"))&&!o[_0x1d97("0x1d1")](x.url))return _0x1d97("0xd97");if(null!=x[_0x1d97("0xd96")]&&x[_0x1d97("0x2")](_0x1d97("0xd96"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xd96")]))return _0x1d97("0xd98");if(null!=x.X&&x[_0x1d97("0x2")]("X")&&typeof x.X!==_0x1d97("0x13d"))return _0x1d97("0xccf");if(null!=x.Y&&x[_0x1d97("0x2")]("Y")&&typeof x.Y!==_0x1d97("0x13d"))return"Y: number expected";if(null!=x[_0x1d97("0xd94")]&&x[_0x1d97("0x2")](_0x1d97("0xd94"))){if(!Array[_0x1d97("0x547")](x.idlist1))return"idlist1: array expected";for(var d=0;d<x[_0x1d97("0xd94")][_0x1d97("0x0")];++d)if(!o.isInteger(x[_0x1d97("0xd94")][d]))return _0x1d97("0xd99")}if(null!=x[_0x1d97("0xd95")]&&x.hasOwnProperty(_0x1d97("0xd95"))){if(!Array[_0x1d97("0x547")](x[_0x1d97("0xd95")]))return _0x1d97("0xd9a");for(d=0;d<x[_0x1d97("0xd95")].length;++d)if(!o[_0x1d97("0x46d")](x[_0x1d97("0xd95")][d]))return _0x1d97("0xd9b")}return null},x.fromObject=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd8b")])return x;var d=new(c[_0x1d97("0x33")][_0x1d97("0xd8b")]);if(null!=x[_0x1d97("0xad8")]&&(d[_0x1d97("0xad8")]=0|x.floornum),null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x[_0x1d97("0x170")]),null!=x[_0x1d97("0x48")]&&(d[_0x1d97("0x48")]=String(x[_0x1d97("0x48")])),null!=x[_0x1d97("0xd96")]&&(d[_0x1d97("0xd96")]=0|x.base),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),x[_0x1d97("0xd94")]){if(!Array[_0x1d97("0x547")](x[_0x1d97("0xd94")]))throw TypeError(_0x1d97("0xd9c"));d[_0x1d97("0xd94")]=[];for(var _=0;_<x[_0x1d97("0xd94")][_0x1d97("0x0")];++_)d.idlist1[_]=0|x.idlist1[_]}if(x[_0x1d97("0xd95")]){if(!Array.isArray(x[_0x1d97("0xd95")]))throw TypeError(_0x1d97("0xd9d"));for(d.idlist2=[],_=0;_<x[_0x1d97("0xd95")][_0x1d97("0x0")];++_)d[_0x1d97("0xd95")][_]=0|x[_0x1d97("0xd95")][_]}return d},x.from=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};if((d[_0x1d97("0xd55")]||d[_0x1d97("0x499")])&&(_[_0x1d97("0xd94")]=[],_[_0x1d97("0xd95")]=[]),d.defaults&&(_[_0x1d97("0xad8")]=0,_[_0x1d97("0x170")]=0,_.url="",_[_0x1d97("0xd96")]=0,_.X=0,_.Y=0),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&(_[_0x1d97("0xad8")]=x[_0x1d97("0xad8")]),null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x[_0x1d97("0x48")]&&x[_0x1d97("0x2")](_0x1d97("0x48"))&&(_[_0x1d97("0x48")]=x[_0x1d97("0x48")]),null!=x[_0x1d97("0xd96")]&&x[_0x1d97("0x2")]("base")&&(_[_0x1d97("0xd96")]=x[_0x1d97("0xd96")]),null!=x.X&&x[_0x1d97("0x2")]("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),x.idlist1&&x[_0x1d97("0xd94")][_0x1d97("0x0")]){_[_0x1d97("0xd94")]=[];for(var e=0;e<x.idlist1.length;++e)_[_0x1d97("0xd94")][e]=x.idlist1[e]}if(x[_0x1d97("0xd95")]&&x.idlist2[_0x1d97("0x0")])for(_.idlist2=[],e=0;e<x[_0x1d97("0xd95")][_0x1d97("0x0")];++e)_.idlist2[e]=x[_0x1d97("0xd95")][e];return _},x.prototype[_0x1d97("0x49d")]=function(x){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")][_0x1d97("0x49d")](this,n[_0x1d97("0x442")][_0x1d97("0xca9")])},x}(),i[_0x1d97("0xd8c")]=function(){function x(x){if(x)for(var d=(0,t[_0x1d97("0x1c")])(x),_=0;_<d[_0x1d97("0x0")];++_)null!=x[d[_]]&&(this[d[_]]=x[d[_]])}return x[_0x1d97("0xf")].floornum=0,x[_0x1d97("0xf")][_0x1d97("0x170")]=0,x.prototype[_0x1d97("0xd9e")]="",x[_0x1d97("0xf")][_0x1d97("0xd9f")]="",x[_0x1d97("0xf")][_0x1d97("0xda0")]="",x.prototype[_0x1d97("0xda1")]="",x[_0x1d97("0xf")].X=0,x.prototype.Y=0,x[_0x1d97("0xf")].Z=0,x[_0x1d97("0xf")][_0x1d97("0xda2")]="",x[_0x1d97("0xf")][_0x1d97("0xda3")]="",x[_0x1d97("0xd")]=function(d){return new x(d)},x[_0x1d97("0x467")]=function(x,d){return d||(d=s.create()),null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&d.uint32(8)[_0x1d97("0x45b")](x[_0x1d97("0xad8")]),null!=x._id&&x[_0x1d97("0x2")](_0x1d97("0x170"))&&d[_0x1d97("0x45a")](16)[_0x1d97("0x45b")](x[_0x1d97("0x170")]),null!=x.purl&&x.hasOwnProperty(_0x1d97("0xd9e"))&&d.uint32(26)[_0x1d97("0xe")](x[_0x1d97("0xd9e")]),null!=x.aurl&&x[_0x1d97("0x2")](_0x1d97("0xd9f"))&&d[_0x1d97("0x45a")](34)[_0x1d97("0xe")](x[_0x1d97("0xd9f")]),null!=x[_0x1d97("0xda0")]&&x.hasOwnProperty(_0x1d97("0xda0"))&&d.uint32(42)[_0x1d97("0xe")](x.msgt),null!=x[_0x1d97("0xda1")]&&x[_0x1d97("0x2")](_0x1d97("0xda1"))&&d[_0x1d97("0x45a")](50).string(x[_0x1d97("0xda1")]),null!=x.X&&x[_0x1d97("0x2")]("X")&&d[_0x1d97("0x45a")](57)[_0x1d97("0x45f")](x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&d.uint32(65)[_0x1d97("0x45f")](x.Y),null!=x.Z&&x[_0x1d97("0x2")]("Z")&&d[_0x1d97("0x45a")](73)[_0x1d97("0x45f")](x.Z),null!=x[_0x1d97("0xda2")]&&x[_0x1d97("0x2")](_0x1d97("0xda2"))&&d[_0x1d97("0x45a")](82).string(x.curl),null!=x[_0x1d97("0xda3")]&&x[_0x1d97("0x2")](_0x1d97("0xda3"))&&d.uint32(90)[_0x1d97("0xe")](x.csize),d},x[_0x1d97("0x466")]=function(x,d){return this[_0x1d97("0x467")](x,d)[_0x1d97("0xc9b")]()},x[_0x1d97("0x45")]=function(x,d){x instanceof r||(x=r[_0x1d97("0xd")](x));for(var _=void 0===d?x[_0x1d97("0xccd")]:x[_0x1d97("0x3ed")]+d,e=new(c[_0x1d97("0x33")][_0x1d97("0xd8c")]);x.pos<_;){var t=x[_0x1d97("0x45a")]();switch(t>>>3){case 1:e[_0x1d97("0xad8")]=x[_0x1d97("0x45b")]();break;case 2:e._id=x.int32();break;case 3:e[_0x1d97("0xd9e")]=x.string();break;case 4:e[_0x1d97("0xd9f")]=x.string();break;case 5:e.msgt=x.string();break;case 6:e[_0x1d97("0xda1")]=x.string();break;case 7:e.X=x.double();break;case 8:e.Y=x[_0x1d97("0x45f")]();break;case 9:e.Z=x.double();break;case 10:e[_0x1d97("0xda2")]=x[_0x1d97("0xe")]();break;case 11:e[_0x1d97("0xda3")]=x[_0x1d97("0xe")]();break;default:x[_0x1d97("0x468")](7&t)}}return e},x[_0x1d97("0x46a")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x1d97("0x45a")]())},x[_0x1d97("0x46b")]=function(x){return(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e.default)(x))!==_0x1d97("0xc")||null===x?_0x1d97("0x46c"):null!=x[_0x1d97("0xad8")]&&x[_0x1d97("0x2")](_0x1d97("0xad8"))&&!o[_0x1d97("0x46d")](x[_0x1d97("0xad8")])?_0x1d97("0xd59"):null!=x[_0x1d97("0x170")]&&x[_0x1d97("0x2")]("_id")&&!o[_0x1d97("0x46d")](x[_0x1d97("0x170")])?_0x1d97("0x471"):null!=x[_0x1d97("0xd9e")]&&x[_0x1d97("0x2")](_0x1d97("0xd9e"))&&!o.isString(x[_0x1d97("0xd9e")])?_0x1d97("0xda4"):null!=x[_0x1d97("0xd9f")]&&x[_0x1d97("0x2")](_0x1d97("0xd9f"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xd9f")])?_0x1d97("0xda5"):null!=x.msgt&&x[_0x1d97("0x2")](_0x1d97("0xda0"))&&!o.isString(x[_0x1d97("0xda0")])?"msgt: string expected":null!=x[_0x1d97("0xda1")]&&x[_0x1d97("0x2")](_0x1d97("0xda1"))&&!o.isString(x[_0x1d97("0xda1")])?"msgc: string expected":null!=x.X&&x[_0x1d97("0x2")]("X")&&typeof x.X!==_0x1d97("0x13d")?_0x1d97("0xccf"):null!=x.Y&&x[_0x1d97("0x2")]("Y")&&typeof x.Y!==_0x1d97("0x13d")?"Y: number expected":null!=x.Z&&x[_0x1d97("0x2")]("Z")&&"number"!=typeof x.Z?_0x1d97("0xce6"):null!=x[_0x1d97("0xda2")]&&x[_0x1d97("0x2")](_0x1d97("0xda2"))&&!o[_0x1d97("0x1d1")](x[_0x1d97("0xda2")])?"curl: string expected":null!=x.csize&&x[_0x1d97("0x2")](_0x1d97("0xda3"))&&!o.isString(x[_0x1d97("0xda3")])?_0x1d97("0xda6"):null},x[_0x1d97("0x494")]=function(x){if(x instanceof c[_0x1d97("0x33")][_0x1d97("0xd8c")])return x;var d=new(c[_0x1d97("0x33")].PicClickSet);return null!=x.floornum&&(d[_0x1d97("0xad8")]=0|x[_0x1d97("0xad8")]),null!=x[_0x1d97("0x170")]&&(d[_0x1d97("0x170")]=0|x._id),null!=x[_0x1d97("0xd9e")]&&(d.purl=String(x[_0x1d97("0xd9e")])),null!=x.aurl&&(d[_0x1d97("0xd9f")]=String(x[_0x1d97("0xd9f")])),null!=x[_0x1d97("0xda0")]&&(d[_0x1d97("0xda0")]=String(x[_0x1d97("0xda0")])),null!=x[_0x1d97("0xda1")]&&(d.msgc=String(x[_0x1d97("0xda1")])),null!=x.X&&(d.X=Number(x.X)),null!=x.Y&&(d.Y=Number(x.Y)),null!=x.Z&&(d.Z=Number(x.Z)),null!=x[_0x1d97("0xda2")]&&(d[_0x1d97("0xda2")]=String(x[_0x1d97("0xda2")])),null!=x[_0x1d97("0xda3")]&&(d[_0x1d97("0xda3")]=String(x[_0x1d97("0xda3")])),d},x[_0x1d97("0x2e4")]=x[_0x1d97("0x494")],x[_0x1d97("0x49d")]=function(x,d){d||(d={});var _={};return d[_0x1d97("0x499")]&&(_[_0x1d97("0xad8")]=0,_._id=0,_[_0x1d97("0xd9e")]="",_[_0x1d97("0xd9f")]="",_[_0x1d97("0xda0")]="",_.msgc="",_.X=0,_.Y=0,_.Z=0,_[_0x1d97("0xda2")]="",_.csize=""),null!=x[_0x1d97("0xad8")]&&x.hasOwnProperty(_0x1d97("0xad8"))&&(_[_0x1d97("0xad8")]=x[_0x1d97("0xad8")]),null!=x[_0x1d97("0x170")]&&x.hasOwnProperty(_0x1d97("0x170"))&&(_[_0x1d97("0x170")]=x[_0x1d97("0x170")]),null!=x.purl&&x[_0x1d97("0x2")]("purl")&&(_.purl=x.purl),null!=x[_0x1d97("0xd9f")]&&x.hasOwnProperty(_0x1d97("0xd9f"))&&(_[_0x1d97("0xd9f")]=x[_0x1d97("0xd9f")]),null!=x.msgt&&x.hasOwnProperty("msgt")&&(_.msgt=x[_0x1d97("0xda0")]),null!=x[_0x1d97("0xda1")]&&x[_0x1d97("0x2")](_0x1d97("0xda1"))&&(_[_0x1d97("0xda1")]=x.msgc),null!=x.X&&x[_0x1d97("0x2")]("X")&&(_.X=x.X),null!=x.Y&&x[_0x1d97("0x2")]("Y")&&(_.Y=x.Y),null!=x.Z&&x.hasOwnProperty("Z")&&(_.Z=x.Z),null!=x[_0x1d97("0xda2")]&&x[_0x1d97("0x2")](_0x1d97("0xda2"))&&(_[_0x1d97("0xda2")]=x[_0x1d97("0xda2")]),null!=x[_0x1d97("0xda3")]&&x[_0x1d97("0x2")](_0x1d97("0xda3"))&&(_.csize=x[_0x1d97("0xda3")]),_},x.prototype[_0x1d97("0x49d")]=function(x){return this.constructor.toObject(this,x)},x[_0x1d97("0xf")][_0x1d97("0x49b")]=function(){return this[_0x1d97("0x49c")].toObject(this,n.util.toJSONOptions)},x}(),i),x[_0x1d97("0x6")]=c},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=n(_(9)),t=n(_(2)),a=n(_(0)),i=n(_(1));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(d){(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x2aa")]=d,this.jsonLib=null,this[_0x1d97("0x9c3")]={default:null,userData:null},this.generalLib={default:{meter:"ç±³"},userData:null},this[_0x1d97("0x57c")]=_0x1d97("0xda7"),this.keyBytes=this[_0x1d97("0xda8")](this[_0x1d97("0x57c")]);this[_0x1d97("0x9c3")][_0x1d97("0x1c")]={"ä¸è¡":"ä¸è¡","ä¸è¡":"ä¸è¡","å¯¼èªç»æ":"å¯¼èªç»æ","å³å°å°è¾¾ç®çå°":_0x1d97("0xda9"),"æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª":"æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª","å·¦è½¬":"å·¦è½¬","å³è½¬":"å³è½¬","å":"å","å³åè½¬":_0x1d97("0xdaa"),"å·¦åè½¬":_0x1d97("0xdab"),"å·¦åæ¹ç´è¡":_0x1d97("0xdac"),"å³åæ¹ç´è¡":_0x1d97("0xdad"),"å°è¾¾ç®çå°":"å°è¾¾ç®çå°","ç´è¡":"ç´è¡","å·¦è½¬åå³è½¬":_0x1d97("0xdae"),"å·²éæ°è§åè·¯çº¿":_0x1d97("0xdaf"),"å³è½¬åå·¦è½¬":"å³è½¬åå·¦è½¬","å³è½¬åå³è½¬":_0x1d97("0xdb0"),"å·¦è½¬åå·¦è½¬":"å·¦è½¬åå·¦è½¬","æ­¥è¡å¯¼èªå¼å§":_0x1d97("0xdb1"),"è¿å¥å®¤å":"è¿å¥å®¤å","è¿å¥å®¤å¤":"è¿å¥å®¤å¤","è½¦å½¢å¯¼èªå¼å§":_0x1d97("0xdb2"),A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","è´":"è´","æ¥¼":"æ¥¼","è¿å¥":"è¿å¥","å±":"å±","ç®çå°å¨éè·¯å·¦ä¾§":"ç®çå°å¨éè·¯å·¦ä¾§","ç®çå°å¨éè·¯å³ä¾§":_0x1d97("0xdb3"),"å¡é":"å¡é","åå¾":"åå¾","è¯·åé":_0x1d97("0xdb4"),"åé":"åé","æ¥¼æ¢¯":"æ¥¼æ¢¯","çµæ¢¯":"çµæ¢¯","æ¶æ¢¯":"æ¶æ¢¯","ç±³":"ç±³","å":"å","ç¾":"ç¾","å":"å",",":","}}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xda8"),value:function(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++)d[_]=x[_0x1d97("0x2a")](_);return d}},{key:_0x1d97("0xdb5"),value:function(x){x?(this[_0x1d97("0x9c3")][_0x1d97("0x11e")]={},(0,t[_0x1d97("0x1c")])(this[_0x1d97("0x9c3")][_0x1d97("0x11e")],x)):this[_0x1d97("0x9c3")][_0x1d97("0x11e")]=null}},{key:_0x1d97("0xdb6"),value:function(x){x?(this[_0x1d97("0x9c5")].userData={},(0,t.default)(this[_0x1d97("0x9c5")][_0x1d97("0x11e")],x)):this.generalLib[_0x1d97("0x11e")]=null}},{key:_0x1d97("0x45"),value:function(x){for(var d="",_=this[_0x1d97("0xda8")](x),e=0;e<_.length;e++){for(var t=0;t<this.keyBytes[_0x1d97("0x0")];t++)_[e]=_[e]^this[_0x1d97("0xdb7")][t];d+=String.fromCharCode(_[e])}return d}},{key:_0x1d97("0xbd3"),value:function(x){var d=this;return new(e[_0x1d97("0x1c")])((function(_){if(d[_0x1d97("0x2aa")].map[_0x1d97("0x35")][_0x1d97("0x6b")]){var e=d[_0x1d97("0x2aa")].map[_0x1d97("0x35")].mapDataSrc+"/"+x+"/"+x+".ESLang.json";esmap.Ajax[_0x1d97("0x35c")]({url:e})[_0x1d97("0x356")]((function(x){d[_0x1d97("0xd1d")]=JSON[_0x1d97("0x64")](d[_0x1d97("0x45")](x)),_()}))}else _()}))}},{key:_0x1d97("0xdb8"),value:function(x){return(this[_0x1d97("0x9c3")][_0x1d97("0x11e")]&&this[_0x1d97("0x9c3")].userData[x]?this.navLib[_0x1d97("0x11e")][x]:this[_0x1d97("0x9c3")][_0x1d97("0x1c")][x])||x}},{key:_0x1d97("0xdb9"),value:function(x){return this[_0x1d97("0x9c5")][_0x1d97("0x11e")]?this.generalLib[_0x1d97("0x11e")][x]?this.generalLib[_0x1d97("0x11e")][x]:this[_0x1d97("0x9c5")].default[x]:this[_0x1d97("0x9c5")][_0x1d97("0x1c")][x]}},{key:_0x1d97("0xdba"),value:function(){}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0}),d[_0x1d97("0xdbb")]=void 0;var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x38")]=d,this[_0x1d97("0x642")]=[],this[_0x1d97("0xdbc")]={},this[_0x1d97("0xdbd")]=[],this[_0x1d97("0x32")]()}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xdc"),value:function(x){var d=x[_0x1d97("0xa3")];this.objects[_0x1d97("0x1")]({uuid:d[_0x1d97("0x3d9")],model:x,lod:0,targetLod:0,rank:1/0})}},{key:_0x1d97("0xdbe"),value:function(){if(0!=this[_0x1d97("0x642")][_0x1d97("0x0")]){var x=150,d=50,_=this[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")],e={0:[],1:[],2:[]},t=[],a=this[_0x1d97("0x38")][_0x1d97("0x18c")].currentShows,i=this[_0x1d97("0x38")].tileList[_0x1d97("0x38")]((function(x){return x.id})),n=this[_0x1d97("0x38")][_0x1d97("0x578")]();if(n){for(var r,s=n[_0x1d97("0x14f")].frustum,o=0;o<this[_0x1d97("0x642")][_0x1d97("0x0")];o++){var c=this.objects[o],l=c[_0x1d97("0x223")];if(l[_0x1d97("0xa3")]){var u=c[_0x1d97("0x223")].tileId;if(a[_0x1d97("0xcc")](u)&&i.includes(u)){var f=l[_0x1d97("0xa3")][_0x1d97("0x11e")][_0x1d97("0x316")],h=f[_0x1d97("0xdbf")](_);if(h>=3500)0!=c.lod&&(c[_0x1d97("0xdc0")]=0,t[_0x1d97("0x1")](c));else{s[_0x1d97("0x825")](f)||(h+=h/2);var b=(r=h)<=500?2:r<=2e3?1:0;c[_0x1d97("0xdc0")]=b,c[_0x1d97("0x1aa")]=h,c[_0x1d97("0xdc0")]!=c[_0x1d97("0x163")]&&e[b].push(c)}}}}return e[1][_0x1d97("0x0")]>x&&(e[1]=e[1][_0x1d97("0x41c")]((function(x,d){return x[_0x1d97("0x1aa")]-d[_0x1d97("0x1aa")]}))[_0x1d97("0xca")](0,x)),e[2][_0x1d97("0x0")]>d&&(e[2]=e[2][_0x1d97("0x41c")]((function(x,d){return x.rank-d[_0x1d97("0x1aa")]}))[_0x1d97("0xca")](0,d)),e[0][_0x1d97("0x41c")]((function(x,d){return x[_0x1d97("0x1aa")]-d[_0x1d97("0x1aa")]})),e[0]=e[0][_0x1d97("0xca")](50,e[0][_0x1d97("0x0")]-1),e[0].concat(e[1])[_0x1d97("0x1de")](e[2]).concat(t)}}}},{key:_0x1d97("0xdc1"),value:function(x){if(x&&0!=x[_0x1d97("0x0")])for(var d=this[_0x1d97("0x38")].mapService[_0x1d97("0xb63")],_=this[_0x1d97("0x38")][_0x1d97("0x578")]()[_0x1d97("0x14f")],e=0;e<x[_0x1d97("0x0")];e++){var t=x[e],a=t.model,i=t[_0x1d97("0x163")],n=t[_0x1d97("0xdc0")],r=a[_0x1d97("0x22d")];if(a.o3d_){var s=this[_0x1d97("0xdbc")][t.uuid];if(s&&s[t[_0x1d97("0xdc0")]]){var o=s[t[_0x1d97("0xdc0")]];r.parent.remove(r),s[i]||(s[i]=r),a[_0x1d97("0xa3")][_0x1d97("0xdc")](o),a[_0x1d97("0x22d")]=o,t.lod=n}else{var c=a[_0x1d97("0x22a")]+_0x1d97("0x163")+t.targetLod+_0x1d97("0x6f"),l=this[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x2ab")][c];if(l){r[_0x1d97("0xba")][_0x1d97("0x149")](r),s||(s={},this.caches[t[_0x1d97("0x3d9")]]=s),s[i]||(s[i]=r);var u=l.gltfObj.scene.clone(!0);(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](u)[_0x1d97("0x30d")](u.position),u[_0x1d97("0xb6")][_0x1d97("0x276")](-1),a[_0x1d97("0xa3")][_0x1d97("0xdc")](u),a[_0x1d97("0x22d")]=u,s[n]||(s[n]=u),t[_0x1d97("0x163")]=n}else{if(!d[c]){var f=a[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),"");0==n&&(n="");var h=a._lodName+"lod"+n,b=a.url[_0x1d97("0x30f")](f,h);_.preFetchModel3D(c,b,(function(x){}))}this[_0x1d97("0xdbd")][_0x1d97("0x1")]({target:t,model:c})}}}}}},{key:_0x1d97("0x32"),value:function(){var x=this;this[_0x1d97("0x38")].on(_0x1d97("0x156"),(function(){x[_0x1d97("0xdc1")](x[_0x1d97("0xdbe")]())})),this[_0x1d97("0x38")].on("update",(function(){if(x.waitings[_0x1d97("0x0")]>0){for(var d=x[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x2ab")],_=[],e=0;e<x[_0x1d97("0xdbd")][_0x1d97("0x0")];e++){var t=x.waitings[e];d[t.model]&&(_[_0x1d97("0x1")](t),x.waitings.splice(e,1),e--)}_[_0x1d97("0x0")]>0&&x[_0x1d97("0xdc1")](_.map((function(x){return x[_0x1d97("0x27e")]})))}}))}},{key:_0x1d97("0x309"),value:function(x){var d=this;if(!(x<0||x>2)&&x!==this[_0x1d97("0x30e")]){0==x&&(x="");var _=this[_0x1d97("0x22a")]+"lod"+x+_0x1d97("0x6f"),e=this[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x2ab")][_];if(e){this[_0x1d97("0x22d")][_0x1d97("0xba")][_0x1d97("0x149")](this[_0x1d97("0x22d")]);var t=e[_0x1d97("0x30a")][_0x1d97("0x305")][_0x1d97("0xdb")](!0);(new THREE.Box3)[_0x1d97("0x30c")](t)[_0x1d97("0x30d")](t.position),t[_0x1d97("0xb6")][_0x1d97("0x276")](-1),this[_0x1d97("0x22d")]=t,this[_0x1d97("0xa3")][_0x1d97("0xdc")](t),this._lodLevel=x}else{var a=this.model[_0x1d97("0x106")](_0x1d97("0x6f"),""),i=this._lodName+_0x1d97("0x163")+x,n=this[_0x1d97("0x48")].replaceAll(a,i);this[_0x1d97("0x14f")][_0x1d97("0x310")][_]||this.modelLoadManager[_0x1d97("0x311")](_,n,(function(_){d[_0x1d97("0x22d")][_0x1d97("0xba")][_0x1d97("0x149")](d[_0x1d97("0x22d")]),d.child=null;var e=_.scene[_0x1d97("0xdb")](!0);(new THREE.Box3).setFromObject(e)[_0x1d97("0x30d")](e.position),e[_0x1d97("0xb6")][_0x1d97("0x276")](-1),d[_0x1d97("0x22d")]=e,d[_0x1d97("0xa3")][_0x1d97("0xdc")](e),d[_0x1d97("0x30e")]=x}))}}}}]),x}();d.ModelLod=i},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=r(_(43)),t=r(_(9)),a=r(_(0)),i=r(_(1)),n=_(143);function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(){function x(d){var _=d[_0x1d97("0x2fa")],e=void 0===_?1:_;(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x2fa")]=e,this.sound=null,this[_0x1d97("0xdc2")]=null,this[_0x1d97("0xdc3")]=[],this.configStrLength=7e3,this[_0x1d97("0xdc4")]=!1,this.isLoaded=!1,this[_0x1d97("0xdc5")]=!1,this.playIndex=0,this[_0x1d97("0xdc6")]=-1,this[_0x1d97("0xdc7")]={},this.spriteArray=[],this[_0x1d97("0xdc8")]=function(){if(this[_0x1d97("0xdc9")]>=this[_0x1d97("0xdc6")])this[_0x1d97("0x1af")](),this[_0x1d97("0xdc4")]=!1;else{var x=this.spriteArray[this[_0x1d97("0xdc9")]++];this.sound.play(x)}}[_0x1d97("0x11")](this)}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xdca"),value:function(x){var d=this;return new t.default((function(_,e){var t=new XMLHttpRequest;t[_0x1d97("0x303")](_0x1d97("0x35f"),x,!0),t[_0x1d97("0xdcb")]="arraybuffer",t[_0x1d97("0x4a2")]=function(x){d[_0x1d97("0xdcc")]=!0,_(this[_0x1d97("0x373")])},t[_0x1d97("0xdcd")]()}))}},{key:_0x1d97("0x32"),value:function(x,d){var _=this;this[_0x1d97("0xdca")](x)[_0x1d97("0x2fd")]((function(e){_[_0x1d97("0xdce")](e,x),d&&d()})).catch((function(x){console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")][_0x1d97("0xdcf")],x)}))}},{key:_0x1d97("0xdce"),value:function(x,d){this[_0x1d97("0xdd0")]=new Uint8Array(x);var _=x.byteLength,e=this.getExtentUint8Array(this[_0x1d97("0xdd0")],_-this[_0x1d97("0xdd1")],_-1),t=this.ab2str(e.buffer)[_0x1d97("0x28")]("}]")[0]+"}]";this[_0x1d97("0xdc2")]=JSON.parse(t);for(var a=0,i=this[_0x1d97("0xdc2")].length;a<i;a++){var r=this[_0x1d97("0xdc2")][a],s=this.decodeUnicode(r[_0x1d97("0xb8")]).replace(_0x1d97("0x91b"),"");this[_0x1d97("0xdc7")][s]=[r[_0x1d97("0xdd2")][0],r[_0x1d97("0xdd2")][1]-400]}var o=this;this[_0x1d97("0xdd3")]=new(n[_0x1d97("0xdd4")])({src:[d],sprite:this[_0x1d97("0xdc7")],rate:this.speed}),this[_0x1d97("0xdd3")][_0x1d97("0x1d0")](_0x1d97("0xdd5"),(function(x){o[_0x1d97("0xdd6")]()})),this[_0x1d97("0xdd3")][_0x1d97("0x1d0")](_0x1d97("0x591"),(function(){}))}},{key:_0x1d97("0xdd7"),value:function(x){switch(x){case"startNaving":this[_0x1d97("0xdd8")]([_0x1d97("0xdb1")]);break;case _0x1d97("0xdd9"):this.playAudioByText([_0x1d97("0xdb2")])}}},{key:_0x1d97("0xdda"),value:function(){var x=document[_0x1d97("0x21")](_0x1d97("0x327"));x[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0xddb"),x[_0x1d97("0x22")].top=_0x1d97("0x32f"),x.style[_0x1d97("0x3a5")]="0";var d=this,_=function(_){var e=document[_0x1d97("0x21")](_0x1d97("0x67c"));e[_0x1d97("0x22")][_0x1d97("0xddc")]=_0x1d97("0xddd"),e[_0x1d97("0x331")]=_,e[_0x1d97("0x30")]("click",(function(){d.sound[_0x1d97("0x2bf")](_)}),!1),x[_0x1d97("0x25")](e)};for(var e in this[_0x1d97("0xdc7")])_(e);document.body[_0x1d97("0x25")](x)}},{key:_0x1d97("0xdde"),value:function(){this[_0x1d97("0x1af")](),this[_0x1d97("0xdd3")][_0x1d97("0x5e")](_0x1d97("0x591")),this[_0x1d97("0xdd3")][_0x1d97("0xddf")]()}},{key:_0x1d97("0xde0"),value:function(x){var d=this;if(x&&x.length>0&&this[_0x1d97("0xdcc")]){this[_0x1d97("0xdc5")]=!0,this[_0x1d97("0xde1")]=x,this[_0x1d97("0xdc9")]=0,this.playLength=x.length,this[_0x1d97("0xdd3")].on(_0x1d97("0x2c4"),this[_0x1d97("0xdc8")]);var _=this.spriteArray[this[_0x1d97("0xdc9")]++];this[_0x1d97("0xdd3")][_0x1d97("0x2bf")](_);var e=0;return x.forEach((function(x){var _=d[_0x1d97("0xdc7")][x];e+=_[1]})),e*this[_0x1d97("0xdd3")][_0x1d97("0xde2")]()}}},{key:_0x1d97("0xdd8"),value:function(x){if(this.isLoaded&&(!this[_0x1d97("0xdc5")]||this[_0x1d97("0xdc4")])){for(var d=/^[0-9]*$/,_=["ä¸","äº","ä¸","å","äº","å­","ä¸","å«","ä¹","å"],t=[],a=0,i=x.length;a<i;a++)if(d[_0x1d97("0x3b3")](x[a])){var n=this[_0x1d97("0xde3")](x[a]),r=!0,s=!1,o=void 0;try{for(var c,l=(0,e[_0x1d97("0x1c")])(n);!(r=(c=l[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);r=!0){var u=c[_0x1d97("0xf1")];t[_0x1d97("0x1")](u)}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x1d97("0x2af")]&&l[_0x1d97("0x2af")]()}finally{if(s)throw o}}}else if(_[_0x1d97("0xd7")](x[a])>-1){var f=_[_0x1d97("0xd7")](x[a]);9==f?t[_0x1d97("0x1")]("å"):t.push((f+1).toString())}else{if(!this[_0x1d97("0xdc7")][x[a]])continue;t[_0x1d97("0x1")](x[a])}return this.stop(),this[_0x1d97("0xde0")](t)}}},{key:"stop",value:function(){this[_0x1d97("0xdd3")][_0x1d97("0x1af")](),this.sound[_0x1d97("0x5e")]("end",this[_0x1d97("0xdc8")]),this[_0x1d97("0xdc9")]=0,this[_0x1d97("0xdc6")]=-1,this[_0x1d97("0xde1")]=[],this[_0x1d97("0xdc5")]=!1}},{key:_0x1d97("0xde4"),value:function(x,d,_){for(var e=[],t=d;t<_;t++)e[_0x1d97("0x1")](x[t]);return new Uint8Array(e)}},{key:_0x1d97("0xde5"),value:function(x){return String[_0x1d97("0xc4")][_0x1d97("0x5")](null,new Uint8Array(x))}},{key:_0x1d97("0xde3"),value:function(x){var d=[],_=1e3;for(x=parseInt(x);0!==_;){x%=10*_;var e=parseInt(x/_);if(e>0){d[_0x1d97("0x1")](e+"");var t=null;switch(_){case 1e3:t="å";break;case 100:t="ç¾";break;case 10:t="å"}t&&d[_0x1d97("0x1")](t)}else{var a=d.length;a>0&&"0"!==d[a-1]&&d[_0x1d97("0x1")]("0")}_/=10}return"0"===d[d[_0x1d97("0x0")]-1]&&d.pop(),"1"===d[0]&&"å"===d[1]&&d[_0x1d97("0x4")](),d}},{key:_0x1d97("0xde6"),value:function(x){return unescape(x.replace(/\\u/gi,"%u"))}}]),x}();d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=r(_(43)),t=r(_(9)),a=r(_(0)),i=r(_(1)),n=_(143);function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(){function x(d){var _=d[_0x1d97("0x2fa")],e=void 0===_?1:_;(0,a[_0x1d97("0x1c")])(this,x),this.speed=e,this[_0x1d97("0xdd3")]=null,this.audioGroupMapData=null,this[_0x1d97("0xdc3")]=[],this[_0x1d97("0xdd1")]=9e3,this[_0x1d97("0xdc4")]=!0,this[_0x1d97("0xdcc")]=!1,this[_0x1d97("0xdc5")]=!1,this[_0x1d97("0xdc9")]=0,this[_0x1d97("0xdc6")]=-1,this[_0x1d97("0xdc7")]={},this[_0x1d97("0xde1")]=[],this[_0x1d97("0xdc8")]=function(){if(this[_0x1d97("0xdc9")]>=this[_0x1d97("0xdc6")])this[_0x1d97("0x1af")](),this[_0x1d97("0xdc4")]=!0;else{var x=this[_0x1d97("0xde1")][this[_0x1d97("0xdc9")]++];this[_0x1d97("0xdd3")].play(x)}}[_0x1d97("0x11")](this)}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xdca"),value:function(x){return new t.default((function(d,_){var e=new XMLHttpRequest;e.open("GET",x,!0),e[_0x1d97("0xdcb")]="arraybuffer",e[_0x1d97("0x4a2")]=function(x){d(this[_0x1d97("0x373")])},e[_0x1d97("0xdcd")]()}))}},{key:"init",value:function(x,d){var _=this;this[_0x1d97("0xdca")](x)[_0x1d97("0x2fd")]((function(e){_[_0x1d97("0xdce")](e,x),d&&d()}))}},{key:"playSoundByName",value:function(x){switch(x){case _0x1d97("0xde7"):this[_0x1d97("0xdd8")]([_0x1d97("0xdb1")]);break;case _0x1d97("0xdd9"):this[_0x1d97("0xdd8")]([_0x1d97("0xdb2")])}}},{key:_0x1d97("0xdce"),value:function(x,d){this[_0x1d97("0xdd0")]=new Uint8Array(x);var _=x[_0x1d97("0x6dd")],e=this[_0x1d97("0xde4")](this[_0x1d97("0xdd0")],_-this[_0x1d97("0xdd1")],_-1),t=this[_0x1d97("0xde5")](e.buffer).split("}]")[0]+"}]";this.audioGroupMapData=JSON[_0x1d97("0x64")](t);for(var a=0,i=this[_0x1d97("0xdc2")][_0x1d97("0x0")];a<i;a++){var r=this[_0x1d97("0xdc2")][a],s=this[_0x1d97("0xde6")](r[_0x1d97("0xb8")])[_0x1d97("0x106")](_0x1d97("0x91b"),"");s==_0x1d97("0xde8")?this[_0x1d97("0xdc7")][s]=[r.extentIndex[0]+250,r.extentIndex[1]-250]:this[_0x1d97("0xdc7")][s]=r[_0x1d97("0xdd2")]}var o=this;this[_0x1d97("0xdd3")]=new(n[_0x1d97("0xdd4")])({src:[d],sprite:this[_0x1d97("0xdc7")],rate:this[_0x1d97("0x2fa")]}),this[_0x1d97("0xdd3")][_0x1d97("0x1d0")]("loaderror",(function(x){o[_0x1d97("0xdd6")]()})),this[_0x1d97("0xdd3")][_0x1d97("0x1d0")](_0x1d97("0x591"),(function(){o[_0x1d97("0xdcc")]=!0}))}},{key:_0x1d97("0xdda"),value:function(){var x=document.createElement(_0x1d97("0x327"));x.style[_0x1d97("0xb6")]="absoulte",x[_0x1d97("0x22")].top="20px",x[_0x1d97("0x22")][_0x1d97("0x3a5")]="0";var d=this,_=function(_){var e=document[_0x1d97("0x21")](_0x1d97("0x67c"));e[_0x1d97("0x22")][_0x1d97("0xddc")]=_0x1d97("0xddd"),e.innerHTML=_,e[_0x1d97("0x30")](_0x1d97("0x945"),(function(){d.sound[_0x1d97("0x2bf")](_)}),!1),x[_0x1d97("0x25")](e)};for(var e in this[_0x1d97("0xdc7")])_(e);document.body.appendChild(x)}},{key:_0x1d97("0xdde"),value:function(){this.stop(),this[_0x1d97("0xdd3")][_0x1d97("0x5e")](_0x1d97("0x591")),this[_0x1d97("0xdd3")][_0x1d97("0xddf")]()}},{key:_0x1d97("0xde0"),value:function(x){var d=this;if(x&&x[_0x1d97("0x0")]>0&&this.isLoaded){this[_0x1d97("0xdc5")]=!0,this[_0x1d97("0xde1")]=x,this.playIndex=0,this.playLength=x[_0x1d97("0x0")],this.sound.on(_0x1d97("0x2c4"),this.endHandler);var _=this.spriteArray[this[_0x1d97("0xdc9")]++];this.sound[_0x1d97("0x2bf")](_);var e=0;return x[_0x1d97("0x1d")]((function(x){var _=d.sprite[x];e+=_[1]})),e*this[_0x1d97("0xdd3")].rate()}}},{key:_0x1d97("0xdd8"),value:function(x){if(this[_0x1d97("0xdcc")]&&(!this[_0x1d97("0xdc5")]||this[_0x1d97("0xdc4")])){for(var d=/^[0-9]*$/,_=[],t=0,a=x[_0x1d97("0x0")];t<a;t++)if(d[_0x1d97("0x3b3")](x[t])){var i=this.num2text(x[t]),n=!0,r=!1,s=void 0;try{for(var o,c=(0,e[_0x1d97("0x1c")])(i);!(n=(o=c[_0x1d97("0x2a8")]()).done);n=!0){var l=o.value;_.push(String(l))}}catch(x){r=!0,s=x}finally{try{!n&&c[_0x1d97("0x2af")]&&c[_0x1d97("0x2af")]()}finally{if(r)throw s}}}else _[_0x1d97("0x1")](x[t]);return this[_0x1d97("0x1af")](),this[_0x1d97("0xde0")](_)}}},{key:_0x1d97("0x1af"),value:function(){this[_0x1d97("0xdd3")][_0x1d97("0x1af")](),this[_0x1d97("0xdd3")].off("end",this.endHandler),this.playIndex=0,this.playLength=-1,this[_0x1d97("0xde1")]=[],this.isPlaying=!1}},{key:_0x1d97("0xde4"),value:function(x,d,_){for(var e=[],t=d;t<_;t++)e[_0x1d97("0x1")](x[t]);return new Uint8Array(e)}},{key:_0x1d97("0xde5"),value:function(x){return String[_0x1d97("0xc4")][_0x1d97("0x5")](null,new Uint8Array(x))}},{key:"num2text",value:function(x){var d=function x(d,_,e){var t=e||[],a=_||0;1===a&&t[_0x1d97("0xde9")](1e3),d=parseInt(d);var i=parseInt(d/1e3),n=d%1e3,r=parseInt(n/100),s=parseInt((n-100*r)/10),o=n%10,c=n%100;return c>0&&(c<20?t[_0x1d97("0xde9")](c):(o>0&&t[_0x1d97("0xde9")](o.toString()),t.unshift(10*s))),(i>0&&c>0||r>0&&c>0)&&t.unshift(_0x1d97("0xdea")),r>0&&(t[_0x1d97("0xde9")](100),t[_0x1d97("0xde9")](r)),i>0&&0===a?x(i,++a,t):t}(x);return d}},{key:"decodeUnicode",value:function(x){return unescape(x.replace(/\\u/gi,"%u"))}}]),x}();d.default=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x)}return(0,t[_0x1d97("0x1c")])(x,null,[{key:_0x1d97("0xdeb"),value:function(x){var d={};return x.on=function(_,e){return(d[_]=d[_]||[])[_0x1d97("0x1")](e),x},x[_0x1d97("0x1d0")]=function(d,_){function e(){_[_0x1d97("0x5")](x[_0x1d97("0x5e")](d,e),arguments)}return e.h=_,x.on(d,e)},x[_0x1d97("0x5e")]=function(_,e){for(var t=d[_],a=0;e&&t&&t[a];a++)t[a]!=e&&t[a].h!=e||t[_0x1d97("0x189")](a--,1);return a||delete d[_],x},x[_0x1d97("0x924")]=function(_){for(var e=d[_],t=0;e&&e[t];)e[t++][_0x1d97("0x5")](x,e[_0x1d97("0xca")][_0x1d97("0x3")](arguments,1));return x},x}}]),x}();d.default=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(d){(0,e.default)(this,x),this[_0x1d97("0x38")]=d;var _=esmap[_0x1d97("0x75")][_0x1d97("0x42a")]();this._enabled=!1,this[_0x1d97("0xa9f")]=new(THREE[_0x1d97("0xdec")])(d[_0x1d97("0x16d")][_0x1d97("0x5e8")]),this.composerOrtho=new THREE.EffectComposer(d.mapView[_0x1d97("0x5e8")]),this.scale=(_[_0x1d97("0x219")],2),this[_0x1d97("0xded")]={width:d.mapView.w_,height:d[_0x1d97("0x16d")].h_};var t=new(THREE[_0x1d97("0x605")])(d[_0x1d97("0x16d")][_0x1d97("0x305")],d[_0x1d97("0x16d")][_0x1d97("0x567")]);this[_0x1d97("0xa9f")][_0x1d97("0xdee")](t),this[_0x1d97("0xdef")]=new(THREE[_0x1d97("0x615")])(THREE[_0x1d97("0x619")]),this[_0x1d97("0xa9f")][_0x1d97("0xdee")](this[_0x1d97("0xdef")]);var a=new(THREE[_0x1d97("0x615")])(THREE.CopyShader);a[_0x1d97("0x5e2")]=!0,this.composer[_0x1d97("0xdee")](a);var i=new(THREE[_0x1d97("0x605")])(d.mapView[_0x1d97("0x305")],d[_0x1d97("0x16d")][_0x1d97("0x906")]),n=new THREE.ShaderPass(THREE.CopyShader);n[_0x1d97("0x5e2")]=!0,this[_0x1d97("0xdf0")][_0x1d97("0xdee")](i),this[_0x1d97("0xdf0")][_0x1d97("0xdee")](n),this[_0x1d97("0x275")](this[_0x1d97("0x237")])}return(0,t[_0x1d97("0x1c")])(x,[{key:"render",value:function(){this[_0x1d97("0x4d0")]||this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x4cd")](this.map[_0x1d97("0x16d")][_0x1d97("0x305")],this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x567")])}},{key:_0x1d97("0xdf1"),value:function(){this.enabled?this[_0x1d97("0xdf0")].render(this[_0x1d97("0x38")][_0x1d97("0x897")][_0x1d97("0x2c1")]()):this[_0x1d97("0x38")].mapView[_0x1d97("0x5e8")].render(this[_0x1d97("0x38")][_0x1d97("0x16d")].scene,this[_0x1d97("0x38")][_0x1d97("0x16d")].cameraTop)}},{key:_0x1d97("0x275"),value:function(x){this[_0x1d97("0x237")]=x,this.size={width:this.originSize[_0x1d97("0x328")]*this.scale,height:this.originSize.height*this[_0x1d97("0x237")]}}},{key:_0x1d97("0xaae"),value:function(x,d){this[_0x1d97("0xded")].width=x,this[_0x1d97("0xded")][_0x1d97("0x1b5")]=d,this[_0x1d97("0x275")](this[_0x1d97("0x237")])}},{key:_0x1d97("0xa5f"),get:function(){return{width:this[_0x1d97("0xa9f")].renderTarget1.width,height:this.composer.renderTarget1[_0x1d97("0x1b5")]}},set:function(x){this.composer[_0x1d97("0x5f3")](x[_0x1d97("0x328")],x[_0x1d97("0x1b5")]),this[_0x1d97("0xdf0")][_0x1d97("0x5f3")](x[_0x1d97("0x328")],x.height),this[_0x1d97("0xdef")].uniforms[_0x1d97("0xdf2")][_0x1d97("0xf1")][_0x1d97("0x11b")](1/x[_0x1d97("0x328")],1/x[_0x1d97("0x1b5")])}},{key:"enabled",get:function(){return this[_0x1d97("0xb19")]},set:function(x){this[_0x1d97("0xb19")]=x}}]),x}();d.default=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=c(_(2)),t=c(_(0)),a=c(_(1)),i=_(11),n=c(_(320)),r=c(_(103)),s=_(44),o=c(_(23));function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=function(){function x(d){(0,t[_0x1d97("0x1c")])(this,x),this.themeList={},this.logomatlist_={},this[_0x1d97("0xdf3")]=null,this[_0x1d97("0xdf4")]=[],this[_0x1d97("0xdf5")]={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this[_0x1d97("0x196")]={},this[_0x1d97("0xc5d")]={},this[_0x1d97("0x174")]={},this[_0x1d97("0x8fd")]=16777215,this.modelOpacity_=.875,this[_0x1d97("0xdf6")]=16776960,this[_0x1d97("0xdf7")]=.875,this[_0x1d97("0xdf8")]=0,this[_0x1d97("0xba4")]=0,this[_0x1d97("0xdf9")]=16750950,this.selectedLineColor=16119296,this[_0x1d97("0x990")]=16762412,this[_0x1d97("0x176")]={fillcolor:_0x1d97("0xc58"),fontface:"",fontsize:_0x1d97("0xdfa"),strokecolor:"255,255,255",strokewidth:"2",typeid:"0"},this.fontStyleThemeDic={0:{fillcolor:"0,0,0",fontface:"",fontsize:_0x1d97("0xdfa"),strokecolor:_0x1d97("0xb28"),strokewidth:"2",typeid:"0"},1:{fillcolor:_0x1d97("0xc58"),fontface:"",fontsize:_0x1d97("0xdfa"),strokecolor:_0x1d97("0xb28"),strokewidth:"2",typeid:"1"}},this[_0x1d97("0xdfb")]={},this[_0x1d97("0xdfc")]={},this[_0x1d97("0xdfd")]=!1,this.model3DSelectedColor_=16750950,this[_0x1d97("0xdfe")]=!1,this.lineTexture=null,this[_0x1d97("0x8fb")]=null,this[_0x1d97("0xdff")]=null,this[_0x1d97("0xf8")]={normal:new THREE.MeshBasicMaterial({color:16777215}),main:new(THREE[_0x1d97("0xfe")])({color:16766720})},this[_0x1d97("0x91d")]=[],this[_0x1d97("0x933")]={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this.maptheme=null,this.options_=d,this.textureLoader=new(THREE[_0x1d97("0x29d")]),this[_0x1d97("0x3fe")]||(this[_0x1d97("0x3fe")]=new(THREE[_0x1d97("0x343")])({color:this[_0x1d97("0xdf9")],transparent:!0,name:_0x1d97("0x98d")})),this[_0x1d97("0x3fe")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(this[_0x1d97("0xdf9")]),d[_0x1d97("0x3f9")]&&d[_0x1d97("0x3f9")][_0x1d97("0x223")]&&(this[_0x1d97("0x3fe")][_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](d[_0x1d97("0x3f9")].model[_0x1d97("0x100")]),this[_0x1d97("0xdf9")]=esmap[_0x1d97("0x75")].toColor(d[_0x1d97("0x3f9")][_0x1d97("0x223")][_0x1d97("0x100")])),this[_0x1d97("0xe00")]=this.createMaterial_(this.defaultTheme_),this[_0x1d97("0xe01")]=new(n[_0x1d97("0x1c")]),this[_0x1d97("0xe01")][_0x1d97("0xe02")]=[],d[_0x1d97("0x207")],this[_0x1d97("0xe03")]=[{typeid:1,type:_0x1d97("0xe04"),color:_0x1d97("0xe05"),intensity:1},{typeid:2,type:_0x1d97("0x6cb"),color:_0x1d97("0xe06"),intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:_0x1d97("0x6cb"),color:"#000000",intensity:0,pitchAngle:45,directionAngle:90}]}return(0,a[_0x1d97("0x1c")])(x,[{key:"removeLight",value:function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=d.mapView[_0x1d97("0x6c8")][x];_?(d[_0x1d97("0x16d")][_0x1d97("0x305")][_0x1d97("0x149")](_),delete d.mapView.lights[x]):console[_0x1d97("0x245")]("light "+x+" not exist")}},{key:_0x1d97("0xe07"),value:function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=void 0;if(x.type)switch(x.type){case _0x1d97("0xe04"):_=new THREE.AmbientLight;break;case _0x1d97("0x6cb"):_=new(THREE[_0x1d97("0x6cb")])(8947848,1)}_[_0x1d97("0xb8")]=x[_0x1d97("0x572")],d[_0x1d97("0x16d")][_0x1d97("0x6c8")][x.typeid]=_,this[_0x1d97("0xe08")](_,x),d.mapView[_0x1d97("0x305")][_0x1d97("0xdc")](_)}},{key:_0x1d97("0xe09"),value:function(x){_0x1d97("0xaa1"),_0x1d97("0xaa2");for(var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")].lights,_=0;_<x.length;_++){var e=x[_];d[e[_0x1d97("0x572")]]?this[_0x1d97("0xe08")](d[e[_0x1d97("0x572")]],e):this[_0x1d97("0xe07")](e)}}},{key:"updateThemeStyle",value:function(x,d,_){this.initPoiMateriaByData(this[_0x1d97("0xe0a")],32,_,x,d)}},{key:_0x1d97("0xe0b"),value:function(x){for(var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")],_=this[_0x1d97("0xe0c")][_0x1d97("0x21b")],t=0;t<x.length;t++){var a=x[t];if((0,s.diffProperties)(a,_[t])){a[_0x1d97("0xe2")];var i=1*a[_0x1d97("0xc5e")]||1,n=1*a.scaleheight||1;if(1==i)(0,e[_0x1d97("0x1c")])(this[_0x1d97("0xc5d")][a[_0x1d97("0x572")]],{scaleheight:n,color:a[_0x1d97("0x100")]});else{if(!a.topimage&&!a[_0x1d97("0xe0d")]){console[_0x1d97("0x245")](_0x1d97("0xe0e")+a[_0x1d97("0x572")]+"è³å°åå«ä¸ç§çº¹çå¾ç!"),a[_0x1d97("0xc5e")]=1,t--;continue}var r=esmap[_0x1d97("0x75")][_0x1d97("0x53f")](a.color),o=document[_0x1d97("0x21")]("canvas");o[_0x1d97("0x328")]=16,o[_0x1d97("0x1b5")]=16;var c=o[_0x1d97("0x84b")]("2d");c[_0x1d97("0x86f")]=r,c[_0x1d97("0x870")](0,0,16,16),new THREE.Texture(o)[_0x1d97("0x13b")]=!0;var l=void 0,u=null,f=d[_0x1d97("0x35")][_0x1d97("0x43")]+"/worldtheme/"+this.options_[_0x1d97("0x66")]+_0x1d97("0xe0f"),h=1*a[_0x1d97("0xe10")],b=1*a[_0x1d97("0xe11")];if(a[_0x1d97("0xe12")]){if(a[_0x1d97("0xe12")][_0x1d97("0xd7")]("/")>-1&&(f=d[_0x1d97("0x35")].mapDataSrc+d.id+_0x1d97("0x8d")+this[_0x1d97("0x41d")].themeID+_0x1d97("0xe13")),l=this[_0x1d97("0x767")].load(f+a[_0x1d97("0xe12")]),a.topimagetype||(a[_0x1d97("0xe14")]=1),1*a[_0x1d97("0xe14")]==1){var g=(1*a.topimagerepeat||50)/500;l[_0x1d97("0x141")]=l[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],l[_0x1d97("0x112")].x=g,l[_0x1d97("0x112")].y=g}l[_0x1d97("0x13b")]=!0}if(a[_0x1d97("0xe0d")]){if(a[_0x1d97("0xe0d")][_0x1d97("0xd7")]("/")>-1&&(f=d[_0x1d97("0x35")][_0x1d97("0x41")]+d.id+"/worldtheme/"+this[_0x1d97("0x41d")][_0x1d97("0x66")]+"/upload/building/"),u=this.textureLoader[_0x1d97("0x591")](f+a[_0x1d97("0xe0d")]),a[_0x1d97("0xe15")]||(a[_0x1d97("0xe15")]=1),1*a[_0x1d97("0xe15")]==1){var v=(1*a[_0x1d97("0xe11")]||50)/500;u.wrapS=u.wrapT=THREE.RepeatWrapping,u[_0x1d97("0x112")].x=v,u[_0x1d97("0x112")].y=v}u[_0x1d97("0x13b")]=!0}var p=this.tileStyles[a[_0x1d97("0x572")]].material[_0x1d97("0x11e")][_0x1d97("0xe16")];l&&(p[_0x1d97("0x351")][_0x1d97("0x102")][_0x1d97("0x347")][_0x1d97("0xf1")]=l,p[_0x1d97("0x351")][_0x1d97("0x102")].topTexMat[_0x1d97("0xf1")]=l[_0x1d97("0x24b")]),u&&(p[_0x1d97("0x351")][_0x1d97("0x102")][_0x1d97("0x34a")].value=u,p[_0x1d97("0x351")][_0x1d97("0x102")].sideTexMat.value=u.matrix),(0,e.default)(this[_0x1d97("0xc5d")][a[_0x1d97("0x572")]],{scaleheight:n,topTextureType:1*a[_0x1d97("0xe14")]||1,sideTextureType:1*a.sideimagetype||1,filltype:i,topImage:a[_0x1d97("0xe12")],sideImage:a[_0x1d97("0xe0d")],sideimagerepeat:b,topimagerepeat:h})}}}}},{key:_0x1d97("0xe17"),value:function(x){var d={fillcolor:_0x1d97("0xe18"),fontsize:_0x1d97("0xe19"),strokecolor:"strokecolor",strokewidth:_0x1d97("0xe1a"),typeid:_0x1d97("0x572")};for(var _ in x){var t=x[_],a=t[_0x1d97("0x572")];for(var i in this[_0x1d97("0x174")][a]=(0,e[_0x1d97("0x1c")])({},this.labelStyle_),this[_0x1d97("0x174")][a][_0x1d97("0x572")]=a,t)d[i]&&(this[_0x1d97("0x174")][a][d[i]]=t[i])}}},{key:_0x1d97("0xe1b"),value:function(x){var d=this,_=esmap[_0x1d97("0x33")].instance,e=0,t=void 0,a=void 0;this[_0x1d97("0x91d")]=[];for(var i=_.options[_0x1d97("0x20f")],n=0;n<x.length;n++){var s=x[n],o=1*s[_0x1d97("0xe2")]||0,c=!0,l=1*s.filltype||1,u=1*s.scaleheight||1,f=1*s[_0x1d97("0x1b5")]||0,h=1*s.basic||0,b=1*s[_0x1d97("0xe1c")]||0,g=s[_0x1d97("0xe1d")]||"#000000";if(h){var v=new(THREE[_0x1d97("0xfe")])({color:esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](s[_0x1d97("0x100")]),transparent:c,opacity:o,side:0});this.tileStyles[s[_0x1d97("0x572")]]={basic:h,material:v,borderwidth:b,bordercolor:g,prodMatIdx:1e3+1*s[_0x1d97("0x572")],scaleheight:u,color:s[_0x1d97("0x100")],hasTexture:!1,filltype:1,height:f},this[_0x1d97("0xc5d")][1e3+1*s[_0x1d97("0x572")]]=this[_0x1d97("0xc5d")][s[_0x1d97("0x572")]]}else if(1==l){var p=new THREE.MeshLambertMaterial({color:esmap[_0x1d97("0x75")].toColor(s.color),transparent:c,opacity:o,side:0});this.tileStyles[s[_0x1d97("0x572")]]={borderwidth:b,bordercolor:g,material:p,prodMatIdx:0,scaleheight:u,color:s[_0x1d97("0x100")],hasTexture:!1,filltype:1,height:f}}else{if(!s.topimage&&!s.sideimage){console[_0x1d97("0x245")]("ä¸»é¢æä»¶éè¯¯,è´´å¾æ ·å¼"+s[_0x1d97("0x572")]+"è³å°åå«ä¸ç§çº¹çå¾ç!"),s[_0x1d97("0xc5e")]=1,n--;continue}var m=esmap.ESMapUtil[_0x1d97("0x53f")](s[_0x1d97("0x100")]),A=new(r[_0x1d97("0x1c")])({colorStr:m}),C=document[_0x1d97("0x21")](_0x1d97("0x4a1"));C[_0x1d97("0x328")]=16,C.height=16;var I=C.getContext("2d");I[_0x1d97("0x86f")]=m,I[_0x1d97("0x870")](0,0,16,16);var y=new(THREE[_0x1d97("0x4a6")])(C);y[_0x1d97("0x13b")]=!0;var E=void 0,w=null,T=1*s.topimagerepeat,k=1*s.sideimagerepeat;if(s[_0x1d97("0xe12")]){var S=_[_0x1d97("0x35")][_0x1d97("0x43")]+"/worldtheme/"+this[_0x1d97("0x41d")].themeID+_0x1d97("0xe0f");if(s[_0x1d97("0xe12")].indexOf("/")>-1&&(S=_.options[_0x1d97("0x41")]+"/"+_.id+_0x1d97("0x8d")+this[_0x1d97("0x41d")][_0x1d97("0x66")]+_0x1d97("0xe13")),this[_0x1d97("0xdfc")][s[_0x1d97("0xe12")]]={uuid:null,texture:null,loaded:!1},E=this.textureLoader[_0x1d97("0x591")](S+s.topimage,(function(x){var e=x.uuid,t=!0;for(var a in x[_0x1d97("0x13b")]=!0,d[_0x1d97("0xdfc")])d[_0x1d97("0xdfc")][a][_0x1d97("0x3d9")]===e&&(d.tileTextures[a].loaded=!0),d.tileTextures[a][_0x1d97("0x9ce")]||(t=!1);t&&_[_0x1d97("0x1d9")](_0x1d97("0xe1e"))})),this[_0x1d97("0xdfc")][s[_0x1d97("0xe12")]][_0x1d97("0x3d9")]=E[_0x1d97("0x3d9")],this[_0x1d97("0xdfc")][s.topimage].texture=E,s[_0x1d97("0xe14")]||(s.topimagetype=1),1*s[_0x1d97("0xe14")]==1){var M=(1*s[_0x1d97("0xe10")]||50)/500;E[_0x1d97("0x141")]=E[_0x1d97("0x143")]=THREE.RepeatWrapping,E[_0x1d97("0x112")].x=M,E[_0x1d97("0x112")].y=M}this.tileTextures[E]}if(s.sideimage){var R=_[_0x1d97("0x35")].serverUrl+_0x1d97("0x8d")+this[_0x1d97("0x41d")][_0x1d97("0x66")]+_0x1d97("0xe0f");if(s[_0x1d97("0xe0d")].indexOf("/")>-1&&(R=_[_0x1d97("0x35")].mapDataSrc+"/"+_.id+_0x1d97("0x8d")+this[_0x1d97("0x41d")][_0x1d97("0x66")]+_0x1d97("0xe13")),this[_0x1d97("0xdfc")][s[_0x1d97("0xe0d")]]={uuid:null,texture:null,loaded:!1},w=this[_0x1d97("0x767")][_0x1d97("0x591")](R+s[_0x1d97("0xe0d")],(function(x){var e=x[_0x1d97("0x3d9")],t=!0;for(var a in x.needsUpdate=!0,d[_0x1d97("0xdfc")])d[_0x1d97("0xdfc")][a][_0x1d97("0x3d9")]===e&&(d[_0x1d97("0xdfc")][a][_0x1d97("0x9ce")]=!0),d.tileTextures[a].loaded||(t=!1);t&&_[_0x1d97("0x1d9")](_0x1d97("0xe1e"))})),this[_0x1d97("0xdfc")][s.sideimage][_0x1d97("0x3d9")]=w[_0x1d97("0x3d9")],this[_0x1d97("0xdfc")][s[_0x1d97("0xe0d")]][_0x1d97("0x4c4")]=w,s.sideimagetype||(s[_0x1d97("0xe15")]=1),1*s[_0x1d97("0xe15")]==1){var L=(1*s[_0x1d97("0xe11")]||50)/500;w[_0x1d97("0x141")]=w[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],w.repeat.x=L,w[_0x1d97("0x112")].y=L}}var H=t;t&&0!==e||((H=A[_0x1d97("0x33f")]({topTexture:E||y,sideTexture:w||y}))[_0x1d97("0x11e")][_0x1d97("0xe1f")]=w,H[_0x1d97("0x11e")].texTop=E,H[_0x1d97("0xff")]=c,H[_0x1d97("0x11e")][_0x1d97("0xe16")]=A,H[_0x1d97("0xe2")]=o,t=H,this[_0x1d97("0x91d")][_0x1d97("0x1")](H),H[_0x1d97("0x11e")][_0x1d97("0xe20")]=this.modelBasicMat.length-1),a||(a=H),this[_0x1d97("0xc5d")][s[_0x1d97("0x572")]]={borderwidth:b,bordercolor:g,scaleheight:u,material:H,prodMatIdx:H.userData[_0x1d97("0xe20")],hasTexture:!0,topTextureType:1*s[_0x1d97("0xe14")]||1,sideTextureType:1*s.sideimagetype||1,filltype:l,topImage:s[_0x1d97("0xe12")],sideImage:s.sideimage,sideimagerepeat:k,topimagerepeat:T,height:f},i?this.tileStyles[s[_0x1d97("0x572")]].roomTexture=A:e+=1,4===e&&(e=0)}}var D={};for(var P in this[_0x1d97("0xc5d")])this[_0x1d97("0xc5d")][P].basic||1*this[_0x1d97("0xc5d")][P].filltype!=1||i||(this[_0x1d97("0xc5d")][P][_0x1d97("0xa7")]=a,this[_0x1d97("0xc5d")][P][_0x1d97("0xe21")]=0),D[P]=this[_0x1d97("0xc5d")][P][_0x1d97("0xe21")];this[_0x1d97("0xe22")]=D}},{key:_0x1d97("0xe23"),value:function(x){var d=esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(d[_0x1d97("0x35")][_0x1d97("0x18a")])for(var _=0;_<x[_0x1d97("0x0")];_++){var e=x[_],t=e[_0x1d97("0x572")],a=new(THREE[_0x1d97("0xfe")])({color:16777215,transparent:true,opacity:1*e[_0x1d97("0xe2")],side:THREE[_0x1d97("0x111")]});a[_0x1d97("0xff")]=true,a[_0x1d97("0xe2")]=1*e[_0x1d97("0xe2")];var i=null;if(1==e.filltype)a[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](e.color));else{i=d.options[_0x1d97("0x43")]+_0x1d97("0x8d")+this[_0x1d97("0x41d")][_0x1d97("0x66")]+_0x1d97("0xe24")+e[_0x1d97("0x173")],e[_0x1d97("0x173")][_0x1d97("0xd7")]("/")>-1&&(i=this[_0x1d97("0x41d")][_0x1d97("0x43")]+(1==this[_0x1d97("0x41d")].tid?d.options[_0x1d97("0x41")]+d.id:"/")+_0x1d97("0x8d")+this[_0x1d97("0x41d")].themeID+"/upload/"+e.image);var n=this[_0x1d97("0x767")].load(i);n[_0x1d97("0x112")].y=1,n[_0x1d97("0x113")].y=0,n.minFilter=THREE[_0x1d97("0x140")],n[_0x1d97("0x141")]=THREE[_0x1d97("0x142")],n[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],n[_0x1d97("0x112")].x=.01,n[_0x1d97("0x13e")]=d[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0xc0a")].getMaxAnisotropy(),a[_0x1d97("0x38")]=n}e[_0x1d97("0x1a8")]=e[_0x1d97("0x1a8")]||0,e[_0x1d97("0x2")](_0x1d97("0xe2"))||(e.opacity=1),this[_0x1d97("0x196")][t]={url:i,animationspeed:1*e.animationspeed,material:a,color:e[_0x1d97("0x100")],filltype:e.filltype,height:1*e[_0x1d97("0x1b5")],image:e.image,linetype:e.linetype,linewidth:1*e.linewidth,layerstyle:e.layerstyle,opacity:1*e[_0x1d97("0xe2")]}}}},{key:"setLightProperties",value:function(x,d){d.hasOwnProperty("intensity")&&(x[_0x1d97("0x3fa")]=1*d[_0x1d97("0x3fa")],x[_0x1d97("0x3fa")]||(x.visible=!1)),d[_0x1d97("0x2")](_0x1d97("0x100"))&&(x[_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](d[_0x1d97("0x100")])),x[_0x1d97("0x6a")]==_0x1d97("0x6cb")&&d[_0x1d97("0x2")](_0x1d97("0x96f"))&&d[_0x1d97("0x2")](_0x1d97("0x96c"))&&x.updateDirection({pitchAngle:d[_0x1d97("0x96f")],directionAngle:d[_0x1d97("0x96c")]})}},{key:"setMapTheme",value:function(x){this[_0x1d97("0xdfe")]=1*x[_0x1d97("0xdfe")]||!1;var d=esmap.ESMap[_0x1d97("0x34")];x[_0x1d97("0xe25")]&&(this[_0x1d97("0x8fd")]=esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](x[_0x1d97("0xe25")]),d[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0x60c")](this[_0x1d97("0x8fd")])),this[_0x1d97("0xe23")](x[_0x1d97("0x7ad")]),this[_0x1d97("0xe1b")](x.Building),x[_0x1d97("0xe26")]&&this[_0x1d97("0xe17")](x[_0x1d97("0xe26")]),this.maptheme=x}},{key:"setBuildingThemeData",value:function(x){var d=x.id,_=x[_0x1d97("0x35d")];this.setThemeList(d,_)}},{key:_0x1d97("0x989"),value:function(x,d){this[_0x1d97("0x8fd")]=esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](d[_0x1d97("0xe27")][_0x1d97("0xe25")]);var _=this[_0x1d97("0x987")][x]={};_.poiStyle={},_[_0x1d97("0xe28")]={},_[_0x1d97("0xdf3")]={},_[_0x1d97("0x35d")]=d,_[_0x1d97("0xdfe")]=1*d.mapstyle[_0x1d97("0xdfe")]||!1,esmap.ESMap[_0x1d97("0x34")][_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x21b")]&&(d[_0x1d97("0x6c8")]?this[_0x1d97("0xe09")](d[_0x1d97("0x6c8")]):this[_0x1d97("0xe09")](this.defaultLightConfig)),this[_0x1d97("0xdf8")]=1*d[_0x1d97("0xe27")].model3DsRGB||0;for(var e=d[_0x1d97("0xe29")],t=0;t<e.length;t++){var a=e[t];a[_0x1d97("0xe2a")]=esmap.ESMapUtil[_0x1d97("0x2ce")](a[_0x1d97("0x100")]),1==a[_0x1d97("0x572")]&&(this[_0x1d97("0xdf9")]=a.color_),a.strokeColor_=esmap.ESMapUtil[_0x1d97("0x2ce")](a.strokecolor),a.alpha=a[_0x1d97("0xff")],_[_0x1d97("0xdf3")][a[_0x1d97("0x572")]]=this[_0x1d97("0xe2b")](a,null,x),_.roomStyle[a.typeid]=a}var i={},n=d.floorstyle;if(_[_0x1d97("0xe2c")]={},n&&n[_0x1d97("0x0")]>0){var r=n[0];this.floorColor_=esmap[_0x1d97("0x75")].toColor(r[_0x1d97("0x100")]),r.transparent&&(this[_0x1d97("0xdf7")]=1-parseFloat(r[_0x1d97("0xff")])),n.forEach((function(x){_.floorStyleBase[x[_0x1d97("0xad8")]]={height:x[_0x1d97("0xe2d")],opacity:1-parseFloat(x[_0x1d97("0xff")]),color:esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](x[_0x1d97("0x100")]),image:x[_0x1d97("0x173")]||"",imagesize:x[_0x1d97("0xd57")]||""};var d=x[_0x1d97("0x173")];d&&!i[d[_0x1d97("0x106")](_0x1d97("0xe2e"),"")]&&(i[d.replace(".png","")]=1)}))}this[_0x1d97("0xe0a")]=i,_[_0x1d97("0xe2f")]={},_[_0x1d97("0xe30")]={};var s=d[_0x1d97("0xe31")];if(s){s[0]&&(this[_0x1d97("0x176")]=s[0],s[1]&&(this.labelSelectedStyle_=s[1]));var o,c=this[_0x1d97("0x41d")][_0x1d97("0x1e3")]+x+"/";for(t=0;t<s.length;t++){null!=(o=s[t]).image&&""!=o[_0x1d97("0x173")]&&(o[_0x1d97("0x4c4")]=esmap[_0x1d97("0x75")].loadTexture(c+o[_0x1d97("0x173")]));for(var l=o[_0x1d97("0x572")][_0x1d97("0x28")](","),u=0;u<l[_0x1d97("0x0")];u++)_[_0x1d97("0xe2f")][l[u]]=o}}}},{key:"createMaterial_",value:function(x,d,_){var e=x[_0x1d97("0xe32")]||!1,t=new(THREE[_0x1d97("0x343")])({color:d||x[_0x1d97("0xe2a")],opacity:1*x[_0x1d97("0xe1")]});if(t.opacity<1&&(t[_0x1d97("0xff")]=!0),t[_0x1d97("0x345")]=function(x){x[_0x1d97("0x105")]=x.vertexShader.replace("#include <uv_pars_vertex>",_0x1d97("0xe33")),x.vertexShader=x[_0x1d97("0x105")][_0x1d97("0x106")](_0x1d97("0x107"),_0x1d97("0xe34")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")].replace(_0x1d97("0x10a"),_0x1d97("0xe35")),x.fragmentShader=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x10c"),_0x1d97("0xe36"))},x[_0x1d97("0x173")]){var a=o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x52"),{themeID:_,filename:x.image}),i=esmap.ESMapUtil[_0x1d97("0x4e0")](a);i[_0x1d97("0x141")]=THREE[_0x1d97("0x142")],i.wrapT=THREE[_0x1d97("0x142")],t.map=i,t.map.needsUpdate=!0,t[_0x1d97("0x13b")]=!0}return x[_0x1d97("0x2")]("roughness")&&(t[_0x1d97("0xfd")]=1*x[_0x1d97("0xfd")]),x[_0x1d97("0x2")](_0x1d97("0xfc"))&&(t[_0x1d97("0xfc")]=1*x[_0x1d97("0xfc")]),e&&(t.depthWrite=!1),t}},{key:"getModelTheme",value:function(x,d){var _=this[_0x1d97("0x987")][x][_0x1d97("0xe28")][d];return(0,i[_0x1d97("0x18")])(_||this[_0x1d97("0xdf5")])}},{key:"getFontTheme",value:function(x,d){var _=this[_0x1d97("0x987")][x].fontStyleThemeDic;for(var e in _)if(1*_[e][_0x1d97("0x572")]==d)return _[e]}},{key:"getModelMaterial",value:function(x,d,_){var e;_[_0x1d97("0x0")]<1?e=this.themeList[x][_0x1d97("0xdf3")][d]||this[_0x1d97("0xe2b")](this.defaultTheme_):(e=this[_0x1d97("0xe2b")](this[_0x1d97("0xe37")](d),esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](_)))[_0x1d97("0xe2a")]=esmap[_0x1d97("0x75")].toColor(_);return e||this.defaultMaterial}},{key:"getPoiMaterialByType",value:function(x,d,_,e){var t=esmap[_0x1d97("0x33")][_0x1d97("0x34")],a=void 0;if(t[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")])a=isNaN(d)?t.options.mapDataSrc+"/"+t.id+_0x1d97("0xe38")+d:t[_0x1d97("0x35")][_0x1d97("0x1e3")]?t.options[_0x1d97("0x1e3")]+"/"+x+"/"+d+".png":t[_0x1d97("0x35")][_0x1d97("0x41")]+"/"+t.id+_0x1d97("0x68")+x+"/"+d+_0x1d97("0xe2e");else if(1!=t[_0x1d97("0x35")].tid)a=isNaN(d)?1==e?t[_0x1d97("0x35")][_0x1d97("0x43")]+_0x1d97("0xe39")+d:t.options.serverUrl+_0x1d97("0x84")+_+_0x1d97("0xe38")+d:t[_0x1d97("0x35")][_0x1d97("0x43")]+_0x1d97("0x8e")+x+"/"+d+_0x1d97("0xe2e");else if(isNaN(d))if(1==e){var i=3==t[_0x1d97("0x35")].s?_0x1d97("0xe3a"):_0x1d97("0xe3b");a=t[_0x1d97("0x35")].serverUrl+i+t.id+"/buildingImagelabel/"+d}else{var n=3==t[_0x1d97("0x35")].s?_0x1d97("0x90"):"/EsmapJsonData/";a=t.options[_0x1d97("0x43")]+n+_+_0x1d97("0xe38")+d}else a=t[_0x1d97("0x35")][_0x1d97("0x43")]+_0x1d97("0x68")+x+"/"+d+_0x1d97("0xe2e");var r=esmap[_0x1d97("0x75")][_0x1d97("0x4e0")](a);return r[_0x1d97("0x13f")]=THREE[_0x1d97("0x5d6")],r[_0x1d97("0x795")]=THREE[_0x1d97("0x72f")],new(THREE[_0x1d97("0x42b")])({map:r})}},{key:_0x1d97("0xe3c"),value:function(x,d,_,e,t){var a=esmap.ESMap[_0x1d97("0x34")],i=this[_0x1d97("0x987")][_];for(var n in x){var r={};if(r.id=n,r[_0x1d97("0x1b5")]=d,!i[_0x1d97("0xe3d")][r.id]&&12e4!=r.id){var s="";s=a.mode==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?a[_0x1d97("0x35")][_0x1d97("0x1e3")]?a[_0x1d97("0x35")][_0x1d97("0x1e3")]+"/"+_+"/"+r.id+".png":a.options.mapDataSrc+"/"+a.id+_0x1d97("0x68")+_+"/"+r.id+".png":1!=a[_0x1d97("0x35")][_0x1d97("0x40")]?a.options[_0x1d97("0x43")]+_0x1d97("0x8e")+_+"/"+r.id+_0x1d97("0xe2e"):a[_0x1d97("0x35")][_0x1d97("0x43")]+_0x1d97("0x68")+_+"/"+r.id+_0x1d97("0xe2e"),r.id&&r.id.toString()[_0x1d97("0xd7")](".png")>0&&(t==esmap.ESBuildingType.TILE?s=this[_0x1d97("0x41d")].mapDataSrc+"/"+e+_0x1d97("0xe39")+r.id:1!=this.options_[_0x1d97("0x40")]&&(s=this.options_.mapDataSrc+_0x1d97("0x84")+e+_0x1d97("0xe38")+r.id));var o=esmap.ESMapUtil[_0x1d97("0x4e0")](s);o.minFilter=THREE[_0x1d97("0x5d6")],o[_0x1d97("0x795")]=THREE.NearestFilter,r[_0x1d97("0xe3e")]=new(THREE[_0x1d97("0x42b")])({map:o}),r[_0x1d97("0xe3e")][_0x1d97("0xa5f")]=d,i[_0x1d97("0xe3d")][r.id]=r}}this[_0x1d97("0xe0a")]=null}},{key:_0x1d97("0xa71"),value:function(x,d){var _=this,e=esmap.ESMap.instance;d||(d=e.getBuilding()[_0x1d97("0x35")][_0x1d97("0x66")]),_[_0x1d97("0x989")](d,x),e.setBackgroundColor(_.clearColor_,1),e[_0x1d97("0x16d")][_0x1d97("0x274")]();var t=_[_0x1d97("0x987")],a=e[_0x1d97("0x578")](),i=t[d];a[_0x1d97("0xa3")][_0x1d97("0xb4")]((function(x){if(x.datas_)switch(x[_0x1d97("0xa2")].nodeType){case esmap[_0x1d97("0xea")][_0x1d97("0xeb")]:if(!i)return;x[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(i[_0x1d97("0xe3f")]),x[_0x1d97("0xa7")][_0x1d97("0x1a7")]=i[_0x1d97("0xe1a")];break;case esmap.ESNodeType[_0x1d97("0x9ee")]:var t=_[_0x1d97("0xdf6")],a=_.floorOpacity_;if(x[_0x1d97("0xba")].parent&&x[_0x1d97("0xba")][_0x1d97("0xba")][_0x1d97("0xa2")]instanceof esmap.ESFloorManager){var n=x[_0x1d97("0xba")].parent.datas_[_0x1d97("0x184")][_0x1d97("0xad8")],r=i[_0x1d97("0xe2c")][n]||i.floorStyleBase[0];if(r)if(t=r[_0x1d97("0x100")],a=r[_0x1d97("0xe2")],r.image){var s=x[_0x1d97("0xa7")];Array[_0x1d97("0x547")](s)&&(s=x[_0x1d97("0xa7")][0]);var o=[s,s.clone()],c=o[0],l=o[1];l.color=new THREE.Color(t),l[_0x1d97("0xe2")]=a;var u=e.options[_0x1d97("0x1e3")]+"/"+d+"/"+r[_0x1d97("0x173")];esmap[_0x1d97("0x75")][_0x1d97("0x4e0")](u,(function(x){x[_0x1d97("0x141")]=x[_0x1d97("0x143")]=THREE[_0x1d97("0x142")];var d=(e[_0x1d97("0x44d")]-e.minX)/(e[_0x1d97("0x44e")]-e[_0x1d97("0x44c")]),_=r[_0x1d97("0xd57")][_0x1d97("0x28")](",");x[_0x1d97("0x112")][_0x1d97("0x11b")](_[0]*d,_[1]),c[_0x1d97("0x100")].set(16777215),c.map=x,c[_0x1d97("0x38")].needsUpdate=!0,c[_0x1d97("0x13b")]=!0})),x[_0x1d97("0xa7")]=o}else x[_0x1d97("0xa7")]instanceof Array?(x[_0x1d97("0xa7")][0][_0x1d97("0x38")]&&(x[_0x1d97("0xa7")][0][_0x1d97("0x38")].dispose(),x[_0x1d97("0xa7")][0][_0x1d97("0x38")]=void 0),x[_0x1d97("0xa7")][0].color=new(THREE[_0x1d97("0x101")])(t),x[_0x1d97("0xa7")][0].opacity=a):(x[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(t),x[_0x1d97("0xa7")][_0x1d97("0xe2")]=a)}break;case esmap[_0x1d97("0xea")][_0x1d97("0x574")]:var f=x[_0x1d97("0xa2")][_0x1d97("0x33d")][0][_0x1d97("0x573")],h=i[_0x1d97("0xe28")][f];if(!h)return;var b=h[_0x1d97("0x100")];if(_0x1d97("0xe")==typeof b&&(b=esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](h[_0x1d97("0x100")])),x[_0x1d97("0xa7")][_0x1d97("0x100")])x[_0x1d97("0xa7")][_0x1d97("0x100")]=new THREE.Color(b),x[_0x1d97("0xa7")].opacity=h[_0x1d97("0xe1")]||1,x[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0;else{var g=x[_0x1d97("0xa7")];g[0][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(b),g[0][_0x1d97("0xe2")]=1*h.alpha||1,g[0].needsUpdate=!0}break;case esmap[_0x1d97("0xea")][_0x1d97("0x58c")]:if(!i)return;break;case esmap[_0x1d97("0xea")][_0x1d97("0x9ef")]:x.updateStyle(_[_0x1d97("0x176")]);break;case esmap.ESNodeType[_0x1d97("0x9fc")]:x[_0x1d97("0x144")](x.datas_[_0x1d97("0xe40")]);break;case esmap[_0x1d97("0xea")][_0x1d97("0xe41")]:_0x1d97("0x4ef")==x[_0x1d97("0x94e")]&&x.datas_[_0x1d97("0x144")]()}}))}},{key:_0x1d97("0x99b"),set:function(x){this[_0x1d97("0xe42")]=esmap[_0x1d97("0x75")][_0x1d97("0x2ce")](x)},get:function(){return this[_0x1d97("0xe42")]}}]),x}();d[_0x1d97("0x1c")]=l},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=o(_(12)),t=o(_(43)),a=o(_(9)),i=o(_(13)),n=o(_(0)),r=o(_(1)),s=_(321);function o(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var c=function(){function x(){(0,n[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x3e1")]=[]}var d;return(0,r[_0x1d97("0x1c")])(x,[{key:"randomIndex",value:function(x){function d(t){if(t==_0x1d97("0x115")){if(1==x)return a=(0,s.RandomNum)(0,2);var a=(0,s[_0x1d97("0xe43")])(2,_[_0x1d97("0x115")][_0x1d97("0x0")]);a=Math[_0x1d97("0x2c")]()<.6?2:a;var i=_[_0x1d97("0x115")][a][_0x1d97("0x6a")];return 2==x&&2==i?d(t):a}var n=_[_0x1d97("0x115")][e].topIndex.length;if(n>1){var r=(0,s.RandomNum)(0,n);return _[_0x1d97("0x115")][e].topIndex[r]}return _[_0x1d97("0x115")][e][_0x1d97("0xe44")][0]}var _=this[_0x1d97("0xe02")],e=d(_0x1d97("0x115")),t=d(_0x1d97("0x3a6"));return{sideIndex:e,topIndex:t}}},{key:_0x1d97("0xe45"),value:(d=(0,i[_0x1d97("0x1c")])(e[_0x1d97("0x1c")].mark((function x(d){var _,i,n;return e[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x.prev=x[_0x1d97("0x2a8")]){case 0:return n=function(x,d,_,e,t){var a=document[_0x1d97("0x21")](_0x1d97("0x4a1")),i=a[_0x1d97("0x84b")]("2d");return a[_0x1d97("0x328")]=e,a.height=t,i.drawImage(x,d,_,e,t,0,0,e,t),a},_=this,i=s[_0x1d97("0xe46")],d&&(i[_0x1d97("0x48")]=d),x[_0x1d97("0x2ae")]("return",new a.default((function(x){(new(THREE[_0x1d97("0xe47")]))[_0x1d97("0x591")](i[_0x1d97("0x48")],(function(d){for(var e,a=[],r={top:[],side:[]},s=0;s<i[_0x1d97("0x115")].length&&!(s>0);s++){var o=(b=i[_0x1d97("0x115")][s]).point;if(1==b[_0x1d97("0x6a")]){e=n(d,o.x,o.y,o.w,o.h),(f=new(THREE[_0x1d97("0x4a6")])(e))[_0x1d97("0x141")]=f[_0x1d97("0x143")]=1e3,f[_0x1d97("0x13b")]=!0;var c=new(THREE[_0x1d97("0xfe")])({});a[_0x1d97("0x1")](c),r.side[_0x1d97("0x1")]({topIndex:b[_0x1d97("0xe44")],sideIndex:a[_0x1d97("0x0")]-1,type:1})}else if(2==b.type||3==b[_0x1d97("0x6a")]){for(var l=[{x:o.x,y:o.y,w:o.w,h:o.h}],u=0;u<l[_0x1d97("0x0")];u++){e=n(d,l[u].x,l[u].y,l[u].w,l[u].h);var f=new THREE.Texture(e);0==u||2==u?(f[_0x1d97("0x141")]=1e3,f[_0x1d97("0x143")]=1e3):1!=u&&3!=u||(f[_0x1d97("0x141")]=f.wrapT=1e3),f[_0x1d97("0x13b")]=!0,c=new(THREE[_0x1d97("0xfe")])({map:f,transparent:!0,opacity:1}),a[_0x1d97("0x1")](c)}r[_0x1d97("0x115")][_0x1d97("0x1")]({topIndex:b[_0x1d97("0xe44")],sideIndex:a.length-1,type:b[_0x1d97("0x6a")]})}}for(var h=0;h<i[_0x1d97("0x3a6")][_0x1d97("0x0")]&&!(h>0);h++){var b;if(1==(b=i[_0x1d97("0x3a6")][h])[_0x1d97("0x6a")])e=n(d,b.x,b.y,b.w,b.h),(f=new(THREE[_0x1d97("0x4a6")])(e))[_0x1d97("0x141")]=f[_0x1d97("0x143")]=THREE[_0x1d97("0xe48")],f[_0x1d97("0x13b")]=!0,c=new THREE.MeshBasicMaterial({}),a[_0x1d97("0x1")](c),r[_0x1d97("0x3a6")].push({index:[a.length-1],type:b[_0x1d97("0x6a")]});else if(2==b.type){var g=Number(b.w)/2,v=Number(b.h)/2,p=(l=[{x:b.x,y:b.y},{x:b.x+g,y:b.y},{x:b.x,y:b.y+v},{x:b.x+g,y:b.y+v}],!0),m=!1,A=void 0;try{for(var C,I=(0,t[_0x1d97("0x1c")])(l);!(p=(C=I[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);p=!0){var y=C[_0x1d97("0xf1")];e=n(d,y.x,y.y,g,v),(f=new(THREE[_0x1d97("0x4a6")])(e))[_0x1d97("0x141")]=f[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],f[_0x1d97("0x13b")]=!0,c=new(THREE[_0x1d97("0xfe")])({map:f,transparent:!0,opacity:1}),a[_0x1d97("0x1")](c)}}catch(x){m=!0,A=x}finally{try{!p&&I[_0x1d97("0x2af")]&&I[_0x1d97("0x2af")]()}finally{if(m)throw A}}var E=a[_0x1d97("0x0")];r[_0x1d97("0x3a6")][_0x1d97("0x1")]({index:[E-4,E-3,E-2,E-1],type:b.type})}}var w=a;_.materials=w,_[_0x1d97("0xe02")]=r,x()}))})));case 5:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return d[_0x1d97("0x5")](this,arguments)})}]),x}();d.default=c},function(x,d,_){"use strict";function e(x,d){var _=d-x,e=Math[_0x1d97("0x2c")]();return x+Math[_0x1d97("0x2b")](e*_)}Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var t={url:_0x1d97("0xe49"),side:[{type:1,topIndex:[0],point:{x:0,y:128,w:128,h:128}},{type:1,topIndex:[1],point:{x:0,y:256,w:128,h:128}},{type:3,topIndex:[2],point:{x:0,y:0,w:128,h:128}},{type:3,topIndex:[3],point:{x:128,y:0,w:128,h:128}},{type:3,topIndex:[4],point:{x:128,y:128,w:128,h:128}},{type:3,topIndex:[5],point:{x:128,y:256,w:128,h:128}}],top:[{type:1,x:256,y:256,w:128,h:128},{type:1,x:384,y:128,w:128,h:128},{type:1,x:384,y:0,w:128,h:128},{type:1,x:256,y:0,w:128,h:128},{type:1,x:256,y:128,w:128,h:128},{type:1,x:384,y:256,w:128,h:128}]};_0x1d97("0xe4a");d[_0x1d97("0xe46")]=t,d.getRandomMat=function(x,d){return function(x,d){function _(a){if(a==_0x1d97("0x115")){if(1==d)return i=e(0,8);var i=e(8,x[_0x1d97("0x115")][_0x1d97("0x0")]),n=x.side[i][_0x1d97("0x6a")];return 2==d&&2==n?_(a):i}var r=x[_0x1d97("0x115")][t][_0x1d97("0xe44")][_0x1d97("0x0")];if(r>1){var s=e(0,r);return x[_0x1d97("0x115")][t][_0x1d97("0xe44")][s]}return x[_0x1d97("0x115")][t][_0x1d97("0xe44")][0]}var t=_(_0x1d97("0x115")),a=_("top");return{sideIndex:t,topIndex:a}}(d,3)},d[_0x1d97("0xe43")]=e},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x),this.rects_}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x5f5"),value:function(){this[_0x1d97("0xe4b")]=[]}},{key:_0x1d97("0x1"),value:function(x,d){if(0==this[_0x1d97("0xe4b")][_0x1d97("0x0")])return this[_0x1d97("0xe4b")].push(d),!1;for(var _ in this[_0x1d97("0xe4b")]){var e=this[_0x1d97("0xe4b")][_];if(this[_0x1d97("0xe4c")](e,d))return!0}return this[_0x1d97("0xe4b")].push(d),!1}},{key:_0x1d97("0xe4c"),value:function(x,d){return d.size<=x[_0x1d97("0xa5f")]&&x.x<d.x+d.w/2&&x.x+x.w/2>d.x&&x.y<d.y+d.h/2&&x.h/2+x.y>d.y}}]),x}();d.default=i},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=c(_(4)),t=c(_(0)),a=c(_(1)),i=c(_(5)),n=c(_(6)),r=_(11),s=_(44),o=_(144);function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=function(x){function d(){return(0,t[_0x1d97("0x1c")])(this,d),(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x5")](this,arguments))}return(0,n[_0x1d97("0x1c")])(d,x),(0,a.default)(d,[{key:"flash",value:function(x){this.originSize||(this[_0x1d97("0xded")]={width:this[_0x1d97("0xe4d")],height:this[_0x1d97("0xe4e")]}),this[_0x1d97("0xe4d")]=this[_0x1d97("0xded")][_0x1d97("0x328")],this[_0x1d97("0xe4e")]=this.originSize[_0x1d97("0x1b5")],(x=x||{}).time=null==x[_0x1d97("0x255")]?.6:x[_0x1d97("0x255")];var d=this;if(d[_0x1d97("0xe4f")]=null,!this._isAnimating||x[_0x1d97("0x1b1")])return d[_0x1d97("0x1b0")]=!0,x[_0x1d97("0x237")]=(0,r.getValues)(x,_0x1d97("0x237"),1.5),x[_0x1d97("0x1b2")]=(0,r[_0x1d97("0x13")])(x,"times",1),x[_0x1d97("0x1b4")]=(0,r[_0x1d97("0x13")])(x,_0x1d97("0x1b4"),0),0==x[_0x1d97("0x1b2")]&&(x.times=Number[_0x1d97("0x1b3")]),x.time=null==x[_0x1d97("0x255")]?.6:x[_0x1d97("0x255")],d[_0x1d97("0xe4f")]&&clearInterval(d[_0x1d97("0xe4f")]),this[_0x1d97("0xe50")]&&this[_0x1d97("0xe50")][_0x1d97("0x1af")](),this[_0x1d97("0xe50")]=new(esmap.TWEEN[_0x1d97("0x1b8")])(this).to({width_:this.width_*x[_0x1d97("0x237")],height_:this[_0x1d97("0xe4e")]*x.scale},200*x.time)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x1bb")].In)[_0x1d97("0x12e")]((function(x){}))[_0x1d97("0x1bd")]((function(){d[_0x1d97("0xe50")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d).to({width_:d[_0x1d97("0xded")][_0x1d97("0x328")],height_:d[_0x1d97("0xded")].height},800*x[_0x1d97("0x255")])[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){x.times--,x[_0x1d97("0x1b2")]>0?d.flashDelayId=setTimeout((function(){x[_0x1d97("0x1b1")]=!0,d.flash(x)}),1e3*x.delay):(d[_0x1d97("0x1b0")]=!1,x.callback&&x[_0x1d97("0x1c2")]())}))[_0x1d97("0x1c1")]()}))[_0x1d97("0x1c1")]()}},{key:_0x1d97("0x2a2"),value:function(x){var d,_,e=this;x=x||{};if(!this[_0x1d97("0x1b0")]||x[_0x1d97("0x1b1")])return e._isAnimating=!0,x[_0x1d97("0x237")]=(0,r.getValues)(x,_0x1d97("0x237"),1.5),x.times=(0,r.getValues)(x,_0x1d97("0x1b2"),1),x.delay=(0,r[_0x1d97("0x13")])(x,"delay",0),0==x[_0x1d97("0x1b2")]&&(x[_0x1d97("0x1b2")]=Number[_0x1d97("0x1b3")]),x[_0x1d97("0x255")]=null==x[_0x1d97("0x255")]?.6:x[_0x1d97("0x255")],d=e.scale.clone().multiplyScalar(x[_0x1d97("0x237")]),_=e[_0x1d97("0x237")].clone(),this[_0x1d97("0xe51")]&&this[_0x1d97("0xe51")][_0x1d97("0x1af")](),e.flashId1=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(e[_0x1d97("0x237")]).to(d,.2*x[_0x1d97("0x255")]*1e3)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x1bb")].In),e[_0x1d97("0xe52")]=new(esmap[_0x1d97("0x1b7")].Tween)(e[_0x1d97("0x237")]).to(_,.8*x[_0x1d97("0x255")]*1e3).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){x[_0x1d97("0x1b2")]--,x[_0x1d97("0x1b2")]>0?e[_0x1d97("0x1b0")]&&(x[_0x1d97("0x1b1")]=!0,e[_0x1d97("0xe51")][_0x1d97("0x1b4")](1e3*x[_0x1d97("0x1b4")])[_0x1d97("0x1c1")]()):(e[_0x1d97("0x1b0")]=!1,e[_0x1d97("0xe51")][_0x1d97("0x1af")](),x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")]())})),e[_0x1d97("0xe51")].chain(e[_0x1d97("0xe52")]).start(),x}},{key:"alwaysShow",value:function(x,d){var _=esmap[_0x1d97("0x75")].getAlias(this[_0x1d97("0xa2")]),e=esmap[_0x1d97("0x12b")][_];d=null==d?null==e?10:e:d,x=null==x||x,this[_0x1d97("0xa7")][_0x1d97("0x867")]=!x,this.material[_0x1d97("0xe53")]=!x,this[_0x1d97("0x234")]=x?d:0}},{key:_0x1d97("0x882"),value:function(x){function d(a){var f=!1;if(t[_0x1d97("0x89b")][t[_0x1d97("0x89b")][_0x1d97("0x0")]-1]==d&&(f=!0),l+=a*r,(e=getPointByDistance(u,l,o))&&e[_0x1d97("0x3e0")]){var h=null,b=i.matrix.clone();b[_0x1d97("0x28f")](i[_0x1d97("0xb6")],new(THREE[_0x1d97("0xe0")])(e[_0x1d97("0x3e0")].x+n.position.x,i.position.y,e[_0x1d97("0x3e0")].z+n[_0x1d97("0xb6")].z),i.up),b.multiply((new(THREE[_0x1d97("0x261")])).makeRotationFromEuler(new(THREE[_0x1d97("0x264")])(0,c,0))),h=(new(THREE[_0x1d97("0x239")]))[_0x1d97("0x291")](b)}e.isOver?s?l=0:(i[_0x1d97("0x1af")](),i[_0x1d97("0x1af")]=null,_.emit(_0x1d97("0xe54"),{_this:_})):function(d,a,r){x[_0x1d97("0x283")];i.position.x=e[_0x1d97("0x3e0")].x+n[_0x1d97("0xb6")].x,i[_0x1d97("0xb6")].z=e[_0x1d97("0x3e0")].z+n[_0x1d97("0xb6")].z;var s={x:-d-map.mapScene[_0x1d97("0x199")],z:a+map.mapScene[_0x1d97("0x19a")]};if(_[_0x1d97("0x924")](_0x1d97("0x288"),{x:s.x,y:s.z}),x[_0x1d97("0x283")]&&f){var o=new(THREE[_0x1d97("0xe0")])(1,0,0),l=o.clone(),u=i[_0x1d97("0x24b")][_0x1d97("0xdb")]();u[_0x1d97("0x24c")](new THREE.Vector3),l[_0x1d97("0x2db")](u);var b=(b=l[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](o)).y<0?-1:1,g=o[_0x1d97("0x24d")](l),v=Math.PI-g*b-c;t.controls[_0x1d97("0xc")]instanceof THREE[_0x1d97("0x8ca")]&&(v+=Math.PI),t[_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:v})}x[_0x1d97("0x2f2")]&&f&&t.moveTo({x:s.x,y:s.z,time:0,FloorNum:1,callback:null});i.quaternion[_0x1d97("0x24a")](h,.2)}(i[_0x1d97("0xb6")].x,i[_0x1d97("0xb6")].z)}var _=this;if(x&&x[_0x1d97("0xe6")]){var e,t=esmap.ESMap[_0x1d97("0x34")],a=x[_0x1d97("0xe6")].map((function(x){return new(THREE[_0x1d97("0xe0")])(-t[_0x1d97("0x16c")].sceneX_-x.x,0,x.y-t[_0x1d97("0x16c")][_0x1d97("0x19a")])})),i=this[_0x1d97("0xa3")],n=a,r=x[_0x1d97("0x2fa")]||12,s=x[_0x1d97("0x2b0")],o=x[_0x1d97("0x113")]||0,c=x[_0x1d97("0x257")]*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")],l=x[_0x1d97("0xe55")]||0,u=(new THREE.Vector3(1,0,0),void 0===x[_0x1d97("0xe56")]?Math.PI:x[_0x1d97("0xe56")],n);n[_0x1d97("0xb6")]={x:0,y:0,z:0},t[_0x1d97("0x89b")][_0x1d97("0x1")](d),i.stop&&i[_0x1d97("0x1af")](),t.on(_0x1d97("0x11d"),d),i[_0x1d97("0x1af")]=function(){i[_0x1d97("0xe57")]&&i[_0x1d97("0xe57")](),t[_0x1d97("0x5e")](_0x1d97("0x11d"),d)}}}},{key:_0x1d97("0x271"),value:function(x){if(void 0===this[_0x1d97("0xe58")]&&(this.enabledUpdateSize=!0),this[_0x1d97("0xe58")]){var d,_=(x=x||esmap[_0x1d97("0x33")][_0x1d97("0x34")].mapView).map[_0x1d97("0x17f")],e=x[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")];this[_0x1d97("0xe59")]||(this[_0x1d97("0xe59")]=this[_0x1d97("0xb6")][_0x1d97("0xdb")]()),(null==this.initY_||isNaN(this[_0x1d97("0x592")]))&&(isNaN(this[_0x1d97("0xb6")].y)&&(this[_0x1d97("0xb6")].y=0),this[_0x1d97("0x592")]=this[_0x1d97("0xb6")].y);var t=this[_0x1d97("0x184")]?0==this[_0x1d97("0x184")][_0x1d97("0x187")]?0:this[_0x1d97("0x184")][_0x1d97("0x187")]:0==this[_0x1d97("0xa2")][_0x1d97("0xe5a")]?0:this.datas_[_0x1d97("0xe5a")];if(d=e?x[_0x1d97("0x38")][_0x1d97("0x22e")]:x[_0x1d97("0x38")].zoomLevel,t instanceof Array){var a=t[0],i=t[1];d>=a&&d<=i?this[_0x1d97("0xf0")]||(this.visible=!0):this.visible&&(this.visible=!1)}else(t||0==t)&&(e?d>t?this[_0x1d97("0xf0")]&&(this[_0x1d97("0xf0")]=!1):this[_0x1d97("0xf0")]||(this[_0x1d97("0xf0")]=!0):d<t?this.visible&&(this[_0x1d97("0xf0")]=!1):this[_0x1d97("0xf0")]||(this[_0x1d97("0xf0")]=!0));if("3D"==x[_0x1d97("0x38")].viewMode){if(0==x.h_)return;this[_0x1d97("0xe5b")]=void 0;var n=esmap[_0x1d97("0x177")][_0x1d97("0xe5c")](this,x),r=this[_0x1d97("0xa2")]instanceof esmap[_0x1d97("0x51b")]&&!this[_0x1d97("0xa2")].spritify_?16:2;n=esmap[_0x1d97("0x177")][_0x1d97("0xe5c")](this,x);if(!this[_0x1d97("0x11e")][_0x1d97("0xe5d")])return this[_0x1d97("0x237")][_0x1d97("0x11b")](.01,.01,1),void(this[_0x1d97("0x11e")].firstGet=!0);if(this[_0x1d97("0xe4d")]&&this.height_){var s=this[_0x1d97("0xe4d")]/32*10,o=this[_0x1d97("0xe4e")]/32*10;this[_0x1d97("0x237")].set(s,o,1)}var c=this[_0x1d97("0xe4e")]?this[_0x1d97("0xe4e")]*n[_0x1d97("0xe5e")]/r:0;this[_0x1d97("0x184")][_0x1d97("0x29a")]&&(c/=2);this[_0x1d97("0xe5f")];if(this[_0x1d97("0xe9")]!=_0x1d97("0xe60")&&this[_0x1d97("0xb6")][_0x1d97("0x789")](this.initY_),this.type_&&(this[_0x1d97("0xe9")]==_0x1d97("0xe61")||this.type_==_0x1d97("0xe60")||this[_0x1d97("0xe9")]==_0x1d97("0xe62"))&&(this[_0x1d97("0xa2")][_0x1d97("0xe63")]||null!=this[_0x1d97("0xa2")][_0x1d97("0xe64")]&&!this[_0x1d97("0xa2")][_0x1d97("0xe64")]))return;0==n[_0x1d97("0x237")].x&&(n[_0x1d97("0x237")].x=1),this[_0x1d97("0x237")].copy(n[_0x1d97("0x237")])}else{if(this.type_&&(this[_0x1d97("0xe9")]==_0x1d97("0xe61")||this[_0x1d97("0xe9")]==_0x1d97("0xe60")||this[_0x1d97("0xe9")]==_0x1d97("0xe62"))&&(null!=this[_0x1d97("0xa2")][_0x1d97("0xe64")]&&!this[_0x1d97("0xa2")].spritify_||this[_0x1d97("0xa2")].unspritify_))return;r=this[_0x1d97("0xa2")]instanceof esmap.ESTextMarker&&!this[_0x1d97("0xa2")][_0x1d97("0xe64")]?16:2,n=esmap[_0x1d97("0x177")].getPerspectiveScale(this,x);if(!this[_0x1d97("0x11e")][_0x1d97("0xe5d")])return this.scale[_0x1d97("0x11b")](.01,.01,1),void(this[_0x1d97("0x11e")][_0x1d97("0xe5d")]=!0);if(this.width_&&this.height_){var l=this[_0x1d97("0xe4d")]/32*10;o=this.height_/32*10;this[_0x1d97("0x237")][_0x1d97("0x11b")](l,o,1)}c=this[_0x1d97("0xe4e")]?this.height_*n[_0x1d97("0xe5e")]/r:0;this[_0x1d97("0x184")][_0x1d97("0x29a")]&&(c/=2);this.notAddImageHeight;"Model3D"!=this.type_&&this[_0x1d97("0xb6")][_0x1d97("0x789")](this[_0x1d97("0x592")]),this[_0x1d97("0xe5b")]=esmap[_0x1d97("0x177")][_0x1d97("0xe5c")](this,x)[_0x1d97("0x237")],this[_0x1d97("0x237")][_0x1d97("0x267")](this[_0x1d97("0xe5b")][_0x1d97("0xdb")]().multiplyScalar(1/_.zoom))}}}},{key:_0x1d97("0xe65"),value:function(x,d){if(x&&x.indexOf("\\n")>-1){var _=x[_0x1d97("0x28")]("\\n"),e="";_[_0x1d97("0x1d")]((function(x){e+=x+"\n"})),x=e}function t(x,d){if(B[x]&&""!=B[x]){if(_0x1d97("0x100")==d)return esmap[_0x1d97("0x75")][_0x1d97("0x541")](B[x]);if(_0x1d97("0x13d")==d)return parseFloat(B[x])}return 0}var a,i=this;if(void 0===d&&(d={}),d.imageheight=d.imagesize,i.data_&&i[_0x1d97("0x184")][_0x1d97("0x173")]){var n;if(d[_0x1d97("0xe66")]=i[_0x1d97("0x184")].w,d.imageheight=i[_0x1d97("0x184")].h,i[_0x1d97("0x184")][_0x1d97("0xe67")])n=i.data_[_0x1d97("0x173")];else{var r=(i[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x6b")]?"-"+String(i[_0x1d97("0x38")].options[_0x1d97("0x6b")]):"")+"/";n=i[_0x1d97("0xe68")]?i[_0x1d97("0x38")][_0x1d97("0x35")].mapDataSrc+"/"+i[_0x1d97("0x38")][_0x1d97("0xa7a")]+"/buildingImagelabel"+r+"/"+i[_0x1d97("0x184")][_0x1d97("0x173")]:i.map[_0x1d97("0x35")].mapDataSrc+"/"+i.map[_0x1d97("0xa7a")]+(_0x1d97("0xe69")+r)+"/"+i[_0x1d97("0x184")].image}this[_0x1d97("0xe6a")]!=n&&(this[_0x1d97("0xe6a")]=n,this[_0x1d97("0xe6b")]=null,esmap.ESMapUtil[_0x1d97("0x4e0")](n,(function(x){x.needsUpdate=!0,i[_0x1d97("0xe6b")]=x,i[_0x1d97("0xe6c")]&&i[_0x1d97("0xe6c")](x)}),null,(function(){var x=document[_0x1d97("0x21")](_0x1d97("0x4a1"));x[_0x1d97("0x328")]=32,x.height=32;var d=x.getContext("2d");d[_0x1d97("0x86f")]="rgba(255,255,255,1)",d[_0x1d97("0x870")](0,0,32,32);var _=document[_0x1d97("0x21")](_0x1d97("0x428"));_[_0x1d97("0x39e")]=o[_0x1d97("0x4a8")],_[_0x1d97("0x4a2")]=function(){d[_0x1d97("0x4a5")](_,0,0,32,32);var e=new(THREE[_0x1d97("0x4a6")])(x);e[_0x1d97("0x13b")]=!0,i[_0x1d97("0xe6b")]=e,i[_0x1d97("0xe6c")]&&i.applyImgTex(e)}})))}var c=d[_0x1d97("0x2")]("fontface")?d.fontface:_0x1d97("0xe6d"),l=d[_0x1d97("0x2")](_0x1d97("0xe19"))?d[_0x1d97("0xe19")]:36,u=0;l=Math[_0x1d97("0xb0")](l*(this[_0x1d97("0xe6e")]||1));var f=d[_0x1d97("0x2")](_0x1d97("0x100"))?d.color:"rgba(0,0,0,1)",h=d[_0x1d97("0x2")](_0x1d97("0xe6f"))?d.borderThickness:2,b=d[_0x1d97("0x2")](_0x1d97("0xe70"))?d[_0x1d97("0xe70")]:"rgba(150,150,150,1)",g=esmap.ESMapUtil[_0x1d97("0x42a")]()[_0x1d97("0x219")];null==h&&(h=2),0==h&&(b=f,u=2),h*=g?3:2,u*=g?3.5:2.5;var v,p,m=Math[_0x1d97("0xb0")](l*(g&&l<=36?1.1:1)),A=m+_0x1d97("0xb13")+c;i[_0x1d97("0x4a1")]||(i[_0x1d97("0x4a1")]=document[_0x1d97("0x21")]("canvas")),i.context||(i.context=i[_0x1d97("0x4a1")].getContext("2d")),v=i.canvas,(p=i.context).font=A;for(var C=h/2,I=x[_0x1d97("0x28")]("\n"),y=[],E=0,w=0,T=0;T<I[_0x1d97("0x0")];T++)if(""==I[T])I[_0x1d97("0x189")](T,1),T--;else{var k=p[_0x1d97("0xb0d")](I[T])[_0x1d97("0x328")]+h;E=Math[_0x1d97("0x317")](E,k),w+=m+h+u,y[_0x1d97("0x1")]({text:I[T],width:k})}d[_0x1d97("0xe71")]=d[_0x1d97("0xe71")],w+=d[_0x1d97("0xe71")]*(I[_0x1d97("0x0")]-1),0==h&&(w+=g?3:2);var S=null,M=!1,R={x:C,y:-h},L={x:0,y:0},H=E+h,D=null==x||""==x?0:w,P=1*d[_0x1d97("0xe72")]||0,O=E,B=i.data_&&i[_0x1d97("0x184")].fontstyleid&&i.map.mapTheme[_0x1d97("0xe30")]?i[_0x1d97("0x38")][_0x1d97("0xf6")].fontStyleThemeDic[i[_0x1d97("0x184")].fontstyleid]:void 0;if(B){var N=t(_0x1d97("0xe19"),"number"),F=t(_0x1d97("0xe73"),_0x1d97("0x13d")),z=t(_0x1d97("0xe74"),_0x1d97("0x100")),j=t(_0x1d97("0xe75"),_0x1d97("0x100"));if(F){var U=4*(F-N);H=(E+=2*U)+h,D=w+=U,contentSize=d[_0x1d97("0xd57")]||contentSize+U}}if(i.data_&&i[_0x1d97("0x184")][_0x1d97("0x173")])switch(M=!0,d[_0x1d97("0xd10")]){case _0x1d97("0x3a5"):d.imageheight>w?(R.y=(d.imageheight-w)/2-h,D=d.imageheight):(R.y=-h,L.y=(w-d.imageheight)/2),R.x=d[_0x1d97("0xe66")]+P,H=E+R.x;break;case _0x1d97("0x648"):d[_0x1d97("0xe76")]>w?(R.y=(d[_0x1d97("0xe76")]-w)/2,D=d[_0x1d97("0xe76")]):(R.y=-h,L.y=(w-d[_0x1d97("0xe76")])/2),L.x=0!=E?E+P:0,H=E+d[_0x1d97("0xe66")]+P;break;case _0x1d97("0x3a6"):O=Math.max(E,d[_0x1d97("0xe66")])+h,E>=d[_0x1d97("0xe66")]?L.x=Math[_0x1d97("0xb0")]((E+C-d.imagewidth)/2):R.x=Math[_0x1d97("0xb0")]((d[_0x1d97("0xe66")]-E+C)/2),D=D+d[_0x1d97("0xe76")]+P,H=O,R.y=d[_0x1d97("0xe76")]+P-C;break;case"bottom":O=Math.max(E,d[_0x1d97("0xe66")])+h,E>=d[_0x1d97("0xe66")]?L.x=Math[_0x1d97("0xb0")]((E+C-d[_0x1d97("0xe66")])/2):R.x=Math[_0x1d97("0xb0")]((d[_0x1d97("0xe66")]-E+C)/2);var X=D;D=D+d[_0x1d97("0xe76")]+P,H=O,L.y=X+P}if(H+=d[_0x1d97("0xe77")]*x.length,v[_0x1d97("0x328")]=H,v.height=D,i.originPivot=new THREE.Vector3(v[_0x1d97("0x328")]/2,0,v[_0x1d97("0x1b5")]/2),i.pivot_=i[_0x1d97("0xe78")][_0x1d97("0xdb")](),i.width_=v.width,i.height_=v[_0x1d97("0x1b5")],M)var Y=function(x){(S=x[_0x1d97("0x173")])&&(p.drawImage(S,L.x,L.y,d[_0x1d97("0xe66")],d[_0x1d97("0xe76")]),i[_0x1d97("0xe79")]=new(THREE[_0x1d97("0xe0")])(L.x+d[_0x1d97("0xe66")]/2,0,L.y+d[_0x1d97("0xe76")]/2),_0x1d97("0xe7a")==d[_0x1d97("0xe7b")]&&(i[_0x1d97("0xe7c")]=i[_0x1d97("0xe79")]),a&&(a.needsUpdate=!0)),i[_0x1d97("0xe7d")]&&!i[_0x1d97("0xe7e")]&&(i.createdCallback(i),i[_0x1d97("0xe7e")]=!0)};if(i[_0x1d97("0xe6c")]=Y,i[_0x1d97("0xe6b")]&&Y(i[_0x1d97("0xe6b")]),null!=x&&x){if(d[_0x1d97("0xe7f")]){var G=d[_0x1d97("0xe80")][_0x1d97("0x28")](",");p[_0x1d97("0x852")]=1*G[0],p[_0x1d97("0x853")]=1*G[1],p[_0x1d97("0x850")]=_0x1d97("0x55e")+d[_0x1d97("0xe81")]+")",p.shadowBlur=d[_0x1d97("0xe82")]}if(p[_0x1d97("0xb0c")]=A,p[_0x1d97("0xe83")]=!0,F){p[_0x1d97("0x965")]=j,p[_0x1d97("0x119")]=4;var Q=0;_0x1d97("0x3a6")==d[_0x1d97("0xd10")]&&(Q=d.imagewidth+P),p[_0x1d97("0xe84")](R.x+4,4+Q,E-8,w-8,10)[_0x1d97("0x968")](),p[_0x1d97("0x86f")]=z,p[_0x1d97("0xe84")](R.x+4,4+Q,E-8,w-8,10)[_0x1d97("0x33a")]()}var V=0;for(T=0;T<y[_0x1d97("0x0")];T++){var W=(E-y[T].width)/2+R.x,Z=(T+1)*(m+d[_0x1d97("0xe71")]+h)+R.y-d[_0x1d97("0xe71")];F?V=U/2:(V=0,p[_0x1d97("0x965")]=(0,s[_0x1d97("0xc2")])(b),p.lineWidth=h),p[_0x1d97("0x86f")]=(0,s.getHexColor)(f),p.letterSpacingText(y[T][_0x1d97("0xb18")],W,Z,V,d[_0x1d97("0xe77")])}}return(a=new(THREE[_0x1d97("0x4a6")])(v))[_0x1d97("0x13f")]=THREE[_0x1d97("0x5d6")],a[_0x1d97("0x13e")]=esmap[_0x1d97("0x33")][_0x1d97("0x34")].mapView[_0x1d97("0x5e8")].capabilities[_0x1d97("0xc0b")](),a[_0x1d97("0xe85")]=!1,a[_0x1d97("0x13b")]=!0,d[_0x1d97("0xe86")]||this[_0x1d97("0xe3e")]||(this[_0x1d97("0xe3e")]=new THREE.SpriteMaterial({})),this[_0x1d97("0xe3e")][_0x1d97("0x38")]=a,this.material_[_0x1d97("0x38")].needsUpdate=!0,this[_0x1d97("0xe3e")][_0x1d97("0x13b")]=!0,a}},{key:_0x1d97("0x144"),value:function(x){x=x||this[_0x1d97("0x22")],this[_0x1d97("0xe65")](this[_0x1d97("0xe87")],{fontsize:2*x[_0x1d97("0xe19")],borderThickness:0==x[_0x1d97("0xe1a")]?0:x.strokewidth,color:x[_0x1d97("0xe18")]||_0x1d97("0xc58"),borderColor:x[_0x1d97("0xe88")]||"255,255,255",imagealign:x.imagealign||_0x1d97("0x3a5"),imagesize:x.imagesize,lineheight:1*x.lineheight||4,imagespace:x[_0x1d97("0xe72")],fontspace:x[_0x1d97("0xe77")]||4,pivottype:x[_0x1d97("0xe7b")]||_0x1d97("0xe7"),shadow:1*x[_0x1d97("0xe7f")]||0,shadowcolor:x[_0x1d97("0xe81")]||_0x1d97("0xe89"),shadowoffset:x[_0x1d97("0xe80")]||"3,3",shadowblur:x.shadowblur||1}),this[_0x1d97("0xa7")]=this[_0x1d97("0xe3e")]}},{key:_0x1d97("0xe8a"),value:function(x){this[_0x1d97("0xe87")]=x,this[_0x1d97("0x144")]()}},{key:_0x1d97("0xe8b"),value:function(x){this[_0x1d97("0x22")][_0x1d97("0xe19")]=x,this[_0x1d97("0x144")]()}},{key:"setfillcolor",value:function(x){this[_0x1d97("0x22")][_0x1d97("0xe18")]=x,this[_0x1d97("0x144")]()}},{key:_0x1d97("0xe8c"),value:function(x){this.style[_0x1d97("0xe88")]=x,this[_0x1d97("0x144")]()}},{key:_0x1d97("0x270"),value:function(){if(this.flashId){if(this.flashId&&this[_0x1d97("0xe50")].stop(),this[_0x1d97("0xded")])this.width_=this[_0x1d97("0xded")][_0x1d97("0x328")],this.height_=this[_0x1d97("0xded")].height;else{var x=new(THREE[_0x1d97("0xe0")])(1,1,1);this[_0x1d97("0xe50")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this[_0x1d97("0x237")]).to(x,100)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x1c1")]()}this[_0x1d97("0x1b0")]=!1}}},{key:_0x1d97("0x3ce"),value:function(x){clearInterval(this[_0x1d97("0x256")]),this._isAnimating=!1}},{key:_0x1d97("0x26e"),value:function(){this[_0x1d97("0x1ae")]&&this[_0x1d97("0x1ae")][_0x1d97("0x1af")](),this._jumpID2&&this[_0x1d97("0x1be")][_0x1d97("0x1af")](),null!=this[_0x1d97("0xe8d")]&&(this[_0x1d97("0x592")]=this._initY),this[_0x1d97("0x1b0")]=!1}},{key:_0x1d97("0x26b"),value:function(x){var d=this;if(x=x||{},!this[_0x1d97("0x1b0")]||x.force)return d._isAnimating=!0,null==x[_0x1d97("0xe8d")]&&(d._initY=d[_0x1d97("0x592")]),x[_0x1d97("0x1b2")]=(0,r[_0x1d97("0x13")])(x,_0x1d97("0x1b2"),1),0==x[_0x1d97("0x1b2")]&&(x.times=Number[_0x1d97("0x1b3")]),x[_0x1d97("0x1b4")]=(0,r.getValues)(x,_0x1d97("0x1b4"),0),x[_0x1d97("0x1b5")]=(0,r.getValues)(x,_0x1d97("0x1b5"),8),x[_0x1d97("0x1b6")]=(0,r[_0x1d97("0x13")])(x,_0x1d97("0x255"),"duration",1),this._jumpID1&&this._jumpID1[_0x1d97("0x1af")](),this[_0x1d97("0x1ae")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this).to({initY_:d[_0x1d97("0xe8d")]+x[_0x1d97("0x1b5")]},.2*x[_0x1d97("0x1b6")]*1e3).easing(esmap.TWEEN[_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1bc")])[_0x1d97("0x1bd")]((function(){})),this[_0x1d97("0x1be")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this).to({initY_:d[_0x1d97("0xe8d")]},.8*x[_0x1d97("0x1b6")]*1e3)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bf")][_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){x.times--,x.times>0?d[_0x1d97("0x1b0")]&&(x[_0x1d97("0x1b1")]=!0,d[_0x1d97("0x1ae")][_0x1d97("0x1b4")](1e3*x.delay)[_0x1d97("0x1c1")]()):(d._isAnimating=!1,d[_0x1d97("0x1ae")][_0x1d97("0x1af")](),x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")]())})),this[_0x1d97("0x1ae")][_0x1d97("0x1c3")](this[_0x1d97("0x1be")])[_0x1d97("0x1c1")](),x}},{key:_0x1d97("0x254"),value:function(x){var d=this,_=(0,r.getValues)(x,_0x1d97("0x255"),_0x1d97("0x1b6"),1),e=esmap[_0x1d97("0x33")][_0x1d97("0x34")],t=(0,r[_0x1d97("0x13")])(x,_0x1d97("0x1b5"),"z",_0x1d97("0xe8e"),"offset",_0x1d97("0x26"),null),a=e[_0x1d97("0x9ff")]({x:x.x,y:x.y}),i=e[_0x1d97("0x17c")]({x:a.x,y:a.y}),n=i.x,s=i.z,o=null==t?d[_0x1d97("0xb6")].y:t;return 0==_?(d[_0x1d97("0xb6")].x=n,d[_0x1d97("0xb6")].y=o,d.position.z=s,x[_0x1d97("0x1c2")]&&x.callback(),x):(d._isAnimating=!0,d[_0x1d97("0x256")]&&d._moveToID[_0x1d97("0x1af")](),d[_0x1d97("0x256")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d.position).to({x:n,z:s,y:o},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x12e")]((function(_){x[_0x1d97("0x11d")]&&x[_0x1d97("0x11d")]({x:d.x,y:d.y})})).onComplete((function(){d[_0x1d97("0x1b0")]=!1,x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")]()}))[_0x1d97("0x1c1")](),x)}},{key:"rotate",value:function(x){var d=this,_=(0,r[_0x1d97("0x13")])(x,"time",_0x1d97("0x1b6"),1),e=!1;return d[_0x1d97("0xa2")]&&d[_0x1d97("0xa2")][_0x1d97("0xe8f")]&&d[_0x1d97("0xa2")][_0x1d97("0xe8f")]==_0x1d97("0xe90")&&(e=!0),d[_0x1d97("0xe91")]&&d._rotateID.stop(),d[_0x1d97("0xe91")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(e?d[_0x1d97("0x238")]:d).to({y:THREE[_0x1d97("0x24e")].degToRad(x[_0x1d97("0x257")])},1e3*_)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")].Linear[_0x1d97("0x269")]).onComplete((function(){x[_0x1d97("0x1c2")]&&x.callback()}))[_0x1d97("0x1c1")](),x}},{key:_0x1d97("0xe92"),value:function(x){var d=this;if(d[_0x1d97("0xa7")]&&!d[_0x1d97("0xe93")]){d[_0x1d97("0xe93")]=!0,(x=x||{})[_0x1d97("0xe94")]||(d[_0x1d97("0xf0")]=!0);var _=(0,r[_0x1d97("0x13")])(x,_0x1d97("0x255"),"duration",.2);d[_0x1d97("0xe95")]&&d[_0x1d97("0xe95")].stop(),d[_0x1d97("0xe95")]=new(esmap[_0x1d97("0x1b7")].Tween)(d[_0x1d97("0xa7")]).to({opacity:x[_0x1d97("0xe94")]?0:1},1e3*_)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing.Linear.None)[_0x1d97("0x1bd")]((function(){d[_0x1d97("0xe93")]=!1,x[_0x1d97("0xe94")]&&(d[_0x1d97("0xf0")]=!1),x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")]()}))[_0x1d97("0x1c1")]()}}},{key:_0x1d97("0xe96"),value:function(x){var d=this;if(d[_0x1d97("0xa7")]&&d[_0x1d97("0xa7")][_0x1d97("0x3e1")])for(var _=0;_<d[_0x1d97("0xa7")][_0x1d97("0x3e1")][_0x1d97("0x0")];_++){e(d[_0x1d97("0xa7")][_0x1d97("0x3e1")][_],_==d[_0x1d97("0xa7")][_0x1d97("0x3e1")][_0x1d97("0x0")]-1)}else e(d[_0x1d97("0xa7")],!0);function e(d,_){new(esmap.TWEEN[_0x1d97("0x1b8")])(d).to({opacity:0},500).easing(esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Linear[_0x1d97("0x269")])[_0x1d97("0x1bd")]((function(){_&&x&&x()}))[_0x1d97("0x1c1")]()}}},{key:_0x1d97("0xe97"),value:function(x){var d=this;if(d[_0x1d97("0xa7")]&&d[_0x1d97("0xa7")][_0x1d97("0x3e1")])for(var _=0;_<d[_0x1d97("0xa7")][_0x1d97("0x3e1")][_0x1d97("0x0")];_++){e(d[_0x1d97("0xa7")].materials[_],_==d[_0x1d97("0xa7")][_0x1d97("0x3e1")][_0x1d97("0x0")]-1)}else e(d.material,!0);function e(d,_){new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d).to({opacity:1},500)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]).onUpdate((function(x){}))[_0x1d97("0x1bd")]((function(){_&&x&&x()}))[_0x1d97("0x1c1")]()}}},{key:"pivot",get:function(){return this[_0x1d97("0xe98")]},set:function(x){if(x instanceof THREE.Vector3){this.pivot_=x,this[_0x1d97("0xe99")]=new(THREE[_0x1d97("0xe0")])(this[_0x1d97("0xe4d")]/2-x.x,0,x.y-this.height_/2);var d=new(THREE[_0x1d97("0x264")])(this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x8d9")](),this[_0x1d97("0x38")][_0x1d97("0x280")].getAzimuthalAngle(),0,_0x1d97("0xe9a")),_=(new(THREE[_0x1d97("0x261")]))[_0x1d97("0x263")](d);this.position.copy(this[_0x1d97("0xe59")][_0x1d97("0xdb")]()[_0x1d97("0xdc")](this[_0x1d97("0xe99")][_0x1d97("0xdb")]()[_0x1d97("0x276")](this[_0x1d97("0xe9b")]).applyMatrix4(_)))}}}]),d}(THREE[_0x1d97("0x29f")]),u=function(){function x(d,_,e,a){(0,t[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x38")]=esmap.ESMap[_0x1d97("0x34")],this[_0x1d97("0xe68")]=a||!1,this.data_=_,this[_0x1d97("0x184")][_0x1d97("0xad8")]=d,_[_0x1d97("0xe9c")]&&(this.data_.x_=_[_0x1d97("0xe9c")][0],this[_0x1d97("0x184")].y_=_.vertex[1]),this[_0x1d97("0xe4d")],this[_0x1d97("0xe4e")],this[_0x1d97("0xe3e")]=null,this[_0x1d97("0xe6e")]=1,this[_0x1d97("0xe58")]=!0,this[_0x1d97("0xe87")]=_[_0x1d97("0xb8")],this[_0x1d97("0xe9d")]=_[_0x1d97("0xe9d")],(e=e||{})[_0x1d97("0xd10")]=e[_0x1d97("0xd10")]||_0x1d97("0x3a5"),e.imagesize=e[_0x1d97("0xd57")]||null,e[_0x1d97("0xe72")]=e.imagespace||.5,e[_0x1d97("0xe71")]=1*e[_0x1d97("0xe71")]||4,e[_0x1d97("0xe77")]=e[_0x1d97("0xe9e")]||.5,e[_0x1d97("0xe7b")]=e[_0x1d97("0xe7b")]||"center",this[_0x1d97("0x22")]=e,this[_0x1d97("0xe59")]=null,this[_0x1d97("0xe99")]=null,this[_0x1d97("0xe98")]=null,this[_0x1d97("0xe78")]=null,this[_0x1d97("0xe79")]=null,this.isCallbackExeced=!1,this[_0x1d97("0xe7d")]=_[_0x1d97("0x1c2")]||null,this[_0x1d97("0x144")](e),THREE[_0x1d97("0x29f")][_0x1d97("0x3")](this,this.material_),this.material_=null,this[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4e4")];var i=_[_0x1d97("0x237")]||1;if(this[_0x1d97("0xe6b")]=null,this[_0x1d97("0xe6a")]=null,!this[_0x1d97("0xe9d")]){var n=174.22169477307486/this[_0x1d97("0x38")][_0x1d97("0x16d")].h_*.3,r=(this[_0x1d97("0xe6e")],this[_0x1d97("0xe4d")]*n),s=this[_0x1d97("0xe4e")]*n;this.scale.set(r*i,s*i,1)}_[_0x1d97("0x173")]||!this[_0x1d97("0xe7d")]||this[_0x1d97("0xe7e")]||(this[_0x1d97("0xe7d")](this),this[_0x1d97("0xe7e")]=!0)}return(0,a[_0x1d97("0x1c")])(x,null,[{key:"getPerspectiveScale",value:function(x,d){var _=x.getWorldPosition(new(THREE[_0x1d97("0xe0")]));x.userData[_0x1d97("0xe9f")]&&(_=x[_0x1d97("0x11e")][_0x1d97("0xe9f")].clone());var e=_,t=d[_0x1d97("0x567")][_0x1d97("0xb6")],a=d.map[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")](),i=e[_0x1d97("0x25d")](t),n=a[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](t)[_0x1d97("0x2e1")](),r=e.clone()[_0x1d97("0x3d7")](t)[_0x1d97("0x2e1")]();i*=n[_0x1d97("0x7f5")](r),i=Math[_0x1d97("0x253")](i);var s=d.map.options[_0x1d97("0x1f3")]==esmap.ESCameraMode[_0x1d97("0xea0")]?1.8:1,o=i/d.h_*.3*s,c=(x[_0x1d97("0xe6e")],x[_0x1d97("0xe4d")]*o),l=x[_0x1d97("0xe4e")]*o;return x[_0x1d97("0xe9b")]=o,{scale:6==x[_0x1d97("0xa2")].nodeType?new THREE.Vector3(c,l,c):new(THREE[_0x1d97("0xe0")])(c,l,1),meterperpixel:o}}}]),x}();u.prototype=new l,esmap[_0x1d97("0x75")][_0x1d97("0x550")](u[_0x1d97("0xf")],"originPosition"),CanvasRenderingContext2D[_0x1d97("0xf")].letterSpacingText=function(x,d,_,e,t){var a=this,i=a[_0x1d97("0x4a1")],n=_+e;if(!t&&i){var r=window.getComputedStyle(i);t=parseFloat(r[_0x1d97("0xea1")])}if(!t)return this[_0x1d97("0xea2")](x,d,_),this[_0x1d97("0xea3")](x,d,n);var s=x[_0x1d97("0x28")](""),o=a[_0x1d97("0xea4")]||_0x1d97("0x3a5"),c=a[_0x1d97("0xb0d")](x)[_0x1d97("0x328")]+t*(s[_0x1d97("0x0")]-1);o==_0x1d97("0xe7")?d-=c/2:o==_0x1d97("0x648")&&(d-=c),a.textAlign="left",s[_0x1d97("0x1d")]((function(x){var e=a[_0x1d97("0xb0d")](x).width;a[_0x1d97("0xea2")](x,d,_),a.fillText(x,d,n),d=d+e+t})),a[_0x1d97("0xea4")]=o},d[_0x1d97("0x1c")]=u},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(4)),t=n(_(5)),a=n(_(6)),i=n(_(0));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function x(d,_,e,t,a,n){var r;(0,i[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x184")]=_,this.data_[_0x1d97("0xad8")]=d;var s=_[_0x1d97("0xd05")];_.image&&""!=_.image&&(s=_[_0x1d97("0x173")]),esmap[_0x1d97("0x182")][_0x1d97("0xc7c")]=esmap.ESMapPoi[_0x1d97("0xc7c")]||{},(r=esmap[_0x1d97("0x182")][_0x1d97("0xc7c")][d+"_"+s])||(r=e.getPoiMaterialByType(t,s,a,n),esmap[_0x1d97("0x182")][_0x1d97("0xc7c")][d+"_"+s]=r),THREE[_0x1d97("0x29f")][_0x1d97("0x3")](this,r),this.scale[_0x1d97("0x11b")](10,10,10),this[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")].facility,this[_0x1d97("0xe4d")]=parseFloat(_.w),this.height_=parseFloat(_.h)},s=function(x){function d(){var x,_,a,n;(0,i[_0x1d97("0x1c")])(this,d);for(var r=arguments[_0x1d97("0x0")],s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return _=a=(0,t[_0x1d97("0x1c")])(this,(x=d[_0x1d97("0xe3")]||(0,e.default)(d))[_0x1d97("0x3")][_0x1d97("0x5")](x,[this][_0x1d97("0x1de")](s))),a.updateScreenSize=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x271")],a.flash=esmap[_0x1d97("0x177")][_0x1d97("0xf")].flash,a.jump=esmap.ESMapLabel[_0x1d97("0xf")][_0x1d97("0x26b")],a[_0x1d97("0x26e")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].stopJump,n=_,(0,t[_0x1d97("0x1c")])(a,n)}return(0,a[_0x1d97("0x1c")])(d,x),d}(THREE[_0x1d97("0x29f")]);r[_0x1d97("0xf")]=new s,esmap[_0x1d97("0x75")]._setGeneralProperties(r[_0x1d97("0xf")]),d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=l(_(9)),t=l(_(12)),a=l(_(13)),i=l(_(4)),n=l(_(5)),r=l(_(6)),s=l(_(0)),o=l(_(146)),c=_(144);function l(x){return x&&x.__esModule?x:{default:x}}var u=function x(d,_,e){(0,s[_0x1d97("0x1c")])(this,x),f[_0x1d97("0x3")](this),this[_0x1d97("0x184")]=d,this.visible=!1,this[_0x1d97("0x128")]=d[_0x1d97("0x128")]||!1,this[_0x1d97("0xea8")]=null,this[_0x1d97("0xea9")]=null,this.url=_;var t=new(THREE[_0x1d97("0x42b")]);this.seeThrough&&(t[_0x1d97("0xe53")]=!1),this[_0x1d97("0x299")]=!0,THREE.Sprite.call(this,t),this[_0x1d97("0x237")].set(1,1,1),d[_0x1d97("0x29a")]||(this[_0x1d97("0xea9")]=t,this.glowing=!1),this[_0x1d97("0xeaa")]({material:t,data:d,glowMode:d[_0x1d97("0x29a")],glowColor:this[_0x1d97("0x184")].glowColor,url:_,callback:e}),this[_0x1d97("0xeab")]=!1,this[_0x1d97("0xeac")]=null},f=function(){var x;this[_0x1d97("0xead")]=function(){this[_0x1d97("0xeae")]&&(this[_0x1d97("0xeae")][_0x1d97("0x1af")](),this[_0x1d97("0xeae")]=null,this[_0x1d97("0xb6")].y=this._originalHeight),this[_0x1d97("0xeab")]&&(this[_0x1d97("0xeab")]=!1)},this[_0x1d97("0xccc")]=function(x){var d=this.position.y;this[_0x1d97("0xeae")]&&(this._floatTween.stop(),this[_0x1d97("0xeae")]=null),this[_0x1d97("0x2")]("_originalHeight")||(this._originalHeight=d);var _=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this.position).to({y:d+x.height},1e3*x[_0x1d97("0x255")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic.In),e=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(this[_0x1d97("0xb6")]).to({y:d},1e3*x.time)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Linear[_0x1d97("0x269")]);_[_0x1d97("0x1c3")](e),e.chain(_),_.start(),this._floatTween=_,this[_0x1d97("0xeab")]||(this.floating=!0)},this[_0x1d97("0xeaf")]=(x=(0,a[_0x1d97("0x1c")])(t[_0x1d97("0x1c")].mark((function x(d,_){var e,a,i;return t.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:if(e=this,a=this[_0x1d97("0x128")],!e[_0x1d97("0x1b0")]){x[_0x1d97("0x2a8")]=4;break}return x[_0x1d97("0x2ae")]("return");case 4:if(this[_0x1d97("0xeac")]||(this[_0x1d97("0xeac")]=this.center[_0x1d97("0xdb")]()),!d){x[_0x1d97("0x2a8")]=23;break}if(_==e[_0x1d97("0x184")][_0x1d97("0xeb0")]&&e[_0x1d97("0xea8")]){x.next=14;break}return i=new(THREE[_0x1d97("0x42b")]),a&&(e[_0x1d97("0x234")]=100,i[_0x1d97("0xe53")]=!1),x.next=11,this.genTexture({material:i,data:this.data_,glowMode:!0,glowColor:_,url:e[_0x1d97("0x48")],callback:null});case 11:e[_0x1d97("0xea8")]=e[_0x1d97("0xa7")],x[_0x1d97("0x2a8")]=15;break;case 14:d!=e[_0x1d97("0x299")]&&(e[_0x1d97("0xe4d")]*=2,e[_0x1d97("0xe4e")]*=2);case 15:e.originSize&&(this[_0x1d97("0xded")][_0x1d97("0x328")]=e[_0x1d97("0xe4d")],this[_0x1d97("0xded")][_0x1d97("0x1b5")]=e[_0x1d97("0xe4e")]),e[_0x1d97("0xa7")]=e.glowMat,e[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,e.data_[_0x1d97("0x29a")]=!0,e.glowing=!0,0==this[_0x1d97("0xeac")].y&&(this.center.y=.25),x.next=38;break;case 23:if(e[_0x1d97("0xea9")]){x.next=31;break}return i=new THREE.SpriteMaterial,a&&(e[_0x1d97("0x234")]=100,i.depthTest=!1),x[_0x1d97("0x2a8")]=28,this[_0x1d97("0xeaa")]({material:i,data:this[_0x1d97("0x184")],glowMode:!1,url:e.url,callback:null});case 28:e[_0x1d97("0xea9")]=i,x[_0x1d97("0x2a8")]=32;break;case 31:d!=e.glowing&&(e.width_/=2,e[_0x1d97("0xe4e")]/=2);case 32:e[_0x1d97("0xded")]&&(this[_0x1d97("0xded")][_0x1d97("0x328")]=e[_0x1d97("0xe4d")],this.originSize[_0x1d97("0x1b5")]=e[_0x1d97("0xe4e")]),e[_0x1d97("0xa7")]=e[_0x1d97("0xea9")],e[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,e[_0x1d97("0x184")][_0x1d97("0x29a")]=!1,e[_0x1d97("0x299")]=!1,0==this[_0x1d97("0xeac")].y&&(this[_0x1d97("0xe7")].y=0);case 38:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(d,_){return x.apply(this,arguments)}),this[_0x1d97("0xeaa")]=function(x){var d=this,_=0,t=0,a=x[_0x1d97("0xeb1")],i=x[_0x1d97("0x35d")],n=x.material,r=x[_0x1d97("0x48")],s=x[_0x1d97("0x1c2")],o=x[_0x1d97("0xeb0")],l=(esmap[_0x1d97("0x33")][_0x1d97("0x34")],this[_0x1d97("0x184")][_0x1d97("0xeb2")]||1);return new(e[_0x1d97("0x1c")])((function(x){i[_0x1d97("0xeb3")]instanceof Object?(_=i[_0x1d97("0xeb3")].w,t=i[_0x1d97("0xeb3")].h):_=t=i[_0x1d97("0xeb3")],a&&(_*=2,t*=2);var e=document[_0x1d97("0x21")](_0x1d97("0x4a1")),u=new Image;u[_0x1d97("0x6a5")]=_0x1d97("0x69c");var f=e[_0x1d97("0x84b")]("2d"),h=Math[_0x1d97("0x317")](_,64);h=h>1024?1024:h;var b=Math[_0x1d97("0x317")](t,64);b=b>1024?1024:b,h*=l,b*=l,e.width=h,e[_0x1d97("0x1b5")]=b,a?(u[_0x1d97("0x328")]=h/2,u[_0x1d97("0x1b5")]=b/2):(u[_0x1d97("0x328")]=h,u.height=b),u[_0x1d97("0x39e")]=r,u[_0x1d97("0x509")]=function(x){f[_0x1d97("0x86f")]=_0x1d97("0xeb4"),f[_0x1d97("0x870")](0,0,e[_0x1d97("0x328")],e[_0x1d97("0x1b5")]),u[_0x1d97("0x39e")]=c[_0x1d97("0x4a8")]},u[_0x1d97("0x4a2")]=function(r){i.clip_?i[_0x1d97("0xeb5")]==_0x1d97("0x117")&&function(x,d,_,e,t){x[_0x1d97("0xea5")]();var a=2*t,i=_+t,n=e+t;x[_0x1d97("0x855")](i,n,t,0,2*Math.PI),x[_0x1d97("0xea6")](),x[_0x1d97("0x4a5")](d,_,e,a,a),x[_0x1d97("0xea7")]()}(f,u,0,0,_/2):a?f[_0x1d97("0x4a5")](u,u[_0x1d97("0x328")]/2,u.height/2,u[_0x1d97("0x328")],u[_0x1d97("0x1b5")]):f[_0x1d97("0x4a5")](u,0,0,u[_0x1d97("0x328")],u[_0x1d97("0x1b5")]);var c=new(THREE[_0x1d97("0x4a6")])(e);c[_0x1d97("0x13f")]=THREE[_0x1d97("0x5d6")],c.anisotropy=esmap.ESMap[_0x1d97("0x34")][_0x1d97("0x16d")].renderer[_0x1d97("0xc0a")][_0x1d97("0xc0b")](),d[_0x1d97("0x4c4")]=c,d[_0x1d97("0xa7")]!=n&&(d[_0x1d97("0xa7")]=n),n.map=c,n[_0x1d97("0x38")].needsUpdate=!0,d[_0x1d97("0xf0")]=!0;var l=_/32*10,h=t/32*10;d[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")].imageMarker,d[_0x1d97("0x237")].set(l,h,1),d[_0x1d97("0xe4d")]=_,d[_0x1d97("0xe4e")]=t,s&&s(c,d),a&&d[_0x1d97("0xeb6")](o),x()}}))},this[_0x1d97("0xeb6")]=function(x){var d=this,_=esmap.ESMap[_0x1d97("0x34")],e=(document[_0x1d97("0x21")](_0x1d97("0x428")),_0x1d97("0xeb7")),t=(new(THREE[_0x1d97("0x29d")]))[_0x1d97("0x591")](e);d[_0x1d97("0xea8")]&&(d[_0x1d97("0xea8")][_0x1d97("0xa6")](),_[_0x1d97("0x5e")](_0x1d97("0x11d"),d.activeSprite_[_0x1d97("0xeb8")])),d.activeSprite_=new(o[_0x1d97("0x1c")])({texture:d.texture,aoTexture:t,colorStr:x});var a=function(x){d[_0x1d97("0xeb9")][_0x1d97("0x4cd")](x)};_.on(_0x1d97("0x11d"),a),d[_0x1d97("0xeb9")][_0x1d97("0xeb8")]=a,d.material=d[_0x1d97("0xeb9")][_0x1d97("0xa7")],d.seeThrough&&(d[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1,d[_0x1d97("0x234")]=100),d[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,d[_0x1d97("0xea8")]=d[_0x1d97("0xa7")]},this[_0x1d97("0xeba")]=esmap.ESappendMapPoi__[_0x1d97("0xeba")]},h=function(x){function d(){var x,_,e,t;(0,s[_0x1d97("0x1c")])(this,d);for(var a=arguments[_0x1d97("0x0")],r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return _=e=(0,n.default)(this,(x=d.__proto__||(0,i[_0x1d97("0x1c")])(d))[_0x1d97("0x3")].apply(x,[this][_0x1d97("0x1de")](r))),e[_0x1d97("0x271")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].updateScreenSize,e.flash=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x26f")],e.alwaysShow=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0xebb")],e[_0x1d97("0x254")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].moveTo,e[_0x1d97("0xe92")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].fade,e[_0x1d97("0x26b")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x26b")],e[_0x1d97("0x26e")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x26e")],e[_0x1d97("0x270")]=esmap.ESMapLabel[_0x1d97("0xf")][_0x1d97("0x270")],t=_,(0,n[_0x1d97("0x1c")])(e,t)}return(0,r[_0x1d97("0x1c")])(d,x),d}(THREE[_0x1d97("0x29f")]);u[_0x1d97("0xf")]=new h,window[_0x1d97("0x4d8")][_0x1d97("0x75")][_0x1d97("0x550")](u.prototype),d[_0x1d97("0x1c")]=u},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=o(_(10)),t=o(_(9)),a=o(_(4)),i=o(_(0)),n=o(_(1)),r=o(_(5)),s=o(_(6));function o(x){return x&&x.__esModule?x:{default:x}}var c=function(x){function d(x,_,e,t){(0,i[_0x1d97("0x1c")])(this,d);var n=(0,r[_0x1d97("0x1c")])(this,(d.__proto__||(0,a[_0x1d97("0x1c")])(d)).call(this));n[_0x1d97("0x271")]=esmap.ESMapLabel.prototype.updateScreenSize,n.flash=esmap[_0x1d97("0x177")][_0x1d97("0xf")].flash,n[_0x1d97("0xebb")]=esmap.ESMapLabel[_0x1d97("0xf")][_0x1d97("0xebb")],n[_0x1d97("0x254")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x254")],n[_0x1d97("0xe92")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0xe92")];var s=new THREE.Mesh,o=new(THREE[_0x1d97("0x343")])({transparent:!0,side:THREE[_0x1d97("0x111")]});o[_0x1d97("0xf0")]=!1,s[_0x1d97("0xa7")]=o;var c=new(THREE[_0x1d97("0x5f8")])(1,1,1,1);s[_0x1d97("0xa5")]=c,n[_0x1d97("0x184")]=_,n[_0x1d97("0xaa4")]=_[_0x1d97("0xaa4")],n.visible=!1,n[_0x1d97("0xebe")]=_[_0x1d97("0xebe")],n[_0x1d97("0xdc")](s),n[_0x1d97("0xf7")]=s;var l=n,u=esmap[_0x1d97("0x33")].instance;_[_0x1d97("0x123")]?n[_0x1d97("0xebf")]():n.outline=n[_0x1d97("0xf7")],n.genTexture({url:e,glowMode:!1,material:o,glowColor:"#FF0000",clip:_[_0x1d97("0xea6")]}).then((function(){n.hide||(n[_0x1d97("0xf7")][_0x1d97("0xa7")][_0x1d97("0xf0")]=!0,n[_0x1d97("0xf0")]=!0),t&&t(l)})),u.on(_0x1d97("0x11d"),(function(){n[_0x1d97("0xebe")]&&s[_0x1d97("0x238")][_0x1d97("0x11b")](0,0,-u.rotateAngle/180*Math.PI,_0x1d97("0x3e5"))})),n[_0x1d97("0x184")][_0x1d97("0x128")]&&(o[_0x1d97("0x867")]=!1,o[_0x1d97("0xe53")]=!1),s[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4e8")];var f={};_[_0x1d97("0xeb3")]instanceof Object?(f.w=_[_0x1d97("0xeb3")].w,f.h=_[_0x1d97("0xeb3")].h):f.w=f.h=_[_0x1d97("0xeb3")];var h=f.w/32*10,b=f.h/32*10;return l[_0x1d97("0x237")][_0x1d97("0x11b")](h,b,1),l[_0x1d97("0x238")][_0x1d97("0x11b")](-Math.PI/2,0,Math.PI,_0x1d97("0x3e5")),l[_0x1d97("0xe4d")]=f.w,l.height_=f.h,n}return(0,s.default)(d,x),(0,n.default)(d,[{key:"initArrow",value:function(){var x=this.data_,d=this.createArrow({color:x[_0x1d97("0xec0")],scale:x[_0x1d97("0xec1")]/x.size_,offset:x.arrowOffset});this[_0x1d97("0x184")][_0x1d97("0x128")]&&(d[_0x1d97("0xa7")][_0x1d97("0x867")]=!1,d[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1),d[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4e8")]-.5,d.position.z-=.05;var _=new(THREE[_0x1d97("0x7c5")]);_[_0x1d97("0xdc")](d),this.add(_),this[_0x1d97("0x197")]=_,this.arrowGroup=_}},{key:_0x1d97("0xec2"),value:function(x){var d=x[_0x1d97("0x100")],_=x[_0x1d97("0x237")],e=x[_0x1d97("0x113")],t=document.createElement(_0x1d97("0x4a1")),a=64;t[_0x1d97("0x328")]=a,t[_0x1d97("0x1b5")]=a;var i=t[_0x1d97("0x84b")]("2d");i[_0x1d97("0x858")](),i[_0x1d97("0x254")](0,a),i[_0x1d97("0x4ba")](32,0),i[_0x1d97("0x4ba")](a,a),i[_0x1d97("0x4ba")](a,a),i[_0x1d97("0x856")](),i.stroke(),i.fillStyle=d,i.fill();var n=new(THREE[_0x1d97("0x4a6")])(t),r=new THREE.MeshBasicMaterial({map:n,transparent:!0});r.visible=!0,r[_0x1d97("0x38")][_0x1d97("0x13b")]=!0;var s=new(THREE[_0x1d97("0x5f8")])(_,_,_,_),o=new(THREE[_0x1d97("0x14a")])(s,r);return o[_0x1d97("0xb8")]=_0x1d97("0x123"),o[_0x1d97("0x234")]=esmap.ESRenderOrder.locationMarker-1,o.position.y+=e,o}},{key:_0x1d97("0xeba"),value:function(x){this[_0x1d97("0xeaa")]({url:x,glowMode:!1,material:this.main[_0x1d97("0xa7")],glowColor:_0x1d97("0x29b"),clip:this[_0x1d97("0x184")][_0x1d97("0xea6")]})}},{key:_0x1d97("0xeaa"),value:function(x){var d=x[_0x1d97("0xeb1")],_=x[_0x1d97("0xa7")],a=x[_0x1d97("0x48")],i=(x.callback,x.glowColor,esmap.ESMap.instance),n=128,r=128;x.size&&(n=x[_0x1d97("0xa5f")].w,r=x[_0x1d97("0xa5f")].h);var s=this[_0x1d97("0x184")][_0x1d97("0xeb2")]||1;return new(t[_0x1d97("0x1c")])((function(t){d&&(n*=2,r*=2);var o=document[_0x1d97("0x21")](_0x1d97("0x4a1")),c=o.getContext("2d"),l=Math[_0x1d97("0x317")](n,64);l=l>1024?1024:l;var u=Math[_0x1d97("0x317")](r,64);u=u>1024?1024:u,l*=s,u*=s,o.width=l,o[_0x1d97("0x1b5")]=u,i[_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xec3")](a,(function(a){if(d?(a.width=l/2,a[_0x1d97("0x1b5")]=u/2):(a.width=l,a[_0x1d97("0x1b5")]=u),x[_0x1d97("0xea6")]){var i=null;(0,e[_0x1d97("0x1c")])(x[_0x1d97("0xea6")])==_0x1d97("0xc")?((i=x.clip)[_0x1d97("0xebd")]=x[_0x1d97("0xea6")][_0x1d97("0xebd")]||"#FFFFFF",i[_0x1d97("0xebc")]=x.clip.strokeWidth||1):typeof x[_0x1d97("0xea6")]==_0x1d97("0xe")&&(i={type:x.clip,strokeColor:_0x1d97("0xec4"),strokeWidth:1}),i&&i[_0x1d97("0x6a")]==_0x1d97("0x117")&&function(x,d,_,e,t,a){x[_0x1d97("0xea5")]();var i=2*t,n=_+t,r=e+t;x[_0x1d97("0x855")](n,r,t,0,2*Math.PI),x[_0x1d97("0xea6")](),x[_0x1d97("0x4a5")](d,_,e,i,i),x.beginPath(),x.arc(n,r,t-a[_0x1d97("0xebc")],0,2*Math.PI),x[_0x1d97("0x965")]=a[_0x1d97("0xebd")],x[_0x1d97("0x119")]=a[_0x1d97("0xebc")],x[_0x1d97("0x968")](),x[_0x1d97("0xea7")]()}(c,a,0,0,n/2,i)}else d?c[_0x1d97("0x4a5")](a,a[_0x1d97("0x328")]/2,a.height/2,a.width,a[_0x1d97("0x1b5")]):c.drawImage(a,0,0,a.width,a.height);var r=new(THREE[_0x1d97("0xec5")])(o);r[_0x1d97("0x13b")]=!0,r[_0x1d97("0x13f")]=THREE.LinearMipMapLinearFilter,esmap[_0x1d97("0x33")][_0x1d97("0x34")]&&(r[_0x1d97("0x13e")]=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0xc0a")][_0x1d97("0xc0b")](),_.map=r,_.map.needsUpdate=!0,_[_0x1d97("0x13b")]=!0,t())}))}))}},{key:_0x1d97("0x123"),get:function(){return this.arrowGroup&&this.arrowGroup[_0x1d97("0xf0")]},set:function(x){x?(this[_0x1d97("0xec6")]?this[_0x1d97("0xec6")][_0x1d97("0xf0")]=!0:this.initArrow(),this[_0x1d97("0x197")]=this[_0x1d97("0xec6")]):(this[_0x1d97("0xec6")]&&(this.arrowGroup[_0x1d97("0xf0")]=!1),this[_0x1d97("0x197")]=this[_0x1d97("0xf7")])}}]),d}(THREE[_0x1d97("0x150")]);window.esmap[_0x1d97("0x75")][_0x1d97("0x550")](c[_0x1d97("0xf")]),d.default=c},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(4)),t=n(_(0)),a=n(_(5)),i=n(_(6));function n(x){return x&&x.__esModule?x:{default:x}}var r=new(THREE[_0x1d97("0xec7")])(1,1,1,1),s=function(x){function d(x,_,i,n){(0,t[_0x1d97("0x1c")])(this,d);var s=new(THREE[_0x1d97("0x343")])({transparent:!0}),o={fontsize:2*i[_0x1d97("0xe19")],borderThickness:.1,color:esmap[_0x1d97("0x75")][_0x1d97("0x541")](i[_0x1d97("0xe18")]||_0x1d97("0xc58")),borderColor:esmap[_0x1d97("0x75")][_0x1d97("0x541")](i[_0x1d97("0xe88")]||"255,255,255"),imagealign:i[_0x1d97("0xd10")]||"left",imagesize:i[_0x1d97("0xd57")],imagespace:i[_0x1d97("0xe72")],textspace:i[_0x1d97("0xe9e")]||4,pivottype:i[_0x1d97("0xe7b")]||_0x1d97("0xe7")},c=(i.fontsize,(0,a[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e.default)(d)).call(this,r,s)));c[_0x1d97("0xeba")]=esmap.ESappendMapPoi__[_0x1d97("0xeba")],c[_0x1d97("0x271")]=esmap[_0x1d97("0x177")].prototype[_0x1d97("0x271")],c[_0x1d97("0x26f")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].flash,c[_0x1d97("0xebb")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")].alwaysShow,c[_0x1d97("0x254")]=esmap.ESMapLabel[_0x1d97("0xf")][_0x1d97("0x254")],c[_0x1d97("0xe92")]=esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0xe92")];var l=esmap[_0x1d97("0x177")][_0x1d97("0xf")].makeTextSprite_.call(c,_[_0x1d97("0xb8")],o),u=l.image[_0x1d97("0x328")],f=l[_0x1d97("0x173")][_0x1d97("0x1b5")];l[_0x1d97("0x13b")]=!0,c.material[_0x1d97("0x38")]=l,c.material[_0x1d97("0x38")][_0x1d97("0x13b")]=!0,c.material[_0x1d97("0x79a")]=!0,c[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,c[_0x1d97("0xa5")]=new(THREE[_0x1d97("0xec7")])(u,f,1,1),c[_0x1d97("0x184")]=_,c[_0x1d97("0xf0")]=!1;var h=c;return h[_0x1d97("0x238")][_0x1d97("0x11b")](-Math.PI/2,0,Math.PI,_0x1d97("0x3e5")),h[_0x1d97("0xec8")](THREE.Math[_0x1d97("0x265")](Number(_[_0x1d97("0x257")]))),h.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x4e8")],h[_0x1d97("0x237")].set(.04,.04,1),n&&n(),c}return(0,i[_0x1d97("0x1c")])(d,x),d}(THREE.Mesh);esmap.ESMapUtil[_0x1d97("0x550")](s[_0x1d97("0xf")]),d.default=s},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(329));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(d,_){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xec9")]=null,this[_0x1d97("0x199")]=0,this[_0x1d97("0x19a")]=0,this[_0x1d97("0xeca")]=0,this[_0x1d97("0xecb")]=null,this.lineManager=null,this.box3_=null,this[_0x1d97("0xa61")]=0,this[_0x1d97("0xa62")]=0,this[_0x1d97("0xecc")]=0,this[_0x1d97("0xa63")]=0,this[_0x1d97("0xecd")]=0,this[_0x1d97("0x38")]=d,this[_0x1d97("0x183")]=_;_=esmap[_0x1d97("0x75")].getPlatform();this.isPC=_[_0x1d97("0x219")],this[_0x1d97("0x14b")]=new a.default(this),this[_0x1d97("0xb62")]=new(THREE[_0x1d97("0x69a")]),this[_0x1d97("0x8be")]=[],this[_0x1d97("0xece")]={building:0,model:0},this[_0x1d97("0xecf")]()}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x5f5"),value:function(x){!function x(d){if(null!==d){d.datas_&&d[_0x1d97("0xa2")][_0x1d97("0xa3")]&&(d[_0x1d97("0xa2")].o3d_=void 0,d[_0x1d97("0xa2")]=void 0);for(var _=0;_<d.children[_0x1d97("0x0")];_++)x(d[_0x1d97("0xa4")][_]);d[_0x1d97("0xa5")]&&(d[_0x1d97("0xa5")][_0x1d97("0xa6")](),d[_0x1d97("0xa5")]=void 0),d.material&&(d[_0x1d97("0xa7")][_0x1d97("0x3e1")]?d.material[_0x1d97("0x3e1")][_0x1d97("0x1d")]((function(x){x[_0x1d97("0x38")]&&(x[_0x1d97("0x38")][_0x1d97("0xa6")](),x.map=void 0),x[_0x1d97("0xa6")](),x=void 0})):(d[_0x1d97("0xa7")][_0x1d97("0xa6")](),d[_0x1d97("0xa7")]=void 0))}d=void 0}(x)}},{key:_0x1d97("0xecf"),value:function(){this.o3dScene_=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0xecb")][_0x1d97("0xb8")]="main",this[_0x1d97("0x937")]=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0x937")][_0x1d97("0xb8")]=_0x1d97("0x937"),this[_0x1d97("0xecb")][_0x1d97("0xdc")](this[_0x1d97("0x937")]),this[_0x1d97("0x920")]=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0x920")].name="buildings",this[_0x1d97("0x90f")]=new THREE.Object3D,this[_0x1d97("0x90f")].name=_0x1d97("0xed0"),this[_0x1d97("0x1a4")]=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0xecb")].add(this.baseScene),this[_0x1d97("0xecb")].add(this[_0x1d97("0x90f")]),this[_0x1d97("0xecb")][_0x1d97("0xdc")](this[_0x1d97("0x920")])}},{key:"setScene",value:function(x,d,_){var e=this,t=x[_0x1d97("0xc82")]<32503514?x[_0x1d97("0xc82")]:x[_0x1d97("0xc82")]/1e3;if(!((new Date)[_0x1d97("0x74")]()>1e6*t)&&(esmap[_0x1d97("0x75")][_0x1d97("0x76")](x[_0x1d97("0x77")]+x[_0x1d97("0x456")]+x[_0x1d97("0x453")]+(x.o1||0)+_0x1d97("0xed1")+(x.o2||0))==x[_0x1d97("0x446")]||x[_0x1d97("0x446")]==x[_0x1d97("0x77")]||x[_0x1d97("0x77")]==_0x1d97("0xa1b"))){if(this[_0x1d97("0xec9")]=x,x[_0x1d97("0xed2")]>0?this.sceneX_=-x.centerX:this[_0x1d97("0x199")]=x[_0x1d97("0xed2")],this[_0x1d97("0x19a")]=x.centerY,!this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xed3")]&&this[_0x1d97("0x38")][_0x1d97("0x35")].center){var a=this[_0x1d97("0x38")][_0x1d97("0x17c")]({x:this.map[_0x1d97("0x35")][_0x1d97("0xe7")][0],y:this.map.options.center[1]});this[_0x1d97("0x38")].on("controlsReseted",(function(){e.map[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x11b")](a.x,0,a.z),e[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x11d")]({forceTheta:Math.PI-e[_0x1d97("0x38")].options[_0x1d97("0x1fb")]*THREE.Math[_0x1d97("0x56c")],forcePhi:e.map[_0x1d97("0x35")][_0x1d97("0x1fc")]*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")]})}))}if(this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x155")]=this[_0x1d97("0x38")].options[_0x1d97("0x155")],this.map[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){this.userScene=new(esmap[_0x1d97("0x527")])(this[_0x1d97("0x38")].id,{undergroundOffset:0},this[_0x1d97("0x38")]),this[_0x1d97("0x999")].buildingType=esmap.ESBuildingType[_0x1d97("0xed4")],this[_0x1d97("0x999")][_0x1d97("0xef")]=[1],this[_0x1d97("0x999")][_0x1d97("0x584")]=[1],this[_0x1d97("0x999")][_0x1d97("0xb7e")][1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this.userScene[_0x1d97("0xc7f")]=0,this[_0x1d97("0x999")][_0x1d97("0xc81")]=0,this[_0x1d97("0x999")][_0x1d97("0xe7")]=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xe7")];var i=new(esmap[_0x1d97("0x3cd")])(this,{name:"å®¤å¤",Elevation:0,Name_en:_0x1d97("0xed5"),Alias:"å®¤å¤",floornum:1});i[_0x1d97("0xa3")][_0x1d97("0xed6")]={Elevation:0,floornum:1},this[_0x1d97("0x999")][_0x1d97("0x576")][1]=i[_0x1d97("0xa3")];var n=new esmap.ESLayer(esmap.ESLayerType[_0x1d97("0x221")]);n[_0x1d97("0xb8")]=_0x1d97("0x94b"),i[_0x1d97("0x190")](n),this[_0x1d97("0x999")][_0x1d97("0xa3")][_0x1d97("0xdc")](i[_0x1d97("0xa3")]);var r=this.userScene;this[_0x1d97("0x38")].on(_0x1d97("0x8ea"),(function(){r.map&&(r.map[_0x1d97("0x35")].dynamicLoadModels?(r[_0x1d97("0x38")].firstPersonControls[_0x1d97("0x4d0")]&&(timer=setTimeout((function(){r.modelLoadManager[_0x1d97("0x28d")]=!1,r[_0x1d97("0x14f")][_0x1d97("0x2f0")]=!1,timer&&window[_0x1d97("0x28e")](timer)}),100)),r.modelLoadManager[_0x1d97("0xb88")](),r[_0x1d97("0x14f")].invisibleMergeModels(),r[_0x1d97("0x14f")][_0x1d97("0xb8f")]()):(r[_0x1d97("0x14f")][_0x1d97("0xb85")](),r[_0x1d97("0x14f")].checkIfNeedLoad(r)))})),this[_0x1d97("0x920")][_0x1d97("0xdc")](this[_0x1d97("0x999")][_0x1d97("0xa3")])}this[_0x1d97("0x219")]||(this[_0x1d97("0xecb")].position.y+=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xed7")]),d&&(this[_0x1d97("0xa33")]=esmap[_0x1d97("0x50f")][_0x1d97("0xbda")](_)),this[_0x1d97("0xa61")]=this[_0x1d97("0xec9")].minX,this[_0x1d97("0xecc")]=this[_0x1d97("0xec9")][_0x1d97("0x44d")],this.minY_=this[_0x1d97("0xec9")][_0x1d97("0x44c")],this[_0x1d97("0xa63")]=this[_0x1d97("0xec9")][_0x1d97("0x44e")],this[_0x1d97("0x38")][_0x1d97("0x88d")][_0x1d97("0x430")](),this[_0x1d97("0x38")][_0x1d97("0x16d")].scene[_0x1d97("0xdc")](this[_0x1d97("0xecb")])}}},{key:_0x1d97("0xed8"),value:function(){return esmap[_0x1d97("0x50f")][_0x1d97("0xed8")](this[_0x1d97("0xa33")])}},{key:_0x1d97("0x9b5"),value:function(){return this[_0x1d97("0xecb")]}},{key:_0x1d97("0xed9"),value:function(){return this[_0x1d97("0x920")]}},{key:"getTileScene",value:function(){return this[_0x1d97("0x90f")]}},{key:_0x1d97("0xeda"),value:function(x,d){var _=this[_0x1d97("0x38")][_0x1d97("0x28c")],e=d[_0x1d97("0x16a")],t=d[_0x1d97("0xa2")][_0x1d97("0xedb")];for(var a in e[_0x1d97("0x5f5")](),d[_0x1d97("0xa4")]){var i=d.children[a];if(i.forceVisible_){var n=this[_0x1d97("0x38")][_0x1d97("0xedc")](i),r=i.width_/2,s=i[_0x1d97("0xe4e")]/2,o=i[_0x1d97("0xe7")]||{x:.5,y:0},c=n.y-s/2+(o.y-.5)*s,l=n.x-r/2+(.5-o.x)*r;t&&e[_0x1d97("0x1")](i,{x:l,y:c,w:r,h:s,size:r*s})?i[_0x1d97("0xf0")]=!_:(i[_0x1d97("0xf0")]=!0,i[_0x1d97("0x271")](x))}}}},{key:_0x1d97("0xa30"),value:function(x){for(var d=this,_=this[_0x1d97("0xed9")](),e=0;e<_[_0x1d97("0xa4")][_0x1d97("0x0")];e++){_[_0x1d97("0xa4")][e][_0x1d97("0xa4")][_0x1d97("0x1d")]((function(_){if(_[_0x1d97("0xf0")])for(var e=0;e<_[_0x1d97("0xa4")][_0x1d97("0x0")];e++){var t=_.children[e],a=t.datas_;a&&a[_0x1d97("0xf0")]&&(a[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x169")]||a[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x9fc")]||a[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")].MODEL_POI||a._type_==esmap.ESLayerType[_0x1d97("0x9fb")])&&d[_0x1d97("0xeda")](x,t)}}))}var t=this[_0x1d97("0x9ba")]();for(e=0;e<t[_0x1d97("0xa4")].length;e++){t[_0x1d97("0xa4")][e][_0x1d97("0xa4")].forEach((function(_){(_.datas_&&_.datas_[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x169")]||_[_0x1d97("0xa2")]&&_[_0x1d97("0xa2")][_0x1d97("0x94e")]==esmap.ESLayerType[_0x1d97("0x94f")])&&d[_0x1d97("0xeda")](x,_)}))}var a=this[_0x1d97("0x999")][_0x1d97("0xa3")];a&&a.children.forEach((function(_){var e=_[_0x1d97("0xa2")];e&&e[_0x1d97("0xf0")]&&(e[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x169")]||e[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")].IMAGE_MARKER||e[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")].TEXT_MARKER||e[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x94f")]||e[_0x1d97("0x94e")]==esmap.ESLayerType.IMAGE_MARKER||e._type_==esmap.ESLayerType[_0x1d97("0x9fb")])&&d[_0x1d97("0xeda")](x,_)}))}}]),x}();d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(330));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x1c9")]=new(a[_0x1d97("0x1c")])(d),this.scene=d,this[_0x1d97("0xedd")]=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")].tileMode}return(0,t[_0x1d97("0x1c")])(x,[{key:"handleModels",value:function(x,d,_,e){var t=this[_0x1d97("0x305")],a=t[_0x1d97("0x199")],i=t[_0x1d97("0x19a")];e||(a=(x[_0x1d97("0xede")][_0x1d97("0xaa")]-x[_0x1d97("0xede")][_0x1d97("0xad")])/2+x[_0x1d97("0xede")][_0x1d97("0xad")],i=(x[_0x1d97("0xede")][_0x1d97("0xab")]-x[_0x1d97("0xede")][_0x1d97("0xae")])/2+x[_0x1d97("0xede")].miny);var n=t.sceneX_,r=t.sceneZ_,s={lod:x.lod,fnum:d,sceneX:n,sceneZ:r,isTile:e,floorCenX:-a,floorCenZ:i,minX:_[_0x1d97("0x165")].minX,minY:_.sourceData.minY,maxX:_[_0x1d97("0x165")].maxX,maxY:_[_0x1d97("0x165")][_0x1d97("0x44e")],modelHeight:5,isMerge:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e9")],editMode:t.map[_0x1d97("0x35")][_0x1d97("0x20f")],showBase:t[_0x1d97("0x38")].options[_0x1d97("0x209")],layers:x[_0x1d97("0x570")],maptheme:t[_0x1d97("0x38")][_0x1d97("0xf6")].maptheme,tileStylesMap:t[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xe22")],layerType:1,messageType:1,isBim:_[_0x1d97("0x6a")]>100};this.modelWorker.addTask(s,_)}},{key:"handlePolygons",value:function(x,d,_,e){var t=this[_0x1d97("0x305")],a=t[_0x1d97("0x199")],i=t[_0x1d97("0x19a")];e||(a=(x.floorEdge[_0x1d97("0xaa")]-x[_0x1d97("0xede")].minx)/2+x[_0x1d97("0xede")][_0x1d97("0xad")],i=(x[_0x1d97("0xede")][_0x1d97("0xab")]-x.floorEdge[_0x1d97("0xae")])/2+x[_0x1d97("0xede")][_0x1d97("0xae")]);var n=t[_0x1d97("0x199")],r=t[_0x1d97("0x19a")],s={lod:x[_0x1d97("0x163")],isTile:e,fnum:d,sceneX:n,sceneZ:r,floorCenX:-a,floorCenZ:i,minX:_[_0x1d97("0x165")][_0x1d97("0x449")],minY:_.sourceData[_0x1d97("0x44c")],maxX:_[_0x1d97("0x165")][_0x1d97("0x44d")],maxY:_[_0x1d97("0x165")][_0x1d97("0x44e")],modelHeight:5,isMerge:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e9")],editMode:t.map[_0x1d97("0x35")][_0x1d97("0x20f")],showBase:t[_0x1d97("0x38")][_0x1d97("0x35")].showBase,layers:x[_0x1d97("0x56e")],maptheme:t[_0x1d97("0x38")].mapTheme[_0x1d97("0xe0c")],tileStylesMap:t[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xe22")],layerType:0,messageType:1,isBim:_.type>100};this[_0x1d97("0x1c9")][_0x1d97("0xedf")](s,_)}},{key:_0x1d97("0xee0"),value:function(x,d,_,e){var t=this[_0x1d97("0x305")],a=(x[_0x1d97("0xede")][_0x1d97("0xaa")]-x.floorEdge[_0x1d97("0xad")])/2+x[_0x1d97("0xede")][_0x1d97("0xad")],i=(x.floorEdge[_0x1d97("0xab")]-x[_0x1d97("0xede")][_0x1d97("0xae")])/2+x.floorEdge.miny,n=t[_0x1d97("0x199")],r=t[_0x1d97("0x19a")],s={editMode:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")],fnum:d,sceneX:n,sceneZ:r,floorCenX:-a,floorCenZ:i,minX:e.sourceData.minX,minY:e[_0x1d97("0x165")][_0x1d97("0x44c")],maxX:e[_0x1d97("0x165")][_0x1d97("0x44d")],maxY:e.sourceData[_0x1d97("0x44e")],floorHeight:_,layers:x.floorBaseLayers,layerType:2,messageType:1};this[_0x1d97("0x1c9")][_0x1d97("0xedf")](s,e)}}]),x}();d.default=n},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(331));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=window[_0x1d97("0xee1")],r=function(){function x(d){(0,e.default)(this,x);var _=this;_[_0x1d97("0x305")]=d,_[_0x1d97("0xee2")]=[],_.model3Ds=[],_[_0x1d97("0xc24")]=new(a[_0x1d97("0x1c")])(d),_[_0x1d97("0xee3")]={},_[_0x1d97("0xee4")]={},_.tsTank=[],_[_0x1d97("0xee5")]=0,_.receiveCount=0;var t=0,i=window.navigator[_0x1d97("0xee6")];t=i?i-2<0?1:i-2:2;(new Date)[_0x1d97("0x74")]();for(var r=function(x){n[_0x1d97("0xee7")](x,(function(e){_[_0x1d97("0xee3")][x]=e,_[_0x1d97("0xee4")][x]=!0,e.addEventListener(_0x1d97("0xe87"),(function(x){_[_0x1d97("0xee4")][x.data.id]=!0,_[_0x1d97("0xee8")]++;var e=null;if("bimMerged"==x[_0x1d97("0x35d")].message||x.data[_0x1d97("0xe87")]==_0x1d97("0xee9")){var t=x[_0x1d97("0x35d")][_0x1d97("0x535")]||x[_0x1d97("0x35d")][_0x1d97("0x35d")].bids;(e=d.map[_0x1d97("0xee")](t))[_0x1d97("0x14f")][_0x1d97("0x9e6")][_0x1d97("0xeea")](x[_0x1d97("0x35d")])}else if(x[_0x1d97("0x35d")][_0x1d97("0xe68")])(e=d[_0x1d97("0x38")].getTileById(x[_0x1d97("0x35d")][_0x1d97("0xe5")]))||(e=d[_0x1d97("0x38")][_0x1d97("0x9b6")](x[_0x1d97("0x35d")].bid)),_[_0x1d97("0xc24")][_0x1d97("0xedd")](x[_0x1d97("0x35d")],e);else{if(!(e=d[_0x1d97("0x38")][_0x1d97("0xee")](x[_0x1d97("0x35d")][_0x1d97("0xe5")])))return;2==x[_0x1d97("0x35d")][_0x1d97("0xeeb")]?e[_0x1d97("0x8da")][_0x1d97("0xeec")](x.data,e):e[_0x1d97("0x8da")].loadRooms(x.data,e)}}))}))},s=0;s<t;s++)r(s);_.scene[_0x1d97("0x38")].on(_0x1d97("0x8ea"),(function(){_[_0x1d97("0xeed")]()}))}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xeee"),value:function(x){0!=this[_0x1d97("0xeef")][_0x1d97("0x0")]&&(this[_0x1d97("0xeef")][0].id=x,this[_0x1d97("0xee3")][x].postMessage(this[_0x1d97("0xeef")][0]),this[_0x1d97("0xee4")][x]=!1,this[_0x1d97("0xeef")][_0x1d97("0x4")]())}},{key:_0x1d97("0x1ca"),value:function(x){var d=this[_0x1d97("0xee3")];for(var _ in d)if(this[_0x1d97("0xee4")][_])return x.id=_,this[_0x1d97("0xee3")][_][_0x1d97("0xef0")](x),void(this[_0x1d97("0xee4")][_]=!1);this[_0x1d97("0xeef")][_0x1d97("0x1")](x)}},{key:_0x1d97("0xeed"),value:function(){if(0!=this.tsTank[_0x1d97("0x0")]){var x=this[_0x1d97("0xee3")];for(var d in x)if(this.workerStatus[d]){var _=this[_0x1d97("0xeef")][0];_.id=d,this[_0x1d97("0xee4")][d]=!1,this[_0x1d97("0xeef")][_0x1d97("0x4")]();try{this[_0x1d97("0xee3")][d][_0x1d97("0xef0")](_)}catch(x){console[_0x1d97("0x245")](x)}return _=null,void this.postCount++}}}},{key:_0x1d97("0xedf"),value:function(x,d){var _=d.id;x[_0x1d97("0xe5")]=_;var e=this[_0x1d97("0xee3")];for(var t in e)if(this[_0x1d97("0xee4")][t])return x.id=t,this[_0x1d97("0xee4")][t]=!1,this[_0x1d97("0xee3")][t].postMessage(x),this[_0x1d97("0xee5")]++,void(x=null);this.tsTank[_0x1d97("0x1")](x)}},{key:"clear",value:function(x){this[_0x1d97("0xc24")].modelLayers={},this[_0x1d97("0xc24")][_0x1d97("0xef1")]={},this[_0x1d97("0xc24")][_0x1d97("0x8df")]={}}},{key:"closeAll",value:function(){}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=s(_(12)),t=s(_(13)),a=s(_(0)),i=s(_(1)),n=_(145),r=(_(56),_(57),s(_(23)));function s(x){return x&&x.__esModule?x:{default:x}}var o=null,c=function(){function x(d){(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x305")]=d,this[_0x1d97("0xef2")]={},this.baseLayers={},this[_0x1d97("0x8df")]={},this[_0x1d97("0x8db")]={},this[_0x1d97("0x8e1")]={},this[_0x1d97("0x8e7")]={},this[_0x1d97("0x14c")]=0,this[_0x1d97("0xef3")]={}}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xef4"),value:function(x,d){var _=d.array[_0x1d97("0x0")],e=x[_0x1d97("0x0")],t=new Float32Array(_+e);t[_0x1d97("0x11b")](d[_0x1d97("0x19d")]),t[_0x1d97("0x11b")](x,_),d[_0x1d97("0x19d")]=t,d[_0x1d97("0xb7")]+=e/d.itemSize,d[_0x1d97("0x13b")]=!0}},{key:_0x1d97("0xedd"),value:function(x,d){var _,e=this[_0x1d97("0x305")],t=x[_0x1d97("0xeeb")],a=null,i=d.id,r=d.o3d_,s=this.scene[_0x1d97("0x38")].id,o=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")].editMode,c=this[_0x1d97("0x305")].map[_0x1d97("0xf6")][_0x1d97("0xdfe")],l=x.lod,u={points:x[_0x1d97("0xef5")],types:{}};if(this[_0x1d97("0x8db")][i]||((_=new(esmap[_0x1d97("0x167")])(esmap.ESLayerType[_0x1d97("0x221")]))[_0x1d97("0xb8")]=_0x1d97("0x94b"),r[_0x1d97("0xdc")](_[_0x1d97("0xa3")]),d[_0x1d97("0xef6")]=_,this[_0x1d97("0x8db")][i]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:_},1:{model3data:[],geometries:{},meshes:{},rmodellayer:_}}),_=d[_0x1d97("0xef6")],this[_0x1d97("0x8db")][i][t][_0x1d97("0xef7")]=this.toHandle[i][t].model3data.concat(x.model3DData),t)if(this.modelLayers[i])a=this[_0x1d97("0xef2")][i];else{var f=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x574")],{});r.add(f[_0x1d97("0xa3")]),this.modelLayers[i]=f,a=f}else if(this[_0x1d97("0xef1")][i])a=this[_0x1d97("0xef1")][i];else{var h=new esmap.ESLayer(esmap[_0x1d97("0x168")][_0x1d97("0x957")],{});r.add(h[_0x1d97("0xa3")]),this[_0x1d97("0xef1")][i]=h,a=h}var b=0;for(var g in x.types){var v=x[_0x1d97("0x580")][g],p=v[_0x1d97("0x33d")],m=x[_0x1d97("0x410")][g],A=[],C=[];if(c&&p[0]){var I=p[0].RoomStyle,y={},E=e[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xc5d")][I];E||(E=e[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xc5d")][0]);var w={bordercolor:E[_0x1d97("0xe1d")]||_0x1d97("0xb28"),borderwidth:E[_0x1d97("0xe1c")]||0};w[_0x1d97("0xe1c")]&&(y[_0x1d97("0x454")]=I,y[_0x1d97("0xef8")]=w,y.id=I,y.groupIndex=v.lineIndex,u[_0x1d97("0x580")][I]=y,this.drawOutline(u,!0,d))}var T=0;this.toHandle[i][t][_0x1d97("0x3eb")][g]&&(T=this.toHandle[i][t][_0x1d97("0x3eb")][g][_0x1d97("0x11e")][_0x1d97("0xef9")]);for(var k=[],S=0;S<p.length;S++){var M=p[S],R=e[_0x1d97("0x38")].mapService.tileService[_0x1d97("0xefa")]({ID:M.ID,name:M[_0x1d97("0xb8")]});R&&k[_0x1d97("0x1")]({start:M.faceRange[0],end:M[_0x1d97("0xbb")][1],data:R});var L=m[M.ID],H=[L[1].start,L[1].start+L[1][_0x1d97("0xb7")]];0!=T&&(M.faceRange[0]+=T,M[_0x1d97("0xbb")][1]+=T,H[0]+=T,H[1]+=T);var D=e[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:e[_0x1d97("0x38")][_0x1d97("0x17b")],to:e[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e7")],coord:M.mapCoord});e[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xdf4")].indexOf(M.RoomStyle)<0&&e.map[_0x1d97("0xf6")][_0x1d97("0xdf4")][_0x1d97("0x1")](M[_0x1d97("0x573")]);var P={ID:M.ID,dataID:M.dataID,gid:M[_0x1d97("0xb9c")],RoomHigh:M[_0x1d97("0x974")],RoomStyle:M.RoomStyle,buildingFnums:M[_0x1d97("0xefb")],faceRange:M.faceRange,sideRange:H,nodeType:5,top:M[_0x1d97("0x3a6")],bclick:M[_0x1d97("0xb8b")],bid:s,tileId:i,mapId:M[_0x1d97("0x37")]||null,bType:1,parentType:1,name:M[_0x1d97("0xb8")],typeID:M[_0x1d97("0x53a")],size:M[_0x1d97("0xa5f")],mapCoord:D};A[_0x1d97("0x1")](P),o&&(A[A[_0x1d97("0x0")]-1].points=M[_0x1d97("0xe6")]),C[_0x1d97("0x1")]({ID:M.ID,range:M.faceRange,sideRange:H,split:L[1][_0x1d97("0x1c1")]+T})}for(var O=x[_0x1d97("0x9d5")][_0x1d97("0x4b4")](3*b,3*(b+v[_0x1d97("0xefc")])),B=x[_0x1d97("0xefd")][_0x1d97("0x4b4")](3*b,3*(v[_0x1d97("0xefc")]+b)),N=x[_0x1d97("0x951")][_0x1d97("0x4b4")](b,v[_0x1d97("0xefc")]+b),F=x[_0x1d97("0x98b")].subarray(b,v[_0x1d97("0xefc")]+b),z=x[_0x1d97("0x33e")].subarray(1*b,1*(b+v[_0x1d97("0xefc")])),j=x[_0x1d97("0x959")][_0x1d97("0x4b4")](1*b,1*(b+v[_0x1d97("0xefc")])),U=x[_0x1d97("0xefe")][_0x1d97("0x4b4")](1*b,1*(b+v[_0x1d97("0xefc")])),X=x[_0x1d97("0xeff")][_0x1d97("0x4b4")](1*b,1*(b+v[_0x1d97("0xefc")])),Y=x[_0x1d97("0xf00")][_0x1d97("0x4b4")](4*b,4*(b+v.groupIndex)),G=x[_0x1d97("0xf01")][_0x1d97("0x4b4")](4*b,4*(b+v[_0x1d97("0xefc")])),Q=x[_0x1d97("0xf02")][_0x1d97("0x4b4")](b,1*(b+v[_0x1d97("0xefc")])),V=x[_0x1d97("0xf03")][_0x1d97("0x4b4")](b,1*(b+v[_0x1d97("0xefc")])),W=x[_0x1d97("0xf04")].subarray(2*b,2*(v[_0x1d97("0xefc")]+b)),Z=x.uvs[_0x1d97("0x4b4")](2*b,2*(v[_0x1d97("0xefc")]+b)),J=x.rUvs[_0x1d97("0x4b4")](2*b,2*(v[_0x1d97("0xefc")]+b)),K=0;K<k[_0x1d97("0x0")];K++){for(var q=k[K],$=q[_0x1d97("0x1c1")];$<q[_0x1d97("0x2c4")];$++)j[$]=1;for(var xx=4*q[_0x1d97("0x1c1")];xx<4*q.end;xx+=4)G[xx]=q.data[0],G[xx+1]=q[_0x1d97("0x35d")][1],G[xx+2]=q.data[2],G[xx+3]=q[_0x1d97("0x35d")][3]}var dx=null;if(this.toHandle[i][t][_0x1d97("0x3eb")][g]){dx=this.toHandle[i][t][_0x1d97("0x3eb")][g];this[_0x1d97("0x8db")][i][t][_0x1d97("0xb3")][g];this[_0x1d97("0xef4")](O,dx[_0x1d97("0x19c")](_0x1d97("0xb6"))),this[_0x1d97("0xef4")](B,dx[_0x1d97("0x19c")](_0x1d97("0xf9"))),this[_0x1d97("0xef4")](Z,dx.getAttribute("uv")),this.appendAttribute(J,dx[_0x1d97("0x19c")](_0x1d97("0xf05"))),this[_0x1d97("0xef4")](W,dx[_0x1d97("0x19c")](_0x1d97("0x4aa"))),this[_0x1d97("0xef4")](z,dx[_0x1d97("0x19c")](_0x1d97("0x33e"))),this[_0x1d97("0xef4")](j,dx[_0x1d97("0x19c")](_0x1d97("0x959"))),this[_0x1d97("0xef4")](U,dx[_0x1d97("0x19c")](_0x1d97("0xefe"))),this[_0x1d97("0xef4")](X,dx.getAttribute(_0x1d97("0xf06"))),this[_0x1d97("0xef4")](Y,dx.getAttribute(_0x1d97("0xf07"))),this[_0x1d97("0xef4")](G,dx[_0x1d97("0x19c")](_0x1d97("0x95a"))),this.appendAttribute(N,dx[_0x1d97("0x19c")](_0x1d97("0x951"))),this[_0x1d97("0xef4")](F,dx.getAttribute("isSelectFlags")),Q[_0x1d97("0x0")]>0&&this.appendAttribute(Q,dx[_0x1d97("0x19c")]("topTexIndex")),V[_0x1d97("0x0")]>0&&this[_0x1d97("0xef4")](V,dx[_0x1d97("0x19c")](_0x1d97("0xf03"))),dx[_0x1d97("0x33d")]=dx.brothers.concat(C),C[_0x1d97("0x0")]>0&&(dx.userData[_0x1d97("0xef9")]=C[C[_0x1d97("0x0")]-1].range[1]),dx[_0x1d97("0x126")]()}else{var _x=new THREE.BufferAttribute(O,3),ex=new(THREE[_0x1d97("0x1a1")])(B,3),tx=new THREE.BufferAttribute(Z,2),ax=new THREE.BufferAttribute(W,2),ix=new(THREE[_0x1d97("0x1a1")])(J,2),nx=new(THREE[_0x1d97("0x1a1")])(z,1),rx=new THREE.BufferAttribute(j,1),sx=new THREE.BufferAttribute(U,1),ox=new(THREE[_0x1d97("0x1a1")])(X,1),cx=new(THREE[_0x1d97("0x1a1")])(Y,4),lx=new(THREE[_0x1d97("0x1a1")])(G,4),ux=new(THREE[_0x1d97("0x1a1")])(N,1);(dx=new n.dynamicBufferGeometry)[_0x1d97("0x1a0")](_0x1d97("0xb6"),_x),dx.addAttribute(_0x1d97("0xf9"),ex),dx[_0x1d97("0x1a0")]("uv",tx),dx.addAttribute(_0x1d97("0x4aa"),ax),dx.addAttribute(_0x1d97("0xf05"),ix),dx.addAttribute(_0x1d97("0x33e"),nx),dx[_0x1d97("0x1a0")](_0x1d97("0x959"),rx),dx[_0x1d97("0x1a0")](_0x1d97("0xefe"),sx),dx[_0x1d97("0x1a0")](_0x1d97("0xf06"),ox),dx.addAttribute(_0x1d97("0xf07"),cx),dx.addAttribute("highLightColor",lx),dx[_0x1d97("0x1a0")](_0x1d97("0x951"),ux),dx[_0x1d97("0x1a0")](_0x1d97("0x98b"),new(THREE[_0x1d97("0x1a1")])(F,1));var fx=void 0;fx=Q.length>0?new THREE.BufferAttribute(Q,1):new(THREE[_0x1d97("0x1a1")])(new Float32Array(O.length),1),dx.addAttribute(_0x1d97("0xf02"),fx);var hx=void 0;hx=V[_0x1d97("0x0")]>0?new THREE.BufferAttribute(V,1):new(THREE[_0x1d97("0x1a1")])(new Float32Array(O[_0x1d97("0x0")]),1),dx[_0x1d97("0x1a0")](_0x1d97("0xf03"),hx),dx[_0x1d97("0x33d")]=C,C[_0x1d97("0x0")]>0?dx[_0x1d97("0x11e")][_0x1d97("0xef9")]=C[C[_0x1d97("0x0")]-1][_0x1d97("0x4ad")][1]:dx[_0x1d97("0x11e")].lastGeoCount=0,this[_0x1d97("0x8db")][i][t][_0x1d97("0x3eb")][g]=dx}dx[_0x1d97("0x411")](),dx.addGroup(0,dx[_0x1d97("0xb5")][_0x1d97("0xb6")].count,0);var bx,gx=void 0;if(999==g)gx=[e[_0x1d97("0x183")].defaultMaterial];else if(o){var vx=e[_0x1d97("0x183")][_0x1d97("0xc5d")][g];vx||(vx=e[_0x1d97("0x183")].tileStyles[0]),gx=[vx[_0x1d97("0xa7")]]}else gx=e.mapTheme_[_0x1d97("0x91d")][g];for(var px in b+=v[_0x1d97("0xefc")],this[_0x1d97("0x8db")][i][t].meshes[g]?(bx=this[_0x1d97("0x8db")][i][t][_0x1d97("0xb3")][g])[_0x1d97("0xa2")][_0x1d97("0x33d")]=bx[_0x1d97("0xa2")][_0x1d97("0x33d")][_0x1d97("0x1de")](A):((bx=new(THREE[_0x1d97("0x14a")])).geometry=dx,bx[_0x1d97("0xa7")]=gx,bx[_0x1d97("0xb8")]=g,bx[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI/2,0,0,_0x1d97("0x3e5")),bx[_0x1d97("0xa2")]={bid:i,o3d_:bx,brothers:A,nodeType:esmap.ESNodeType[_0x1d97("0x574")]},this[_0x1d97("0x8db")][i][t][_0x1d97("0xb3")][g]=bx,bx[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x223")],null!=e[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]&&1*g==999?e[_0x1d97("0x38")][_0x1d97("0x35")].hideRoomLogoMeshes&&(bx[_0x1d97("0xf0")]=!1,bx.geometry.clearGroups(),bx[_0x1d97("0xa5")][_0x1d97("0x808")][_0x1d97("0xb7")]=0):1*g!=999||e[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]||(bx[_0x1d97("0xf0")]=!1,bx.geometry[_0x1d97("0x411")](),bx[_0x1d97("0xa5")].drawRange.count=0),a[_0x1d97("0xa3")][_0x1d97("0xdc")](bx),(x[_0x1d97("0xeeb")]||e[_0x1d97("0x38")].options.editMode&&e[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x209")])&&e[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](bx,i)),A){var mx=A[px];mx[_0x1d97("0xa3")]=bx,mx.mapId&&!e[_0x1d97("0x38")].tileService[_0x1d97("0xb82")][mx.mapId]&&(e.map[_0x1d97("0x18c")][_0x1d97("0x530")][mx[_0x1d97("0x37")]]&&(e[_0x1d97("0x38")].tileService[_0x1d97("0x530")][mx[_0x1d97("0x37")]][_0x1d97("0xb8")]=mx[_0x1d97("0xb8")]),e[_0x1d97("0x38")][_0x1d97("0x18c")].targetAndBuildingList[mx[_0x1d97("0x37")]]=mx)}e[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x928")]()}this[_0x1d97("0xef3")][i]||(this[_0x1d97("0xef3")][i]={1:0,2:0,3:0}),this[_0x1d97("0xef3")][i][l]+=1,2==this[_0x1d97("0xef3")][i][l]&&d[_0x1d97("0x15d")](),this.loadModelandImage(d,t)}},{key:"loadModelandImage",value:function(x,d){var _,a=(_=(0,t[_0x1d97("0x1c")])(e[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){return e[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x.prev=x[_0x1d97("0x2a8")]){case 0:s(d);case 1:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return _[_0x1d97("0x5")](this,arguments)}),i=this,n=i[_0x1d97("0x305")],r=x.id;function s(x){if(n[_0x1d97("0x38")][_0x1d97("0x35")].loadModel3D){var d=i.toHandle[r][x][_0x1d97("0xef7")],_=n.map[_0x1d97("0x8b8")]?n[_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")]:n[_0x1d97("0x38")][_0x1d97("0x280")].target,e=n[_0x1d97("0x38")].getTileById(r);if(e){e[_0x1d97("0x14f")][_0x1d97("0xb70")]();var t=[];for(n[_0x1d97("0xece")][_0x1d97("0x223")]+=d.length;d[_0x1d97("0x0")]>0;){var a=d[_0x1d97("0x4")](),s=i[_0x1d97("0xf08")](a,x,null,r);s&&(s.rank<=12?e[_0x1d97("0x14f")][_0x1d97("0xb72")](s):(s[_0x1d97("0xf09")]=s[_0x1d97("0xb6")][_0x1d97("0x25d")](_),t[_0x1d97("0x1")](s)))}for(t[_0x1d97("0x41c")]((function(x,d){return x[_0x1d97("0xf0a")]-d[_0x1d97("0xf0a")]}));t[_0x1d97("0x0")]>0;){var o=t.shift();e[_0x1d97("0x14f")].addMapModel(o)}e[_0x1d97("0x14f")][_0x1d97("0xb69")][x]=!0}}}a().then((function(){i.modelManagerStarted[x.id]||(x[_0x1d97("0x38")].on(_0x1d97("0x11d"),(function(){x.map&&(x[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb86")]?(x[_0x1d97("0x38")].firstPersonControls[_0x1d97("0x4d0")]&&(o=setTimeout((function(){x[_0x1d97("0x14f")][_0x1d97("0x28d")]=!1,x.modelLoadManager[_0x1d97("0x2f0")]=!1,o&&window[_0x1d97("0x28e")](o)}),100)),x[_0x1d97("0x14f")][_0x1d97("0xb88")](),x[_0x1d97("0x14f")][_0x1d97("0xb8f")]()):x.modelLoadManager[_0x1d97("0xb8f")](x))})),i[_0x1d97("0x8e7")][x.id]=!0)}))}},{key:_0x1d97("0xf08"),value:function(x,d,_,e){var t,a=this.scene,i=a[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")],n=(a[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x40")],a[_0x1d97("0x38")].id),s=a.map[_0x1d97("0x588")](e),o=x[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),""),c=a[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x214")]==_0x1d97("0x47b")&&!a.map[_0x1d97("0x35")][_0x1d97("0x20f")];x[_0x1d97("0x37")]&&a.map[_0x1d97("0x18c")][_0x1d97("0x530")][x[_0x1d97("0x37")]]&&(a.map[_0x1d97("0x18c")][_0x1d97("0x530")][x[_0x1d97("0x37")]][_0x1d97("0xb8")]=x[_0x1d97("0xb8")]);var l=r[_0x1d97("0x1c")][_0x1d97("0x531")]("tileModel",{filename:o,modeltoken:a[_0x1d97("0x38")][_0x1d97("0x9c")]});_?t=_:t=this[_0x1d97("0x8db")][e][d]?this[_0x1d97("0x8db")][e][d][_0x1d97("0xf0b")].o3d_:a.o3dFloors_[d][_0x1d97("0xa2")][_0x1d97("0x192")](esmap[_0x1d97("0x168")].MODEL3D)[0][_0x1d97("0xa3")];if(1*x.top==3){var u=x[_0x1d97("0xf0c")].points[0].map((function(x){return x.x*=-1,x})),f=x.offset[_0x1d97("0x28")](",")[1],h=new(esmap[_0x1d97("0xf0d")])({type:_0x1d97("0xc4c"),useCrst:!1,merge:!0,bid:e,model:x[_0x1d97("0x223")],fnum:d,bclick:!!i,points:u,gid:x[_0x1d97("0xb9c")]||0,callback:function(){s[_0x1d97("0xb7e")][d][_0x1d97("0x235")]--},repeatset:1,thickset:1,heightset:1,name:x[_0x1d97("0xb8")],id:x.id,height:1*f,showLevel:x.rank});return h.bid=n,h[_0x1d97("0x91")]=e,a[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x162")]--,null}if(c&&x.model[_0x1d97("0xd7")](_0x1d97("0xb73"))>=0){var b=s[_0x1d97("0x14f")];return b[_0x1d97("0x2ab")][x[_0x1d97("0x223")]]||b[_0x1d97("0x310")][x[_0x1d97("0x223")]]||(b[_0x1d97("0x310")][x.model]=!0,s.modelLoadManager.preFetchModel3D(x.model,l)),!1}var g=new(THREE[_0x1d97("0xe0")])(1,1.5,1);if(x[_0x1d97("0x237")]){var v=x[_0x1d97("0x237")][_0x1d97("0x28")](",");g=new(THREE[_0x1d97("0xe0")])(parseFloat(v[0]),parseFloat(v[1]),parseFloat(v[2]))}var p=0;if(x[_0x1d97("0x4a4")]){var m=Math.PI/180,A=x[_0x1d97("0x4a4")][_0x1d97("0x28")](",");p=1*A[1];var C=new(THREE[_0x1d97("0x264")])(parseFloat(A[0])*m,parseFloat(A[1])*m,parseFloat(A[2])*m)}var I=void 0;I=a.map[_0x1d97("0x17c")]({x:x.x,y:x.y});var y=a[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:_0x1d97("0x59e"),to:"WGS84",coord:{x:x.x,y:x.y}}),E={x:y.x,y:y.y,offsetHeight:0};if(x[_0x1d97("0x113")]){var w=x[_0x1d97("0x113")][_0x1d97("0x28")](",");I.x+=parseFloat(w[0]),I.y+=parseFloat(w[1]),I.z+=parseFloat(w[2]),E.x+=parseFloat(w[0]),E.y+=parseFloat(w[2]),E[_0x1d97("0x26")]=parseFloat(w[1])}x.model[_0x1d97("0xd7")](_0x1d97("0x6f"))<0&&(x[_0x1d97("0x223")]+=_0x1d97("0x6f")),a[_0x1d97("0x8be")][_0x1d97("0x1")]({scale:g.x,angle:p,x:E.x,y:E.y,id:x.id,name:x.name,dataID:x.dataID,offsetHeight:E[_0x1d97("0x26")]});var T={brief:x.brief,bid:n,tileId:e,name:x[_0x1d97("0xb8")],model:x[_0x1d97("0x223")],url:l,dataID:x[_0x1d97("0x58a")],angle:p,classID:x[_0x1d97("0xf0c")][_0x1d97("0x583")],scale:g,top:x[_0x1d97("0x3a6")],mapId:x[_0x1d97("0x37")]||null,gid:x.gid||0,typeID:x[_0x1d97("0xf0c")][_0x1d97("0x572")]||0,rotation:C,position:I,showLevel:x.rank,data_:{CenX:x.x,CenY:x.y,scale:x[_0x1d97("0x237")]||null,rotate:x[_0x1d97("0x4a4")]||null,offset:x.offset||null},parent:t,id:x.id,bclick:x.bclick,callbackparams:x[_0x1d97("0x241")]||null,callback:function(){s[_0x1d97("0xb7e")]&&s.toLoaded[d][_0x1d97("0x235")]--},fnum:d};return i&&(T[_0x1d97("0xf0c")]=x[_0x1d97("0xf0c")]),T}},{key:"drawOutline",value:function(x,d,_){var e,t=this,a=(x.id,_.id);this[_0x1d97("0x8df")][a]?e=this[_0x1d97("0x8df")][a]:((e=new esmap.ESLayer(esmap.ESLayerType.MODEL_LINE,{})).name=_0x1d97("0xdfe"),_[_0x1d97("0x14d")][_0x1d97("0x190")](e),this.modelLineLayers[a]=e);var i=x.types;if(d){var n=new(THREE[_0x1d97("0x19b")]);n[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0xe6")],3));var r=[],s=0;for(var o in i){var c=i[o][_0x1d97("0xef8")],l={precision:"highp",color:esmap.ESMapUtil[_0x1d97("0x2ce")](c[_0x1d97("0xe1d")]),linewidth:1*c.borderwidth>5?5:1*c[_0x1d97("0xe1c")]},u=new(THREE[_0x1d97("0x195")])(l);u[_0x1d97("0xb8")]=o,r[_0x1d97("0x1")](u),n[_0x1d97("0x1a2")](s,i[o][_0x1d97("0xefc")],r[_0x1d97("0x0")]-1),i[o][_0x1d97("0xf0e")]=s,s+=i[o].groupIndex}var f=new THREE.LineSegments(n,r);f[_0x1d97("0xa75")]=!1,f[_0x1d97("0xa2")]={nodeType:esmap.ESNodeType[_0x1d97("0xeb")],id:1},f.rotation[_0x1d97("0x11b")](Math.PI/2,0,0,_0x1d97("0x3e5")),f[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],f[_0x1d97("0x11e")].groupInfo=i;return e.o3d_[_0x1d97("0xdc")](f),f}for(var h in i){var b=new(THREE[_0x1d97("0x19b")]),g=0,v=x.points[_0x1d97("0x4b4")](3*g,3*(g+i[h][_0x1d97("0xefc")]));b[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(v,3));var p=i[h][_0x1d97("0xef8")],m=[],A={precision:_0x1d97("0xa98"),color:p[_0x1d97("0xe3f")],linewidth:p[_0x1d97("0xe1a")]>5?5:p[_0x1d97("0xe1a")]},C=new THREE.LineBasicMaterial(A);m.push(C),b[_0x1d97("0x1a2")](g,i[h][_0x1d97("0xefc")],m.length-1),g+=i[h][_0x1d97("0xefc")];var I=new(THREE[_0x1d97("0x1a3")])(b,m);I.castShadow=!1,I[_0x1d97("0xa2")]={nodeType:esmap[_0x1d97("0xea")][_0x1d97("0xeb")],id:1*i[h].id,bid:building.id,bType:2},I[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI/2,0,0,_0x1d97("0x3e5")),I[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],null!=t.scene[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]?t.scene[_0x1d97("0x38")][_0x1d97("0x35")].hideRoomLogoMeshes&&(C.visible=!1,b.clearGroups(),b[_0x1d97("0x808")][_0x1d97("0xb7")]=0):1*h!=999||t[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]||(C[_0x1d97("0xf0")]=!1,b[_0x1d97("0x411")](),b[_0x1d97("0x808")][_0x1d97("0xb7")]=0);var y=t[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0xdfe")];null!=t[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")].modelLines&&(y=t.scene.map[_0x1d97("0x35")][_0x1d97("0xdfe")]),y&&e[_0x1d97("0xa3")][_0x1d97("0xdc")](I)}return I}}]),x}();d.default=c},function(x,d,_){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=i(_(0)),t=i(_(1)),a=_(11);function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(){(0,e[_0x1d97("0x1c")])(this,x)}return(0,t[_0x1d97("0x1c")])(x,null,[{key:_0x1d97("0xa0"),value:function(x){if(null!==x){x[_0x1d97("0xa2")]&&x[_0x1d97("0xa2")][_0x1d97("0xa3")]&&(x[_0x1d97("0xa2")][_0x1d97("0x33d")]&&(x[_0x1d97("0xa2")].brothers[_0x1d97("0x1d")]((function(x){x[_0x1d97("0xa3")]&&(x[_0x1d97("0xa3")]=void 0)})),x.datas_[_0x1d97("0x33d")]=void 0),x[_0x1d97("0xa2")][_0x1d97("0xa3")]=void 0,x.datas_=void 0);for(var d=0;d<x[_0x1d97("0xa4")][_0x1d97("0x0")];d++)this.doDispose(x[_0x1d97("0xa4")][d]);x[_0x1d97("0xa5")]&&x.geometry[_0x1d97("0xa6")](),x.material&&(x[_0x1d97("0xa7")]instanceof Array?x.material[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x38")]&&(x[_0x1d97("0x38")].dispose(),x[_0x1d97("0x38")]=void 0),x[_0x1d97("0xa6")]()})):(x[_0x1d97("0xa7")][_0x1d97("0x38")]&&(x[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xa6")](),x[_0x1d97("0xa7")][_0x1d97("0x38")]=void 0),x.material[_0x1d97("0xa6")]()))}x[_0x1d97("0xa6")]&&x[_0x1d97("0xa6")](),x=void 0}},{key:_0x1d97("0xbda"),value:function(x){var d=Number[_0x1d97("0xf0f")],_=Number[_0x1d97("0xf10")],e=x[_0x1d97("0xa34")];for(var t in e){var a=e[t][_0x1d97("0xd16")];d=Math.min(d,a),_=Math[_0x1d97("0x317")](_,a)}return new(THREE[_0x1d97("0x30b")])(new THREE.Vector3(x.minX,d,x[_0x1d97("0x44c")]),new THREE.Vector3(x[_0x1d97("0x44d")],_,x[_0x1d97("0x44e")]))}},{key:_0x1d97("0xed8"),value:function(x){var d=x[_0x1d97("0xe7")](),_=x[_0x1d97("0xa5f")]();return{target:new THREE.Vector3(0,d.y,0),position:new THREE.Vector3(1*_.x,d.y+.75*_.x,1*-_.x)}}},{key:"buildCurvePoints",value:function(x,d,_,e){if(x[_0x1d97("0x0")]>=3){var t=Math.PI/20,a=Math.PI-t,i=_||1,n=null==d?8:d;if(0==n)return x;var r=1/n;x[_0x1d97("0x1")](x[x[_0x1d97("0x0")]-1]);for(var s=[],o=0;o<x[_0x1d97("0x0")]-2;){var c=x[o][_0x1d97("0xdb")](),l=x[o+1].clone(),u=x[o+2][_0x1d97("0xdb")](),f=c.clone()[_0x1d97("0x3d7")](l),h=u[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](l),b=f[_0x1d97("0x24d")](h),g=f[_0x1d97("0x0")](),v=h.length();c[_0x1d97("0xe8")]=x[o][_0x1d97("0xe8")],l[_0x1d97("0xe8")]=x[o+1].fnum,u[_0x1d97("0xe8")]=x[o+2][_0x1d97("0xe8")],c[_0x1d97("0xe5")]=x[o][_0x1d97("0xe5")],l[_0x1d97("0xe5")]=x[o+1].bid,u[_0x1d97("0xe5")]=x[o+2][_0x1d97("0xe5")];var p=l.y==u.y&&u.y==c.y,m=!e||p;if(s[_0x1d97("0x1")](c),b>t&&b<a&&g>i&&v>i&&m){var A=l[_0x1d97("0xdb")]()[_0x1d97("0xf11")](c,i/g),C=l[_0x1d97("0xdb")]()[_0x1d97("0xf11")](u,i/v);A[_0x1d97("0xe8")]=l.fnum,A.bid=l[_0x1d97("0xe5")],s[_0x1d97("0x1")](A);for(var I=r;I<.999999;I+=r){var y=I,E=A.clone()[_0x1d97("0xf11")](l,y),w=l.clone()[_0x1d97("0xf11")](C,y),T=E[_0x1d97("0xf11")](w,y);T[_0x1d97("0xe8")]=A[_0x1d97("0xe8")],T.bid=A.bid,s[_0x1d97("0x1")](T)}x[o+1]=C,C[_0x1d97("0xe8")]=u[_0x1d97("0xe8")],C[_0x1d97("0xe5")]=u[_0x1d97("0xe5")],o++}else o++;o==x[_0x1d97("0x0")]-2&&s[_0x1d97("0x1")](u)}return s}return x}},{key:_0x1d97("0x254"),value:function(x,d){var _=x,e=(0,a[_0x1d97("0x13")])(d,_0x1d97("0x255"),_0x1d97("0x1b6"),1),t=esmap[_0x1d97("0x33")][_0x1d97("0x34")],i=-t[_0x1d97("0x16c")].sceneX_,n=t[_0x1d97("0x16c")][_0x1d97("0x19a")];_[_0x1d97("0x1b0")]=!0,_[_0x1d97("0x256")]&&_[_0x1d97("0x256")][_0x1d97("0x1af")](),_._moveToID=new(esmap[_0x1d97("0x1b7")].Tween)(x[_0x1d97("0xa3")].position).to({x:i-d.x,z:d.y-n},1e3*e)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x268")][_0x1d97("0x269")])[_0x1d97("0x12e")]((function(){d[_0x1d97("0x11d")]&&d[_0x1d97("0x11d")]({x:_.x,y:_.y})}))[_0x1d97("0x1bd")]((function(){x[_0x1d97("0x1b0")]=!1,d[_0x1d97("0x1c2")]&&d.callback()})).start()}}]),x}();d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(x){function d(x,_){(0,t[_0x1d97("0x1c")])(this,d);var a=(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d)).call(this,x));return a[_0x1d97("0x183")]=_,a[_0x1d97("0xf12")]=!1,a.selected_=!1,a[_0x1d97("0xf13")]=null,a[_0x1d97("0xf14")]=null,a}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0xf15"),value:function(){this[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(this[_0x1d97("0x183")][_0x1d97("0xe2a")])}},{key:_0x1d97("0xf16"),value:function(x){var d=null==x?this.mapTheme_[_0x1d97("0xdf9")]:x;this[_0x1d97("0xa7")][_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(d)}},{key:_0x1d97("0x3f9"),set:function(x){x=new(THREE[_0x1d97("0x101")])(x),this[_0x1d97("0xf16")](x)},get:function(){return this[_0x1d97("0xf14")]?this.selectedMaterial_[_0x1d97("0x100")]:this.mapTheme_[_0x1d97("0xdf9")]}}]),d}(THREE[_0x1d97("0x14a")]);d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(d,_,t){(0,e[_0x1d97("0x1c")])(this,x),this.x=d,this.y=_,this.z=t}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0xf17"),value:function(x){this.x=x.x,this.y=x.y}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(d,_){(0,e.default)(this,x),this.mapPicker_=d,this[_0x1d97("0xf18")]=_,this[_0x1d97("0xf19")]=!0,this.enableMapRotate_=!0,this[_0x1d97("0xf1a")]=!0,this.enableMapPinch_=!0,this[_0x1d97("0xf1b")]=!0,this[_0x1d97("0xf1c")]=!0}return(0,t.default)(x,[{key:_0x1d97("0x27c"),get:function(){return this[_0x1d97("0xf19")]},set:function(x){x!=this[_0x1d97("0xf19")]&&(this[_0x1d97("0xf19")]=x,this[_0x1d97("0xf18")][_0x1d97("0xb32")]=x)}},{key:_0x1d97("0xf1d"),get:function(){return this[_0x1d97("0xf1e")]},set:function(x){x!=this.enableMapRotate_&&(this[_0x1d97("0xf1e")]=x,this[_0x1d97("0xf18")][_0x1d97("0xf1f")]=x,this[_0x1d97("0xf18")][_0x1d97("0xb30")]=x)}},{key:_0x1d97("0xf20"),get:function(){return this[_0x1d97("0xf1c")]},set:function(x){x!=this[_0x1d97("0xf1c")]&&(this[_0x1d97("0xf1c")]=x)}},{key:_0x1d97("0xf21"),get:function(){return this.enableMapIncline_},set:function(x){x!=this[_0x1d97("0xf1a")]&&(this[_0x1d97("0xf1a")]=x,this.controls_[_0x1d97("0xb31")]=x)}},{key:"enableMapZoom",get:function(){return this[_0x1d97("0xf22")]},set:function(x){x!=this[_0x1d97("0xf22")]&&(this[_0x1d97("0xf22")]=x,this[_0x1d97("0xf18")][_0x1d97("0xb2e")]=x)}},{key:_0x1d97("0xf23"),get:function(){return this[_0x1d97("0xf1b")]},set:function(x){x!=this.enableMapSingleTap_&&(this.enableMapSingleTap_=x,this[_0x1d97("0xf24")][_0x1d97("0x4d0")]=x)}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=n(_(4)),t=n(_(0)),a=n(_(5)),i=n(_(6));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(x){function d(x){(0,t.default)(this,d);var _=(x=x||{})[_0x1d97("0x35d")],i=(0,a[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0xe41")],_,x.o3d||new THREE.Object3D,x[_0x1d97("0x305")]||esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x16c")]));return i[_0x1d97("0xf25")]=x,_&&null!=_[_0x1d97("0x53a")]&&(i.typeID=x.data.typeID),i[_0x1d97("0x94e")]=x[_0x1d97("0x6a")]||esmap[_0x1d97("0x516")][_0x1d97("0x9f8")],i}return(0,i.default)(d,x),d}(esmap.ESNode);d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(x){function d(x,_,a,n){var r;return(0,t.default)(this,d),r=(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x58c")],x,_,a)),r[_0x1d97("0x26f")]=function(x){return this.o3d_[_0x1d97("0x26f")](x)},r[_0x1d97("0x26b")]=function(x){return this[_0x1d97("0xa3")].jump(x)},r[_0x1d97("0x26e")]=function(x){this[_0x1d97("0xa3")][_0x1d97("0x26e")](x)},r[_0x1d97("0xa3")].forceVisible_=r[_0x1d97("0xa3")][_0x1d97("0xf0")],r[_0x1d97("0xe5")]=n,r}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:"ID",get:function(){return this.data_[_0x1d97("0xcff")]}},{key:"id",get:function(){return this[_0x1d97("0x184")][_0x1d97("0xcff")]}},{key:_0x1d97("0xb8"),get:function(){return this[_0x1d97("0x184")][_0x1d97("0xb8")]}},{key:"typeID",get:function(){return this[_0x1d97("0x184")][_0x1d97("0xd05")]}},{key:"x",get:function(){return this.mapCoord.x},set:function(x){}},{key:"y",get:function(){return this[_0x1d97("0x3cb")].y},set:function(x){}},{key:"z",get:function(){return this.coord_.z},set:function(x){}},{key:_0x1d97("0x3cb"),get:function(){if(!this[_0x1d97("0xf26")]){var x=this[_0x1d97("0x184")];this.coord_=new esmap.ESMapCoord(x.X,x.Y,this.o3d_[_0x1d97("0xba")][_0x1d97("0xf27")](new(THREE[_0x1d97("0xe0")])(0,6,0)).y)}return this[_0x1d97("0xf26")]}},{key:_0x1d97("0xf0"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xf28")]},set:function(x){this.o3d_[_0x1d97("0xf28")]=x,this[_0x1d97("0xa3")][_0x1d97("0xf0")]=x}}]),d}(esmap[_0x1d97("0x515")]);d.default=s},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=o(_(2)),t=o(_(4)),a=o(_(0)),i=o(_(1)),n=o(_(5)),r=o(_(6)),s=_(11);function o(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var c=function(x){function d(x){var _;return(0,a.default)(this,d),_=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x9fb")],{},new(THREE[_0x1d97("0x150")]))),_.alwaysShow=function(x,d){this[_0x1d97("0xa3")][_0x1d97("0xebb")](x,d)},_.fade=function(x){this.o3d_[_0x1d97("0xe92")](x)},_[_0x1d97("0xccc")]=function(x){var d=(0,e.default)({time:2,height:5},x);this.o3d_[_0x1d97("0xccc")](d)},_.stopFloat=function(){this[_0x1d97("0xa3")][_0x1d97("0xead")]()},_.o3d_[_0x1d97("0xf28")]=_[_0x1d97("0xa3")].visible,_.alias=_0x1d97("0x582"),_[_0x1d97("0x3c9")]=x||{},_[_0x1d97("0xf29")](),_}return(0,r[_0x1d97("0x1c")])(d,x),(0,i.default)(d,[{key:_0x1d97("0xf29"),value:function(){if(!(!this[_0x1d97("0xa3")]instanceof THREE[_0x1d97("0x150")])){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")],d=x[_0x1d97("0x16c")],_=-d[_0x1d97("0x199")],e=d[_0x1d97("0x19a")];this.x_=(0,s.getValue)(this[_0x1d97("0x3c9")],"x",_),this.y_=(0,s[_0x1d97("0x12")])(this.opts_,"y",e),this[_0x1d97("0x3c9")][_0x1d97("0x48")]=(0,s.getValue)(this[_0x1d97("0x3c9")],_0x1d97("0x48"),_0x1d97("0xf2a")),this.opts_[_0x1d97("0x257")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"angle",null),this[_0x1d97("0xf2b")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"name",null),this.id_=(0,s.getValue)(this.opts_,"id",1),this[_0x1d97("0xeb3")]=(0,s[_0x1d97("0x12")])(this.opts_,_0x1d97("0xa5f"),32),this[_0x1d97("0xf2c")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"up",!0),this[_0x1d97("0xe5")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xe5"),0),this.canvasSize_=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xeb2"),1),this.spritify_=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xe9d"),!0);var t=x[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?18:12;this[_0x1d97("0xe5a")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0x22c"),t),this.clip_=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xea6"),null),this[_0x1d97("0x9e1")]=(0,s.getValue)(this[_0x1d97("0x3c9")],_0x1d97("0x128"),!1),this[_0x1d97("0xf2d")]=(0,s[_0x1d97("0x12")])(this.opts_,"glow",!1),this.glowColor_=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xeb0"),_0x1d97("0xf2e"));var a=x[_0x1d97("0x9ff")]({x:this.x_,y:this.y_});this.x_=a.x,this.y_=a.y,this[_0x1d97("0xf2f")]=(0,s[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xe7"),null);var i=this,n=this[_0x1d97("0xa3")].forceVisible_;if(0==this[_0x1d97("0x3c9")][_0x1d97("0x257")]||this[_0x1d97("0x3c9")][_0x1d97("0x257")]){var r;r=null!=i.opts_.height?i[_0x1d97("0x3c9")][_0x1d97("0x1b5")]:null!=i[_0x1d97("0x3c9")].z?i[_0x1d97("0x3c9")].z:3,this[_0x1d97("0xa3")]=new(esmap[_0x1d97("0xf30")])(this.id_,{vertex:[this.x_,this.y_],name:this[_0x1d97("0xf2b")],size_:this[_0x1d97("0xeb3")],canvasSize:this[_0x1d97("0xf31")],alwaysShow:!1,ShowLevel:this[_0x1d97("0xe5a")],seeThrough:this[_0x1d97("0x9e1")],hide:!0},this[_0x1d97("0x3c9")][_0x1d97("0x48")],(function(d){setTimeout((function(){i.visible=n;var _=x[_0x1d97("0x17c")]({x:i.x_,y:i.y_});i[_0x1d97("0xa3")][_0x1d97("0xb6")].set(_.x,r,_.z),i.o3d_[_0x1d97("0x238")][_0x1d97("0x11b")](0,0,0,_0x1d97("0x3e5")),i[_0x1d97("0xf2c")]?i[_0x1d97("0xa3")][_0x1d97("0x238")].y=THREE[_0x1d97("0x24e")][_0x1d97("0x265")](i[_0x1d97("0x3c9")][_0x1d97("0x257")]):(i[_0x1d97("0xa3")][_0x1d97("0x238")][_0x1d97("0x11b")](-Math.PI/2,0,Math.PI,_0x1d97("0x3e5")),i.o3d_[_0x1d97("0x238")].z=THREE[_0x1d97("0x24e")].degToRad(i.opts_[_0x1d97("0x257")])),i.o3d_[_0x1d97("0xa7")]&&(i[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x115")]=THREE[_0x1d97("0x111")]),i[_0x1d97("0x9e1")]&&i.o3d_.material&&(i[_0x1d97("0xa3")].renderOrder=77,i[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xe53")]=!1),i.o3d_[_0x1d97("0xe58")]=this.spritify_,i[_0x1d97("0xf0")]=!0,d.main[_0x1d97("0xa7")][_0x1d97("0xf0")]=!0,d[_0x1d97("0xf0")]=!0,i[_0x1d97("0x3c9")][_0x1d97("0x1c2")]&&i[_0x1d97("0x3c9")][_0x1d97("0x1c2")](i)}),0),i.o3d_[_0x1d97("0x592")]=r})),this[_0x1d97("0xa3")].up[_0x1d97("0x276")](-1)}else{var o;o=null!=i[_0x1d97("0x3c9")].height?i[_0x1d97("0x3c9")][_0x1d97("0x1b5")]:null!=i.opts_.z?i[_0x1d97("0x3c9")].z:6,this[_0x1d97("0xa3")]=new(esmap[_0x1d97("0x50c")])({id:this[_0x1d97("0xf32")],vertex:[this.x_,this.y_],name:this[_0x1d97("0xf2b")],size_:this.size_,glow:this.glow_,glowColor:this[_0x1d97("0xf33")],clip_:this[_0x1d97("0xeb5")],ShowLevel:this.showLevel_,canvasSize:this.canvasSize_,seeThrough:this[_0x1d97("0x9e1")]},this[_0x1d97("0x3c9")][_0x1d97("0x48")],(function(d,_){if(i.o3d_){i[_0x1d97("0xf0")]=n,_[_0x1d97("0x234")]=90;var e=x[_0x1d97("0x17c")]({x:i.x_,y:i.y_});if(_.position[_0x1d97("0x11b")](e.x,o,e.z),_[_0x1d97("0xba")]&&_[_0x1d97("0xba")][_0x1d97("0xa2")][_0x1d97("0xf34")])if(x[_0x1d97("0x155")]>=_.parent[_0x1d97("0xa2")][_0x1d97("0xf35")])x.controls.target[_0x1d97("0x25d")](_[_0x1d97("0xb6")])>_[_0x1d97("0xba")].datas_.viewRadius&&(i.o3d_.forceVisible_=!1,i[_0x1d97("0xf0")]=!1);i.seeThrough_&&i.o3d_[_0x1d97("0xa7")]&&(i.o3d_[_0x1d97("0x234")]=100,i[_0x1d97("0xa3")][_0x1d97("0xa7")].depthTest=!1),i[_0x1d97("0x3c9")][_0x1d97("0x1c2")]&&i[_0x1d97("0x3c9")][_0x1d97("0x1c2")](i),x[_0x1d97("0x92f")](!0),i.opts_[_0x1d97("0xe7")]?_[_0x1d97("0xe7")].set(i[_0x1d97("0x3c9")][_0x1d97("0xe7")].x,i[_0x1d97("0x3c9")][_0x1d97("0xe7")].y):_[_0x1d97("0xe7")].set(.5,0),_.material[_0x1d97("0x13b")]=!0}})),this.o3d_[_0x1d97("0x592")]=o}this[_0x1d97("0xa3")][_0x1d97("0xf28")]=!1,this[_0x1d97("0xa3")].visible=!1,this[_0x1d97("0xa3")].datas_=this}}},{key:_0x1d97("0x277"),value:function(x){var d=this;"number"==typeof x&&(x={to:x});var _,e=(0,s[_0x1d97("0x13")])(x,_0x1d97("0x255"),_0x1d97("0x1b6"),.3),t=d[_0x1d97("0x257")],a=esmap[_0x1d97("0x75")][_0x1d97("0xf36")](t,x.to);return d[_0x1d97("0xa54")]&&d._rotateToID[_0x1d97("0x1af")](),d[_0x1d97("0xa54")]=esmap[_0x1d97("0x1b7")][_0x1d97("0x8d7")](e,(function(x){(_=t+a*x[_0x1d97("0xf1")])<=0?_=360+_:_>=360&&(_-=360),d[_0x1d97("0x257")]=_}),null,(function(){x.callback&&x[_0x1d97("0x1c2")]()})),d[_0x1d97("0xa54")]}},{key:_0x1d97("0x254"),value:function(x){this.o3d_[_0x1d97("0x254")](x)}},{key:"flash",value:function(x){return this[_0x1d97("0xa3")].flash(x)}},{key:_0x1d97("0x26b"),value:function(x){return this[_0x1d97("0xa3")][_0x1d97("0x26b")](x)}},{key:"stopJump",value:function(){this[_0x1d97("0xa3")][_0x1d97("0x26e")]()}},{key:_0x1d97("0x270"),value:function(){this.o3d_[_0x1d97("0x270")]()}},{key:_0x1d97("0x3ce"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0x3ce")](x)}},{key:_0x1d97("0xf37"),value:function(x){this.oc||(this.oc=this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x100")]);var d=new THREE.Color(x);this.o3d_[_0x1d97("0xa7")].color=d}},{key:_0x1d97("0x29a"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xeaf")](!0,x)}},{key:_0x1d97("0x297"),value:function(){this[_0x1d97("0xa3")][_0x1d97("0xeaf")](!1)}},{key:_0x1d97("0x2c9"),value:function(){this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x100")]=this.oc}},{key:_0x1d97("0x5f3"),value:function(x){var d=this,_=d[_0x1d97("0xa3")].width_,e=d[_0x1d97("0xa3")][_0x1d97("0xe4e")],t=.3;x instanceof Object?(_=x[_0x1d97("0x328")],e=x[_0x1d97("0x1b5")],t=x[_0x1d97("0x2")]("time")?x[_0x1d97("0x255")]:t):(_=x,e=x),d[_0x1d97("0xf38")]&&d.setSizeAnimId[_0x1d97("0x1af")]();var a=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d.o3d_).to({width_:_,height_:e},1e3*t)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1bc")])[_0x1d97("0x1bd")]((function(){})).start();d[_0x1d97("0xf38")]=a}},{key:_0x1d97("0x299"),get:function(){return this.o3d_[_0x1d97("0x299")]}},{key:_0x1d97("0xeab"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xeab")]}},{key:"url",get:function(){return this[_0x1d97("0x3c9")][_0x1d97("0x48")]},set:function(x){this[_0x1d97("0x3c9")][_0x1d97("0x48")]=x,this.o3d_[_0x1d97("0xeba")](x)}},{key:_0x1d97("0xf0"),get:function(){return this[_0x1d97("0xf28")]},set:function(x){this[_0x1d97("0xa3")]&&(this[_0x1d97("0xa3")][_0x1d97("0xf28")]=x,this.o3d_.visible=x)}},{key:"ID",get:function(){return this[_0x1d97("0xf32")]}},{key:"name",get:function(){return this.name_},set:function(x){this[_0x1d97("0xf2b")]=x}},{key:"x",get:function(){return this.x_},set:function(x){this.x_=x}},{key:"y",get:function(){return this.y_},set:function(x){this.y_=x}},{key:_0x1d97("0x257"),get:function(){return this[_0x1d97("0xa3")].rotation.y*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")]},set:function(x){this[_0x1d97("0xf2c")]?this.o3d_[_0x1d97("0x238")].y=x*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")]:this[_0x1d97("0xa3")][_0x1d97("0x238")].z=x*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")]}}]),d}(esmap.ESNode);c[_0x1d97("0xf")][_0x1d97("0xf28")]={get:function(){return this.o3d_[_0x1d97("0xf28")]},set:function(x){this[_0x1d97("0xa3")][_0x1d97("0xf28")]=x}},d[_0x1d97("0x1c")]=c},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(x){function d(x,_,a){var n;return(0,t.default)(this,d),(n=(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e.default)(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x9ef")],x,_,a)))[_0x1d97("0xa3")][_0x1d97("0xf28")]=n[_0x1d97("0xa3")][_0x1d97("0xf0")],n.bid=a.id,n}return(0,n[_0x1d97("0x1c")])(d,x),(0,a.default)(d,[{key:"ID",get:function(){return this[_0x1d97("0x184")][_0x1d97("0xcff")]}},{key:_0x1d97("0xb8"),get:function(){return this[_0x1d97("0x184")][_0x1d97("0xb8")]}},{key:"x",get:function(){return this.coord_.x},set:function(x){}},{key:"y",get:function(){return this[_0x1d97("0xf26")].y},set:function(x){}},{key:"z",get:function(){return this[_0x1d97("0xf26")].z},set:function(x){}},{key:_0x1d97("0x3cb"),get:function(){if(!this.coord_){var x=this[_0x1d97("0x184")];this.coord_=new(esmap[_0x1d97("0x3cc")])(x.X,x.Y,x[_0x1d97("0x31e")])}return this[_0x1d97("0xf26")]}},{key:_0x1d97("0xf0"),get:function(){return this[_0x1d97("0xf28")]},set:function(x){this[_0x1d97("0xa3")][_0x1d97("0xf28")]=x,this[_0x1d97("0xa3")][_0x1d97("0xf0")]=x}}]),d}(esmap[_0x1d97("0x515")]);d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=c(_(55)),t=c(_(2)),a=c(_(4)),i=c(_(0)),n=c(_(1)),r=c(_(5)),s=c(_(6)),o=_(11);function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=function(x){function d(x){var _;return(0,i[_0x1d97("0x1c")])(this,d),_=(0,r[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,a.default)(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0xf39")],{},new THREE.Object3D)),_[_0x1d97("0x131")]=esmap.ESLine[_0x1d97("0xf")].visibleFloorNumsChanged,_[_0x1d97("0xebb")]=esmap.ESMapLabel[_0x1d97("0xf")][_0x1d97("0xebb")],_[_0x1d97("0xa3")].forceVisible_=_[_0x1d97("0xa3")][_0x1d97("0xf0")],_[_0x1d97("0x3c9")]=x,_.fnum=1,_[_0x1d97("0xf29")](),_}return(0,s[_0x1d97("0x1c")])(d,x),(0,n[_0x1d97("0x1c")])(d,[{key:"createMarker_",value:function(x){if(this[_0x1d97("0xa3")]instanceof THREE[_0x1d97("0x150")]){var d=this.opts_[_0x1d97("0x38")]||esmap[_0x1d97("0x33")].instance;this.x_=(0,o[_0x1d97("0x12")])(this.opts_,"x",d[_0x1d97("0xe7")].x),this.y_=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"y",d[_0x1d97("0xe7")].y),this[_0x1d97("0xf3a")]=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0x48"),"../image/user.png"),this[_0x1d97("0xf2b")]=(0,o.getValue)(this[_0x1d97("0x3c9")],"name",null),this[_0x1d97("0xf32")]=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"id",1),this[_0x1d97("0xeb3")]=(0,o[_0x1d97("0x12")])(this.opts_,_0x1d97("0xa5f"),128),this[_0x1d97("0xe64")]=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],"spritify",!0),this.fixedAngle_=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xebe"),!1),this[_0x1d97("0xf3b")]=(0,o.getValue)(this[_0x1d97("0x3c9")],"arrow",!1),this[_0x1d97("0xf3c")]=(0,o.getValue)(this.opts_,_0x1d97("0xec1"),this.size_/2),this.arrowColor_=(0,o.getValue)(this.opts_,_0x1d97("0xec0"),"#50C1E9"),this[_0x1d97("0xf3d")]=(0,o[_0x1d97("0x12")])(this.opts_,_0x1d97("0xf3e"),.65),this.seeThrough_=(0,o.getValue)(this.opts_,_0x1d97("0x128"),!0),this.clip_=(0,o[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xea6"),!1);var _=this;this.o3d_[_0x1d97("0xf28")],this[_0x1d97("0xa3")]=new(esmap[_0x1d97("0xf30")])(0,{id:this[_0x1d97("0xf32")],vertex:[0,0],name:this.name_,size_:this[_0x1d97("0xeb3")],arrow:this[_0x1d97("0xf3b")],arrowSize:this[_0x1d97("0xf3c")],arrowColor:this[_0x1d97("0xf3f")],fixedAngle:this[_0x1d97("0xf40")],arrowOffset:this[_0x1d97("0xf3d")],clip:this.clip_,seeThrough:this[_0x1d97("0x9e1")]},this.url_,(function(x){_[_0x1d97("0xf41")]=!0,x[_0x1d97("0xf7")][_0x1d97("0xa7")]&&(x[_0x1d97("0xf7")][_0x1d97("0xa7")].visible=!0),_[_0x1d97("0x9e1")]&&(x.main[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1),_.opts_[_0x1d97("0xd82")]&&(_[_0x1d97("0xd82")]=_[_0x1d97("0x3c9")][_0x1d97("0xd82")]),_[_0x1d97("0xf42")]=_[_0x1d97("0x131")][_0x1d97("0x11")](_),d.on("visibleFloorNumsChanged",_._visibleFloorNumsChanged),_[_0x1d97("0x3c9")][_0x1d97("0x1c2")]&&_[_0x1d97("0x3c9")][_0x1d97("0x1c2")](_)})),_[_0x1d97("0xa3")][_0x1d97("0x592")]=0,_[_0x1d97("0x3c9")][_0x1d97("0x1b5")]&&(_[_0x1d97("0xa3")].initY_=_[_0x1d97("0x3c9")][_0x1d97("0x1b5")]),this[_0x1d97("0xf43")]=null,this[_0x1d97("0xa3")].x=this.x_,this.o3d_.y=this.y_,this[_0x1d97("0xa3")].datas_=this,this[_0x1d97("0xa3")].up.multiplyScalar(-1),this[_0x1d97("0xf44")]=this._update[_0x1d97("0x11")](this),d.on(_0x1d97("0x11d"),this[_0x1d97("0xf44")])}}},{key:_0x1d97("0x5f3"),value:function(x){var d=this,_=d[_0x1d97("0xa3")].width_,e=d.o3d_[_0x1d97("0xe4e")],t=.3;x instanceof Object?(_=x[_0x1d97("0x328")],e=x[_0x1d97("0x1b5")],t=x.hasOwnProperty("time")?x[_0x1d97("0x255")]:t):(_=x,e=x),d[_0x1d97("0xf38")]&&d[_0x1d97("0xf38")][_0x1d97("0x1af")]();var a=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d[_0x1d97("0xa3")]).to({width_:_,height_:e},1e3*t)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1bc")]).onComplete((function(){})).start();d[_0x1d97("0xf38")]=a}},{key:_0x1d97("0x254"),value:function(x){this.o3d_.moveTo(x)}},{key:_0x1d97("0xf45"),value:function(){this[_0x1d97("0x117")]&&(this.circle[_0x1d97("0xf0")]=!1)}},{key:"showBound",value:function(){var x=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,t.default)({color:_0x1d97("0xf46"),linewidth:0,radius:10,opacity:.5},x);var d=esmap.ESMap[_0x1d97("0x34")];if(this[_0x1d97("0x117")]){if(this[_0x1d97("0x117")][_0x1d97("0xf0")]||(this.circle[_0x1d97("0xf0")]=!0),this.circle[_0x1d97("0xa2")][_0x1d97("0xe6")][_0x1d97("0x58b")]==x[_0x1d97("0x58b")])return;var _=x[_0x1d97("0x58b")]/this[_0x1d97("0x117")][_0x1d97("0xa2")].initRadius;return this[_0x1d97("0x117")][_0x1d97("0x237")][_0x1d97("0x11b")](_,_,1),void(this[_0x1d97("0x117")][_0x1d97("0xa2")].points[_0x1d97("0x58b")]=x[_0x1d97("0x58b")])}var e=new esmap.ESPolygonMarker({bid:0,alpha:x.opacity,color:x[_0x1d97("0x100")],lineWidth:x[_0x1d97("0x1a7")],seeThrough:!0,points:{type:_0x1d97("0x117"),center:{x:d[_0x1d97("0xe7")].x,y:d.center.y},radius:x[_0x1d97("0x58b")],segments:40},height:-.1,lineType:esmap[_0x1d97("0x4fd")][_0x1d97("0xf47")]});e[_0x1d97("0xf48")]=x[_0x1d97("0x58b")],this[_0x1d97("0xa3")][_0x1d97("0xba")][_0x1d97("0xdc")](e[_0x1d97("0xa3")]),this[_0x1d97("0x117")]=e[_0x1d97("0xa3")]}},{key:_0x1d97("0x277"),value:function(x){var d=this;_0x1d97("0x13d")==typeof x&&(x={angle:x});var _,e=(0,o[_0x1d97("0x13")])(x,_0x1d97("0x255"),_0x1d97("0x1b6"),.3),t=d.direction,a=esmap[_0x1d97("0x75")][_0x1d97("0xf36")](t,x[_0x1d97("0x257")]);return d[_0x1d97("0xa54")]&&d[_0x1d97("0xa54")].stop(),d._rotateToID=esmap[_0x1d97("0x1b7")][_0x1d97("0x8d7")](e,(function(x){(_=t+a*x[_0x1d97("0xf1")])<=0?_=360+_:_>=360&&(_-=360),d[_0x1d97("0xd82")]=_}),null,(function(){x[_0x1d97("0x1bd")]&&x[_0x1d97("0x1bd")]()})),d[_0x1d97("0xa54")]}},{key:_0x1d97("0x24c"),value:function(x){var d=this,_=esmap[_0x1d97("0x33")].instance;this.x=x.x,this.y=x.y;var e=(0,o[_0x1d97("0x13")])(x,_0x1d97("0xe8"),_0x1d97("0xad8"),"FloorNum",null),t=(0,o[_0x1d97("0x13")])(x,_0x1d97("0x1b5"),_0x1d97("0xe8e"),_0x1d97("0x113"),"offsetHeight",0),a=(0,o[_0x1d97("0x13")])(x,_0x1d97("0xe5"),_.id),i=_[_0x1d97("0xee")](a);this._onFloorHeightChanged&&this[_0x1d97("0x4b")]&&this.building.id!=a&&(this.building[_0x1d97("0x5e")](_0x1d97("0xf3"),this[_0x1d97("0xf43")]),this[_0x1d97("0xf43")]=null,this[_0x1d97("0x4b")]=null);var n={x:x.x,y:x.y};e=e||i[_0x1d97("0xb8c")],this[_0x1d97("0xe8")]=e,this[_0x1d97("0xa3")][_0x1d97("0x592")]=i[_0x1d97("0x2f8")](e)+(t||0)+i[_0x1d97("0xa3")][_0x1d97("0xb6")].y;var r=_[_0x1d97("0x9ff")]({x:n.x,y:n.y}),s=_[_0x1d97("0x17c")]({x:r.x,y:r.y});this[_0x1d97("0xb6")][_0x1d97("0x11b")](s.x,this.o3d_[_0x1d97("0x592")],s.z),this[_0x1d97("0xe5")]=a,-1==i[_0x1d97("0xef")][_0x1d97("0xd7")](e)?this[_0x1d97("0xf0")]&&(this[_0x1d97("0xf0")]=!1):!this.visible&&(this[_0x1d97("0xf0")]=!0),this[_0x1d97("0x4b")]=i,this.building.on(_0x1d97("0xf3"),(function(x){var _=x[_0x1d97("0xe8")],e=x[_0x1d97("0xf1")];_==d.fnum&&(d[_0x1d97("0xa3")][_0x1d97("0x592")]=e+(t||0)+i[_0x1d97("0xa3")][_0x1d97("0xb6")].y)}))}},{key:"direction",get:function(){return this[_0x1d97("0xa3")].outline[_0x1d97("0x238")].z/Math.PI*180},set:function(x){this.o3d_[_0x1d97("0x197")][_0x1d97("0x238")][_0x1d97("0x11b")](0,0,x/180*Math.PI,_0x1d97("0x3e5"))}},{key:"url",get:function(){return this[_0x1d97("0x3c9")][_0x1d97("0x48")]},set:function(x){this.opts_[_0x1d97("0x48")]=x,this[_0x1d97("0xa3")][_0x1d97("0xeba")](x)}},{key:_0x1d97("0x123"),set:function(x){this.o3d_[_0x1d97("0x123")]=x},get:function(){return this[_0x1d97("0xa3")].arrow}},{key:_0x1d97("0xebe"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xebe")]},set:function(x){this[_0x1d97("0xa3")][_0x1d97("0xebe")]=x}},{key:_0x1d97("0xf0"),get:function(){return this[_0x1d97("0xa3")].forceVisible_},set:function(x){this.o3d_[_0x1d97("0xf28")]=x,this[_0x1d97("0xa3")][_0x1d97("0xf0")]=x}},{key:_0x1d97("0x1b5"),set:function(x){this[_0x1d97("0xa3")][_0x1d97("0x592")]=x},get:function(){return this[_0x1d97("0xa3")].position.y}},{key:_0x1d97("0xad8"),get:function(){return this[_0x1d97("0xe8")]},set:function(x){this[_0x1d97("0xe8")]=x}},{key:_0x1d97("0xb6"),get:function(){return this.o3d_[_0x1d97("0xb6")]}},{key:"ID",get:function(){return this[_0x1d97("0xf32")]}},{key:_0x1d97("0xb8"),get:function(){return this[_0x1d97("0xf2b")]}}]),d}(esmap[_0x1d97("0x515")]);(0,e[_0x1d97("0x1c")])(l[_0x1d97("0xf")],{_update:{value:function(x){this[_0x1d97("0xa3")][_0x1d97("0x271")](esmap.ESMap[_0x1d97("0x34")][_0x1d97("0x16d")]),this[_0x1d97("0x117")]&&(this[_0x1d97("0x117")].position.equals(this[_0x1d97("0xa3")].position)||this[_0x1d97("0x117")][_0x1d97("0xb6")][_0x1d97("0x267")](this[_0x1d97("0xa3")][_0x1d97("0xb6")]))}},getPosition:{value:function(){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")].coordThreeToMap(this[_0x1d97("0xb6")]);return x.z=this[_0x1d97("0xa3")][_0x1d97("0x592")]||0,x[_0x1d97("0xe8")]=this.fnum,x}},dispose:{value:function(){this[_0x1d97("0xa3")]&&this[_0x1d97("0xa3")][_0x1d97("0xba")]&&(esmap.ESMap.instance[_0x1d97("0x5e")](_0x1d97("0x11d"),this[_0x1d97("0xf44")]),this.o3d_.parent[_0x1d97("0x149")](this[_0x1d97("0xa3")]))}}}),d[_0x1d97("0x1c")]=l},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=l(_(10)),t=l(_(2)),a=l(_(4)),i=l(_(0)),n=l(_(1)),r=l(_(5)),s=l(_(6)),o=l(_(342)),c=l(_(67));function l(x){return x&&x.__esModule?x:{default:x}}var u=function(x){function d(x){var _;(0,i[_0x1d97("0x1c")])(this,d),(_=(0,r[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,a[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x98f")],{},new THREE.Object3D)))[_0x1d97("0xf49")]=null;var e=x||{};if(_.alias=_0x1d97("0x4e7"),_[_0x1d97("0x38")]=e[_0x1d97("0x38")]||esmap[_0x1d97("0x33")][_0x1d97("0x34")],(0,t[_0x1d97("0x1c")])(_,{color:_0x1d97("0xf4a"),alpha:.5,name:"",imageRepeat:{x:1,y:1},lineWidth:1,lineType:esmap.ESLineType[_0x1d97("0xf47")],lineStyle:{fixedWidth:!1},seeThrough:!1,imageAngle:180,height:6,thickness:0,showLevel:null,light:!0,roughness:.5,metalness:.5,bid:0,points:{type:"rectangle",center:_[_0x1d97("0x38")][_0x1d97("0xe7")],width:30,height:30}},e),_.ID=_.id,_[_0x1d97("0x16c")]=_.map[_0x1d97("0x16c")],_[_0x1d97("0xa3")]=new(THREE[_0x1d97("0x14a")]),_.o3d_.material.transparent=!0,_[_0x1d97("0xa3")][_0x1d97("0xa7")].depthWrite=!0,_[_0x1d97("0xa3")].material[_0x1d97("0x115")]=THREE.DoubleSide,_[_0x1d97("0xa3")].datas_=_,_[_0x1d97("0x128")]&&(_[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xe53")]=!1),_.pickable&&_[_0x1d97("0x38")].mapPicker[_0x1d97("0x188")](_[_0x1d97("0xa3")],_[_0x1d97("0xe5")]||_0x1d97("0xf7")),0==_[_0x1d97("0xf4b")]?(Array[_0x1d97("0x547")](_[_0x1d97("0xe6")])&&_[_0x1d97("0xe6")][_0x1d97("0x0")]>=3&&(_[_0x1d97("0xe6")][0].x==_[_0x1d97("0xe6")][_[_0x1d97("0xe6")][_0x1d97("0x0")]-1].x&&_[_0x1d97("0xe6")][0].y==_[_0x1d97("0xe6")][_[_0x1d97("0xe6")].length-1].y||_[_0x1d97("0xe6")][_0x1d97("0x1")](_[_0x1d97("0xe6")][0])),_[_0x1d97("0x11d")](_,!0),_[_0x1d97("0x173")]&&_[_0x1d97("0xf4c")](_[_0x1d97("0x173")])):(_[_0x1d97("0xfa")]?_[_0x1d97("0xa3")][_0x1d97("0xa7")]=new(THREE[_0x1d97("0xfb")])({transparent:!0,roughness:_[_0x1d97("0xfd")],metalness:_.metalness,side:THREE[_0x1d97("0x111")]}):_[_0x1d97("0xa3")][_0x1d97("0xa7")]=new(THREE[_0x1d97("0xfe")])({transparent:!0,side:THREE[_0x1d97("0x111")]}),_.createBox(_,!0)),_[_0x1d97("0x22c")]){var n=_.showLevel[0],s=_[_0x1d97("0x22c")][1];_[_0x1d97("0x38")].on("zoomed",(function(x){x>=n&&x<=s?_.o3d_[_0x1d97("0xf0")]||_[_0x1d97("0x274")]():_.o3d_[_0x1d97("0xf0")]&&_[_0x1d97("0xaa4")]()}))}return _.o3d_[_0x1d97("0x30")]("removed",(function(){_[_0x1d97("0x9a1")]&&(_[_0x1d97("0x9a1")][_0x1d97("0xa6")](),_[_0x1d97("0x9a1")]=null)})),_}return(0,s[_0x1d97("0x1c")])(d,x),(0,n[_0x1d97("0x1c")])(d,[{key:_0x1d97("0xaa4"),value:function(){this.o3d_.visible=!1}},{key:_0x1d97("0x274"),value:function(){this.o3d_[_0x1d97("0xf0")]=!0}},{key:_0x1d97("0xf4d"),value:function(){var x=0;this[_0x1d97("0xe5")]||(x=this[_0x1d97("0x38")][_0x1d97("0xee")](0)[_0x1d97("0x2f8")](1)),this[_0x1d97("0xa3")][_0x1d97("0xb6")].y=this[_0x1d97("0x5da")]+x}},{key:"setImage",value:function(x){var d=esmap.ESMapUtil[_0x1d97("0x4e0")](x);this[_0x1d97("0xa3")].material.map=d,this[_0x1d97("0xa3")][_0x1d97("0xa7")].map[_0x1d97("0xe7")].x=.5,this[_0x1d97("0xa3")][_0x1d97("0xa7")].map.center.y=.5,this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")].wrapS=this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x143")]=THREE[_0x1d97("0x142")],this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x112")].x=this[_0x1d97("0xf4e")].x,this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x112")].y=this[_0x1d97("0xf4e")].y,this[_0x1d97("0xa3")][_0x1d97("0xa7")].map.rotation=this[_0x1d97("0xf4f")]*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")],this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x100")][_0x1d97("0x29e")](this[_0x1d97("0x100")]),this.o3d_.material[_0x1d97("0x38")][_0x1d97("0x13b")]=!0,this[_0x1d97("0xa3")].material[_0x1d97("0x13b")]=!0}},{key:_0x1d97("0x30d"),value:function(){var x=esmap.ESMapUtil[_0x1d97("0x551")](this[_0x1d97("0x438")]);return esmap[_0x1d97("0x75")].getCenterByExtent(x)}},{key:"_processUvs",value:function(x){if(!this.o3d_[_0x1d97("0x11e")][_0x1d97("0xf50")]){this[_0x1d97("0xa3")][_0x1d97("0x11e")].processsedUv=!0;var d=this[_0x1d97("0x38")][_0x1d97("0x35")].editMode,_=x[_0x1d97("0x9d5")],e=x[_0x1d97("0x9d4")],t=_.length;x[_0x1d97("0x82e")](),x[_0x1d97("0xf51")][0]=[],x[_0x1d97("0x82e")]();for(var a=x[_0x1d97("0x4bd")][_0x1d97("0x317")],i=x[_0x1d97("0x4bd")].min,n=new(THREE[_0x1d97("0x4be")])(0-i.x,0-i.y),r=new(THREE[_0x1d97("0x4be")])(a.x-i.x,a.y-i.y),s=t-2,o=0;o<s;o++)if(e[o]){var c=x.vertices[e[o].a],l=x[_0x1d97("0x9d5")][e[o].b],u=x[_0x1d97("0x9d5")][e[o].c];x[_0x1d97("0xf51")][0][o]=[new(THREE[_0x1d97("0x4be")])((c.x+n.x)/r.x,(c.y+n.y)/r.y),new(THREE[_0x1d97("0x4be")])((l.x+n.x)/r.x,(l.y+n.y)/r.y),new(THREE[_0x1d97("0x4be")])((u.x+n.x)/r.x,(u.y+n.y)/r.y)]}else d||console[_0x1d97("0x245")](_0x1d97("0xf52"),this);x[_0x1d97("0xf53")]=!0,x[_0x1d97("0xf54")]=!0}}},{key:_0x1d97("0xf55"),value:function(x){this[_0x1d97("0xf56")]();var d=esmap[_0x1d97("0x75")][_0x1d97("0x551")](this[_0x1d97("0x438")]);x.maxX=d[_0x1d97("0x44d")],x[_0x1d97("0x449")]=d.minX,x[_0x1d97("0x44e")]=d[_0x1d97("0x44e")],x.minY=d[_0x1d97("0x44c")],this.heatmap=new o.default(x);var _=this.heatmap[_0x1d97("0xf57")]();this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xff")]=!0,this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xe2")]=x[_0x1d97("0xe2")],this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")]=_,this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x100")][_0x1d97("0x11b")](16777215),this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,this[_0x1d97("0xa3")][_0x1d97("0xa7")].map.needsUpdate=!0}},{key:_0x1d97("0xf58"),value:function(x){this[_0x1d97("0x861")][_0x1d97("0x877")](x)}},{key:_0x1d97("0xf59"),value:function(){this[_0x1d97("0x861")][_0x1d97("0xf5a")]()}},{key:_0x1d97("0xf5b"),value:function(){this[_0x1d97("0x861")].clearPoints(),this[_0x1d97("0x861")][_0x1d97("0x5f5")](),this[_0x1d97("0x861")][_0x1d97("0x4c4")].needsUpdate=!0}},{key:"updateHeatMap",value:function(){this[_0x1d97("0x861")][_0x1d97("0x11d")]()}},{key:"addHeatPoints",value:function(x){this[_0x1d97("0x861")][_0x1d97("0x876")](x)}},{key:_0x1d97("0xf5c"),value:function(x){this[_0x1d97("0x861")][_0x1d97("0x871")](x.x,x.y,x[_0x1d97("0xf1")])}},{key:_0x1d97("0xf5d"),value:function(){this[_0x1d97("0x930")]&&this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0xf5e")](this[_0x1d97("0xa3")])}},{key:"alwaysShow",value:function(x,d){esmap[_0x1d97("0x177")][_0x1d97("0xf")].alwaysShow[_0x1d97("0x3")](this[_0x1d97("0xa3")],x,d),esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0xebb")][_0x1d97("0x3")](this[_0x1d97("0x9a1")],x,d)}},{key:_0x1d97("0xf37"),value:function(x){this[_0x1d97("0x11d")]({color:x})}},{key:_0x1d97("0xf5f"),value:function(x){this[_0x1d97("0x11d")]({lineWidth:x})}},{key:_0x1d97("0x294"),value:function(x){this[_0x1d97("0x11d")]({alpha:x})}},{key:"_normalizePoints",value:function(x){var d=this;return x.map((function(x){var _=d[_0x1d97("0x38")][_0x1d97("0x9ff")]({x:x.x,y:x.y}),e=d.map[_0x1d97("0x17c")](_);return new THREE.Vector2(e.x,-e.z)}))}},{key:_0x1d97("0xf60"),value:function(x,d){var _=this;if(d||(0,t.default)(_,x),x[_0x1d97("0xe6")]){var a=null;if(x[_0x1d97("0xe6")]instanceof Array){if((a=x.points)[_0x1d97("0x0")]<3)return}else if("object"==(0,e[_0x1d97("0x1c")])(x.points)&&!(a=_._createPoints(x[_0x1d97("0xe6")])))return;_[_0x1d97("0xa3")][_0x1d97("0xa5")].dispose(),_.points_=a;var i=_[_0x1d97("0xf61")](a),n=new(THREE[_0x1d97("0x4b8")])(i),r=new THREE.ExtrudeBufferGeometry(n,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});_.o3d_[_0x1d97("0xa5")]=r,d&&(_.o3d_[_0x1d97("0xf62")](-Math.PI/2),_[_0x1d97("0xa3")][_0x1d97("0xb6")].y=_[_0x1d97("0x1b5")]),_.o3d_[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")].polygonMarker}x.color&&_[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x100")].setStyle(_[_0x1d97("0x100")]),null!=x[_0x1d97("0xe1")]&&_[_0x1d97("0xa3")].material.opacity&&(_[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xe2")]=_[_0x1d97("0xe1")])}},{key:_0x1d97("0xf63"),value:function(x){var d=this;d[_0x1d97("0x9a1")]&&(d.line.dispose(),d[_0x1d97("0x9a1")]=null);var _=d[_0x1d97("0xa5d")];d.map[_0x1d97("0xee")](0);d[_0x1d97("0xe5")]&&d.map.getBuildingById(d[_0x1d97("0xe5")]),d.map.mapScene.sceneX_,d.map[_0x1d97("0x16c")][_0x1d97("0x19a")],(x=d.o3d_[_0x1d97("0xa5")].vertices[_0x1d97("0x38")]((function(x){return new(THREE[_0x1d97("0xe0")])(x.x,x.z,x.y)})))[_0x1d97("0x1")](x[0][_0x1d97("0xdb")]());var e=(0,t[_0x1d97("0x1c")])({color:d.color,fixedWidth:!1,notCenter:!0,lineWidth:d.lineWidth,lineType:d.lineType,hiddenByFloor:!1,light:!1},_);e[_0x1d97("0x145")]!=esmap.ESLineType[_0x1d97("0xde")]?d[_0x1d97("0x9a1")]=new(esmap[_0x1d97("0x52e")])(x,e,!1):d.line=new(c[_0x1d97("0x1c")])(x,e,!1),d[_0x1d97("0x9a1")][_0x1d97("0xf62")](-Math.PI/2),d[_0x1d97("0xa3")][_0x1d97("0xdc")](d[_0x1d97("0x9a1")]),d[_0x1d97("0x9a1")][_0x1d97("0xb6")][_0x1d97("0x11b")](0,0,0),d[_0x1d97("0x9a1")][_0x1d97("0xa7")][_0x1d97("0xf0")]=!0,d[_0x1d97("0x9a1")][_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4e7")],d.line.children[0]&&(d.line[_0x1d97("0xa4")][0].renderOrder=esmap[_0x1d97("0x12b")].polygonMarker)}},{key:_0x1d97("0xf64"),value:function(x){switch(x[_0x1d97("0x6a")]){case"circle":if(x[_0x1d97("0xe7")]&&x[_0x1d97("0x58b")]){for(var d=x[_0x1d97("0xe7")],_=x[_0x1d97("0x58b")]||30,e=x[_0x1d97("0x599")]||40,t=[],a=0;a<e;a++)t[_0x1d97("0x1")]({x:d.x+_*Math.cos(2*Math.PI/e*a),y:d.y+_*Math[_0x1d97("0x569")](2*Math.PI/e*a)});return t}break;case _0x1d97("0xf65"):if(x[_0x1d97("0x328")]&&x[_0x1d97("0x1b5")]&&(x[_0x1d97("0x816")]||x.center)){d=x[_0x1d97("0xe7")]||this[_0x1d97("0x38")][_0x1d97("0xe7")];if(!(i=x[_0x1d97("0x816")]))var i={x:d.x-x.width/2,y:d.y-x.height/2};return[{x:i.x,y:i.y},{x:i.x+x[_0x1d97("0x328")],y:i.y},{x:i.x+x.width,y:i.y+x[_0x1d97("0x1b5")]},{x:i.x,y:i.y+x[_0x1d97("0x1b5")]}]}}}},{key:_0x1d97("0x11d"),value:function(x,d){var _=this;if(d||(0,t[_0x1d97("0x1c")])(_,x),x[_0x1d97("0xe6")]){var a=null;if(x[_0x1d97("0xe6")]instanceof Array){if((a=x[_0x1d97("0xe6")])[_0x1d97("0x0")]<3)return}else if(_0x1d97("0xc")==(0,e[_0x1d97("0x1c")])(x[_0x1d97("0xe6")])&&!(a=_[_0x1d97("0xf64")](x[_0x1d97("0xe6")])))return;if(_[_0x1d97("0xa3")].geometry[_0x1d97("0xa6")](),a[_0x1d97("0x0")]<3)return void(_[_0x1d97("0x9a1")]&&(_[_0x1d97("0x9a1")][_0x1d97("0xa6")](),_[_0x1d97("0x9a1")]=null));_.points_=a;var i=0;this.bid||(i=this[_0x1d97("0x38")][_0x1d97("0xee")](0).getFloorHeight(1));var n=_[_0x1d97("0xf61")](a),r=new(THREE[_0x1d97("0xf66")])(new(THREE[_0x1d97("0x4b8")])(n));_[_0x1d97("0xf56")](r),_[_0x1d97("0xa3")][_0x1d97("0xa5")]=r,d&&(_[_0x1d97("0xa3")][_0x1d97("0xf62")](-Math.PI/2),_[_0x1d97("0xa3")][_0x1d97("0xb6")].y=_[_0x1d97("0x1b5")]+i),_[_0x1d97("0xa3")][_0x1d97("0x234")]=esmap.ESRenderOrder.polygonMarker}x[_0x1d97("0x119")]?_[_0x1d97("0xf63")](n):_[_0x1d97("0x9a1")]&&(_[_0x1d97("0x9a1")][_0x1d97("0xa6")](),_[_0x1d97("0x9a1")]=null,_[_0x1d97("0xf63")](n)),x[_0x1d97("0x100")]&&_.o3d_[_0x1d97("0xa7")][_0x1d97("0x100")].setStyle(_[_0x1d97("0x100")]),null!=x.alpha&&_[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0xe2")]&&(_.o3d_[_0x1d97("0xa7")][_0x1d97("0xe2")]=_[_0x1d97("0xe1")])}},{key:_0x1d97("0xf67"),value:function(x){var d=(0,t[_0x1d97("0x1c")])(x);d=this[_0x1d97("0xf61")]([d])[0];var _=new(THREE[_0x1d97("0xe0")])(d.x,this[_0x1d97("0xa3")].getWorldPosition(new THREE.Vector3).y+30,-d.y),e=new(THREE[_0x1d97("0xe0")])(0,-1,0);return new(THREE[_0x1d97("0x3d2")])(_,e)[_0x1d97("0xa40")](this.o3d_)[_0x1d97("0x0")]>0}},{key:"height",get:function(){return this[_0x1d97("0x5da")]},set:function(x){var d=0;this[_0x1d97("0xe5")]||(d=this[_0x1d97("0x38")][_0x1d97("0xee")](0)[_0x1d97("0x2f8")](1)),this._height=x,this[_0x1d97("0xa3")]&&(this.o3d_[_0x1d97("0xb6")].y=x+d)}}]),d}(esmap[_0x1d97("0x515")]);d.default=u},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=_(19);function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x843")](d),this[_0x1d97("0x83f")]={},this[_0x1d97("0x4c4")]=null,this.points=[]}return(0,t[_0x1d97("0x1c")])(x,[{key:"getDeviceWH",value:function(x){var d=this,_=d.maxX-d[_0x1d97("0x449")],e=d[_0x1d97("0x44e")]-d[_0x1d97("0x44c")],t={w:parseFloat(_),h:parseFloat(e)},i=(0,a.getDeviceDPI)();t.w=t.w*i[0]/15,t.h=t.h*i[1]/15;var n=1,r=x[_0x1d97("0x845")]||8192;return(_>500||e>500)&&r>=8192&&(r=2048),(t.w>=r||t.h>=r)&&(t.w>=t.h?(n=t.h/t.w,t.w=r,t.h=r*n):(n=t.w/t.h,t.h=r,t.w=r*n)),t}},{key:"getPixXY",value:function(x,d){var _={x:1-(x-this.minX)/(this[_0x1d97("0x44d")]-this[_0x1d97("0x449")]),y:(d-this.minY)/(this[_0x1d97("0x44e")]-this[_0x1d97("0x44c")])};return _.x=_.x*this[_0x1d97("0x35")][_0x1d97("0x328")],_.y=_.y*this.options[_0x1d97("0x1b5")],_}},{key:_0x1d97("0x843"),value:function(x){var d=this;d[_0x1d97("0x449")]=x[_0x1d97("0x449")],d[_0x1d97("0x44d")]=x[_0x1d97("0x44d")],d[_0x1d97("0x44c")]=x[_0x1d97("0x44c")],d[_0x1d97("0x44e")]=x[_0x1d97("0x44e")];var _=d.getDeviceWH(x),e=_.w,t=_.h;d[_0x1d97("0x35")]={width:e,height:t,radius:x[_0x1d97("0x58b")]?x[_0x1d97("0x58b")]:30,opacity:x[_0x1d97("0x2")](_0x1d97("0xe2"))?x[_0x1d97("0xe2")]:1,mapOpacity:x[_0x1d97("0x2")](_0x1d97("0x844"))?x[_0x1d97("0x844")]:1,bshadow:x[_0x1d97("0x58b")]?x.radius/20:1.5,maxSize:x[_0x1d97("0x845")]||8192,boundVal:15e3,shadowBlur:15,points:{max:x[_0x1d97("0x317")]?x.max:100,data:[]},gradient:x[_0x1d97("0x846")]?x[_0x1d97("0x846")]:{.45:_0x1d97("0x847"),.55:"rgb(0,255,255)",.65:_0x1d97("0xf68"),.95:_0x1d97("0x849"),1:"rgb(255,0,0)"}};var a=document[_0x1d97("0x21")](_0x1d97("0x4a1")),i=a[_0x1d97("0x84b")]("2d");a[_0x1d97("0x328")]=e,a.height=t,d[_0x1d97("0x35")][_0x1d97("0x85a")]=i,d.options.canvas=a}},{key:_0x1d97("0x872"),value:function(x,d,_,e){var t=this,a=t[_0x1d97("0x35")][_0x1d97("0x85a")],i=(t[_0x1d97("0x35")][_0x1d97("0x58b")],t[_0x1d97("0x35")].boundVal),n=parseFloat(_/t[_0x1d97("0x35")][_0x1d97("0xe6")][_0x1d97("0x317")],10);a[_0x1d97("0x850")]=_0x1d97("0x857")+n+")",a[_0x1d97("0x852")]=i,a[_0x1d97("0x853")]=i,a[_0x1d97("0x854")]=t[_0x1d97("0x35")][_0x1d97("0x854")],a[_0x1d97("0x858")](),a.arc(x-i,d-i,t[_0x1d97("0x35")][_0x1d97("0x58b")],0,2*Math.PI,!0),a.closePath(),a.fill()}},{key:_0x1d97("0x859"),value:function(){for(var x=this,d=x[_0x1d97("0x35")][_0x1d97("0x328")],_=x.options.height,e=x[_0x1d97("0x35")][_0x1d97("0x85a")],t=e[_0x1d97("0x85b")](0,0,d,_),a=t[_0x1d97("0x35d")],i=a[_0x1d97("0x0")],n=x[_0x1d97("0x86c")](),r=x.options[_0x1d97("0xe2")]?255*x[_0x1d97("0x35")].opacity:25500,s=3;s<i;s+=4){var o=a[s],c=4*o;if(c){var l=o<r?o:r;a[s-3]=n[c],a[s-2]=n[c+1],a[s-1]=n[c+2],a[s]=l}}t[_0x1d97("0x35d")][_0x1d97("0x11b")](a),e.putImageData(t,0,0)}},{key:_0x1d97("0xf57"),value:function(){var x=this,d=x[_0x1d97("0x35")].canvas;return x[_0x1d97("0x4c4")]||(x.texture=new THREE.Texture(d)),x[_0x1d97("0x4c4")]}},{key:"getPalette",value:function(){var x=document[_0x1d97("0x21")](_0x1d97("0x4a1")),d=x[_0x1d97("0x84b")]("2d");x.width=1,x[_0x1d97("0x1b5")]=256;var _=this[_0x1d97("0x35")][_0x1d97("0x846")],e=d.createLinearGradient(0,0,1,256);for(var t in _)e.addColorStop(t,_[t]);return d[_0x1d97("0x86f")]=e,d.fillRect(0,0,1,256),d[_0x1d97("0x85b")](0,0,1,256)[_0x1d97("0x35d")]}},{key:_0x1d97("0xf69"),value:function(x,d,_){var e=this[_0x1d97("0x35")][_0x1d97("0xe6")],t=e[_0x1d97("0x35d")];_>e[_0x1d97("0x317")]&&(e[_0x1d97("0x317")]=_),t[_0x1d97("0x1")]([x,d,_])}},{key:_0x1d97("0xf5a"),value:function(){this[_0x1d97("0xe6")]=[]}},{key:_0x1d97("0x871"),value:function(x,d,_){if(x&&d&&_){var e=this[_0x1d97("0x842")](x,d);if(e){this[_0x1d97("0xe6")][_0x1d97("0x1")]({x:e.x,y:e.y,value:_})}}}},{key:_0x1d97("0x5f5"),value:function(){this[_0x1d97("0x35")].ctx[_0x1d97("0x873")](0,0,this[_0x1d97("0x35")][_0x1d97("0x328")],this[_0x1d97("0x35")][_0x1d97("0x1b5")])}},{key:_0x1d97("0x876"),value:function(x){for(var d=x[_0x1d97("0x0")],_=0;_<d;_++){var e=x[_][_0x1d97("0xf1")];if(e){var t=this[_0x1d97("0x842")](x[_].x,x[_].y);this[_0x1d97("0xe6")][_0x1d97("0x1")]({x:t.x,y:t.y,value:e})}}}},{key:_0x1d97("0x11d"),value:function(){var x=this;x.clear();for(var d=x[_0x1d97("0xe6")],_=0;_<d[_0x1d97("0x0")];_++){var e=d[_];x[_0x1d97("0x872")](e.x,e.y,e[_0x1d97("0xf1")])}x[_0x1d97("0x859")](),x[_0x1d97("0x4c4")][_0x1d97("0x13b")]=!0}},{key:_0x1d97("0x877"),value:function(x){var d=this,_=d[_0x1d97("0x35")].width,e=d[_0x1d97("0x35")][_0x1d97("0x1b5")],t=d[_0x1d97("0x35")][_0x1d97("0xe6")][_0x1d97("0x317")];d.points=[];for(var a=0;a<x;a++){var i=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*_+1),n=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*e+1),r=Math[_0x1d97("0x2b")](Math[_0x1d97("0x2c")]()*t+1);d[_0x1d97("0xe6")][_0x1d97("0x1")]({x:i,y:n,value:r})}}}]),x}();d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function d(x){var _;(0,t[_0x1d97("0x1c")])(this,d),(_=(0,i[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,x)))[_0x1d97("0x94e")]=esmap[_0x1d97("0x4ed")][_0x1d97("0x950")];var a=new(THREE[_0x1d97("0x5f8")])(1,1,1,1),n=new THREE.MeshLambertMaterial({transparent:!0,side:THREE[_0x1d97("0x111")],depthWrite:!1});return n.visible=!1,_[_0x1d97("0xa3")]=new(THREE[_0x1d97("0x14a")])(a,n),_.o3d_.datas_=_,1==x[_0x1d97("0x22")][_0x1d97("0x257")]?_.o3d_[_0x1d97("0x238")][_0x1d97("0x11b")](-Math.PI/2,0,Math.PI-x[_0x1d97("0x22")][_0x1d97("0x4a4")]*THREE.Math.DEG2RAD,_0x1d97("0xf6a")):_.o3d_[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI,-x.style.rotate*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")],Math.PI,_0x1d97("0xf6a")),_[_0x1d97("0xa3")][_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4ef")],_.updateStyle(_[_0x1d97("0xf25")][_0x1d97("0x22")]),_}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x144"),value:function(x){var d=this;d[_0x1d97("0x170")]=setInterval((function(){d[_0x1d97("0xa3")]&&(x[_0x1d97("0x173")],x[_0x1d97("0x173")][_0x1d97("0x173")]&&(clearInterval(d[_0x1d97("0x170")]),d[_0x1d97("0xa3")].material.visible=!0,d[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")]=x[_0x1d97("0x173")],d.o3d_[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x13f")]=THREE[_0x1d97("0x5d6")],d.o3d_.material[_0x1d97("0x38")][_0x1d97("0x13e")]=16))}),0),this[_0x1d97("0xa3")][_0x1d97("0x237")][_0x1d97("0x11b")](x.size[_0x1d97("0x328")],x[_0x1d97("0xa5f")].height,1),this[_0x1d97("0xa3")][_0x1d97("0xb6")].set(-(x[_0x1d97("0x1c4")].x+this[_0x1d97("0xf25")].sx)+x[_0x1d97("0x113")].x,x[_0x1d97("0x1b5")]+x[_0x1d97("0x113")].z,x[_0x1d97("0x1c4")].y-this[_0x1d97("0xf25")].sz+x.offset.y)}}]),d}(esmap[_0x1d97("0x516")]);d.default=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=o(_(4)),t=o(_(0)),a=o(_(1)),i=o(_(5)),n=o(_(6)),r=_(11),s=o(_(146));function o(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var c=function(x){function d(x){(0,t.default)(this,d);var _=(0,i.default)(this,(d.__proto__||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x9fc")],{},new THREE.Object3D));_[_0x1d97("0xa3")][_0x1d97("0xf28")]=_[_0x1d97("0xa3")].visible,_[_0x1d97("0x3c9")]=x||{};var a={};return a[_0x1d97("0xe19")]=x[_0x1d97("0xe19")]||12,a.fillcolor=x[_0x1d97("0xe18")]||_0x1d97("0xc58"),a.strokecolor=x[_0x1d97("0xe88")]||_0x1d97("0xb28"),a[_0x1d97("0xe1")]=x[_0x1d97("0xe1")]||1,a.imagealign=x[_0x1d97("0xd12")]||"left",a[_0x1d97("0xd57")]=x[_0x1d97("0xf6b")]||32,a[_0x1d97("0xe1a")]=x[_0x1d97("0x2")](_0x1d97("0xe1a"))?x[_0x1d97("0xe1a")]:2,a[_0x1d97("0xe77")]=x.fontspace||0,a[_0x1d97("0xe72")]=x[_0x1d97("0xe72")]||0,a[_0x1d97("0xe71")]=x[_0x1d97("0xe71")]||4,a.shadowOffset=x[_0x1d97("0xf6c")]||_0x1d97("0xf6d"),a.shadowColor=x.shadowColor||_0x1d97("0xe89"),a.shadowBlur=x[_0x1d97("0x854")]||1,a.shadow=x[_0x1d97("0xe7f")]||0,_[_0x1d97("0xe40")]=a,isNaN(a[_0x1d97("0xd57")])||(a[_0x1d97("0xd57")]={w:a.imagesize,h:a[_0x1d97("0xd57")]}),_[_0x1d97("0xf6e")]=[],_.createMarker_(),_}return(0,n.default)(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0xeb6"),value:function(x){var d=this,_=esmap.ESMap.instance;this[_0x1d97("0x298")]&&(this[_0x1d97("0x298")][_0x1d97("0xa7")].dispose(),_[_0x1d97("0x5e")](_0x1d97("0x11d"),this[_0x1d97("0x298")].updateHandler),this[_0x1d97("0xa3")][_0x1d97("0x149")](this[_0x1d97("0x298")]),this[_0x1d97("0x298")]=null);var e=new(THREE[_0x1d97("0x29f")]),t=Math[_0x1d97("0x317")](this[_0x1d97("0xe40")][_0x1d97("0xd57")].w,this[_0x1d97("0xe40")][_0x1d97("0xd57")].h),a=_0x1d97("0xeb7"),i=(new(THREE[_0x1d97("0x29d")]))[_0x1d97("0x591")](a),n=new(s[_0x1d97("0x1c")])({aoTexture:i,colorStr:x[_0x1d97("0xeb0")],glowOpacity:x.glowOpacity}),r=function(x){if(d.o3d_){var _=d[_0x1d97("0xa3")][_0x1d97("0x237")].x/d[_0x1d97("0xa3")][_0x1d97("0x237")].y,a=t/390;_!=e[_0x1d97("0x237")].y&&e[_0x1d97("0x237")][_0x1d97("0x11b")](1*a,_*a,1),n[_0x1d97("0x4cd")](x)}};_.on(_0x1d97("0x11d"),r),e[_0x1d97("0xeb8")]=r,e.material=n.material,e[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0,e[_0x1d97("0x234")]=this.o3d_[_0x1d97("0x234")]-1,e[_0x1d97("0xa7")][_0x1d97("0x867")]=!1,this[_0x1d97("0x298")]=e,this[_0x1d97("0xa3")][_0x1d97("0xdc")](e)}},{key:_0x1d97("0xf6f"),value:function(){this.glowSprite&&(this[_0x1d97("0x298")][_0x1d97("0xa7")].dispose(),map.off(_0x1d97("0x11d"),this[_0x1d97("0x298")][_0x1d97("0xeb8")]),this[_0x1d97("0xa3")][_0x1d97("0x149")](this.glowSprite),this.glowSprite=null)}},{key:_0x1d97("0x29a"),value:function(x){var d=arguments[_0x1d97("0x0")]>1&&void 0!==arguments[1]?arguments[1]:.8;this[_0x1d97("0x22b")]?this.initActiveEffect({glowColor:x,glowOpacity:d}):this[_0x1d97("0xf6e")][_0x1d97("0x1")](this[_0x1d97("0xeb6")][_0x1d97("0x11")](this,{glowColor:x,glowOpacity:d}))}},{key:_0x1d97("0xf37"),value:function(x){this.oc||(this.oc=this.o3d_[_0x1d97("0xa7")][_0x1d97("0x100")]);var d=new(THREE[_0x1d97("0x101")])(x);this.o3d_[_0x1d97("0xa7")][_0x1d97("0x100")]=d}},{key:_0x1d97("0x297"),value:function(){this[_0x1d97("0xf6f")]()}},{key:"createMarker_",value:function(){var x=this,d=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0x38"),esmap.ESMap[_0x1d97("0x34")]);d[_0x1d97("0x16c")];x[_0x1d97("0x22b")]=!1,x.map=d,x.x_=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],"x",d.center.x),x.y_=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],"y",d[_0x1d97("0xe7")].y),x.z_=(0,r.getValue)(x[_0x1d97("0x3c9")],_0x1d97("0x1b5"),6),x[_0x1d97("0xe5")]=(0,r.getValue)(x[_0x1d97("0x3c9")],"bid",d.id),x[_0x1d97("0xf2b")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0xb8"),_0x1d97("0xf70"))+"",x[_0x1d97("0xf32")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],"id",_0x1d97("0xf71")+(new Date).getTime()),x.img_=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0x173"),""),x[_0x1d97("0xf72")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0x237"),1),x.text_=(0,r[_0x1d97("0x12")])(x.opts_,_0x1d97("0xb18"),null),null==x[_0x1d97("0xf73")]&&(x.text_=x[_0x1d97("0xf2b")]),x.spritify_=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0xe9d"),!0),x[_0x1d97("0xf74")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0x257"),90),x[_0x1d97("0x9e1")]=(0,r.getValue)(x.opts_,_0x1d97("0x128"),!1),x.pickPriority_=(0,r[_0x1d97("0x12")])(this[_0x1d97("0x3c9")],_0x1d97("0xf75"),!1);var _=d[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?20:12;x[_0x1d97("0xe5a")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],"showLevel",_),x.o3d_.forceVisible_=!1,x[_0x1d97("0xf2f")]=(0,r[_0x1d97("0x12")])(x[_0x1d97("0x3c9")],_0x1d97("0xe7"),null);var e=d[_0x1d97("0x9ff")]({x:this.x_,y:this.y_});this.x_=e.x,this.y_=e.y,x.o3d_=new(esmap[_0x1d97("0x177")])(d.FloorNum,{oid:x[_0x1d97("0xf32")],vertex:[x.x_,x.y_],invisible:!0,name:x.text_,w:x[_0x1d97("0xe40")].imagesize.w,h:x[_0x1d97("0xe40")][_0x1d97("0xd57")].h,spritify:x[_0x1d97("0xe64")],image:x[_0x1d97("0xf76")],callback:function(_){if(x.o3d_=_,_[_0x1d97("0xa7")]){_.datas_=x;var e=d[_0x1d97("0x17c")]({x:x.x_,y:x.y_});_[_0x1d97("0xb6")][_0x1d97("0x11b")](e.x,x.z_,e.z),x.seeThrough_&&(_[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1),_[_0x1d97("0xf0")]=!0,_[_0x1d97("0xa7")][_0x1d97("0xf0")]=!0,_[_0x1d97("0xf28")]=!0,x[_0x1d97("0x3c9")][_0x1d97("0xe7")]?_.center[_0x1d97("0x11b")](x.opts_[_0x1d97("0xe7")].x,x[_0x1d97("0x3c9")][_0x1d97("0xe7")].y):_[_0x1d97("0xe7")].set(.5,0),x[_0x1d97("0x3c9")][_0x1d97("0x1c2")]&&x[_0x1d97("0x3c9")][_0x1d97("0x1c2")](x),x[_0x1d97("0x22b")]=!0,_[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0xf77")],x.seeThrough_&&(_[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1,_[_0x1d97("0x234")]=100),x[_0x1d97("0xf6e")][_0x1d97("0x1d")]((function(x){x()})),_[_0x1d97("0x17d")][_0x1d97("0x17e")](x[_0x1d97("0x38")].currentCamera.matrixWorldInverse,_.matrixWorld)}},ShowLevel:x[_0x1d97("0xe5a")],isMarker:!0,scale:x.scale_},x.style_),x[_0x1d97("0xa3")].initY_=x.z_}},{key:_0x1d97("0x26b"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0x26b")](x)}},{key:_0x1d97("0x26e"),value:function(){this[_0x1d97("0xa3")][_0x1d97("0x26e")]()}},{key:_0x1d97("0x5f3"),value:function(x){var d=this,_=d[_0x1d97("0xa3")][_0x1d97("0xe4d")],e=d[_0x1d97("0xa3")].height_,t=.3;x instanceof Object?(_=x[_0x1d97("0x328")],e=x[_0x1d97("0x1b5")],t=x[_0x1d97("0x2")](_0x1d97("0x255"))?x[_0x1d97("0x255")]:t):(_=x,e=x),d[_0x1d97("0xf38")]&&d[_0x1d97("0xf38")][_0x1d97("0x1af")]();var a=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(d[_0x1d97("0xa3")]).to({width_:_,height_:e},1e3*t)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1bc")]).onComplete((function(){})).start();d[_0x1d97("0xf38")]=a}},{key:"flash",value:function(x){return this[_0x1d97("0xa3")].flash(x)}},{key:_0x1d97("0x270"),value:function(){this[_0x1d97("0xa3")][_0x1d97("0x270")]()}},{key:_0x1d97("0x254"),value:function(x){this.created?this[_0x1d97("0xa3")]&&this[_0x1d97("0xa3")][_0x1d97("0x254")](x):this.hooks[_0x1d97("0x1")](this[_0x1d97("0xa3")][_0x1d97("0x254")][_0x1d97("0x11")](this[_0x1d97("0xa3")],x))}},{key:_0x1d97("0xb18"),get:function(){return this[_0x1d97("0xf73")]||this[_0x1d97("0xf2b")]},set:function(x){var d=this,_=function(){d[_0x1d97("0xa3")].setname(x),d[_0x1d97("0x3c9")]=d[_0x1d97("0x3c9")]||{},d[_0x1d97("0x3c9")][_0x1d97("0xb18")]=x,d[_0x1d97("0xf73")]=x};this[_0x1d97("0x22b")]?_():this[_0x1d97("0xf6e")][_0x1d97("0x1")](_)}},{key:_0x1d97("0xb8"),get:function(){if(this[_0x1d97("0x3c9")]&&this.opts_[_0x1d97("0xb8")])return this.opts_[_0x1d97("0xb8")]},set:function(x){this[_0x1d97("0x3c9")][_0x1d97("0xb8")]=x}},{key:_0x1d97("0xe7"),set:function(x){this[_0x1d97("0xa3")].center.set(x.x,x.y)}},{key:"fontsize",get:function(){if(this.style_&&this[_0x1d97("0xe40")].fontsize)return this.style_[_0x1d97("0xe19")]},set:function(x){this[_0x1d97("0xa3")].setfontsize(x),this.style_=this.style_||{},this[_0x1d97("0xe40")].fontsize=x}},{key:_0x1d97("0x48"),get:function(){return this[_0x1d97("0x3c9")][_0x1d97("0x173")]},set:function(x){this[_0x1d97("0x3c9")].image=x,this[_0x1d97("0xa3")][_0x1d97("0x184")][_0x1d97("0x173")]=x,this[_0x1d97("0xa3")][_0x1d97("0x144")]()}},{key:"fillcolor",get:function(){if(this[_0x1d97("0xe40")]&&this[_0x1d97("0xe40")].fillcolor)return this[_0x1d97("0xe40")][_0x1d97("0xe18")]},set:function(x){this[_0x1d97("0xa3")].setfillcolor(x),this[_0x1d97("0xe40")]=this.style_||{},this[_0x1d97("0xe40")][_0x1d97("0xe18")]=x}},{key:"strokecolor",get:function(){if(this[_0x1d97("0xe40")]&&this[_0x1d97("0xe40")][_0x1d97("0xe88")])return this.style_[_0x1d97("0xe88")]},set:function(x){this[_0x1d97("0xa3")].setfontstrokecolor(x),this[_0x1d97("0xe40")]=this[_0x1d97("0xe40")]||{},this.style_.strokecolor=x}},{key:_0x1d97("0x22"),get:function(){return this.style_}},{key:"visible",get:function(){return this[_0x1d97("0xf28")]},set:function(x){this[_0x1d97("0xa3")]&&(this[_0x1d97("0xa3")].forceVisible_=x,this[_0x1d97("0xa3")].visible=x)}},{key:"ID",get:function(){return this[_0x1d97("0xf32")]}}]),d}(esmap[_0x1d97("0x515")]);d[_0x1d97("0x1c")]=c},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(x){function d(x,_){(0,t[_0x1d97("0x1c")])(this,d);var a=(0,i[_0x1d97("0x1c")])(this,(d.__proto__||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,0,_,new(THREE[_0x1d97("0x150")]),x));return a[_0x1d97("0x14d")]=new(esmap[_0x1d97("0x51c")])(a.o3d_),a}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0xf78"),value:function(x){var d=x.value,_=[][_0x1d97("0x1de")](x.name),e=[][_0x1d97("0x1de")](x[_0x1d97("0x6a")]),t=[];this[_0x1d97("0x94c")].forEach((function(x){x[_0x1d97("0xb8")]&&_[_0x1d97("0xcc")](x[_0x1d97("0xb8")])&&t[_0x1d97("0x1")](x),x._type_&&e.includes(x[_0x1d97("0x94e")])&&t[_0x1d97("0x1")](x)})),t[_0x1d97("0x1d")]((function(x){x[_0x1d97("0xf0")]=d}))}},{key:"addLayer",value:function(x){this[_0x1d97("0x14d")][_0x1d97("0x190")](x)}},{key:"getOrCreateLayerByName",value:function(x,d){return this[_0x1d97("0x14d")].getOrCreateLayerByName(x,d)}},{key:_0x1d97("0x192"),value:function(x,d){return this[_0x1d97("0x14d")][_0x1d97("0x192")](x,d)}},{key:_0x1d97("0x193"),value:function(x,d){return this[_0x1d97("0x14d")][_0x1d97("0x193")](x,d)}},{key:_0x1d97("0x863"),value:function(x,d){return this[_0x1d97("0x14d")][_0x1d97("0x863")](x,d)}},{key:"getFirstLayer",value:function(x){return this[_0x1d97("0x14d")].getFirstLayer(x)}},{key:_0x1d97("0xf79"),value:function(x){this.layerManager.removeLayer(x)}},{key:_0x1d97("0xf7a"),value:function(x){this[_0x1d97("0x14d")][_0x1d97("0xf7a")](x)}},{key:_0x1d97("0xf7b"),value:function(x){this.layerManager[_0x1d97("0xf7b")](x)}},{key:_0x1d97("0xf7c"),value:function(x){x&&this[_0x1d97("0x184")][_0x1d97("0xad8")]&&x[_0x1d97("0x85c")](this[_0x1d97("0x184")][_0x1d97("0xad8")])}},{key:"removeHeatMap",value:function(x){x&&this.data_.floornum&&x[_0x1d97("0x86a")](this[_0x1d97("0x184")].floornum)}},{key:_0x1d97("0xb4"),value:function(x){this[_0x1d97("0x14d")][_0x1d97("0xb4")](x)}},{key:"FloorNum",get:function(){return this[_0x1d97("0x184")][_0x1d97("0xad8")]}},{key:_0x1d97("0xf7d"),get:function(){return this[_0x1d97("0x184")].Alias}},{key:_0x1d97("0xf7e"),get:function(){return this.data_[_0x1d97("0xb8")]}},{key:_0x1d97("0xf7f"),get:function(){return this[_0x1d97("0x184")].Elevation}},{key:_0x1d97("0xf80"),get:function(){return this[_0x1d97("0x184")][_0x1d97("0xd56")]}},{key:"mapCoord",get:function(){return new(esmap[_0x1d97("0x3cc")])(this[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0xe7")].x,this[_0x1d97("0x16c")][_0x1d97("0x38")][_0x1d97("0xe7")].y,this[_0x1d97("0xa3")][_0x1d97("0xed6")][_0x1d97("0xd16")])}},{key:_0x1d97("0x94c"),get:function(){return this[_0x1d97("0x14d")].layers}},{key:_0x1d97("0xe5"),get:function(){return this.parent.id}}]),d}(esmap[_0x1d97("0x515")]);d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=i(_(0)),t=i(_(1)),a=_(11);function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xa3")]=d}return(0,t[_0x1d97("0x1c")])(x,[{key:"addLayer",value:function(x){!x instanceof esmap.ESLayer?console[_0x1d97("0x3fb")](_0x1d97("0xf81")):this[_0x1d97("0xa3")][_0x1d97("0xdc")](x[_0x1d97("0xa3")])}},{key:"getOrCreateLayerByName",value:function(x,d){var _=this[_0x1d97("0x193")](x);if(0==_[_0x1d97("0x0")]){switch(d){case"imageMarker":_=new esmap.ESLayer(esmap[_0x1d97("0x168")][_0x1d97("0x9fb")]);break;case _0x1d97("0xf77"):_=new esmap.ESLayer(esmap[_0x1d97("0x168")].TEXT_MARKER);break;case _0x1d97("0x4e7"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x98f")]);break;case _0x1d97("0xf82"):_=new(esmap[_0x1d97("0x167")])(esmap.ESLayerType[_0x1d97("0xf83")]);case _0x1d97("0x224"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].MODEL3D);break;case _0x1d97("0x223"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x574")]);break;case _0x1d97("0x4ef"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x950")]);break;case _0x1d97("0xf84"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0xf85")]);break;case _0x1d97("0xf86"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0xf87")]);break;case _0x1d97("0xf88"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0xf89")]);break;case _0x1d97("0x4ea"):_=new esmap.ESLayer(esmap.ESLayerType[_0x1d97("0xf8a")]);break;case _0x1d97("0x4e9"):_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x991")])}_[_0x1d97("0xb8")]=x,this[_0x1d97("0x190")](_)}else _=_[0];return _}},{key:"getLayersByTypes",value:function(x,d){x=[].concat(x);for(var _=!1,e=[],t=0;t<this[_0x1d97("0x94c")][_0x1d97("0x0")];t++){var a=this[_0x1d97("0x94c")][t];if(a[_0x1d97("0x94e")]&&x[_0x1d97("0xd7")](a[_0x1d97("0x94e")])>-1&&(d&&(_=d(a,a[_0x1d97("0x94e")])),e[_0x1d97("0x1")](a)),_)return 0==e[_0x1d97("0x0")]?null:1==e[_0x1d97("0x0")]?e[0]:e}return e}},{key:_0x1d97("0x193"),value:function(x,d){x=[][_0x1d97("0x1de")](x);for(var _=[],e=0;e<this[_0x1d97("0x94c")].length;e++){var t=this[_0x1d97("0x94c")][e];t.name&&x[_0x1d97("0xd7")](t[_0x1d97("0xb8")])>-1&&(d&&d(t,t[_0x1d97("0xb8")])&&e--,_[_0x1d97("0x1")](t))}return _}},{key:_0x1d97("0x863"),value:function(x,d){var _=[];return this[_0x1d97("0x192")](x,(function(x){if(null!=d)for(var e=x[_0x1d97("0xa3")][_0x1d97("0xa4")],t=0;t<e;t++)d(x[_0x1d97("0xa3")][_0x1d97("0xa4")][t])&&_.push(x.o3d_[_0x1d97("0xa4")][t]);else _[_0x1d97("0x1")][_0x1d97("0x5")](_,x[_0x1d97("0xa3")].children)})),_}},{key:_0x1d97("0xf8b"),value:function(x){var d=this[_0x1d97("0x192")](x);return d?d[_0x1d97("0x0")]?d[0]:d:null}},{key:_0x1d97("0xf79"),value:function(x){x[_0x1d97("0xa3")][_0x1d97("0xf0")]=!1;for(var d=0;x[_0x1d97("0xa3")][_0x1d97("0xa4")].length>d;){var _=x[_0x1d97("0xa3")][_0x1d97("0xa4")][d];_.em&&_.em.dispose?_.em[_0x1d97("0xa6")]():d++}this[_0x1d97("0xa3")][_0x1d97("0x149")](x[_0x1d97("0xa3")])}},{key:"removeLayersByTypes",value:function(x){for(var d=[][_0x1d97("0x1de")](x),_=0;_<this[_0x1d97("0x94c")][_0x1d97("0x0")];_++){var e=this[_0x1d97("0x94c")][_];if(e._type_&&(0,a[_0x1d97("0xbe")])(d,e[_0x1d97("0x94e")])){e[_0x1d97("0xa3")][_0x1d97("0xf0")]=!1;for(var t=0;e[_0x1d97("0xa3")][_0x1d97("0xa4")][_0x1d97("0x0")]>t;){var i=e[_0x1d97("0xa3")][_0x1d97("0xa4")][t];i.em&&i.em[_0x1d97("0xa6")]?i.em[_0x1d97("0xa6")]():t++}this[_0x1d97("0xa3")][_0x1d97("0x149")](e[_0x1d97("0xa3")]),_--}}}},{key:_0x1d97("0xf7b"),value:function(x){for(var d=[][_0x1d97("0x1de")](x),_=0;_<this[_0x1d97("0x94c")][_0x1d97("0x0")];_++){var e=this[_0x1d97("0x94c")][_];if(e[_0x1d97("0xb8")]&&(0,a[_0x1d97("0xbe")])(d,e[_0x1d97("0xb8")])){e[_0x1d97("0xa3")][_0x1d97("0xf0")]=!1;for(var t=0;e[_0x1d97("0xa3")][_0x1d97("0xa4")][_0x1d97("0x0")]>t;){var i=e[_0x1d97("0xa3")][_0x1d97("0xa4")][t];i.em&&i.em[_0x1d97("0xa6")]?i.em[_0x1d97("0xa6")]():t++}this[_0x1d97("0xa3")][_0x1d97("0x149")](e[_0x1d97("0xa3")]),_--}}}},{key:"applyHeatMap",value:function(x){x&&this.data_.floornum&&x.renderToFloor(this)}},{key:_0x1d97("0xf8c"),value:function(x){x&&this.data_[_0x1d97("0xad8")]&&x.disposeHeatMap(this[_0x1d97("0x184")][_0x1d97("0xad8")])}},{key:_0x1d97("0xb4"),value:function(x){return this[_0x1d97("0xf8d")](x,this[_0x1d97("0xa3")],!1)}},{key:_0x1d97("0xf8d"),value:function(x,d,_){if(d.datas_&&(_=x(d[_0x1d97("0xa2")])),_)return!0;for(var e=0;e<d[_0x1d97("0xa4")][_0x1d97("0x0")];e++){if(this[_0x1d97("0xf8d")](x,d[_0x1d97("0xa4")][e],_))return!0}}},{key:"mapCoord",get:function(){return new(esmap[_0x1d97("0x3cc")])(-this[_0x1d97("0x16c")].sceneX_,this.mapScene[_0x1d97("0x19a")],this[_0x1d97("0xa3")].meta_[_0x1d97("0xd16")])}},{key:_0x1d97("0x94c"),get:function(){for(var x=[],d=0;d<this.o3d_.children[_0x1d97("0x0")];d++){var _=this[_0x1d97("0xa3")][_0x1d97("0xa4")][d][_0x1d97("0xa2")];_&&x[_0x1d97("0x1")](_)}return x}}]),x}();d.default=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=r(_(4)),t=r(_(0)),a=r(_(1)),i=r(_(5)),n=r(_(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=0,o=function(x){function d(x,_){(0,t[_0x1d97("0x1c")])(this,d);var a=(0,i.default)(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,0,_,new(THREE[_0x1d97("0x150")])));switch(a[_0x1d97("0x94e")]=x||esmap[_0x1d97("0x168")][_0x1d97("0x9f8")],a[_0x1d97("0xb8")]="",x){case esmap[_0x1d97("0x168")][_0x1d97("0x9fb")]:case esmap[_0x1d97("0x168")][_0x1d97("0x9fc")]:a[_0x1d97("0xa3")][_0x1d97("0x16a")]=new esmap.ESMapBoxCollision,a[_0x1d97("0xedb")]=!1;break;case esmap.ESLayerType[_0x1d97("0x574")]:break;case esmap[_0x1d97("0x168")][_0x1d97("0xf8e")]:case esmap[_0x1d97("0x168")][_0x1d97("0x94f")]:case esmap[_0x1d97("0x168")][_0x1d97("0x169")]:a.requireCollide_=!0;case esmap[_0x1d97("0x168")][_0x1d97("0xf8a")]:}if(a[_0x1d97("0x94e")]==esmap.ESLayerType[_0x1d97("0x9fc")]||a._type_==esmap.ESLayerType[_0x1d97("0x9fb")]||a[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x169")]||a[_0x1d97("0x94e")]==esmap[_0x1d97("0x168")][_0x1d97("0x94f")]){var n=esmap[_0x1d97("0x33")].instance;n.on(_0x1d97("0x11d"),(function(){"3D"!=n[_0x1d97("0x890")]?a.o3d_.position.y=.2:n[_0x1d97("0x280")][_0x1d97("0x8d9")]()<=.11689?a.o3d_[_0x1d97("0xb6")].y=.2:a[_0x1d97("0xa3")].position.y=0}))}return a[_0x1d97("0xf34")]=null,a}return(0,n.default)(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x28c"),value:function(){this[_0x1d97("0xedb")]=!0}},{key:_0x1d97("0xf8f"),value:function(){this[_0x1d97("0xedb")]=!1}},{key:_0x1d97("0xc20"),value:function(x){var d=esmap[_0x1d97("0x33")].instance,_=x,e=this;if(this[_0x1d97("0xf90")](_[_0x1d97("0xc7")]))switch(_[_0x1d97("0xc7")]){case esmap[_0x1d97("0xea")].IMAGE_MARKER:var t=_[_0x1d97("0xe5")];this[_0x1d97("0xa3")][_0x1d97("0xdc")](_[_0x1d97("0xa3")]),d[_0x1d97("0x146")][_0x1d97("0x188")](_[_0x1d97("0xa3")],t||_0x1d97("0xf7"));break;case esmap.ESNodeType[_0x1d97("0x9fc")]:t=_[_0x1d97("0xe5")];this[_0x1d97("0xa3")][_0x1d97("0xdc")](_[_0x1d97("0xa3")]),d[_0x1d97("0x146")][_0x1d97("0x188")](_[_0x1d97("0xa3")],t||_0x1d97("0xf7"));break;case esmap[_0x1d97("0xea")][_0x1d97("0xf8a")]:this[_0x1d97("0xa3")].add(_[_0x1d97("0xa3")]),d.mapPicker[_0x1d97("0x188")](_[_0x1d97("0xa3")],t||_0x1d97("0xf7"));break;case esmap[_0x1d97("0xea")][_0x1d97("0x221")]:var a=d.getUserScene()[_0x1d97("0x14f")],i=!1;if(d[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]&&(d[_0x1d97("0x2aa")][_0x1d97("0x424")]("sk")&&d[_0x1d97("0x35")][_0x1d97("0x20f")]||(d[_0x1d97("0x2aa")].getState("ul")>>1&1||0)<1&&(console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")][_0x1d97("0xf91")]),i=!0)),i&&!d[_0x1d97("0x2aa")]._em)return void console[_0x1d97("0x2ac")](esmap[_0x1d97("0x2ad")][_0x1d97("0xf91")]);e[_0x1d97("0xf92")]=a,e[_0x1d97("0xf93")](_,e),e[_0x1d97("0xf92")].queueRanked=!1,s++;break;case esmap[_0x1d97("0xea")][_0x1d97("0xf87")]:this[_0x1d97("0xa3")][_0x1d97("0xdc")](_[_0x1d97("0xa3")]),d[_0x1d97("0x146")].addObject(_.o3d_);break;case esmap[_0x1d97("0xea")].POLYGON_MARKER:this.o3d_[_0x1d97("0xdc")](_[_0x1d97("0xa3")]);break;case esmap.ESNodeType.BOARD_MARKER:if((d.mapService[_0x1d97("0x165")].o1||0)<=1)return;this.o3d_[_0x1d97("0xdc")](_),_[_0x1d97("0xa2")]={name:"boardMark",nodeType:esmap[_0x1d97("0xea")][_0x1d97("0xf89")]},d.on(_0x1d97("0x11d"),(function(){_.updateScreenSize()}))}else console[_0x1d97("0x2ac")](_0x1d97("0xf94"));_[_0x1d97("0xf4d")]&&_[_0x1d97("0xf4d")]()}},{key:_0x1d97("0xf95"),value:function(){var x=this.o3d_[_0x1d97("0x3d9")];this[_0x1d97("0xf92")].userModelLoadStatus[x]=!0}},{key:_0x1d97("0xb8e"),value:function(){var x=esmap[_0x1d97("0x33")][_0x1d97("0x34")].mapService[_0x1d97("0xc29")]||0;return s>x||0==x}},{key:"load3dmarker",value:function(x,d){var _=d[_0x1d97("0xa3")].uuid;this.loadManger[_0x1d97("0xb77")]({data:x[_0x1d97("0x35d")],model:x[_0x1d97("0x223")],name:x[_0x1d97("0xb8")],scale:x.scale,rotation:x[_0x1d97("0x257")],merge:x[_0x1d97("0xbf")],layerid:_,url:x[_0x1d97("0x48")],seeThrough:x[_0x1d97("0x128")],showLevel:x[_0x1d97("0x22c")],position:x[_0x1d97("0xb6")],parent:d[_0x1d97("0xa3")],marker:x,id:x.ID,bclick:x.clickable||!1,spritify:x[_0x1d97("0xe9d")],onError:x.onError,callback:x[_0x1d97("0x1c2")]})}},{key:_0x1d97("0xf96"),value:function(x){for(var d=this[_0x1d97("0xa3")][_0x1d97("0xa4")],_=esmap[_0x1d97("0x33")][_0x1d97("0x34")][_0x1d97("0x280")].target,e=0;e<d[_0x1d97("0x0")];e++){var t=d[e];t.position[_0x1d97("0x25d")](_)>x?(t[_0x1d97("0xf28")]=!1,t[_0x1d97("0xf0")]=!1):(t[_0x1d97("0xf28")]=!0,t[_0x1d97("0xf0")]=!0)}}},{key:_0x1d97("0xf97"),value:function(x){var d=this,_=x[_0x1d97("0xf35")],e=x[_0x1d97("0xf1")],t=(this.o3d_.children,_),a=esmap[_0x1d97("0x33")].instance,i=!1;this.viewRadius=e,this[_0x1d97("0xf35")]=_,a.on("zoomed",(function(x){x>=t?1!=i&&(i=!0,d[_0x1d97("0xf96")](e)):0!=i&&(i=!1,d[_0x1d97("0xf96")](1/0))}));var n=null;a.on("controlUpdated",(function(){if(a[_0x1d97("0x155")]>=t&&(i||(i=!0)),i){var x=a[_0x1d97("0x280")].target,_={x:1*x.x[_0x1d97("0x55f")](1),y:1*x.z[_0x1d97("0x55f")](1)};n&&n.x==_.x&&n.y==_.y||d.checkViewRadius(e),n=_}}))}},{key:_0x1d97("0xf90"),value:function(x){var d=this[_0x1d97("0x94e")],_=null;for(var e in esmap[_0x1d97("0x168")])if(esmap[_0x1d97("0x168")][e]==d){_=e;break}return esmap.ESNodeType[_]==x||(console.info(_0x1d97("0xf98")),!1)}},{key:_0x1d97("0xdc"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xdc")](x[_0x1d97("0xa3")])}},{key:_0x1d97("0x149"),value:function(x){x[_0x1d97("0xa6")]()}},{key:_0x1d97("0x69d"),value:function(){for(var x=0;this[_0x1d97("0xa3")].children[_0x1d97("0x0")]>x;){var d=this[_0x1d97("0xa3")].children[x];d.datas_&&d[_0x1d97("0xa2")].dispose?d[_0x1d97("0xa2")][_0x1d97("0xa6")]():x++}}},{key:_0x1d97("0xb4"),value:function(x){return this.traverse_(x,this[_0x1d97("0xa3")],!1)}},{key:"traverse_",value:function(x,d,_){if(d[_0x1d97("0xa2")]&&(_=x(d[_0x1d97("0xa2")])),_)return!0;for(var e=0;e<d.children[_0x1d97("0x0")];e++){if(this[_0x1d97("0xf8d")](x,d[_0x1d97("0xa4")][e],_))return!0}}},{key:_0x1d97("0xf99"),get:function(){return esmap[_0x1d97("0x33")][_0x1d97("0x34")].mapScene.loadqueue}}]),d}(esmap.ESNode);d[_0x1d97("0x1c")]=o},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=a(_(2)),t=a(_(0));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}d[_0x1d97("0x1c")]=function x(d){(0,t.default)(this,x);var _=esmap[_0x1d97("0x75")][_0x1d97("0x42a")]().isPC;(0,e[_0x1d97("0x1c")])(this,d),this[_0x1d97("0xa5f")]=d&&d[_0x1d97("0xa5f")]?d[_0x1d97("0xa5f")]:_?esmap[_0x1d97("0x505")][_0x1d97("0xf9a")]:esmap[_0x1d97("0x505")][_0x1d97("0xf9b")],this[_0x1d97("0xb6")]=d&&d.position?d.position:null,this[_0x1d97("0xf9c")]=d&&d.allLayer?d[_0x1d97("0xf9c")]:null,this.offset=d&&d[_0x1d97("0x113")]?d[_0x1d97("0x113")]:_?new esmap.ESControlOffset(20,50):new(esmap[_0x1d97("0x51e")])(10,10),this[_0x1d97("0xf9d")]=d&&d[_0x1d97("0xf9d")]?d[_0x1d97("0xf9d")]:"image/wedgets/",this[_0x1d97("0xf9e")]=d&&d.hasOwnProperty(_0x1d97("0xf9e"))?d.expandSpan:10}},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e,t=_(0),a=(e=t)&&e[_0x1d97("0xb")]?e:{default:e};d[_0x1d97("0x1c")]=function x(d,_){(0,a[_0x1d97("0x1c")])(this,x),this.x=d||0,this.y=_||0}},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=r(_(2)),t=r(_(0)),a=r(_(1)),i=_(19),n=_(73);function r(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var s=function(){function x(d,_){var a=this;(0,t[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x38")]=d,this[_0x1d97("0xf9f")]=null,this[_0x1d97("0xfa0")]=!1,this[_0x1d97("0xfa1")]={},this.isTapping=!1,this.tapCount=!1,this[_0x1d97("0xfa2")]=!1,this.building=null;var i=new(esmap[_0x1d97("0x51d")])(_);if((0,e[_0x1d97("0x1c")])(i,{scale:null,textColor:"#252c41",toggleColor:"#1F6ED4",bgColor:"#FFF",focusTextColor:_0x1d97("0xec4"),focusBgColor:_0x1d97("0xfa3"),showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this[_0x1d97("0x38")][_0x1d97("0x36")]!=esmap[_0x1d97("0x3a")][_0x1d97("0x3b")],viewModeBtn:this.map.mode!=esmap[_0x1d97("0x3a")][_0x1d97("0x3b")],expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0,onUpdated:null},_),i[_0x1d97("0xb6")]=i[_0x1d97("0xb6")]||2,i.showBtnCount>5&&(i[_0x1d97("0xfa4")]=5),this[_0x1d97("0x3d0")]=i,this[_0x1d97("0x219")]=esmap.ESMapUtil[_0x1d97("0x42a")]()[_0x1d97("0x219")],this.top=20,this[_0x1d97("0x3a5")]=10,this[_0x1d97("0x648")]=10,this[_0x1d97("0xfa5")]=!1,this[_0x1d97("0xfa6")]=!1,d.on(_0x1d97("0x9c8"),(function(){a.dispose()})),d.on(_0x1d97("0x9f2"),(function(x){if(2==x.bType&&x[_0x1d97("0xe5")]){var _=d.getBuildingById(x[_0x1d97("0xe5")]);a.building&&a[_0x1d97("0x4b")].id==x[_0x1d97("0xe5")]&&a[_0x1d97("0xfa5")]?a[_0x1d97("0x11d")](_):a[_0x1d97("0x4b")]||a[_0x1d97("0x11d")](_)}})),d[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].City)d.on(_0x1d97("0x918"),(function(x){a[_0x1d97("0x11d")](x)}));else{var n=d[_0x1d97("0x578")]();n&&this[_0x1d97("0x11d")](n)}}return(0,a[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x11d"),value:function(x){var d=this[_0x1d97("0x3d0")];this[_0x1d97("0xfa7")]&&this[_0x1d97("0x38")][_0x1d97("0x16d")].rendererCss2D[_0x1d97("0x63c")][_0x1d97("0x39a")](this[_0x1d97("0xfa7")]),this[_0x1d97("0x4b")]=x;var _=x[_0x1d97("0x584")].length;_>=3&&d[_0x1d97("0xfa4")]<3&&(d[_0x1d97("0xfa4")]=3),_<d[_0x1d97("0xfa4")]&&(d[_0x1d97("0xfa4")]=_),4==d.showshowBtnCount&&(d[_0x1d97("0xfa8")]=3),_<=2&&(d[_0x1d97("0xfa9")]=!1);d.size||(d[_0x1d97("0xa5f")]=this[_0x1d97("0x219")]?_0x1d97("0xf9"):_0x1d97("0x506"));var e={small:42,normal:42}[d[_0x1d97("0xa5f")]]||d[_0x1d97("0xa5f")];this.buttonSize=e,this.init()}},{key:_0x1d97("0x24c"),value:function(x){var d=this[_0x1d97("0x3d0")].offset.x,_=this.configs.offset.y,e=this[_0x1d97("0x3d0")][_0x1d97("0xb6")];switch(x.style[_0x1d97("0x3a6")]=_0x1d97("0xaa6"),x[_0x1d97("0x22")][_0x1d97("0x3a5")]="unset",x.style[_0x1d97("0x648")]=_0x1d97("0xaa6"),e){case 1:x[_0x1d97("0x22")][_0x1d97("0x3a6")]=_+"px",x.style[_0x1d97("0x3a5")]=d+"px";break;case 2:x[_0x1d97("0x22")][_0x1d97("0x16f")]=_+"px",x[_0x1d97("0x22")][_0x1d97("0x3a5")]=d+"px";break;case 3:x[_0x1d97("0x22")].top=_+"px",x[_0x1d97("0x22")][_0x1d97("0x648")]=d+"px";break;case 4:x[_0x1d97("0x22")][_0x1d97("0x16f")]=_+"px",x.style[_0x1d97("0x648")]=d+"px"}}},{key:"updateStyle",value:function(x){var d={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},_=[{keys:[],getStyle:function(){return _0x1d97("0xfaa")+t+" .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    "}},{keys:[_0x1d97("0x878"),_0x1d97("0xc3b")],getStyle:function(){return _0x1d97("0xfab")+t+_0x1d97("0xfac")+t+_0x1d97("0xfad")+t+_0x1d97("0xfae")+i[_0x1d97("0x878")]+_0x1d97("0xfaf")+i[_0x1d97("0xc3b")]+_0x1d97("0xfb0")}},{keys:[_0x1d97("0xfb1")],getStyle:function(){return _0x1d97("0xfb2")+t+_0x1d97("0xfb3")+i[_0x1d97("0xfb1")]+_0x1d97("0xfb4")}},{keys:[_0x1d97("0xfb5")],getStyle:function(){return"."+t+_0x1d97("0xfb6")+t+_0x1d97("0xfb7")+t+" .view2d, ."+t+_0x1d97("0xfb8")+t+" .exit{\n                        fill: "+i[_0x1d97("0xfb5")]+_0x1d97("0xfb9")}},{keys:[_0x1d97("0xfba"),_0x1d97("0xfbb")],getStyle:function(){return _0x1d97("0xfaa")+t+_0x1d97("0xfbc")+i[_0x1d97("0xfba")]+_0x1d97("0xfbd")+i[_0x1d97("0xfbb")]+_0x1d97("0xfb4")}},{keys:[_0x1d97("0xfbe")],getStyle:function(){return _0x1d97("0xfaa")+t+" .layersToggle , ."+t+_0x1d97("0xfbf")+i.marginBottom+"px;\n                    }\n                    "}},{keys:["textSize"],getStyle:function(){return _0x1d97("0xfaa")+t+_0x1d97("0xfc0")+i[_0x1d97("0xb12")]+_0x1d97("0xfc1")}},{keys:["focusBgColor"],getStyle:function(){return _0x1d97("0xfaa")+t+_0x1d97("0xfc2")+i[_0x1d97("0xfba")]+_0x1d97("0xfb4")}}],t=this[_0x1d97("0xfc3")];(0,e[_0x1d97("0x1c")])(this[_0x1d97("0x3d0")],x);var a=[],i=this[_0x1d97("0x3d0")];for(var n in x)if(d[n]){var r=[][_0x1d97("0x1de")](d[n]);for(var s in r){var o=r[s];if(!a[_0x1d97("0xcc")](o)){var c=_[o][_0x1d97("0xfc4")]();this.styleSheet[_0x1d97("0xfc5")](o),this.styleSheet.insertRule(c,o),a[_0x1d97("0x1")](o)}}}}},{key:_0x1d97("0xfc6"),value:function(x){2==x||(this[_0x1d97("0xfc7")][_0x1d97("0x22")][_0x1d97("0x3a6")]=_0x1d97("0xaa6"));var d=this[_0x1d97("0xfc8")];this[_0x1d97("0x3d0")][_0x1d97("0xfa9")]&&(this[_0x1d97("0xfc9")][_0x1d97("0x22")][_0x1d97("0x1b5")]=x*d-0+"px"),this[_0x1d97("0x3d0")][_0x1d97("0xfa4")]=x}},{key:_0x1d97("0xa6"),value:function(){this[_0x1d97("0xfa7")]&&(this.map.mapView.rendererCss2D[_0x1d97("0x63c")][_0x1d97("0x39a")](this.$box),this[_0x1d97("0xfa7")]=null),this[_0x1d97("0xfa5")]=!0,this[_0x1d97("0x4b")]=null}},{key:_0x1d97("0xfca"),value:function(x){var d=this,_=this[_0x1d97("0xfc8")];this.$expands={};var e=document[_0x1d97("0x21")](_0x1d97("0x327"));e[_0x1d97("0x22")].width=_+"px",e[_0x1d97("0x22")].height=_+"px",e.style[_0x1d97("0x32e")]=_0x1d97("0xfcb"),e[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),e[_0x1d97("0x22")].boxSizing=_0x1d97("0xfce"),e[_0x1d97("0x3b4")]=_0x1d97("0xfcf"),e[_0x1d97("0x22")][_0x1d97("0x32a")]="flex",e[_0x1d97("0x22")][_0x1d97("0x32c")]="center",e.style[_0x1d97("0xfd0")]=_0x1d97("0xfd1");var t=document[_0x1d97("0x21")](_0x1d97("0x327"));t[_0x1d97("0x22")][_0x1d97("0x328")]="100%",t[_0x1d97("0x22")][_0x1d97("0x1b5")]=_0x1d97("0x329"),t[_0x1d97("0x3b4")]=_0x1d97("0xfd2"),t.style[_0x1d97("0x32a")]=_0x1d97("0xfd3"),t[_0x1d97("0x331")]=this[_0x1d97("0xfd4")],e[_0x1d97("0x25")](t),this[_0x1d97("0xfd5")]=t;var a=document[_0x1d97("0x21")](_0x1d97("0x327"));a[_0x1d97("0x22")][_0x1d97("0x328")]="100%",a[_0x1d97("0x22")].height="100%",a[_0x1d97("0x22")][_0x1d97("0x32a")]="none",a[_0x1d97("0x331")]=this.iconShrink,a.className=_0x1d97("0xfd6"),this.shrinkIcon=a,e[_0x1d97("0x25")](a),e[_0x1d97("0x30")](_0x1d97("0x696"),(function(x){x.stopPropagation(),x[_0x1d97("0x37d")]()})),e.addEventListener(_0x1d97("0x698"),(function(x){x.stopPropagation(),x[_0x1d97("0x37d")](),d[_0x1d97("0xfd7")]()})),e[_0x1d97("0x30")](_0x1d97("0xac4"),(function(x){d.toggleExpanded()})),x[_0x1d97("0x25")](e),this.$expandToggle=e}},{key:_0x1d97("0xfd7"),value:function(){this[_0x1d97("0xfc8")];this.expanded?(this[_0x1d97("0x4b")][_0x1d97("0xfd8")](0),this.expandIcon[_0x1d97("0x22")].display="inline-block",this.shrinkIcon.style[_0x1d97("0x32a")]="none"):(this.building[_0x1d97("0xfd8")](this[_0x1d97("0x3d0")][_0x1d97("0xf9e")]),this[_0x1d97("0xfd5")][_0x1d97("0x22")][_0x1d97("0x32a")]="none",this.shrinkIcon[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0xfd3")),this[_0x1d97("0xfa6")]=!this.expanded}},{key:_0x1d97("0x32"),value:function(){var x=this,d=this[_0x1d97("0x38")],_=this[_0x1d97("0x4b")];this[_0x1d97("0xfd9")]='<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>',this.icon3d=_0x1d97("0xfda"),this.iconLayer='<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>',this[_0x1d97("0xfdb")]='<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',this[_0x1d97("0xfdc")]=_0x1d97("0xfdd"),this.iconExpand=_0x1d97("0xfde"),this[_0x1d97("0xfdf")]=_0x1d97("0xfe0"),this[_0x1d97("0xfe1")]=_0x1d97("0xfe2");var e=_[_0x1d97("0x584")][_0x1d97("0x41c")]((function(x,d){return x-d})),t=this[_0x1d97("0x3d0")];t[_0x1d97("0xfa9")]||(e=_.floorNums.sort((function(x,d){return d-x})));var a=this.buttonSize,n="F"+(0,i[_0x1d97("0x1b")])(5),r=document.createElement(_0x1d97("0x22"));r[_0x1d97("0x6a")]="text/css",r[_0x1d97("0x331")]=_0x1d97("0xfe3")+n+_0x1d97("0xfe4")+n+" .layersToggle , ."+n+_0x1d97("0xfad")+n+_0x1d97("0xfe5")+t.bgColor+_0x1d97("0xfe6")+t[_0x1d97("0xc3b")]+_0x1d97("0xfe7")+n+_0x1d97("0xfe8")+t[_0x1d97("0xfb1")]+_0x1d97("0xfe9")+n+_0x1d97("0xfb6")+n+_0x1d97("0xfb7")+n+" .view2d, ."+n+_0x1d97("0xfea")+n+_0x1d97("0xfeb")+t.toggleColor+_0x1d97("0xfe9")+n+_0x1d97("0xfec")+t[_0x1d97("0xfba")]+_0x1d97("0xfed")+t.focusTextColor+";\n        }\n        ."+n+_0x1d97("0xfac")+n+_0x1d97("0xfee")+t.marginBottom+_0x1d97("0xfef")+n+" .floor-item-devide{\n            font-size: "+t.textSize+_0x1d97("0xfef")+n+_0x1d97("0xff0")+t.focusBgColor+_0x1d97("0xff1"),this[_0x1d97("0xfc3")]=n,document.querySelector(_0x1d97("0xff2")).appendChild(r),this[_0x1d97("0xff3")]=r.sheet;var s=document[_0x1d97("0x21")](_0x1d97("0x327"));s[_0x1d97("0x3b4")]=n,s[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x638"),s.style[_0x1d97("0x65f")]=_0x1d97("0xff4"),s[_0x1d97("0x22")].display="block",s[_0x1d97("0x22")][_0x1d97("0x330")]=_0x1d97("0xfce"),t[_0x1d97("0x237")]&&(s[_0x1d97("0x22")].transform=_0x1d97("0xff5")+t[_0x1d97("0x237")]+")"),s.addEventListener("mousewheel",(function(x){x[_0x1d97("0x1e0")]()}));var o=document[_0x1d97("0x21")]("div");o[_0x1d97("0x22")].width=a+"px",o[_0x1d97("0x22")][_0x1d97("0x1b5")]=a+"px",o.style[_0x1d97("0x32e")]=_0x1d97("0xfcb"),o[_0x1d97("0x22")][_0x1d97("0xfcc")]="pointer",o[_0x1d97("0x22")].boxSizing=_0x1d97("0xfce"),o.className=_0x1d97("0xfcf");var c=_.visibleFloorNums[_0x1d97("0x0")]==_[_0x1d97("0x584")][_0x1d97("0x0")];_[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]?x[_0x1d97("0xff6")]=c:2==_[_0x1d97("0x38")].options[_0x1d97("0xc7a")]&&(x[_0x1d97("0xff6")]=!0);var l=document[_0x1d97("0x21")]("div");l[_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x329"),l[_0x1d97("0x22")].height=_0x1d97("0x329"),l[_0x1d97("0x3b4")]=_0x1d97("0x94c"),l.style.display=_0x1d97(c?"0xfd3":"0x4e2"),l[_0x1d97("0x331")]=this[_0x1d97("0xfdb")],o[_0x1d97("0x25")](l),this[_0x1d97("0xff7")]=o,this[_0x1d97("0xff8")]=l;var u=document[_0x1d97("0x21")]("div");u.style[_0x1d97("0x328")]=_0x1d97("0x329"),u[_0x1d97("0x22")][_0x1d97("0x1b5")]="100%",u.style[_0x1d97("0x32a")]=c?"none":_0x1d97("0xfd3"),u[_0x1d97("0x331")]=this[_0x1d97("0xff9")],u.className=_0x1d97("0xcb0");var f=1==e[_0x1d97("0x0")];o[_0x1d97("0x25")](u),this[_0x1d97("0xffa")]=u,o[_0x1d97("0x30")](_0x1d97("0x696"),(function(x){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")]()})),o[_0x1d97("0x30")]("mouseup",(function(d){x[_0x1d97("0xffb")]||(d[_0x1d97("0x37d")](),d[_0x1d97("0x1e0")](),x[_0x1d97("0xffc")](!x[_0x1d97("0xff6")]))})),o.addEventListener(_0x1d97("0xacb"),(function(d){x.isTapping||(d.preventDefault(),d[_0x1d97("0x1e0")]())})),o[_0x1d97("0x30")](_0x1d97("0xac4"),(function(d){d[_0x1d97("0x37d")](),d[_0x1d97("0x1e0")](),x.setAllFloorState(!x[_0x1d97("0xff6")])})),f&&(o.style.display=_0x1d97("0x4e2")),this[_0x1d97("0xffd")]=d[_0x1d97("0x890")];var h=document[_0x1d97("0x21")](_0x1d97("0x327"));h[_0x1d97("0x22")].width=a+"px",h[_0x1d97("0x22")].height=a+"px",h.style[_0x1d97("0x32e")]=_0x1d97("0xfcb"),h[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),h[_0x1d97("0x22")][_0x1d97("0x330")]=_0x1d97("0xfce"),h[_0x1d97("0x3b4")]=_0x1d97("0xffe");var b="2D"==this[_0x1d97("0xffd")],g=document[_0x1d97("0x21")](_0x1d97("0x327"));g.style[_0x1d97("0x328")]=_0x1d97("0x329"),g.style.height=_0x1d97("0x329"),g.className="view2d",g[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97(b?"0xfd3":"0x4e2"),g[_0x1d97("0x331")]=this[_0x1d97("0xfd9")],h[_0x1d97("0x25")](g),this[_0x1d97("0xfd2")]=g;var v=document[_0x1d97("0x21")]("div");v[_0x1d97("0x22")][_0x1d97("0x328")]="100%",v[_0x1d97("0x22")][_0x1d97("0x1b5")]=_0x1d97("0x329"),v[_0x1d97("0x22")][_0x1d97("0x32a")]=b?_0x1d97("0x4e2"):"inline-block",v[_0x1d97("0x331")]=this[_0x1d97("0xfff")],v[_0x1d97("0x3b4")]=_0x1d97("0xfd6"),h[_0x1d97("0x25")](v),this.view3d=v,h[_0x1d97("0x30")](_0x1d97("0x696"),(function(x){x[_0x1d97("0x37d")](),x.stopPropagation()})),h.addEventListener(_0x1d97("0x698"),(function(d){x[_0x1d97("0xffb")]||(d[_0x1d97("0x37d")](),d.stopPropagation(),x.toggleViewModeState())})),h[_0x1d97("0x30")](_0x1d97("0xacb"),(function(d){x[_0x1d97("0xffb")]||(d[_0x1d97("0x37d")](),d[_0x1d97("0x1e0")]())})),h.addEventListener("touchend",(function(d){d[_0x1d97("0x37d")](),d[_0x1d97("0x1e0")](),x.toggleViewModeState()})),t.viewModeBtn&&s[_0x1d97("0x25")](h),t[_0x1d97("0x1000")]&&s[_0x1d97("0x25")](o),!f&&t[_0x1d97("0x1001")]&&this.createExpandBtn(s),this.$box=s,this[_0x1d97("0x3d0")][_0x1d97("0x1002")]&&d[_0x1d97("0x36")]===esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]&&this[_0x1d97("0x1003")]();var p=document[_0x1d97("0x21")](_0x1d97("0x327"));p.className=_0x1d97("0x1004"),p[_0x1d97("0x22")].width=a+"px",p[_0x1d97("0x22")][_0x1d97("0x64d")]=_0x1d97("0x63b"),p.style[_0x1d97("0xc42")]=_0x1d97("0x4e2"),p[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x32b"),p.style.alignItems=_0x1d97("0xe7"),p.style[_0x1d97("0x32c")]=_0x1d97("0xe7"),p[_0x1d97("0x22")].perspective=_0x1d97("0x1005"),p.style.perspective=_0x1d97("0x1005"),p[_0x1d97("0x22")][_0x1d97("0x1006")]=_0x1d97("0x1005"),p[_0x1d97("0x22")][_0x1d97("0x1007")]=_0x1d97("0x1008"),p[_0x1d97("0x22")][_0x1d97("0x1009")]="rgba(0,0,0,0)",p.style[_0x1d97("0x100a")]="center";var m=document[_0x1d97("0x21")](_0x1d97("0x327"));this[_0x1d97("0xfc7")]=m,m[_0x1d97("0x22")][_0x1d97("0xb6")]="relative",m[_0x1d97("0x22")].width=_0x1d97("0x329"),t[_0x1d97("0xfa9")]?m[_0x1d97("0x22")].height=a+"px":(m[_0x1d97("0x22")][_0x1d97("0x1b5")]="100%",p[_0x1d97("0x22")][_0x1d97("0x32e")]=_0x1d97("0x100b")),this[_0x1d97("0xfc9")]=p,this[_0x1d97("0xfc6")](t[_0x1d97("0xfa9")]?this[_0x1d97("0x3d0")].showBtnCount:e[_0x1d97("0x0")]),t[_0x1d97("0xfa9")]&&(m[_0x1d97("0x22")][_0x1d97("0x100c")]=_0x1d97("0x63d"),m[_0x1d97("0x22")][_0x1d97("0x100d")]=_0x1d97("0x63d")),m[_0x1d97("0x3b4")]=_0x1d97("0x100e");var A=0,C=5==this[_0x1d97("0x3d0")][_0x1d97("0xfa4")]?2:1;e[_0x1d97("0x0")]>=3&&(C+=2);var I=Math.min(360/(e[_0x1d97("0x0")]+C),25.714);this[_0x1d97("0x100f")]=I;var y=_[_0x1d97("0xb8c")];if(!f){var E=void 0;if(this[_0x1d97("0x3d0")][_0x1d97("0xfa9")]){E=I<25.714?8*e.length:3==this[_0x1d97("0x3d0")].showBtnCount?100:110;var w=document[_0x1d97("0x21")](_0x1d97("0x327"));w[_0x1d97("0x3af")][_0x1d97("0xdc")](_0x1d97("0x1010")),w[_0x1d97("0x22")][_0x1d97("0x1b5")]=a+"px",w[_0x1d97("0x22")][_0x1d97("0x1011")]=a+"px",w.style[_0x1d97("0xb6")]="absolute",w.style.bottom=_0x1d97("0xaa6"),w[_0x1d97("0x22")][_0x1d97("0x330")]=_0x1d97("0xfce"),w[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x32b"),w.style[_0x1d97("0x32c")]=_0x1d97("0xe7"),w[_0x1d97("0x22")].alignItems=_0x1d97("0xe7"),w[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),w.style[_0x1d97("0x328")]=a+"px";var T=A-I;w[_0x1d97("0x22")][_0x1d97("0x1012")]=_0x1d97("0x1013")+T+_0x1d97("0x1014")+E+_0x1d97("0x3b9"),w.style[_0x1d97("0x38b")]=_0x1d97("0x1013")+T+_0x1d97("0x1014")+E+"px)",w[_0x1d97("0x22")].backfaceVisibility=_0x1d97("0x63b"),w[_0x1d97("0x22")][_0x1d97("0x1015")]=_0x1d97("0x63b"),w[_0x1d97("0x22")]["-moz-backface-visibility"]=_0x1d97("0x63b"),w[_0x1d97("0x22")][_0x1d97("0x1016")]=_0x1d97("0x63b"),w[_0x1d97("0x332")]("angle",-I),w.innerHTML=this[_0x1d97("0xfdc")],w[_0x1d97("0x1017")][0][_0x1d97("0x22")].transform="rotate(90deg)",w.childNodes[0][_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x1018"),w[_0x1d97("0x1017")][0][_0x1d97("0x22")][_0x1d97("0x1b5")]=_0x1d97("0x1018"),w.addEventListener(_0x1d97("0x696"),(function(x){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")]()})),w[_0x1d97("0x30")](_0x1d97("0x698"),(function(d){if(!(x[_0x1d97("0x1019")]>1)){var _=d.currentTarget[_0x1d97("0x19c")](_0x1d97("0x257"));x[_0x1d97("0x101a")](_),x[_0x1d97("0x101b")](_),d.stopPropagation(),d.preventDefault()}})),w[_0x1d97("0x30")](_0x1d97("0xac4"),(function(d){if(!(x[_0x1d97("0x1019")]>1)){var _=d[_0x1d97("0x101c")][_0x1d97("0x19c")](_0x1d97("0x257"));x[_0x1d97("0x101a")](_),x[_0x1d97("0x101b")](_),d[_0x1d97("0x1e0")](),d[_0x1d97("0x37d")]()}})),m[_0x1d97("0x25")](w)}else E=60;for(var k=0;k<e[_0x1d97("0x0")];k++){var S=e[k],M=_.getFloor(S)[_0x1d97("0xf7d")],R=document.createElement(_0x1d97("0x327"));R[_0x1d97("0x3b4")]=_0x1d97("0x101d"),R.style.height=a+"px",R[_0x1d97("0x22")][_0x1d97("0x1011")]=a+"px",R[_0x1d97("0x22")][_0x1d97("0x16f")]=_0x1d97("0xaa6"),R.style[_0x1d97("0x330")]=_0x1d97("0xfce"),R.style[_0x1d97("0x32a")]=_0x1d97("0x32b"),R[_0x1d97("0x22")].justifyContent=_0x1d97("0xe7"),R.style[_0x1d97("0x101e")]=_0x1d97("0xe7"),R[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),R[_0x1d97("0x22")].width=a+"px",t.scrollMode&&(R.style[_0x1d97("0x1012")]=_0x1d97("0x1013")+A+_0x1d97("0x1014")+E+_0x1d97("0x3b9"),R[_0x1d97("0x22")].transform=_0x1d97("0x1013")+A+_0x1d97("0x1014")+E+"px)",R[_0x1d97("0x22")].backfaceVisibility=_0x1d97("0x63b"),R.style[_0x1d97("0x1015")]=_0x1d97("0x63b"),R.style[_0x1d97("0x101f")]=_0x1d97("0x63b"),R[_0x1d97("0x22")][_0x1d97("0x1016")]=_0x1d97("0x63b"),R[_0x1d97("0x22")].position="absolute",R[_0x1d97("0x332")](_0x1d97("0x257"),-A)),y==S&&(this[_0x1d97("0x101a")](-A),R.className+=_0x1d97("0x1020")),R[_0x1d97("0x332")](_0x1d97("0xe8"),S);var L=document[_0x1d97("0x21")](_0x1d97("0xc3d"));L[_0x1d97("0x1021")]=M,L[_0x1d97("0x22")].fontWeight=_0x1d97("0x1022"),L[_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x1023"),L[_0x1d97("0x22")].height=_0x1d97("0x1023"),L.style[_0x1d97("0x32a")]=_0x1d97("0x32b"),L.style[_0x1d97("0x32c")]=_0x1d97("0xe7"),L[_0x1d97("0x22")][_0x1d97("0x101e")]=_0x1d97("0xe7"),L[_0x1d97("0x22")][_0x1d97("0xea4")]=_0x1d97("0xe7"),L[_0x1d97("0x22")][_0x1d97("0x1011")]=_0x1d97("0x329"),L[_0x1d97("0x22")][_0x1d97("0x1024")]=_0x1d97("0x1025"),L[_0x1d97("0x22")][_0x1d97("0xc3b")]=_0x1d97("0x329"),L[_0x1d97("0x22")][_0x1d97("0x64d")]=_0x1d97("0x63b"),L[_0x1d97("0x22")].transition="all .5s ease-in",L[_0x1d97("0x22")][_0x1d97("0x1026")]=_0x1d97("0x1027"),L.className="floor-item-devide",R.appendChild(L),m[_0x1d97("0x25")](R),A+=I}if(t[_0x1d97("0xfa9")]){var H=document[_0x1d97("0x21")](_0x1d97("0x327"));H[_0x1d97("0x3af")].add(_0x1d97("0x1010")),H[_0x1d97("0x22")][_0x1d97("0x1b5")]=a+"px",H[_0x1d97("0x22")][_0x1d97("0x1011")]=a+"px",H[_0x1d97("0x22")].position="absolute",H[_0x1d97("0x22")].bottom=_0x1d97("0xaa6"),H.style[_0x1d97("0x330")]="border-box",H[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x32b"),H[_0x1d97("0x22")].justifyContent="center",H[_0x1d97("0x22")][_0x1d97("0x101e")]="center",H[_0x1d97("0x22")][_0x1d97("0xfcc")]="pointer",H[_0x1d97("0x22")].width=a+"px",H[_0x1d97("0x22")][_0x1d97("0x1012")]=_0x1d97("0x1013")+A+_0x1d97("0x1014")+E+_0x1d97("0x3b9"),H[_0x1d97("0x22")][_0x1d97("0x38b")]=_0x1d97("0x1013")+A+_0x1d97("0x1014")+E+_0x1d97("0x3b9"),H[_0x1d97("0x22")][_0x1d97("0x1028")]=_0x1d97("0x63b"),H[_0x1d97("0x22")][_0x1d97("0x1015")]=_0x1d97("0x63b"),H[_0x1d97("0x22")][_0x1d97("0x101f")]=_0x1d97("0x63b"),H[_0x1d97("0x22")][_0x1d97("0x1016")]=_0x1d97("0x63b"),H.setAttribute(_0x1d97("0x257"),-(A-2*I)),H[_0x1d97("0x331")]=this.iconArrow,H[_0x1d97("0x1017")][0][_0x1d97("0x22")][_0x1d97("0x38b")]=_0x1d97("0x1029"),H[_0x1d97("0x1017")][0][_0x1d97("0x22")][_0x1d97("0x328")]=_0x1d97("0x1018"),H[_0x1d97("0x1017")][0][_0x1d97("0x22")].height=_0x1d97("0x1018"),H.addEventListener(_0x1d97("0x696"),(function(x){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")]()})),H.addEventListener(_0x1d97("0x698"),(function(d){if(!(x.tapCount>1)){var _=d[_0x1d97("0x101c")][_0x1d97("0x19c")](_0x1d97("0x257"));x[_0x1d97("0x101a")](_),x[_0x1d97("0x101b")](_),d[_0x1d97("0x1e0")](),d[_0x1d97("0x37d")]()}})),H[_0x1d97("0x30")](_0x1d97("0xac4"),(function(d){if(!(x[_0x1d97("0x1019")]>1)){var _=d[_0x1d97("0x101c")].getAttribute(_0x1d97("0x257"));x.setTransformAngle(_),x[_0x1d97("0x101b")](_),d[_0x1d97("0x1e0")](),d[_0x1d97("0x37d")]()}})),m.appendChild(H)}this.$maxAngle=-1*(A-I),this[_0x1d97("0xfc9")][_0x1d97("0x25")](m),s[_0x1d97("0x25")](p)}d[_0x1d97("0x16d")][_0x1d97("0x321")][_0x1d97("0x63c")].appendChild(s),this[_0x1d97("0x24c")](s),t[_0x1d97("0xfa9")]&&(p[_0x1d97("0x102a")]=this[_0x1d97("0x102b")][_0x1d97("0x11")](this));for(var D=document[_0x1d97("0x102c")](_0x1d97("0x101d")),P=function(d){if(x[_0x1d97("0xfa2")]=!0,!(x[_0x1d97("0x1019")]>1)){var _=d[_0x1d97("0x101c")];if(t.scrollMode){var e=_[_0x1d97("0x19c")](_0x1d97("0x257"));x[_0x1d97("0x101a")](e),x[_0x1d97("0x101b")](e)}else{var a=_.getAttribute(_0x1d97("0xe8"));x[_0x1d97("0x102d")](a),x[_0x1d97("0x96d")](a)}d.stopPropagation(),d.preventDefault()}},O=function(d){if(x.triggerSkip=!0,!(x[_0x1d97("0x1019")]>1)){var _=d[_0x1d97("0x101c")];if(t[_0x1d97("0xfa9")]){var e=_[_0x1d97("0x19c")]("angle"),a=x.$scroller;a.classList[_0x1d97("0x3b0")](_0x1d97("0x934"))||a.classList.add(_0x1d97("0x934")),x[_0x1d97("0x101a")](e),x[_0x1d97("0x101b")](e)}else{var i=_.getAttribute(_0x1d97("0xe8"));x.toggleTargetClassByFnum(i),x[_0x1d97("0x96d")](i)}d[_0x1d97("0x1e0")](),d[_0x1d97("0x37d")]()}},B=0;B<D[_0x1d97("0x0")];B++){var N=D[B];N[_0x1d97("0x30")]("mousedown",(function(x){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")]()})),N[_0x1d97("0x30")](_0x1d97("0x698"),P),N[_0x1d97("0x30")](_0x1d97("0xac4"),O)}this[_0x1d97("0x219")]?p[_0x1d97("0x30")](_0x1d97("0x696"),this[_0x1d97("0xac8")][_0x1d97("0x11")](this),!1):(t.scrollMode&&(p[_0x1d97("0x30")](_0x1d97("0xacb"),this.ontouchstart[_0x1d97("0x11")](this),!1),p.addEventListener("touchmove",this[_0x1d97("0x102e")][_0x1d97("0x11")](this),!1)),p[_0x1d97("0x30")](_0x1d97("0xac4"),this[_0x1d97("0x102f")][_0x1d97("0x11")](this),!1)),_.on(_0x1d97("0x1030"),(function(d){x[_0x1d97("0xfa5")]||(x[_0x1d97("0xfa2")]?x[_0x1d97("0xfa2")]=!1:x[_0x1d97("0x102d")](d))})),d.on(_0x1d97("0x8aa"),(function(d){x[_0x1d97("0xfa5")]||(x[_0x1d97("0xfa2")]?x[_0x1d97("0xfa2")]=!1:x.setViewModeState(d))})),_.on("visibleFloorNumsChanged",(function(d){x[_0x1d97("0xfa5")]||(d[_0x1d97("0x0")]==_[_0x1d97("0x584")][_0x1d97("0x0")]?x[_0x1d97("0xffc")](!0,!0):x[_0x1d97("0xffc")](!1,!0))})),x[_0x1d97("0x3d0")][_0x1d97("0xfa9")]&&this[_0x1d97("0x1031")](),this[_0x1d97("0x3d0")][_0x1d97("0x1032")]&&this.configs[_0x1d97("0x1032")](this)}},{key:_0x1d97("0x1031"),value:function(){if(5==this[_0x1d97("0x3d0")][_0x1d97("0xfa4")]&&this.building[_0x1d97("0x584")][_0x1d97("0x0")]>=5){var x=this[_0x1d97("0xfc7")][_0x1d97("0xa4")],d=this[_0x1d97("0xfc7")][_0x1d97("0x1033")](_0x1d97("0x1034")),_=Array[_0x1d97("0xf")][_0x1d97("0xd7")][_0x1d97("0x3")](x,d),e=d[_0x1d97("0x3a9")](),t=[],a=(t=x[_+1]&&x[_+2]?[x[_+1],x[_+2]]:[x[_-1],x[_-2]])[0].getBoundingClientRect(),i=t[1][_0x1d97("0x3a9")](),n=e[_0x1d97("0x1b5")]/2+a[_0x1d97("0x1b5")]+i[_0x1d97("0x1b5")];this[_0x1d97("0xfc9")][_0x1d97("0x22")][_0x1d97("0x1b5")]=2*n+"px"}}},{key:_0x1d97("0x1003"),value:function(){var x=this,d=this[_0x1d97("0xfc8")],_=document.createElement(_0x1d97("0x327"));_[_0x1d97("0x22")][_0x1d97("0x328")]=d+"px",_[_0x1d97("0x22")].height=d+"px",_[_0x1d97("0x22")][_0x1d97("0x32e")]=_0x1d97("0xfcb"),_[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),_[_0x1d97("0x22")].boxSizing="border-box",_[_0x1d97("0x3b4")]=_0x1d97("0xfcf");var e=document[_0x1d97("0x21")]("div");e[_0x1d97("0x22")][_0x1d97("0x328")]="100%",e[_0x1d97("0x22")].height=_0x1d97("0x329"),e[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0xfd3"),e[_0x1d97("0x3b4")]=_0x1d97("0x9cc"),e.innerHTML=this[_0x1d97("0xfe1")],_.appendChild(e),_[_0x1d97("0x30")](_0x1d97("0x696"),(function(x){x.preventDefault(),x[_0x1d97("0x1e0")]()})),_[_0x1d97("0x30")](_0x1d97("0x698"),(function(d){d[_0x1d97("0x37d")](),d[_0x1d97("0x1e0")]();var _=x[_0x1d97("0x4b")];!esmap[_0x1d97("0x33")].IsMapLoading&&_[_0x1d97("0x38")][_0x1d97("0x9c6")](_.id),x[_0x1d97("0xa6")]()})),_[_0x1d97("0x30")]("touchstart",(function(d){var _=x[_0x1d97("0x4b")];d[_0x1d97("0x1e0")](),d[_0x1d97("0x37d")](),!esmap.ESMap[_0x1d97("0x8ed")]&&_[_0x1d97("0x38")][_0x1d97("0x9c6")](_.id),x[_0x1d97("0xa6")]()})),this.$box.appendChild(_)}},{key:"setViewModeState",value:function(x){"2D"==x?(this[_0x1d97("0xfd2")][_0x1d97("0x22")].display=_0x1d97("0xfd3"),this[_0x1d97("0xfd6")][_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x4e2")):(this.view3d[_0x1d97("0x22")][_0x1d97("0x32a")]="inline-block",this.view2d.style[_0x1d97("0x32a")]=_0x1d97("0x4e2")),this[_0x1d97("0xffd")]=x}},{key:"toggleViewModeState",value:function(x){var d="3D"==this.viewModeState?"2D":"3D";this[_0x1d97("0x1035")](d),this.allFloorsState&&this[_0x1d97("0xffc")](!1,!1),!x&&this.setMapViewMode(d)}},{key:"setMapViewMode",value:function(x){window.esmap.tileMapInited?esmap[_0x1d97("0x913")][_0x1d97("0x1ef")]=x:this[_0x1d97("0x38")][_0x1d97("0x1ef")]=x}},{key:_0x1d97("0xffc"),value:function(x,d){var _=this.building,e=this[_0x1d97("0x38")].mode==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]||1==this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xc7a")];x!=this[_0x1d97("0xff6")]&&(x?("2D"!=this[_0x1d97("0xffd")]&&"top"!=this[_0x1d97("0xffd")]||this[_0x1d97("0x1036")]("3D"),e&&!d&&(_.visibleFloorNums=_[_0x1d97("0x584")]),this[_0x1d97("0xffa")][_0x1d97("0x22")].display="none",this[_0x1d97("0xff8")].style[_0x1d97("0x32a")]=_0x1d97("0xfd3"),this.allFloorsState=!0):(e&&!d&&(_.visibleFloorNums=[_[_0x1d97("0xb8c")]]),this[_0x1d97("0xff8")][_0x1d97("0x22")][_0x1d97("0x32a")]="none",this.layerImage[_0x1d97("0x22")].display="inline-block",this[_0x1d97("0xff6")]=!1))}},{key:_0x1d97("0x102b"),value:function(x){window.clearTimeout(this[_0x1d97("0xf9f")]);var d=this,_=this[_0x1d97("0xfc7")],e=0;x.wheelDelta?x[_0x1d97("0x1037")]<0?e+=10:e-=10:x.detail;var t=-1*_[_0x1d97("0x22")][_0x1d97("0x38b")].match(/[0-9]\d*/)[0],a=this[_0x1d97("0x1038")](t+e);_[_0x1d97("0x22")][_0x1d97("0x38b")]=_0x1d97("0x1013")+a+_0x1d97("0x1039"),this.taped||(this[_0x1d97("0xfa0")]=!0),d[_0x1d97("0xf9f")]=setTimeout((function(){d[_0x1d97("0xaca")][_0x1d97("0x3")](d)}),300)}},{key:"getActiveAngle",value:function(){for(var x=document.getElementsByClassName(_0x1d97("0x101d")),d=0;d<x[_0x1d97("0x0")];d++){var _=x[d];if(_[_0x1d97("0x3af")].contains(_0x1d97("0xbfe")))return 1*_[_0x1d97("0x19c")](_0x1d97("0x257"))}}},{key:_0x1d97("0x101a"),value:function(x){this[_0x1d97("0x3d0")][_0x1d97("0xfa9")]&&(this[_0x1d97("0xfc7")][_0x1d97("0x22")][_0x1d97("0x38b")]=_0x1d97("0x1013")+x+"deg)")}},{key:_0x1d97("0x103a"),value:function(){return-1*this[_0x1d97("0xfc7")][_0x1d97("0x22")].transform[_0x1d97("0xce")](/[0-9]\d*/)[0]}},{key:_0x1d97("0x103b"),value:function(x){this[_0x1d97("0xffb")]=!0,x[_0x1d97("0x1e0")](),this[_0x1d97("0x1019")]=0,this[_0x1d97("0xfa0")]=!0,this[_0x1d97("0xfa1")]=x[_0x1d97("0xae8")]?x.touches[0].pageY:x[_0x1d97("0x681")],this[_0x1d97("0x103c")]=this[_0x1d97("0x103a")]()}},{key:_0x1d97("0xac8"),value:function(x){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")]()}},{key:_0x1d97("0x102e"),value:function(x){if(!this.disposed&&(x.preventDefault(),x[_0x1d97("0x1e0")](),this.tapCount++,this.taped)){var d=this[_0x1d97("0xfc7")];d.classList[_0x1d97("0x3b0")](_0x1d97("0x934"))&&d.classList[_0x1d97("0x149")]("smooth");var _=x[_0x1d97("0xae8")]?x[_0x1d97("0xae8")][0][_0x1d97("0x681")]:x[_0x1d97("0x681")];_>this[_0x1d97("0xfa1")]?1:-1;var e=this[_0x1d97("0xfa1")]-_,t=this[_0x1d97("0x1038")](e+this.tapedAngle);this[_0x1d97("0x101a")](t)}}},{key:_0x1d97("0xac9"),value:function(x){if(!this.disposed&&this[_0x1d97("0xfa0")]){x[_0x1d97("0x37d")](),x[_0x1d97("0x1e0")](),this[_0x1d97("0x1019")]++;var d=this[_0x1d97("0xfc7")];d[_0x1d97("0x3af")][_0x1d97("0x3b0")]("smooth")&&d.classList[_0x1d97("0x149")](_0x1d97("0x934"));var _=x[_0x1d97("0xae8")]?x[_0x1d97("0xae8")][0][_0x1d97("0x681")]:x[_0x1d97("0x681")],e=this.tapedPos-_,t=this[_0x1d97("0x1038")](e+this[_0x1d97("0x103c")]);this.setTransformAngle(t)}}},{key:_0x1d97("0x102f"),value:function(x){if(!this[_0x1d97("0xfa5")]){x&&(x.stopPropagation(),x[_0x1d97("0x37d")]());var d=this[_0x1d97("0xfc7")];d.classList[_0x1d97("0x3b0")](_0x1d97("0x934"))||d[_0x1d97("0x3af")][_0x1d97("0xdc")]("smooth"),this[_0x1d97("0xfa0")]=!1,this[_0x1d97("0xfa1")]=null,this[_0x1d97("0x103c")]=null,this.checkPos(),this.isTapping=!1}}},{key:_0x1d97("0xaca"),value:function(x){if(!this.disposed&&this[_0x1d97("0xfa0")]){x&&(x.stopPropagation(),x.preventDefault());var d=this[_0x1d97("0xfc7")];d.classList[_0x1d97("0x3b0")](_0x1d97("0x934"))||d[_0x1d97("0x3af")].add(_0x1d97("0x934")),this[_0x1d97("0xfa0")]=!1,this.tapedPos=null,this[_0x1d97("0x103c")]=null,this[_0x1d97("0x103d")](),this[_0x1d97("0xffb")]=!1}}},{key:_0x1d97("0x1038"),value:function(x){return x>0?x=0:x<this[_0x1d97("0x103e")]&&(x=this[_0x1d97("0x103e")]),x}},{key:_0x1d97("0x102d"),value:function(x){for(var d=document[_0x1d97("0x102c")](_0x1d97("0x101d")),_=0;_<d.length;_++){var e=d[_];if(1*e[_0x1d97("0x19c")](_0x1d97("0xe8"))==x){if(!e[_0x1d97("0x3af")][_0x1d97("0x3b0")](_0x1d97("0xbfe"))){var t=e.getAttribute("angle");e[_0x1d97("0x3af")].add("active"),this[_0x1d97("0x101a")](t)}}else e.classList[_0x1d97("0x3b0")](_0x1d97("0xbfe"))&&e[_0x1d97("0x3af")][_0x1d97("0x149")](_0x1d97("0xbfe"))}}},{key:_0x1d97("0x101b"),value:function(x){for(var d=document[_0x1d97("0x102c")](_0x1d97("0x101d")),_=!1,e=0;e<d[_0x1d97("0x0")];e++){var t=d[e],a=t[_0x1d97("0x19c")](_0x1d97("0x257"));if(Math[_0x1d97("0x253")]((0,n[_0x1d97("0x1cb")])(x))==Math.abs((0,n[_0x1d97("0x1cb")])(a))){if(_=!0,!t[_0x1d97("0x3af")].contains(_0x1d97("0xbfe"))){var i=t[_0x1d97("0x19c")](_0x1d97("0xe8"));t[_0x1d97("0x3af")][_0x1d97("0xdc")](_0x1d97("0xbfe")),this.changeFocusFloor(i)}}else t[_0x1d97("0x3af")][_0x1d97("0x3b0")]("active")&&t[_0x1d97("0x3af")][_0x1d97("0x149")](_0x1d97("0xbfe"))}if(!_&&x>200){var r=d[d[_0x1d97("0x0")]-1];if(!r[_0x1d97("0x3af")][_0x1d97("0x3b0")](_0x1d97("0xbfe"))){r[_0x1d97("0x3af")][_0x1d97("0xdc")](_0x1d97("0xbfe"));var s=r[_0x1d97("0x19c")](_0x1d97("0xe8"));this.changeFocusFloor(s)}}}},{key:_0x1d97("0x96d"),value:function(x){x*=1;var d=this[_0x1d97("0x4b")];if(this[_0x1d97("0x4b")][_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var _=d[_0x1d97("0x584")][_0x1d97("0x41c")]((function(x,d){return x-d}))[_0x1d97("0xca")](0,x);2==this.building.options[_0x1d97("0x103f")]?d[_0x1d97("0xef")]=_:d.visibleFloorNums=[x]}else this[_0x1d97("0xff6")]||(d[_0x1d97("0xef")]=[x]);d[_0x1d97("0xb8c")]=x}},{key:_0x1d97("0x103d"),value:function(){for(var x=1*this.$scroller[_0x1d97("0x22")].transform[_0x1d97("0xce")](/[0-9]\d*/)[0],d=document.getElementsByClassName("floor-item"),_=null,e=0;e<d.length;e++){var t=d[e].getAttribute(_0x1d97("0x257"));if(_){var a=Math[_0x1d97("0x253")](Math[_0x1d97("0x253")](1*t)-Math[_0x1d97("0x253")](x));Math[_0x1d97("0x253")](a)<Math.abs(_[_0x1d97("0x590")])&&(_[_0x1d97("0x590")]=a,_[_0x1d97("0xb94")]=e,_[_0x1d97("0x257")]=1*t)}else _={dis:Math.abs(Math.abs(1*t)-Math[_0x1d97("0x253")](x)),ind:e,angle:1*t}}this[_0x1d97("0x101a")](_[_0x1d97("0x257")]),this[_0x1d97("0x101b")](_.angle)}},{key:"x",get:function(){return this[_0x1d97("0x3d0")][_0x1d97("0x113")].x},set:function(x){this[_0x1d97("0x3d0")][_0x1d97("0x113")].x=x,this.setPosition(this[_0x1d97("0xfa7")])}},{key:"y",get:function(){return this[_0x1d97("0x3d0")].offset.y},set:function(x){this[_0x1d97("0x3d0")][_0x1d97("0x113")].y=x,this[_0x1d97("0x24c")](this[_0x1d97("0xfa7")])}},{key:_0x1d97("0xb6"),get:function(){return this.configs[_0x1d97("0xb6")]},set:function(x){this[_0x1d97("0x3d0")][_0x1d97("0xb6")]=x,this[_0x1d97("0x24c")](this.$box)}},{key:"visible",set:function(x){this[_0x1d97("0xfa7")][_0x1d97("0x22")][_0x1d97("0x32a")]=x?"block":"none"},get:function(){return this.$box[_0x1d97("0x22")][_0x1d97("0x32a")]==_0x1d97("0x1040")}}]),x}();d.default=s},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(d,_){(0,e.default)(this,x),this[_0x1d97("0x41d")]=new(esmap[_0x1d97("0x51d")])(_),this.options_[_0x1d97("0xa5f")],this.w_=42,this.h_=42,this[_0x1d97("0x1041")]=0,this.x_=this[_0x1d97("0x41d")][_0x1d97("0x113")].x,this.y_=this[_0x1d97("0x41d")][_0x1d97("0x113")].y,this.init2D_=this[_0x1d97("0x41d")][_0x1d97("0x1042")],this[_0x1d97("0x1043")]?this[_0x1d97("0x890")]=_0x1d97("0x3a6"):this[_0x1d97("0x890")]="3d",this[_0x1d97("0x1044")]=!!this[_0x1d97("0x41d")][_0x1d97("0x1045")]&&this[_0x1d97("0x41d")].initFloors,this[_0x1d97("0x1046")]=this[_0x1d97("0x1044")],this[_0x1d97("0x1047")]=10,this.visible_=!0,this[_0x1d97("0x1048")]=this[_0x1d97("0x41d")][_0x1d97("0xb6")]?this[_0x1d97("0x41d")][_0x1d97("0xb6")]:3,this.top_=20,this[_0x1d97("0x1049")]=10,this[_0x1d97("0x104a")]=10,this[_0x1d97("0x104b")]=!!this[_0x1d97("0x41d")][_0x1d97("0xfa6")]&&this[_0x1d97("0x41d")][_0x1d97("0xfa6")],this[_0x1d97("0x104c")]=_0x1d97("0x104d"),this.defaultRadius_="2px",this.imgURL_=this[_0x1d97("0x41d")][_0x1d97("0xf9d")],d&&(this[_0x1d97("0x38")]=d,this[_0x1d97("0x32")](d))}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x32"),value:function(x){var d=document[_0x1d97("0x21")](_0x1d97("0x327"));d[_0x1d97("0x332")](_0x1d97("0x333"),"tool-wrap"),d[_0x1d97("0x22")].zIndex=10,d[_0x1d97("0x22")].position=_0x1d97("0x638"),d.style.height=this.h_+"px",d.style[_0x1d97("0x328")]=this.w_+"px",d[_0x1d97("0x22")][_0x1d97("0xfcc")]=_0x1d97("0xfcd"),d[_0x1d97("0x22")].backgroundColor="white",d.style[_0x1d97("0x104e")]=this[_0x1d97("0x104c")],d[_0x1d97("0x22")][_0x1d97("0xc3b")]=this[_0x1d97("0x104f")],this.expand_?d[_0x1d97("0x22")].background=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x1052"):d[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this.imgURL_+_0x1d97("0x1053"),d[_0x1d97("0x1054")]=this[_0x1d97("0x1055")].bind(this);var _=document.createElement(_0x1d97("0x327"));_[_0x1d97("0x332")](_0x1d97("0x333"),_0x1d97("0x1056")),_.style[_0x1d97("0xb6")]=_0x1d97("0x638"),_[_0x1d97("0x22")][_0x1d97("0x32a")]=this[_0x1d97("0x104b")]?_0x1d97("0x1040"):_0x1d97("0x4e2");var e=document[_0x1d97("0x21")](_0x1d97("0x327"));e[_0x1d97("0x332")](_0x1d97("0x333"),_0x1d97("0x1057")),e[_0x1d97("0x22")][_0x1d97("0x1b5")]=this.h_+"px",e[_0x1d97("0x22")][_0x1d97("0x328")]=this.w_+"px",e.style[_0x1d97("0x32e")]=this[_0x1d97("0x1041")]+"px",e[_0x1d97("0x22")].cursor=_0x1d97("0xfcd"),e[_0x1d97("0x22")][_0x1d97("0x104e")]=this[_0x1d97("0x104c")],e.style[_0x1d97("0xc3b")]=this[_0x1d97("0x104f")],this[_0x1d97("0x1043")]?e[_0x1d97("0x22")].background="white url("+this.imgURL_+_0x1d97("0x1058"):e[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x1059"),e.style[_0x1d97("0x834")]="white",e.onclick=this[_0x1d97("0x105a")][_0x1d97("0x11")](this);var t=document[_0x1d97("0x21")](_0x1d97("0x327"));t.setAttribute(_0x1d97("0x333"),_0x1d97("0x105b")),t[_0x1d97("0x22")][_0x1d97("0x1b5")]=this.h_+"px",t[_0x1d97("0x22")][_0x1d97("0x328")]=this.w_+"px",t.style.padding=this[_0x1d97("0x1041")]+"px",t.style[_0x1d97("0x105c")]=this[_0x1d97("0x1047")]+"px",t[_0x1d97("0x22")].cursor=_0x1d97("0xfcd"),t[_0x1d97("0x22")][_0x1d97("0x104e")]=this[_0x1d97("0x104c")],t.style.borderRadius=this[_0x1d97("0x104f")],this[_0x1d97("0x1044")]?t[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this.imgURL_+_0x1d97("0x105d"):t.style[_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x105e"),t[_0x1d97("0x1054")]=this.controlFloor.bind(this),_[_0x1d97("0x25")](e),_[_0x1d97("0x25")](t);var a=x[_0x1d97("0x16d")][_0x1d97("0x105f")].getElementsByTagName(_0x1d97("0x4a1"))[0];x[_0x1d97("0x16d")][_0x1d97("0x105f")].insertBefore(d,a),x[_0x1d97("0x16d")][_0x1d97("0x105f")][_0x1d97("0x658")](_,a),this[_0x1d97("0x1060")](d),this[_0x1d97("0x1060")](_,this.h_),this[_0x1d97("0x1061")]()}},{key:_0x1d97("0x1061"),value:function(){if(this[_0x1d97("0x38")]){var x=this;this[_0x1d97("0x38")].on(_0x1d97("0x11d"),(function(){var d=document.querySelector(".tool-wrap"),_=document[_0x1d97("0x1033")](_0x1d97("0x1062"));x[_0x1d97("0x1060")](d),x[_0x1d97("0x1060")](_,x.h_)}))}}},{key:_0x1d97("0x1060"),value:function(x,d){switch(this[_0x1d97("0x1048")]){case 1:d?x[_0x1d97("0x22")][_0x1d97("0x3a6")]=this.top_+d+this[_0x1d97("0x1047")]+this.y_+"px":x[_0x1d97("0x22")].top=this[_0x1d97("0x1063")]+this.y_+"px",x.style.left=this[_0x1d97("0x1049")]+this.x_+"px";break;case 2:var _=this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x105f")][_0x1d97("0x26")]-x[_0x1d97("0x42e")]-60;d&&(_=_-d-this.defaultPadding_),x[_0x1d97("0x22")][_0x1d97("0x3a6")]=_-this.y_+"px",x[_0x1d97("0x22")][_0x1d97("0x3a5")]=this[_0x1d97("0x1049")]+this.x_+"px";break;case 3:d?x[_0x1d97("0x22")].top=this[_0x1d97("0x1063")]+d+this.defaultPadding_+this.y_+"px":x.style[_0x1d97("0x3a6")]=this[_0x1d97("0x1063")]+this.y_+"px",x[_0x1d97("0x22")][_0x1d97("0x648")]=this[_0x1d97("0x104a")]+this.x_+"px";break;case 4:var e=this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x105f")].offsetHeight-x.clientHeight-60;d&&(e=e-d-this.defaultPadding_),x[_0x1d97("0x22")].top=e-this.y_+"px",x[_0x1d97("0x22")].right=this[_0x1d97("0x104a")]+this.x_+"px"}}},{key:_0x1d97("0x1055"),value:function(){var x=document.getElementsByClassName(_0x1d97("0x1064"))[0],d=document[_0x1d97("0x102c")](_0x1d97("0x1056"))[0];_0x1d97("0x4e2")==d[_0x1d97("0x22")][_0x1d97("0x32a")]?(x.style[_0x1d97("0x984")]="white url("+this[_0x1d97("0x1051")]+"less.png) no-repeat 50% 50%",d[_0x1d97("0x22")].display="block"):(x[_0x1d97("0x22")][_0x1d97("0x984")]="white url("+this[_0x1d97("0x1051")]+_0x1d97("0x1053"),d[_0x1d97("0x22")].display=_0x1d97("0x4e2"))}},{key:_0x1d97("0x105a"),value:function(x){if(this[_0x1d97("0x38")]){var d=document[_0x1d97("0x102c")]("to-3d-view-btn")[0];if(this.viewMode_&&"3d"!=this[_0x1d97("0x890")])d[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x1065"),this.map[_0x1d97("0x1ef")]=esmap[_0x1d97("0x504")][_0x1d97("0xab7")],this[_0x1d97("0x890")]="3D";else{if(this[_0x1d97("0x1046")]){var _=document.getElementsByClassName("tool-floor-btn")[0];if(document[_0x1d97("0x203")])_[_0x1d97("0x945")]();else{var e=document[_0x1d97("0x944")](_0x1d97("0x1066"));e.initEvent(_0x1d97("0x945"),!0,!0),_.dispatchEvent(e)}}d[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x1067"),this[_0x1d97("0x38")][_0x1d97("0x1ef")]=esmap[_0x1d97("0x504")][_0x1d97("0xa38")],this[_0x1d97("0x890")]="2D"}}}},{key:_0x1d97("0x1068"),value:function(x){if(this[_0x1d97("0x38")]){var d=document.getElementsByClassName(_0x1d97("0x105b"))[0];if(this.floors_)d[_0x1d97("0x22")][_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x1069"),this[_0x1d97("0x38")][_0x1d97("0xef")]=[map[_0x1d97("0xb8c")]];else{if(_0x1d97("0x3a6")==this[_0x1d97("0x890")]){var _=document.getElementsByClassName(_0x1d97("0x1057"))[0];if(document[_0x1d97("0x203")])_.click();else{var e=document.createEvent(_0x1d97("0x1066"));e[_0x1d97("0x65a")]("click",!0,!0),_[_0x1d97("0x335")](e)}}d.style[_0x1d97("0x984")]=_0x1d97("0x1050")+this[_0x1d97("0x1051")]+_0x1d97("0x106a"),this[_0x1d97("0x38")][_0x1d97("0xef")]=map.floorNums}this[_0x1d97("0x38")][_0x1d97("0xb8c")]={floornum:map.focusFloorNum,time:0},this[_0x1d97("0x1046")]=!this.floors_}}},{key:"IsAllFloors",value:function(){return this[_0x1d97("0x1046")]}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(102));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d,_){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x41d")]=new esmap.ESControlOptions(_),"normal"==this[_0x1d97("0x41d")][_0x1d97("0xa5f")]?(this.w_=42,this.h_=42,this.padding_=14):(this.w_=28,this.h_=28,this[_0x1d97("0x106b")]=8),this.x_=this[_0x1d97("0x41d")][_0x1d97("0x113")].x,this.y_=this[_0x1d97("0x41d")].offset.y,this[_0x1d97("0x1048")]=this[_0x1d97("0x41d")][_0x1d97("0xb6")]?this[_0x1d97("0x41d")][_0x1d97("0xb6")]:4,this[_0x1d97("0x1063")]=20,this.left_=10,this[_0x1d97("0x104a")]=10,this[_0x1d97("0x104c")]=_0x1d97("0x104d"),this[_0x1d97("0x104f")]="2px",this[_0x1d97("0x1051")]=this[_0x1d97("0x41d")][_0x1d97("0xf9d")],this.visible_=!0,d&&(this[_0x1d97("0x38")]=d,this[_0x1d97("0x32")](d))}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x32"),value:function(x){var d=(0,a.default)(_0x1d97("0x327"))[_0x1d97("0x106c")]("class",_0x1d97("0x106d"))[_0x1d97("0x22")]({zIndex:10,position:"absolute",backgroundColor:_0x1d97("0xc3a"),boxShadow:this[_0x1d97("0x104c")],borderRadius:this[_0x1d97("0x104f")]}).element,_=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327"))[_0x1d97("0x106c")](_0x1d97("0x333"),"zoom-in-btn")[_0x1d97("0x22")]({padding:this[_0x1d97("0x106b")]+"px",cursor:_0x1d97("0xfcd"),height:this.h_})[_0x1d97("0x338")](_0x1d97("0x945"),this[_0x1d97("0x97f")].bind(this)).element,e=(0,a[_0x1d97("0x1c")])(_0x1d97("0x428"))[_0x1d97("0x106c")](_0x1d97("0x39e"),this[_0x1d97("0x1051")]+_0x1d97("0x106e"))[_0x1d97("0x22")]({width:this.w_-2*this[_0x1d97("0x106b")]+"px",height:this.h_-2*this[_0x1d97("0x106b")]+"px"})[_0x1d97("0x337")];_[_0x1d97("0x25")](e);var t=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327"))[_0x1d97("0x106c")](_0x1d97("0x333"),_0x1d97("0x106f"))[_0x1d97("0x22")]({padding:this.padding_+"px",cursor:"pointer",height:this.h_})[_0x1d97("0x338")](_0x1d97("0x945"),this[_0x1d97("0x980")].bind(this))[_0x1d97("0x337")],i=(0,a.default)(_0x1d97("0x428"))[_0x1d97("0x106c")](_0x1d97("0x39e"),this[_0x1d97("0x1051")]+_0x1d97("0x1070"))[_0x1d97("0x22")]({width:this.w_-2*this[_0x1d97("0x106b")]+"px",height:this.h_-2*this[_0x1d97("0x106b")]+"px"}).element;t[_0x1d97("0x25")](i),d[_0x1d97("0x25")](_),d[_0x1d97("0x25")](this.hrEl()),d.appendChild(t);var n=x[_0x1d97("0x16d")][_0x1d97("0x42c")][_0x1d97("0x1071")](_0x1d97("0x4a1"))[0];x.mapView.container[_0x1d97("0x658")](d,n),this[_0x1d97("0x1060")](d),this[_0x1d97("0x1061")]()}},{key:"controlPositionListener",value:function(){if(this.map){var x=this;this[_0x1d97("0x38")].on(_0x1d97("0x11d"),(function(){var d=document.querySelector(_0x1d97("0x1072"));x[_0x1d97("0x1060")](d)}))}}},{key:_0x1d97("0x1060"),value:function(x,d){switch(this.positon_){case 1:(0,a[_0x1d97("0x1c")])(x).style({top:this.top_+this.y_+"px",left:this[_0x1d97("0x1049")]+this.x_+"px"});break;case 2:d=this[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x105f")][_0x1d97("0x26")]-x[_0x1d97("0x42e")]-60;(0,a.default)(x)[_0x1d97("0x22")]({top:d-this.y_+"px",left:this[_0x1d97("0x1049")]+this.x_+"px"});break;case 3:(0,a[_0x1d97("0x1c")])(x)[_0x1d97("0x22")]({top:this[_0x1d97("0x1063")]+this.y_+"px",right:this[_0x1d97("0x104a")]+this.x_+"px"});break;case 4:d=this.map[_0x1d97("0x16d")].container_[_0x1d97("0x26")]-x[_0x1d97("0x42e")]-60;(0,a[_0x1d97("0x1c")])(x)[_0x1d97("0x22")]({top:d-this.y_+"px",right:this[_0x1d97("0x104a")]+this.x_+"px"})}}},{key:_0x1d97("0x1073"),value:function(){return(0,a[_0x1d97("0x1c")])("hr")[_0x1d97("0x22")]({height:_0x1d97("0x1074"),border:_0x1d97("0x4e2"),borderTop:_0x1d97("0x1075"),width:_0x1d97("0x1076"),margin:_0x1d97("0x1077"),filter:_0x1d97("0x1078")})[_0x1d97("0x337")]}},{key:_0x1d97("0x980"),value:function(x){this.map&&this[_0x1d97("0x38")][_0x1d97("0x980")](),_0x1d97("0x1e")==typeof x&&x(this[_0x1d97("0x1079")])}},{key:_0x1d97("0x97f"),value:function(x){this[_0x1d97("0x38")]&&this.map[_0x1d97("0x97f")](),_0x1d97("0x1e")==typeof x&&x(this[_0x1d97("0x1079")])}}]),x}();d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=g(_(53)),t=g(_(71)),a=g(_(32)),i=g(_(28)),n=g(_(12)),r=g(_(9)),s=g(_(13)),o=g(_(2)),c=g(_(0)),l=g(_(1)),u=g(_(54)),f=_(73),h=g(_(354)),b=_(19);function g(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var v=new(u[_0x1d97("0x1c")]),p=new u.default,m=new(u[_0x1d97("0x1c")]),A=new u.default,C={x:0,y:0},I={"ä¸è¡":"up","ä¸è¡":_0x1d97("0x107a"),"å·¦è½¬":_0x1d97("0x3a5"),"å³è½¬":"right","å·¦åæ¹ç´è¡":"keepLeft","å³åæ¹ç´è¡":_0x1d97("0x107b"),"ç´è¡":"continue","å³å°å°è¾¾ç®çå°":_0x1d97("0x107c")},y=function(){function x(d){(0,c.default)(this,x),this[_0x1d97("0x107d")]=null,this[_0x1d97("0x107e")]=0,this.startMarkerLayer=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x9fb")]),this.endMarkerLayer=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x9fb")]),this[_0x1d97("0x107f")]=null,this[_0x1d97("0x1080")]=null,this.toPassedFnum={},this.startData=null,this[_0x1d97("0x1081")]=null,this[_0x1d97("0x1082")]=null,this[_0x1d97("0x1083")]=null,this[_0x1d97("0x1084")]=null,this[_0x1d97("0x1085")]=_0x1d97("0x1f5"),this[_0x1d97("0x1086")]=.01086500000124215,this[_0x1d97("0x897")]=new THREE.Clock,this.naviDescriptions=[],this.allowPlayDis={},this[_0x1d97("0x1087")]=null,this[_0x1d97("0x1088")]=!1,this[_0x1d97("0x1089")]={},this[_0x1d97("0x108a")]=null,this[_0x1d97("0x108b")]=!0,this[_0x1d97("0x108c")]=!1,this[_0x1d97("0x108d")]=!1,this[_0x1d97("0x108e")]=(new Date)[_0x1d97("0x74")](),this.lastNavCode=null,this[_0x1d97("0x108f")]=0,this[_0x1d97("0x1090")]={},this.analysedData=null,this[_0x1d97("0x1091")]=[],this[_0x1d97("0x1092")]={index:0,dis2next:0},this[_0x1d97("0x1093")]={},this[_0x1d97("0xb7")]={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this[_0x1d97("0x1094")]=null,this[_0x1d97("0x1095")]=null,this[_0x1d97("0x1096")]=0,this._preGid=0,this[_0x1d97("0x1097")]=!1,this._animID=null,this[_0x1d97("0x1098")]=null,this._rotateId=null,this[_0x1d97("0x1099")]=new(h[_0x1d97("0x1c")]);var _=this;em[_0x1d97("0x222")][_0x1d97("0xdeb")](_),(0,o[_0x1d97("0x1c")])(_,{map:esmap[_0x1d97("0x33")][_0x1d97("0x34")],changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,isMultiFloors:0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:5,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossFloorTime:250,tipDistance:6,noGoingBack:!1,locationMarkerOptions:{},lineStyle:{lineType:esmap[_0x1d97("0x4fd")].ESARROW,curvature:0,color:_0x1d97("0x109a"),lineWidth:6,offsetHeight:.5},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},d),_[_0x1d97("0xa5d")].nobuildCurveZ=!0;var e=_[_0x1d97("0x38")];if(_[_0x1d97("0x109b")]){if(!e.ESAudioTool)try{e[_0x1d97("0x109c")]()}catch(x){console[_0x1d97("0x2ac")](_0x1d97("0x109d"))}}else e[_0x1d97("0x109e")]||(e[_0x1d97("0x109e")]={playSoundByName:function(){}});this[_0x1d97("0x1099")][_0x1d97("0x107d")]=this[_0x1d97("0x107d")]}var d;return(0,l[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x109f"),value:function(x){this[_0x1d97("0x1099")].setPreferCrosses(x)}},{key:_0x1d97("0x10a0"),value:function(x){var d=this[_0x1d97("0x1099")].routeCore.dataList[40015][_0x1d97("0x10a1")],_=[];x[_0x1d97("0x1d")]((function(x){var e=d[x];_[_0x1d97("0x1")]({x:e.X,y:e.Y,fnum:4,id:e[_0x1d97("0x170")]})}));var e=new(esmap[_0x1d97("0x52d")])({id:_0x1d97("0x10a2"),name:"navLine",points:_,style:this.lineStyle});this[_0x1d97("0x38")][_0x1d97("0x92e")](e)}},{key:_0x1d97("0x10a3"),value:function(x,d){var _=null,e=null;d?(this.startMarker&&this[_0x1d97("0x1082")].dispose(),e=this.startMarkerLayer,_=x[_0x1d97("0x48")]||_0x1d97("0x10a4")):(this[_0x1d97("0x1084")]&&this[_0x1d97("0x1084")][_0x1d97("0xa6")](),e=this[_0x1d97("0x10a5")],_=x[_0x1d97("0x48")]||_0x1d97("0x10a6"));var t=this[_0x1d97("0x38")][_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x21b")]?23:12,a=null==x[_0x1d97("0x1b5")]?6:x[_0x1d97("0x1b5")],i=new(esmap[_0x1d97("0x10a7")])({x:x.x,y:x.y,url:_,height:a,seeThrough:x.seeThrough||!1,clip:x[_0x1d97("0xea6")]||null,showLevel:x[_0x1d97("0x22c")]||t,size:x[_0x1d97("0xa5f")]||64,callback:function(){x[_0x1d97("0x1c2")]&&x[_0x1d97("0x1c2")](i)}});e[_0x1d97("0xc20")](i),d?this[_0x1d97("0x1082")]=i:this[_0x1d97("0x1084")]=i;var n=x[_0x1d97("0xe5")]||this[_0x1d97("0x38")].id,r=this[_0x1d97("0x38")][_0x1d97("0xee")](n),s=x[_0x1d97("0xe8")]||1;r[_0x1d97("0x56d")](s)[_0x1d97("0x190")](e)}},{key:_0x1d97("0x10a8"),value:function(x){var d=this[_0x1d97("0x38")],_=null==x[_0x1d97("0x255")]?1:x.time,e="3D"===d[_0x1d97("0x1ef")];x[_0x1d97("0x2")](_0x1d97("0x8c1"))&&e&&d[_0x1d97("0x977")]({angle:x[_0x1d97("0x8c1")],time:_}),x[_0x1d97("0x2")](_0x1d97("0x22e"))&&d[_0x1d97("0x8c4")]({value:x[_0x1d97("0x22e")],time:_}),x[_0x1d97("0x2")]("rotateAngle")&&d[_0x1d97("0x277")]({angle:x[_0x1d97("0x257")],time:_}),x[_0x1d97("0x2")]("coord")&&d[_0x1d97("0x254")]({x:x[_0x1d97("0x1c4")].x,y:x[_0x1d97("0x1c4")].y,time:.5*_}),x[_0x1d97("0x1bd")]&&setTimeout(x[_0x1d97("0x1bd")],1e3*_)}},{key:_0x1d97("0x10a9"),value:function(x){this[_0x1d97("0x10aa")](),!this[_0x1d97("0x108b")]&&this[_0x1d97("0x1af")](),this[_0x1d97("0x10ab")]=(0,o[_0x1d97("0x1c")])({bid:this.map.id},this[_0x1d97("0x10ab")],x),this._createMarker(x,!0)}},{key:_0x1d97("0x10ac"),value:function(x){this[_0x1d97("0x10aa")](),!this[_0x1d97("0x108b")]&&this[_0x1d97("0x1af")](),this[_0x1d97("0x1081")]=(0,o[_0x1d97("0x1c")])({bid:this.map.id},this[_0x1d97("0x1081")],x),this[_0x1d97("0x10a3")](x,!1)}},{key:"reRoute",value:function(){this[_0x1d97("0x10ab")]&&this[_0x1d97("0x1081")]&&(this[_0x1d97("0x10ad")]=null,this[_0x1d97("0x10aa")](),this[_0x1d97("0x10ae")](),this[_0x1d97("0x10af")]&&this[_0x1d97("0x10b0")]())}},{key:"setNaviData",value:function(x){this[_0x1d97("0x4b0")](),this[_0x1d97("0x10ab")]={x:x[0][_0x1d97("0x10b1")][0].x,y:x[0][_0x1d97("0x10b1")][0].y,fnum:x[0][_0x1d97("0xe8")]};var d=x[x[_0x1d97("0x0")]-1][_0x1d97("0x10b1")];this[_0x1d97("0x1081")]={x:d[d.length-1].x,y:d[d[_0x1d97("0x0")]-1].y,fnum:x[x.length-1][_0x1d97("0xe8")]},this.outcome={result:x},this[_0x1d97("0x107f")]=this[_0x1d97("0x10af")].result,this[_0x1d97("0x10b2")]();var _=this[_0x1d97("0x10b3")](this[_0x1d97("0x107f")]);this[_0x1d97("0x10b4")]=_[0],this.naviDescriptionsData=_[1],this[_0x1d97("0x107e")]=_[2],this[_0x1d97("0x10b5")]=this[_0x1d97("0x10b6")]();for(var e=0;e<this.crossPoints.length;e++)this[_0x1d97("0x10b7")][this[_0x1d97("0x10b5")][e][_0x1d97("0xe8")]]||(this.toPassedFnum[this[_0x1d97("0x10b5")][e].fnum]=!1);this.toPassedFnum[this[_0x1d97("0x10ab")][_0x1d97("0xe8")]]=!0,this.drawNaviLine()}},{key:_0x1d97("0x10b2"),value:function(){var x=this.outcome[_0x1d97("0xbf0")];if(x){for(var d=[],_=null,e=null,t=0;t<x.length;t++){var a=x[t],i=_==a[_0x1d97("0xe8")];0==a.length&&0!=t&&t!=x[_0x1d97("0x0")]-1||(i||(_=a[_0x1d97("0xe8")],e&&d[_0x1d97("0x1")](e),e={fnum:a[_0x1d97("0xe8")],pointList:[]}),Array[_0x1d97("0xf")][_0x1d97("0x1")][_0x1d97("0x5")](e[_0x1d97("0x10b1")],a.pointList))}return e&&d[_0x1d97("0x1")](e),this._groupsPoints=d,d}}},{key:_0x1d97("0x2bc"),value:function(){this[_0x1d97("0x10ae")]()}},{key:_0x1d97("0x10b6"),value:function(){for(var x=[],d=this[_0x1d97("0x10af")].result,_=0;_<d[_0x1d97("0x0")];_++)if(0==d[_][_0x1d97("0x0")]&&1==d[_][_0x1d97("0x10b1")].length){var e=(0,o[_0x1d97("0x1c")])({},d[_].pointList[0]);d[_].pointList[0].id;if(e.id){var t=this[_0x1d97("0x1099")].getNavNodeById(e[_0x1d97("0xe5")],e.id);e[_0x1d97("0x40")]=t[_0x1d97("0x40")]||0,x.push(e)}}return x}},{key:"queryByPoints",value:function(x){for(var d,_=[],e=this[_0x1d97("0x36")],t=this.ladderType,a=this.map,i=0;i<x[_0x1d97("0x0")]-1;i++){var n=x[i];n[_0x1d97("0xe5")]||(n[_0x1d97("0xe5")]=this[_0x1d97("0x38")].id);var r=x[i+1];if(r[_0x1d97("0xe5")]||(r.bid=this.map.id),n.x!==r.x||n.y!==r.y){!d&&(d=n.fnum);var s=this[_0x1d97("0x1099")][_0x1d97("0x10ae")]({bid:a.sceneId_,startPoint:n,endPoint:r,mode:e,ladderType:t,linkStartEnd:this[_0x1d97("0x10b8")],linkMinDistance:this[_0x1d97("0x10b9")],useAMap:!1,type:null});this[_0x1d97("0x10ba")]||(this[_0x1d97("0x1099")][_0x1d97("0x10bb")]=[]),i<x[_0x1d97("0x0")]-2&&s[_0x1d97("0xbf0")][s[_0x1d97("0xbf0")].length-1][_0x1d97("0x10b1")][_0x1d97("0x7ff")](),s[_0x1d97("0xbf0")].forEach((function(x,d,e){_[_0x1d97("0x1")](x)}))}}for(var o={},c=0;c<_[_0x1d97("0x0")];c++)for(var l=0;l<_[c].pointList[_0x1d97("0x0")];l++)o[_[c][_0x1d97("0x10b1")][l].id]?l!=_[c][_0x1d97("0x10b1")][_0x1d97("0x0")]-1&&(_[c].pointList[l].x+=.8,_[c][_0x1d97("0x10b1")][l].y+=.8):o[_[c].pointList[l].id]=1;for(var u=0;u<_[_0x1d97("0x0")]-1;u++)_[u][_0x1d97("0xe8")]==_[u+1][_0x1d97("0xe8")]&&0!=_[u].length&&0!=_[u+1][_0x1d97("0x0")]&&(_[u].length+=_[u+1].length,_[u][_0x1d97("0x10b1")]=_[u][_0x1d97("0x10b1")].concat(_[u+1].pointList),_.splice(u+1,1),u--);this[_0x1d97("0x10ab")]={x:x[0].x,y:x[0].y,fnum:x[0][_0x1d97("0xe8")],bid:x[0].bid},this.endData={x:x[x[_0x1d97("0x0")]-1].x,y:x[x[_0x1d97("0x0")]-1].y,fnum:x[x[_0x1d97("0x0")]-1].fnum,bid:x[x[_0x1d97("0x0")]-1][_0x1d97("0xe5")]},this[_0x1d97("0x10af")]={result:_},this[_0x1d97("0x107f")]=_,this._getFloorsPoints();x=this._naviDescriptions(this._naviResult);this[_0x1d97("0x10b4")]=x[0],this.naviDescriptionsData=x[1],this[_0x1d97("0x107e")]=x[2],this[_0x1d97("0x10b5")]=this[_0x1d97("0x10b6")]();for(var f=0;f<this[_0x1d97("0x10b5")][_0x1d97("0x0")];f++)this[_0x1d97("0x10b7")][this[_0x1d97("0x10b5")][f][_0x1d97("0xe8")]]||(this[_0x1d97("0x10b7")][this[_0x1d97("0x10b5")][f][_0x1d97("0xe8")]]=!1);this[_0x1d97("0x10b7")][d]=!0}},{key:_0x1d97("0x10ae"),value:(d=(0,s[_0x1d97("0x1c")])(n[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){var d,_,e,t,a,i,s,c,l,u,f,h,b,g,v,p,m,A,C,I,y,E,w,T,k,S=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return n[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:return x[_0x1d97("0x2a8")]=2,new r.default((function(x){setTimeout(x,0)}));case 2:if(x[_0x1d97("0x2e3")]=2,d=S[_0x1d97("0x10bc")]||!1,_=S[_0x1d97("0x10bd")]||!1,e=S[_0x1d97("0x6a")]||_0x1d97("0x10be"),!this[_0x1d97("0x10ab")]||!this[_0x1d97("0x1081")]){x[_0x1d97("0x2a8")]=69;break}if(t=this[_0x1d97("0x10ab")],a=this[_0x1d97("0x1081")],i=this[_0x1d97("0x36")],s=this[_0x1d97("0x38")],t.bid||(t[_0x1d97("0xe5")]=s[_0x1d97("0xa7a")]),t[_0x1d97("0xe8")]||(t[_0x1d97("0xe8")]=1),a[_0x1d97("0xe5")]||(a[_0x1d97("0xe5")]=s[_0x1d97("0xa7a")]),a[_0x1d97("0xe8")]||(a[_0x1d97("0xe8")]=1),c=this[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:this.map.options[_0x1d97("0x1e7")],to:this[_0x1d97("0x38")][_0x1d97("0x17b")],coord:{x:t.x,y:t.y}}),l=this[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e7")],to:this.map[_0x1d97("0x17b")],coord:{x:a.x,y:a.y}}),u=(0,o[_0x1d97("0x1c")])({},t,c),f=(0,o[_0x1d97("0x1c")])({},a,l),!_){x[_0x1d97("0x2a8")]=34;break}return this[_0x1d97("0x1085")]="AMAP",x[_0x1d97("0x2a8")]=23,this.routePlanner[_0x1d97("0x10ae")]({bid:s[_0x1d97("0xa7a")],startPoint:u,endPoint:f,mode:i,ladderType:this[_0x1d97("0x10bf")],linkStartEnd:this[_0x1d97("0x10b8")],linkMinDistance:this[_0x1d97("0x10b9")],useAMap:_,type:e});case 23:h=x[_0x1d97("0x533")],b=h.rawPointList,g=h[_0x1d97("0x25e")],v=h.des,p=h.pointList,this[_0x1d97("0x10c0")]=v,this.combinePoints=b,this.navidistance=g,m=this[_0x1d97("0x38")][_0x1d97("0x4c0")]({from:this[_0x1d97("0x38")][_0x1d97("0x17b")],to:this[_0x1d97("0x38")][_0x1d97("0x17a")],coords:p}),d&&(A=new(esmap[_0x1d97("0x52d")])({id:"navLine",bid:0,points:m,style:this[_0x1d97("0xa5d")]}),this.lineObj=A,this[_0x1d97("0x38")][_0x1d97("0x92e")](A)),this[_0x1d97("0x924")](_0x1d97("0x356"),m),x.next=69;break;case 34:if(this[_0x1d97("0x1085")]=_0x1d97("0x1f5"),this[_0x1d97("0x10af")]=this[_0x1d97("0x1099")].getRouteResult({bid:s[_0x1d97("0xa7a")],startPoint:u,endPoint:f,mode:i,ladderType:this[_0x1d97("0x10bf")],linkStartEnd:this[_0x1d97("0x10b8")],linkMinDistance:this.linkMinDistance,useAMap:_,type:e}),this.outcome){x[_0x1d97("0x2a8")]=39;break}throw console[_0x1d97("0x2ac")](_0x1d97("0x10c1")),_0x1d97("0x10c1");case 39:if(this[_0x1d97("0x38")][_0x1d97("0x36")]!=esmap.MapMode[_0x1d97("0x3b")]){x[_0x1d97("0x2a8")]=58;break}C=0;case 41:if(!(C<this.outcome[_0x1d97("0xbf0")][_0x1d97("0x0")])){x.next=58;break}I=this[_0x1d97("0x10af")].result[C][_0x1d97("0x10b1")],x.t0=n.default.keys(I);case 44:if((x.t1=x.t0())[_0x1d97("0x3e8")]){x[_0x1d97("0x2a8")]=55;break}if(y=x.t1[_0x1d97("0xf1")],!(E=I[y])[_0x1d97("0x10c2")]){x[_0x1d97("0x2a8")]=49;break}return x[_0x1d97("0x2ae")](_0x1d97("0x53c"),44);case 49:w=this.map.transformCoord({from:this[_0x1d97("0x38")][_0x1d97("0x17b")],to:this[_0x1d97("0x38")][_0x1d97("0x35")].userCrs,coord:{x:E.x,y:E.y}}),E.x=w.x,E.y=w.y,E._trs=!0,x[_0x1d97("0x2a8")]=44;break;case 55:C++,x[_0x1d97("0x2a8")]=41;break;case 58:for(this._naviResult=this[_0x1d97("0x10af")][_0x1d97("0xbf0")],this[_0x1d97("0x10b2")](),T=this[_0x1d97("0x10b3")](this[_0x1d97("0x107f")]),this[_0x1d97("0x10b4")]=T[0],this[_0x1d97("0x10c3")]=T[1],this.navidistance=T[2],this[_0x1d97("0x10b5")]=this[_0x1d97("0x10b6")](),k=0;k<this[_0x1d97("0x10b5")][_0x1d97("0x0")];k++)this.toPassedFnum[this.crossPoints[k][_0x1d97("0xe8")]]||(this[_0x1d97("0x10b7")][this[_0x1d97("0x10b5")][k].fnum]=!1);this[_0x1d97("0x10b7")][this[_0x1d97("0x10ab")].fnum]=!0,d&&this.drawNaviLine(),this.emit(_0x1d97("0x356"),this[_0x1d97("0x10af")]);case 69:x[_0x1d97("0x2a8")]=74;break;case 71:x[_0x1d97("0x2e3")]=71,x.t2=x[_0x1d97("0x901")](2),this[_0x1d97("0x924")](_0x1d97("0x245"),x.t2);case 74:case"end":return x[_0x1d97("0x1af")]()}}),x,this,[[2,71]])}))),function(){return d[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x10c4"),value:function(){var x=this[_0x1d97("0x38")],d=this.outcome;for(var _ in d[_0x1d97("0xbf0")]){var e=d.result[_][_0x1d97("0x10b1")];for(var t in e){var a=e[t],i=(0,o[_0x1d97("0x1c")])({},a);if(!i[_0x1d97("0x10c2")]){var n=x[_0x1d97("0x1a6")]({from:x[_0x1d97("0x17b")],to:x[_0x1d97("0x35")][_0x1d97("0x1e7")],coord:{x:a.x,y:a.y}});i.x=n.x,i.y=n.y,i[_0x1d97("0x10c2")]=!0,e[t]=i}}}}},{key:_0x1d97("0x10c5"),value:function(){var x=m[_0x1d97("0x359")](this);x&&(this[_0x1d97("0x38")][_0x1d97("0x146")].findAndDelete(x[_0x1d97("0xa3")]),x&&(this.map[_0x1d97("0xa3a")](x),m[_0x1d97("0x11b")](this,null)))}},{key:_0x1d97("0x10c6"),value:function(){this[_0x1d97("0x1082")]&&(this[_0x1d97("0x1082")][_0x1d97("0xa6")](),this.startmarker=null,this.startData=null),this.endMarker&&(this[_0x1d97("0x1084")][_0x1d97("0xa6")](),this[_0x1d97("0x1084")]=null,this[_0x1d97("0x1081")]=null),this[_0x1d97("0x107f")]=null}},{key:"clearNaviLines",value:function(){this[_0x1d97("0x38")][_0x1d97("0x92c")](_0x1d97("0x10a2"))}},{key:"clearAll",value:function(){this[_0x1d97("0x1af")](),this[_0x1d97("0x10c6")](),this.clearNaviLines(),this[_0x1d97("0x10c5")](),this[_0x1d97("0x10ab")]=null,this.endData=null}},{key:_0x1d97("0x10c7"),value:function(x,d){var _=this;(d=null==d||d)&&_.clearNaviLines();for(var e=[],t=0;t<x.length;t++){var a=x[t].point,i=(0,o.default)({},a);if(i[_0x1d97("0x10c2")])e[_0x1d97("0x1")](i);else{var n=_.map[_0x1d97("0x1a6")]({from:_.map[_0x1d97("0x17b")],to:_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e7")],coord:{x:a.x,y:a.y}});i.x=n.x,i.y=n.y,i[_0x1d97("0x10c2")]=!0,e.push(i)}}_[_0x1d97("0x10c8")](e,d)}},{key:_0x1d97("0x10c8"),value:function(x,d){(d=null==d||d)&&this[_0x1d97("0x10aa")]();var _=new esmap.ESLineMarker({id:_0x1d97("0x10a2"),name:_0x1d97("0x10a2"),points:x,style:this[_0x1d97("0xa5d")]});this[_0x1d97("0x10c9")]=_,"arrow"==this[_0x1d97("0xa5d")][_0x1d97("0x6a")]||_0x1d97("0x503")==this.lineStyle[_0x1d97("0x6a")]?this.lineStyle[_0x1d97("0x10ca")]=.3:this[_0x1d97("0xa5d")][_0x1d97("0x10ca")]=1,this.map[_0x1d97("0x92e")](_)}},{key:"drawNaviLine",value:function(x,d){if(this.clearNaviLines(),this[_0x1d97("0x10ab")]&&this.endData&&this[_0x1d97("0x10af")]){this.lineStyle.up=new(THREE[_0x1d97("0xe0")])(0,1,0),this[_0x1d97("0xa5d")][_0x1d97("0x10cb")]=!1,!this.autoClearNaviLine&&d&&this[_0x1d97("0x10aa")]();this[_0x1d97("0x10c7")](this[_0x1d97("0x10cc")],this[_0x1d97("0x10cd")]),this[_0x1d97("0x10ce")]()}}},{key:"_locMarkerToStartPoint",value:function(x){if(this._naviResult){var d=this[_0x1d97("0x107f")][0][_0x1d97("0x10b1")][0],_=this[_0x1d97("0x107f")][0][_0x1d97("0xe8")],e=this[_0x1d97("0x107f")][0][_0x1d97("0xe5")]||0;x=null==x?3:x,this[_0x1d97("0x4e8")][_0x1d97("0x24c")]({x:d.x,y:d.y,bid:e,fnum:_,offsetHeight:x||1.01*this[_0x1d97("0x26")]})}}},{key:_0x1d97("0x10cf"),value:function(x,d,_){return null==d&&(d=0),this[_0x1d97("0x38")][_0x1d97("0x254")]({x:x.x,y:x.y,time:d,FloorNum:x[_0x1d97("0xe8")],callback:_})}},{key:_0x1d97("0x10d0"),value:function(x){if(this[_0x1d97("0x109b")]){for(var d=0;d<x.length;d++)typeof x[d]==_0x1d97("0xe")&&x[d].match(/\s/)&&x[_0x1d97("0x189")][_0x1d97("0x5")](x,[d,1][_0x1d97("0x1de")]((0,i[_0x1d97("0x1c")])(x[d].split(" "))));this[_0x1d97("0x38")][_0x1d97("0x109e")].playAudioByText(x)}}},{key:_0x1d97("0x10d1"),value:function(x){I[x]&&this.lastNavCode!=I[x]&&(this.lastNavCode=I[x],this[_0x1d97("0x924")]("navCodeChanged",this[_0x1d97("0x10d2")]))}},{key:_0x1d97("0x10d3"),value:function(x){var d=this.map,_=d[_0x1d97("0x16d")].camera[_0x1d97("0x56a")];return{radius:"3D"==d[_0x1d97("0x1ef")]?x/(2*Math.tan(_/2*Math.PI/180)):x/(2*Math[_0x1d97("0x31a")](_/2*Math.PI/180))}}},{key:_0x1d97("0x10d4"),value:function(x,d,_){}},{key:"_broadcast",value:function(x,d,_){var e=this,t=e.naviDescriptions[x],a=e.naviDescriptionsData[x],i=e.naviDescriptions[x+1],n=e[_0x1d97("0x10c3")][x+1],r=(e[_0x1d97("0x10b4")].length,a[_0x1d97("0x25e")]-d),s=1==e.mode?e.maxEnd+5:e[_0x1d97("0x10db")]+12,o=e.map[_0x1d97("0x2aa")][_0x1d97("0x9c1")],c=null,l="";if(_<=s)c=o.getDesFromNavLib(_0x1d97("0xda9")),e[_0x1d97("0x1093")][_0x1d97("0x10dc")]||(e[_0x1d97("0x10d1")](_0x1d97("0xda9")),e[_0x1d97("0x10d0")]([_0x1d97("0xda9")]),e[_0x1d97("0x1093")][_0x1d97("0x10dc")]=!0);else if(_<=e[_0x1d97("0x10db")])c=o.getDesFromNavLib("å·²å°è¾¾ç®çå°éè¿"),e[_0x1d97("0x1093")].tipEnded||(e.audioPlayed[_0x1d97("0x10dd")]=!0);else if(e[_0x1d97("0x2f2")]&&e.fitView(a,r,d),1==e[_0x1d97("0x36")])!a[_0x1d97("0x10de")]&&r>=1&&(e[_0x1d97("0x10d1")](t[0]),l=[t[0],Math[_0x1d97("0xb0")](d)-2,"ç±³","å",t[2]],e[_0x1d97("0x10d0")](l),a[_0x1d97("0x10de")]=!0),d<=e[_0x1d97("0x10df")]?(c=o[_0x1d97("0xdb8")](t[2]),a.manModeTipEnded||(e[_0x1d97("0x10d1")](t[2]),l=[t[2]],e[_0x1d97("0x10d0")](l),a[_0x1d97("0x10e0")]=!0)):d>=20&&r>=a[_0x1d97("0x10e1")]&&(e[_0x1d97("0x10d1")]("ç´è¡"),a[_0x1d97("0x10e1")]+=30,l=[Math[_0x1d97("0xb0")](d)-2,"ç±³","å",t[2]],e[_0x1d97("0x10d0")](l));else if(!a[_0x1d97("0x10e2")]&&r>=1&&(l=[t[0],Math[_0x1d97("0xb0")](d)-2,"ç±³","å",t[2]],e[_0x1d97("0x10d0")](l),a[_0x1d97("0x10e2")]=!0),d<=12&&(c=n[_0x1d97("0x25e")]<=12?o[_0x1d97("0xdb8")](t[2])+o[_0x1d97("0xdb8")]("å")+o.getDesFromNavLib(i[2]):o.getDesFromNavLib(t[2])),d<=12&&!a[_0x1d97("0x10e3")]){if(n[_0x1d97("0x25e")]<12&&"ç»"!=n.endDirection){var u=t[2],f=i[2];t[2][_0x1d97("0xd7")]("å·¦")>-1?u="å·¦è½¬":t[2][_0x1d97("0xd7")]("å³")>-1&&(u="å³è½¬"),i[2][_0x1d97("0xd7")]("å·¦")>-1?f="å·¦è½¬":i[2][_0x1d97("0xd7")]("å³")>-1&&(f="å³è½¬"),e[_0x1d97("0x10d1")](f),l=[u+"å"+f],e[_0x1d97("0x10d0")](l)}else l=[t[2]],e[_0x1d97("0x10d0")](l),e[_0x1d97("0x10d1")](t[2]);a.carModeTipEnded=!0}else a[_0x1d97("0x25e")]>=50&&d<=37?a[_0x1d97("0x10e4")]||(e[_0x1d97("0x10d0")]([_0x1d97("0xdb4")]),a[_0x1d97("0x10e4")]=!0):r>=a[_0x1d97("0x10e5")]&&(a[_0x1d97("0x10e5")]+=40,l=[Math[_0x1d97("0xb0")](d)-2,"ç±³","å",t[2]],e[_0x1d97("0x10d0")](l));e[_0x1d97("0x10c3")][x][_0x1d97("0x10e6")]||(e[_0x1d97("0x10c3")][x][_0x1d97("0x10e6")]=!0),c||(e._setNavCode(t[0]),c=o[_0x1d97("0xdb8")](t[0])+" "+Math[_0x1d97("0xb0")](d)+" "+o[_0x1d97("0xdb8")]("ç±³")+" "+o[_0x1d97("0xdb8")]("å")+" "+o[_0x1d97("0xdb8")](t[2])),e.navTip=c}},{key:_0x1d97("0x10e7"),value:function(x,d){for(var _={dis:-1,point1:null,point2:null},e=0;e<this[_0x1d97("0x10b5")][_0x1d97("0x0")];e++){var t=this[_0x1d97("0x10b5")][e];if(t[_0x1d97("0xe8")]!=x||30!=t[_0x1d97("0x40")]&&40!=t[_0x1d97("0x40")]){if(_[_0x1d97("0x10e8")]&&(30==t[_0x1d97("0x40")]||40==t[_0x1d97("0x40")])&&t[_0x1d97("0xe8")]!=_[_0x1d97("0x10e8")][_0x1d97("0xe8")]){_[_0x1d97("0x10e9")]=t,_[_0x1d97("0x10ea")]=(0,f[_0x1d97("0xbc")])(_[_0x1d97("0x10e8")],_[_0x1d97("0x10e9")]),_[_0x1d97("0x257")]=this[_0x1d97("0x25a")](_[_0x1d97("0x10e8")],_[_0x1d97("0x10e9")]);break}}else _[_0x1d97("0x590")]=(0,f.DistanceofTwoPts)(t,d),_[_0x1d97("0x10e8")]=t}return _}},{key:_0x1d97("0x10eb"),value:function(x,d){for(var _=x[_0x1d97("0xe8")],e={x:x.x,y:x.y},i=this.map.sceneId_,n=this[_0x1d97("0x1099")][_0x1d97("0x10ec")][_0x1d97("0x78c")][i][_0x1d97("0x8f4")][_-1][_0x1d97("0xc49")],r=this.routePlanner.routeCore[_0x1d97("0x78c")][i][_0x1d97("0x8f4")][_-1][_0x1d97("0x18e")],s=this.routePlanner[_0x1d97("0x10ec")][_0x1d97("0x10ed")][i][_0x1d97("0x10ee")],o=(new a.default,new(t[_0x1d97("0x1c")])),c=new a.default,l=0;l<navi[_0x1d97("0x10af")][_0x1d97("0xbf0")][_0x1d97("0x0")];l++){navi.outcome[_0x1d97("0xbf0")][l][_0x1d97("0x10ef")][_0x1d97("0x1d")]((function(x){c.add(1*x)}))}for(var u in n){var h=n[u],b={x:h.X,y:h.Y};if((0,f.DistanceofTwoPts)(b,x)<100){var g=s[h[_0x1d97("0x170")]];if(g)for(var v in g){var p=1*g[v];if(!c[_0x1d97("0x10f0")](p)){var m=r[p];if(m&&!o[_0x1d97("0x10f0")](p)){var A=n[m[_0x1d97("0xce3")]==h[_0x1d97("0x170")]?m[_0x1d97("0x464")]:m[_0x1d97("0xce3")]];if(A){if((0,f.calcProjPoint)({x:e.x,y:e.y},{x:h.X,y:h.Y},{x:A.X,y:A.Y},{})<d)return!0;o.set(p,!0)}}}}}}return!1}},{key:_0x1d97("0x10f1"),value:function(x,d,_,e){var t=this,a=t[_0x1d97("0xb7")],i=this[_0x1d97("0x1085")],n=(new Date)[_0x1d97("0x74")]();if(t[_0x1d97("0x1088")]&&n-t.crossFutiTime>t[_0x1d97("0x10f2")]*t[_0x1d97("0x10f3")]&&(t[_0x1d97("0x1088")]=!1,t[_0x1d97("0x10f4")]=(new Date)[_0x1d97("0x74")]()),!t[_0x1d97("0x1088")]){var r="3"==t[_0x1d97("0x1099")].ladderType?3:1,s=t[_0x1d97("0x10f5")]?t.reRouteDis:8*r;if(x.offset>s)this[_0x1d97("0x10eb")](d,x[_0x1d97("0x113")])&&a[_0x1d97("0x10f6")]++;else a.deviateCount=0;if(a[_0x1d97("0x10f6")]>=t[_0x1d97("0x10f7")]){t[_0x1d97("0x1af")](),t[_0x1d97("0x109b")]&&t[_0x1d97("0x38")][_0x1d97("0x109e")].playAudioByText(["å·²éæ°è§åè·¯çº¿"]);var c=d;if(t[_0x1d97("0x4e8")][_0x1d97("0x254")]({x:c.x,y:c.y}),t.startData.x=d.x,t[_0x1d97("0x10ab")].y=d.y,t.startData.fnum=d[_0x1d97("0xe8")],t[_0x1d97("0x924")]("reRouting"),t[_0x1d97("0x1082")])if(t[_0x1d97("0x1082")][_0x1d97("0x23f")]!=d[_0x1d97("0xe8")]){var l=t[_0x1d97("0x1082")].opts_.showLevel,u=t[_0x1d97("0x1082")][_0x1d97("0x3c9")][_0x1d97("0x1b5")],f=t[_0x1d97("0x1082")][_0x1d97("0x48")],h=t[_0x1d97("0x1082")][_0x1d97("0xeb3")],b=(0,o[_0x1d97("0x1c")])({},t.endData);t.clearMarkers(),t[_0x1d97("0x10a9")]({x:d.x,y:d.y,showLevel:l,fnum:d[_0x1d97("0xe8")],height:u,url:f,size:h}),t[_0x1d97("0x10ac")](b),t[_0x1d97("0x10aa")](),t[_0x1d97("0x10ae")]({drawRoute:!0}),t[_0x1d97("0x1d0")](_0x1d97("0x356"),(function(){a.deviateCount=0,t[_0x1d97("0x1c1")](!0)}))}else t[_0x1d97("0x1082")].moveTo(d),t[_0x1d97("0x10aa")](),t[_0x1d97("0x10ae")]({drawRoute:!0}),t[_0x1d97("0x1d0")](_0x1d97("0x356"),(function(){a[_0x1d97("0x10f6")]=0,t[_0x1d97("0x1c1")](!0)}));return}if(0!=a[_0x1d97("0x10f8")]&&a.surDistance<x[_0x1d97("0x10f9")]?a[_0x1d97("0x10fa")]++:a.backcount=0,_&&(a[_0x1d97("0x10fa")]=0),0==a[_0x1d97("0x10fa")]||a[_0x1d97("0x10fa")]>=10*r){var g=t[_0x1d97("0x38")][_0x1d97("0x17c")](x.point);if(g[_0x1d97("0xe8")]=x.point.fnum,g.bid=x[_0x1d97("0x3e0")][_0x1d97("0xe5")],this[_0x1d97("0x924")](_0x1d97("0x10fb"),x),this[_0x1d97("0x10fc")](g,x[_0x1d97("0x257")],x[_0x1d97("0x3e0")],x[_0x1d97("0x28a")],e),a[_0x1d97("0x10f8")]=x.remain,x[_0x1d97("0x10f9")]<t[_0x1d97("0x10db")]?a[_0x1d97("0x10fd")]++:a.arrivalCount=0,a[_0x1d97("0x10fd")]>t[_0x1d97("0x10fd")]||x[_0x1d97("0x10f9")]<=1){if(t[_0x1d97("0x10fe")]){var v=null;if(i==_0x1d97("0x1f5")&&(40004==t[_0x1d97("0x1081")][_0x1d97("0x40")]?t.naviDescriptionsData[t[_0x1d97("0x10c3")].length-1][_0x1d97("0x10ff")]&&(v=t.naviDescriptionsData[t[_0x1d97("0x10c3")][_0x1d97("0x0")]-1].parkDir):!t[_0x1d97("0x10c3")][t[_0x1d97("0x10c3")][_0x1d97("0x0")]-1][_0x1d97("0x10e6")]&&t[_0x1d97("0x10c3")][t[_0x1d97("0x10c3")].length-2]&&t[_0x1d97("0x10c3")][t[_0x1d97("0x10c3")][_0x1d97("0x0")]-2][_0x1d97("0x10e6")]&&(v=t[_0x1d97("0x10c3")][t.naviDescriptionsData[_0x1d97("0x0")]-2][_0x1d97("0x1100")])),t[_0x1d97("0x1af")](),t._updateLinePass(0,!0),t[_0x1d97("0x109b")]&&t[_0x1d97("0x1101")])if(v){v=v.indexOf("å·¦")<0?"å³":"å·¦";var p=_0x1d97("0x1102")+v+"ä¾§";this[_0x1d97("0x10d0")]([p,_0x1d97("0x1103")])}else this.playAudio(["å¯¼èªç»æ"])}t[_0x1d97("0x1104")](),t[_0x1d97("0x924")](_0x1d97("0x2f1"))}else if(t[_0x1d97("0x1085")]==_0x1d97("0x1f5"))t[_0x1d97("0x1105")](x[_0x1d97("0x1106")],x[_0x1d97("0x1107")],x[_0x1d97("0x10f9")]);else{var m=t.combinePoints[x[_0x1d97("0x2eb")]][_0x1d97("0x1108")];if(x[_0x1d97("0x10f9")]<=10){if(t[_0x1d97("0x1109")]=_0x1d97("0xda9"),x.remain<=1)return t[_0x1d97("0x1109")]="å·²å°è¾¾ç®çå°éè¿",t[_0x1d97("0x1af")](),t[_0x1d97("0x1104")](),void t.emit(_0x1d97("0x2f1"))}else t[_0x1d97("0x1109")]=t[_0x1d97("0x10c0")][m][_0x1d97("0x110a")]}}}}},{key:_0x1d97("0x1104"),value:function(){}},{key:_0x1d97("0x110b"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,o[_0x1d97("0x1c")])({far:1.2},x);if(this[_0x1d97("0x10af")]){var _=this[_0x1d97("0x10af")].result[0][_0x1d97("0x10b1")],e=esmap[_0x1d97("0x75")][_0x1d97("0x551")](_),t=_[0][_0x1d97("0xe8")],a=esmap[_0x1d97("0x75")].computeCameraStateByBounds(e),i=a[_0x1d97("0x58b")]*d[_0x1d97("0x3d8")];if(i<this.bestViewMinDistance&&(i=this[_0x1d97("0x110c")]),"3D"!=this[_0x1d97("0x38")].viewMode){var n=i/this[_0x1d97("0x38")][_0x1d97("0x280")].initDistance_;this.map[_0x1d97("0x8c4")]({value:n,raw:!0,time:1}),this.map[_0x1d97("0x254")](a[_0x1d97("0x27e")]),this[_0x1d97("0x38")][_0x1d97("0x277")](0)}else this[_0x1d97("0x38")][_0x1d97("0x96b")]({x:a[_0x1d97("0x27e")].x,y:a[_0x1d97("0x27e")].y,z:1,fnum:t,radius:i,pitchAngle:1})}}},{key:"stop",value:function(){C={x:0,y:0},this.isSimulating?(clearInterval(this[_0x1d97("0x110d")]),this[_0x1d97("0x110e")]&&this[_0x1d97("0x110e")].stop(),this[_0x1d97("0x110f")]&&clearInterval(this[_0x1d97("0x110f")]),this._moveToID&&this[_0x1d97("0x256")][_0x1d97("0x1af")](),this[_0x1d97("0x1110")]&&this[_0x1d97("0x1110")][_0x1d97("0x1af")](),this._animateFun&&this[_0x1d97("0x38")][_0x1d97("0x5e")]("update",this[_0x1d97("0x1098")]),this[_0x1d97("0x1096")]=0,this._preGid=0,this[_0x1d97("0x1111")]=null,this[_0x1d97("0x1112")]=0,this._toPos=this[_0x1d97("0x1095")]=null,this[_0x1d97("0x897")].stop(),this[_0x1d97("0x1113")]=!1,this[_0x1d97("0x1114")]=null,this._isEnd_=!0):this[_0x1d97("0x108c")]&&(this[_0x1d97("0x108c")]=!1,this[_0x1d97("0xb7")][_0x1d97("0x10f6")]=0,this[_0x1d97("0xb7")][_0x1d97("0x10fd")]=0,this[_0x1d97("0xb7")].backcount=0,this[_0x1d97("0xb7")].surDistance=0,window.clearInterval(this.realNaviClock),this[_0x1d97("0x1080")]=0,this.curPathInfos[_0x1d97("0x2eb")]=0,this[_0x1d97("0x1092")][_0x1d97("0x1115")]=0,this.audioCountDown=20,this[_0x1d97("0x1116")]={},this[_0x1d97("0x1091")]=[],this[_0x1d97("0x1090")]={}),this[_0x1d97("0x1092")]={index:0,dis2next:0},this[_0x1d97("0x1093")]={},this[_0x1d97("0x1089")]={},this[_0x1d97("0x1117")]=null,this._preBid=null,this[_0x1d97("0x108e")]=null,this.combinePoints=null,this[_0x1d97("0x10ad")]=null,this[_0x1d97("0x1087")]=null}},{key:_0x1d97("0x1118"),value:function(x,d){for(var _=this[_0x1d97("0x10c9")][_0x1d97("0xa3")][_0x1d97("0xa4")],e=0,t=0;t<_[_0x1d97("0x0")];t++)if(d)_[t][_0x1d97("0x13a")]=1;else{var a=e;if((_[t][_0x1d97("0xb8")][_0x1d97("0xd7")]("cross")<0||_[t][_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x1119"))>=0)&&(e+=_[t].length),!_[t][_0x1d97("0x11e")][_0x1d97("0x111a")]){if(_[t][_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x2dc"))<0||_[t][_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0x1119"))>=0){if(x<e){_[t][_0x1d97("0x13a")]=(x-a)/_[t][_0x1d97("0x0")];break}}else _[t][_0x1d97("0x11e")].passed||(_[t-1]&&_[t-1][_0x1d97("0x11e")][_0x1d97("0x111a")]?(_[t-1][_0x1d97("0x13a")]=1,_[t][_0x1d97("0x13a")]=1):_[t][_0x1d97("0x13a")]=1);_[t][_0x1d97("0x11e")].passed=!0}}}},{key:_0x1d97("0x10ce"),value:function(){}},{key:_0x1d97("0x111b"),value:function(x,d){if(this.startData&&this[_0x1d97("0x1081")]){this[_0x1d97("0x10ad")]||(this[_0x1d97("0x10ad")]=this[_0x1d97("0x111c")]()[_0x1d97("0x38")]((function(x){return{x:x.x,y:x.z,z:0,distance:x[_0x1d97("0x25e")],bid:x.bid,fnum:x[_0x1d97("0xe8")],index:x[_0x1d97("0x111d")]}})));var _=this;(d=d||{}).inTime||_.inTime;if(d.scaleLevel=d[_0x1d97("0x22e")]||_[_0x1d97("0x22e")]||0,_[_0x1d97("0x111e")]((0,b.getValues)(d,_0x1d97("0x1b5"),_0x1d97("0xe8e"),_0x1d97("0x113"),1.01*_[_0x1d97("0x26")])),(_[_0x1d97("0x111f")]||(0,b[_0x1d97("0x13")])(d,_0x1d97("0x609"),!1))&&_[_0x1d97("0x10b0")](null,!0),_[_0x1d97("0x1120")]||this._linesVisible([_[_0x1d97("0x10ab")].fnum]),_[_0x1d97("0x2f2")]&&_[_0x1d97("0x1121")]){var e=_.map.getBuildingById(this[_0x1d97("0x10ab")][_0x1d97("0xe5")]);_[_0x1d97("0x1120")]||(e.visibleFloorNums=[_[_0x1d97("0x10ab")][_0x1d97("0xe8")]]),e.focusFloorNum!=_.startData.fnum?(e[_0x1d97("0xb8c")]={floornum:_.startData[_0x1d97("0xe8")],time:.3},setTimeout((function(){_[_0x1d97("0x10a8")]({time:1.5,coord:{x:_[_0x1d97("0x10ab")].x,y:_.startData.y},scaleLevel:_[_0x1d97("0x22e")],tiltAngle:10,onComplete:function(){x()}})}),300)):_[_0x1d97("0x10a8")]({time:1.5,coord:{x:_[_0x1d97("0x10ab")].x,y:_[_0x1d97("0x10ab")].y},scaleLevel:_.scaleLevel,tiltAngle:10,onComplete:function(){x()}})}else!function(){if(_[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]||_[_0x1d97("0x10ab")][_0x1d97("0xe5")]!=_[_0x1d97("0x38")].id){var d=_[_0x1d97("0x38")][_0x1d97("0xee")](_[_0x1d97("0x10ab")][_0x1d97("0xe5")]);d[_0x1d97("0xef")]=[_[_0x1d97("0x10ab")][_0x1d97("0xe8")]],d[_0x1d97("0xb8c")]={floornum:_.startData.fnum,time:.3},setTimeout((function(){x()}),300)}else x()}()}}},{key:_0x1d97("0x1c1"),value:function(){var x=this;x[_0x1d97("0x111b")]((function(){x[_0x1d97("0x108c")]=!0}))}},{key:_0x1d97("0x1122"),value:function(){}},{key:"simulate",value:function(x){var d=this;d[_0x1d97("0x10cc")]||d[_0x1d97("0x2bc")](),d[_0x1d97("0x111b")]((function(){d[_0x1d97("0x108b")]=!1,d[_0x1d97("0x1123")]()}),x)}},{key:_0x1d97("0x1124"),value:function(x,d){var _=this,e=x,t=e[_0x1d97("0x25b")];if(!e[_0x1d97("0xe8")]){var a=_[_0x1d97("0x38")][_0x1d97("0x578")]();e.fnum=a.focusFloorNum}if(typeof e.x===_0x1d97("0x13d")&&typeof e.y===_0x1d97("0x13d")&&(e.x!=C.x||e.y!=C.y)){var i=_[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:_[_0x1d97("0x38")][_0x1d97("0x17b")],to:_[_0x1d97("0x38")].DEFAULT_COORDSYSTEM,coord:e});i.x<_[_0x1d97("0x38")][_0x1d97("0x449")]-100||i.x>_[_0x1d97("0x38")].maxX+100||i.y<_[_0x1d97("0x38")][_0x1d97("0x44c")]-100||i.y>_[_0x1d97("0x38")][_0x1d97("0x44e")]+100||((_[_0x1d97("0x108c")]||_[_0x1d97("0x1113")])&&function(){var x=_._naviConstraint(e);if(x){var a={remain:x.remain,walk:_[_0x1d97("0x107e")]-x[_0x1d97("0x10f9")],distanceToNext:x[_0x1d97("0x1107")],angle:x.angle,point:x[_0x1d97("0x1c4")],index:x[_0x1d97("0x1125")],isReal:!0,descriptionIndex:x[_0x1d97("0x1125")],offset:x[_0x1d97("0x25e")]};a.walk&&(_[_0x1d97("0x1117")]||(_._preGid=_.startData.fnum),_._preBid||(_[_0x1d97("0x1111")]=_[_0x1d97("0x10ab")].bid),d=d||!1,_[_0x1d97("0x1092")]={index:x.index,desIndex:x[_0x1d97("0x1125")],dis2next:a[_0x1d97("0x1107")]},_[_0x1d97("0x10f1")](a,e,d,t))}}(),C.x=e.x,C.y=e.y)}}},{key:_0x1d97("0x1126"),value:function(x){var d=this;if(d[_0x1d97("0x10ab")]&&d.endData){for(var _={coord:{fnum:x.fnum},distance:null,angle:0,balanceValue:null},e=d.analysedData,t={},a=function(x){for(var d=0,_=e[_0x1d97("0x0")]-1;_>x[_0x1d97("0x2eb")];_--)if(_-1>x[_0x1d97("0x2eb")]){var t=e[_],a=e[_-1];t[_0x1d97("0xe8")]==a[_0x1d97("0xe8")]&&(d+=(0,f[_0x1d97("0xbc")])(t,a))}return d+=(0,f[_0x1d97("0xbc")])(e[x.index+1],x.coord)},i=a({coord:d[_0x1d97("0x38")][_0x1d97("0x259")](d[_0x1d97("0x4e8")].position),index:d[_0x1d97("0x1092")][_0x1d97("0x2eb")]}),n=1;n<e.length;n++){var r=e[n-1],s=e[n];if(r.fnum===x[_0x1d97("0xe8")]&&s[_0x1d97("0xe8")]===x[_0x1d97("0xe8")]){var c=(0,f[_0x1d97("0xbd")])(x,r,s,t),l=i-a({index:r.index,coord:t}),u=.5;d[_0x1d97("0x1113")]&&(u=-1/0),Math[_0x1d97("0x253")](l)<u&&0==(l*=10)&&(l=10);var h=.8*c+(c>1?Math.abs(.2*l):0);(null==_[_0x1d97("0x1128")]||h<_[_0x1d97("0x1128")])&&(_[_0x1d97("0x25e")]=c,_.balanceValue=h,(0,o[_0x1d97("0x1c")])(_[_0x1d97("0x1c4")],t),_[_0x1d97("0x257")]=d.getRouteAngle(r,s),_[_0x1d97("0x2eb")]=r.index,_.fnum=r.fnum)}}if(null!=_[_0x1d97("0x25e")]){var b=a(_);_[_0x1d97("0x10f9")]=b-d[_0x1d97("0x108f")];var g=function(x){for(var _=d[_0x1d97("0x10c3")],e=d.navidistance-x,t=1/0,a=!1,i=!1,n=0,r=0,s=0,o=0,c=1,l=0;l<_.length;l++){var u=_[l];if(!i&&e<u[_0x1d97("0x1127")])n=r=u[_0x1d97("0x816")][_0x1d97("0xe5")],i=!0,s=u[_0x1d97("0x1127")]-e,o=l,c=u[_0x1d97("0x816")][_0x1d97("0xe8")],t=u[_0x1d97("0x1127")]-e;else{if(a)return{distonex:s,index:o,nexbid:n,distancetonexbid:t,bid:r,fnum:c};if(i){var f=u[_0x1d97("0x816")][_0x1d97("0xe5")];f!=r?(a=!0,n=f):t=u[_0x1d97("0x1127")]-e}}}return i&&a?{distonex:s,index:o,nexbid:n,distancetonexbid:t,bid:r,fnum:c}:i&&!a?{distonex:s,index:o,nexbid:n,distancetonexbid:1/0,bid:r,fnum:c}:{distonex:0,index:_[_0x1d97("0x0")]-1,distancetonexbid:1/0,bid:_[_[_0x1d97("0x0")]-1].endPoint[_0x1d97("0xe5")],fnum:_[_[_0x1d97("0x0")]-1][_0x1d97("0x817")].fnum}}(b-d[_0x1d97("0x108f")]);_[_0x1d97("0x1107")]=g[_0x1d97("0x1129")],_[_0x1d97("0x1125")]=g.index,_[_0x1d97("0x1c4")][_0x1d97("0xe5")]=g.bid,_[_0x1d97("0x1c4")].fnum=g[_0x1d97("0xe8")],_[_0x1d97("0x112a")]=g[_0x1d97("0x112a")]}return _}}},{key:"getRouteAngle",value:function(x,d){var _=new(THREE[_0x1d97("0xe0")])(0,0,1),e=new(THREE[_0x1d97("0xe0")])(x.x,0,x.y),t=new THREE.Vector3(d.x,0,d.y).clone()[_0x1d97("0x3d7")](e)[_0x1d97("0x2e1")](),a=t.angleTo(_)*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")];return isNaN(a)&&(a=0),t[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](_).y>0?360-a:a}},{key:_0x1d97("0x112b"),value:function(x,d,_){if(d>=_)return x[x[_0x1d97("0x0")]-1];if(x){if(0==d)return x[0];for(var e,t,a=0,i=0,n=x[0],r=1;r<x[_0x1d97("0x0")];r++)if((e=x[r])[_0x1d97("0xe8")]==n[_0x1d97("0xe8")]){if((a+=(t=e[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](n))[_0x1d97("0x0")]())>=d){t[_0x1d97("0x2e1")]();var s=n[_0x1d97("0xdb")]().add(t[_0x1d97("0xdb")]()[_0x1d97("0x276")](d-i));return s.fnum=e[_0x1d97("0xe8")],s[_0x1d97("0x2eb")]=e[_0x1d97("0x111d")],s}(n=e[_0x1d97("0xdb")]())[_0x1d97("0xe8")]=e[_0x1d97("0xe8")],n[_0x1d97("0x2eb")]=e[_0x1d97("0x111d")],i=a}else(n=e[_0x1d97("0xdb")]())[_0x1d97("0xe8")]=e[_0x1d97("0xe8")],n[_0x1d97("0x2eb")]=e[_0x1d97("0x111d")];var c=(0,o[_0x1d97("0x1c")])(new THREE.Vector3,x[x[_0x1d97("0x0")]-1]);return c[_0x1d97("0x2eb")]=c[_0x1d97("0x111d")],c}}},{key:_0x1d97("0x112c"),value:function(x,d){var _=this,e=x[_0x1d97("0xe5")]||_.map.id;if(x.id){var t,a;if(_[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].City&&x[_0x1d97("0xe5")]==_[_0x1d97("0x38")].id)return this[_0x1d97("0x108a")]="å®¤å","å®¤å";if(1==_[_0x1d97("0x36")]){if(!_[_0x1d97("0x1099")][_0x1d97("0x10ec")].dataList[e][_0x1d97("0x112d")][_0x1d97("0x112e")][x.id])return null;t=_[_0x1d97("0x1099")][_0x1d97("0x10ec")][_0x1d97("0x10ed")][e][_0x1d97("0x112d")][_0x1d97("0x112e")][x.id][0],a=_.routePlanner[_0x1d97("0x10ec")][_0x1d97("0x10ed")][e][_0x1d97("0x112f")][t]}else{if(!_.routePlanner[_0x1d97("0x10ec")][_0x1d97("0x10ed")][e][_0x1d97("0x112d")][_0x1d97("0x1130")][x.id])return null;t=_[_0x1d97("0x1099")][_0x1d97("0x10ec")][_0x1d97("0x10ed")][e].crossSchemes[_0x1d97("0x1130")][x.id][0],a=_[_0x1d97("0x1099")][_0x1d97("0x10ec")].dataList[e][_0x1d97("0x112f")][t]}switch(1*a[_0x1d97("0xce7")]||0){case 1:return this[_0x1d97("0x108a")]="æ¥¼æ¢¯","æ¥¼æ¢¯";case 2:return this[_0x1d97("0x108a")]="çµæ¢¯","çµæ¢¯";case 3:return this[_0x1d97("0x108a")]="æ¶æ¢¯","æ¶æ¢¯";case 4:case 5:return this[_0x1d97("0x108a")]="å¡é","å¡é"}}return"æ¢¯"}},{key:_0x1d97("0x10b3"),value:function(x){function d(x,d){var _=Math.PI/4,e=x/_,t=parseInt(e),a=e%1*_;return t%2==0?a>d&&(t+=1):a>=_-d&&(t+=1),t}function _(x,d){var _=d[_0x1d97("0x24d")](x);return d[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](x).y<0&&(_=2*Math.PI-_),_}function e(x,e){if(e==x[_0x1d97("0x0")]-1)return{index:x[x[_0x1d97("0x0")]-1][_0x1d97("0x2eb")]};var t=new THREE.Vector3(0,0,1),a=0==e?t:x[e][_0x1d97("0xdb")]()[_0x1d97("0x3d7")](x[e-1])[_0x1d97("0x2e1")](),i=x[e+1][_0x1d97("0xdb")]().sub(x[e]),n=i[_0x1d97("0x0")](),r=i[_0x1d97("0x2e1")](),s=d(_(t,r),22.5*THREE.Math[_0x1d97("0x56c")]),o=_(a,r),c=d(o,22.5*THREE.Math[_0x1d97("0x56c")]);return{relField:c,relDesc:m[c],relAngle:o*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")],absField:s,absDesc:p[s],distance:n,index:x[e][_0x1d97("0x2eb")]}}function t(x,d){for(var _=x[_0x1d97("0x38")]((function(x,d){var _=(0,o[_0x1d97("0x1c")])(new(THREE[_0x1d97("0xe0")]),x),e=n[_0x1d97("0x38")][_0x1d97("0x2f9")](x);return _.x=e.x,_.y=e.y,_.z=e.z,_[_0x1d97("0x2eb")]=d,_})),t=[],a=0;a<_[_0x1d97("0x0")];a++){var i=e(_,a);i[_0x1d97("0x3e0")]=x[a],i.fnum=d,t[_0x1d97("0x1")](i)}var r=[t[0]];for(a=1;a<t[_0x1d97("0x0")];a++)t[a][_0x1d97("0x1131")]<=n[_0x1d97("0x1132")]||360-t[a][_0x1d97("0x1131")]<=n[_0x1d97("0x1132")]?r[r[_0x1d97("0x0")]-1].distance+=t[a][_0x1d97("0x25e")]:r[_0x1d97("0x1")](t[a]);return r}function a(x,d,_,e,t,a,i){var r=x[d],s=x[d+1],o=A[s.relField];if(n[_0x1d97("0x1133")]=0,!o||n[_0x1d97("0x1133")])if(e){if(n[_0x1d97("0x1133")]=!1,!o){var c=n[_0x1d97("0x38")][_0x1d97("0xee")](i),l=n[_0x1d97("0x112c")](s[_0x1d97("0x3e0")],_),u=e>_?"ä¸è¡":"ä¸è¡",f=c[_0x1d97("0x56d")](e)[_0x1d97("0xf7e")];o="å®¤å"==l?_0x1d97("0x1134"):"å®¤å¤"==f?_0x1d97("0x1135"):"è¿å¥ "+l+" "+u+" åå¾ "+f+" å±"}}else n[_0x1d97("0x1133")]&&(n._tailLen=s[_0x1d97("0x25e")]),o="å°è¾¾ç®çå°";var h=[];return 0==d?h[_0x1d97("0x1")]("ç´è¡",Math[_0x1d97("0xb0")](r[_0x1d97("0x25e")]),o):h[_0x1d97("0x1")]("ç´è¡",Math.ceil(r[_0x1d97("0x25e")]+(n._boo&&!e?s[_0x1d97("0x25e")]:0)),o),h}function i(x,d,_,e,t,a,i){var r=x[d],s=x[d+1];if(!A[x[d+1][_0x1d97("0x1136")]]||n[_0x1d97("0x1133")])if(e){var o=e>_?"ä¸":"ä¸";s[_0x1d97("0x1137")]=o}else s.relDesc="ç»";var c=r[_0x1d97("0x25e")]+(n[_0x1d97("0x1133")]&&!e?s.distance:0),l=s[_0x1d97("0x10ff")],u=!1,f=!1,h=!1,b=!1;return c<=40&&(h=!0),c<=20&&(u=!0),d==x.length-1&&(f=!0,b=!0),{startPoint:r[_0x1d97("0x3e0")],startFloor:r[_0x1d97("0xe8")],startIndex:r.index,totalDisntance:r.totalDisntance,endPoint:s[_0x1d97("0x3e0")],manModeTipStarted:u,manWalkedCount:30,carWalkedCount:40,parkDir:l,manModeTipEnded:f,carModeTipStarted:h,carModeTipEnded:b,endFloor:s.fnum,endIndex:s[_0x1d97("0x2eb")],startDirection:r[_0x1d97("0x1138")],endDirection:s[_0x1d97("0x1137")],distance:c}}var n=this;n[_0x1d97("0x10cc")]=[],n[_0x1d97("0x1133")]=!1,n[_0x1d97("0x1139")]=0;for(var r,s,c,l,u,f=[],h=[],b=null,g=0,v=[],p=["å","ä¸å","ä¸","ä¸å","å","è¥¿å","è¥¿","è¥¿å","å"],m=["å","å³å","å³","å³å","å","å·¦å","å·¦","å·¦å","å"],A=["ç»§ç»­ç´è¡",_0x1d97("0xdad"),"å³è½¬",_0x1d97("0xdaa"),"åé",_0x1d97("0xdab"),"å·¦è½¬",_0x1d97("0xdac"),_0x1d97("0x113a")],C=null,I=0,y=0;y<x[_0x1d97("0x0")];y++){if(b=(r=x[y])[_0x1d97("0xe8")],c=null,y<x.length-1)for(u=y;u<x.length;u++)if(x[u][_0x1d97("0xe8")]!=b){c=x[u][_0x1d97("0xe8")],l=x[u].bid;break}var E=r[_0x1d97("0xe5")];if(E,y<x[_0x1d97("0x0")]-1)for(var w=y;w<x[_0x1d97("0x0")];w++)if(x[w][_0x1d97("0xe5")]!=E){x[w][_0x1d97("0xe5")];break}var T,k=t(s=r[_0x1d97("0x10b1")],b);T=s[0].bid==n.map.id?n[_0x1d97("0x38")][_0x1d97("0xee")](0):n[_0x1d97("0x38")][_0x1d97("0xee")](s[0].bid),k[_0x1d97("0x0")]>1&&Array[_0x1d97("0xf")][_0x1d97("0x1")][_0x1d97("0x5")](n[_0x1d97("0x10cc")],k);n[_0x1d97("0x10cc")][_0x1d97("0x0")];if(1==k[_0x1d97("0x0")]&&0!=r[_0x1d97("0x0")]&&Array.prototype.push[_0x1d97("0x5")](n[_0x1d97("0x10cc")],k),1==k[_0x1d97("0x0")]){if(c&&0==r[_0x1d97("0x0")]&&(C==b||null==C)){var S=n[_0x1d97("0x112c")](k[0][_0x1d97("0x3e0")]);S||(S=T.id);var M=T[_0x1d97("0x56d")](c),R=void 0;R=(R=c>1&&0==T.id?"å®¤å":M[_0x1d97("0xf7e")])[_0x1d97("0x28")]("").join(" ");var L=[_0x1d97("0x113b")+S+" åå¾ "+R+" å±"];f.push(L),h[_0x1d97("0x1")]({startPoint:s[0],startDirection:c>b?"ä¸":"ä¸",startFloor:b,endFloor:c,endPoint:x[u].pointList[0]})}}else{for(var H=[(0,o[_0x1d97("0x1c")])({},k[0])],D=1;D<k.length-1;D++){var P=(0,o[_0x1d97("0x1c")])({},k[D]);Math[_0x1d97("0x318")](P.relAngle,360-P[_0x1d97("0x1131")])<=22.5?H[H[_0x1d97("0x0")]-1][_0x1d97("0x25e")]+=P[_0x1d97("0x25e")]:H[_0x1d97("0x1")](P)}H[_0x1d97("0x1")]((0,o[_0x1d97("0x1c")])({},k[k.length-1])),40004==n[_0x1d97("0x1081")].tid&&y==x[_0x1d97("0x0")]-1&&H[_0x1d97("0x0")]>=3&&(H[_0x1d97("0x7ff")](),H[H[_0x1d97("0x0")]-1][_0x1d97("0x25e")]<8&&(n[_0x1d97("0x108f")]=H[H.length-1][_0x1d97("0x25e")],H[H.length-1]={index:H[H[_0x1d97("0x0")]-1][_0x1d97("0x2eb")],point:H[H[_0x1d97("0x0")]-1][_0x1d97("0x3e0")],fnum:H[H[_0x1d97("0x0")]-1][_0x1d97("0xe8")],parkDir:H[H[_0x1d97("0x0")]-1][_0x1d97("0x1137")]}));for(var O=0;O<H.length-1&&!n[_0x1d97("0x1133")];O++)I+=H[O].distance,H[O][_0x1d97("0x1127")]=I,f.push(a(H,O,b,c,0,0,l)),h[_0x1d97("0x1")](i(H,O,b,c))}if(C=b,k[_0x1d97("0x0")]>1){var B=k[_0x1d97("0xc5")]((function(x,d){return x+(d[_0x1d97("0x25e")]||0)}),0);v.push({fnum:b,distance:B}),g+=B}}return[f,h,g-=n[_0x1d97("0x108f")],v]}},{key:_0x1d97("0x10fc"),value:function(x,d,_,e,t){var a=this;function i(){a.locationMarker[_0x1d97("0xe8")]=x[_0x1d97("0xe8")],a[_0x1d97("0x4e8")][_0x1d97("0xf0")]=!0}if(a[_0x1d97("0x1117")]!=x[_0x1d97("0xe8")]||a[_0x1d97("0x1111")]!=x[_0x1d97("0xe5")]){a[_0x1d97("0x1117")]=x.fnum,a._groupPointsIndex++,a[_0x1d97("0x4e8")][_0x1d97("0xf0")]=!1;var n={x:-x.x-a[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x199")],y:x.z+a[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x19a")]};n[_0x1d97("0xe8")]=x[_0x1d97("0xe8")],function(d){if(!a[_0x1d97("0x1120")]){var _=a[_0x1d97("0x38")].getBuildingById(x.bid);0!=_.id&&(_[_0x1d97("0xef")]=[x[_0x1d97("0xe8")]],_[_0x1d97("0xb8c")]={fnum:x[_0x1d97("0xe8")],notMove:!0});var e=a[_0x1d97("0x4e8")][_0x1d97("0x113c")](),t=a[_0x1d97("0x113d")][a[_0x1d97("0x1112")]];t&&t[_0x1d97("0x10b1")]&&t[_0x1d97("0x10b1")].length>0&&(e=a[_0x1d97("0x113d")][a[_0x1d97("0x1112")]][_0x1d97("0x10b1")][0]),e[_0x1d97("0xe8")]=x[_0x1d97("0xe8")],a[_0x1d97("0x4e8")].setPosition({x:e.x,y:e.y,fnum:e[_0x1d97("0xe8")],bid:x[_0x1d97("0xe5")],offsetHeight:1.01*a[_0x1d97("0x26")]})}d?(a[_0x1d97("0x38")][_0x1d97("0x113e")]=!0,a[_0x1d97("0x256")]=a[_0x1d97("0x10cf")](n,a[_0x1d97("0x113f")],(function(){var x=a[_0x1d97("0x38")].scaleLevels_[a[_0x1d97("0x22e")]]<.2?a[_0x1d97("0x1140")]:a[_0x1d97("0x38")][_0x1d97("0x896")][a[_0x1d97("0x22e")]];a.map[_0x1d97("0x8c4")]({value:x,time:a.inTime,onComplete:function(){a[_0x1d97("0x1097")]=!1,a[_0x1d97("0x38")][_0x1d97("0x113e")]=!1}}),i(),a[_0x1d97("0x1141")]&&(a._viewID=new(esmap.TWEEN[_0x1d97("0x1b8")])(a[_0x1d97("0x38")]).to({tiltAngle:a.tiltAngle},1e3*a[_0x1d97("0x113f")])[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")][_0x1d97("0x1bb")][_0x1d97("0x1bc")])[_0x1d97("0x1c1")]())}))):(i(),a[_0x1d97("0x1097")]=!1,a[_0x1d97("0x38")].isNaviAnimating=!1)}(!1),a.emit(_0x1d97("0x1142"),x.fnum)}a[_0x1d97("0x283")]&&(null===a[_0x1d97("0x1087")]||!isNaN(d)&&Math[_0x1d97("0x253")](a[_0x1d97("0x1087")]-d)>.1)&&(a[_0x1d97("0x1110")]=a.map[_0x1d97("0x277")]({angle:d,time:.6}));var r=1;if(t&&a.lastAngle!=d){var s=-d;s<0&&(s=360+s),a[_0x1d97("0x4e8")].rotateTo({angle:s,time:a[_0x1d97("0x1143")]}),r=.2}a[_0x1d97("0x1087")]=d;var o={x:_.x,y:_.y,time:r};a.locationMarker.visible||(a.locationMarker[_0x1d97("0xf0")]=!0),a[_0x1d97("0x1113")]?o[_0x1d97("0x255")]=0:null!=a[_0x1d97("0x1083")]&&(o.time=a[_0x1d97("0x1083")]);var c={x:o.x,y:o.y};c[_0x1d97("0x255")]=o.time,a[_0x1d97("0x4e8")].moveTo(c),a[_0x1d97("0x10c9")][_0x1d97("0xa3")].children[0]&&e&&a[_0x1d97("0x1118")](e);var l=a[_0x1d97("0x1144")],u=1;!l&&a[_0x1d97("0x1113")]&&(u=0);var f=(new Date).getTime();f-a[_0x1d97("0x108e")]>1e3*l+1e3*u&&(a[_0x1d97("0x2f2")]&&(a._moveToID=a[_0x1d97("0x38")][_0x1d97("0x8ac")]({x:c.x,y:c.y,time:u})),a[_0x1d97("0x108e")]=f)}},{key:_0x1d97("0x1123"),value:function(){var x=this;x[_0x1d97("0x110d")]&&clearInterval(x._animID);var d=x[_0x1d97("0x111c")]();x[_0x1d97("0x897")][_0x1d97("0x1c1")](),x.isSimulating=!0,x[_0x1d97("0x1112")]=0,x._tailLen=0,x[_0x1d97("0x110d")]=setInterval((function(){if(!x[_0x1d97("0x108b")]){var _=x[_0x1d97("0x1086")];if(x[_0x1d97("0x1145")]=x[_0x1d97("0x2fa")]*_,!x[_0x1d97("0x1097")]&&!x[_0x1d97("0x108d")]&&(x[_0x1d97("0x1096")]+=x.vvs,0!=x._allLen)){var e=x._getTransformByLength(d,x[_0x1d97("0x1096")]),t=x[_0x1d97("0x107e")]-x[_0x1d97("0x1096")],a=(0,o.default)({},e),i=(0,o[_0x1d97("0x1c")])(new(THREE[_0x1d97("0xe0")]),e);a.y;if(!e)return void(x[_0x1d97("0x108b")]=!0);if(t<=0&&(x._isEnd_=!0,x.locationMarker.setPosition(i.x,i.z,i[_0x1d97("0xe8")],1.01*x[_0x1d97("0x26")])),x[_0x1d97("0x1085")]==_0x1d97("0x1f5"))x[_0x1d97("0x1124")]({fnum:i[_0x1d97("0xe8")],x:i.x,y:i.z,orientToPath:!0});else{var n={x:i.x,y:i.z},r=0;if(d[e[_0x1d97("0x2eb")]]){var s={x:d[e[_0x1d97("0x2eb")]].x,y:d[e[_0x1d97("0x2eb")]].z};r=x.getRouteAngle(n,s)}x._walkingfunction({angle:r,remain:t,walk:x[_0x1d97("0x1096")],point:n,fnum:e[_0x1d97("0xe8")]||1,index:e[_0x1d97("0x2eb")]-1},n,100,!0)}}}}),10)}},{key:_0x1d97("0x111c"),value:function(){if(this[_0x1d97("0x10ab")]&&this[_0x1d97("0x1081")]){if(this[_0x1d97("0x1085")]==_0x1d97("0x1146")){var x=-1,d=this[_0x1d97("0x10cc")][_0x1d97("0x38")]((function(d,_){var e=new THREE.Vector3(d.x,0,d.z);return e[_0x1d97("0xe8")]=d[_0x1d97("0xe8")]||1,e.bid=d[_0x1d97("0xe5")]||0,e._index=_,e[_0x1d97("0x1147")]=d.segindex,x=_,e})),_=this.combinePoints[this[_0x1d97("0x10cc")][_0x1d97("0x0")]-1];return(e=new(THREE[_0x1d97("0xe0")])(_.x,0,_.z))[_0x1d97("0xe8")]=_[_0x1d97("0x1148")],e[_0x1d97("0x111d")]=x+1,e.bid=_[_0x1d97("0xe5")],d[_0x1d97("0x1")](e),d}var e;x=-1,d=this[_0x1d97("0x10cc")][_0x1d97("0x38")]((function(d,_){var e=new(THREE[_0x1d97("0xe0")])(d[_0x1d97("0x3e0")].x,0,d.point.y);return e[_0x1d97("0xe8")]=d[_0x1d97("0x3e0")][_0x1d97("0xe8")],e[_0x1d97("0x111d")]=_,e[_0x1d97("0x25e")]=d[_0x1d97("0x25e")],e[_0x1d97("0xe5")]=d.point[_0x1d97("0xe5")],x=_,e})),_=this[_0x1d97("0x10cc")][this[_0x1d97("0x10cc")][_0x1d97("0x0")]-1];return(e=new THREE.Vector3(_[_0x1d97("0x3e0")].x,0,_.point.y))[_0x1d97("0xe8")]=_[_0x1d97("0x3e0")].fnum,e[_0x1d97("0x111d")]=x+1,e.distance=_[_0x1d97("0x25e")],e[_0x1d97("0xe5")]=_[_0x1d97("0x3e0")][_0x1d97("0xe5")],d.push(e),d}}},{key:_0x1d97("0x1149"),value:function(x){for(var d=this.map[_0x1d97("0x2aa")][_0x1d97("0x165")].navs,_=0;_<d.length;_++){if(d[_][_0x1d97("0x18e")][x])return{floornum:d[_][_0x1d97("0xad8")]}}return null}},{key:_0x1d97("0x114a"),value:function(x){for(var d=this.map,_=this.map.sceneId_,t=(0,e.default)({},_,{}),a=0;a<x[_0x1d97("0x0")];a++){var i=x[a],n=i[_0x1d97("0xad8")];if(!n){var r=this[_0x1d97("0x1149")](i.id);if(!r){console[_0x1d97("0x245")](_0x1d97("0x114b")+i.id);continue}n=r[_0x1d97("0xad8")]}t[_][n]||(t[_][n]={}),t[_][n][i.id]=i[_0x1d97("0x5fa")]}for(var s in t){var c=t[s],l=d[_0x1d97("0x2aa")].sourceData;if(l.navs&&l[_0x1d97("0x8f4")].length){for(var u={navs:[]},f=0;f<l[_0x1d97("0x8f4")][_0x1d97("0x0")];f++){var h=l[_0x1d97("0x8f4")][f],b=h[_0x1d97("0xad8")],g={},v=h[_0x1d97("0xc49")],p=c[b];for(var m in h[_0x1d97("0x18e")]){var A=(0,o[_0x1d97("0x1c")])({},h[_0x1d97("0x18e")][m]);if(p&&p.hasOwnProperty(m))switch(p[m]){case 0:continue;case 1:g[m]=A;break;case 2:A[_0x1d97("0xd82")]="1",g[m]=A;break;case 3:A[_0x1d97("0xd82")]="1";var C=A[_0x1d97("0xce3")];A[_0x1d97("0xce3")]=A[_0x1d97("0x464")],A.eid=C,g[m]=A;break;case 4:A.direction="0",g[m]=A}else g[m]=A}u[_0x1d97("0x8f4")].push({floornum:b,Lines:g,Nodes:v})}this[_0x1d97("0x1099")][_0x1d97("0x10ec")].dataList[s]=null,this[_0x1d97("0x1099")].routeCore[_0x1d97("0x78c")][s]=u,this[_0x1d97("0x1099")].routeCore[_0x1d97("0x114d")](s)}else _0x1d97("0x114c")}}},{key:"navidata",get:function(){return this._groupsPoints}},{key:_0x1d97("0x36"),get:function(){return v[_0x1d97("0x359")](this)},set:function(x){this[_0x1d97("0x36")]!=x?(v[_0x1d97("0x11b")](this,x),this[_0x1d97("0x114e")]()):v[_0x1d97("0x11b")](this,x)}},{key:_0x1d97("0x1109"),get:function(){return A[_0x1d97("0x359")](this)},set:function(x){var d=this.navTip;A[_0x1d97("0x11b")](this,x),d!=x&&this[_0x1d97("0x924")](_0x1d97("0x114f"),x)}},{key:_0x1d97("0x10bf"),get:function(){return p.get(this)},set:function(x){this[_0x1d97("0x10bf")]!=x?(p[_0x1d97("0x11b")](this,x),this.reRoute()):p.set(this,x)}},{key:_0x1d97("0x4e8"),get:function(){if(!m[_0x1d97("0x359")](this)){var x=this[_0x1d97("0x1150")];x.url=this[_0x1d97("0x1151")]||_0x1d97("0x1152"),x[_0x1d97("0xa5f")]=this[_0x1d97("0x1153")]||50,x[_0x1d97("0xe9d")]=this.locationMarkerSpritify,x[_0x1d97("0x128")]=this[_0x1d97("0x1154")],m[_0x1d97("0x11b")](this,new(esmap[_0x1d97("0x518")])(x)),this.map[_0x1d97("0xa39")](m[_0x1d97("0x359")](this))}return m[_0x1d97("0x359")](this)},set:function(x){x instanceof esmap[_0x1d97("0x518")]&&(m[_0x1d97("0x11b")](this,x),this[_0x1d97("0x38")][_0x1d97("0xa39")](m[_0x1d97("0x359")](this)))}}]),x}();d[_0x1d97("0x1c")]=y},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=s(_(43)),t=s(_(9)),a=s(_(0)),i=s(_(1)),n=s(_(355)),r=_(73);function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=function(){function x(){(0,a[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x10ec")]=new(n[_0x1d97("0x1c")]),this[_0x1d97("0x10af")]=null,this[_0x1d97("0x107d")]=null}return(0,i[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x1155"),value:function(x){for(var d={distance:x[_0x1d97("0x2f")][0][_0x1d97("0x25e")],posList:[]},_=x[_0x1d97("0x2f")][0][_0x1d97("0x1156")],e=0,t=0,a=_[_0x1d97("0x0")];t<a;t++)for(var i=_[t],n=this[_0x1d97("0x1157")](i[_0x1d97("0x1158")]),s=this[_0x1d97("0x1159")](n),o=t==_[_0x1d97("0x0")]-1?s[_0x1d97("0x0")]:s[_0x1d97("0x0")]-1,c=0;c<o;c++){var l=s[c],u=(new(THREE[_0x1d97("0xe0")])).copy(l);if(u[_0x1d97("0x1108")]=t,d[_0x1d97("0x115a")].push(u),d[_0x1d97("0x115a")][_0x1d97("0x0")]>1){var f=d[_0x1d97("0x115a")][d[_0x1d97("0x115a")][_0x1d97("0x0")]-2],h=d[_0x1d97("0x115a")][d[_0x1d97("0x115a")][_0x1d97("0x0")]-1];e+=(0,r[_0x1d97("0xbc")])({x:f.x,y:f.z},{x:h.x,y:h.z})}}return d[_0x1d97("0x115b")]=e,d}},{key:_0x1d97("0x115c"),value:function(x,d){var _=this;return new(t[_0x1d97("0x1c")])((function(e,t){var a=d[_0x1d97("0x48")]+"?",i=!1;for(var n in d[_0x1d97("0x324")])i&&(a+="&"),a+=n+"="+d[_0x1d97("0x324")][n],i=!0;esmap[_0x1d97("0x4d9")][_0x1d97("0x359")]({url:a})[_0x1d97("0x356")]((function(d){var a=JSON.parse(d);if("1"===a[_0x1d97("0x301")]||0===a.errcode){var i,n=null;x!==_0x1d97("0x115d")?(i=a[_0x1d97("0x115e")][_0x1d97("0x2f")][0],n=a.route):(i=a[_0x1d97("0x35d")][_0x1d97("0x2f")][0],n=a[_0x1d97("0x35d")]);for(var r=_[_0x1d97("0x1155")](n),s=r.computeDistance,o=[],c=r[_0x1d97("0x115a")],l=null,u=0;u<c.length;u++){var f=c[u];l&&f.x===l.x&&f.z===l.z||(o.push({x:f.x,y:f.z}),l=f)}e({pointList:o,rawPointList:r[_0x1d97("0x115a")],distance:s,des:i[_0x1d97("0x1156")]})}else t(),_[_0x1d97("0x924")](_0x1d97("0x115f"),0)}))}))}},{key:_0x1d97("0x1157"),value:function(x){var d=x[_0x1d97("0x28")](";"),_=[],t=!0,a=!1,i=void 0;try{for(var n,r=(0,e[_0x1d97("0x1c")])(d);!(t=(n=r[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);t=!0){var s=n[_0x1d97("0xf1")][_0x1d97("0x28")](","),o=[parseFloat(s[0]),parseFloat(s[1])];_.push(o)}}catch(x){a=!0,i=x}finally{try{!t&&r[_0x1d97("0x2af")]&&r[_0x1d97("0x2af")]()}finally{if(a)throw i}}return _}},{key:_0x1d97("0x1159"),value:function(x){var d=[],_=!0,t=!1,a=void 0;try{for(var i,n=(0,e[_0x1d97("0x1c")])(x);!(_=(i=n[_0x1d97("0x2a8")]())[_0x1d97("0x3e8")]);_=!0){var r=i[_0x1d97("0xf1")],s=esmap.ESMapUtil.lonLat2Mercator(r[0],r[1]);d[_0x1d97("0x1")](new(THREE[_0x1d97("0xe0")])(s[0],0,s[1]))}}catch(x){t=!0,a=x}finally{try{!_&&n[_0x1d97("0x2af")]&&n[_0x1d97("0x2af")]()}finally{if(t)throw a}}return d}},{key:"getMapTypeData",value:function(x,d,_){var e="";return x===_0x1d97("0x10be")&&(e="https://restapi.amap.com/v3/direction/driving"),x===_0x1d97("0x10fb")&&(e="https://restapi.amap.com/v3/direction/walking"),"bicycling"===x&&(e=_0x1d97("0x1160")),{url:e,param:{origin:d[0][_0x1d97("0x55f")](6)+","+d[1][_0x1d97("0x55f")](6),destination:_[0][_0x1d97("0x55f")](6)+","+_[1].toFixed(6),output:_0x1d97("0xb2"),key:this.appKey}}}},{key:_0x1d97("0x10ae"),value:function(x){var d=x[_0x1d97("0xe5")],_=x[_0x1d97("0x816")],e=x.endPoint,t=x[_0x1d97("0x36")],a=x[_0x1d97("0x10bf")],i=x.linkStartEnd,n=x.linkMinDistance,r=x.useAMap,s=x[_0x1d97("0x6a")],o=esmap[_0x1d97("0x75")][_0x1d97("0xa9")](_.x,_.y),c=esmap[_0x1d97("0x75")][_0x1d97("0xa9")](e.x,e.y);if(r){var l=this.getMapTypeData(s,o,c);return this.requestAMapData(s,l)}return this[_0x1d97("0x10ec")].getNaviResult({linkMinDistance:n,linkStartEnd:i,bid:d,startPoint:_,endPoint:e,mode:t,ladderType:a})}},{key:_0x1d97("0x1161"),value:function(x,d){return this.routeCore[_0x1d97("0x1162")](x,d)}},{key:"setSourceData",value:function(x){this.routeCore.source=x}},{key:_0x1d97("0x1163"),value:function(x,d,_,e){return this.routeCore[_0x1d97("0x1164")](x,d,_,e)}},{key:"setPreferCrosses",value:function(x){this[_0x1d97("0x10ec")][_0x1d97("0x1165")]=[];for(var d=0;d<x[_0x1d97("0x0")];d++)this[_0x1d97("0x10ec")][_0x1d97("0x1165")][_0x1d97("0x1")](x[d]+"")}}]),x}();d[_0x1d97("0x1c")]=o},function(x,d,_){"use strict";(function(x){Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=h(_(10)),t=h(_(69)),a=h(_(356)),i=h(_(32)),n=h(_(28)),r=h(_(53)),s=h(_(2)),o=h(_(0)),c=h(_(1)),l=_(73),u=_(19),f=_(357);function h(x){return x&&x.__esModule?x:{default:x}}var b=function(){function d(){(0,o[_0x1d97("0x1c")])(this,d);var x=esmap.ESMap[_0x1d97("0x34")];this.dataList={},this[_0x1d97("0x78c")]={},this[_0x1d97("0x1165")]=[],this[_0x1d97("0x10b9")]=5,this.linkStartEnd=!0,this.roomNodeMap={},this.roomPolygons={},this.baseSceneId=x.id,this.nodeLinkMap={},this[_0x1d97("0x1166")]()}return(0,c[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x1166"),value:function(){var x=this,d=esmap.ESMap[_0x1d97("0x34")],_=d[_0x1d97("0x18c")][_0x1d97("0x18d")];for(var e in _){var t=_[e];t[_0x1d97("0x18e")]&&t[_0x1d97("0xc49")]&&this[_0x1d97("0x1167")](t)}d.on("tileRouteDataLoaded",(function(d){d[_0x1d97("0xe5")];var _=d.data;x[_0x1d97("0x1167")](_)}));var a=d[_0x1d97("0x8f3")].navData;for(var i in a){var n=a[i];this.preprocess(i,n)}d.on(_0x1d97("0x8f2"),(function(d){var _=d[_0x1d97("0xe5")],e=d[_0x1d97("0x35d")];x.preprocess(_,e)}))}},{key:"computeLinePoints",value:function(x){var d=esmap.ESMap[_0x1d97("0x34")],_=d.id;if(x[_0x1d97("0xe6")]){for(var e=[],t=0;t<x.points[_0x1d97("0x0")];t++){var a=x.points[t],i={x:a.x,y:a.y};e[_0x1d97("0x1")]({X:i.x,Y:i.y,bid:_,fnum:1})}return e}var n=x.outline[_0x1d97("0x198")](2,x[_0x1d97("0x197")][_0x1d97("0x0")]-2)[_0x1d97("0x28")](/,/),r={x:0,y:0},s=[];if(0==n[_0x1d97("0x0")])return!1;for(var o={x:0,y:0,z:0},c=0;c<n[_0x1d97("0x0")];c++){var l=n[c][_0x1d97("0x28")](" "),u=1*l[2]||0,f=d[_0x1d97("0x1a6")]({from:d[_0x1d97("0x17a")],to:d[_0x1d97("0x17b")],coord:{x:1*l[0]+r.x+o.x,y:1*l[1]+r.y+o.y}});s[_0x1d97("0x1")]({X:f.x,Y:f.y,bid:_,fnum:1,offset:u+o.z}),0==c&&(r.x=1*l[0],r.y=1*l[1])}return s}},{key:_0x1d97("0x1167"),value:function(x){var d=this,_=esmap[_0x1d97("0x33")].instance.id;d[_0x1d97("0x78c")][_]||(d.source[_]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,s[_0x1d97("0x1c")])(d[_0x1d97("0x78c")][_][_0x1d97("0x8f4")][0].Lines,x[_0x1d97("0x18e")]),(0,s[_0x1d97("0x1c")])(d[_0x1d97("0x78c")][_][_0x1d97("0x8f4")][0][_0x1d97("0xc49")],x[_0x1d97("0xc49")]),d[_0x1d97("0x10ed")][_]||(d[_0x1d97("0x10ed")][_]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}});var e=d.dataList[_].allPointMap,t=d[_0x1d97("0x10ed")][_].allLineMap,a=d[_0x1d97("0x10ed")][_][_0x1d97("0x10ee")],i=x,n=i[_0x1d97("0xc49")];for(var r in n){var o=n[r];o[_0x1d97("0xe8")]=1,o[_0x1d97("0xe5")]=_,e[r]=o}var c=i[_0x1d97("0x18e")];for(var r in c)c[r][_0x1d97("0x0")]=c[r][_0x1d97("0x590")],t[r]=c[r];for(var l in c){var u=c[l],f=null;if(u[_0x1d97("0xe6")]&&u[_0x1d97("0xe6")][_0x1d97("0x0")]>=3)f=this[_0x1d97("0x1168")](u);else{var h=this[_0x1d97("0x1168")](u);h[_0x1d97("0x0")]>=3&&(f=h)}var b=u[_0x1d97("0xce3")],g=u[_0x1d97("0x464")];if(f){var v=b+"_"+g,p=g+"_"+b;this.nodeLinkMap[v]=f,this.nodeLinkMap[p]=f.slice().reverse()}var m=l;if(a[b])a[b][_0x1d97("0x1")](m);else{var A=[m];a[b]=A}if(a[g])a[g][_0x1d97("0x1")](m);else{A=[m];a[g]=A}}}},{key:_0x1d97("0x114d"),value:function(d,_){"development"==x[_0x1d97("0x1169")]&&console[_0x1d97("0x246")](_0x1d97("0x116a"),d,_);var e=this,t=esmap[_0x1d97("0x33")][_0x1d97("0x34")];if(!e[_0x1d97("0x10ed")][d]){var s=t.id;t.mode==esmap[_0x1d97("0x3a")].Building&&(e[_0x1d97("0x10ed")][d]||(e[_0x1d97("0x10ed")][d]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}})),e[_0x1d97("0x10ed")][s]||(e.dataList[s]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),this.source[d]={navs:_},this[_0x1d97("0x10bf")]=null,this[_0x1d97("0x10bb")]=[];for(var o={},c={1:[],2:[],3:[],6:[]},l={},u={},f={},h=_,b=(t[_0x1d97("0xee")](d),0);b<h[_0x1d97("0x0")];b++){var g=h[b],v=g[_0x1d97("0xad8")];if(g){var p=g[_0x1d97("0xc49")];for(var m in p){var A=p[m];if(A[_0x1d97("0xe8")]=v,A[_0x1d97("0x40")]&&11==A[_0x1d97("0x40")]&&s!=d){var C=this.getNearestGate({bid:s,x:A.X,y:A.Y})[_0x1d97("0x58f")][_0x1d97("0x170")];if(C){for(var I=e[_0x1d97("0x10ed")][s].nearbyLine[C],y=0;y<I.length;y++){var E=e[_0x1d97("0x10ed")][s][_0x1d97("0x112f")][I[y]];E[_0x1d97("0xce3")]==C?E[_0x1d97("0xce3")]=A[_0x1d97("0x170")]:E[_0x1d97("0x464")]=A[_0x1d97("0x170")]}e[_0x1d97("0x10ed")][s].nearbyLine[A._id]=I,delete e[_0x1d97("0x10ed")][s][_0x1d97("0x10a1")][_0x1d97("0x116b")]}else console[_0x1d97("0x245")](_0x1d97("0x116c")+d+_0x1d97("0x116d"))}s!=d&&(A[_0x1d97("0xe5")]=d,e[_0x1d97("0x10ed")][s].allPointMap[m]&&console[_0x1d97("0x245")](_0x1d97("0x116e"),m),e[_0x1d97("0x10ed")][s][_0x1d97("0x10a1")][m]=A),l[m]=A}var w=g[_0x1d97("0x18e")];for(var T in w)s!=d&&(e[_0x1d97("0x10ed")][s][_0x1d97("0x112f")][T],e.dataList[s][_0x1d97("0x112f")][T]=w[T]),u[T]=w[T];for(var k in w){var S=w[k],M=S[_0x1d97("0xce3")],R=S[_0x1d97("0x464")],L=k,H=S[_0x1d97("0xce7")],D=null;if(v!=S[_0x1d97("0xd81")]){if(["1","2","3","6"][_0x1d97("0xd7")](H)<0){if(o[M])o[M][_0x1d97("0x1")](L);else{var P=[L];o[M]=P}if(o[R])o[R][_0x1d97("0x1")](L);else{P=[L];o[R]=P}}else if("5"!=H&&"0"!=H&&"6"!=H){var O,B,N=c[H];if("3"==H){var F=l[M];F=new(THREE[_0x1d97("0x4be")])(F.X,F.Y);var z=e[_0x1d97("0x1162")](d,R),j=(z=new THREE.Vector2(z.X,z.Y))[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](F),U=j[_0x1d97("0x0")]();j[_0x1d97("0x2e1")](),D=F.clone().add(j[_0x1d97("0xdb")]()[_0x1d97("0x276")](U/2))}else{var X=l[M];D=new(THREE[_0x1d97("0x4be")])(X.X,X.Y)}if(!N)return void console[_0x1d97("0x245")]("man mode schemes error");if(0==N[_0x1d97("0x0")])N[_0x1d97("0x1")]({pointids:[M,R],fnums:[v,S[_0x1d97("0xd81")]],lineids:[k],ladderType:H,cen:D,crosses:(O={},(0,r[_0x1d97("0x1c")])(O,M,[k]),(0,r[_0x1d97("0x1c")])(O,R,[k]),O),fnumPoints:[(B={},(0,r.default)(B,M,{at:v,to:S[_0x1d97("0xd81")]}),(0,r.default)(B,R,{at:S[_0x1d97("0xd81")],to:v}),B)]});else for(var Y=0;Y<N[_0x1d97("0x0")];Y++){var G,Q,V=N[Y];if(2==H){if(V.pointids[_0x1d97("0xd7")](M)>-1||V[_0x1d97("0x116f")][_0x1d97("0xd7")](R)>-1){var W;V[_0x1d97("0x116f")][_0x1d97("0x1")](M,R),V[_0x1d97("0xbb3")].push(v,S[_0x1d97("0xd81")]),V[_0x1d97("0x1170")].push(k),V.lineids=[].concat((0,n.default)(new(i[_0x1d97("0x1c")])(V[_0x1d97("0x1170")]))),V[_0x1d97("0xbb3")]=[][_0x1d97("0x1de")]((0,n.default)(new i.default(V[_0x1d97("0xbb3")]))),V[_0x1d97("0x116f")]=[][_0x1d97("0x1de")]((0,n[_0x1d97("0x1c")])(new(i[_0x1d97("0x1c")])(V[_0x1d97("0x116f")]))),V[_0x1d97("0x1171")][_0x1d97("0x1")]((W={},(0,r[_0x1d97("0x1c")])(W,M,{at:v,to:S.efnum}),(0,r[_0x1d97("0x1c")])(W,R,{at:S[_0x1d97("0xd81")],to:v}),W)),V[_0x1d97("0x1172")][M]?(V[_0x1d97("0x1172")][M][_0x1d97("0x1")](k),V[_0x1d97("0x1172")][M][_0x1d97("0x1")](k)):V.crosses[M]=[k],V[_0x1d97("0x1172")][R]?V[_0x1d97("0x1172")][R][_0x1d97("0x1")](k):V.crosses[R]=[k];break}}else if(V[_0x1d97("0x116f")][_0x1d97("0xd7")](M)>-1||V[_0x1d97("0x116f")][_0x1d97("0xd7")](R)>-1){var Z;V.pointids[_0x1d97("0x1")](M,R),V[_0x1d97("0xbb3")][_0x1d97("0x1")](v,S[_0x1d97("0xd81")]),V.lineids[_0x1d97("0x1")](k),V[_0x1d97("0x1170")]=[].concat((0,n[_0x1d97("0x1c")])(new(i[_0x1d97("0x1c")])(V[_0x1d97("0x1170")]))),V[_0x1d97("0xbb3")]=[][_0x1d97("0x1de")]((0,n[_0x1d97("0x1c")])(new i.default(V.fnums))),V.pointids=[][_0x1d97("0x1de")]((0,n[_0x1d97("0x1c")])(new i.default(V[_0x1d97("0x116f")]))),V[_0x1d97("0x1171")][_0x1d97("0x1")]((Z={},(0,r[_0x1d97("0x1c")])(Z,M,{at:v,to:S[_0x1d97("0xd81")]}),(0,r[_0x1d97("0x1c")])(Z,R,{at:S[_0x1d97("0xd81")],to:v}),Z)),V[_0x1d97("0x1172")][M]?V.crosses[M][_0x1d97("0x1")](k):V.crosses[M]=[k],2==V[_0x1d97("0x1172")][M][_0x1d97("0x0")]&&V[_0x1d97("0x1172")][M][0]==V[_0x1d97("0x1172")][M][1]&&V.crosses[M][_0x1d97("0x189")](1,1),V[_0x1d97("0x1172")][R]?V[_0x1d97("0x1172")][R][_0x1d97("0x1")](k):V[_0x1d97("0x1172")][R]=[k],2==V[_0x1d97("0x1172")][R].length&&V[_0x1d97("0x1172")][R][0]==V[_0x1d97("0x1172")][R][1]&&V[_0x1d97("0x1172")][R][_0x1d97("0x189")](1,1);break}if(Y==N.length-1)N[_0x1d97("0x1")]({pointids:[M,R],fnums:[v,S.efnum],lineids:[k],ladderType:H,cen:D,fnumPoints:[(G={},(0,r[_0x1d97("0x1c")])(G,M,{at:v,to:S[_0x1d97("0xd81")]}),(0,r[_0x1d97("0x1c")])(G,R,{at:S[_0x1d97("0xd81")],to:v}),G)],crosses:(Q={},(0,r[_0x1d97("0x1c")])(Q,M,[k]),(0,r[_0x1d97("0x1c")])(Q,R,[k]),Q)})}}}else{if(s!=d){var J=e.dataList[s][_0x1d97("0x10ee")];if(J[M])J[M][_0x1d97("0x1")](L);else{var K=[L];J[M]=K}if(J[R])J[R][_0x1d97("0x1")](L);else{var q=[L];J[R]=q}}if(f[M])f[M][_0x1d97("0x1")](L);else{P=[L];f[M]=P}if(f[R])f[R][_0x1d97("0x1")](L);else{P=[L];f[R]=P}}}}}var $=[][_0x1d97("0x1de")]((0,n.default)(c[1]),(0,n[_0x1d97("0x1c")])(c[2]),(0,n.default)(c[3])),xx={};$[_0x1d97("0x1d")]((function(x){xx=(0,a[_0x1d97("0x1c")])({},xx,x[_0x1d97("0x1172")])})),xx=(0,a[_0x1d97("0x1c")])({},xx,o),e[_0x1d97("0x10ed")][s][_0x1d97("0x112d")][_0x1d97("0x1173")]=[][_0x1d97("0x1de")]((0,n[_0x1d97("0x1c")])($),(0,n[_0x1d97("0x1c")])(e[_0x1d97("0x10ed")][s][_0x1d97("0x112d")].manModeScheme)),e[_0x1d97("0x10ed")][s][_0x1d97("0x112d")][_0x1d97("0x112e")]=(0,a[_0x1d97("0x1c")])({},xx,e[_0x1d97("0x10ed")][s].crossSchemes[_0x1d97("0x112e")],e[_0x1d97("0x10ed")][s].crossSchemes[_0x1d97("0x1130")]),e[_0x1d97("0x10ed")][s][_0x1d97("0x112d")][_0x1d97("0x1130")]=(0,a[_0x1d97("0x1c")])({},o,e.dataList[s][_0x1d97("0x112d")].carModeScheme),e[_0x1d97("0x10ed")][d]={allPointMap:l,allLineMap:u,nearbyLine:f,crossSchemes:{carModeScheme:o,manModeScheme:$,manModeAllScheme:xx}},"development"==x[_0x1d97("0x1169")]&&console[_0x1d97("0x246")]("preprocessComplete"),t[_0x1d97("0x1d9")](_0x1d97("0x1174"),{bid:d})}}},{key:_0x1d97("0x1175"),value:function(x){this[_0x1d97("0x10b8")]=x[_0x1d97("0x10b8")],this[_0x1d97("0x10b9")]=x[_0x1d97("0x10b9")];var d=x[_0x1d97("0x36")];this[_0x1d97("0x10bb")]=[],x[_0x1d97("0x816")][_0x1d97("0xe8")]||(x[_0x1d97("0x816")][_0x1d97("0xe8")]=1),x[_0x1d97("0x817")][_0x1d97("0xe8")]||(x.endPoint.fnum=1);var _=this[_0x1d97("0x1176")](x[_0x1d97("0x816")][_0x1d97("0xe5")],x.startPoint[_0x1d97("0xe8")]),e=this[_0x1d97("0x1176")](x.endPoint.bid,x.endPoint[_0x1d97("0xe8")]);if(!_||!e)return console[_0x1d97("0x246")](_0x1d97("0x1177")),[new esmap.ESNaviResult(x[_0x1d97("0x816")][_0x1d97("0xe5")],x[_0x1d97("0x1178")],0,[])];var t=this.getNearestNode(x[_0x1d97("0x816")].bid,x[_0x1d97("0x816")],d),a=this[_0x1d97("0x1179")](x[_0x1d97("0x817")].bid,x[_0x1d97("0x817")],d);if(!t||!a)return null;var i=_.Nodes[t[_0x1d97("0x170")]],n=e[_0x1d97("0xc49")][a._id];return i&&n?(x[_0x1d97("0x817")].id=a._id,this.queryRoutes({startPoint:x[_0x1d97("0x816")],endPoint:x[_0x1d97("0x817")],mode:x[_0x1d97("0x36")],ladderType:x[_0x1d97("0x10bf")]})):(console.info(_0x1d97("0x117a")),null)}},{key:_0x1d97("0x1162"),value:function(x,d){for(var _=this.source[x][_0x1d97("0x8f4")],e=0;e<_[_0x1d97("0x0")];e++){var t=_[e][_0x1d97("0xc49")];if(t[d])return t[d]}return null}},{key:"getSource",value:function(x,d){for(var _=this[_0x1d97("0x78c")][x][_0x1d97("0x8f4")],e=0;e<_[_0x1d97("0x0")];e++)if(_[e][_0x1d97("0xad8")]==d)return _[e]}},{key:"queryRoutes",value:function(x){var d=null,_=this,i=x[_0x1d97("0x816")],n=x[_0x1d97("0x817")],r=i[_0x1d97("0xe8")],o=n[_0x1d97("0xe8")],c=x.mode,u=x.ladderType,h=x[_0x1d97("0x117b")],b=this.baseSceneId,g=this[_0x1d97("0x1179")](i.bid,x[_0x1d97("0x816")],x.mode,h),v=this.getNearestNode(n[_0x1d97("0xe5")],x[_0x1d97("0x817")],c,h),p=g._id,m=v[_0x1d97("0x170")],A=esmap.ESMap.instance;if(p==m)return null;var C=null,I=_[_0x1d97("0x10ed")][b][_0x1d97("0x10a1")];if(1==c)if(r==o||i[_0x1d97("0xe5")]!=n.bid)(C=this[_0x1d97("0x117c")]({},p,m,c,b,u))&&0!=C[_0x1d97("0x0")]||(C=this[_0x1d97("0x117c")](_.dataList[b].crossSchemes[_0x1d97("0x112e")],p,m,c,b,u));else{var y=[],E=_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")].manModeScheme;(0,t[_0x1d97("0x1c")])(E)[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x1aa")]=0,x[_0x1d97("0x9cf")]=!1,x[_0x1d97("0xbb3")][_0x1d97("0xd7")](r)>-1&&x[_0x1d97("0xbb3")].indexOf(o)>-1&&(1==u?(Math.abs(r-o)>=3&&2==x[_0x1d97("0x10bf")]&&(x[_0x1d97("0x1aa")]+=20),y[_0x1d97("0x1")](x)):(2==u&&2==x[_0x1d97("0x10bf")]||3==u&&1==x.ladderType||4==u&&3==x[_0x1d97("0x10bf")])&&y[_0x1d97("0x1")](x))})),y[_0x1d97("0x1d")]((function(x){for(var d,_=void 0,e=o-r>0,t=0;t<x[_0x1d97("0x1171")][_0x1d97("0x0")];t++){var a=x.fnumPoints[t];if(d&&_)break;for(var s in a){var c=a[s].to-a[s].at>0;a[s].at==r&&c==e?d=s:a[s].at==o&&c==!e&&(_=s)}}if(d&&_){var u=null;if(p==d)u=.001;else{var h=I[d],b=(0,l[_0x1d97("0xbc")])(i,{x:h.X,y:h.Y}),g=I[_];u=b+(0,l[_0x1d97("0xbc")])(n,{x:g.X,y:g.Y})+(0,f[_0x1d97("0x117d")])({X:i.x,Y:i.y},h)}x[_0x1d97("0x1aa")]+=500/u}})),y[_0x1d97("0x41c")]((function(x,d){return d[_0x1d97("0x1aa")]-x[_0x1d97("0x1aa")]}));for(var w=0;w<y.length;w++)if(!y[w][_0x1d97("0x9cf")])try{if((C=this[_0x1d97("0x117c")](y[w].crosses,p,m,c,b,u))&&0!=C.length)break;continue}catch(x){continue}var T=null;if(this[_0x1d97("0x1165")].length>0)for(var k in T={},_.dataList[b][_0x1d97("0x112d")][_0x1d97("0x112e")]){for(var S=!1,M=_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")][_0x1d97("0x112e")][k],R=0;R<M[_0x1d97("0x0")];R++)if(this[_0x1d97("0x1165")].indexOf(M[R])>-1){S=!0;break}S&&(T[k]=M)}if(!C||0==C[_0x1d97("0x0")])if(1==u)T&&(C=this[_0x1d97("0x117c")](T,p,m,c,b,u)),C&&0!=C[_0x1d97("0x0")]||(C=this.getShortestPath(_.dataList[b].crossSchemes.manModeAllScheme,p,m,c,b,u));else{var L={};for(var H in _[_0x1d97("0x10ed")][b][_0x1d97("0x112d")][_0x1d97("0x1173")])"1"==_[_0x1d97("0x10ed")][b].crossSchemes[_0x1d97("0x1173")][H].ladderType&&3==u||"2"==_.dataList[b][_0x1d97("0x112d")][_0x1d97("0x1173")][H][_0x1d97("0x10bf")]&&2==u?L=(0,a[_0x1d97("0x1c")])({},L,_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")][_0x1d97("0x1173")][H][_0x1d97("0x1172")]):"3"==_.dataList[b][_0x1d97("0x112d")].manModeScheme[H].ladderType&&4==u&&(L=(0,a.default)({},L,_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")][_0x1d97("0x1173")][H].crosses));T&&(C=this[_0x1d97("0x117c")](T,p,m,c,b,u)),C&&0!=C[_0x1d97("0x0")]||(C=this.getShortestPath(L,p,m,c,b,u)),C&&0!=C.length||(C=this[_0x1d97("0x117c")](_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")][_0x1d97("0x112e")],p,m,c,b,u))}}else if(r==o)C=this[_0x1d97("0x117c")]({},p,m,c,b,u);else{var D=_[_0x1d97("0x10ed")][b][_0x1d97("0x112d")].carModeScheme;C=this[_0x1d97("0x117c")](D,p,m,c,b,u)}if(C&&C[_0x1d97("0x117e")]&&0!=C[_0x1d97("0x117e")][_0x1d97("0x0")]){x[_0x1d97("0x117f")]&&(this[_0x1d97("0x10bb")]=this[_0x1d97("0x10bb")][_0x1d97("0x1de")](C.walkLines));for(var P=C[_0x1d97("0x117e")],O=C.costDistance,B=C[_0x1d97("0x1180")],N={x:I[P[0]].X,y:I[P[0]].Y,fnum:I[P[0]][_0x1d97("0xe8")],id:I[P[0]][_0x1d97("0x170")],bid:I[P[0]][_0x1d97("0xe5")]||b},F=[new(esmap[_0x1d97("0x523")])(N[_0x1d97("0xe5")],r,O,[N])],z=0;z<P[_0x1d97("0x0")]-1;z++){var j=P[z],U=P[z+1];if((typeof j===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(j))!=_0x1d97("0xc")&&(typeof U===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(U))!=_0x1d97("0xc")){var X=j+"_"+U;if(this[_0x1d97("0x1181")][X]){for(var Y=[],G=this[_0x1d97("0x1181")][X][_0x1d97("0x0")],Q=0;Q<G;Q++)if(0!=Q&&Q!=G-1){var V=(0,s[_0x1d97("0x1c")])({},this[_0x1d97("0x1181")][X][Q]);Y[_0x1d97("0x1")](V)}P[_0x1d97("0x189")][_0x1d97("0x5")](P,[z+1,0].concat(Y)),z+=Y[_0x1d97("0x0")]}}}for(var W=0;W<P[_0x1d97("0x0")]-1;W++){var Z=void 0,J=(Z="object"!=(0,e.default)(P[W])?I[P[W]]:P[W])[_0x1d97("0xe8")],K=void 0,q=(K=(0,e[_0x1d97("0x1c")])(P[W+1])!=_0x1d97("0xc")?I[P[W+1]]:P[W+1])[_0x1d97("0xe8")],$=F[F.length-1],xx=Z[_0x1d97("0xe5")]||this.baseSceneId,dx=K[_0x1d97("0xe5")]||this.baseSceneId,_x=A[_0x1d97("0xee")](xx);xx==this[_0x1d97("0x1182")]&&(_x=A[_0x1d97("0xee")](0));var ex=A[_0x1d97("0xee")](dx);dx==this[_0x1d97("0x1182")]&&(ex=A.getBuildingById(0));var tx=xx!=dx;if(J-_x.options[_0x1d97("0xc80")]==q-ex[_0x1d97("0x35")][_0x1d97("0xc80")])tx&&$[_0x1d97("0x10b1")][$.pointList[_0x1d97("0x0")]-1]&&($[_0x1d97("0x10b1")][$[_0x1d97("0x10b1")][_0x1d97("0x0")]-1].entries=!0),$.pointList[_0x1d97("0x1")]({x:K.X,y:K.Y,bid:dx,fnum:K[_0x1d97("0xe8")],id:K[_0x1d97("0x170")],entries:tx}),B[W]&&$[_0x1d97("0x10ef")][_0x1d97("0x1")](B[W]);else{Z.X,Z.Y,Z[_0x1d97("0xe8")],Z[_0x1d97("0x170")];var ax={x:K.X,y:K.Y,bid:dx,fnum:K[_0x1d97("0xe8")],id:K[_0x1d97("0x170")]};F[_0x1d97("0x1")](new(esmap[_0x1d97("0x523")])(dx,q,O,[ax]))}}for(var ix=0;ix<F[_0x1d97("0x0")];ix++)0==F[ix][_0x1d97("0x10b1")][_0x1d97("0x0")]&&(F[_0x1d97("0x189")](ix,1),ix--);for(var nx=1;nx<F.length-1;nx++){var rx=F[nx];0!=rx.length&&1==rx.pointList[_0x1d97("0x0")]&&F[nx-1][_0x1d97("0xe8")]==rx.fnum&&F[nx+1][_0x1d97("0xe8")]==rx.fnum&&(F[_0x1d97("0x189")](nx-1,3),nx-=3)}if(this[_0x1d97("0x10b8")]){var sx=this[_0x1d97("0x10b9")];if(F[0]&&F[0][_0x1d97("0x10b1")][_0x1d97("0x0")]>=2){var ox=new(THREE[_0x1d97("0xe0")])(F[0][_0x1d97("0x10b1")][0].x,0,F[0][_0x1d97("0x10b1")][0].y),cx=new(THREE[_0x1d97("0xe0")])(i.x,0,i.y),lx=new THREE.Vector3(F[0][_0x1d97("0x10b1")][1].x,0,F[0][_0x1d97("0x10b1")][1].y),ux=ox[_0x1d97("0x24d")](cx),fx=ox[_0x1d97("0x24d")](lx),hx=ox[_0x1d97("0x25d")](cx);if(Math.abs(ux-fx)>90)hx>=sx&&F[0][_0x1d97("0x10b1")][_0x1d97("0xde9")]({x:i.x,y:i.y,bid:b,fnum:r});else{var bx={};(0,l[_0x1d97("0xbd")])({x:i.x,y:i.y},{x:F[0].pointList[0].x,y:F[0][_0x1d97("0x10b1")][0].y},{x:F[0][_0x1d97("0x10b1")][1].x,y:F[0][_0x1d97("0x10b1")][1].y},bx),F[0][_0x1d97("0x10b1")][0].x=bx.x,F[0][_0x1d97("0x10b1")][0].y=bx.y,hx>=sx&&F[0].pointList[_0x1d97("0xde9")]({x:i.x,y:i.y,bid:b,fnum:r})}}if(F[F.length-1]&&F[F.length-1].pointList[_0x1d97("0x0")]>=2){var gx=F[F[_0x1d97("0x0")]-1].pointList,vx=new(THREE[_0x1d97("0xe0")])(gx[gx[_0x1d97("0x0")]-1].x,0,gx[gx[_0x1d97("0x0")]-1].y),px=new THREE.Vector3(n.x,0,n.y),mx=new(THREE[_0x1d97("0xe0")])(gx[gx[_0x1d97("0x0")]-2].x,0,gx[gx[_0x1d97("0x0")]-2].y),Ax=vx.angleTo(px),Cx=vx[_0x1d97("0x24d")](mx),Ix=vx.distanceTo(px);if(Math[_0x1d97("0x253")](Ax-Cx)>90)Ix>=sx&&F[F[_0x1d97("0x0")]-1].pointList[_0x1d97("0x1")]({x:n.x,y:n.y,bid:b,fnum:o});else{var yx={};(0,l[_0x1d97("0xbd")])({x:n.x,y:n.y},{x:gx[gx[_0x1d97("0x0")]-1].x,y:gx[gx.length-1].y},{x:gx[gx[_0x1d97("0x0")]-2].x,y:gx[gx[_0x1d97("0x0")]-2].y},yx),gx[gx[_0x1d97("0x0")]-1].x=yx.x,gx[gx[_0x1d97("0x0")]-1].y=yx.y,Ix>=sx&&gx.push({x:n.x,y:n.y,bid:b,fnum:o})}}}for(var Ex=0,wx=0;wx<F[_0x1d97("0x0")];wx++){var Tx=F[wx];if(Tx.pointList[_0x1d97("0x0")]>=2)for(var kx=Tx.pointList,Sx=0;Sx<kx[_0x1d97("0x0")]-1;Sx++){var Mx=kx[Sx],Rx=kx[Sx+1];Ex+=Math[_0x1d97("0xc3")](Math[_0x1d97("0xa8")](Mx.x-Rx.x,2)+Math.pow(Mx.y-Rx.y,2))}}d={costDistance:Ex,result:F}}return d}},{key:_0x1d97("0x117c"),value:function(x,d,_,e,t,a){if(d!=_){var i=this,n=i[_0x1d97("0x10ed")][t].allPointMap,r=i.dataList[t][_0x1d97("0x112f")],s=i[_0x1d97("0x10ed")][t][_0x1d97("0x10ee")],o={};o[_0x1d97("0x817")]=d,o[_0x1d97("0x1184")]=0,o.JudgeCostDistance=0,o.walkPath=[d],o[_0x1d97("0x1180")]=[];for(var c=[],l=[],f=n[_],h=s[_],b=1;b<1e4&&o;b++){if(o[_0x1d97("0x817")]==_)return o;if((0,u[_0x1d97("0xbe")])(c,o[_0x1d97("0x817")]))l[_0x1d97("0x41c")](this.compare(_0x1d97("0x1185"))),o=l[0],l.shift();else{var g=this[_0x1d97("0x1186")](d,o,n,r,s,x,c,e,f,t,a);c[_0x1d97("0x1")](o[_0x1d97("0x817")]);for(var v=0;v<g[_0x1d97("0x0")];v++)l[_0x1d97("0x1")](g[v]);if(l.sort(this[_0x1d97("0x1187")](_0x1d97("0x1185"))),!(o=l[0]))return[];var p=s[o[_0x1d97("0x817")]];if(h&&p&&1==p[_0x1d97("0x0")]&&1!=b)0!=p.filter((function(x){return h[_0x1d97("0xd7")](x)>=0}))[_0x1d97("0x0")]||x[o[_0x1d97("0x817")]]||c[_0x1d97("0x1")](o[_0x1d97("0x817")]);l.shift()}}return[]}console[_0x1d97("0x2ac")](_0x1d97("0x1183"))}},{key:_0x1d97("0x1186"),value:function(x,d,_,e,t,a,i,n,r,s,o){var c=[],h=d[_0x1d97("0x817")],b={2:2,3:1,4:3,1:999};if(t[h])for(var g=t[h],v=0;v<g[_0x1d97("0x0")];v++){var p=(A=e[m=g[v]])[_0x1d97("0x464")];if(!(0,u[_0x1d97("0xbe")])(this[_0x1d97("0x10bb")],m)&&(2!=n||"4"==A.bstair||"5"==A[_0x1d97("0xce7")])){if(h==A.eid){if(2==n&&"1"==A.direction)continue;if(1==n&&"1"==A.direction&&("0"==A[_0x1d97("0xce7")]||"6"==A[_0x1d97("0xce7")]))continue;p=A[_0x1d97("0xce3")]}if(!(0,u[_0x1d97("0xbe")])(i,p))(C=(0,f[_0x1d97("0x1188")])(d))[_0x1d97("0x817")]=p,C[_0x1d97("0x117e")].push(p),C[_0x1d97("0x1180")].push(m),C[_0x1d97("0x1184")]+=A.length,1e3!=A[_0x1d97("0x1aa")]&&(C[_0x1d97("0x1184")]+=1e3/A[_0x1d97("0x1aa")]),_[p]||console[_0x1d97("0x2ac")](_0x1d97("0x1189")),C[_0x1d97("0x1185")]=(0,f.manhattenCost)(_[p],r,1),C[_0x1d97("0x1185")]+=C[_0x1d97("0x1184")],c[_0x1d97("0x1")](C)}}if(a[h])for(g=a[h],v=0;v<g[_0x1d97("0x0")];v++){var m,A;p=(A=e[m=g[v]])[_0x1d97("0x464")];if(1*h==A.eid){if(2==n&&"1"==A.direction)continue;if(1==n&&"1"==A[_0x1d97("0xd82")]&&("1"==A[_0x1d97("0xce7")]||"3"==A[_0x1d97("0xce7")]))continue;p=A[_0x1d97("0xce3")]}if(!(0,u[_0x1d97("0xbe")])(i,p)){var C;(C=(0,f.deepClone)(d))[_0x1d97("0x817")]=p,C[_0x1d97("0x117e")][_0x1d97("0x1")](p),C[_0x1d97("0x1180")][_0x1d97("0x1")](m);var I=1e3;1e3!=A.rank&&(I=A[_0x1d97("0x1aa")]);var y,E=null;if(x==h||r[_0x1d97("0x170")]==h)E=.001;else{var w=_[h],T=_[x],k=(0,l[_0x1d97("0xbc")])({x:T.X,y:T.Y},{x:w.X,y:w.Y}),S=_[p];E=k+(0,l[_0x1d97("0xbc")])({x:r.X,y:r.Y},{x:S.X,y:S.Y})+(0,f[_0x1d97("0x117d")])(T,w)}I+=E;for(var M=this[_0x1d97("0x78c")][s][_0x1d97("0x8f4")],R=0;R<M[_0x1d97("0x0")];R++)if(M[R][_0x1d97("0xc49")][A[_0x1d97("0xce3")]]){y=R;break}y&&A.efnum&&Math[_0x1d97("0x253")](y-A[_0x1d97("0xd81")])>1&&(C[_0x1d97("0x1184")]+=10);var L=b[o]==1*A[_0x1d97("0xce7")]?1:20;C[_0x1d97("0x1184")]+=L+1e3/I,c[_0x1d97("0x1")](C)}}return c}},{key:"getNearestNode",value:function(x,d,_,e){var t=this[_0x1d97("0x1176")](x,d.fnum),a=d.mapcoord||{x:d.x,y:d.y},i=t.Nodes,n=[1/0,0];if(2==_)for(var r in i){var s=i[r];if(!e||!s[_0x1d97("0x40")]||11!=s.tid)if(4==s[_0x1d97("0x40")]||5==s.tid||54==s[_0x1d97("0x40")])(o=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math.pow(s.X-a.x,2)+Math[_0x1d97("0xa8")](s.Y-a.y,2))))<n[0]&&(n[0]=o,n[1]=r)}else for(var r in i){var o;s=i[r];if(!e||!s[_0x1d97("0x40")]||11!=s[_0x1d97("0x40")])(o=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math[_0x1d97("0xa8")](s.X-a.x,2)+Math[_0x1d97("0xa8")](s.Y-a.y,2))))<n[0]&&(n[0]=o,n[1]=r)}return i[n[1]]}},{key:_0x1d97("0x118a"),value:function(x){var d=this[_0x1d97("0x78c")][x[_0x1d97("0xe5")]][_0x1d97("0x8f4")],_=[];return d[_0x1d97("0x1d")]((function(x){var d=x.Nodes;for(var e in d){var t=d[e];t[_0x1d97("0x40")]&&11==t[_0x1d97("0x40")]&&_[_0x1d97("0x1")](t)}})),_}},{key:_0x1d97("0x118b"),value:function(x,d){var _=this[_0x1d97("0x78c")][x[_0x1d97("0xe5")]][_0x1d97("0x8f4")],e=[1/0,0,{},1];return _[_0x1d97("0x1d")]((function(_){var t=_.Nodes,a=_[_0x1d97("0xad8")];if(2==d)for(var i in t){if(4==(n=t[i])[_0x1d97("0x40")]||5==n[_0x1d97("0x40")])(r=Math.abs(Math[_0x1d97("0xc3")](Math.pow(n.X-x.x,2)+Math[_0x1d97("0xa8")](n.Y-x.y,2))))<e[0]&&(e[0]=r,e[1]=i,e[2]=n,e[3]=a)}else for(var i in t){var n,r;if((n=t[i])[_0x1d97("0x40")]&&11==n[_0x1d97("0x40")])(r=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math[_0x1d97("0xa8")](n.X-x.x,2)+Math[_0x1d97("0xa8")](n.Y-x.y,2))))<e[0]&&(e[0]=r,e[1]=i,e[2]=n,e[3]=a)}})),{node:e[2],fnum:e[3]}}},{key:_0x1d97("0x1187"),value:function(x){return function(d,_){return d[x]-_[x]}}}]),d}();d.default=b}).call(this,_(66))},,function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e,t=_(10),a=(e=t)&&e[_0x1d97("0xb")]?e:{default:e};d[_0x1d97("0x117d")]=function(x,d){return Math[_0x1d97("0x253")](x.X-d.X)+Math[_0x1d97("0x253")](x.Y-d.Y)},d[_0x1d97("0x1188")]=function x(d){var _;if((typeof d===_0x1d97("0x8")?_0x1d97("0x8"):(0,a[_0x1d97("0x1c")])(d))==_0x1d97("0xc"))if(null===d)_=null;else if(d instanceof Array){_=[];for(var e=0,t=d[_0x1d97("0x0")];e<t;e++)_.push(x(d[e]))}else for(var i in _={},d)_[i]=x(d[i]);else _=d;return _}},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=a(_(0)),t=a(_(1));function a(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var i=function(){function x(d,_,t,a){(0,e[_0x1d97("0x1c")])(this,x),this[_0x1d97("0xe8")]=_,this[_0x1d97("0xe5")]=d,this[_0x1d97("0x0")]=t,this[_0x1d97("0x10b1")]=a,this.lineList=[]}return(0,t[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x118c"),value:function(){return this[_0x1d97("0xe8")]}},{key:"getLength",value:function(){return this[_0x1d97("0x0")]}},{key:"getPointList",value:function(){for(var x=[],d=0,_=this[_0x1d97("0x10b1")][_0x1d97("0x0")];d<_;d++)x[_0x1d97("0x1")]({x:this[_0x1d97("0x10b1")][d].x,y:this.pointList[d].y,fnum:this[_0x1d97("0xe8")]});return x}}]),x}();d[_0x1d97("0x1c")]=i},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=u(_(9)),t=u(_(12)),a=u(_(13)),i=u(_(2)),n=u(_(0)),r=u(_(1)),s=_(70),o=_(34),c=u(_(68)),l=u(_(23));function u(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var f=function(){function x(d){(0,n.default)(this,x),this[_0x1d97("0x3d0")]=(0,i[_0x1d97("0x1c")])({type:_0x1d97("0x4b"),useCrst:!0,merge:!0,model:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},d),this.ID=this[_0x1d97("0x3d0")].id,this[_0x1d97("0xb8")]=this[_0x1d97("0x3d0")].name,this[_0x1d97("0xa3")]=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0xc7")]=6,this[_0x1d97("0xa3")][_0x1d97("0xa2")]=this,this[_0x1d97("0xa3")][_0x1d97("0xb8")]=_0x1d97("0xb9"),this[_0x1d97("0x3d9")]=this[_0x1d97("0xa3")][_0x1d97("0x3d9")],this[_0x1d97("0xb9b")]=!0,this[_0x1d97("0x48")]="",this[_0x1d97("0x38")]=esmap.ESMap[_0x1d97("0x34")],this[_0x1d97("0xb71")]=!1,this[_0x1d97("0xfa5")]=!1,this.parent=null,this[_0x1d97("0x118d")]=null,this[_0x1d97("0x240")](),this[_0x1d97("0x32")](),this[_0x1d97("0x38")].zoomLevel<this.configs[_0x1d97("0x22c")]&&(this[_0x1d97("0xa3")][_0x1d97("0xf0")]=!1)}var d;return(0,r[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x240"),value:function(){var x=this;this.map.on(_0x1d97("0x156"),(function(){var d=x[_0x1d97("0x38")].zoomLevel;x[_0x1d97("0xa3")]&&(d<x[_0x1d97("0x3d0")][_0x1d97("0x22c")]?x[_0x1d97("0xa3")][_0x1d97("0xf0")]&&(x[_0x1d97("0xa3")][_0x1d97("0xf0")]=!1):x.o3d_.visible||(x[_0x1d97("0xa3")].visible=!0))}))}},{key:_0x1d97("0xa6"),value:function(){var x=this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x147")][this[_0x1d97("0x3d0")][_0x1d97("0xe5")]];if(x){var d=x.indexOf(this.o3d_);d>-1&&x[_0x1d97("0x189")](d,1)}this[_0x1d97("0xa3")]&&(this[_0x1d97("0xa3")].visible=!1,this[_0x1d97("0xa3")].parent&&this[_0x1d97("0xa3")][_0x1d97("0xba")][_0x1d97("0x149")](this[_0x1d97("0xa3")]),(0,s.doDispose)(this.o3d_,!1))}},{key:_0x1d97("0x32"),value:(d=(0,a.default)(t[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){var d,_,e,a,i,n,r,s,u,f,h,b,g,v,p;return t[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:if(!this[_0x1d97("0xb71")]){x[_0x1d97("0x2a8")]=2;break}return x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 2:if(d=this[_0x1d97("0x38")],_=this[_0x1d97("0x3d0")],e=_.bid,a=_[_0x1d97("0xe6")],i=_[_0x1d97("0xb8b")],n=_.type,0!=a[_0x1d97("0x0")]){x[_0x1d97("0x2a8")]=9;break}return console[_0x1d97("0x245")](_0x1d97("0x118e")),this[_0x1d97("0xb71")]=!0,x[_0x1d97("0x2ae")]("return");case 9:return(r=this[_0x1d97("0x38")][_0x1d97("0x588")](e))||(r=this.map[_0x1d97("0xee")](e)),r||(s=e[_0x1d97("0x28")]("_"),u=(0,o[_0x1d97("0xa1")])(1*s[0],1*s[1],d[_0x1d97("0x35")][_0x1d97("0x1c6")],!0),f=(u[_0x1d97("0xaa")]-u[_0x1d97("0xad")])/2+u[_0x1d97("0xad")],h=(u.maxy-u[_0x1d97("0xae")])/2+u[_0x1d97("0xae")],(b=new(c[_0x1d97("0x1c")])({id:e,map:d}))[_0x1d97("0xe7")]=[f,h],b[_0x1d97("0x14e")]=1,b[_0x1d97("0xa3")][_0x1d97("0xb6")].set(0,0,0),d[_0x1d97("0x16c")][_0x1d97("0x9ba")]()[_0x1d97("0xdc")](b.o3d_),r=b),1==r.buildingType?r[_0x1d97("0x14d")].getOrCreateLayerByName(_0x1d97("0x118f"),esmap[_0x1d97("0x168")].MODEL3D)[_0x1d97("0xa3")].add(this.o3d_):r.getFloor(this.configs[_0x1d97("0xe8")])[_0x1d97("0x191")](_0x1d97("0x118f"),esmap[_0x1d97("0x168")].MODEL3D)[_0x1d97("0xa3")][_0x1d97("0xdc")](this[_0x1d97("0xa3")]),this[_0x1d97("0xba")]=r,this[_0x1d97("0x14f")]=r[_0x1d97("0x14f")],g=this.configs[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),""),n==_0x1d97("0x4b")?this[_0x1d97("0x48")]=l[_0x1d97("0x1c")][_0x1d97("0x531")]("buildingModel",{filename:g,buildingId:this[_0x1d97("0x3d0")].bid,modeltoken:d[_0x1d97("0x9c")]}):this[_0x1d97("0x48")]=l[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x1190"),{filename:g,modeltoken:d.__mtn}),x[_0x1d97("0x2a8")]=20,this.asyncGetWallModel();case 20:(v=x[_0x1d97("0x533")])?(p=v[_0x1d97("0x305")][_0x1d97("0xdb")](),this._modelObj=p,this[_0x1d97("0x1191")]=v,i&&this[_0x1d97("0x38")].mapPicker[_0x1d97("0x188")](this.o3d_,e),this[_0x1d97("0x3cb")]={x:a[0].x,y:a[0].y},this[_0x1d97("0xb71")]=!0,this[_0x1d97("0x1192")](a),this.configs.created&&this.configs[_0x1d97("0x22b")](this)):(this[_0x1d97("0xb71")]=!0,this[_0x1d97("0x3d0")][_0x1d97("0x245")]&&this[_0x1d97("0x3d0")].error(this));case 22:case _0x1d97("0x2c4"):return x.stop()}}),x,this)}))),function(){return d[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x1192"),value:function(x){if(this[_0x1d97("0xb71")]){for(;this[_0x1d97("0xa3")][_0x1d97("0xa4")][_0x1d97("0x0")]>0;){this[_0x1d97("0xa3")][_0x1d97("0xa4")][0];this[_0x1d97("0xa3")].children.pop()}var d=this[_0x1d97("0x3d0")][_0x1d97("0x1193")],_=this[_0x1d97("0x118d")],e=this,t=this[_0x1d97("0x3d0")],a=t[_0x1d97("0x223")],n=t[_0x1d97("0x1194")],r=t[_0x1d97("0x1195")],s=t[_0x1d97("0x1b5")],o=t.id,c=t[_0x1d97("0x1196")],l=t.merge;this.configs[_0x1d97("0xe6")]=x,this[_0x1d97("0x3d0")][_0x1d97("0xbf")]=!1;var u=this[_0x1d97("0x38")],f=(new(THREE[_0x1d97("0x30b")])).setFromObject(this[_0x1d97("0x118d")]),h=f.max.x-f[_0x1d97("0x318")].x,b=[];x[_0x1d97("0x1d")]((function(x){var _=x;d&&(_=u.transformCoord({from:u[_0x1d97("0x17a")],to:u.coordSystem,coord:{x:x.x,y:x.y}})),b[_0x1d97("0x1")](new(THREE[_0x1d97("0x4be")])(_.x,_.y))}));var g=[],v=h/c;if(this[_0x1d97("0xa22")](b,0,g,v,h),0==g[_0x1d97("0x0")])return console[_0x1d97("0x3fb")](_0x1d97("0x1197")+o+" ,æ¨¡å:"+a),void(this[_0x1d97("0xb71")]=!0);var p=[];if(g[_0x1d97("0x1d")]((function(x,d){var _=new(THREE[_0x1d97("0xe0")])(parseFloat(x.scale),parseFloat(r),parseFloat(n));0==_.x&&(_.x=1),0==_.y&&(_.y=1),0==_.z&&(_.z=1);var t=Math.PI/180,i=new(THREE[_0x1d97("0x264")])(0,parseFloat(x[_0x1d97("0x257")])*t,0),c=e[_0x1d97("0x38")][_0x1d97("0x17c")](x,!0);c.y=0,c.y+=parseFloat(s),p[_0x1d97("0x1")]({id:o+"-"+d,model:a,rotation:i,position:c,scale:_})})),l){_[_0x1d97("0xb4")]((function(x){x[_0x1d97("0xa7")]&&(x[_0x1d97("0xa7")]=x[_0x1d97("0xa7")][_0x1d97("0xdb")]())}));var m=(0,i.default)({},this[_0x1d97("0x1191")],{scene:_,scenes:[_]}),A=this[_0x1d97("0x14f")][_0x1d97("0x57f")][_0x1d97("0xbf")](m,p);A||console[_0x1d97("0x245")](_0x1d97("0x1198")),this[_0x1d97("0xa3")][_0x1d97("0xdc")](A),this[_0x1d97("0xa3")].userData[_0x1d97("0x99c")]=!0}else{_.traverse((function(x){x[_0x1d97("0xa7")]&&(x[_0x1d97("0xa7")]=x[_0x1d97("0xa7")][_0x1d97("0xdb")]())}));for(var C=0;C<p[_0x1d97("0x0")];C++){var I=p[C],y=_.clone(!0);(new THREE.Box3)[_0x1d97("0x30c")](y)[_0x1d97("0x30d")](y[_0x1d97("0xb6")]),y[_0x1d97("0xb6")][_0x1d97("0x276")](-1);var E=new THREE.Object3D;E[_0x1d97("0xdc")](y),y.userData.id=I.id,E[_0x1d97("0x238")][_0x1d97("0x267")](I.rotation),E[_0x1d97("0x237")][_0x1d97("0x267")](I.scale),E.position[_0x1d97("0x267")](I.position),this[_0x1d97("0xa3")][_0x1d97("0xdc")](E)}}this[_0x1d97("0x3cb")]={x:x[0].x,y:x[0].y}}}},{key:_0x1d97("0x1199"),value:function(){var x=this,d=this[_0x1d97("0x3d0")].model;return new(e[_0x1d97("0x1c")])((function(_){if(x[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x2ab")][d])_(x.map[_0x1d97("0x2aa")][_0x1d97("0x2ab")][d].gltfObj);else{if(!x[_0x1d97("0x14f")][_0x1d97("0x310")][d]){var e={name:_0x1d97("0x119a"),layerid:x[_0x1d97("0x3d9")],model:x[_0x1d97("0x3d0")][_0x1d97("0x223")],url:x[_0x1d97("0x48")],id:_0x1d97("0x119a"),bclick:0,fnum:1,iswall:!0,gid:0,scale:new THREE.Vector3(1,1,1),rotation:new(THREE[_0x1d97("0xe0")])(0,0,0),position:new(THREE[_0x1d97("0xe0")])(1,1,1),parent:new(THREE[_0x1d97("0x7c5")])};x[_0x1d97("0x14f")][_0x1d97("0xb77")](e)}x[_0x1d97("0x38")].on("modelPrefetched",(function(x){x[_0x1d97("0xb8")]==d&&_(x.gltfObj)})),x.map.on("modelPrefetchFailed",(function(x){x[_0x1d97("0xb8")]==d&&_(null)}))}}))}},{key:"computeCenters",value:function(x,d,_,e,t){if(d==x[_0x1d97("0x0")]-1)return!0;var a,i,n,r,s,o,c=x[d],l=x[d+1],u=l.clone().sub(c),f=e/2,h=(a=l,i=c,n=new(THREE[_0x1d97("0xe0")])(1,0,0),r=new(THREE[_0x1d97("0xe0")])(a.x,0,a.y),s=new(THREE[_0x1d97("0xe0")])(i.x,0,i.y).clone()[_0x1d97("0x3d7")](r)[_0x1d97("0x2e1")](),o=s.angleTo(n)*THREE[_0x1d97("0x24e")][_0x1d97("0x59b")],s[_0x1d97("0xdb")]()[_0x1d97("0x2dc")](n).y>0?o:360-o),b=u[_0x1d97("0x0")]();if(u.normalize(),0!=b){if(b>e){var g=Math.floor(b/e),v=b%e,p=c[_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]()[_0x1d97("0x276")](f));p[_0x1d97("0x257")]=h,p.scale=e/t,_[_0x1d97("0x1")](p);for(var m=1;m<g;m++){var A=_[_.length-1][_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]().multiplyScalar(e));A.angle=h,A[_0x1d97("0x237")]=e/t,_[_0x1d97("0x1")](A)}if(v>0)if(v>=t/2){var C=_[_[_0x1d97("0x0")]-1][_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]().multiplyScalar(f+v/2));C[_0x1d97("0x257")]=h,C[_0x1d97("0x237")]=v/t,_[_0x1d97("0x1")](C)}else{var I=_[_[_0x1d97("0x0")]-1];I[_0x1d97("0x237")]=(v+e)/t;var y=I[_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]()[_0x1d97("0x276")](v/2));I.x=y.x,I.y=y.y}}else{var E=c[_0x1d97("0xdb")]()[_0x1d97("0xdc")](u[_0x1d97("0xdb")]().multiplyScalar(b/2));E[_0x1d97("0x257")]=h,E.scale=b/t,_[_0x1d97("0x1")](E)}this[_0x1d97("0xa22")](x,++d,_,e,t)}}},{key:_0x1d97("0x2ca"),value:function(x){var d=!1===x,_=this[_0x1d97("0x3d0")][_0x1d97("0xbf")];this[_0x1d97("0xa3")].traverse((function(e){if(e[_0x1d97("0xa7")])if(e.material instanceof Array)if(_)e.material[0][_0x1d97("0x11e")][_0x1d97("0x99d")]||(e[_0x1d97("0xa7")][0].userData[_0x1d97("0x99d")]=e.material[0][_0x1d97("0x2cc")][_0x1d97("0xdb")]()),d?(e.material[0].emissive=e.material[0].userData[_0x1d97("0x99d")],e[_0x1d97("0xa7")][0][_0x1d97("0x11e")][_0x1d97("0x99d")]=null):e[_0x1d97("0xa7")][0][_0x1d97("0x2cc")]=new(THREE[_0x1d97("0x101")])(x);else for(var t=0;t<e[_0x1d97("0xa7")][_0x1d97("0x0")];t++){var a=e.material[t].clone();a[_0x1d97("0x2")]("emissive")&&(a[_0x1d97("0x11e")][_0x1d97("0x99d")]||(a[_0x1d97("0x11e")][_0x1d97("0x99d")]=a[_0x1d97("0x2cc")][_0x1d97("0xdb")]()),a[_0x1d97("0x2cc")]=d?a.userData[_0x1d97("0x99d")]instanceof THREE.Color?a[_0x1d97("0x11e")].originEMS:new(THREE[_0x1d97("0x101")])(a[_0x1d97("0x11e")][_0x1d97("0x99d")]):new(THREE[_0x1d97("0x101")])(x),e.material[t]=a,a.needsUpdate=!0)}else{var i=e.material;i[_0x1d97("0x2")]("emissive")&&(d?i[_0x1d97("0x2cc")]=new THREE.Color(i.userData[_0x1d97("0x99d")]):((i=e[_0x1d97("0xa7")][_0x1d97("0xdb")]())[_0x1d97("0x11e")].originEMS||(i[_0x1d97("0x11e")][_0x1d97("0x99d")]=e.material.emissive[_0x1d97("0x49b")]()),i.emissive=new(THREE[_0x1d97("0x101")])(x),e[_0x1d97("0xa7")]=i),e[_0x1d97("0xa7")].needsUpdate=!0)}}))}}]),x}();d.default=f},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=c(_(4)),t=c(_(0)),a=c(_(1)),i=c(_(5)),n=c(_(6)),r=c(_(100)),s=_(11),o=(_(56),_(57),c(_(23)));function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=function(x){function d(x){(0,t[_0x1d97("0x1c")])(this,d);var _=esmap.ESMap.instance,a=_[_0x1d97("0x16d")][_0x1d97("0x30d")]();0==x.x&&(x.x=a.x),0==x.y&&(x.y=a.y);var n=_[_0x1d97("0x2f9")]({x:x.x,y:x.y,z:x.height||0}),r=void 0;if(x[_0x1d97("0x257")]instanceof Object)r={x:THREE[_0x1d97("0x24e")].degToRad(x[_0x1d97("0x257")].x||0),y:THREE[_0x1d97("0x24e")].degToRad(x[_0x1d97("0x257")].z||0),z:THREE.Math.degToRad(x[_0x1d97("0x257")].y||0)};else{var c;if(isNaN(x[_0x1d97("0x257")])&&null!=x[_0x1d97("0x257")])return c=console[_0x1d97("0x245")]("angle must be a object or number!"),(0,i.default)(A,c);r={x:0,y:THREE[_0x1d97("0x24e")][_0x1d97("0x265")]((0,s.getValue)(x,_0x1d97("0x257"),0)),z:0}}var l=(0,s[_0x1d97("0x12")])(x,_0x1d97("0xa5f"),1),u=l instanceof Object?{x:l.x||1,y:l.y||1,z:l.z||1}:{x:l,y:l,z:l},f=(0,s[_0x1d97("0x12")])(x,_0x1d97("0x48"),_0x1d97("0x223")),h="",b=f[_0x1d97("0x2a9")]("/");h=b>=0?f[_0x1d97("0xca")](b+1):f,_[_0x1d97("0x2aa")].getState("sk")&&(h=x.name||f,f=f[_0x1d97("0x106")](/\.gltf$/,"")+_0x1d97("0x6f"),f=_[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].Building?o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x54"),{filename:f,modeltoken:_[_0x1d97("0x9c")],buildingId:_.id}):o[_0x1d97("0x1c")].getPath(_0x1d97("0x1190"),{filename:f,modeltoken:_[_0x1d97("0x9c")]}));var g=(0,s[_0x1d97("0x12")])(x,"id",1),v=_[_0x1d97("0x36")]==esmap[_0x1d97("0x3a")].Building?20:12,p=(0,s[_0x1d97("0x12")])(x,"showLevel",v),m=(0,s.getValue)(x,_0x1d97("0xe5"),0),A=(0,i.default)(this,(d[_0x1d97("0xe3")]||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,{model:h,ID:g,bid:m,url:f,alias:"es3dmarker",scale:u,rotation:r,position:n,showLevel:p,name:x[_0x1d97("0xb8")]||_0x1d97("0xe90"),onError:x.onError||null,callback:x.callback||x[_0x1d97("0x1bd")]||null,clickAnimation:(0,s[_0x1d97("0x12")])(x,_0x1d97("0x119b"),!1)}));return A[_0x1d97("0x119c")]=!x.hasOwnProperty(_0x1d97("0x119c"))||x[_0x1d97("0x119c")],A[_0x1d97("0x35d")]=x[_0x1d97("0x35d")]||null,A.o3d_[_0x1d97("0xb6")].y=n.y,A[_0x1d97("0x128")]=null!=x[_0x1d97("0x128")]&&x.seeThrough,A[_0x1d97("0xbf")]=null!=x.merge&&x[_0x1d97("0xbf")],A[_0x1d97("0xb9a")]=!0,A}return(0,n[_0x1d97("0x1c")])(d,x),(0,a[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x882"),value:function(x){esmap[_0x1d97("0x177")][_0x1d97("0xf")][_0x1d97("0x882")][_0x1d97("0x3")](this,x)}},{key:"stop",value:function(){this[_0x1d97("0xa3")][_0x1d97("0x1af")]()}},{key:"height",get:function(){return this.o3d_.position.y},set:function(x){this.o3d_[_0x1d97("0xb6")].y=x}}]),d}(r[_0x1d97("0x1c")]);l[_0x1d97("0x119d")]=r[_0x1d97("0x1c")],d.default=l},function(x,d,_){"use strict";CanvasRenderingContext2D[_0x1d97("0xf")][_0x1d97("0xe84")]=function(x,d,_,e,t){return this[_0x1d97("0x858")](),this.moveTo(x+t,d),this[_0x1d97("0x119e")](x+_,d,x+_,d+e,t),this[_0x1d97("0x119e")](x+_,d+e,x,d+e,t),this[_0x1d97("0x119e")](x,d+e,x,d,t),this.arcTo(x,d,x+_,d,t),this[_0x1d97("0x856")](),this}},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=n(_(10)),t=n(_(28)),a=n(_(0)),i=n(_(1));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(){function x(d,_){(0,a[_0x1d97("0x1c")])(this,x);var e=esmap.ESMap[_0x1d97("0x34")];this.source=e[_0x1d97("0x2aa")].navData,this[_0x1d97("0x38")]=e,this[_0x1d97("0x119f")]={},this.dataList2={}}return(0,i.default)(x,[{key:_0x1d97("0x114d"),value:function(x){var d=this;if(0!=x&&!d.dataList1[x]){var _={};_[_0x1d97("0x10ee")]={},_[_0x1d97("0x11a0")]={},_[_0x1d97("0x11a1")]={},_[_0x1d97("0x11a2")]={},_[_0x1d97("0x11a3")]={};for(var e=[],t=[],a=d.source[x],i=this[_0x1d97("0x38")][_0x1d97("0xee")](x),n=i[_0x1d97("0x35")][_0x1d97("0xe7")][0],r=i.options[_0x1d97("0xe7")][1],s=n+i.sourceData[_0x1d97("0x8f7")],o=r-i[_0x1d97("0x165")].DefaultCenY,c=0;c<a[_0x1d97("0x0")];c++){var l=a[c][_0x1d97("0xad8")],u=a[c][_0x1d97("0xc49")],f=a[c][_0x1d97("0x18e")],h=[],b=[],g=[];for(var v in u){var p=u[v];p.X=p.X+s,p.Y=p.Y+o;var m=p[_0x1d97("0xce3")]||0;if(d[_0x1d97("0xbe")](h,m)||h[_0x1d97("0x1")](m),0!=(p[_0x1d97("0x40")]||0)){var A=m+1e4*l;if(_[_0x1d97("0x11a1")][A])_[_0x1d97("0x11a1")][A][_0x1d97("0x1")](p[_0x1d97("0x170")]);else{var C=[p[_0x1d97("0x170")]];_[_0x1d97("0x11a1")][A]=C}}_[_0x1d97("0x10ee")][p[_0x1d97("0x170")]]=[]}for(var I in f){var y=f[I],E=(y[_0x1d97("0xce7")],y.direction||0),w=y[_0x1d97("0xce3")],T=y[_0x1d97("0x464")];if(u[w]&&u[T])_[_0x1d97("0x10ee")][w][_0x1d97("0x1")](y._id),_[_0x1d97("0x10ee")][T][_0x1d97("0x1")](y._id),1==(y.rank||1e3)&&(0==E?g[_0x1d97("0x1")](y):b[_0x1d97("0x1")](y));else 0==E?t[_0x1d97("0x1")](y):e.push(y)}}d[_0x1d97("0x119f")][x]=_}}},{key:"getAreaFormId",value:function(x,d){for(var _=this[_0x1d97("0x78c")][x],e=1;e<_[_0x1d97("0x0")];e++){var t=_[e][_0x1d97("0xad8")],a=_[e][_0x1d97("0xc49")];if(a[d]){var i=a[d][_0x1d97("0xce3")];return i+=1e4*t}}return-1}},{key:_0x1d97("0x11a4"),value:function(x,d,_,e,t,a){for(var i=0;i<t[_0x1d97("0x0")];i++){x[t[i]+1e4*a]=[]}for(i=0;i<_[_0x1d97("0x0")];i++){var n=(c=_[i])[_0x1d97("0xce3")],r=c[_0x1d97("0x464")],s=d[n][_0x1d97("0xce3")]||0;s+=1e4*a;var o=d[r].sid||0;o+=1e4*a,x[s][_0x1d97("0x1")](n),x[o][_0x1d97("0x1")](r)}for(i=0;i<e[_0x1d97("0x0")];i++){var c;s=d[n=(c=e[i])[_0x1d97("0xce3")]][_0x1d97("0xce3")]||0;x[s+=1e4*a].push(n)}for(var i in x){0==x[i][_0x1d97("0x0")]&&delete x.i}}},{key:_0x1d97("0x11a5"),value:function(x,d,_,e){for(var t={},a=0;a<e[_0x1d97("0x0")];a++){var i=e[a],n=this[_0x1d97("0x11a6")](x,i,d,_);t[i]=n}return t}},{key:"canGoAreas",value:function(x,d,_,e){for(var t=[],a=0;a<_[_0x1d97("0x0")];a++){(n=x[(i=_[a]).sid][_0x1d97("0xce3")])!=(r=x[i.eid].sid)&&(n!=d||this[_0x1d97("0xbe")](t,r)||t[_0x1d97("0x1")](r),r!=d||this.exitInArray(t,n)||t[_0x1d97("0x1")](n))}for(a=0;a<e.length;a++){var i,n,r;(n=x[(i=e[a])[_0x1d97("0xce3")]][_0x1d97("0xce3")])!=(r=x[i.eid][_0x1d97("0xce3")])&&(n!=d||this[_0x1d97("0xbe")](t,r)||t[_0x1d97("0x1")](r))}return t}},{key:"calculativeCrossLayerLine",value:function(x,d,_){var e={};if(0==_[_0x1d97("0x0")])for(var t in x)for(var a=x[t],i=0;i<a[_0x1d97("0x0")];i++){var n=a[i],r=this[_0x1d97("0x11a7")](n,d);e[n]=r}else{var s={};for(i=0;i<_.length;i++){var o=_[i],c=o.sid,l=o.eid,u=[];for(var f in d){var h=d[f],b=[];if(s[f]&&(b=s[f]),(this.exitInArray(h,c)||this[_0x1d97("0xbe")](b,c))&&u[_0x1d97("0x1")](f),this.exitInArray(h,l)&&f,0!=u[_0x1d97("0x0")]){b=[];d[l]?b=d[l]:b[_0x1d97("0x1")](l);for(var g=0;g<u[_0x1d97("0x0")];g++){var v=u[g];if(s[v])for(var p=0;p<b[_0x1d97("0x0")];p++)s[v][_0x1d97("0x1")](b[p]);else s[v]=b}}}}for(var t in x)for(a=x[t],i=0;i<a.length;i++){n=a[i],r=this[_0x1d97("0x11a8")](n,d,s);e[n]=r}}return e}},{key:_0x1d97("0x11a8"),value:function(x,d,_){var e=[];for(var t in d){var a=d[t];if(this[_0x1d97("0xbe")](a,x)){for(var i=0;i<a[_0x1d97("0x0")];i++)a[i]!=x&&e[_0x1d97("0x1")](a[i]);if(_[t]){var n=_[t];for(i=0;i<n[_0x1d97("0x0")];i++)e[_0x1d97("0x1")](n[i])}}}return e}},{key:_0x1d97("0x11a7"),value:function(x,d){var _=[];for(var e in d){var t=d[e];if(this[_0x1d97("0xbe")](t,x))for(var a=0;a<t[_0x1d97("0x0")];a++)t[a]!=x&&_[_0x1d97("0x1")](t[a])}return _}},{key:_0x1d97("0x11a9"),value:function(x){for(var d={},_=1,e=0;e<x[_0x1d97("0x0")];e++){var t=x[e];if(0==e){(a=[])[_0x1d97("0x1")](t.sid),a.push(t[_0x1d97("0x464")]),d[_]=a}else{var a,i=!1;for(var n in d){var r=this[_0x1d97("0xbe")](d[n],t.sid),s=this.exitInArray(d[n],t[_0x1d97("0x464")]);if(r&&!s){d[n][_0x1d97("0x1")](t[_0x1d97("0x464")]),i=!0;break}if(!r&&s){d[n].push(t.sid),i=!0;break}}if(!i)_++,(a=[])[_0x1d97("0x1")](t.sid),a[_0x1d97("0x1")](t[_0x1d97("0x464")]),d[_]=a}}var o=[];for(var e in d){var c=d[e];this[_0x1d97("0x11aa")](c,o)}d=[];for(e=0;e<o[_0x1d97("0x0")];e++)d[e]=o[e];return d}},{key:_0x1d97("0x11aa"),value:function(x,d){for(var _=d[_0x1d97("0x0")],e=-1,t=0;t<d[_0x1d97("0x0")];t++)if((e=this[_0x1d97("0x11ab")](x,d[t]))>0){_=t;break}if(_==d.length)d[_0x1d97("0x1")](x);else{var a=d[_];for(t=0;t<x[_0x1d97("0x0")];t++){var i=x[t];i!=e&&a[_0x1d97("0x1")](i)}}}},{key:_0x1d97("0x11ab"),value:function(x,d){for(var _=-1,e=0;e<x[_0x1d97("0x0")];e++){for(var t=x[e],a=0;a<d[_0x1d97("0x0")];a++){if(t==d[a]){_=t;break}}if(_>0)break}return _}},{key:"initCrossScheme",value:function(x,d){var _=[];for(var e in x)_[_0x1d97("0x1")](e);for(e=0;e<_[_0x1d97("0x0")];e++)for(var t=_[e],a=0;a<_.length;a++){var i=_[a];if(t!=i){var n=1e5*t+1*i;if(!d[n]){var r=this[_0x1d97("0x11ac")](t,i,x);if(0!=r[_0x1d97("0x0")]){d[n]=r;var s=this.opposite(r);d[1e5*i+1*t]=s;for(var o=[r],c=0;c<1e4&&0!=(o=this.getArrayMinus(o)).length&&1!=o[0].length;c++)for(var l=0;l<o[_0x1d97("0x0")];l++){var u=o[l],f=u[0],h=u[u[_0x1d97("0x0")]-1],b=1e5*f+1*h;if(d[b])o[_0x1d97("0x189")](l,1),l--;else{d[b]=u;var g=this[_0x1d97("0x11ad")](u);d[1e5*h+1*f]=g}}}}}}}},{key:_0x1d97("0x11ad"),value:function(x){for(var d=[],_=x[_0x1d97("0x0")]-1;_>=0;_--)d.push(x[_]);return d}},{key:_0x1d97("0x11ae"),value:function(x){for(var d=[],_=0;_<x[_0x1d97("0x0")];_++){for(var e=x[_],t=[],a=1;a<e[_0x1d97("0x0")];a++)t.push(e[a]);var i=[];for(a=0;a<e[_0x1d97("0x0")]-1;a++)i.push(e[a]);d.push(t),d[_0x1d97("0x1")](i)}return d}},{key:"calculatePath",value:function(x,d,_){var e=[x];if(x!=d){var t=[],a=[x],i=[],n=_[x];if(n[d])e.push(d);else{for(var r=0;r<n[_0x1d97("0x0")];r++){var s=n[r],o=[x,s];i.push(o),a[_0x1d97("0x1")](s)}for(r=0;r<100;r++){if(0==(i=this[_0x1d97("0x11af")](i,a,_))[_0x1d97("0x0")])return[];for(var c=0;c<i[_0x1d97("0x0")];c++){var l=i[c];l[l[_0x1d97("0x0")]-1]==d&&t[_0x1d97("0x1")](l)}if(0!=t[_0x1d97("0x0")]){e=this.getOptimutic(t);break}}}}for(r=0;r<e.length;r++)e[r]*=1;return e}},{key:_0x1d97("0x11af"),value:function(x,d,_){for(var e=[],t=0;t<x[_0x1d97("0x0")];t++)for(var a=x[t],i=_[a[a[_0x1d97("0x0")]-1]],n=0;n<i[_0x1d97("0x0")];n++){var r=i[n];if(!this.exitInArray(d,r)){for(var s=[],o=0;o<a.length;o++)s[_0x1d97("0x1")](a[o]);s.push(r),e[_0x1d97("0x1")](s),d[_0x1d97("0x1")](r)}}return e}},{key:_0x1d97("0x11b0"),value:function(x){for(var d=x[0],_=this[_0x1d97("0x11b1")](d),e=1;e<x.length;e++){var t=x[e],a=this[_0x1d97("0x11b1")](t);a<_&&(_=a,d=t)}return d}},{key:_0x1d97("0x11b1"),value:function(x){for(var d=0,_=0;_<x[_0x1d97("0x0")]-1;_++){var e=x[_],t=x[_+1];Math[_0x1d97("0x2b")](e/1e4)==Math[_0x1d97("0x2b")](t/1e4)&&d++}return d}},{key:_0x1d97("0x11b2"),value:function(x,d,_,e){x[_0x1d97("0xe8")],d.fnum;var t=x[_0x1d97("0xe5")];this[_0x1d97("0x119f")][t][_0x1d97("0x11a3")];if(x&&d){return this[_0x1d97("0x11b3")](t,x,d,_,e)}console[_0x1d97("0x2ac")](_0x1d97("0x117a"))}},{key:"getNaviResult",value:function(x,d,_,e){var a=x[_0x1d97("0xe5")],i=d.bid;if(this[_0x1d97("0x114d")](a),this[_0x1d97("0x114d")](i),a!=i){if(0==x[_0x1d97("0xe5")]){var n={x:x.x,y:x.y,bid:i,fnum:d[_0x1d97("0xe8")]},r={x:(o=this[_0x1d97("0x118b")](n))[_0x1d97("0x58f")].X,y:o[_0x1d97("0x58f")].Y,_id:o[_0x1d97("0x58f")][_0x1d97("0x170")],fnum:o.fnum,bid:i},s=this[_0x1d97("0x1179")](d,_);return this[_0x1d97("0x11b2")](r,s,_,e)}n={x:d.x,y:d.y,bid:a,fnum:1};var o,c={x:(o=this.getNearestGate(n))[_0x1d97("0x58f")].X,y:o.node.Y,_id:o[_0x1d97("0x58f")]._id,fnum:o.fnum,bid:a},l=this.getNearestNode(x,_),u={x:l.x,y:l.y,_id:l[_0x1d97("0x170")],fnum:x[_0x1d97("0xe8")],bid:a};return this[_0x1d97("0x11b2")](u,c,_,e)}var f=this.getNearestNode(x,_),h=this[_0x1d97("0x1179")](d,_);if(f[_0x1d97("0x170")]!=h[_0x1d97("0x170")]){var b={x:f.X,y:f.Y,_id:f[_0x1d97("0x170")],fnum:x[_0x1d97("0xe8")],bid:a},g={x:h.X,y:h.Y,_id:h[_0x1d97("0x170")],fnum:d[_0x1d97("0xe8")],bid:i},v=this.queryRoutesInBuilding(b,g,_,e);return[][_0x1d97("0x1de")]((0,t.default)(v[_0x1d97("0xbf0")]))}console[_0x1d97("0x2ac")](_0x1d97("0x11b4"))}},{key:_0x1d97("0x118b"),value:function(x,d){var _=this[_0x1d97("0x78c")][x[_0x1d97("0xe5")]],e=[1/0,0,{},1];return _[_0x1d97("0x1d")]((function(_){var t=_.Nodes,a=_[_0x1d97("0xad8")];if(2==d)for(var i in t){if(4==(n=t[i])[_0x1d97("0x40")]||5==n[_0x1d97("0x40")])(r=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math.pow(n.X-x.x,2)+Math[_0x1d97("0xa8")](n.Y-x.y,2))))<e[0]&&(e[0]=r,e[1]=i,e[2]=n,e[3]=a)}else for(var i in t){var n,r;if((n=t[i])[_0x1d97("0x40")]&&11==n[_0x1d97("0x40")])(r=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math[_0x1d97("0xa8")](n.X-x.x,2)+Math[_0x1d97("0xa8")](n.Y-x.y,2))))<e[0]&&(e[0]=r,e[1]=i,e[2]=n,e[3]=a)}})),{node:e[2],fnum:e[3]}}},{key:"convertToCoor",value:function(x,d){for(var _=this.navdata[x][_0x1d97("0xc49")],e=0;e<d[_0x1d97("0x0")];e++){var t=_[d[e]],a={fnum:x,x:t.X,y:t.Y};d[e]=a}}},{key:_0x1d97("0x11b5"),value:function(x,d,_,e,t,a){var i=[],n=this[_0x1d97("0x119f")][x][_0x1d97("0x11b6")],r=this[_0x1d97("0x119f")][x][_0x1d97("0x11a1")],s=this[_0x1d97("0x119f")][x][_0x1d97("0x11a2")];if(1==a[_0x1d97("0x0")])i.push(d),i[_0x1d97("0x1")](_);else{for(var o=[],c=0;c<a[_0x1d97("0x0")]-1;c++){var l=a[c],u=Math[_0x1d97("0x2b")](l/1e4),f=a[c+1],h=Math[_0x1d97("0x2b")](f/1e4);if(u==h){var b=[];(y=[])[_0x1d97("0x1")](u),b.push(u);for(var g=n[l],v=this.getSource(x,u),p=v[_0x1d97("0xc49")],m=v[_0x1d97("0x18e")],A=0;A<g.length;A++){var C=g[A],I=this.findLine(x,C,f%1e4,m,p);0!=I.length&&(y[_0x1d97("0x1")](C),b[_0x1d97("0x1")](I[_0x1d97("0x464")]))}if(0==y.length)return[];o[_0x1d97("0x1")](y),o[_0x1d97("0x1")](b)}else{var y;b=[];(y=[])[_0x1d97("0x1")](u),b.push(h);g=r[l];for(var E=r[f],w=0;w<g.length;w++){var T=s[C=g[w]];for(A=0;A<T[_0x1d97("0x0")];A++){var k=T[A];if(this[_0x1d97("0xbe")](E,k)){y[_0x1d97("0x1")](C),b[_0x1d97("0x1")](k);break}}}if(0==y[_0x1d97("0x0")])return[];o[_0x1d97("0x1")](y),o[_0x1d97("0x1")](b)}}var S={},M=[];M[_0x1d97("0x1")](d),this.findAllPath(x,o,0,0,M,S);var R={};for(var L in S){var H=S[L],D=(p=this[_0x1d97("0x1176")](x,t)[_0x1d97("0xc49")])[H[H[_0x1d97("0x0")]-1]],P=p[_],O=this[_0x1d97("0x559")](D,P);H[_0x1d97("0x1")](_),R[O+1*L]=H}var B=1e6;for(var N in R)parseInt(N)<parseInt(B)&&(B=N,i=R[N])}return i}},{key:"findLine",value:function(x,d,_,e,t){for(var a=this.dataList1[x][_0x1d97("0x10ee")][d],i=0;i<a[_0x1d97("0x0")];i++){var n=e[a[i]];if(1==n[_0x1d97("0x1aa")])if(n[_0x1d97("0xce3")]==d){if(t[n[_0x1d97("0x464")]][_0x1d97("0xce3")]==_)return n}else if(t[n[_0x1d97("0xce3")]][_0x1d97("0xce3")]==_){var r=this.clone(n);return r[_0x1d97("0xce3")]=n[_0x1d97("0x464")],r.eid=n[_0x1d97("0xce3")],r}}return[]}},{key:_0x1d97("0x559"),value:function(x,d){return(x.X-d.X)*(x.X-d.X)+(x.Y-d.Y)*(x.Y-d.Y)}},{key:_0x1d97("0x11b7"),value:function(x,d,_,e,t,a){if(d.length>_)for(var i=d[_],n=d[_+1],r=i[0],s=this[_0x1d97("0x1176")](x,r)[_0x1d97("0xc49")],o=1;o<i[_0x1d97("0x0")];o++){var c=i[o],l=n[o],u=s[t[t[_0x1d97("0x0")]-1]],f=s[c],h=this[_0x1d97("0x559")](u,f);if(e+=h,t[_0x1d97("0x1")](c),t.push(l),this[_0x1d97("0x11b7")](x,d,_+2,e,t,a),t[_0x1d97("0x0")]==d[_0x1d97("0x0")]+1){for(var b=[],g=0;g<t[_0x1d97("0x0")];g++)b[_0x1d97("0x1")](t[g]);a[e]=b}t[_0x1d97("0x189")](t[_0x1d97("0x0")]-1,1),t[_0x1d97("0x189")](t[_0x1d97("0x0")]-1,1),e-=h}}},{key:"getShortestPath",value:function(x,d,_,e,t,a,i,n){if(e!=t){var r={};r[_0x1d97("0x817")]=e,r.costDistance=0,r[_0x1d97("0x117e")]=[1*e];for(var s=[e],o=[],c=1;c<1e5;c++){for(var l=this[_0x1d97("0x1186")](x,r,d,_,s,a,n),u=0;u<l[_0x1d97("0x0")];u++)o[_0x1d97("0x1")](l[u]);if(o[_0x1d97("0x41c")](this[_0x1d97("0x1187")](_0x1d97("0x1184"))),0==o[_0x1d97("0x0")])return[];for(r=o[0];this[_0x1d97("0xbe")](s,r[_0x1d97("0x817")]);)o.shift(),r=o[0];if(s[_0x1d97("0x1")](r[_0x1d97("0x817")]),o[_0x1d97("0x4")](),r[_0x1d97("0x817")]==t)return r.fnum=i,r}return[]}console[_0x1d97("0x2ac")](_0x1d97("0x1183"))}},{key:"updateNewShortestPathList",value:function(x,d,_,e,t,a,i){var n=[],r=d[_0x1d97("0x817")],s=this[_0x1d97("0x119f")][x][_0x1d97("0x10ee")];if(s[r])for(var o=s[r],c=0;c<o[_0x1d97("0x0")];c++){var l=e[o[c]],u=l[_0x1d97("0xce7")];if(1==i){if(5==u)continue}else if(1==u||2==u||3==u||6==u)continue;var f=l.eid;if(r==l.eid){if(2==i&&"1"==l[_0x1d97("0xd82")])continue;f=l.sid}if(!this[_0x1d97("0xbe")](t,f)){if(_[f].sid!=a)continue;var h=this[_0x1d97("0xdb")](d);h[_0x1d97("0x817")]=f,h[_0x1d97("0x117e")].push(f),h.costDistance+=l[_0x1d97("0x0")],n[_0x1d97("0x1")](h)}}return n}},{key:"initDataList2",value:function(x,d,_){var e=this;if(!e[_0x1d97("0x11b8")][x]){for(var t={},a={},i={},n={},r=e[_0x1d97("0x78c")][x],s=0;s<r.length;s++){var o=r[s],c=o.Nodes,l=o[_0x1d97("0xad8")];for(var u in c){var f=c[u];f[_0x1d97("0xe8")]=l,i[u]=f}var h=o.Lines;for(var b in h)n[b]=h[b];for(var g in h){var v=h[g],p=v[_0x1d97("0xce3")],m=v.eid,A=g,C=v.bstair;if(1==d){if(5==C)continue}else if(1==C||2==C||3==C||6==C)continue;if(c[p]&&c[m]){if(t[p])t[p][_0x1d97("0x1")](A);else{var I=[A];t[p]=I}if(t[m])t[m][_0x1d97("0x1")](A);else{I=[A];t[m]=I}}else{var y;switch(_){case 1:y=0;break;case 2:y=2;break;case 3:y=1;break;case 4:y=3}if(y&&v[_0x1d97("0xce7")]!=y)continue;if(a[p])a[p][_0x1d97("0x1")](A);else{I=[A];a[p]=I}if(a[m])a[m].push(A);else{I=[A];a[m]=I}}}}e.dataList2[x]={nearbyLine:t,crossLine:a,allPointMap:i,allLineMap:n}}}},{key:_0x1d97("0x11b3"),value:function(x,d,_,e,t){var a=null;this[_0x1d97("0x11b9")](x,e,t);var i=this.dataList2[x],n=i[_0x1d97("0x10a1")],r=i[_0x1d97("0x112f")],s=i[_0x1d97("0x10ee")],o=i[_0x1d97("0x11ba")],c=this[_0x1d97("0x11bb")](n,r,s,o,d._id,_[_0x1d97("0x170")],e);if(c&&c[_0x1d97("0x117e")]&&0!=c[_0x1d97("0x117e")][_0x1d97("0x0")]){for(var l=c[_0x1d97("0x117e")],u=c.costDistance,f={x:n[l[0]].X,y:n[l[0]].Y,fnum:n[l[0]][_0x1d97("0xe8")],bid:x,id:n[l[0]]._id},h=[new esmap.ESNaviResult(x,d.fnum,u,[f])],b=[],g=0;g<l[_0x1d97("0x0")]-1;g++){var v=n[l[g]],p=v[_0x1d97("0xe8")],m=n[l[g+1]],A=m[_0x1d97("0xe8")],C=h[h[_0x1d97("0x0")]-1];if(b.push({x:v.X,y:v.Y,fnum:p,bid:x,id:v[_0x1d97("0x170")]}),p==A)C[_0x1d97("0x10b1")][_0x1d97("0x1")]({x:m.X,y:m.Y,fnum:m[_0x1d97("0xe8")],bid:x,id:m._id});else{var I={x:v.X,y:v.Y,fnum:v[_0x1d97("0xe8")],bid:x,id:v[_0x1d97("0x170")]},y={x:m.X,y:m.Y,fnum:m[_0x1d97("0xe8")],bid:x,id:m._id};h[_0x1d97("0x1")](new esmap.ESNaviResult(x,p,0,[I]),new esmap.ESNaviResult(x,A,0,[y]),new(esmap[_0x1d97("0x523")])(x,A,u,[y]))}}var E=n[l[l[_0x1d97("0x0")]-1]];b.push({x:E.X,y:E.Y,fnum:E.fnum,bid:x,id:E[_0x1d97("0x170")]});for(var w=1;w<h[_0x1d97("0x0")]-1;w++){var T=h[w];0!=T[_0x1d97("0x0")]&&1==T[_0x1d97("0x10b1")][_0x1d97("0x0")]&&h[w-1][_0x1d97("0xe8")]==T[_0x1d97("0xe8")]&&h[w+1][_0x1d97("0xe8")]==T.fnum&&h[_0x1d97("0x189")](w-1,3)}a={result:h,pointList:b}}return a}},{key:_0x1d97("0x11bb"),value:function(x,d,_,e,t,a,i){if(t!=a){var n={};n[_0x1d97("0x817")]=t,n[_0x1d97("0x1184")]=0,n[_0x1d97("0x117e")]=[t];for(var r=[t],s=[],o=1;o<1e5;o++){for(var c=this.updateNewShortestPathList2(n,x,d,_,e,r,i),l=0;l<c[_0x1d97("0x0")];l++)s[_0x1d97("0x1")](c[l]);if(0==s[_0x1d97("0x0")])return[];for(s.sort(this.compare(_0x1d97("0x1184"))),n=s[0];this[_0x1d97("0xbe")](r,n.endPoint);)s[_0x1d97("0x4")](),n=s[0];if(r[_0x1d97("0x1")](n[_0x1d97("0x817")]),s[_0x1d97("0x4")](),n.endPoint==a)return n}return[]}console[_0x1d97("0x2ac")](_0x1d97("0x1183"))}},{key:"updateNewShortestPathList2",value:function(x,d,_,e,t,a,i){var n=[],r=x[_0x1d97("0x817")];if(e[r])for(var s=e[r],o=0;o<s.length;o++){var c=(l=_[s[o]])[_0x1d97("0x464")];if(r==l[_0x1d97("0x464")]){if(2==i&&"1"==l.direction)continue;c=l[_0x1d97("0xce3")]}if(!this.exitInArray(a,c))(u=this[_0x1d97("0xdb")](x)).endPoint=c,u[_0x1d97("0x117e")][_0x1d97("0x1")](c),u[_0x1d97("0x1184")]+=l.length,1==l.rank&&(u.costDistance+=1e3),n[_0x1d97("0x1")](u)}if(t[r])for(s=t[r],o=0;o<s[_0x1d97("0x0")];o++){var l;c=(l=_[s[o]])[_0x1d97("0x464")];if(r==l[_0x1d97("0x464")]){if(2==i&&"1"==l[_0x1d97("0xd82")])continue;c=l[_0x1d97("0xce3")]}if(!this[_0x1d97("0xbe")](a,c)){var u;(u=this.clone(x))[_0x1d97("0x817")]=c,u[_0x1d97("0x117e")].push(c);var f=10*(l[_0x1d97("0x1aa")]||1e3);u[_0x1d97("0x1184")]+=1e5+f,n[_0x1d97("0x1")](u)}}return n}},{key:"getSource",value:function(x,d){for(var _=this[_0x1d97("0x78c")][x],e=0;e<_.length;e++)if(_[e][_0x1d97("0xad8")]==d)return _[e]}},{key:_0x1d97("0x1179"),value:function(x,d){var _=this.getSource(x[_0x1d97("0xe5")],x.fnum)[_0x1d97("0xc49")],e=[1/0,0];if(2==d)for(var t in _){if(4==(i=_[t])[_0x1d97("0x40")]||5==i[_0x1d97("0x40")])(a=Math[_0x1d97("0x253")](Math[_0x1d97("0xc3")](Math[_0x1d97("0xa8")](i.X-x.x,2)+Math[_0x1d97("0xa8")](i.Y-x.y,2))))<e[0]&&(e[0]=a,e[1]=t)}else for(var t in _){var a,i=_[t];(a=Math.abs(Math.sqrt(Math[_0x1d97("0xa8")](i.X-x.x,2)+Math[_0x1d97("0xa8")](i.Y-x.y,2))))<e[0]&&(e[0]=a,e[1]=t)}return _[e[1]]}},{key:_0x1d97("0x1187"),value:function(x){return function(d,_){return d[x]-_[x]}}},{key:_0x1d97("0xbe"),value:function(x,d){for(var _=0;_<x[_0x1d97("0x0")];_++)if(x[_]==d)return!0;return!1}},{key:_0x1d97("0xdb"),value:function(x){var d;if((typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))==_0x1d97("0xc"))if(null===x)d=null;else if(x instanceof Array){d=[];for(var _=0,t=x[_0x1d97("0x0")];_<t;_++)d[_0x1d97("0x1")](this[_0x1d97("0xdb")](x[_]))}else for(var a in d={},x)d[a]=this[_0x1d97("0xdb")](x[a]);else d=x;return d}}]),x}();d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=i(_(0)),t=i(_(1)),a=i(_(102));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,e[_0x1d97("0x1c")])(this,x),this.map_=d;var _=d[_0x1d97("0x35")],t=d[_0x1d97("0x16d")][_0x1d97("0x321")][_0x1d97("0x63c")];this[_0x1d97("0x11bc")]=t.getBoundingClientRect();this.box;var i=_.scalerWidth,n=(0,a[_0x1d97("0x1c")])("div")[_0x1d97("0x22")]({position:_0x1d97("0x638"),bottom:_.scalerOffet[1]+"px",left:_[_0x1d97("0x1e4")][0]+"px",width:i+"px",height:_0x1d97("0x32f"),webkitTextSizeAdjust:_0x1d97("0x4e2"),msTextSizeAdjust:_0x1d97("0x4e2")})[_0x1d97("0x337")];t[_0x1d97("0x25")](n);var r=(0,a[_0x1d97("0x1c")])("div")[_0x1d97("0x22")]({position:"absolute",overflow:_0x1d97("0x63b"),fontSize:"11px",fontFamily:_0x1d97("0x11bd"),textAlign:"center",color:_0x1d97("0x11be"),width:"100%",cursor:_0x1d97("0x1c"),lineHeight:"18px",textShadow:_0x1d97("0x11bf")})[_0x1d97("0x337")];n[_0x1d97("0x25")](r),this[_0x1d97("0x11c0")]=r;var s=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327"))[_0x1d97("0x22")]({position:"absolute",overflow:_0x1d97("0x63b"),background:_0x1d97("0x11be"),width:"100%",height:_0x1d97("0x11c1"),fontSize:"0",bottom:_0x1d97("0x11c2")})[_0x1d97("0x337")];n[_0x1d97("0x25")](s);var o=(0,a.default)("div")[_0x1d97("0x22")]({position:_0x1d97("0x638"),overflow:_0x1d97("0x63b"),background:_0x1d97("0x11be"),width:_0x1d97("0x11c3"),height:"7px",fontSize:"0",bottom:"0",right:"-1px"})[_0x1d97("0x337")];n[_0x1d97("0x25")](o);var c=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327"))[_0x1d97("0x22")]({position:_0x1d97("0x638"),overflow:_0x1d97("0x63b"),background:_0x1d97("0x11be"),width:_0x1d97("0x11c3"),height:_0x1d97("0x11c4"),fontSize:"0",bottom:"0",left:_0x1d97("0x11c2")})[_0x1d97("0x337")];n.appendChild(c);var l=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327")).style({position:_0x1d97("0x638"),overflow:"hidden",background:_0x1d97("0x11c5"),width:_0x1d97("0x329"),height:_0x1d97("0x11c3"),fontSize:"0",bottom:"0"})[_0x1d97("0x337")];n[_0x1d97("0x25")](l);var u=(0,a[_0x1d97("0x1c")])(_0x1d97("0x327")).style({position:"absolute",overflow:_0x1d97("0x63b"),background:_0x1d97("0x11c5"),width:_0x1d97("0x1074"),height:_0x1d97("0x11c6"),fontSize:"0",bottom:"0",left:"0"})[_0x1d97("0x337")];n[_0x1d97("0x25")](u);var f=(0,a[_0x1d97("0x1c")])("div")[_0x1d97("0x22")]({position:_0x1d97("0x638"),overflow:_0x1d97("0x63b"),background:_0x1d97("0x11c5"),width:_0x1d97("0x1074"),height:_0x1d97("0x11c6"),fontSize:"0",bottom:"0",right:"0"})[_0x1d97("0x337")];n[_0x1d97("0x25")](f),this[_0x1d97("0x11c7")]=n.getBoundingClientRect(),this.barBoxer=n}return(0,t.default)(x,[{key:_0x1d97("0xbc"),value:function(x,d){return Math[_0x1d97("0xc3")]((x.x-d.x)*(x.x-d.x)+(x.y-d.y)*(x.y-d.y))}},{key:"updateText",value:function(){var x=this;if("3D"!=this[_0x1d97("0xc0d")][_0x1d97("0x890")]){var d=this[_0x1d97("0xc0d")][_0x1d97("0xa3d")](x[_0x1d97("0x11c7")][_0x1d97("0x3a5")]-x.box.left,x[_0x1d97("0x11c7")][_0x1d97("0x3a6")]-x[_0x1d97("0x11bc")][_0x1d97("0x3a6")],0),_=this[_0x1d97("0xc0d")].coordScreenToMap(x[_0x1d97("0x11c7")].right-x.box[_0x1d97("0x3a5")],x[_0x1d97("0x11c7")][_0x1d97("0x3a6")]-x[_0x1d97("0x11bc")].top,0);if(d&&_){var e=x[_0x1d97("0xbc")](d,_),t=void 0;t=e<50?e.toFixed(1)+_0x1d97("0x11c8"):e>=50&&e<1e3?e[_0x1d97("0x55f")](0)+_0x1d97("0x11c8"):(e/1e3)[_0x1d97("0x55f")](1)+_0x1d97("0x11c9"),x[_0x1d97("0x11c0")].innerHTML=t}}else{var a=60*this.map_[_0x1d97("0x16d")].resolution,i=void 0;i=a<50?a[_0x1d97("0x55f")](1)+_0x1d97("0x11c8"):a>=50&&a<1e3?a.toFixed(0)+"&nbsp;ç±³":(a/1e3)[_0x1d97("0x55f")](1)+"&nbsp;å¬é",this[_0x1d97("0x11c0")][_0x1d97("0x331")]=i}}},{key:_0x1d97("0xf0"),set:function(x){x?this.barBoxer[_0x1d97("0x22")].display="block":this.barBoxer[_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x4e2")},get:function(){return this[_0x1d97("0x11ca")][_0x1d97("0x22")].display!=_0x1d97("0x4e2")}}]),x}();d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(10)),t=n(_(0)),a=n(_(32)),i=_(19);function n(x){return x&&x.__esModule?x:{default:x}}var r=new(a[_0x1d97("0x1c")]),s=function x(d){(0,t[_0x1d97("0x1c")])(this,x);var _=esmap[_0x1d97("0x33")][_0x1d97("0x34")];this[_0x1d97("0x11cb")]=!1,this[_0x1d97("0x63b")]=!1,this[_0x1d97("0x409")]=!1,this.options_=d,this[_0x1d97("0x41d")][_0x1d97("0xa5f")]="normal",_0x1d97("0xf9")==this.options_[_0x1d97("0xa5f")]?(this.w_=this[_0x1d97("0x41d")].width?this[_0x1d97("0x41d")][_0x1d97("0x328")]:300,this.h_=this.options_[_0x1d97("0x1b5")]?this[_0x1d97("0x41d")][_0x1d97("0x1b5")]:150,this[_0x1d97("0x106b")]=10):(this.w_=32,this.h_=32,this[_0x1d97("0x106b")]=8),this[_0x1d97("0x104c")]=_0x1d97("0x104d"),this[_0x1d97("0x104f")]=this[_0x1d97("0x41d")][_0x1d97("0xc3b")]?this[_0x1d97("0x41d")][_0x1d97("0xc3b")]:_0x1d97("0x11c6"),this[_0x1d97("0x11cc")]=this[_0x1d97("0x41d")][_0x1d97("0x11cd")]?this.options_[_0x1d97("0x11cd")]:null,this[_0x1d97("0x652")]=!!this.options_.updateAlign&&this[_0x1d97("0x41d")][_0x1d97("0x652")],this.className=this.options_[_0x1d97("0x3b4")]?this.options_.className:null,this[_0x1d97("0xe5")]=this[_0x1d97("0x41d")][_0x1d97("0x3cb")][_0x1d97("0xe5")]?this[_0x1d97("0x41d")][_0x1d97("0x3cb")][_0x1d97("0xe5")]:0,this.bindMarker=this[_0x1d97("0x41d")].marker?this[_0x1d97("0x41d")][_0x1d97("0xb9a")]:null,this[_0x1d97("0x11ce")]=this[_0x1d97("0x41d")][_0x1d97("0x3cb")]?this[_0x1d97("0x41d")][_0x1d97("0x3cb")]:null,this.showLevel_=this[_0x1d97("0x41d")][_0x1d97("0x22c")]?this[_0x1d97("0x41d")][_0x1d97("0x22c")]:null,this[_0x1d97("0x11ce")]&&this.mapCoord_.height&&(this[_0x1d97("0x11ce")].z=this.mapCoord_.height),this[_0x1d97("0x11cf")]=this[_0x1d97("0x41d")].transformOrigin?this[_0x1d97("0x41d")][_0x1d97("0x11d0")]:_0x1d97("0x11d1"),this[_0x1d97("0x11d2")]=this[_0x1d97("0x41d")].translateStyle?this[_0x1d97("0x41d")].translateStyle:_0x1d97("0x11d3");var e=void 0;if(e=this.options_[_0x1d97("0x2")]("id")&&null!=this[_0x1d97("0x41d")].id?this[_0x1d97("0x41d")].id:(0,i.createHash)(8),this.ID=e,r[_0x1d97("0x10f0")](this.ID))return console[_0x1d97("0x245")]("new esmap.ESPopMarker: idä¸è½éå¤: "+this.ID),null;if(r.add(this.ID),this[_0x1d97("0x11ce")]){null==this.mapCoord_.x&&(this[_0x1d97("0x11ce")].x=_[_0x1d97("0xe7")].x),null==this[_0x1d97("0x11ce")].y&&(this[_0x1d97("0x11ce")].y=_[_0x1d97("0xe7")].y);var a=_[_0x1d97("0x9ff")]({x:this.mapCoord_.x,y:this.mapCoord_.y});this[_0x1d97("0x11ce")].x=a.x,this.mapCoord_.y=a.y}this.onVisibleCallBack=null,this[_0x1d97("0x11ce")]&&!this[_0x1d97("0x11ce")][_0x1d97("0xe8")]&&(this[_0x1d97("0x11ce")][_0x1d97("0xe8")]=1,this.options_[_0x1d97("0x3cb")][_0x1d97("0xe8")]=1),this[_0x1d97("0x41d")][_0x1d97("0x3cb")][_0x1d97("0xe5")]||(this.options_[_0x1d97("0x3cb")][_0x1d97("0xe5")]=0),this.screenCoord_&&this[_0x1d97("0x11cc")][_0x1d97("0x1b5")]&&(this[_0x1d97("0x11cc")].z=this[_0x1d97("0x11cc")][_0x1d97("0x1b5")]),this[_0x1d97("0x4b")]=_[_0x1d97("0xee")](this[_0x1d97("0xe5")]),(this[_0x1d97("0x11cc")]||this[_0x1d97("0x11ce")])&&(this[_0x1d97("0x11d4")]=!!this[_0x1d97("0x11cc")],this.$=function(x){return document.querySelector(x)},this[_0x1d97("0x1047")]=null==this[_0x1d97("0x41d")].padding?20:this.options_[_0x1d97("0x32e")],this[_0x1d97("0x11d5")]=this.h_-2*this.defaultPadding_,this[_0x1d97("0x11d6")]=this[_0x1d97("0x41d")][_0x1d97("0x6d8")]?this[_0x1d97("0x41d")][_0x1d97("0x6d8")]:null,this[_0x1d97("0x11d7")]=this.options_.borderStyle?this[_0x1d97("0x41d")][_0x1d97("0x11d8")]:_0x1d97("0x11d9"),this.borderColor=this.options_[_0x1d97("0xe70")]?this[_0x1d97("0x41d")].borderColor:_0x1d97("0x11da"),this[_0x1d97("0x834")]=this[_0x1d97("0x41d")][_0x1d97("0x834")]?this[_0x1d97("0x41d")][_0x1d97("0x834")]:_0x1d97("0xb28"),this.maxScale=this[_0x1d97("0x41d")].maxScale?this[_0x1d97("0x41d")].maxScale:1,this.opacity=1,this[_0x1d97("0x11db")]=null!=this[_0x1d97("0x41d")].updateSize&&this[_0x1d97("0x41d")][_0x1d97("0x940")],this[_0x1d97("0x38")]=_,this[_0x1d97("0x975")]=null,this[_0x1d97("0x236")]=1,this[_0x1d97("0x653")]=1,this._tryInit())};s[_0x1d97("0xf")]={_tryInit:function(){var x=this,d=this,_=this.map,e=document[_0x1d97("0x21")]("div");if(e.style[_0x1d97("0x11d0")]=_0x1d97("0x11d1"),e[_0x1d97("0xac8")]=function(x){x[_0x1d97("0x1e0")]()},e.onmouseup=function(x){d[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0xb41")](),x[_0x1d97("0x1e0")]()},e[_0x1d97("0x103b")]=function(x){x[_0x1d97("0x1e0")]()},e[_0x1d97("0x102f")]=function(x){x[_0x1d97("0x1e0")]()},e[_0x1d97("0x102e")]=function(x){x.stopPropagation()},!this.className&&this.content_){this[_0x1d97("0x11d6")]=_0x1d97("0x11dc")+this[_0x1d97("0x11d5")]+_0x1d97("0x11dd")+this.content_+_0x1d97("0x11de"),e[_0x1d97("0x22")].width=this.w_+"px",e[_0x1d97("0x22")][_0x1d97("0x1b5")]=this.h_+"px",e[_0x1d97("0x22")][_0x1d97("0xb6")]="relative",e[_0x1d97("0x332")](_0x1d97("0x333"),_0x1d97("0x11df")),e[_0x1d97("0x22")].padding=this[_0x1d97("0x1047")]+"px",e[_0x1d97("0x22")].backgroundColor=_0x1d97("0x55e")+this[_0x1d97("0x834")]+","+this[_0x1d97("0xe2")]+")",e[_0x1d97("0x22")][_0x1d97("0x832")]=this[_0x1d97("0x11d7")],e.style[_0x1d97("0xc3b")]=this[_0x1d97("0x104f")],e.style.boxSizing="border-box";var t=document[_0x1d97("0x21")](_0x1d97("0xc3d"));t[_0x1d97("0x332")]("class","es-control-popmarker-bot"),t[_0x1d97("0x22")].width=0,t[_0x1d97("0x22")][_0x1d97("0x1b5")]=0,t[_0x1d97("0x22")][_0x1d97("0xc3c")]=0,t[_0x1d97("0x22")][_0x1d97("0x64d")]=_0x1d97("0x63b"),t[_0x1d97("0x22")].position=_0x1d97("0x638"),t[_0x1d97("0x22")][_0x1d97("0x11e0")]="20px",t[_0x1d97("0x22")][_0x1d97("0x11d8")]=_0x1d97("0xc40"),t.style.borderColor=this[_0x1d97("0xe70")]+_0x1d97("0x11e1"),t[_0x1d97("0x22")][_0x1d97("0x3a5")]=this.w_/2-25+"px",t.style[_0x1d97("0x16f")]=_0x1d97("0x11e2");var a=document[_0x1d97("0x21")]("span");a[_0x1d97("0x332")](_0x1d97("0x333"),"es-control-popmarker-top"),a[_0x1d97("0x22")].width=0,a.style[_0x1d97("0x1b5")]=0,a[_0x1d97("0x22")][_0x1d97("0xc3c")]=0,a.style[_0x1d97("0x64d")]=_0x1d97("0xc3f"),a[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x638"),a[_0x1d97("0x22")].borderStyle=_0x1d97("0xc40"),a[_0x1d97("0x22")].borderWidth=_0x1d97("0x32f"),a[_0x1d97("0x22")][_0x1d97("0xe70")]=_0x1d97("0x55e")+this.backgroundColor+","+this.opacity+_0x1d97("0x11e3"),a[_0x1d97("0x22")][_0x1d97("0x3a5")]=this.w_/2-25+"px",a[_0x1d97("0x22")].bottom=_0x1d97("0x11e4");var i=document[_0x1d97("0x21")](_0x1d97("0x7cf"));i.type="button",i[_0x1d97("0xf1")]="â",i[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x638"),i[_0x1d97("0x22")][_0x1d97("0x648")]=_0x1d97("0xddd"),i[_0x1d97("0x22")][_0x1d97("0x3a6")]="8px",i.style[_0x1d97("0x984")]=_0x1d97("0x11e5"),i[_0x1d97("0x22")].width="24px",i[_0x1d97("0x22")].height=_0x1d97("0x11e6"),i[_0x1d97("0x22")][_0x1d97("0x832")]=0,i[_0x1d97("0x22")][_0x1d97("0x11e7")]=_0x1d97("0x4e2"),i[_0x1d97("0x22")][_0x1d97("0x32e")]="0",i[_0x1d97("0x1054")]=this[_0x1d97("0x11e8")].bind(this),i.ontouchend=this[_0x1d97("0x11e8")].bind(this),e.appendChild(i),e[_0x1d97("0x25")](t),e[_0x1d97("0x25")](a)}else this[_0x1d97("0x3b4")]&&e[_0x1d97("0x332")](_0x1d97("0x333"),this.className);var n=_[_0x1d97("0xee")](this[_0x1d97("0xe5")]),r=n.getFloor(this[_0x1d97("0x41d")][_0x1d97("0x3cb")].fnum),s=new(THREE[_0x1d97("0x7c5")]);s[_0x1d97("0x11e")].id=this.ID,s[_0x1d97("0xb8")]="popGroup",r.o3d_[_0x1d97("0xdc")](s),n.on(_0x1d97("0x131"),(function(d){d.indexOf(x[_0x1d97("0x41d")][_0x1d97("0x3cb")].fnum)<0?x[_0x1d97("0x63b")]||x.setVisible(!1):x.hidden&&x[_0x1d97("0x11e9")](!0)}));var o=document[_0x1d97("0x21")]("div");o[_0x1d97("0x25")](e);var c=new(THREE[_0x1d97("0x64b")])(o);this[_0x1d97("0x22b")]=!1;var l=_._coordMapSceneToThree(this.options_[_0x1d97("0x3cb")]);s[_0x1d97("0xb6")][_0x1d97("0x267")](l);var u=this[_0x1d97("0x41d")].mapCoord[_0x1d97("0x1b5")]||0;s.position.y=u,s[_0x1d97("0x11ea")]=u,c[_0x1d97("0x11eb")]=this[_0x1d97("0x11eb")],c.datas_={nodeType:100};var f=e[_0x1d97("0x3a9")](),h=f[_0x1d97("0x328")],b=f[_0x1d97("0x1b5")];c[_0x1d97("0xe4d")]=h,c[_0x1d97("0xe4e")]=b,c[_0x1d97("0x11e")][_0x1d97("0x653")]=1,c[_0x1d97("0x11e")][_0x1d97("0x652")]=this[_0x1d97("0x652")],s[_0x1d97("0xdc")](c),this.cssObject=c,s[_0x1d97("0xe4d")]=64,s[_0x1d97("0xe4e")]=64,this[_0x1d97("0x973")]=s,s[_0x1d97("0xa2")]=this,d.bindMarker&&(e[_0x1d97("0x22")][_0x1d97("0x16f")]=u+"px");var g=function(){if(d[_0x1d97("0x11eb")]&&d.bindMarker[_0x1d97("0xa3")]&&(s[_0x1d97("0xb6")].y=d[_0x1d97("0x11eb")][_0x1d97("0xa3")][_0x1d97("0xb6")].y),d[_0x1d97("0x38")].mode==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var x=s.getWorldPosition(new(THREE[_0x1d97("0xe0")]));d[_0x1d97("0x38")][_0x1d97("0x9d7")](x,!0)&&d[_0x1d97("0x11ec")]?d[_0x1d97("0x63b")]&&d[_0x1d97("0x11e9")](!0):!d.hidden&&d[_0x1d97("0x11e9")](!1)}},v=function(){if(d[_0x1d97("0x11db")]){var x=esmap[_0x1d97("0x177")][_0x1d97("0xe5c")](c,d.map[_0x1d97("0x16d")]);d[_0x1d97("0x273")]||(x[_0x1d97("0xe5e")]<=0?d[_0x1d97("0x273")]=1:d.originalScale=x.meterperpixel);var _=d[_0x1d97("0x273")]/x[_0x1d97("0xe5e")];_<=0&&(_=d[_0x1d97("0x273")]);var e=Math.min(d[_0x1d97("0x11ed")],_);c.userData.computedScale=e,d[_0x1d97("0x653")]=e}};d[_0x1d97("0xe5a")]?d.map.mode==esmap[_0x1d97("0x3a")].City?d[_0x1d97("0x38")][_0x1d97("0x155")]<d[_0x1d97("0xe5a")]?d.inLevel=!1:d[_0x1d97("0x11ec")]=!0:d.map.scaleLevel<d[_0x1d97("0xe5a")]?d[_0x1d97("0x11ec")]=!0:d.inLevel=!1:d[_0x1d97("0x11ec")]=!0,d.map.on("update",g),d[_0x1d97("0xbaf")]=g,d[_0x1d97("0x11ee")]=v,d[_0x1d97("0x38")].on(_0x1d97("0x132"),v),d[_0x1d97("0xe5a")]&&d.map.on(_0x1d97("0x132"),(function(){if(d[_0x1d97("0x38")].mode==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]){var x=d.map.zoomLevel;if(d[_0x1d97("0x409")])return;x<d[_0x1d97("0xe5a")]?(d[_0x1d97("0x11ec")]=!1,d.hidden||(d[_0x1d97("0x11e9")](!1),d[_0x1d97("0x11ef")]&&d.onVisibleCallBack(!1))):(d[_0x1d97("0x11ec")]=!0,d.hidden&&(d[_0x1d97("0x11e9")](!0),d[_0x1d97("0x11ef")]&&d.onVisibleCallBack(!0)))}else{var _=d[_0x1d97("0x38")][_0x1d97("0x22e")];if(d[_0x1d97("0x409")])return;_>d[_0x1d97("0xe5a")]?d.hidden||(d[_0x1d97("0x11e9")](!1),d.inLevel=!1,d.onVisibleCallBack&&d[_0x1d97("0x11ef")](!1)):d.hidden&&(d[_0x1d97("0x11e9")](!0),d[_0x1d97("0x11ec")]=!0,d[_0x1d97("0x11ef")]&&d[_0x1d97("0x11ef")](!0))}})),this.content_&&e[_0x1d97("0x11f0")](_0x1d97("0x11f1"),this[_0x1d97("0x11d6")]),this[_0x1d97("0x975")]=e,r[_0x1d97("0xa3")][_0x1d97("0xf0")]||this[_0x1d97("0xaa4")](),document[_0x1d97("0x30")](_0x1d97("0x65b"),(function(x){x.targetELement==o&&(d[_0x1d97("0x11ec")]||d[_0x1d97("0x11e9")](!1),d[_0x1d97("0x22b")]||(d[_0x1d97("0x41d")].created&&d.options_[_0x1d97("0x22b")](e.children[0],d),d[_0x1d97("0x22b")]=!0))}))},onUpdatePosition:function(x){var d=this,_=this;_[_0x1d97("0x11f4")]=function(d){var e={x:d[_0x1d97("0xe87")].x,y:d[_0x1d97("0xe87")].y,display:d.message.display,zIndex:_[_0x1d97("0x11f2")].element[_0x1d97("0x22")].zIndex};_[_0x1d97("0x409")]||_[_0x1d97("0x11ec")]||(e[_0x1d97("0x32a")]="none");var t=1;if(_[_0x1d97("0x11db")]){var a=esmap[_0x1d97("0x177")][_0x1d97("0xe5c")](_[_0x1d97("0x973")],_[_0x1d97("0x38")].mapView);_[_0x1d97("0x273")]||(_[_0x1d97("0x273")]=a.meterperpixel);var i=_[_0x1d97("0x273")]/a.meterperpixel;i<=0&&(i=_[_0x1d97("0x273")]),t=Math[_0x1d97("0x318")](_[_0x1d97("0x11ed")],i)}x(_0x1d97("0x3b8")+_[_0x1d97("0x11d2")]+") translate("+e.x+_0x1d97("0x3b6")+e.y+_0x1d97("0x11f3")+t+")",e)},this[_0x1d97("0x11f2")][_0x1d97("0x30")]("update",_[_0x1d97("0x11f4")]),this[_0x1d97("0x11f2")].addEventListener(_0x1d97("0x247"),(function(){x(_0x1d97("0xaa6"),{display:"none"}),d[_0x1d97("0x11f2")][_0x1d97("0x1d5")](_0x1d97("0x11d"),_[_0x1d97("0x11f4")])}))},onVisibleChanged:function(x){this[_0x1d97("0x11ef")]=x},getMapCoord_Z:function(x,d){return d?this[_0x1d97("0x4b")].getFloorHeight(x)+d:this[_0x1d97("0x4b")][_0x1d97("0x2f8")](x)+2},getMapCoord_:function(x){if(_0x1d97("0xc")!=(void 0===x?_0x1d97("0x8"):(0,e.default)(x))||!x.x||!x.y||!x.fnum)return null;var d={x:x.x,y:x.y,z:this.getMapCoord_Z(x[_0x1d97("0xe8")],x.z)};return this[_0x1d97("0x38")][_0x1d97("0xa3d")](d.x,d.y,d.z)},getScreenCoord_:function(x){return _0x1d97("0xc")==(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))&&x.x&&x.y&&x.z?this[_0x1d97("0x38")][_0x1d97("0xa42")](x.x,x.y,x.z):null},bindCloseClick_:function(){this[_0x1d97("0xa4a")](),this[_0x1d97("0x41d")][_0x1d97("0x11f5")]&&_0x1d97("0x1e")==typeof this[_0x1d97("0x41d")][_0x1d97("0x11f5")]&&this.options_[_0x1d97("0x11f5")](!0)},close:function(){if(this[_0x1d97("0x975")]){var x=this[_0x1d97("0x4b")][_0x1d97("0x56d")](this[_0x1d97("0x11ce")][_0x1d97("0xe8")]);this[_0x1d97("0x973")][_0x1d97("0x149")](this[_0x1d97("0x973")][_0x1d97("0xa4")][0]),x[_0x1d97("0xa3")][_0x1d97("0x149")](this.group),r[_0x1d97("0x2a5")](this.ID),this[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x4e2"),this[_0x1d97("0x41d")][_0x1d97("0x11f5")]&&"function"==typeof this.options_[_0x1d97("0x11f5")]&&this[_0x1d97("0x41d")].closed(!0),this[_0x1d97("0x38")][_0x1d97("0x5e")](_0x1d97("0x11d"),this[_0x1d97("0xbaf")])}},setVisible:function(x){this[_0x1d97("0x409")]||(x?(this[_0x1d97("0x975")]&&(this[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x1040"),this[_0x1d97("0x63b")]=!1),this[_0x1d97("0x11f2")][_0x1d97("0xf0")]=!0):(this[_0x1d97("0x975")]&&(this[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x4e2"),this[_0x1d97("0x63b")]=!0),this[_0x1d97("0x11f2")].visible=!1))},hide:function(){this.locked||(this.locked=!0),this[_0x1d97("0x975")]&&(this[_0x1d97("0x975")][_0x1d97("0x22")].display=_0x1d97("0x4e2"),this.hidden=!0),this[_0x1d97("0x11f2")][_0x1d97("0xf0")]=!1},show:function(){this.locked||(this[_0x1d97("0x409")]=!0),this[_0x1d97("0x975")]&&(this[_0x1d97("0x975")][_0x1d97("0x22")].display="block",this[_0x1d97("0x63b")]=!1),this[_0x1d97("0x11f2")][_0x1d97("0xf0")]=!0},toggle:function(){this[_0x1d97("0x975")]&&(this[_0x1d97("0x975")].style[_0x1d97("0x32a")]==_0x1d97("0x4e2")?this.popDiv_.style[_0x1d97("0x32a")]="block":this[_0x1d97("0x975")][_0x1d97("0x22")][_0x1d97("0x32a")]=_0x1d97("0x4e2"))},moveTo:function(x){esmap[_0x1d97("0x177")].prototype[_0x1d97("0x254")][_0x1d97("0x3")](this[_0x1d97("0x973")],x)}},d[_0x1d97("0x1c")]=s},function(x,d,_){"use strict";Object.defineProperty(d,_0x1d97("0xb"),{value:!0});var e=u(_(10)),t=u(_(9)),a=u(_(2)),i=u(_(0)),n=u(_(1)),r=u(_(71)),s=u(_(67)),o=u(_(366)),c=u(_(368)),l=(_(70),u(_(23)));function u(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var f=new(r[_0x1d97("0x1c")]),h={x:0,y:0},b=function(){function x(d,_,e){var t=this;(0,i[_0x1d97("0x1c")])(this,x),f[_0x1d97("0x11b")](_0x1d97("0xc51"),null),this.id=d,this[_0x1d97("0xb8")]="",this.shellId=null,this[_0x1d97("0x38")]=e,this.focusFnum_=1,this[_0x1d97("0xe7")],this[_0x1d97("0x11f6")]=[],this[_0x1d97("0x584")]=[],this[_0x1d97("0x11f7")]=[],this[_0x1d97("0x841")]={},this.o3dFloors_={},this.floors_={},this.o3d_=new(THREE[_0x1d97("0x150")]),this.o3d_[_0x1d97("0xa2")]=this,this[_0x1d97("0x165")]=null,this.meshHandler=this[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x14b")],this.options=_,null==this.options[_0x1d97("0x1e9")]&&(this[_0x1d97("0x35")].mergeModels=!0),this[_0x1d97("0x11f8")]={},this[_0x1d97("0x11f9")]=[],this[_0x1d97("0x11fa")]=!1,this[_0x1d97("0x11fb")]={},this.toLoaded={},this[_0x1d97("0x8e8")]=!1,this[_0x1d97("0x14f")]=new(o[_0x1d97("0x1c")])(this),this[_0x1d97("0x8da")]=new(c[_0x1d97("0x1c")])(this),this.entered=!1,this.floorSpanOffset=0,em[_0x1d97("0x222")].convert(this),this[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]&&this[_0x1d97("0x38")].on(_0x1d97("0x8aa"),(function(x){x==esmap[_0x1d97("0x504")].MODE_2D&&t.visibleFloorNums[_0x1d97("0x0")]>1&&(t[_0x1d97("0xef")]=[t.focusFloorNum])})),this[_0x1d97("0x896")]=[]}return(0,n.default)(x,[{key:_0x1d97("0x11fc"),value:function(x){var d=this;return x[_0x1d97("0x38")]((function(x){return(0,a[_0x1d97("0x1c")])({},x,{x:x.x+d[_0x1d97("0x113")].x,y:x.y+d[_0x1d97("0x113")].y})}))}},{key:_0x1d97("0x11fd"),value:function(x){for(var d=0;d<this[_0x1d97("0x11fe")][_0x1d97("0x0")];d++){if(this.listFloors[d][_0x1d97("0xa7c")][_0x1d97("0xa67")]()==x)return this[_0x1d97("0x11fe")][d].floornum}return console[_0x1d97("0x245")](_0x1d97("0x11ff")+x),null}},{key:_0x1d97("0x1200"),value:function(x){try{var d=[];return this[_0x1d97("0x1046")][x].floorBaseDatas[_0x1d97("0x1d")]((function(x){var _={points:[],holes:[]};x[_0x1d97("0xe6")][_0x1d97("0x1d")]((function(x){_[_0x1d97("0xe6")][_0x1d97("0x1")]({x:-x.x,y:x.y})})),x[_0x1d97("0x4b1")][_0x1d97("0x1d")]((function(x){var d=[];x.forEach((function(x){d[_0x1d97("0x1")]({x:-x.x,y:x.y})})),_[_0x1d97("0x4b1")][_0x1d97("0x1")](d)})),d[_0x1d97("0x1")](_)})),d}catch(x){return console.info(_0x1d97("0x1201")),null}}},{key:_0x1d97("0x96d"),value:function(x,d){var _=this;if(2==_[_0x1d97("0x35")].focusMode)_.visibleFloorNums=[x];else{var e=_[_0x1d97("0x584")][_0x1d97("0x41c")](),t=[];for(var a in e)e[a]<=x&&t[_0x1d97("0x1")](e[a]);_[_0x1d97("0xef")]=t}_[_0x1d97("0xb8c")]={fnum:x,callback:d}}},{key:_0x1d97("0x1202"),value:function(x,d,_){var e=this,t=new(THREE[_0x1d97("0x4da")]),a=x[_0x1d97("0x1203")],i=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x1204")]);return d[_0x1d97("0xdc")](i.o3d_),setTimeout((function(){for(var x=0;x<a[_0x1d97("0x0")];x++){for(var d=a[x],i=0;i<d[_0x1d97("0xe6")][_0x1d97("0x0")];i++)d[_0x1d97("0xe6")][i].x=-d[_0x1d97("0xe6")][i].x,d[_0x1d97("0xe6")][i][_0x1d97("0xe8")]=_;var n=l[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0xd09"),{filename:d[_0x1d97("0x955")],type:_0x1d97("0xd0c"),buildingId:e.id});d[_0x1d97("0x955")];var r={lineType:esmap[_0x1d97("0x4fd")][_0x1d97("0xde")],lineWidth:5,noAnimate:!0,color:_0x1d97("0xcb"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(r.url=n,d[_0x1d97("0xd08")]){var s=d[_0x1d97("0xd08")][_0x1d97("0x28")](",");1*s[1]?(r[_0x1d97("0x119")]=1*s[1],r.up=new(THREE[_0x1d97("0xe0")])(0,1,0)):(r[_0x1d97("0x119")]=1*s[0],r.up=new(THREE[_0x1d97("0xe0")])(1,0,0)),r[_0x1d97("0x26")]=d.RoomHigh;var o=new(esmap[_0x1d97("0x52d")])({id:d.oid,points:d[_0x1d97("0xe6")],style:r});o[_0x1d97("0x184")]=d,o[_0x1d97("0x23f")]=_,e.map[_0x1d97("0x92e")](o)}}t[_0x1d97("0x4db")]()}),e[_0x1d97("0xecd")]),t}},{key:_0x1d97("0x1205"),value:function(x){var d,_=this,e=_[_0x1d97("0x584")],t=!1,a=!1;x instanceof Object?(t=x[_0x1d97("0x2")]("isSelect")?x.isSelect:t,a=!!x[_0x1d97("0x2")]("isHide")&&x.isHide,d=x.id,e=x[_0x1d97("0xe8")]?x[_0x1d97("0xe8")]:e):typeof x==_0x1d97("0x13d")&&(d=x);var i=null;return esmap[_0x1d97("0x75")][_0x1d97("0x53e")](this.map,{fnum:e,bid:this.id},{nodeType:5,ID:d},(function(x){if(0!=x[_0x1d97("0x0")]){if(t)_[_0x1d97("0x38")].lastSelectStore[0]&&_.map[_0x1d97("0x885")][0].ID==x[0].ID||(_[_0x1d97("0x38")].selectNull(),_[_0x1d97("0x38")][_0x1d97("0x976")](x[0]));var d=x[0];if(a){var e=d[_0x1d97("0xa3")][_0x1d97("0xa5")],n=e.groups;e[_0x1d97("0x11e")].groups=n,e.clearGroups(),_[_0x1d97("0x38")][_0x1d97("0x1206")](d[_0x1d97("0xbb")][0],d[_0x1d97("0xbb")][1],n)[_0x1d97("0x1d")]((function(x){e.addGroup(x[_0x1d97("0x1c1")],x[_0x1d97("0xb7")],x.materialIndex)})),d[_0x1d97("0x1207")]=!0}else if(d.hided){var r=d[_0x1d97("0xa3")][_0x1d97("0xa5")];r[_0x1d97("0x411")](),r.userData[_0x1d97("0x410")][_0x1d97("0x1d")]((function(x){r[_0x1d97("0x1a2")](x[_0x1d97("0x1c1")],x[_0x1d97("0xb7")],x[_0x1d97("0x412")])})),d[_0x1d97("0x1207")]=!1}i=x[0]}})),i}},{key:_0x1d97("0xfd8"),value:function(x){var d,_=this,e=1,t=null,a=x;a instanceof Object?(e=null==a[_0x1d97("0x255")]?1:a.time,d=1*a[_0x1d97("0x1b5")],t=a.callback||null):d=1*a;for(var i=0;i<_[_0x1d97("0x11f9")].length;i++)_[_0x1d97("0x11f9")][i][_0x1d97("0x1af")]();_.animatingId_=[];var n=_[_0x1d97("0xb8c")],r=_[_0x1d97("0x11fb")][2]-_.originFloorHeights[1];if(this[_0x1d97("0x1208")]!=a){this.floorSpanOffset=d;var s=_[_0x1d97("0x584")];_.animating_=!0;for(var o=_[_0x1d97("0x35")][_0x1d97("0x103f")],c=function(){if(1==o){if(s[l]===n)return _0x1d97("0x53c")}else d;var x=s[l];u=_[_0x1d97("0x56d")](x)[_0x1d97("0xa3")];var a=void 0;a=2==o?(x-1)*(d+r):(x-n)*(d+r),f=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(u[_0x1d97("0xb6")]).to({y:a},1e3*e)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x1bd")]((function(){_[_0x1d97("0x11fa")]&&t&&t(),_[_0x1d97("0x11fa")]=!1}))[_0x1d97("0x12e")]((function(d){_.emit("floorHeightChanged",{fnum:x,value:d.y})})).start(),_[_0x1d97("0x11f9")][_0x1d97("0x1")](f)},l=0;l<s[_0x1d97("0x0")];l++){var u,f;c();_0x1d97("0x53c")}}}},{key:_0x1d97("0x1209"),value:function(x){return this[_0x1d97("0x576")][x]}},{key:_0x1d97("0x56d"),value:function(x){var d=this[_0x1d97("0x576")][x];return null==d?null:d.datas_}},{key:_0x1d97("0x2f8"),value:function(x){return this[_0x1d97("0x1209")](x)[_0x1d97("0xb6")].y}},{key:_0x1d97("0x923"),value:function(){var x=this,d=arguments.length>0&&void 0!==arguments[0]&&arguments[0],_=this[_0x1d97("0x38")].options[_0x1d97("0x921")],e=null,t={time:1,scaleZ:.25};if(_===esmap[_0x1d97("0x4ec")].SINGLE)e=esmap[_0x1d97("0x4ec")].SINGLE;else if(_===esmap[_0x1d97("0x4ec")].PLANISH)e=esmap[_0x1d97("0x4ec")][_0x1d97("0xb27")];else{if(_===esmap[_0x1d97("0x4ec")][_0x1d97("0x9f8")])return;e=_[_0x1d97("0x36")],(0,a[_0x1d97("0x1c")])(t,_)}var i={mode:e};if((0,a.default)(i,t),this[_0x1d97("0x120a")]=i,d)return this[_0x1d97("0x9cb")]=!0,void this[_0x1d97("0x38")].fire(_0x1d97("0x120b"),this);e===esmap[_0x1d97("0x4ec")].PLANISH?this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xc83")]({coord:this[_0x1d97("0xe7")],time:t[_0x1d97("0x255")],scaleZ:t[_0x1d97("0xc84")],onComplete:function(){x[_0x1d97("0x9cb")]=!0,x[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xc19")]=!0,x.emit(_0x1d97("0x923")),x[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x120b"),x)}}):e===esmap.ShowBuildingMode.SINGLE?(this[_0x1d97("0x38")][_0x1d97("0x18c")].toggleTilesLayer(!1),this[_0x1d97("0x35")][_0x1d97("0x120c")]=!0,this[_0x1d97("0x9cb")]=!0,this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xc19")]=!0,this[_0x1d97("0x924")](_0x1d97("0x923")),this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x120b"),this)):console[_0x1d97("0x245")]("æªç¥çå»ºç­èç¦æ¨¡å¼,è¯·åèesmap.showBuildingMode")}},{key:"exit",value:function(){var x=this;return new(t[_0x1d97("0x1c")])((function(d){if(!x[_0x1d97("0x120a")])return d(),void x[_0x1d97("0x38")][_0x1d97("0x1d9")]("buildingExit",x);x.enteredStyle[_0x1d97("0x36")]===esmap[_0x1d97("0x4ec")][_0x1d97("0xb27")]?(x[_0x1d97("0x38")][_0x1d97("0x18c")].planishTilesAround({scaleZ:!1,onComplete:function(){x.entered=!1,x[_0x1d97("0x924")](_0x1d97("0x9cc")),x[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x120d"),x),d()}}),x[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xc19")]=!1):x[_0x1d97("0x120a")][_0x1d97("0x36")]===esmap[_0x1d97("0x4ec")][_0x1d97("0x120e")]&&(x.map.tileService[_0x1d97("0x120f")](!0),x[_0x1d97("0x35")][_0x1d97("0x120c")]=!1,x[_0x1d97("0x9cb")]=!1,x[_0x1d97("0x38")].tileService[_0x1d97("0xc19")]=!1,x[_0x1d97("0x924")]("exit"),x.map[_0x1d97("0x1d9")](_0x1d97("0x120d"),x),d())}))}},{key:_0x1d97("0x1210"),value:function(x,d){var _=this[_0x1d97("0x1046")][x];_[_0x1d97("0x1211")]=d;var e=new(esmap[_0x1d97("0x3cd")])(this,_)[_0x1d97("0xa3")];e[_0x1d97("0xf0")]=!0,e.meta_=_,e[_0x1d97("0xb6")][_0x1d97("0x11b")](0,_[_0x1d97("0xd16")],0),this[_0x1d97("0x576")][x]=e,this[_0x1d97("0xa3")][_0x1d97("0xdc")](e),this.originFloorHeights[x]=e.position.clone().y}},{key:_0x1d97("0x1212"),value:function(x,d){var _=this;_[_0x1d97("0xa32")]=x,d=d||{};var e=this[_0x1d97("0x165")][_0x1d97("0xa34")],t=_.map[_0x1d97("0x280")];if(this[_0x1d97("0x38")]){var a=-this.o3dFloors_[x][_0x1d97("0xb6")].y,i=d[_0x1d97("0x1213")]||!1;for(var n in e){var r=e[n],s=r.floornum,o=this.o3dFloors_[s];if(s==x){var c=new(THREE[_0x1d97("0xe0")]);c.y=r[_0x1d97("0xd16")],this[_0x1d97("0x35")][_0x1d97("0x862")]&&esmap[_0x1d97("0x75")][_0x1d97("0x54b")]({fnum:x,bid:_.id,time:0});var l=this[_0x1d97("0x38")].mapView[_0x1d97("0x567")].position.clone(),u=this.map[_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")](),f=l.y-u.y;c.x=u.x,c.z=u.z;var h=c[_0x1d97("0xdb")]().sub(u),b=c.y+f-l.y,g=null==d[_0x1d97("0x255")]?this[_0x1d97("0x35")][_0x1d97("0x120c")]?this.options[_0x1d97("0x1214")]:0:d[_0x1d97("0x255")];if(_.map.__moveToId&&_[_0x1d97("0x38")].__moveToId[_0x1d97("0x1af")](),2==_[_0x1d97("0x35")][_0x1d97("0x103f")])d[_0x1d97("0x1215")]?(_[_0x1d97("0x38")].mapView[_0x1d97("0x567")][_0x1d97("0xb6")].y=l.y+b,t[_0x1d97("0x27e")].y=c.y,t[_0x1d97("0x11d")]()):_[_0x1d97("0x35")].focusAnimateMode&&(this[_0x1d97("0x886")]&&this.__moveToId[_0x1d97("0x1af")](),this.__moveToId=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])({value:0}).to({value:1},1e3*g)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")][_0x1d97("0x2e9")][_0x1d97("0x1c0")])[_0x1d97("0x12e")]((function(x,d){_[_0x1d97("0x38")]&&(_.map[_0x1d97("0x16d")][_0x1d97("0x567")][_0x1d97("0xb6")].y=l.y+b*d,t[_0x1d97("0x27e")].y=u.y+h.y*d,t[_0x1d97("0x11d")]())}))[_0x1d97("0x1bd")]((function(_){d[_0x1d97("0x1c2")]&&d.callback(x)}))[_0x1d97("0x1c1")]());else{o[_0x1d97("0xb6")].fnum=s;var v=o[_0x1d97("0xb6")][_0x1d97("0xdb")]();o[_0x1d97("0x11e")][_0x1d97("0x2")](_0x1d97("0x932"))||(o[_0x1d97("0x11e")][_0x1d97("0x932")]=v.y),v.fnum=s,v.y=v.y+a,i&&(_[_0x1d97("0x11fb")][s]=v.y),new(esmap.TWEEN[_0x1d97("0x1b8")])(o[_0x1d97("0xb6")]).to(v,800)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing[_0x1d97("0x2e9")][_0x1d97("0x1c0")]).onUpdate((function(x){_.emit(_0x1d97("0xf3"),{value:x.y,fnum:x[_0x1d97("0xe8")]})})).onComplete((function(){}))[_0x1d97("0x1c1")]()}}else if(o&&o.visible&&this[_0x1d97("0x35")][_0x1d97("0x862")]&&esmap[_0x1d97("0x75")][_0x1d97("0x54a")]({bid:this.id,fnum:s,alpha:this[_0x1d97("0x35")][_0x1d97("0xb80")]}),o&&1==_.options.focusMode){var p=o[_0x1d97("0xb6")][_0x1d97("0xdb")]();o[_0x1d97("0xb6")][_0x1d97("0xe8")]=s,o.userData[_0x1d97("0x2")](_0x1d97("0x932"))||(o.userData.originHeight=p.y);o[_0x1d97("0x11e")][_0x1d97("0x932")];p.y=p.y+a,p[_0x1d97("0xe8")]=s,i&&(_[_0x1d97("0x11fb")][s]=p.y),new(esmap[_0x1d97("0x1b7")].Tween)(o[_0x1d97("0xb6")]).to(p,800)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")].Easing.Circular[_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){}))[_0x1d97("0x12e")]((function(x){_[_0x1d97("0x924")]("floorHeightChanged",{value:x.y,fnum:x[_0x1d97("0xe8")]})}))[_0x1d97("0x1c1")]()}}}}},{key:_0x1d97("0x1216"),value:function(x,d){var _=this[_0x1d97("0x1209")](x);if(_){var e=this[_0x1d97("0x1046")][x].floorTempData;this[_0x1d97("0x1217")](e,_,x,!0)}}},{key:_0x1d97("0xbdc"),value:function(x,d,_){var e=this;x==d[_0x1d97("0x0")]?(x=0,_&&_()):e[_0x1d97("0x11f7")].indexOf(d[x])>-1?(x++,e.asyncLoadFloors(x,d,_)):setTimeout((function(){e[_0x1d97("0x1218")](d[x],(function(){x++,e[_0x1d97("0xbdc")](x,d,_)}),x==d[_0x1d97("0x0")]-1)}),0)}},{key:_0x1d97("0x1218"),value:function(x,d,_){var e=this;x>e.sourceData[_0x1d97("0xa34")][_0x1d97("0x0")]||(e[_0x1d97("0x1046")][x]=e[_0x1d97("0x165")][_0x1d97("0xa34")][x-1],e[_0x1d97("0x38")][_0x1d97("0x8f3")][_0x1d97("0xcf9")](e,x,(function(t){e[_0x1d97("0xb7e")][x][_0x1d97("0x235")]=t[_0x1d97("0x1219")],e[_0x1d97("0x11f7")][_0x1d97("0x1")](x),e[_0x1d97("0x1210")](x,t),"top"==e[_0x1d97("0x35")][_0x1d97("0xbd9")]?_&&(e.options[_0x1d97("0xbd9")]=x,e[_0x1d97("0xb8c")]=x):x==e[_0x1d97("0x35")][_0x1d97("0xbd9")]&&(e.focusFloorNum={notMove:!0,init:!0,floornum:e.options.focusFloor,time:.3}),e[_0x1d97("0x121a")](x,(function(d){d.datas_[_0x1d97("0xc7")]==esmap.ESNodeType[_0x1d97("0x574")]&&(d[_0x1d97("0xa7")]=e[_0x1d97("0xe2b")](d[_0x1d97("0xed6")][_0x1d97("0x121b")]),d.userData={sid:e[_0x1d97("0xa7a")],fnum:x},!e[_0x1d97("0x38")].options[_0x1d97("0xb83")]&&e[_0x1d97("0x38")].mapPicker[_0x1d97("0x121c")](e.id,d))}),function(){d&&d(x)}[_0x1d97("0x11")](e),(function(){}),_)})))}},{key:"handleLine",value:function(x,d,_){if(!(x[_0x1d97("0x1aa")]<15)){x[_0x1d97("0xd82")];var e=x[_0x1d97("0xce7")][_0x1d97("0x198")](2,x[_0x1d97("0xce7")][_0x1d97("0x0")]-2)[_0x1d97("0x28")](/,/),t=this,a={x:0,y:0},i=[],n=t[_0x1d97("0x38")][_0x1d97("0x1ab")][_0x1d97("0x28")](","),r=1*n[0],o=1*n[1],c=1*n[2];if(0!=e[_0x1d97("0x0")]){for(var l=0;l<e[_0x1d97("0x0")];l++){var u=e[l].split(" "),f=new(THREE[_0x1d97("0xe0")])(-(1*u[0]+a.x+r),c-.3,1*u[1]+a.y+o);f[_0x1d97("0xe8")]=1,f[_0x1d97("0xe5")]=0,f.offset=0,i[_0x1d97("0x1")](f),0==l&&(a.x=1*u[0],a.y=1*u[1])}var h=t.map[_0x1d97("0x35")][_0x1d97("0x1a9")][_0x1d97("0x119")],b=new(s[_0x1d97("0x1c")])(i,{color:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1a9")][_0x1d97("0x100")],isMapRoad:!0,roadType:x[_0x1d97("0x1aa")],lineWidthMeter:!0,lineWidth:h,lineType:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1a9")][_0x1d97("0x145")],offsetHeight:Math.random()+2,url:t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1a9")].url},!1);b.updateFactor=2e-5*t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1a9")][_0x1d97("0x2fa")],b[_0x1d97("0xb8")]=_,t[_0x1d97("0xa3")][_0x1d97("0xdc")](b)}}}},{key:_0x1d97("0x121d"),value:function(){var x=this,d=x[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x18d")][x.id];if(d){var _=d[_0x1d97("0x8f4")][0][_0x1d97("0x18e")],e=0;for(var t in _)e++,x[_0x1d97("0x18f")](_[t],e,x.id)}}},{key:_0x1d97("0x121a"),value:function(x,d,_,e,t){var a=this[_0x1d97("0x1209")](x);if(a){this[_0x1d97("0xef")][_0x1d97("0xd7")](x)<0&&(a[_0x1d97("0xf0")]=!1);var i=this.floors_[x][_0x1d97("0x1211")],n=this;n.asyncBuidExtents(i,a,x,!1)[_0x1d97("0x2fd")]((function(){_(),e&&e(),n.meshHandler[_0x1d97("0x121e")](i,x,n),n[_0x1d97("0x14b")][_0x1d97("0x164")](i,x,n)}))[_0x1d97("0x2fd")](n.asyncBuildPOIs[_0x1d97("0x11")](n,i,a,x))[_0x1d97("0x2fd")](n[_0x1d97("0x121f")][_0x1d97("0x11")](n,i,a,x)).then(n[_0x1d97("0x1202")].bind(n,i,a,x))}}},{key:_0x1d97("0x1217"),value:function(x,d,_,e){var t=this,a=new(THREE[_0x1d97("0x4da")]),i=x[_0x1d97("0x1220")],n=t[_0x1d97("0x1046")][_],r=(n[_0x1d97("0xd1c")],t[_0x1d97("0x38")].mapTheme[_0x1d97("0x987")][t[_0x1d97("0x66")]]),s=r[_0x1d97("0xe2c")][_]?r.floorStyleBase[_][_0x1d97("0x1b5")]:r[_0x1d97("0xe2c")][0]?r[_0x1d97("0xe2c")][0][_0x1d97("0x1b5")]:1;return t[_0x1d97("0x11f8")][_]=s,n[_0x1d97("0x1221")]=i[0][_0x1d97("0x1222")],setTimeout((function(){t[_0x1d97("0x38")][_0x1d97("0x35")].tileMode&&t[_0x1d97("0x14e")]==esmap.ESBuildingType[_0x1d97("0xa20")]&&!e?t[_0x1d97("0xb7e")][_][_0x1d97("0x4e3")]--:t[_0x1d97("0x14b")][_0x1d97("0xee0")](x,_,s,t),a[_0x1d97("0x4db")](),t[_0x1d97("0x38")].forceUpdate()}),t[_0x1d97("0xecd")]),a}},{key:_0x1d97("0x1223"),value:function(x,d,_){var e=this,t=this[_0x1d97("0x38")].mapScene,a=new(THREE[_0x1d97("0x4da")]),i=e.options[_0x1d97("0x179")];if(e[_0x1d97("0x35")][_0x1d97("0x20b")])return t.poiLayer=null,setTimeout((function(){for(var n in x[_0x1d97("0x1224")]){var r=x[_0x1d97("0x1224")][n],s=new esmap.ESLayer(esmap.ESLayerType[_0x1d97("0x94f")]);d[_0x1d97("0xdc")](s.o3d_),s[_0x1d97("0xa3")][_0x1d97("0x16a")]=new esmap.ESMapBoxCollision;var o=r[_0x1d97("0x1225")];for(var c in o){var l=o[c],u=new(esmap[_0x1d97("0x182")])(_,l,t[_0x1d97("0x183")],e[_0x1d97("0x66")],e.id,2);new(esmap[_0x1d97("0x517")])(l,u,t,e.id),s[_0x1d97("0xa3")][_0x1d97("0xdc")](u),u[_0x1d97("0xa2")][_0x1d97("0x184")][_0x1d97("0x179")]=i;var f=l[_0x1d97("0x31e")]||3,h=e[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:e[_0x1d97("0x38")][_0x1d97("0x17a")],to:e[_0x1d97("0x38")][_0x1d97("0x17b")],coord:{x:l.X,y:l.Y}}),b=e[_0x1d97("0x38")][_0x1d97("0x17c")](h);u[_0x1d97("0xb6")].set(b.x,f,b.z),u.initY_=f,u[_0x1d97("0xe9")]=_0x1d97("0x185"),u[_0x1d97("0xe7")][_0x1d97("0x11b")](l[_0x1d97("0xe7")].x,l[_0x1d97("0xe7")].y),u.userData[_0x1d97("0xe9f")]=u[_0x1d97("0xb6")],u[_0x1d97("0x17d")][_0x1d97("0x17e")](t.map[_0x1d97("0x17f")][_0x1d97("0x180")],u[_0x1d97("0x181")]),!t[_0x1d97("0x38")].options[_0x1d97("0xb83")]&&t[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](u,e.id)}}t[_0x1d97("0x38")].fire(_0x1d97("0x1226"),{bid:e.id,fnum:_,type:_0x1d97("0x581")}),e[_0x1d97("0xb7e")][_][_0x1d97("0x4ee")]--,e[_0x1d97("0x15f")](_),a[_0x1d97("0x4db")]()}),t[_0x1d97("0xecd")]),a;e[_0x1d97("0xb7e")][_][_0x1d97("0x4ee")]=0}},{key:_0x1d97("0x121f"),value:function(x,d,_){var e=this,t=new THREE.Promise,i=(e.map[_0x1d97("0x16c")],e[_0x1d97("0x35")].scaleOffset);if(e[_0x1d97("0x35")][_0x1d97("0x20c")])return setTimeout((function(){for(var n in x[_0x1d97("0x1227")]){var r=x.labellayers[n],s=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x169")]);d.add(s.o3d_),s[_0x1d97("0xa3")][_0x1d97("0x16a")]=new esmap.ESMapBoxCollision;var o=r[_0x1d97("0x1228")];for(var c in o){var l=o[c];if(""!=l.name){var u=e.map[_0x1d97("0x1a6")]({from:e.map[_0x1d97("0x17a")],to:e[_0x1d97("0x38")][_0x1d97("0x17b")],coord:{x:l.X,y:l.Y}}),f=e[_0x1d97("0x38")][_0x1d97("0x17c")](u),h=l.Height||2.5,b=(0,a[_0x1d97("0x1c")])({},e[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x176")],l),g=new(esmap[_0x1d97("0x177")])(_,l,b);new(esmap[_0x1d97("0x178")])(l,g,e),g[_0x1d97("0xf0")]=!1,s.o3d_[_0x1d97("0xdc")](g),g.datas_[_0x1d97("0x184")].scaleOffset=i,g[_0x1d97("0xe7")].set(l.center.x,l[_0x1d97("0xe7")].y),g[_0x1d97("0xb6")][_0x1d97("0x11b")](f.x,h,f.z),g.modelViewMatrix[_0x1d97("0x17e")](e.map[_0x1d97("0x17f")].matrixWorldInverse,g[_0x1d97("0x181")]),!e[_0x1d97("0x38")].options[_0x1d97("0xb83")]&&e[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](g,e.id)}}}e[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x1226"),{bid:e.id,fnum:_,type:"label"}),e[_0x1d97("0xb7e")][_].label--,e[_0x1d97("0x15f")](_),t[_0x1d97("0x4db")]()}),e[_0x1d97("0xecd")]),t;e.toLoaded[_].label=0}},{key:_0x1d97("0x15f"),value:function(x){if(0==this.id)return!0;var d=this.toLoaded;for(var _ in d[x])if(_!=_0x1d97("0x235")&&d[x][_])return!1;for(var e in this.options[_0x1d97("0x1229")]&&this[_0x1d97("0x35")][_0x1d97("0x1229")](x),this[_0x1d97("0x38")].fire(_0x1d97("0x122a"),{fnum:x,bid:this.id}),this[_0x1d97("0x35")][_0x1d97("0x862")]&&this.options[_0x1d97("0xbd9")]!=x&&esmap[_0x1d97("0x75")][_0x1d97("0x54a")]({bid:this.id,fnum:x,alpha:this[_0x1d97("0x35")].focusAlpha,time:0}),d)if(e!=x)for(var t in d[e])if(t!=_0x1d97("0x235")&&d[e][t])return!1;var a=!0;for(var e in d){if(!a)break;for(var t in d[e])if(d[e][t]){a=!1;break}}return a&&!this[_0x1d97("0x122b")]&&(this.mapModelsLoadedAll=!0,this[_0x1d97("0x924")](_0x1d97("0x90a")),this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x90a"),{bid:this.id})),this.map[_0x1d97("0x57d")][_0x1d97("0xd7")](this)<0&&(this[_0x1d97("0x38")][_0x1d97("0x57d")][_0x1d97("0x1")](this),this[_0x1d97("0x14b")][_0x1d97("0x1c9")].clear(),this[_0x1d97("0x14b")][_0x1d97("0x1c9")][_0x1d97("0x122c")](),this.meshLoader[_0x1d97("0x122d")](),0!=this.id&&this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x918"),this),this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x530")][this.id]&&(this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x530")][this.id][_0x1d97("0x9ce")]=!0),this[_0x1d97("0x38")].mode!=esmap[_0x1d97("0x3a")][_0x1d97("0x21b")]&&this.id!=this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0x8d5")]||(this[_0x1d97("0x38")].fire(_0x1d97("0xa16"),{}),esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]=!1,this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x8a8"),{bid:this.id}),this[_0x1d97("0x38")][_0x1d97("0x16d")].initViewState=this[_0x1d97("0x38")][_0x1d97("0x969")]()),this[_0x1d97("0x38")][_0x1d97("0x36")]==esmap[_0x1d97("0x3a")][_0x1d97("0x3b")]&&this[_0x1d97("0x38")].options[_0x1d97("0x921")]&&(this[_0x1d97("0x38")][_0x1d97("0x18c")][_0x1d97("0xc19")]?this[_0x1d97("0x923")](!0):this[_0x1d97("0x923")]())),!0}},{key:_0x1d97("0x113"),get:function(){return h},set:function(x){h=x}},{key:"themeID",get:function(){return f.get(_0x1d97("0xc51"))},set:function(x){f[_0x1d97("0x11b")]("theme",x)}},{key:"scaleLevel",get:function(){for(var x=this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0xc")][_0x1d97("0xb6")],d=this[_0x1d97("0x38")][_0x1d97("0x2f9")](this.center),_=x[_0x1d97("0x25d")](d)/this[_0x1d97("0xcfd")],e=0;e<this[_0x1d97("0xcfc")][_0x1d97("0x0")];e++)if(Math[_0x1d97("0x253")](this[_0x1d97("0xcfc")][e]-_)>.001&&_<this[_0x1d97("0xcfc")][e])return e-1<0?0:e-1;return e-1<0?0:e-1}},{key:_0x1d97("0x122e"),get:function(){return this[_0x1d97("0x165")][_0x1d97("0xd32")][_0x1d97("0x28")](",")||null}},{key:_0x1d97("0x11fe"),get:function(){return this[_0x1d97("0x165")][_0x1d97("0xa34")]}},{key:"focusFloorNum",set:function(x){if(!this[_0x1d97("0x38")][_0x1d97("0x113e")]){var d=!1,_=null,t=null,a=this;if(_0x1d97("0xc")==(typeof x===_0x1d97("0x8")?_0x1d97("0x8"):(0,e[_0x1d97("0x1c")])(x))&&(t=x,d=x.init,_=x.callback,x=null==x[_0x1d97("0xad8")]?x.fnum:x.floornum),this[_0x1d97("0xa32")]!=x){if(a[_0x1d97("0x38")].focusBuilding!=this&&(a[_0x1d97("0x38")][_0x1d97("0x89e")]=this,1!=a.buildingType&&a[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x122f"),this)),a.options[_0x1d97("0xc80")]&&2==a[_0x1d97("0x35")][_0x1d97("0x103f")]){var i=a[_0x1d97("0x1230")];if(x<=a[_0x1d97("0x35")].undergroundOffset){for(var n=a[_0x1d97("0x38")][_0x1d97("0x16c")].buildingScene_,r=0;r<n.children.length;r++){var s=n[_0x1d97("0xa4")][r];s[_0x1d97("0xa2")].id!=this.id&&s[_0x1d97("0xf0")]&&(s[_0x1d97("0xf0")]=!1,a.map.fire(_0x1d97("0x1231"),a[_0x1d97("0x38")].visibleBuildings))}a.map[_0x1d97("0x16c")][_0x1d97("0x920")].userData[_0x1d97("0x1232")]=!0}else{if(a[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x920")][_0x1d97("0x11e")][_0x1d97("0x1232")])for(var o=a[_0x1d97("0x38")][_0x1d97("0x16c")][_0x1d97("0x920")],c=0;c<o[_0x1d97("0xa4")][_0x1d97("0x0")];c++){var l=o[_0x1d97("0xa4")][c];l.visible||(l[_0x1d97("0xf0")]=!0,a[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x1231"),a[_0x1d97("0x38")][_0x1d97("0x1233")]))}THREE[_0x1d97("0x1b8")][_0x1d97("0x6a8")](a.o3d_[_0x1d97("0xb6")],.5,{y:i},THREE[_0x1d97("0x1b8")][_0x1d97("0x1234")],(function(){}),(function(x){}))}}(-1!=this.focusFnum_||(this[_0x1d97("0xa32")]=x,this.map[_0x1d97("0x1d9")](_0x1d97("0x1030"),{floornum:x,bid:this.id}),this.options[_0x1d97("0x1235")]))&&(esmap[_0x1d97("0x33")][_0x1d97("0x8ed")]&&!t||(this[_0x1d97("0x576")][x]?(this[_0x1d97("0x1212")](x,t),d||(this[_0x1d97("0x924")]("focusFloorNumChanged",x),this[_0x1d97("0x38")][_0x1d97("0x1d9")]("focusFloorNumChanged",{floornum:x,bid:this.id}))):this.on("floorLoaded",(function _(e){e==x&&(a[_0x1d97("0x5e")](_0x1d97("0x122a"),_),a.focusFloor_(x,t),d&&(a.emit("focusFloorNumChanged",x),a[_0x1d97("0x38")].fire(_0x1d97("0x1030"),{floornum:x,bid:a.id})))}))))}else _&&_()}},get:function(){return this.focusFnum_}},{key:_0x1d97("0x1236"),get:function(){return this[_0x1d97("0x165")][_0x1d97("0x8f4")]}},{key:_0x1d97("0xef"),get:function(){return this.visibleFloorNums_},set:function(x){if(x[_0x1d97("0x0")]>0){for(var d in this[_0x1d97("0x11f6")]=x,this[_0x1d97("0x38")][_0x1d97("0x16d")].scene[_0x1d97("0xa4")].forEach((function(d){d[_0x1d97("0xa2")]instanceof esmap[_0x1d97("0x518")]&&x[_0x1d97("0xd7")](d.datas_[_0x1d97("0xad8")])>-1&&(d[_0x1d97("0xa2")].visible=!0)})),this[_0x1d97("0x576")]){var _=this[_0x1d97("0x576")][d];_[_0x1d97("0xf0")]=x[_0x1d97("0xd7")](_[_0x1d97("0xed6")][_0x1d97("0xad8")])>=0}this.emit("visibleFloorNumsChanged",x),this[_0x1d97("0x38")][_0x1d97("0x1d9")]("visibleFloorNumsChanged",{bid:this.id,fnums:x})}}}]),x}();d[_0x1d97("0x1c")]=b},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=l(_(69)),t=l(_(9)),a=l(_(12)),i=l(_(13)),n=l(_(0)),r=l(_(1)),s=l(_(100)),o=l(_(137)),c=l(_(367));function l(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var u=0;function f(x){if(x){if(x[_0x1d97("0xa2")]&&x.datas_[_0x1d97("0xa3")]&&(x[_0x1d97("0xa2")].o3d_=void 0,x[_0x1d97("0xa2")]=void 0),x[_0x1d97("0xa4")])for(var d=0;d<x[_0x1d97("0xa4")].length;d++)f(x[_0x1d97("0xa4")][d]);x.geometry&&(x[_0x1d97("0xa5")][_0x1d97("0xa6")](),x[_0x1d97("0xa5")]=void 0),x[_0x1d97("0xa7")]&&(x.material instanceof Array?x[_0x1d97("0xa7")].forEach((function(x){x&&(x[_0x1d97("0x38")]&&(x[_0x1d97("0x38")][_0x1d97("0xa6")](),x[_0x1d97("0x38")]=void 0),x[_0x1d97("0xa6")](),x=void 0)})):(x[_0x1d97("0xa7")].dispose(),x[_0x1d97("0xa7")]=void 0))}x=void 0}var h=function(){function x(d){(0,n.default)(this,x),this[_0x1d97("0x305")]=d[_0x1d97("0x38")][_0x1d97("0x16c")],this.loader=this[_0x1d97("0x305")].modelLoader,this[_0x1d97("0x310")]={},this[_0x1d97("0xb64")]=0,this[_0x1d97("0xb65")]=1,this.concurrencyLimit=20,this[_0x1d97("0xb67")]=0,this[_0x1d97("0xa26")]={},this[_0x1d97("0x8e5")]=[],this[_0x1d97("0x909")]=[],this[_0x1d97("0x8e6")]=[],this[_0x1d97("0x28d")]=!1,this[_0x1d97("0x2f0")]=!1,this[_0x1d97("0xb69")]={},this.userModelLoadStatus={},this[_0x1d97("0xb6a")]={},this[_0x1d97("0xb6b")]=null,this[_0x1d97("0xb6c")]=50,this[_0x1d97("0xb6d")]=1e4,this[_0x1d97("0x57f")]=new o.default,this.mergeModels=!d.map[_0x1d97("0x35")].editMode&&(null==d.map[_0x1d97("0x35")][_0x1d97("0x1237")]?d[_0x1d97("0x38")].options[_0x1d97("0x212")]:d.map[_0x1d97("0x35")][_0x1d97("0x1237")]),this[_0x1d97("0x579")]={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this.frustum=new(THREE[_0x1d97("0x815")]);var _=this;d[_0x1d97("0x38")].on(_0x1d97("0xb6e"),(function(){u=0,_.mapModelsCount=0,_[_0x1d97("0x579")][_0x1d97("0x57a")]=0,_.modelStatic.roomModelsCount=0})),this.bid=d.id,this.building=d,this[_0x1d97("0x9e6")]=new(c[_0x1d97("0x1c")])(d),this[_0x1d97("0xc09")]={}}var d,_,l,h;return(0,r[_0x1d97("0x1c")])(x,[{key:"setFrustum",value:function(){this[_0x1d97("0x9d8")][_0x1d97("0xb71")]||(this[_0x1d97("0x9d8")][_0x1d97("0xb89")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x17e")](this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")].projectionMatrix,this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x180")])),this.frustum[_0x1d97("0xb71")]=!0)}},{key:"updateFrustum",value:function(){this.frustum.setFromMatrix((new THREE.Matrix4)[_0x1d97("0x17e")](this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x643")],this.scene.map[_0x1d97("0x17f")][_0x1d97("0x180")]))}},{key:_0x1d97("0x1238"),value:function(){this[_0x1d97("0x9e6")][_0x1d97("0x1c1")]()}},{key:"addBimModel",value:function(x){this[_0x1d97("0x579")][_0x1d97("0x1239")]++,this[_0x1d97("0x9e6")][_0x1d97("0x123a")](x)}},{key:_0x1d97("0xb72"),value:function(x,d){var _=x[_0x1d97("0x223")],e=x[_0x1d97("0x48")],t=x[_0x1d97("0xe8")];this[_0x1d97("0xc09")][_]?t&&this[_0x1d97("0x4b")][_0x1d97("0xb7e")][t].model3D--:(d=d||!1,_[_0x1d97("0xd7")](_0x1d97("0xb73"))>-1&&this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x214")]==_0x1d97("0x47b")||(this.toLoadedCount++,_[_0x1d97("0xd7")]("__nomerge")>-1&&(d=!0),this.mergeModels&&!d?(this[_0x1d97("0x2ab")][_]||this[_0x1d97("0x310")][_]||(this[_0x1d97("0x310")][_]=!0,this[_0x1d97("0x311")](_,e)),this[_0x1d97("0xa26")][t]||(this[_0x1d97("0xa26")][t]={}),this[_0x1d97("0xa26")][t][_]||(this[_0x1d97("0xa26")][t][_]=[]),this[_0x1d97("0xa26")][t][_][_0x1d97("0x1")](x)):x.rank>=24?(this[_0x1d97("0x2ab")][_]||this.loadingList[_]||(this[_0x1d97("0x310")][_]=!0,this[_0x1d97("0x311")](_,e)),this[_0x1d97("0x909")].push(x),this[_0x1d97("0xb75")]()):(this[_0x1d97("0x9d8")][_0x1d97("0x82b")](x[_0x1d97("0xb6")])&&(this[_0x1d97("0x2ab")][_]||this[_0x1d97("0x310")][_]||(this[_0x1d97("0x310")][_]=!0,this[_0x1d97("0x311")](_,e))),this[_0x1d97("0xb76")](x))))}},{key:_0x1d97("0xb75"),value:function(){this.requisitesQueue[_0x1d97("0x41c")]((function(x,d){return d[_0x1d97("0x1aa")]-x[_0x1d97("0x1aa")]}))}},{key:_0x1d97("0xb77"),value:function(x){var d=x.model,_=x.url;this[_0x1d97("0xc09")][d]||(this[_0x1d97("0xb64")]++,this[_0x1d97("0x2ab")][d]||this[_0x1d97("0x310")][d]||(this[_0x1d97("0x310")][d]=!0,this[_0x1d97("0x311")](d,_)),x[_0x1d97("0xbf")]?(this[_0x1d97("0xb6a")][x[_0x1d97("0xb79")]]||(this[_0x1d97("0xb6a")][x[_0x1d97("0xb79")]]={}),this.userMergeQueue[x[_0x1d97("0xb79")]][d]||(this.userMergeQueue[x[_0x1d97("0xb79")]][d]=[]),this[_0x1d97("0xb6a")][x[_0x1d97("0xb79")]][d].push(x)):this[_0x1d97("0xb76")](x))}},{key:"start",value:(h=(0,i[_0x1d97("0x1c")])(a.default[_0x1d97("0x2a6")]((function x(d){return a[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:return x[_0x1d97("0x2a8")]=2,this[_0x1d97("0xb7a")](d);case 2:if(!(this[_0x1d97("0x909")][_0x1d97("0x0")]>0)){x.next=5;break}return x[_0x1d97("0x2a8")]=5,this[_0x1d97("0xb7b")]();case 5:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return h[_0x1d97("0x5")](this,arguments)})},{key:"startLoadModelsByFLoor",value:function(x,d){var _=this,e=_.mergeQueue[d];for(var t in e){var a=e[t],i=!1;if(_[_0x1d97("0x2ab")][t]&&a[_0x1d97("0x0")]>0){a[0][_0x1d97("0xb7d")]&&(i=!0),!i&&t[_0x1d97("0xd7")](_0x1d97("0xb73"))<0&&(_[_0x1d97("0xb67")]+=a.length);for(var n=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](_[_0x1d97("0x2ab")][t].gltfObj[_0x1d97("0x305")]),r=a[0][_0x1d97("0xba")],s=a[0].url,o=n[_0x1d97("0x317")].y-n[_0x1d97("0x318")].y,c=0;c<a.length;c++){var l=a[c],f=o*l.scale.y,h=f+l[_0x1d97("0xb6")].y-f/2;l[_0x1d97("0x31e")]=1*h[_0x1d97("0x55f")](2),l[_0x1d97("0xc7")]=esmap[_0x1d97("0xea")][_0x1d97("0x221")],l.ID=l.id;var b=_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x23d")](l.position);l[_0x1d97("0x3cb")]=b}if(0!=_[_0x1d97("0x2ab")][t][_0x1d97("0x30a")][_0x1d97("0x2b2")][_0x1d97("0x0")]){for(var g=0;g<a[_0x1d97("0x0")];g++)_[_0x1d97("0xb72")](a[g],!0);_.mergeQueue[d][t]=[];continue}var v=_[_0x1d97("0x57f")][_0x1d97("0xbf")](_[_0x1d97("0x2ab")][t][_0x1d97("0x30a")],a);if(!v){for(var p=0;p<a[_0x1d97("0x0")];p++)a[p][_0x1d97("0xbf")]=!1,u-=1,_[_0x1d97("0xb72")](a[p]);return void(_[_0x1d97("0xa26")][d][t]=[])}v[_0x1d97("0xb8")]=_0x1d97("0xb9"),v[_0x1d97("0x11e")][_0x1d97("0x952")]=!0,v[_0x1d97("0xa2")]={isWall:i,model:t,bid:_[_0x1d97("0x4b")].id,bType:2,FloorNum:d,nodeType:esmap.ESNodeType[_0x1d97("0x221")],brothers:a,animations:[],o3d_:v,url:s},v[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],a[0].bclick&&(2==x[_0x1d97("0x14e")]?!_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb83")]&&_.scene[_0x1d97("0x38")][_0x1d97("0x146")].addObject(v,x.id):_.scene[_0x1d97("0x38")].mapPicker[_0x1d97("0x188")](v,x.id)),r[_0x1d97("0xdc")](v);for(var m=0;m<a[_0x1d97("0x0")];m++)a[m].o3d_=v;var A=(new(THREE[_0x1d97("0x30b")])).setFromObject(v),C={};[A[_0x1d97("0x317")].x-A[_0x1d97("0x318")].x,A[_0x1d97("0x317")].z-A.min.z,A[_0x1d97("0x317")].y-A[_0x1d97("0x318")].y][_0x1d97("0x41c")](),C[_0x1d97("0x316")]=A,v[_0x1d97("0x11e")][_0x1d97("0x315")]=C,_[_0x1d97("0x305")].map[_0x1d97("0x2aa")][_0x1d97("0x162")]-=a[_0x1d97("0x0")],_[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xb7f"),v[_0x1d97("0xa2")]),x[_0x1d97("0xb7e")][d][_0x1d97("0x235")]-=a[_0x1d97("0x0")],x[_0x1d97("0x15f")](d),2==x.buildingType&&x.options.focusAlphaMode&&x[_0x1d97("0x35")][_0x1d97("0xb80")]<1&&x[_0x1d97("0xb8c")]!=d&&esmap.ESMapUtil.setFloorAlpha({bid:x.id,fnum:d,alpha:x[_0x1d97("0x35")][_0x1d97("0xb80")],time:0}),_.mergeQueue[d][t]=[]}}}},{key:_0x1d97("0xb7b"),value:function(){var x=this,d=this;return new(t[_0x1d97("0x1c")])((function(_){for(var e=0,t=0;t<d[_0x1d97("0x909")][_0x1d97("0x0")];t++){var a=d[_0x1d97("0x909")][t];if(e>=x.concurrencyLimit)break;d[_0x1d97("0x2ab")][a.model]?(d[_0x1d97("0x909")][_0x1d97("0x189")](t,1),t--,d[_0x1d97("0xb84")](a),e++):d[_0x1d97("0x310")][a[_0x1d97("0x223")]]||(d[_0x1d97("0x310")][a[_0x1d97("0x223")]]=!0,d.preFetchModel3D(a.model,a[_0x1d97("0x48")]))}_()}))}},{key:_0x1d97("0xb85"),value:function(){var x=this;if(x[_0x1d97("0x1e9")]&&x[_0x1d97("0x305")].map.enableCollide&&!this[_0x1d97("0x2f0")]&&x.scene[_0x1d97("0x38")][_0x1d97("0x35")].dynamicLoadModels){for(var d=x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x22e")],_=x[_0x1d97("0x4b")][_0x1d97("0x584")],e=0;e<_[_0x1d97("0x0")];e++){var t=x.building[_0x1d97("0x56d")](_[e]);if(!t)return;var a=t.getLayersByNames(_0x1d97("0x123b"))[0];if(!a)return;var i=a[_0x1d97("0xa3")][_0x1d97("0xa4")];this.scene.map.firstPersonMode?this[_0x1d97("0x305")][_0x1d97("0x38")].firstPersonControls.target.distanceTo(this.scene[_0x1d97("0x38")][_0x1d97("0x17f")].position):this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x25d")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]);for(var n=0;n<i[_0x1d97("0x0")];n++){for(var r=i[n],s=r[_0x1d97("0xa2")][_0x1d97("0x33d")],o=[],c=[],l=0;l<s[_0x1d97("0x0")];l++){var u=s[l],f=u[_0x1d97("0xb6")][_0x1d97("0xdb")]();f[_0x1d97("0xa43")](this[_0x1d97("0x305")][_0x1d97("0x38")].currentCamera);var h=!1;(Math.abs(f.x)>=1.5||Math[_0x1d97("0x253")](f.y)>=1.5)&&(h=!0);var b=x.GLTFMergeTool.isModelVisible(r,u.id);u[_0x1d97("0x22c")]<d||h?b&&o[_0x1d97("0x1")](u.id):!b&&c[_0x1d97("0x1")](u.id)}x[_0x1d97("0x57f")][_0x1d97("0x41a")](r,o,!1),x.GLTFMergeTool[_0x1d97("0x41a")](r,c,!0)}}this[_0x1d97("0x2f0")]=!0}}},{key:"disposeInvisible",value:function(){var x=this;if(!x[_0x1d97("0x1e9")]&&x[_0x1d97("0x305")].map[_0x1d97("0x28c")]&&!this[_0x1d97("0x2f0")]){var d=x.building,_=new(THREE[_0x1d97("0x815")]);_[_0x1d97("0xb89")]((new THREE.Matrix4)[_0x1d97("0x17e")](this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0x643")],this[_0x1d97("0x305")][_0x1d97("0x38")].currentCamera[_0x1d97("0x180")]));for(var e=d.floorNums,t=0;t<e[_0x1d97("0x0")];t++){var a=d[_0x1d97("0x56d")](e[t]);if(!a)return;var i=a[_0x1d97("0x193")](_0x1d97("0x94b"))[0];if(!i)return;var n=i[_0x1d97("0xa3")].children;this.scene[_0x1d97("0x38")][_0x1d97("0x8b8")]?this[_0x1d97("0x305")][_0x1d97("0x38")].firstPersonControls.target[_0x1d97("0x25d")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]):this.scene[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x25d")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]);for(var r=0;r<n[_0x1d97("0x0")];r++){var s=n[r],o=(s[_0x1d97("0xb6")],s[_0x1d97("0x11e")][_0x1d97("0x315")][_0x1d97("0xb8a")],s[_0x1d97("0x11e")][_0x1d97("0x315")].box3);_.intersectsBox(o)||(x[_0x1d97("0x8e6")][_0x1d97("0x1")](s[_0x1d97("0x11e")].modelinfo),s.datas_[_0x1d97("0xa6")](),r--)}}this[_0x1d97("0x2f0")]=!0}}},{key:_0x1d97("0xb8d"),value:function(x,d,_,e){var a=this;return new t.default((function(t){if(a[_0x1d97("0x2ab")][_]&&d[_0x1d97("0x0")]>0){a[_0x1d97("0xb67")]+=d[_0x1d97("0x0")];var i=d[0][_0x1d97("0xba")],n=d[0][_0x1d97("0x48")],r=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](a[_0x1d97("0x2ab")][_][_0x1d97("0x30a")][_0x1d97("0x305")]),s=(r[_0x1d97("0x317")].y-r[_0x1d97("0x318")].y)/2,o=0,c=0;if(0!=a[_0x1d97("0x2ab")][_][_0x1d97("0x30a")][_0x1d97("0x2b2")].length){for(var l=0;l<d[_0x1d97("0x0")];l++)d[l][_0x1d97("0xbf")]=!1,u-=1,a[_0x1d97("0xb77")](d[l]);return void(a.userMergeQueue[e][_]=[])}for(var h=!1,b=!1,g=0;g<d[_0x1d97("0x0")];g++){d[g][_0x1d97("0xb6")].y+=s*d[g][_0x1d97("0x237")].y,0==g&&d[g][_0x1d97("0xb7d")]&&(h=!0),2==x[_0x1d97("0x14e")]&&(0==x.id?(o=0,c=0):(o=x[_0x1d97("0x165")].DefaultCenX-a[_0x1d97("0x305")][_0x1d97("0x199")],c=x[_0x1d97("0x165")][_0x1d97("0x8f8")]-a[_0x1d97("0x305")][_0x1d97("0x19a")]));var v=d[g][_0x1d97("0xb6")];d[g].position.x=v.x-o,d[g][_0x1d97("0xb6")].z=v.z-c,d[g][_0x1d97("0x128")]&&!b&&(b=!0)}var p=a.GLTFMergeTool.merge(a[_0x1d97("0x2ab")][_][_0x1d97("0x30a")],d);if(!p){for(var m=0;m<d[_0x1d97("0x0")];m++)d[m][_0x1d97("0xbf")]=!1,u-=1,a[_0x1d97("0xb77")](d[m]);return void(a[_0x1d97("0xb6a")][e][_]=[])}p[_0x1d97("0xb8")]=_0x1d97("0xb9");var A=d[0][_0x1d97("0xe8")];p[_0x1d97("0x11e")][_0x1d97("0x952")]=!0;p.datas_={isWall:h,model:_,bid:x.id,FloorNum:A,nodeType:esmap[_0x1d97("0xea")].MODEL3D,brothers:d,animations:[],url:n,bType:2,o3d_:p,dispose:function(x){(x=x||this).visible=!1;var d=x[_0x1d97("0xba")];return d?(d[_0x1d97("0x149")](x),f(x),!0):void 0}[_0x1d97("0x11")](p)},p[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],b&&p.traverse((function(x){x[_0x1d97("0xa7")]&&(x[_0x1d97("0xa7")]instanceof Array?x[_0x1d97("0xa7")][_0x1d97("0x38")]((function(x){x[_0x1d97("0xe53")]=!1})):x[_0x1d97("0xa7")][_0x1d97("0xe53")]=!1)}));var C=d[0][_0x1d97("0xb8b")];for(var I in C&&(2==x.buildingType?!a.scene.map.options[_0x1d97("0xb83")]&&a[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x146")].addObject(p,x.id):a.scene[_0x1d97("0x38")].mapPicker[_0x1d97("0x188")](p,x.id)),i[_0x1d97("0xdc")](p),d)d[I][_0x1d97("0xa3")]=p;a.scene.map[_0x1d97("0x2aa")].modelLoadCount-=d[_0x1d97("0x0")],a.scene[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xb7f"),p[_0x1d97("0xa2")]),x[_0x1d97("0xb7e")][A][_0x1d97("0x235")]-=d[_0x1d97("0x0")],x[_0x1d97("0x15f")](A),x[_0x1d97("0x35")][_0x1d97("0x862")]&&x[_0x1d97("0x35")][_0x1d97("0xb80")]<1&&x[_0x1d97("0xb8c")]!=A&&esmap[_0x1d97("0x75")][_0x1d97("0x54a")]({bid:x.id,alpha:x[_0x1d97("0x35")][_0x1d97("0xb80")],fnum:A,time:0}),a[_0x1d97("0xb6a")][e][_]=[]}t()}))}},{key:"loadUserMergeModel",value:(l=(0,i.default)(a[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d,_){var e,t,i,n,r;return a.default[_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:for(i in t=(e=this)[_0x1d97("0xb6a")][_])t[i].length;x.t0=a[_0x1d97("0x1c")][_0x1d97("0x538")](t);case 5:if((x.t1=x.t0())[_0x1d97("0x3e8")]){x[_0x1d97("0x2a8")]=12;break}return n=x.t1.value,r=t[n],x[_0x1d97("0x2a8")]=10,e[_0x1d97("0xb8d")](d,r,n,_);case 10:x[_0x1d97("0x2a8")]=5;break;case 12:case _0x1d97("0x2c4"):return x.stop()}}),x,this)}))),function(x,d){return l[_0x1d97("0x5")](this,arguments)})},{key:"checkO1",value:function(){var x=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xc17")]||0;return u>x||0==x}},{key:_0x1d97("0xb8f"),value:function(){var x=this,d=this[_0x1d97("0x4b")];if(this[_0x1d97("0x1e9")]&&x[_0x1d97("0xb67")]<x[_0x1d97("0x579")][_0x1d97("0x161")])for(var _ in this.mapModelLoadStatus)this.mapModelLoadStatus[_]&&this.startLoadModelsByFLoor(d,_);for(var e in this.userMergeQueue)this[_0x1d97("0xb90")][e]&&this[_0x1d97("0xb91")](d,e);if(this.autoLoad&&x.requisitesQueue.length>0&&x[_0x1d97("0x1c1")](),this[_0x1d97("0xb65")]&&x[_0x1d97("0x305")][_0x1d97("0x38")].enableCollide&&(x[_0x1d97("0x8e5")].length>0||x[_0x1d97("0x8e6")][_0x1d97("0x0")]>0)){if(!this.queueRanked){var t=x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8b8")];if(this[_0x1d97("0xb6b")]||(t?this[_0x1d97("0xb6b")]=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")][_0x1d97("0xdb")]():this.lasViewCenter=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0xdb")]()),x[_0x1d97("0x8e5")]=x.queue[_0x1d97("0x1de")](x[_0x1d97("0x8e6")]),x[_0x1d97("0x8e6")]=[],x[_0x1d97("0x305")].map[_0x1d97("0x35")][_0x1d97("0xb86")]){var a=new(THREE[_0x1d97("0x815")]);t?this.scene[_0x1d97("0x38")][_0x1d97("0x8a1")].target.distanceTo(this.scene[_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]):this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x27e")][_0x1d97("0x25d")](this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")][_0x1d97("0xb6")]);var i=t?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")]:this[_0x1d97("0x305")][_0x1d97("0x38")].controls.target;a[_0x1d97("0xb89")]((new(THREE[_0x1d97("0x261")]))[_0x1d97("0x17e")](this.scene[_0x1d97("0x38")][_0x1d97("0x17f")].projectionMatrix,this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x17f")].matrixWorldInverse));for(var n=0;n<x[_0x1d97("0x8e5")].length;n++){if(x.queue[n][_0x1d97("0xb92")]=1/x[_0x1d97("0x8e5")][n][_0x1d97("0xb6")].distanceTo(i),x[_0x1d97("0x8e5")][n].box3){if(!a[_0x1d97("0x825")](x.queue[n][_0x1d97("0x316")])){x[_0x1d97("0x8e6")][_0x1d97("0x1")](x[_0x1d97("0x8e5")][n]),x.queue[_0x1d97("0x189")](n,1),n--;continue}x[_0x1d97("0x8e5")][n][_0x1d97("0xb92")]=1/x.queue[n][_0x1d97("0xb6")].distanceTo(i)}else if(!a.containsPoint(x[_0x1d97("0x8e5")][n][_0x1d97("0xb6")])){x[_0x1d97("0x8e6")][_0x1d97("0x1")](x[_0x1d97("0x8e5")][n]),x[_0x1d97("0x8e5")][_0x1d97("0x189")](n,1),n--;continue}}for(var r=d[_0x1d97("0x56d")](1).getLayersByNames("mapmodel3ds")[0][_0x1d97("0xa3")][_0x1d97("0xa4")],s=[],o=0;o<r.length;o++){var c=r[o],l=(c[_0x1d97("0x11e")][_0x1d97("0x315")][_0x1d97("0xb8a")],x[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x123c")],{modelrank:1/c.position.distanceTo(i),model:c,ind:o});s.push(l)}var u=[];(u=[].concat(s,x[_0x1d97("0x8e5")])).sort((function(x,d){return d[_0x1d97("0xb92")]-x.modelrank}));var f=[];if(u.length>x[_0x1d97("0xb6d")]){f=u[_0x1d97("0x189")](x.maxShowModels);for(var h=0;h<f[_0x1d97("0x0")];h++)f[h].hasOwnProperty("ind")?(x[_0x1d97("0x8e6")][_0x1d97("0x1")](f[h].model[_0x1d97("0x11e")][_0x1d97("0x315")]),f[h][_0x1d97("0x223")].datas_[_0x1d97("0xa6")](),f[h][_0x1d97("0x223")]=null):x[_0x1d97("0x8e6")][_0x1d97("0x1")](f[h]),f.splice(h,1),h--}for(var b=0;b<u[_0x1d97("0x0")];b++)u[b][_0x1d97("0x2")]("ind")&&(u[_0x1d97("0x189")](b,1),b--);x[_0x1d97("0x8e5")]=u}this[_0x1d97("0xb95")](),this[_0x1d97("0x28d")]=!0,this[_0x1d97("0xb6b")]=t?this.scene[_0x1d97("0x38")].firstPersonControls.target[_0x1d97("0xdb")]():this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x280")].target[_0x1d97("0xdb")]()}x[_0x1d97("0x1c1")](d)}}},{key:"rankSingModel",value:function(x){for(var d=this[_0x1d97("0x305")][_0x1d97("0x38")].firstPersonMode?this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8a1")][_0x1d97("0x27e")]:this[_0x1d97("0x305")].map[_0x1d97("0x280")].target,_=this.queue[_0x1d97("0x0")],e=x.position[_0x1d97("0x25d")](d),t=0;t<_;t++){if(this.queue[t][_0x1d97("0xb6")][_0x1d97("0x25d")](d)>=e)return void this[_0x1d97("0x8e5")].splice(t,0,x)}this[_0x1d97("0x8e6")][_0x1d97("0x1")](x),this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x28c")]=!0}},{key:_0x1d97("0xb95"),value:function(){var x=this[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x8b8")]?this[_0x1d97("0x305")][_0x1d97("0x38")].firstPersonControls[_0x1d97("0x27e")]:this[_0x1d97("0x305")].map.controls.target;this[_0x1d97("0x8e5")][_0x1d97("0x0")];this[_0x1d97("0x8e5")][_0x1d97("0x41c")]((function(d,_){return d.position.distanceTo(x)-_.position[_0x1d97("0x25d")](x)})),this[_0x1d97("0x8e5")]}},{key:"applyToMap",value:function(){var x=this,d=this;return new(t[_0x1d97("0x1c")])((function(_){for(var e=0,t=0;t<d.queue.length;t++){var a=d[_0x1d97("0x8e5")][t];if(e>=x.concurrencyLimit)break;d[_0x1d97("0x2ab")][a[_0x1d97("0x223")]]?(d[_0x1d97("0x8e5")][_0x1d97("0x189")](t,1),t--,d[_0x1d97("0xb84")](a),e++):d[_0x1d97("0x310")][a[_0x1d97("0x223")]]||(d[_0x1d97("0x310")][a.model]=!0,d[_0x1d97("0x311")](a[_0x1d97("0x223")],a[_0x1d97("0x48")]))}_()}))}},{key:_0x1d97("0xb84"),value:function(x){var d,_=this,e=this[_0x1d97("0x4b")],t=x[_0x1d97("0x223")],a=_[_0x1d97("0x2ab")][t][_0x1d97("0x30a")][_0x1d97("0x305")],i=_[_0x1d97("0x2ab")][t].animNames,n=(i.length,!1);a[_0x1d97("0xa4")].forEach((function(x){(x instanceof THREE.SkinnedMesh||x instanceof THREE[_0x1d97("0x7dd")])&&(n=!0)})),(d=n?THREE[_0x1d97("0x123d")][_0x1d97("0xdb")](a):a[_0x1d97("0xdb")](!0))[_0x1d97("0xb4")]((function(x){x.material&&(x[_0x1d97("0xa7")]=x[_0x1d97("0xa7")][_0x1d97("0xdb")]())})),_[_0x1d97("0x5")](d,x,i,e)}},{key:"apply",value:function(x,d,_){var a=this,i=this,n=this.building;return new(t[_0x1d97("0x1c")])((function(t){_=_||[];var r=i.scene[_0x1d97("0x38")][_0x1d97("0x146")],o=d[_0x1d97("0xe8")],c=null,l=null;x[_0x1d97("0xb4")]((function(x){x&&x.name&&x.name[_0x1d97("0xd7")](_0x1d97("0x9e2"))>-1&&(c=x,l=x[_0x1d97("0xba")])})),c&&l[_0x1d97("0x149")](c);var f=(new THREE.Box3).setFromObject(x);f[_0x1d97("0x30d")](x[_0x1d97("0xb6")]),x[_0x1d97("0xb6")][_0x1d97("0x276")](-1),c&&l[_0x1d97("0xdc")](c);var h,b,g=f.max.y-f[_0x1d97("0x318")].y;f[_0x1d97("0x317")].x,f.min.x;h=g<1?15:20,h*=d[_0x1d97("0x237")].y;var v=d[_0x1d97("0x22f")]||!1;if(d[_0x1d97("0xb9a")]){u++;var p=d.url.lastIndexOf("/"),m=d.url;p>-1&&(m=d[_0x1d97("0x48")].slice(p+1)),b=d[_0x1d97("0xb9a")],d[_0x1d97("0xb9a")][_0x1d97("0x23e")]=d[_0x1d97("0xba")],d[_0x1d97("0xb9a")][_0x1d97("0x241")]=d[_0x1d97("0x241")],d[_0x1d97("0xb9a")].child=x,i[_0x1d97("0x305")].map.mapService[_0x1d97("0x424")]("sk")||(d[_0x1d97("0xb9a")][_0x1d97("0x223")]=m),d[_0x1d97("0xb9a")][_0x1d97("0x2b2")]=_,d[_0x1d97("0xb9a")][_0x1d97("0x22f")]=v,d[_0x1d97("0xb9a")][_0x1d97("0x32")](),d[_0x1d97("0xb9a")].on(_0x1d97("0x247"),(function(){u--})),d.iswall&&(d[_0x1d97("0xb9a")][_0x1d97("0xb9b")]=!0)}else{var A=d[_0x1d97("0xb6")];d[_0x1d97("0xb6")].x=A.x-0,d.position.y=A.y,d[_0x1d97("0xb6")].z=A.z-0;var C=d[_0x1d97("0x1aa")];i[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x3b")]&&(C=i.scene[_0x1d97("0x38")].buildingService.convertShowLevel(d[_0x1d97("0x1aa")],i[_0x1d97("0x4b")])),b=new(s[_0x1d97("0x1c")])({name:d.name,fnum:d[_0x1d97("0xe8")],ID:d.id,dataID:d[_0x1d97("0x58a")],url:d.url,gid:d[_0x1d97("0xb9c")],mapId:d[_0x1d97("0x37")],bid:n.id,bType:n[_0x1d97("0x14e")],model:d[_0x1d97("0x223")],callback:d[_0x1d97("0x1c2")],top:d.top,rotation:d[_0x1d97("0x238")],position:d[_0x1d97("0xb6")],scale:d[_0x1d97("0x237")],scaleRate:h,showLevel:C,child:x,addTo:d[_0x1d97("0xba")],isChildNode:v,animations:_}),d[_0x1d97("0xb7d")]&&(b[_0x1d97("0xb9b")]=!0),b[_0x1d97("0x32")](),d[_0x1d97("0xb9e")]&&d[_0x1d97("0xb9e")].MA&&(0,e.default)(d.brief.MA).forEach((function(x){var d=x.n,e=x.t,t=x.dt,a=x.l;_[_0x1d97("0xb9f")]((function(x){return x==d}))?b.playAnimation({name:d,time:e,delay:t,loop:a}):console[_0x1d97("0x245")]("èªå®ä¹å¨ç» "+d+_0x1d97("0xba1"))})),a[_0x1d97("0x305")].map[_0x1d97("0x2aa")].modelLoadCount--,d[_0x1d97("0xb7d")]||n.toLoaded&&n.toLoaded[o]&&n.toLoaded[o].model3D--,n[_0x1d97("0x15f")]()}_[_0x1d97("0xd7")]("onload")>-1&&b[_0x1d97("0x289")]({name:_0x1d97("0x4a2"),time:2});var I=b.o3d_,y=(new THREE.Box3).setFromObject(I),E=[y[_0x1d97("0x317")].x-y[_0x1d97("0x318")].x,y[_0x1d97("0x317")].z-y[_0x1d97("0x318")].z,y[_0x1d97("0x317")].y-y.min.y];E[_0x1d97("0x41c")](),d[_0x1d97("0xb8a")]=E[1]*E[2],d[_0x1d97("0x316")]=y,I[_0x1d97("0x11e")][_0x1d97("0x315")]=d,2==n[_0x1d97("0x14e")]?i[_0x1d97("0x294")](n,I):a[_0x1d97("0xba2")](I),d.id!=_0x1d97("0xba3")&&(d[_0x1d97("0xb8b")]||i.scene[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")])&&(2==n.buildingType?d[_0x1d97("0xb9a")]?r.addObject(I,n.id):i.scene[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb83")]||r.addObject(I,n.id):r[_0x1d97("0x188")](I,n.id)),b[_0x1d97("0x37")]&&(a[_0x1d97("0x305")][_0x1d97("0x38")].mapService[_0x1d97("0xb82")][b[_0x1d97("0x37")]]=b),a[_0x1d97("0x305")].map[_0x1d97("0x2aa")].tileService[_0x1d97("0x928")](),a.scene[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0xb7f"),b),t()}))}},{key:_0x1d97("0x311"),value:function(x,d,_){var e=this,t=e[_0x1d97("0x305")][_0x1d97("0x38")].mapTheme[_0x1d97("0xdf8")],a=esmap.ESRenderOrder.model3D;e[_0x1d97("0x305")].map[_0x1d97("0x35")][_0x1d97("0x20f")],this[_0x1d97("0xc09")][x]||this[_0x1d97("0xb61")].load(d,(function(d){e[_0x1d97("0xb64")]--,e.modelStatic.modelTypesCount++,e[_0x1d97("0x310")][x]=!1;var i=new(THREE[_0x1d97("0x2b1")])(d[_0x1d97("0x305")]);i[_0x1d97("0x2c0")]=!1;var n=[];d[_0x1d97("0x2b2")][_0x1d97("0x1d")]((function(x){n[_0x1d97("0x1")](x[_0x1d97("0xb8")][_0x1d97("0x2b6")]())})),d[_0x1d97("0x305")][_0x1d97("0xb4")]((function(x){x[_0x1d97("0x234")]=a,x[_0x1d97("0xa7")]&&x[_0x1d97("0xa7")].isMaterial&&(x[_0x1d97("0xa7")].name[_0x1d97("0xd7")](_0x1d97("0x123e"))>-1&&(x[_0x1d97("0xa7")]=new(THREE[_0x1d97("0xfe")])({color:x[_0x1d97("0xa7")][_0x1d97("0x100")],map:x.material[_0x1d97("0x38")],transparent:x[_0x1d97("0xa7")][_0x1d97("0xff")],opacity:x[_0x1d97("0xa7")][_0x1d97("0xe2")]})),x[_0x1d97("0xa7")][_0x1d97("0xfd")]||(x[_0x1d97("0xa7")][_0x1d97("0xfd")]=.9),x[_0x1d97("0xa7")][_0x1d97("0x38")]&&(x[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0xba6"))>-1&&(x[_0x1d97("0xa7")][_0x1d97("0xff")]=!1),t||(x.material[_0x1d97("0x38")][_0x1d97("0x7a4")]=THREE[_0x1d97("0xba7")])),!d.scene[_0x1d97("0x11e")][_0x1d97("0x123f")]&&x[_0x1d97("0xa7")][_0x1d97("0xb8")][_0x1d97("0xd7")]("depth")>=0&&(d.scene[_0x1d97("0x11e")][_0x1d97("0x123f")]=!0))}));var r=null;d[_0x1d97("0xb1")]&&d[_0x1d97("0xb1")][_0x1d97("0xb2")]&&d[_0x1d97("0xb1")].json.ms&&(r=d.parser[_0x1d97("0xb2")].ms),e[_0x1d97("0x2ab")][x]={mixer:i,gltfObj:d,queue:[],animations:d[_0x1d97("0x2b2")],animNames:n,ms:r},_&&_(d),e[_0x1d97("0x305")].map.fire(_0x1d97("0xba8"),{name:x,gltfObj:d}),e[_0x1d97("0x28d")]=!1}),(function(){}),(function(_){e[_0x1d97("0x579")][_0x1d97("0x57a")]++,e.failed[x]=!0;var t=e[_0x1d97("0x4b")];for(var a in e[_0x1d97("0xa26")]){var i=e[_0x1d97("0xa26")][a];for(var n in i)if(e[_0x1d97("0xc09")][n]){var r=i[n].length;r>0&&(i[n]=[],t[_0x1d97("0xb7e")][a][_0x1d97("0x235")]-=r,t[_0x1d97("0x15f")](a))}}for(var s=0;s<e[_0x1d97("0x909")][_0x1d97("0x0")];s++)if(e[_0x1d97("0x909")][s][_0x1d97("0x223")]==x){e[_0x1d97("0x909")][s][_0x1d97("0x1240")]&&e[_0x1d97("0x909")][s][_0x1d97("0x1240")](e.queue[s]);var o=e.requisitesQueue[s][_0x1d97("0xe8")];if(!o)continue;e[_0x1d97("0x909")][s].name!=_0x1d97("0x119a")&&0!=t.id&&t[_0x1d97("0xb7e")][e[_0x1d97("0x909")][s][_0x1d97("0xe8")]][_0x1d97("0x235")]--,e[_0x1d97("0x909")].splice(s,1),s--,t[_0x1d97("0x15f")](o)}for(var c=0;c<e[_0x1d97("0x8e5")][_0x1d97("0x0")];c++)if(e[_0x1d97("0x8e5")][c][_0x1d97("0x223")]==x){e[_0x1d97("0x8e5")][c].onError&&e[_0x1d97("0x8e5")][c][_0x1d97("0x1240")](e.queue[c]);var l=e[_0x1d97("0x8e5")][c].fnum;if(!l)continue;"wallModelPrefetch"!=e.queue[c][_0x1d97("0xb8")]&&0!=t.id&&t.toLoaded[e[_0x1d97("0x8e5")][c][_0x1d97("0xe8")]][_0x1d97("0x235")]--,e.queue[_0x1d97("0x189")](c,1),c--,t.checkLoadedAll(l)}for(var u=0;u<e[_0x1d97("0x8e6")].length;u++)if(e[_0x1d97("0x8e6")][u].model==x){var f=e.toAddQueue[u][_0x1d97("0xe8")];if(!f)continue;"wallModelPrefetch"!=e[_0x1d97("0x8e6")][u][_0x1d97("0xb8")]&&0!=t.id&&t[_0x1d97("0xb7e")][e[_0x1d97("0x8e6")][u][_0x1d97("0xe8")]][_0x1d97("0x235")]--,e.toAddQueue.splice(u,1),u--,t[_0x1d97("0x15f")](f)}e[_0x1d97("0x305")][_0x1d97("0x38")][_0x1d97("0x1d9")]("modelPrefetchFailed",{name:x}),_&&console[_0x1d97("0x245")]("model load failed:"+d+_0x1d97("0x1241")+_[_0x1d97("0x2d")]()),e.toLoadedCount--}),this.bid)}},{key:_0x1d97("0xba9"),value:function(x){var d=esmap.ESRenderOrder[_0x1d97("0x235")];obj[_0x1d97("0x234")]=d,x[_0x1d97("0x13b")]=!0}},{key:_0x1d97("0xba2"),value:(_=(0,i.default)(a[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d){var _;return a[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:_=esmap[_0x1d97("0x12b")].model3D,d[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")]){if(x[_0x1d97("0xa7")]instanceof Array)for(var d=0;d<x[_0x1d97("0xa7")][_0x1d97("0x0")];d++)x.material[d];x[_0x1d97("0x234")]=_}}));case 2:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x){return _[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x294"),value:(d=(0,i[_0x1d97("0x1c")])(a[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(d,_){var e,t,i;return a[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:e=_[_0x1d97("0xa2")][_0x1d97("0x23f")],t=d[_0x1d97("0x576")][e],i=esmap[_0x1d97("0x12b")][_0x1d97("0x235")],t&&t[_0x1d97("0xf0")]&&(d[_0x1d97("0x35")].focusAlpha,_[_0x1d97("0xb4")]((function(x){if(x[_0x1d97("0xa7")]){if(x[_0x1d97("0xa7")]instanceof Array)for(var d=0;d<x[_0x1d97("0xa7")].length;d++)x[_0x1d97("0xa7")][d];x[_0x1d97("0x234")]=i}})));case 6:case"end":return x[_0x1d97("0x1af")]()}}),x,this)}))),function(x,_){return d.apply(this,arguments)})},{key:_0x1d97("0x2ab"),get:function(){return this.scene.map[_0x1d97("0x2aa")][_0x1d97("0x2ab")]},set:function(x){this[_0x1d97("0x305")][_0x1d97("0x38")].mapService.modelStore=x}}]),x}();d.default=h},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=l(_(28)),t=l(_(89)),a=l(_(2)),i=l(_(12)),n=l(_(13)),r=l(_(9)),s=l(_(0)),o=l(_(1)),c=l(_(131));function l(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var u=function(){function x(d){var _=this;(0,s[_0x1d97("0x1c")])(this,x),this[_0x1d97("0x1242")]={},this[_0x1d97("0xe7")]=null,this[_0x1d97("0x1243")]={},this[_0x1d97("0x1244")]={},this.queuesOther={},this[_0x1d97("0x1245")]={},this[_0x1d97("0x4b")]=d,this[_0x1d97("0xbe0")]=2592e5,this[_0x1d97("0x305")]=d[_0x1d97("0x38")].mapScene,this.map=d[_0x1d97("0x38")],this[_0x1d97("0x94c")]={},this[_0x1d97("0x2ab")]={},this.total=0,this[_0x1d97("0x1246")]=0,this[_0x1d97("0x1247")]=0,this[_0x1d97("0xee9")]=null,this.bimInfoLib={},this[_0x1d97("0x1248")]=[],this[_0x1d97("0x1249")]=null,this[_0x1d97("0x8c6")]=!1,this[_0x1d97("0x124a")]=this.map[_0x1d97("0x35")][_0x1d97("0x212")];var e=this,t=null;this[_0x1d97("0xbe5")]=null,this.db=null,this[_0x1d97("0x124b")]=!1,this[_0x1d97("0x38")].on(_0x1d97("0xa8f"),(function(){_.controlstate=!0})),this[_0x1d97("0x38")].on("controlchange",(function(){_[_0x1d97("0x124b")]&&(e[_0x1d97("0x8c6")]=!0,window[_0x1d97("0x28e")](t))})),this[_0x1d97("0x38")].on(_0x1d97("0x8ea"),(function(){e[_0x1d97("0x8c6")]||e[_0x1d97("0x124c")]()})),this[_0x1d97("0x38")].on("controlend",(function(){_[_0x1d97("0x124b")]=!1,t=setTimeout((function(){e[_0x1d97("0x8c6")]=!1}),800)}))}var d;return(0,o.default)(x,[{key:_0x1d97("0x32"),value:function(x){for(var d=this[_0x1d97("0x4b")],_=0;_<d[_0x1d97("0x584")][_0x1d97("0x0")];_++){var e=d.floorNums[_],t=d.getFloor(e).getLayersByNames(_0x1d97("0x94b"));t[0]?this.layers[e]=t[0][_0x1d97("0xa3")]:console[_0x1d97("0x246")](_0x1d97("0x124d"))}this[_0x1d97("0x124e")]=x[_0x1d97("0x124e")],this.size=x.onesize,this[_0x1d97("0x1246")]=x[_0x1d97("0x1246")],this[_0x1d97("0x124f")]=x[_0x1d97("0x124f")]}},{key:_0x1d97("0x124c"),value:function(){if(this[_0x1d97("0x1248")][_0x1d97("0x0")]>0){var x=this[_0x1d97("0x1248")].shift();this[_0x1d97("0x124a")]?this[_0x1d97("0x1250")](x):this[_0x1d97("0x1251")](x),this[_0x1d97("0x1252")]()}}},{key:_0x1d97("0xeea"),value:function(x){x.message==_0x1d97("0x1253")?this.tanks[_0x1d97("0x1")](x):"bimInfos"==x.message&&this.onGetBimInfo(x),this[_0x1d97("0x1252")]()}},{key:_0x1d97("0x1254"),value:function(x,d){var _=this.db[_0x1d97("0xbee")]([x],_0x1d97("0xbea"))[_0x1d97("0xbef")](x).put(d);_[_0x1d97("0xbeb")]=function(x){},_[_0x1d97("0x509")]=function(x){}}},{key:_0x1d97("0x1255"),value:function(x,d){var _=this.db;return new(r[_0x1d97("0x1c")])((function(e){var t=_[_0x1d97("0xbee")]([x],_0x1d97("0xbea"))[_0x1d97("0xbef")](x).add(d);t[_0x1d97("0xbeb")]=function(x){e()},t[_0x1d97("0x509")]=function(x){}}))}},{key:_0x1d97("0x1252"),value:function(){if(this[_0x1d97("0x1246")]&&this[_0x1d97("0x1247")]===this[_0x1d97("0x1246")]&&this[_0x1d97("0x1243")]){var x=(new Date)[_0x1d97("0x74")]()-this[_0x1d97("0xbe5")];console[_0x1d97("0x2ac")]("bimå è½½å®æï¼èæ¶"+x+"ms"),this[_0x1d97("0x1243")]=null,this[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x1256"),{})}}},{key:_0x1d97("0x1257"),value:function(x){var d=this;return new(r[_0x1d97("0x1c")])((function(_,e){var t=d.db[_0x1d97("0xbee")]("bimSets")[_0x1d97("0xbef")](_0x1d97("0x1258"))[_0x1d97("0x359")](x);t[_0x1d97("0xbeb")]=function(){var x=t[_0x1d97("0xbf0")];_(x||null)},t.onerror=function(x){console[_0x1d97("0x246")](x),e(null)}}))}},{key:_0x1d97("0xc00"),value:function(){var x={db:_0x1d97("0xbfb"),collections:[_0x1d97("0x1259"),_0x1d97("0xee9"),_0x1d97("0x1258")]},d=window[_0x1d97("0xbf2")][_0x1d97("0x303")](x.db);d[_0x1d97("0xbeb")]=function(){for(var _=d[_0x1d97("0xbf0")],e=x[_0x1d97("0x125a")],t=0;t<e[_0x1d97("0x0")];t++){var a=e[t];_[_0x1d97("0xc01")][_0x1d97("0x3b0")](a)&&_[_0x1d97("0xc00")](a)}}}},{key:"clearStores",value:function(){var x={db:_0x1d97("0xbfb"),collections:[_0x1d97("0x1259"),"bimInfos",_0x1d97("0x1258")]},d=window[_0x1d97("0xbf2")].open(x.db);d[_0x1d97("0xbeb")]=function(){for(var _=d.result,e=x[_0x1d97("0x125a")],t=0;t<e[_0x1d97("0x0")];t++){var a=e[t],i=_[_0x1d97("0xbee")]([a],_0x1d97("0xbea")).objectStore(a)[_0x1d97("0x5f5")]();i[_0x1d97("0xbeb")]=function(x){},i.onerror=function(x){}}}}},{key:_0x1d97("0x1c1"),value:(d=(0,n[_0x1d97("0x1c")])(i.default[_0x1d97("0x2a6")]((function x(){var d,_,e,t,a,n,r,s,o,c;return i[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x[_0x1d97("0x2a8")]){case 0:return this[_0x1d97("0xbe5")]=(new Date)[_0x1d97("0x74")](),x[_0x1d97("0x2a8")]=3,this[_0x1d97("0xbe1")]({db:_0x1d97("0xbfb"),version:2});case 3:if(d=x[_0x1d97("0x533")],_=!0,d){x.next=23;break}return console[_0x1d97("0x245")]("ESBIM IDBåå§åå¤±è´¥"),_=!1,x.next=10,this[_0x1d97("0x125b")]();case 10:if(e=x[_0x1d97("0x533")]){x[_0x1d97("0x2a8")]=14;break}return console[_0x1d97("0x245")](_0x1d97("0x125c")),x[_0x1d97("0x2ae")]("return");case 14:for(this.init(e),this.bimSetData=e,t=this[_0x1d97("0x38")][_0x1d97("0xa7a")],e[_0x1d97("0x535")]=t,e.id=t,a=0;a<this[_0x1d97("0x1246")];a++)this[_0x1d97("0x125d")](a,!1,_);return this[_0x1d97("0x125d")](_0x1d97("0x2ac"),!1,_),x[_0x1d97("0x2ae")](_0x1d97("0x2af"));case 23:return this.db=d,x[_0x1d97("0x2a8")]=26,this.fetchBimSet();case 26:if(n=x[_0x1d97("0x533")]){x.next=30;break}return console[_0x1d97("0x245")](_0x1d97("0x125c")),x.abrupt("return");case 30:return this.init(n),this[_0x1d97("0x1249")]=n,r=this[_0x1d97("0x38")].sceneId_,n[_0x1d97("0x535")]=r,n.id=r,x[_0x1d97("0x2a8")]=37,this[_0x1d97("0x1257")](r);case 37:if(s=x[_0x1d97("0x533")],o=!0,s){x[_0x1d97("0x2a8")]=47;break}return x.next=42,this[_0x1d97("0x125e")]();case 42:return x[_0x1d97("0x2a8")]=44,this[_0x1d97("0x1255")](_0x1d97("0x1258"),n);case 44:o=!1,x[_0x1d97("0x2a8")]=53;break;case 47:if(o=n[_0x1d97("0x125f")]===s.filetime){x.next=53;break}return x[_0x1d97("0x2a8")]=51,this[_0x1d97("0x125e")]();case 51:return x.next=53,this[_0x1d97("0x1254")](_0x1d97("0x1258"),n);case 53:for(c=0;c<this[_0x1d97("0x1246")];c++)this.dispatchBimPageByControlIndex(c,o,_);this.dispatchBimPageByControlIndex(_0x1d97("0x2ac"),o,_);case 55:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return d[_0x1d97("0x5")](this,arguments)})},{key:_0x1d97("0x125e"),value:function(){var x=this.db,d=this[_0x1d97("0x38")][_0x1d97("0xa7a")],_=new r.default((function(_){x.transaction(_0x1d97("0x1259"),_0x1d97("0xbea"))[_0x1d97("0xbef")](_0x1d97("0x1259"))[_0x1d97("0xbf8")]()[_0x1d97("0xbeb")]=function(x){var e=x.target[_0x1d97("0xbf0")];e?(e[_0x1d97("0xf1")][_0x1d97("0x535")]==d&&e[_0x1d97("0x2a5")](),e[_0x1d97("0x53c")]()):_()}})),e=new(r[_0x1d97("0x1c")])((function(_){x.transaction(_0x1d97("0xee9"),_0x1d97("0xbea"))[_0x1d97("0xbef")](_0x1d97("0xee9")).openCursor()[_0x1d97("0xbeb")]=function(x){var e=x[_0x1d97("0x27e")].result;e?(e.value[_0x1d97("0x535")]==d&&e[_0x1d97("0x2a5")](),e[_0x1d97("0x53c")]()):_()}})),t=new(r[_0x1d97("0x1c")])((function(_){x[_0x1d97("0xbee")]("bimSets",_0x1d97("0xbea")).objectStore("bimSets")[_0x1d97("0xbf8")]().onsuccess=function(x){var e=x[_0x1d97("0x27e")][_0x1d97("0xbf0")];e?(e[_0x1d97("0xf1")][_0x1d97("0x535")]==d&&e.delete(),e.continue()):_()}}));return r[_0x1d97("0x1c")][_0x1d97("0x203")]([_,e,t])}},{key:_0x1d97("0x125b"),value:function(){var x=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x41")],d=this[_0x1d97("0x38")][_0x1d97("0xa7a")],_=x+"/"+d+"/"+d+"-bimset.bin";return new(r[_0x1d97("0x1c")])((function(x,d){c[_0x1d97("0x1c")][_0x1d97("0x35c")]({url:_})[_0x1d97("0x356")]((function(d){x(d)}))[_0x1d97("0x245")](d)}))}},{key:_0x1d97("0x125d"),value:function(x,d,_){var e=this.map.options.mapDataSrc,t=this[_0x1d97("0x38")].options[_0x1d97("0x213")],a=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x212")],i=window[_0x1d97("0x72")].href,n=this.map.id,r=void 0;if(e[_0x1d97("0xd7")](_0x1d97("0xd9"))<0)if(e[_0x1d97("0x1260")]("/"))r=""+window[_0x1d97("0x72")][_0x1d97("0x1261")]+e+"/"+n+"/"+n+"-bim"+x+".bin";else{var s=i[_0x1d97("0x2a9")]("/"),o=i[_0x1d97("0x198")](0,s);o[_0x1d97("0x2a9")]("#")>-1&&(o=o[_0x1d97("0x198")](0,o[_0x1d97("0x2a9")]("#"))),r=o+"/"+e+"/"+n+"/"+n+_0x1d97("0x1262")+x+_0x1d97("0x1263")}else r=e+"/"+n+"/"+n+_0x1d97("0x1262")+x+_0x1d97("0x1263");r=r.replace(/\/+/g,"/"),this.scene[_0x1d97("0x14b")].modelWorker[_0x1d97("0xedf")]({messageType:2,url:r,mapDataSrc:e,mapid:n,sceneX:this.scene.sceneX_,sceneZ:this[_0x1d97("0x305")][_0x1d97("0x19a")],datas:this.queues,controlIndex:x,useCache:d,useIDB:_,mergeMode:a,devMode:t},this[_0x1d97("0x4b")])}},{key:"getDesFromNlist",value:function(x){for(var d={},_=this[_0x1d97("0xee9")][_0x1d97("0x1264")],e=0;e<x.length;e++){var t=x[e][_0x1d97("0x28")]("-"),a=_[t[0]],i=_[t[1]];d[a]=i}return d}},{key:_0x1d97("0x9e7"),value:function(x){if(!this[_0x1d97("0xee9")])return null;var d=this.bimInfos[_0x1d97("0x1265")],_=this[_0x1d97("0xee9")].cates;for(var e in d){var t=d[e];if(x==t[_0x1d97("0x1266")]){var a=t[_0x1d97("0x2ac")],i={};for(var n in a){var r=_[n];r||(r=n);var s=a[n][_0x1d97("0x1267")],o=this.getDesFromNlist(s);i[r]=o}return{bimid:t[_0x1d97("0x1266")],infoList:i,uuid:t[_0x1d97("0x3d9")]}}}return null}},{key:_0x1d97("0x1268"),value:function(){var x=this[_0x1d97("0x1243")];for(var d in x){var _=x[d];for(var e in _)for(var t=_[e],a=0;a<t.length;a++){var i=t[a],n=this[_0x1d97("0x9e7")](i.id);this[_0x1d97("0x9e5")][i.id]=n,n?(t[a][_0x1d97("0x3d9")]=n.uuid,t[a][_0x1d97("0x9e8")]=n.infoList,t[a][_0x1d97("0x126a")]=n.bimid):console[_0x1d97("0x246")](_0x1d97("0x1269")+i.id)}}}},{key:_0x1d97("0x126b"),value:function(x){this[_0x1d97("0xee9")]=x[_0x1d97("0x35d")]}},{key:_0x1d97("0x1251"),value:function(x){var d=x.data,_=this[_0x1d97("0x4b")].id,e=this[_0x1d97("0x4b")][_0x1d97("0x66")];for(var t in this[_0x1d97("0xe7")]||(this[_0x1d97("0xe7")]=x[_0x1d97("0xe7")]),d){var a=d[t];for(var i in a)for(var n=a[i],r=0;r<n[_0x1d97("0x0")];r++){var s=n[r];if(s)for(var o=0;o<s.length;o++){var c,l=new(THREE[_0x1d97("0x150")]),u=s[o],f=u[_0x1d97("0x126d")][0].id,h=u[_0x1d97("0xb6")],b=u.uv,g=u[_0x1d97("0x126d")],v=u.style,p=u[_0x1d97("0x2eb")];c=v;var m=new(THREE[_0x1d97("0x19b")]);m.setIndex(new(THREE[_0x1d97("0x1a1")])(p,1)),m[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(h,3)),m[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(b,2)),m[_0x1d97("0x126e")](),m[_0x1d97("0x126")](),m[_0x1d97("0x1a2")](0,m[_0x1d97("0x2eb")][_0x1d97("0xb7")],0),m[_0x1d97("0x11e")][_0x1d97("0x407")]=g;var A=this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x126f")](e,v,""),C=A[_0x1d97("0xdb")]();C[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(1,0,0);var I=[A,C],y=new(THREE[_0x1d97("0x14a")])(m,I);l.add(y),l[_0x1d97("0x11e")][_0x1d97("0x952")]=!0;var E=this.center,w=(new(THREE[_0x1d97("0x30b")])).setFromObject(l);l[_0x1d97("0x11e")][_0x1d97("0x315")]={box3:w};var T=w[_0x1d97("0x317")].y-w[_0x1d97("0x318")].y,k=this[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")],S=this[_0x1d97("0x1244")][f],M=S.offset[_0x1d97("0x28")](","),R=new(THREE[_0x1d97("0xe0")])(E.x+1*M[0],0+1*M[1],E.z+1*M[2]),L={};L.position=R,L[_0x1d97("0x31e")]=T*S[_0x1d97("0x237")].y+L[_0x1d97("0xb6")].y-T/2,L[_0x1d97("0x1270")]=!0,L.RoomStyle=1*c,L.dataID=S.dataID,L[_0x1d97("0xb8b")]=S[_0x1d97("0xb8b")],L[_0x1d97("0xc7")]=esmap[_0x1d97("0xea")].MODEL3D,L.ID=f,L.id=f,L.name=S.name,L[_0x1d97("0x23f")]=1*i,L[_0x1d97("0xe5")]=_,L.o3d_=l,L.rotate=S[_0x1d97("0x4a4")],L.scale=S[_0x1d97("0x237")],L[_0x1d97("0x113")]=S[_0x1d97("0x113")],L[_0x1d97("0x3cb")]=this[_0x1d97("0x38")][_0x1d97("0x23d")](R),k&&(L.bclick=1);var H=[L];l.datas_={bid:_,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:i,model:t,brothers:H,o3d_:l};var D=L[_0x1d97("0xb8b")];l[_0x1d97("0xb8")]=_0x1d97("0xb9"),this[_0x1d97("0x94c")][i][_0x1d97("0xdc")](l),D&&this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](l,_)}else console[_0x1d97("0x3fb")](t+_0x1d97("0x126c"))}}this.loadedCount++}},{key:_0x1d97("0x1250"),value:function(x){var d=x[_0x1d97("0x35d")],_=this[_0x1d97("0x4b")].id,e=this[_0x1d97("0x4b")][_0x1d97("0x66")];for(var t in this[_0x1d97("0xe7")]||(this[_0x1d97("0xe7")]=x[_0x1d97("0xe7")]),d){var i=d[t];for(var n in i){for(var r=i[n],s=new THREE.Object3D,o=0,c=0;c<r[_0x1d97("0x0")];c++){var l=r[c];if(l)for(var u=0;u<l.length;u++){var f=l[u],h=f[_0x1d97("0xb6")],b=f.uv,g=f[_0x1d97("0x126d")],v=f.style,p=f[_0x1d97("0x2eb")];o=v;var m=new THREE.BufferGeometry;m[_0x1d97("0x406")](new(THREE[_0x1d97("0x1a1")])(p,1)),m[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(h,3)),m[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(b,2)),m.computeVertexNormals(),m.computeBoundingSphere(),m.addGroup(0,m[_0x1d97("0x2eb")][_0x1d97("0xb7")],0),m[_0x1d97("0x11e")][_0x1d97("0x407")]=g;var A=this[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x126f")](e,v,""),C=A[_0x1d97("0xdb")]();C[_0x1d97("0x100")]=new(THREE[_0x1d97("0x101")])(1,0,0);var I=[A,C],y=new(THREE[_0x1d97("0x14a")])(m,I);s[_0x1d97("0xdc")](y)}else console[_0x1d97("0x3fb")](t+_0x1d97("0x126c"))}var E=this[_0x1d97("0x1243")][t][n],w=this.center,T=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](s);s.userData[_0x1d97("0x952")]=!0,s[_0x1d97("0x11e")][_0x1d97("0x315")]={box3:T};var k=T.max.y-T[_0x1d97("0x318")].y,S=this.map[_0x1d97("0x35")][_0x1d97("0x20f")];E=E[_0x1d97("0x38")]((function(x){return(0,a[_0x1d97("0x1c")])({},x)}));for(var M=0;M<E[_0x1d97("0x0")];M++){var R=this.allDataMap[E[M].id],L=R[_0x1d97("0x113")][_0x1d97("0x28")](","),H=new(THREE[_0x1d97("0xe0")])(w.x+1*L[0],0+1*L[1],w.z+1*L[2]);E[M][_0x1d97("0xb6")]=H,E[M][_0x1d97("0x31e")]=k*R[_0x1d97("0x237")].y+E[M][_0x1d97("0xb6")].y-k/2,E[M][_0x1d97("0x1270")]=!0,E[M][_0x1d97("0x573")]=1*o,E[M].dataID=R[_0x1d97("0x58a")],E[M][_0x1d97("0xb8b")]=R[_0x1d97("0xb8b")],E[M][_0x1d97("0xb8")]=R[_0x1d97("0xb8")],E[M][_0x1d97("0xc7")]=esmap[_0x1d97("0xea")][_0x1d97("0x221")],E[M].ID=E[M].id,E[M][_0x1d97("0x23f")]=1*n,E[M][_0x1d97("0xe5")]=_,E[M][_0x1d97("0x3cb")]=this.map[_0x1d97("0x23d")](H),S&&(E[M][_0x1d97("0xb8b")]=1)}s[_0x1d97("0xa2")]={bid:_,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:n,model:t,brothers:E,o3d_:s};var D=E[0][_0x1d97("0xb8b")];s.name=_0x1d97("0xb9"),this.layers[n][_0x1d97("0xdc")](s),D&&this[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](s,_)}}this[_0x1d97("0x1247")]++}},{key:"addToQueue",value:function(x){this[_0x1d97("0x1243")][x[_0x1d97("0x223")]]||(this[_0x1d97("0x1243")][x.model]={}),this.queues[x.model][x[_0x1d97("0xe8")]]||(this[_0x1d97("0x1243")][x.model][x[_0x1d97("0xe8")]]=[]),x[_0x1d97("0x4a4")]||(x[_0x1d97("0x4a4")]=_0x1d97("0xc58"));var d={x:1,y:1,z:1};x[_0x1d97("0x237")]&&(d.x=x[_0x1d97("0x237")].x,d.y=x[_0x1d97("0x237")].y,d.z=x[_0x1d97("0x237")].z),this[_0x1d97("0x1243")][x.model][x[_0x1d97("0xe8")]][_0x1d97("0x1")]({id:x.id,offset:x[_0x1d97("0x113")],rotate:x[_0x1d97("0x4a4")],scale:d,center:{x:x.x,y:x.y}}),this[_0x1d97("0x1244")][x.id]=x}},{key:_0x1d97("0x1271"),value:function(x){var d=this;return new(r[_0x1d97("0x1c")])((function(_,e){var t=window[_0x1d97("0xbf2")][_0x1d97("0x303")](x.db,x[_0x1d97("0x71")]);t[_0x1d97("0xbeb")]=function(){d.db=t.db,_(!0)},t[_0x1d97("0x509")]=function(){var x=t[_0x1d97("0xc04")];console[_0x1d97("0x245")](x),e(!1)},t[_0x1d97("0xbff")]=function(d){var _=d[_0x1d97("0x27e")].result;_[_0x1d97("0xc01")][_0x1d97("0x3b0")]("bimDatas")&&_.deleteObjectStore(_0x1d97("0x1259")),_[_0x1d97("0xc01")].contains(_0x1d97("0xee9"))&&_[_0x1d97("0xc00")]("bimInfos"),_[_0x1d97("0xc01")][_0x1d97("0x3b0")](_0x1d97("0x1258"))&&_[_0x1d97("0xc00")]("bimSets");for(var e=0;e<x[_0x1d97("0x125a")].length;e++){var t=x[_0x1d97("0x125a")][e];if("bimDatas"==t)_[_0x1d97("0xc02")](t,{keyPath:"id"})[_0x1d97("0x53b")]("myIndex",["bids",_0x1d97("0x1272")],{unique:!1});else if(t==_0x1d97("0x1258")){_.createObjectStore(t,{keyPath:"id"}).createIndex(_0x1d97("0x1273"),[_0x1d97("0x535")],{unique:!0})}else if(t==_0x1d97("0xee9")){_[_0x1d97("0xc02")](t,{keyPath:_0x1d97("0x535")})[_0x1d97("0x53b")](_0x1d97("0x1273"),[_0x1d97("0x535")],{unique:!0})}}}}))}},{key:_0x1d97("0xbe1"),value:function(x){return new(r[_0x1d97("0x1c")])((function(d,_){var e=window[_0x1d97("0xbf2")][_0x1d97("0x303")](x.db,x[_0x1d97("0x71")]);e[_0x1d97("0xbff")]=function(x){var d=x.target[_0x1d97("0xbf0")],_=x[_0x1d97("0x27e")].transaction;d[_0x1d97("0xc01")][_0x1d97("0x3b0")](_0x1d97("0x1259"))?_[_0x1d97("0xbef")](_0x1d97("0x1259"))[_0x1d97("0x5f5")]():d[_0x1d97("0xc02")](_0x1d97("0x1259"),{keyPath:"id"}).createIndex("myIndex",[_0x1d97("0x535"),_0x1d97("0x1272")],{unique:!1});d[_0x1d97("0xc01")][_0x1d97("0x3b0")](_0x1d97("0xee9"))?_[_0x1d97("0xbef")](_0x1d97("0xee9"))[_0x1d97("0x5f5")]():d[_0x1d97("0xc02")](_0x1d97("0xee9"),{keyPath:_0x1d97("0x535")}).createIndex(_0x1d97("0x1273"),[_0x1d97("0x535")],{unique:!0});d[_0x1d97("0xc01")].contains(_0x1d97("0x1258"))?_[_0x1d97("0xbef")](_0x1d97("0x1258"))[_0x1d97("0x5f5")]():d[_0x1d97("0xc02")]("bimSets",{keyPath:"id"})[_0x1d97("0x53b")](_0x1d97("0x1273"),[_0x1d97("0x535")],{unique:!0})},e[_0x1d97("0xbeb")]=function(){var x=e[_0x1d97("0xbf0")];d(x)},e.onerror=function(){var x=e[_0x1d97("0xc04")];console[_0x1d97("0x245")](_0x1d97("0xc05"),x),d(!1)}}))}},{key:"printDataSize",value:function(){var x,d=function(x){return new(r[_0x1d97("0x1c")])((function(d){var a,i=indexedDB[_0x1d97("0x303")](x);i[_0x1d97("0x509")]=function(x){alert(_0x1d97("0x1275"))},i[_0x1d97("0xbeb")]=function(x){a=x[_0x1d97("0x27e")][_0x1d97("0xbf0")],function(x,e){var a=x[_0x1d97("0xc5")]((function(x,d){return x.push(function(x,d){var _=this;return new(r[_0x1d97("0x1c")])((function(e,a){if(null==x)return a();var i=0,n=(x=event[_0x1d97("0x27e")][_0x1d97("0xbf0")])[_0x1d97("0xbee")]([d]).objectStore(d).openCursor();n[_0x1d97("0xbeb")]=function(x){var d=x.target[_0x1d97("0xbf0")];if(d){var _=d[_0x1d97("0xf1")],a=(0,t[_0x1d97("0x1c")])(_);i+=a[_0x1d97("0x0")],d[_0x1d97("0x53c")]()}else e(i)}.bind(_),n[_0x1d97("0x509")]=function(x){a(_0x1d97("0x1274")+d+": "+x)}}))}(e,d)),x}),[]);r[_0x1d97("0x1c")][_0x1d97("0x203")](a)[_0x1d97("0x2fd")]((function(d){console[_0x1d97("0x246")](_0x1d97("0x1276")+e[_0x1d97("0xb8")]+_0x1d97("0x1277")),x[_0x1d97("0x1d")]((function(x,e){console[_0x1d97("0x246")](" - "+x+_0x1d97("0x1278")+_(d[e]))}));var t=d[_0x1d97("0xc5")]((function(x,d){return x+d}),0);console[_0x1d97("0x246")](_0x1d97("0x1279")+_(t))}))[_0x1d97("0x2fd")](d)}([][_0x1d97("0x1de")]((0,e[_0x1d97("0x1c")])(a.objectStoreNames)),a)}}))},_=function(x){var d=1024;if(Math.abs(x)<d)return x+" B";var _=["KB","MB","GB","TB","PB","EB","ZB","YB"],e=-1;do{x/=d,++e}while(Math[_0x1d97("0x253")](x)>=d&&e<_[_0x1d97("0x0")]-1);return x[_0x1d97("0x55f")](1)+" "+_[e]},a=(x=(0,n[_0x1d97("0x1c")])(i[_0x1d97("0x1c")][_0x1d97("0x2a6")]((function x(){var _=this;return i[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x[_0x1d97("0x2e3")]=x.next){case 0:return console[_0x1d97("0x255")](_0x1d97("0x127a")),x[_0x1d97("0x2a8")]=3,indexedDB[_0x1d97("0x127b")]()[_0x1d97("0x2fd")](function(){var x=(0,n[_0x1d97("0x1c")])(i.default[_0x1d97("0x2a6")]((function x(e){var t;return i[_0x1d97("0x1c")].wrap((function(x){for(;;)switch(x.prev=x.next){case 0:t=0;case 1:if(!(t<e[_0x1d97("0x0")])){x.next=7;break}return x[_0x1d97("0x2a8")]=4,d(e[t].name);case 4:t++,x[_0x1d97("0x2a8")]=1;break;case 7:case _0x1d97("0x2c4"):return x.stop()}}),x,_)})));return function(d){return x.apply(this,arguments)}}());case 3:console[_0x1d97("0x127c")](_0x1d97("0x127a"));case 4:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return x[_0x1d97("0x5")](this,arguments)});a()}}]),x}();d[_0x1d97("0x1c")]=u},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=c(_(12)),t=c(_(13)),a=c(_(28)),i=c(_(0)),n=c(_(1)),r=_(31),s=c(_(103)),o=(_(56),c(_(23)));function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=null,u=function(){function x(d){(0,i.default)(this,x),this.building=d;var _=d[_0x1d97("0x38")][_0x1d97("0x16c")];this[_0x1d97("0x305")]=_,this[_0x1d97("0xef2")]={},this[_0x1d97("0xef1")]={},this[_0x1d97("0x8dc")]={},this.modelLineLayers={},this[_0x1d97("0x8db")]={},this[_0x1d97("0x8e0")]={},this[_0x1d97("0x8e1")]={},this.modelMats={},this[_0x1d97("0x8e4")]={},this[_0x1d97("0x8dd")]=[],this[_0x1d97("0x8de")]=[],this.modelManagerStarted=!1;this[_0x1d97("0x305")][_0x1d97("0x38")].on("scaleLevelChanged",(function(x){x[_0x1d97("0x127d")]}))}return(0,n[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x127e"),value:function(x){var d=this;for(var _ in d.dynamicShows)if(x>=1*_){if(d[_0x1d97("0x8e4")][_][_0x1d97("0xf0")]){for(var e=d.dynamicShows[_][_0x1d97("0x8e5")],t=function(x){var _=e[x][_0x1d97("0x223")][_0x1d97("0xa5")],t=_[_0x1d97("0x410")];_[_0x1d97("0x11e")][_0x1d97("0x410")]=t,_[_0x1d97("0x411")]();var a=e[x][_0x1d97("0x127f")],i=[];a[_0x1d97("0x1d")]((function(x){i=d.scene[_0x1d97("0x38")][_0x1d97("0x1206")](x[0],x[1],t),t=i})),i.forEach((function(x){_[_0x1d97("0x1a2")](x.start,x[_0x1d97("0xb7")],x[_0x1d97("0x412")])}));var n=new THREE.MeshBasicMaterial;n[_0x1d97("0xf0")]=!1,e[x][_0x1d97("0x223")].material[100]=n},a=0;a<e[_0x1d97("0x0")];a++)t(a);d[_0x1d97("0x8e4")][_][_0x1d97("0xf0")]=!1}}else if(!d[_0x1d97("0x8e4")][_].visible){var i=d[_0x1d97("0x8e4")][_].queue,n=function(x){var d=i[x][_0x1d97("0x223")].geometry;if(!d[_0x1d97("0x11e")][_0x1d97("0x410")])return _0x1d97("0x53c");d.clearGroups(),d.userData[_0x1d97("0x410")][_0x1d97("0x1d")]((function(x){d[_0x1d97("0x1a2")](x[_0x1d97("0x1c1")],x.count,x[_0x1d97("0x412")])}))};for(a=0;a<i[_0x1d97("0x0")];a++)n(a);d[_0x1d97("0x8e4")][_].visible=!0}}},{key:_0x1d97("0x1280"),value:function(x){var d=this.scene,_=this.building,e=x[_0x1d97("0x580")],t=x.fnum,a=d.mapTheme_,i=_[_0x1d97("0x1209")](t),n=d[_0x1d97("0x1046")][t],r=x[_0x1d97("0x410")],s=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0xf8e")]);_[_0x1d97("0x6a")]>=100&&(s[_0x1d97("0xf0")]=!1),i[_0x1d97("0xdc")](s[_0x1d97("0xa3")]);var o=Math.max(d.map[_0x1d97("0x2aa")].sourceData[_0x1d97("0x44d")]-d[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x165")][_0x1d97("0x449")],d[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0x165")][_0x1d97("0x44e")]-d.map[_0x1d97("0x2aa")][_0x1d97("0x165")][_0x1d97("0x44c")]);for(var c in o>1e3&&o/300,e){var l=a[_0x1d97("0xe2c")][t];null==l&&(l=a.floorStyleBase[0]);var u=a[_0x1d97("0xdf6")],f=d[_0x1d97("0x183")][_0x1d97("0xdf7")],h=null,b=null;l&&((l[_0x1d97("0x100")]||0===l[_0x1d97("0x100")])&&(u=l.color),(l.opacity||0===l.opacity)&&(f=l.opacity),l[_0x1d97("0x173")]&&(h=l[_0x1d97("0x173")],b=l.imagesize)),n[_0x1d97("0x173")]&&(h=n[_0x1d97("0x173")],b=n[_0x1d97("0xd57")]);var g=new THREE.BufferGeometry;g.addAttribute(_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x9d5")],3)),g[_0x1d97("0x1a0")]("normal",new(THREE[_0x1d97("0x1a1")])(x.normals,3)),g[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1281")],2)),g[_0x1d97("0x1a0")]("floorUvs",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1282")],2));var v=new(THREE[_0x1d97("0x343")])({color:u,transparent:1*f!=1,opacity:f}),p=new THREE.MeshBasicMaterial({color:u,transparent:1*f!=1,opacity:f}),m=new(THREE[_0x1d97("0x14a")])(g,[v]);m[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI/2,0,0,"XYZ"),m.position[_0x1d97("0x789")](esmap.ESMapConfiguration[_0x1d97("0x1283")]),m.renderOrder=10,m.datas_={floor:t,FloorNum:t,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x9ee")],o3d_:m,bid:_.id,bType:2};var A=[],C=0;if(r[0].forEach((function(x){var d=0;x.forEach((function(x){A.push({start:x.start+C,count:x[_0x1d97("0xb7")],materialIndex:x[_0x1d97("0x412")]}),d+=x[_0x1d97("0xb7")]})),C+=d})),h&&h[_0x1d97("0x0")]>1){var I=b.split(","),y=[Number(I[0]),Number(I[1])];m[_0x1d97("0xa7")]=[p];var E=m[_0x1d97("0xa7")][0],w=E[_0x1d97("0xdb")]();try{var T;!function(){var x=function(x,_){var e=_[_0x1d97("0xe3e")].map[_0x1d97("0xdb")]();e[_0x1d97("0x141")]=e[_0x1d97("0x143")]=THREE[_0x1d97("0x142")],e[_0x1d97("0x13e")]=d[_0x1d97("0x38")][_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0xc0a")][_0x1d97("0xc0b")](),e[_0x1d97("0x795")]=1006,e[_0x1d97("0x13f")]=1008;var t=d[_0x1d97("0x38")].floorEdges[x],a=(t[_0x1d97("0xaa")]-t[_0x1d97("0xad")])/2+t[_0x1d97("0xad")],i=(t[_0x1d97("0xab")]-t.miny)/2+t.miny;Math[_0x1d97("0x253")](a),Math[_0x1d97("0x253")](d[_0x1d97("0x199")]),d[_0x1d97("0x19a")];Math[_0x1d97("0x253")](d[_0x1d97("0x199")]),Math[_0x1d97("0x253")](d.sceneZ_);var n=I[2]*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")];e[_0x1d97("0x113")][_0x1d97("0x11b")](0,0),e[_0x1d97("0xe7")].set(.5,.5),e[_0x1d97("0x112")][_0x1d97("0x11b")](y[0],y[1]),e.rotation=isNaN(n)?0:n,E.map=e,E[_0x1d97("0x100")][_0x1d97("0x11b")](16777215),e[_0x1d97("0x13b")]=!0,E[_0x1d97("0x13b")]=!0;var r=[E,w];A[_0x1d97("0x1d")]((function(x){g[_0x1d97("0x1a2")](x.start,x[_0x1d97("0xb7")],x[_0x1d97("0x412")])})),m[_0x1d97("0xa7")]=r},_=h[_0x1d97("0x106")](".png",""),e=a[_0x1d97("0x1284")][_][_0x1d97("0xe3e")];if(T=e?e[_0x1d97("0x38")]:null,!(e&&T&&T.image))throw d[_0x1d97("0x38")].on(_0x1d97("0x1285"),(function(d){d.id==_&&x(t,d)})),new Error("texture lost");x(t,{material_:e})}()}catch(x){g[_0x1d97("0x411")](),g[_0x1d97("0x1a2")](0,g[_0x1d97("0xb5")].position[_0x1d97("0xb7")],0)}}else g[_0x1d97("0x1a2")](0,g[_0x1d97("0xb5")].position[_0x1d97("0xb7")],0);g[_0x1d97("0x11e")].groups=A,s.o3d_[_0x1d97("0xdc")](m),d.map[_0x1d97("0x146")][_0x1d97("0x1286")](m),d.map[_0x1d97("0x924")](_0x1d97("0x1226"),{fnum:t,type:"extent"})}_[_0x1d97("0xb7e")][t][_0x1d97("0x4e3")]--,_[_0x1d97("0x15f")](t),x[_0x1d97("0xefd")]=null,x[_0x1d97("0x1281")]=null,x[_0x1d97("0xef5")]=null,x[_0x1d97("0x9d5")]=null,x.types=null,x=null}},{key:_0x1d97("0xeec"),value:function(x){var d=this[_0x1d97("0x4b")],_=this[_0x1d97("0x305")],e=d.id,t=d[_0x1d97("0x66")],a=_[_0x1d97("0x183")].themeList[t],i=x[_0x1d97("0x580")],n=x[_0x1d97("0xe8")],r=d.getO3dFloor(n),s=d[_0x1d97("0x1046")][n],c=(d[_0x1d97("0x35")][_0x1d97("0x67")],x[_0x1d97("0x410")]),l=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].FLOOR_BASE);r[_0x1d97("0xdc")](l[_0x1d97("0xa3")]),d.type>=100&&(l[_0x1d97("0xf0")]=!1);var u,f=d.sourceData,h=_[_0x1d97("0x38")][_0x1d97("0x35")].hideFloorBase,b=Math[_0x1d97("0x317")](f[_0x1d97("0x44d")]-f.minX,f[_0x1d97("0x44e")]-f[_0x1d97("0x44c")]),g=0;for(var v in b>1e3&&(g=b/300),_[_0x1d97("0x38")].on(_0x1d97("0x1287"),(function(x){var d=-x/2.95*g;l[_0x1d97("0xa3")]&&(l.o3d_[_0x1d97("0xb6")].y=d)})),i){var p=a[_0x1d97("0xe2c")][n];null==p&&(p=a[_0x1d97("0xe2c")][0]);var m=a[_0x1d97("0xdf6")],A=_.mapTheme_[_0x1d97("0xdf7")],C=null,I=null;p&&((p[_0x1d97("0x100")]||0===p[_0x1d97("0x100")])&&(m=p.color),(p.opacity||0===p[_0x1d97("0xe2")])&&(A=p[_0x1d97("0xe2")]),p[_0x1d97("0x173")]&&(C=p[_0x1d97("0x173")],I=p.imagesize)),s[_0x1d97("0x173")]&&(C=s[_0x1d97("0x173")],I=s[_0x1d97("0xd57")]);var y=new(THREE[_0x1d97("0x19b")]);y[_0x1d97("0x1a0")]("position",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x9d5")],3)),y[_0x1d97("0x1a0")](_0x1d97("0xf9"),new THREE.BufferAttribute(x[_0x1d97("0xefd")],3)),y[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1281")],2)),y[_0x1d97("0x1a0")](_0x1d97("0x1282"),new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1282")],2));var E=new(THREE[_0x1d97("0x343")])({color:m,transparent:1*A!=1,opacity:A}),w=new(THREE[_0x1d97("0x14a")])(y,[E]);w[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI/2,0,0,_0x1d97("0x3e5")),w[_0x1d97("0xb6")][_0x1d97("0x789")](esmap[_0x1d97("0x4dd")][_0x1d97("0x1283")]),w[_0x1d97("0x234")]=10,w[_0x1d97("0xa2")]={floor:n,FloorNum:n,bid:e,nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x9ee")],bType:2},h&&(E[_0x1d97("0xf0")]=!1);var T=[],k=0;if(c[0][_0x1d97("0x1d")]((function(x){var d=0;x[_0x1d97("0x1d")]((function(x){T[_0x1d97("0x1")]({start:x[_0x1d97("0x1c1")]+k,count:x[_0x1d97("0xb7")],materialIndex:x[_0x1d97("0x412")]}),d+=x[_0x1d97("0xb7")]})),k+=d})),C&&C[_0x1d97("0x0")]>1){var S=I[_0x1d97("0x28")](","),M=[Number(S[0]),Number(S[1])],R=w[_0x1d97("0xa7")][0],L=R.clone();try{u=void 0,u=o[_0x1d97("0x1c")][_0x1d97("0x531")](_0x1d97("0x52"),{themeID:t,filename:C}),esmap[_0x1d97("0x75")][_0x1d97("0x4e0")](u,(function(x){!function(x,e){e[_0x1d97("0x141")]=e.wrapT=THREE.RepeatWrapping,e[_0x1d97("0x13e")]=_.map[_0x1d97("0x16d")][_0x1d97("0x5e8")][_0x1d97("0xc0a")][_0x1d97("0xc0b")](),e[_0x1d97("0x795")]=1006,e[_0x1d97("0x13f")]=1008;var t=d.floorEdges[x],a=(t[_0x1d97("0xaa")]-t[_0x1d97("0xad")])/2+t.minx,i=(t.maxy,t[_0x1d97("0xae")],t[_0x1d97("0xae")],d[_0x1d97("0x165")][_0x1d97("0x8f7")]),n=d[_0x1d97("0x165")].DefaultCenY;Math.abs(a),Math[_0x1d97("0x253")](i),Math[_0x1d97("0x253")](i),Math.abs(n);var r=S[2]*THREE.Math[_0x1d97("0x56c")];e[_0x1d97("0x113")].set(0,0),e[_0x1d97("0xe7")].set(.5,.5),e[_0x1d97("0x112")][_0x1d97("0x11b")](M[0],M[1]),e.rotation=isNaN(r)?0:r,R.map=e,R[_0x1d97("0x100")][_0x1d97("0x11b")](16777215),e[_0x1d97("0x13b")]=!0,R[_0x1d97("0x13b")]=!0;var s=[R,L];T.forEach((function(x){y[_0x1d97("0x1a2")](x[_0x1d97("0x1c1")],x[_0x1d97("0xb7")],x[_0x1d97("0x412")])})),h&&(s[_0x1d97("0xf0")]=!1),w[_0x1d97("0xa7")]=s}(n,x)}),null,(function(){y[_0x1d97("0x411")](),y[_0x1d97("0x1a2")](0,y.attributes.position[_0x1d97("0xb7")],0)}))}catch(x){y[_0x1d97("0x411")](),y[_0x1d97("0x1a2")](0,y.attributes.position[_0x1d97("0xb7")],0)}}else y[_0x1d97("0x1a2")](0,y[_0x1d97("0xb5")].position[_0x1d97("0xb7")],0);y[_0x1d97("0x11e")][_0x1d97("0x410")]=T,l.o3d_[_0x1d97("0xdc")](w),!_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb83")]&&_.map.mapPicker[_0x1d97("0x188")](w,e),_[_0x1d97("0x38")][_0x1d97("0x1d9")](_0x1d97("0x1226"),{fnum:n,type:_0x1d97("0x1288")})}d.toLoaded[n][_0x1d97("0x4e3")]--,d[_0x1d97("0x15f")](n),x[_0x1d97("0xefd")]=null,x[_0x1d97("0x1281")]=null,x[_0x1d97("0xef5")]=null,x.vertices=null,x[_0x1d97("0x580")]=null,x=null}},{key:"mergeExcludes",value:function(x){for(var d=0;d<x[_0x1d97("0x0")];d++){var _=x[d],e=x[d+1];e&&_[1]==e[0]&&(x[d][1]=e[1],x[_0x1d97("0x189")](d+1,1),d--)}}},{key:_0x1d97("0x1289"),value:function(x){var d=this,_=this[_0x1d97("0x305")],e=x[_0x1d97("0xe8")],t=this[_0x1d97("0x4b")],i=t.id,n=t.themeID,s=(_.mapTheme_[_0x1d97("0x987")][n],x[_0x1d97("0xeeb")]),o=null,c=x.groups,l=t[_0x1d97("0x1209")](e);if(x[_0x1d97("0x580")]&&l){if(s)if(this[_0x1d97("0xef2")][e])o=this[_0x1d97("0xef2")][e];else{var u=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0x574")],{});this[_0x1d97("0xef2")][e]=u,l[_0x1d97("0xdc")](u[_0x1d97("0xa3")]),o=u}else if(this.baseLayers[e])o=this[_0x1d97("0xef1")][e];else{var f=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].MODEL_BASE,{});this[_0x1d97("0xef1")][e]=f,l[_0x1d97("0xdc")](f[_0x1d97("0xa3")]),o=f}if(o[_0x1d97("0xa3")]){var h=t[_0x1d97("0x165")],b=h[_0x1d97("0xc82")]<32503514?h[_0x1d97("0xc82")]:h[_0x1d97("0xc82")]/1e3;if(!((new Date).getTime()>1e6*b)){var g=x[_0x1d97("0x580")],v=x.showBase,p=0,m={points:x.pointGeometrys,types:{},fnum:e},A=[];for(var C in g){var I=g[C],y=c[C];if(I){var E=C;if(0!=I.brothers[_0x1d97("0x0")]||I[_0x1d97("0x820")]||I[_0x1d97("0x128a")]){E=1==I.brothers.length?I[_0x1d97("0x33d")][0][_0x1d97("0x573")]:I[_0x1d97("0x820")]&&I[_0x1d97("0x820")][_0x1d97("0x33d")].length>0?I[_0x1d97("0x820")][_0x1d97("0x33d")][0][_0x1d97("0x573")]:I[_0x1d97("0x128a")]&&I.tubes[_0x1d97("0x33d")].length>0?I[_0x1d97("0x128a")][_0x1d97("0x33d")][0][_0x1d97("0x573")]:I.brothers[0][_0x1d97("0x573")];var w=_[_0x1d97("0x183")][_0x1d97("0x126f")](n,E,""),T={},k=_[_0x1d97("0x183")][_0x1d97("0xe37")](n,E);if(T.styleid=E,T[_0x1d97("0xef8")]=k,T.id=x[_0x1d97("0x128b")]?E:C,T.groupIndex=I.lineIndex,m[_0x1d97("0x580")][C]=T,I.lineIndex,0!=I[_0x1d97("0x33d")][_0x1d97("0x0")]){var S,M,R=[],L=new THREE.BufferGeometry,H=x.vertices.subarray(3*p,3*(p+I[_0x1d97("0xefc")])),D=x[_0x1d97("0xefd")].subarray(3*p,3*(I[_0x1d97("0xefc")]+p));x.isHideFlags&&(S=x[_0x1d97("0x951")][_0x1d97("0x4b4")](p,p+I.groupIndex)),x[_0x1d97("0x98b")]&&(M=x[_0x1d97("0x98b")][_0x1d97("0x4b4")](p,p+I[_0x1d97("0xefc")]));var P=x.uvs.subarray(2*p,2*(I[_0x1d97("0xefc")]+p));if(L[_0x1d97("0x1a0")](_0x1d97("0xb6"),new THREE.BufferAttribute(H,3)),L.addAttribute(_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(D,3)),L[_0x1d97("0x1a0")]("uv",new THREE.BufferAttribute(P,2)),S&&L.addAttribute(_0x1d97("0x951"),new(THREE[_0x1d97("0x1a1")])(S,1)),M&&L[_0x1d97("0x1a0")]("isSelectFlags",new THREE.BufferAttribute(M,1)),x[_0x1d97("0xf04")]){var O=x.normalizeUvs.subarray(2*p,2*(I[_0x1d97("0xefc")]+p));L[_0x1d97("0x1a0")](_0x1d97("0x4aa"),new(THREE[_0x1d97("0x1a1")])(O,2))}L[_0x1d97("0x11e")].groupInfo=y,R[_0x1d97("0x1")](w),w.name=_0x1d97("0x3a6"),p+=I[_0x1d97("0xefc")],_.map.options.mergeModels?L[_0x1d97("0x1a2")](0,L[_0x1d97("0xb5")][_0x1d97("0xb6")][_0x1d97("0xb7")],0):L[_0x1d97("0x1a2")](0,L[_0x1d97("0xb5")].position.count,0);var B=new(THREE[_0x1d97("0x14a")])(L,R);null!=_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]?_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]&&999==E&&(B[_0x1d97("0xf0")]=!1,B[_0x1d97("0xa5")].clearGroups(),B[_0x1d97("0xa5")][_0x1d97("0x808")][_0x1d97("0xb7")]=0):999!=E||_[_0x1d97("0x38")].options[_0x1d97("0x20f")]||(B[_0x1d97("0xf0")]=!1,B[_0x1d97("0xa5")][_0x1d97("0x411")](),B.geometry[_0x1d97("0x808")][_0x1d97("0xb7")]=0),B.userData[_0x1d97("0x128c")]=R[_0x1d97("0x0")]-1,B.rotation.set(Math.PI/2,0,0,_0x1d97("0x3e5")),B[_0x1d97("0xa2")]={FloorNum:e,brothers:I[_0x1d97("0x33d")],RoomStyle:E,o3d_:B,nodeType:esmap.ESNodeType.MODEL,bid:t.id,bType:2},B.name=E,_[_0x1d97("0x38")].options[_0x1d97("0x1e9")]||(B[_0x1d97("0xa2")][_0x1d97("0xb8")]=I[_0x1d97("0x33d")][0][_0x1d97("0xb8")],B[_0x1d97("0xa2")].RoomHigh=I[_0x1d97("0x33d")][0].RoomHigh,B[_0x1d97("0xa2")].ShowLevel=I[_0x1d97("0x33d")][0].ShowLevel,B[_0x1d97("0xa2")][_0x1d97("0xd04")]=I[_0x1d97("0x33d")][0][_0x1d97("0xd04")],B[_0x1d97("0xa2")].typeID=I[_0x1d97("0x33d")][0][_0x1d97("0x53a")],B.datas_[_0x1d97("0x3cb")]=I[_0x1d97("0x33d")][0][_0x1d97("0x3cb")]);var N={};I[_0x1d97("0x33d")].forEach((function(x){var e=_[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:_[_0x1d97("0x38")][_0x1d97("0x17b")],to:_[_0x1d97("0x38")].options[_0x1d97("0x1e7")],coord:x[_0x1d97("0x3cb")]});x.bType=2,x[_0x1d97("0xa3")]=B,x[_0x1d97("0x3cb")]=e;var t=L[_0x1d97("0x11e")].groupInfo[x.ID][1];x[_0x1d97("0x4b6")]=[t.start,t[_0x1d97("0x1c1")]+t[_0x1d97("0xb7")]],x[_0x1d97("0xd04")]>=3&&(d[_0x1d97("0x8e1")][x.ID]=B);var a=x[_0x1d97("0x187")];0!=a&&24!=a&&(N[a]||(N[a]={model:B,excludes:[]}),N[a].excludes.push(x.faceRange),d[_0x1d97("0x128d")](N[a].excludes))})),A[_0x1d97("0x1")](N),B[_0x1d97("0xa75")]=!1,B[_0x1d97("0x234")]=1==s?esmap[_0x1d97("0x12b")][_0x1d97("0x223")]:esmap.ESRenderOrder.model,o.o3d_[_0x1d97("0xdc")](B),(v||x[_0x1d97("0xeeb")])&&!_.map[_0x1d97("0x35")][_0x1d97("0xb83")]&&_[_0x1d97("0x38")].mapPicker[_0x1d97("0x188")](B,i)}var F=g[C][_0x1d97("0x820")];if(F&&0!=F[_0x1d97("0x33d")].length){var z=[w],j=[];F[_0x1d97("0x128e")][_0x1d97("0x1d")]((function(x){j[_0x1d97("0x1")](x.geometry)}));for(var U=r[_0x1d97("0x19e")][_0x1d97("0x19f")](j,!0),X=U.groups,Y=0;Y<X[_0x1d97("0x0")];Y++)X[Y][_0x1d97("0x412")]=0;U[_0x1d97("0x411")](),U[_0x1d97("0x1a2")](0,U[_0x1d97("0x2eb")][_0x1d97("0xb7")],0);var G=new(THREE[_0x1d97("0x14a")])(U,z);G[_0x1d97("0xb8")]=_0x1d97("0xdf"),G[_0x1d97("0x11e")][_0x1d97("0x128c")]=z[_0x1d97("0x0")]-1,G.rotation.set(Math.PI/2,0,0,_0x1d97("0x3e5")),G[_0x1d97("0x11e")][_0x1d97("0x410")]=X;for(var Q=0;Q<F[_0x1d97("0x33d")][_0x1d97("0x0")];Q++){var V=F[_0x1d97("0x33d")][Q];F[_0x1d97("0x33d")][Q].o3d_=G,V[_0x1d97("0xd04")]>=3&&(d.modelTextureMeshs[V.ID]=G,V[_0x1d97("0x4b6")]=[0,0]);var W=_[_0x1d97("0x38")][_0x1d97("0x1a6")]({from:_[_0x1d97("0x38")].coordSystem,to:_.map[_0x1d97("0x35")][_0x1d97("0x1e7")],coord:V[_0x1d97("0x3cb")]});V[_0x1d97("0x186")]=2,V[_0x1d97("0x3cb")]=W}G.datas_={FloorNum:e,bid:t.id,brothers:F[_0x1d97("0x33d")],o3d_:B,nodeType:esmap.ESNodeType[_0x1d97("0x574")],bType:2},G[_0x1d97("0xa75")]=!1,G.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x223")],null!=_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]?_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20d")]&&999==E&&(G.visible=!1,modelMmodelMesh2esh[_0x1d97("0xa5")][_0x1d97("0x411")](),G[_0x1d97("0xa5")].drawRange.count=0):999!=E||_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]||(G[_0x1d97("0xf0")]=!1,G.geometry.clearGroups(),G[_0x1d97("0xa5")][_0x1d97("0x808")][_0x1d97("0xb7")]=0),o[_0x1d97("0xa3")][_0x1d97("0xdc")](G),(v||x[_0x1d97("0xeeb")])&&!_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0xb83")]&&_[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")](G,i)}var Z=g[C].tubes;if(Z&&Z.brothers[_0x1d97("0x0")]>0){var J=[w],K=g[C].tubeData,q=new THREE.BufferGeometry;q.setIndex(new(THREE[_0x1d97("0x1a1")])(K[_0x1d97("0x2eb")][_0x1d97("0x19d")],1)),q.addAttribute("position",new(THREE[_0x1d97("0x1a1")])(K[_0x1d97("0xb5")][_0x1d97("0xb6")].array,3)),q[_0x1d97("0x1a0")](_0x1d97("0xf9"),new(THREE[_0x1d97("0x1a1")])(K[_0x1d97("0xb5")].normal[_0x1d97("0x19d")],3)),q[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(K.attributes.uv[_0x1d97("0x19d")],2)),q[_0x1d97("0x411")](),q[_0x1d97("0x1a2")](0,q[_0x1d97("0x2eb")][_0x1d97("0xb7")],0);for(var $=new(THREE[_0x1d97("0x14a")])(q,J),xx=0;xx<Z[_0x1d97("0x33d")][_0x1d97("0x0")];xx++)Z[_0x1d97("0x33d")][xx][_0x1d97("0xa3")]=$;$[_0x1d97("0xa2")]={name:"tube",nodeType:5,brothers:Z.brothers,o3d_:$,bid:t.id,bType:2},!_[_0x1d97("0x38")][_0x1d97("0x35")].disableIndoorClick&&_[_0x1d97("0x38")][_0x1d97("0x146")][_0x1d97("0x188")]($,i),o[_0x1d97("0xa3")][_0x1d97("0xdc")]($)}}}}var dx,_x,ex=_[_0x1d97("0x38")][_0x1d97("0xf6")][_0x1d97("0x987")][t.themeID][_0x1d97("0xdfe")];if(null!=t[_0x1d97("0x35")][_0x1d97("0xdfe")]&&(ex=t[_0x1d97("0x35")].modelLines),ex){var tx=this[_0x1d97("0x128f")](m,x[_0x1d97("0x128b")]);A[_0x1d97("0x1d")]((function(x){for(var _ in x)d[_0x1d97("0x8e4")][_]||(d[_0x1d97("0x8e4")][_]={queue:[],visible:!0}),x[_][_0x1d97("0x9a1")]=tx,d.dynamicShows[_][_0x1d97("0x8e5")][_0x1d97("0x1")](x[_])}))}if(!this[_0x1d97("0x8db")][e]){this[_0x1d97("0x8db")][e]={};var ax=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].MODEL_IMAGE,{});l[_0x1d97("0xdc")](ax[_0x1d97("0xa3")]);var ix=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")].MODEL3D);ix.name=_0x1d97("0x94b"),l[_0x1d97("0xdc")](ix.o3d_),this.toHandle[e][_0x1d97("0x1290")]=ax,this[_0x1d97("0x8db")][e].rmodellayer=ix,this.toHandle[e][_0x1d97("0xef7")]=[],this.toHandle[e][_0x1d97("0x8e0")]=[],this.toHandle[e].modelImageMeshs={},this.toHandle[e][_0x1d97("0x1291")]=[],this[_0x1d97("0x8e2")][e]=[]}if(x[_0x1d97("0x1292")])(dx=this.modelImageDatas)[_0x1d97("0x1")][_0x1d97("0x5")](dx,(0,a[_0x1d97("0x1c")])(x[_0x1d97("0x1292")]));if(x.bimModelData&&(this.toHandle[e][_0x1d97("0x1291")]=this.toHandle[e][_0x1d97("0x1291")][_0x1d97("0x1de")](x.bimModelData)),x.modelTexturesData)if(_[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x1e9")])(_x=this[_0x1d97("0x8de")]).push[_0x1d97("0x5")](_x,(0,a.default)(x[_0x1d97("0x1293")]));else this[_0x1d97("0x8de")][_0x1d97("0x1")](x[_0x1d97("0x1293")]);if(this.toHandle[e][_0x1d97("0xef7")]=this[_0x1d97("0x8db")][e].model3data.concat(x.model3DData),0!=x[_0x1d97("0x1294")][_0x1d97("0x0")]){var nx=new(THREE[_0x1d97("0x19b")]);nx[_0x1d97("0x1a0")]("position",new(THREE[_0x1d97("0x1a1")])(x.modelImagePos,3)),nx[_0x1d97("0x1a0")]("normal",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1295")],3)),nx[_0x1d97("0x1a0")]("uv",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0x1296")],2)),x[_0x1d97("0x1297")]&&nx[_0x1d97("0x1a0")](_0x1d97("0x951"),new(THREE[_0x1d97("0x1a1")])(x.modelImageHideFlags,1)),nx[_0x1d97("0x406")](new(THREE[_0x1d97("0x1a1")])(x.modelImageIndex,1)),nx[_0x1d97("0x11e")].groupInfo=x.modelImageGroupsCopy,x[_0x1d97("0x1298")][_0x1d97("0x0")]>0?x[_0x1d97("0x1298")][_0x1d97("0x1d")]((function(x){nx[_0x1d97("0x1a2")](x.start,x[_0x1d97("0xb7")],x[_0x1d97("0x412")])})):nx[_0x1d97("0x1a2")](0,x[_0x1d97("0x1299")][_0x1d97("0x0")],0),x[_0x1d97("0x128b")]?(nx.userData.id=s,this[_0x1d97("0x8db")][e][_0x1d97("0x8e0")][s]=nx):(nx[_0x1d97("0x11e")].id=x[_0x1d97("0x129a")],this[_0x1d97("0x8db")][e].modelImageGeos[_0x1d97("0x1")](nx))}x[_0x1d97("0xeeb")]?t[_0x1d97("0xb7e")][e].model>0&&t[_0x1d97("0xb7e")][e][_0x1d97("0x223")]--:t[_0x1d97("0xb7e")][e][_0x1d97("0x4e5")]>0&&t[_0x1d97("0xb7e")][e].modelBase--,t.checkLoadedAll(e),x[_0x1d97("0x1281")]=null,x[_0x1d97("0xef5")]=null,x[_0x1d97("0xefd")]=null,x[_0x1d97("0x9d5")]=null,x[_0x1d97("0x580")]=null,x=null}}}}},{key:_0x1d97("0x129b"),value:function(x){function d(x,d){d[_0x1d97("0x141")]=d[_0x1d97("0x143")]=THREE[_0x1d97("0x142")];var _=x[_0x1d97("0x4a4")]*THREE[_0x1d97("0x24e")].DEG2RAD;return x[_0x1d97("0x129c")]||d[_0x1d97("0x112")][_0x1d97("0x11b")](x[_0x1d97("0xa5f")][0],x[_0x1d97("0xa5f")][1]),d[_0x1d97("0x113")][_0x1d97("0x11b")](x[_0x1d97("0x113")].x,x[_0x1d97("0x113")].y),d.rotation=isNaN(_)?0:_,d.needsUpdate=!0,d}var _=this[_0x1d97("0x305")],e=void 0,t=x[0].id,a=x[0].RS,i=this.building.themeID,n=1*_[_0x1d97("0x183")].getModelTheme(i,a).alpha,r=this.modelTextureMeshs[t];if(r){r[_0x1d97("0xa5")][_0x1d97("0xb5")].uv[_0x1d97("0x19d")],x[0][_0x1d97("0x129c")]&&r[_0x1d97("0xa5")].addAttribute("uv",r[_0x1d97("0xa5")][_0x1d97("0x19c")](_0x1d97("0x4aa")));var o=_[_0x1d97("0x183")][_0x1d97("0x987")][i][_0x1d97("0xe28")][a]?_[_0x1d97("0x183")][_0x1d97("0x987")][i][_0x1d97("0xe28")][a][_0x1d97("0x100")]:_[_0x1d97("0x183")].themeList[i][_0x1d97("0xe28")][0].color;o[_0x1d97("0xd7")]("#")<0&&(o=esmap.ESMapUtil[_0x1d97("0x53f")](o));var c=new(s[_0x1d97("0x1c")])({colorStr:o});c.computeTopFaceAttr(r),r[_0x1d97("0x11e")].computedTopFace=!0;var l=r[_0x1d97("0xa7")][0][_0x1d97("0x100")][_0x1d97("0xfc4")]();if(1==x[_0x1d97("0x0")]){var u=x[0],f=_[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xd0d")][u[_0x1d97("0x955")]][_0x1d97("0xdb")]();f=d(u,f);var h=document[_0x1d97("0x21")](_0x1d97("0x4a1"));h[_0x1d97("0x328")]=16,h.height=16;var b=h[_0x1d97("0x84b")]("2d");b[_0x1d97("0x86f")]=l,b[_0x1d97("0x870")](0,0,16,16);var g=new(THREE[_0x1d97("0x4a6")])(h);g[_0x1d97("0x13b")]=!0,3==u[_0x1d97("0xd04")]?(e=c.createMaterial({topTexture:f,sideTexture:g}))[_0x1d97("0xb8")]=_0x1d97("0x340"):(e=c[_0x1d97("0x33f")]({topTexture:g,sideTexture:f}))[_0x1d97("0xb8")]=_0x1d97("0x341"),e[_0x1d97("0x11e")].info=u,e[_0x1d97("0x13b")]=!0,r.material=[e]}else{var v=x[0],p=_[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xd0d")][v.RoomLogo].clone();p=d(v,p);var m,A,C=x[1],I=_[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xd0d")][C.RoomLogo].clone();I=d(C,I),3==v[_0x1d97("0xd04")]?(m=p,A=I):(m=I,A=p),(e=c.createMaterial({topTexture:m,sideTexture:A})).needsUpdate=!0,e[_0x1d97("0xb8")]="doubleTexture",e[_0x1d97("0x11e")].info=v,r.material=[e]}n<1&&(e.transparent=!0,e.opacity=n),r[_0x1d97("0xa5")][_0x1d97("0xb5")].uv.array}else esmap[_0x1d97("0x2ad")][_0x1d97("0x129d")]}},{key:"loadImageLogo",value:function(x,d){var _=this,e=_[_0x1d97("0x305")],t=x[_0x1d97("0xe8")],a=this[_0x1d97("0x4b")],i=e.map[_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xc06")][x[_0x1d97("0x955")]];e[_0x1d97("0x38")][_0x1d97("0x35")].fixTextures&&(THREE[_0x1d97("0x24e")][_0x1d97("0x129e")](i[_0x1d97("0x173")][_0x1d97("0x328")])&&THREE.Math[_0x1d97("0x129e")](i[_0x1d97("0x173")].height)||(i[_0x1d97("0x13f")]=THREE[_0x1d97("0x72f")],i.generateMipmaps=!1,i[_0x1d97("0x129f")][_0x1d97("0x0")]=0,i[_0x1d97("0x13b")]=!0));var n=a.options[_0x1d97("0x1e9")]?x[_0x1d97("0xeeb")]:x.id,r=_[_0x1d97("0x8db")][t][_0x1d97("0x12a0")][n].material,s=x[_0x1d97("0x12a1")],o=e.map[_0x1d97("0x35")][_0x1d97("0x12a2")];if(a[_0x1d97("0x35")][_0x1d97("0x1e9")]||(_[_0x1d97("0x8db")][t][_0x1d97("0x12a0")][n].datas_[_0x1d97("0x3cb")]={x:x.coord.x,y:x[_0x1d97("0x1c4")].y}),!r[s]){var c=new(THREE[_0x1d97("0xfe")])({transparent:!0,side:THREE[_0x1d97("0x111")],depthWrite:!0,map:i});c[_0x1d97("0x345")]=function(x){x.vertexShader=x[_0x1d97("0x105")][_0x1d97("0x106")](_0x1d97("0x34c"),_0x1d97("0x12a3")),x[_0x1d97("0x105")]=x[_0x1d97("0x105")].replace(_0x1d97("0x107"),"\n                    #include <uv_vertex>\n    \n                    hideFlag = isHideFlags;\n                    "),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")]("uniform float opacity;",_0x1d97("0x12a4")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x10c"),_0x1d97("0x12a5"))},c[_0x1d97("0xb8")]=x.RoomLogo,c[_0x1d97("0x11e")][_0x1d97("0x12a6")]=x,c[_0x1d97("0xb8")][_0x1d97("0xd7")](_0x1d97("0xba6"))>0?c[_0x1d97("0xff")]=!1:c[_0x1d97("0x79c")]=o,a.focusFloorNum!=t&&a[_0x1d97("0x35")][_0x1d97("0x862")]&&(c[_0x1d97("0x11e")][_0x1d97("0x293")]=c[_0x1d97("0xff")],c[_0x1d97("0x11e")].opacity=c[_0x1d97("0xe2")],c[_0x1d97("0xe2")]=a[_0x1d97("0x35")][_0x1d97("0xb80")]),a[_0x1d97("0x35")].mergeModels?r[s]=c:(_[_0x1d97("0x8db")][t][_0x1d97("0x12a0")][n][_0x1d97("0xa7")].push(c),_.toHandle[t][_0x1d97("0x12a0")][n].datas_.roomid=x.id,_[_0x1d97("0x8db")][t][_0x1d97("0x12a0")][n][_0x1d97("0xa2")][_0x1d97("0x955")]=x[_0x1d97("0x955")])}}},{key:_0x1d97("0x122d"),value:function(){var x,d=(x=(0,t[_0x1d97("0x1c")])(e[_0x1d97("0x1c")].mark((function x(){var d,t;return e[_0x1d97("0x1c")][_0x1d97("0x2a7")]((function(x){for(;;)switch(x.prev=x[_0x1d97("0x2a8")]){case 0:x.t0=e.default[_0x1d97("0x538")](i[_0x1d97("0x584")]);case 1:if((x.t1=x.t0()).done){x[_0x1d97("0x2a8")]=11;break}if(d=x.t1[_0x1d97("0xf1")],t=i[_0x1d97("0x584")][d],_.toHandle[t]){x[_0x1d97("0x2a8")]=6;break}return x.abrupt(_0x1d97("0x53c"),1);case 6:n(t),s(t),r(t),x[_0x1d97("0x2a8")]=1;break;case 11:i[_0x1d97("0x6a")]>=100&&i.modelLoadManager[_0x1d97("0x1238")]();case 12:case _0x1d97("0x2c4"):return x[_0x1d97("0x1af")]()}}),x,this)}))),function(){return x.apply(this,arguments)}),_=this,a=_[_0x1d97("0x305")],i=this.building;function n(x){_[_0x1d97("0x8db")][x][_0x1d97("0x8e0")][_0x1d97("0x1d")]((function(d,e){var t=new(THREE[_0x1d97("0x14a")])(d,[]),a=d[_0x1d97("0x11e")].id;t[_0x1d97("0xa2")]={nodeType:esmap[_0x1d97("0xea")][_0x1d97("0x950")],o3d_:t,bid:i.id,bType:2},t[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x4ef")],t.rotation[_0x1d97("0x11b")](-Math.PI/2,Math.PI,Math.PI-0*THREE[_0x1d97("0x24e")].DEG2RAD,_0x1d97("0xf6a")),_.toHandle[x].modelImageMeshs[a]=t,_[_0x1d97("0x8db")][x].modelimagelayer[_0x1d97("0xa3")].add(t)})),_[_0x1d97("0x8db")][x][_0x1d97("0x8e0")]=[]}function r(x){var d=_.toHandle[x].bimModelDatas,e=[];for(var t in d){var a=d[t];e[_0x1d97("0x1")](_[_0x1d97("0x12a7")](a))}for(_[_0x1d97("0x8db")][x][_0x1d97("0x1291")]=[];e[_0x1d97("0x0")]>0;){var n=e[_0x1d97("0x4")]();i[_0x1d97("0x14f")].addBimModel(n)}}function s(x){var d=_[_0x1d97("0x8db")][x][_0x1d97("0xef7")],e=a[_0x1d97("0x38")][_0x1d97("0x8b8")]?a[_0x1d97("0x38")].firstPersonControls[_0x1d97("0x27e")]:a.map[_0x1d97("0x280")][_0x1d97("0x27e")],t=[];for(var n in d){var r=_.loadModel(d[n],x);delete _[_0x1d97("0x8db")][x][_0x1d97("0xef7")][n],r&&(r[_0x1d97("0x1aa")]>28?i[_0x1d97("0x14f")][_0x1d97("0xb72")](r):(r.viewrank=r[_0x1d97("0xb6")][_0x1d97("0x25d")](e),t[_0x1d97("0x1")](r)))}for(t[_0x1d97("0x41c")]((function(x,d){return x[_0x1d97("0xf0a")]-d[_0x1d97("0xf0a")]}));t[_0x1d97("0x0")]>0;){var s=t[_0x1d97("0x4")]();i.modelLoadManager[_0x1d97("0xb72")](s)}i[_0x1d97("0x14f")][_0x1d97("0xb69")][x]=!0}d()[_0x1d97("0x2fd")]((function(){_[_0x1d97("0x8e7")]||(a[_0x1d97("0x38")].on(_0x1d97("0x11d"),(function(){_[_0x1d97("0x12a8")](),a.map[_0x1d97("0x35")][_0x1d97("0xb86")]?(a.map[_0x1d97("0x8a1")][_0x1d97("0x4d0")]&&(l=setTimeout((function(){i.modelLoadManager[_0x1d97("0x28d")]=!1,i[_0x1d97("0x14f")].viewRangeUpdated=!1,l&&window[_0x1d97("0x28e")](l)}),100)),i[_0x1d97("0x14f")][_0x1d97("0xb88")](),i[_0x1d97("0x14f")][_0x1d97("0xb85")](),i[_0x1d97("0x14f")][_0x1d97("0xb8f")]()):(i[_0x1d97("0x14f")].invisibleMergeModels(),i.modelLoadManager[_0x1d97("0xb8f")]())})),_[_0x1d97("0x8e7")]=!0)}))}},{key:_0x1d97("0x12a8"),value:function(){var x=this,d=this.scene;if(x[_0x1d97("0x8dd")].length>0)for(var _=0;_<x[_0x1d97("0x8dd")][_0x1d97("0x0")];_++){var e=x[_0x1d97("0x8dd")][_],t=d.map[_0x1d97("0x35")][_0x1d97("0x1e9")]?e[_0x1d97("0xeeb")]:e.id;d[_0x1d97("0x38")][_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xc06")][e[_0x1d97("0x955")]]&&x[_0x1d97("0x8db")][e.fnum][_0x1d97("0x12a0")][t]?(x.loadImageLogo(e,_),x[_0x1d97("0x8dd")][_0x1d97("0x189")](_,1),_--):null===d[_0x1d97("0x38")][_0x1d97("0x2aa")].ResourcePool[_0x1d97("0xc06")][e[_0x1d97("0x955")]]&&(x.modelImageDatas[_0x1d97("0x189")](_,1),_--)}if(x[_0x1d97("0x8de")][_0x1d97("0x0")]>0)for(var a=0;a<x.modelTextureDatas.length;a++)if(0!=x[_0x1d97("0x8de")][a][_0x1d97("0x0")]){for(var i=!0,n=0;n<x.modelTextureDatas[a][_0x1d97("0x0")];n++){var r=x[_0x1d97("0x8de")][a][n];if(!d[_0x1d97("0x38")].mapService[_0x1d97("0xbca")][_0x1d97("0xd0d")][r[_0x1d97("0x955")]]){if(null!==d.map[_0x1d97("0x2aa")][_0x1d97("0xbca")][_0x1d97("0xd0d")][r[_0x1d97("0x955")]]){i=!1;break}x[_0x1d97("0x8de")][a][_0x1d97("0x189")](n,1),n--}}i&&x[_0x1d97("0x8de")][a].length>0&&(x[_0x1d97("0x129b")](x.modelTextureDatas[a]),x.modelTextureDatas[_0x1d97("0x189")](a,1),a--)}else x[_0x1d97("0x8de")][_0x1d97("0x189")](a,1),a--}},{key:_0x1d97("0x12a7"),value:function(x){if(x[_0x1d97("0xb6")]={x:-x.x,z:x.y},x[_0x1d97("0xc7")]=6,x[_0x1d97("0x237")]){var d=x[_0x1d97("0x237")][_0x1d97("0x28")](",");x[_0x1d97("0x237")]=new(THREE[_0x1d97("0xe0")])(1*d[0],1*d[1],1*d[2])}else x.scale=new(THREE[_0x1d97("0xe0")])(1,1,1);return x.rotation||(x[_0x1d97("0x238")]=new(THREE[_0x1d97("0xe0")])(0,0,0)),x}},{key:_0x1d97("0xf08"),value:function(x,d,_){var e,t=this.scene,a=this[_0x1d97("0x4b")],i=this[_0x1d97("0x4b")].id,n=(t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x40")],t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x20f")]),r=(t.map.options[_0x1d97("0x41")],t[_0x1d97("0x38")].sceneId_,_0x1d97("0x6e"),x[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),""),_0x1d97("0x6f")),s=t[_0x1d97("0x38")][_0x1d97("0x35")][_0x1d97("0x214")]==_0x1d97("0x47b")&&!t.map[_0x1d97("0x35")][_0x1d97("0x20f")],c=x[_0x1d97("0x223")][_0x1d97("0x106")](_0x1d97("0x6f"),"");(r=o[_0x1d97("0x1c")].getPath("buildingModel",{filename:c,buildingId:i,modeltoken:t.map[_0x1d97("0x9c")]}),_)?e=_:e=this[_0x1d97("0x8db")][d]?this[_0x1d97("0x8db")][d][_0x1d97("0xf0b")][_0x1d97("0xa3")]:t[_0x1d97("0x576")][d].datas_[_0x1d97("0x192")](esmap[_0x1d97("0x168")][_0x1d97("0x221")])[0][_0x1d97("0xa3")];if(t[_0x1d97("0x38")][_0x1d97("0x35")].loadModel3D&&x[_0x1d97("0x223")]){if(1*x.top==3){var l=x[_0x1d97("0xf0c")][_0x1d97("0xe6")][_0x1d97("0x38")]((function(x){return x.x*=-1,x})),u=x[_0x1d97("0x113")][_0x1d97("0x28")](",")[1];return new(esmap[_0x1d97("0xf0d")])({type:"building",useCrst:!1,merge:!0,bid:i,model:x[_0x1d97("0x223")],fnum:d,bclick:!!n,points:l,gid:x[_0x1d97("0xb9c")]||0,error:function(x){a[_0x1d97("0xb7e")][d][_0x1d97("0x235")]--},created:function(x){a.toLoaded[d].model3D--},repeatset:1,thickset:1,heightset:1,name:x[_0x1d97("0xb8")],id:x.id,height:1*u}).bid=i,null}if(s&&x[_0x1d97("0x223")].indexOf(_0x1d97("0xb73"))>=0){var f=a[_0x1d97("0x14f")];return f[_0x1d97("0x2ab")][x[_0x1d97("0x223")]]||f[_0x1d97("0x310")][x[_0x1d97("0x223")]]||(f[_0x1d97("0x310")][x.model]=!0,a.modelLoadManager.preFetchModel3D(x[_0x1d97("0x223")],r)),!1}var h=new THREE.Vector3(1,1,1);if(x[_0x1d97("0x237")]){var b=x[_0x1d97("0x237")].split(",");h=new(THREE[_0x1d97("0xe0")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]))}var g=0;if(x[_0x1d97("0x4a4")]){var v=Math.PI/180,p=x[_0x1d97("0x4a4")].split(",");g=1*p[1];var m=new(THREE[_0x1d97("0x264")])(parseFloat(p[0])*v,parseFloat(p[1])*v,parseFloat(p[2])*v)}var A=new(THREE[_0x1d97("0xe0")])(x.x,x.y,0),C=new(THREE[_0x1d97("0xe0")])(-x.x-t.sceneX_,0,x.y-t[_0x1d97("0x19a")]);if(x[_0x1d97("0x113")]){var I=x[_0x1d97("0x113")][_0x1d97("0x28")](",");C.x+=parseFloat(I[0]),C.y+=parseFloat(I[1]),C.z+=parseFloat(I[2]),A.x-=parseFloat(I[0]),A.z+=parseFloat(I[1]),A.y+=parseFloat(I[2])}x[_0x1d97("0x223")][_0x1d97("0xd7")](".gltf")<0&&(x[_0x1d97("0x223")]+=_0x1d97("0x6f"));var y={brief:x[_0x1d97("0xb9e")],bid:i,bType:2,rank:x[_0x1d97("0x1aa")],name:x[_0x1d97("0xb8")],dataID:x[_0x1d97("0x58a")],model:x[_0x1d97("0x223")],angle:g,mapId:null,url:r,scale:h,gid:x[_0x1d97("0xb9c")]||0,rotation:m,position:C,data_:{CenX:x.x,CenY:x.y,scale:x.scale||null,rotate:x.rotate||null,offset:x[_0x1d97("0x113")]||null},parent:e,id:x.id,bclick:x.bclick,typeID:x.roomdata[_0x1d97("0xd05")],mapCoord:A,callbackparams:x[_0x1d97("0x241")]||null,callback:function(){},fnum:d};return n&&(y[_0x1d97("0xf0c")]=x[_0x1d97("0xf0c")]),y}}},{key:_0x1d97("0x128f"),value:function(x,d){var _,e=x[_0x1d97("0xe8")];x.id;this.modelLineLayers[e]?_=this.modelLineLayers[e]:((_=new(esmap[_0x1d97("0x167")])(esmap[_0x1d97("0x168")][_0x1d97("0xf85")],{})).name=_0x1d97("0xdfe"),this.building[_0x1d97("0x1209")](e)[_0x1d97("0xdc")](_[_0x1d97("0xa3")]),this[_0x1d97("0x8df")][e]=_);var t=x[_0x1d97("0x580")];if(d){var a=new THREE.BufferGeometry;a[_0x1d97("0x1a0")]("position",new(THREE[_0x1d97("0x1a1")])(x[_0x1d97("0xe6")],3));var i=[],n=0;for(var r in t){var s=t[r][_0x1d97("0xef8")],o={precision:_0x1d97("0xa98"),color:s[_0x1d97("0xe3f")],linewidth:s[_0x1d97("0xe1a")]>5?5:s[_0x1d97("0xe1a")]},c=new(THREE[_0x1d97("0x195")])(o);c[_0x1d97("0xb8")]=r,i[_0x1d97("0x1")](c),a[_0x1d97("0x1a2")](n,t[r][_0x1d97("0xefc")],i[_0x1d97("0x0")]-1),t[r].startIndex=n,n+=t[r][_0x1d97("0xefc")],1*r==999&&(c[_0x1d97("0xf0")]=!1)}var l=new THREE.LineSegments(a,i);return l[_0x1d97("0xa75")]=!1,l[_0x1d97("0xa2")]={nodeType:esmap[_0x1d97("0xea")][_0x1d97("0xeb")],id:1},l[_0x1d97("0x238")][_0x1d97("0x11b")](Math.PI/2,0,0,_0x1d97("0x3e5")),l.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],l[_0x1d97("0x11e")][_0x1d97("0x126d")]=t,_[_0x1d97("0xa3")].add(l),l}for(var u in t){var f=new(THREE[_0x1d97("0x19b")]),h=0,b=x[_0x1d97("0xe6")].subarray(3*h,3*(h+t[u][_0x1d97("0xefc")]));f[_0x1d97("0x1a0")](_0x1d97("0xb6"),new(THREE[_0x1d97("0x1a1")])(b,3));var g=t[u][_0x1d97("0xef8")],v=[],p={precision:_0x1d97("0xa98"),color:g.strokeColor_,linewidth:g[_0x1d97("0xe1a")]>5?5:g[_0x1d97("0xe1a")]},m=new(THREE[_0x1d97("0x195")])(p);v[_0x1d97("0x1")](m),f[_0x1d97("0x1a2")](h,t[u][_0x1d97("0xefc")],v[_0x1d97("0x0")]-1),h+=t[u].groupIndex;var A=new THREE.LineSegments(f,v);A[_0x1d97("0xa75")]=!1,A[_0x1d97("0xa2")]={nodeType:esmap[_0x1d97("0xea")].LINE,id:1*t[u].id,bid:this[_0x1d97("0x4b")].id,bType:2},A.rotation.set(Math.PI/2,0,0,"XYZ"),A.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],1*u==999&&(m[_0x1d97("0xf0")]=!1,f[_0x1d97("0x411")](),f[_0x1d97("0x808")].count=0),_.o3d_[_0x1d97("0xdc")](A)}return A}}]),x}();d[_0x1d97("0x1c")]=u},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=n(_(4)),t=n(_(0)),a=n(_(5)),i=n(_(6));function n(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var r=function(x){function d(x){(0,t.default)(this,d);var _=(0,a[_0x1d97("0x1c")])(this,(d.__proto__||(0,e[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap[_0x1d97("0xea")][_0x1d97("0x221")],{},new(THREE[_0x1d97("0x7c5")])));return _.gid=x[_0x1d97("0xb9c")]||0,_[_0x1d97("0xa3")][_0x1d97("0xb8")]=_0x1d97("0xb9"),_.name=x[_0x1d97("0xb8")],_.ID=x.id,_.animations=[],_[_0x1d97("0x223")]=x[_0x1d97("0x223")]||"",_}return(0,i.default)(d,x),d}(esmap[_0x1d97("0x515")]);d[_0x1d97("0x1c")]=r},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e=i(_(2)),t=i(_(0)),a=i(_(1));function i(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var n=function(){function x(d){(0,t[_0x1d97("0x1c")])(this,x);var _=(0,e[_0x1d97("0x1c")])({id:1,bid:0,style:{alpha:.8,lineType:esmap[_0x1d97("0x4fd")][_0x1d97("0xf47")],isMapRoad:0}},d);this[_0x1d97("0xc0d")]=esmap[_0x1d97("0x33")][_0x1d97("0x34")],this.ID=_.id||0,this.name=_.name||"",this.points=_.points||[],this[_0x1d97("0x22")]=_[_0x1d97("0x22")]||this[_0x1d97("0xc0d")][_0x1d97("0xf6")][_0x1d97("0x933")],this.o3d_=new(THREE[_0x1d97("0x150")]),this[_0x1d97("0xa3")][_0x1d97("0xb8")]=_0x1d97("0xb9"),this[_0x1d97("0xa3")][_0x1d97("0xa2")]=this,this[_0x1d97("0xc7")]=esmap[_0x1d97("0xea")][_0x1d97("0x991")],this.options=_}return(0,a[_0x1d97("0x1c")])(x,[{key:_0x1d97("0x12a9"),value:function(x){if(this[_0x1d97("0x22")].lineType==esmap[_0x1d97("0x4fd")].TEXTURE){var d=this[_0x1d97("0x22")].fixedWidth,_=this[_0x1d97("0xa3")][_0x1d97("0xa4")][0],t={time:.3,percent:1,arrow:this.style[_0x1d97("0x123")]||!1,onComplete:null};(0,e[_0x1d97("0x1c")])(t,x),0==t[_0x1d97("0x12aa")]&&(t[_0x1d97("0x12aa")]=.001);var a=t[_0x1d97("0x255")],i=t[_0x1d97("0x12aa")],n=t[_0x1d97("0x123")],r=_[_0x1d97("0xa5")][_0x1d97("0x125")];if(this[_0x1d97("0x22")][_0x1d97("0x116")]==_0x1d97("0x117")){var s=_[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x11f")];new(esmap.TWEEN[_0x1d97("0x1b8")])({value:r}).to({value:i},1e3*a)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x1bd")]((function(){t[_0x1d97("0x1bd")]&&t.onComplete()}))[_0x1d97("0x12e")]((function(x){_[_0x1d97("0xa5")].update(_.pathPointList,{radius:s,arrow:n,progress:x[_0x1d97("0xf1")]}),_[_0x1d97("0xa5")].progress=x[_0x1d97("0xf1")],d&&_[_0x1d97("0x134")]()}))[_0x1d97("0x1c1")]()}else{var o=_[_0x1d97("0xa5")][_0x1d97("0x11e")][_0x1d97("0x11f")];new(esmap.TWEEN[_0x1d97("0x1b8")])({value:r}).to({value:i},1e3*a)[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")].Quadratic[_0x1d97("0x1c0")])[_0x1d97("0x1bd")]((function(){t.onComplete&&t[_0x1d97("0x1bd")]()})).onUpdate((function(x){_[_0x1d97("0xa5")][_0x1d97("0x11d")](_[_0x1d97("0x11a")],{width:o,arrow:n,progress:x[_0x1d97("0xf1")]}),_[_0x1d97("0xa5")].progress=x.value,d&&_.updateLineWidth()}))[_0x1d97("0x1c1")]()}}}},{key:_0x1d97("0x2ff"),value:function(){this[_0x1d97("0xe6")][_0x1d97("0x2ff")](),this[_0x1d97("0x12ab")](this[_0x1d97("0xe6")])}},{key:_0x1d97("0x12ac"),value:function(x){var d=x[_0x1d97("0x12aa")],_=void 0===d?.5:d,e=x[_0x1d97("0x12ad")],t=void 0===e||e,a=x[_0x1d97("0xe1")],i=void 0===a?.5:a,n=this[_0x1d97("0xa3")].children[0];n&&(n[_0x1d97("0x12ae")][_0x1d97("0x12ac")]={alpha:i,isFront:t},n[_0x1d97("0x13a")]=_,n[_0x1d97("0x12af")]=!0)}},{key:_0x1d97("0x12ab"),value:function(x){var d=this.map_._analyseRawPoints(x)[0];esmap.ESMapUtil.interpolatePoints(d);var _=void 0,e=this[_0x1d97("0x22")];this[_0x1d97("0xe6")]=x,_=e[_0x1d97("0x939")]?esmap[_0x1d97("0x50f")].buildCurvePoints(d,8,e.curvature):d,this[_0x1d97("0xa3")][_0x1d97("0xa4")][0][_0x1d97("0xf2")](_)}},{key:_0x1d97("0x144"),value:function(x){this[_0x1d97("0xa3")][_0x1d97("0xa4")][0][_0x1d97("0x144")](x)}},{key:_0x1d97("0xbb1"),value:function(x){var d=this[_0x1d97("0xa3")].children[0];d&&(d.naviMap?d[_0x1d97("0x100")]=x:d.updateColor(x))}},{key:_0x1d97("0x12b0"),value:function(x){var d={height:5,time:.6};x instanceof Object?d=(0,e[_0x1d97("0x1c")])(d,x):isNaN(x)||(d[_0x1d97("0x1b5")]=x);var _=this.o3d_[_0x1d97("0xa4")][0],t=_.position.y+d[_0x1d97("0x1b5")];this.updateHeightId_&&this[_0x1d97("0x12b1")][_0x1d97("0x1af")](),this[_0x1d97("0x12b1")]=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(_[_0x1d97("0xb6")]).to({y:t},1e3*d[_0x1d97("0x255")])[_0x1d97("0x1b9")](esmap[_0x1d97("0x1b7")][_0x1d97("0x1ba")][_0x1d97("0x1bb")].Out)[_0x1d97("0x1bd")]((function(){}))[_0x1d97("0x1c1")]()}},{key:_0x1d97("0x125"),get:function(){return this[_0x1d97("0x22")][_0x1d97("0x145")]!=esmap[_0x1d97("0x4fd")][_0x1d97("0xde")]?1:this[_0x1d97("0xa3")][_0x1d97("0xa4")][0][_0x1d97("0xa5")].progress}},{key:_0x1d97("0xf0"),set:function(x){this.o3d_[_0x1d97("0xf0")]=x},get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xf0")]}}]),x}();d.default=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=s(_(64)),t=s(_(2)),a=s(_(18)),i=s(_(89)),n=s(_(10)),r=_(19);function s(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var o=function(x,d,_,e){var t=this,a=esmap.ESMap[_0x1d97("0x34")];this._type_=_0x1d97("0xbaa"),esmap[_0x1d97("0x510")].call(this,a[_0x1d97("0x12b2")],this),this[_0x1d97("0xe8")]=x[0]?x[0][_0x1d97("0xe8")]:1;var s=x[_0x1d97("0x38")]((function(x){var d=x[_0x1d97("0xdb")]();return d[_0x1d97("0xe8")]=x[_0x1d97("0xe8")],d[_0x1d97("0xe5")]=x[_0x1d97("0xe5")],d}));this[_0x1d97("0x12b3")]=e,this[_0x1d97("0xe6")]=x,this.bid=x[0][_0x1d97("0xe5")]||0,this[_0x1d97("0xe8")]=x[0]&&x[0].fnum||1,this.map=a,this[_0x1d97("0xe9")]=_0x1d97("0xbaa"),this.style=d,this[_0x1d97("0x12af")]=!1;var o=d;o[_0x1d97("0xed")]=null==o[_0x1d97("0xed")]||o[_0x1d97("0xed")],this[_0x1d97("0x122")]=null!=o[_0x1d97("0x122")]&&o.fixedWidth,this.nodeType=esmap[_0x1d97("0xea")].LINE,(_=_||{}).up=_.up||d.up||new(THREE[_0x1d97("0xe0")])(0,1,0),this.style[_0x1d97("0x112")]=this[_0x1d97("0x22")][_0x1d97("0x112")]||1,this[_0x1d97("0x22")][_0x1d97("0x940")]=null==this.style[_0x1d97("0x940")]||d[_0x1d97("0x940")],this[_0x1d97("0x22")][_0x1d97("0x12b4")]=!this[_0x1d97("0x22")].hasOwnProperty("updateReapeat")||this[_0x1d97("0x22")][_0x1d97("0x12b4")],this[_0x1d97("0x22")].minRepeatLevel=null==this[_0x1d97("0x22")][_0x1d97("0x12b5")]?23:this[_0x1d97("0x22")].minRepeatLevel,this[_0x1d97("0x22")].textureOffset=this[_0x1d97("0x22")][_0x1d97("0x12b6")]||0,this[_0x1d97("0x12ae")]={splitAlpha:null,splitGray:null},this[_0x1d97("0x12b7")]=!1;var c;if(o[_0x1d97("0x100")]=o.hasOwnProperty(_0x1d97("0x100"))?o[_0x1d97("0x100")]:16711680,(0,n.default)(o.color)===_0x1d97("0x13d"))o[_0x1d97("0x100")]=this[_0x1d97("0x13c")](o[_0x1d97("0x100")]);o[_0x1d97("0xa5e")]||(o[_0x1d97("0xa5e")]={size:2,gap:1}),o.type=_0x1d97("0xf9"),o[_0x1d97("0x116")]=esmap[_0x1d97("0x4fc")][_0x1d97("0x12b8")],"arrow"!=o.lineType&&_0x1d97("0x503")!=o[_0x1d97("0x145")]||(o[_0x1d97("0x6a")]=o.lineType,o[_0x1d97("0x116")]=esmap[_0x1d97("0x4fc")][_0x1d97("0x12b9")]),o.dashArray=o[_0x1d97("0x10e")]||o[_0x1d97("0x145")]&&this[_0x1d97("0x12ba")](o[_0x1d97("0x145")])||[o[_0x1d97("0xa5e")][_0x1d97("0xa5f")],o[_0x1d97("0xa5e")][_0x1d97("0xa60")]],o[_0x1d97("0x119")]=(0,r[_0x1d97("0x13")])(o,"lineWidth",_0x1d97("0x1a7"),8),o[_0x1d97("0x118")]=(0,r[_0x1d97("0x13")])(o,_0x1d97("0x118"),0),o.dashArray&&(this.textureLength=o[_0x1d97("0x10e")][_0x1d97("0xc5")]((function(x,d){return x+d}))),c=this[_0x1d97("0x10f")];var l,u=JSON[_0x1d97("0x64")]((0,i[_0x1d97("0x1c")])(o));delete u[_0x1d97("0x1b5")],this[_0x1d97("0x99e")]=new(esmap[_0x1d97("0x12bb")])(u),l=this[_0x1d97("0x22")][_0x1d97("0x48")]?(new(THREE[_0x1d97("0x29d")]))[_0x1d97("0x591")](this.style[_0x1d97("0x48")]):new(THREE[_0x1d97("0x4a6")])(this[_0x1d97("0x99e")][_0x1d97("0x4a1")]),this.style[_0x1d97("0x12b6")]&&(l[_0x1d97("0x113")].y=this[_0x1d97("0x22")][_0x1d97("0x12b6")]||0),o[_0x1d97("0x145")]==esmap.ESLineType[_0x1d97("0x12bc")]?l[_0x1d97("0x13f")]=THREE[_0x1d97("0x140")]:l[_0x1d97("0x13f")]=THREE.NearestFilter,this[_0x1d97("0x22")][_0x1d97("0x48")]||(l.needsUpdate=!0);var f=o[_0x1d97("0x118")]?o.lineWidth/2:o[_0x1d97("0x119")]/16;this.radius=f;var h=o.up||_.up;this[_0x1d97("0xf2c")]=h,this.nocenter=_.notCenter||d[_0x1d97("0x12bd")],this[_0x1d97("0x12be")]=o[_0x1d97("0x116")],this[_0x1d97("0x13a")]=0;var b=new(esmap[_0x1d97("0x52f")])({radius:f,pathVertices:s,uvBaseLen:c,segments:d[_0x1d97("0x599")]||12,up:h,notCenter:this[_0x1d97("0x12bf")],lineMode:o.lineMode,yScale:o.yScale,smooth:o[_0x1d97("0x934")],billboard:o[_0x1d97("0x10cb")]});this[_0x1d97("0x0")]=b[_0x1d97("0x0")]||0,l.wrapS=l.wrapT=THREE.RepeatWrapping,this[_0x1d97("0x12c0")]=Math.ceil(b[_0x1d97("0x0")]/b.uvBaseLen),isNaN(this[_0x1d97("0x12c0")])?l.repeat.x=1:l[_0x1d97("0x112")].x=this[_0x1d97("0x12c0")],l[_0x1d97("0x112")].y=1,this.style[_0x1d97("0x48")]||(l.needsUpdate=!0);var g=new(THREE[_0x1d97("0xfe")]);g[_0x1d97("0xff")]=!0,g[_0x1d97("0xe2")]=null==o.opacity?1:o.opacity,g[_0x1d97("0x38")]=l,g.needsUpdate=!0,g.visible=!1,this.visible=!1,g.depthWrite=!0,o[_0x1d97("0x128")]&&(g.depthTest=!1),o[_0x1d97("0x12c1")]&&(g.depthWrite=!1),this[_0x1d97("0x22")].url&&(g[_0x1d97("0x100")]=(new(THREE[_0x1d97("0x101")]))[_0x1d97("0x29e")](this[_0x1d97("0x22")].color));var v=this;this[_0x1d97("0x22")][_0x1d97("0x145")]!==esmap[_0x1d97("0x4fd")][_0x1d97("0xf47")]&&(g[_0x1d97("0x345")]=function(x){x[_0x1d97("0x102")][_0x1d97("0x13a")]={value:0},x.uniforms[_0x1d97("0x12c2")]={value:!1},x[_0x1d97("0x102")][_0x1d97("0x12c3")]={value:!0},x[_0x1d97("0x102")][_0x1d97("0x12c4")]={value:0},x[_0x1d97("0x102")][_0x1d97("0x12c5")]={value:0},x[_0x1d97("0x105")]=x.vertexShader[_0x1d97("0x106")](_0x1d97("0x12c6"),_0x1d97("0x12c7")),x[_0x1d97("0x105")]=x[_0x1d97("0x105")].replace("#include <uv_vertex>","\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    "),x[_0x1d97("0x109")]=x[_0x1d97("0x109")][_0x1d97("0x106")](_0x1d97("0x12c8"),_0x1d97("0x12c9")),x[_0x1d97("0x109")]=x[_0x1d97("0x109")].replace(_0x1d97("0x10c"),_0x1d97("0x12ca")),v[_0x1d97("0x10d")]=x}),THREE[_0x1d97("0x14a")][_0x1d97("0x3")](this,b,g),this[_0x1d97("0xb6")].copy(b[_0x1d97("0xe7")]),this[_0x1d97("0x234")]=esmap[_0x1d97("0x12b")][_0x1d97("0x12c")],this[_0x1d97("0x12cb")](),this[_0x1d97("0x30")](_0x1d97("0x247"),this.dispose),this._update=this[_0x1d97("0x11d")][_0x1d97("0x11")](this),this.material[_0x1d97("0x115")]=o[_0x1d97("0x12cc")]?THREE.DoubleSide:THREE.FrontSide,this[_0x1d97("0x38")].on(_0x1d97("0x11d"),this[_0x1d97("0x12cd")]),this[_0x1d97("0xf42")]=this[_0x1d97("0x131")][_0x1d97("0x11")](this);var p=this[_0x1d97("0x38")][_0x1d97("0xee")](this.bid);if(o[_0x1d97("0xed")]&&(this[_0x1d97("0x38")].on(_0x1d97("0x131"),this._visibleFloorNumsChanged),p[_0x1d97("0xef")].indexOf(this.fnum)<0&&(this[_0x1d97("0xf0")]=!1)),this[_0x1d97("0x12ce")]=p.getFloorHeight(this[_0x1d97("0xe8")]),this.building=p,this[_0x1d97("0x22")][_0x1d97("0x2dc")]){var m=this.points[0][_0x1d97("0xe5")],A=this.points[1][_0x1d97("0xe5")],C=this[_0x1d97("0x38")].getBuildingById(m),I=this[_0x1d97("0x38")].getBuildingById(A);C&&C.on(_0x1d97("0xf3"),(function(x){var d=x[_0x1d97("0xe8")],_=x.value;d==t[_0x1d97("0xe6")][0].fnum&&(t[_0x1d97("0xe6")][0].y=_),t[_0x1d97("0xf2")](t[_0x1d97("0xe6")])})),I&&I.on(_0x1d97("0xf3"),(function(x){var d=x[_0x1d97("0xe8")],_=x.value;d==t[_0x1d97("0xe6")][1][_0x1d97("0xe8")]&&(t.points[1].y=_),t[_0x1d97("0xf2")](t[_0x1d97("0xe6")])}))}else p.on(_0x1d97("0xf3"),(function(x){var d=x[_0x1d97("0xe8")],_=x[_0x1d97("0xf1")]-t[_0x1d97("0x12ce")];d==t[_0x1d97("0xe8")]&&(t.position.y=t[_0x1d97("0x11e")][_0x1d97("0x932")]+_)}));var y=new(THREE[_0x1d97("0x14a")])(this.geometry,this[_0x1d97("0xa7")]);y.renderOrder=esmap[_0x1d97("0x12b")][_0x1d97("0x12cf")],this[_0x1d97("0xdc")](y),this[_0x1d97("0xbb4")]=y};o[_0x1d97("0xf")]=(0,a[_0x1d97("0x1c")])(THREE[_0x1d97("0x14a")][_0x1d97("0xf")],{height:{get:function(){return this.position.y},set:function(x){this[_0x1d97("0xb6")].y=x}},color:{get:function(){return this[_0x1d97("0x22")][_0x1d97("0x100")]},set:function(x){_0x1d97("0x13d")==typeof x&&(x=this._colorToStr(x)),this[_0x1d97("0x99e")][_0x1d97("0x11d")]({color:x}),this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x173")]&&(this.material.map.needsUpdate=!0)}},lineStyle:{get:function(){return this[_0x1d97("0x22")]},set:function(x){this[_0x1d97("0x144")](x)}},alpha:{get:function(){return this[_0x1d97("0xa7")].opacity},set:function(x){this[_0x1d97("0xa7")][_0x1d97("0xe2")]=x}},lineWidth:{get:function(){return this[_0x1d97("0x22")][_0x1d97("0x119")]},set:function(x){this[_0x1d97("0x144")]({lineWidth:x})}}}),(0,t[_0x1d97("0x1c")])(o[_0x1d97("0xf")],esmap[_0x1d97("0x510")][_0x1d97("0xf")],{updateGeometry:function(x){if(this[_0x1d97("0xa4")][0]){this[_0x1d97("0xa4")][0][_0x1d97("0xa5")].dispose(),this[_0x1d97("0xa4")][0].geometry[_0x1d97("0x9d5")]=[],this[_0x1d97("0xa4")][0][_0x1d97("0xa5")][_0x1d97("0x9d3")]=!0,this[_0x1d97("0xa4")][0][_0x1d97("0xa5")].groupsNeedUpdate=!0,this[_0x1d97("0xa5")][_0x1d97("0xa6")](),this[_0x1d97("0xa5")][_0x1d97("0x9d5")]=[],this[_0x1d97("0xa5")].verticesNeedUpdate=!0,this.fnum=x[0][_0x1d97("0xe8")];var d=this.style,_=x[_0x1d97("0x38")]((function(x){var d=x[_0x1d97("0xdb")]();return d[_0x1d97("0xe8")]=x[_0x1d97("0xe8")],d[_0x1d97("0xe5")]=x.bid,d})),e=new esmap.ESMapNavLineGeometry({radius:this[_0x1d97("0x58b")],pathVertices:_,uvBaseLen:this[_0x1d97("0x10f")],segments:d[_0x1d97("0x599")]||12,up:this.up_,notCenter:this[_0x1d97("0x12bf")],lineMode:this.lineMode,yScale:d.yScale,smooth:d[_0x1d97("0x934")],billboard:d[_0x1d97("0x10cb")]});this[_0x1d97("0x0")]=e[_0x1d97("0x0")],this.baseRepeatX=Math[_0x1d97("0xb0")](e.length/e[_0x1d97("0x12d0")]),this[_0x1d97("0xa5")]=e,this.geometry.verticesNeedUpdate=!0,this.geometry[_0x1d97("0xf54")]=!0,this[_0x1d97("0xa4")][0][_0x1d97("0xa5")]=this[_0x1d97("0xa5")],this[_0x1d97("0xa4")][0][_0x1d97("0xa5")][_0x1d97("0x9d3")]=!0,this.children[0][_0x1d97("0xa5")][_0x1d97("0xf54")]=!0,this[_0x1d97("0xb6")].copy(e.center)}},_colorToStr:function(x){if(_0x1d97("0x13d")==typeof x){for(var d=x[_0x1d97("0x2d")](16);d.length<6;)d="0"+d;return"#"+d}return x},getDashArrayByLineType:function(x){if(x instanceof Array)return x;switch(x){case esmap[_0x1d97("0x4fd")][_0x1d97("0xf47")]:return[1,0];case esmap.ESLineType.DOTTED:return[1,1];case esmap.ESLineType[_0x1d97("0x12d1")]:return[2.5,1,.5,1];case esmap.ESLineType[_0x1d97("0x12d2")]:return[3,1,1.5,1];case esmap[_0x1d97("0x4fd")][_0x1d97("0x12d3")]:return[2,1];case esmap[_0x1d97("0x4fd")][_0x1d97("0x12d4")]:return[2.5,.5,.5,.5,.5,.5];case esmap[_0x1d97("0x4fd")][_0x1d97("0x12d5")]:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap[_0x1d97("0x4fd")][_0x1d97("0x12d6")]:return[5,0];case esmap[_0x1d97("0x4fd")][_0x1d97("0x12bc")]:return[7,0]}},visibleFloorNumsChanged:function(x){var d=x.bid,_=x[_0x1d97("0xbb3")];if(d==this[_0x1d97("0xe5")]){var e=this[_0x1d97("0xe8")],t=!0;_0x1d97("0x13d")==typeof e?-1==_.indexOf(e)&&(t=!1):e instanceof Array&&e[_0x1d97("0x1d")]((function(x){-1==_[_0x1d97("0xd7")](x)&&(t=!1)})),this[_0x1d97("0xf0")]=t}},updateStyle:function(x){x[_0x1d97("0x100")]&&_0x1d97("0x13d")==typeof x[_0x1d97("0x100")]&&(x[_0x1d97("0x100")]=this._colorToStr(x[_0x1d97("0x100")])),(0,t[_0x1d97("0x1c")])(this[_0x1d97("0x22")],x),this[_0x1d97("0x22")][_0x1d97("0x6a")]=_0x1d97("0xf9"),_0x1d97("0x123")!=this[_0x1d97("0x22")].lineType&&_0x1d97("0x503")!=this[_0x1d97("0x22")][_0x1d97("0x145")]||(this[_0x1d97("0x22")][_0x1d97("0x6a")]=this[_0x1d97("0x22")][_0x1d97("0x145")]),x.lineType&&!x.dashArray&&(this[_0x1d97("0x22")][_0x1d97("0x10e")]=this[_0x1d97("0x12ba")](x[_0x1d97("0x145")])),delete this[_0x1d97("0x22")][_0x1d97("0x1b5")],this[_0x1d97("0x99e")].update(this[_0x1d97("0x22")]),this[_0x1d97("0x12cb")](),this[_0x1d97("0xa7")].map.image&&(this.material.map[_0x1d97("0x13b")]=!0,this[_0x1d97("0x10f")]=this[_0x1d97("0x22")][_0x1d97("0x10e")][_0x1d97("0xc5")]((function(x,d){return x+d})),this[_0x1d97("0x33d")]&&this[_0x1d97("0x33d")][_0x1d97("0x0")]>0&&this[_0x1d97("0x33d")][_0x1d97("0x1d")]((function(d){d[_0x1d97("0x144")](x)})))},_updateMaterialByNaviMap:function(){if(!this[_0x1d97("0x22")][_0x1d97("0x48")]){var x=this[_0x1d97("0x99e")][_0x1d97("0x12d7")];this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x113")].y=x[_0x1d97("0x113")],this[_0x1d97("0xa7")][_0x1d97("0x115")]=(0,r[_0x1d97("0x13")])(x,"side",0)}},_firstUpdate:!0,update:function(x){if(this[_0x1d97("0xa7")]&&this[_0x1d97("0xa7")][_0x1d97("0x38")]){this.map.options[_0x1d97("0x208")]&&!this[_0x1d97("0x22")][_0x1d97("0x135")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x113")].x-=x*(this[_0x1d97("0x22")][_0x1d97("0xa5e")][_0x1d97("0x2fa")]||this[_0x1d97("0x22")].animateSpeed||1));var d,_=this[_0x1d97("0x38")][_0x1d97("0x16d")];_[_0x1d97("0x567")],this.ind_;this[_0x1d97("0xa7")]&&this[_0x1d97("0xa7")][_0x1d97("0x38")]&&(this[_0x1d97("0x10d")]&&this.geometry[_0x1d97("0x0")]>0&&(this[_0x1d97("0x12af")]&&(this.shaderConfigs[_0x1d97("0x12ac")]?(this[_0x1d97("0x10d")][_0x1d97("0x102")][_0x1d97("0x12c2")].value=!0,this[_0x1d97("0x10d")][_0x1d97("0x102")][_0x1d97("0x12c4")][_0x1d97("0xf1")]=this.shaderConfigs[_0x1d97("0x12ac")].alpha,this[_0x1d97("0x10d")].uniforms.isSectionFront[_0x1d97("0xf1")]=this[_0x1d97("0x12ae")].splitAlpha[_0x1d97("0x12ad")]?1:0):this[_0x1d97("0x12ae")][_0x1d97("0x12d8")],this[_0x1d97("0x12af")]=!1),this[_0x1d97("0x10d")][_0x1d97("0x102")][_0x1d97("0x13a")][_0x1d97("0xf1")]=this[_0x1d97("0x13a")]),this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x173")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")].needsUpdate=!0),this[_0x1d97("0xa7")][_0x1d97("0x13b")]=!0),d=esmap[_0x1d97("0x75")].getSpriteScale(this[_0x1d97("0x38")]),this.style.updateSize&&0!=_.h_&&(this[_0x1d97("0x122")]&&this[_0x1d97("0xa5")][_0x1d97("0x9a3")](d*this[_0x1d97("0x22")][_0x1d97("0x119")]*.7),this[_0x1d97("0x12d9")](),this.initUpdated||(this.initUpdated=!0,this.material[_0x1d97("0x38")].repeat.x=this[_0x1d97("0xa5")].length*this.style[_0x1d97("0x112")]/(this[_0x1d97("0x10f")]*d*7*1)),this.material&&this[_0x1d97("0x38")][_0x1d97("0x155")]<=this[_0x1d97("0x22")][_0x1d97("0x12b5")]&&this[_0x1d97("0x22")][_0x1d97("0x12b4")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")][_0x1d97("0x112")].x=this[_0x1d97("0xa5")][_0x1d97("0x0")]*this[_0x1d97("0x22")][_0x1d97("0x112")]/(this[_0x1d97("0x10f")]*d*7*1)))}},_upVec:new THREE.Vector3(0,1,0),_zVec:new(THREE[_0x1d97("0xe0")])(0,0,1),_billboard:function(){if(this[_0x1d97("0x22")].billboard&&2==this[_0x1d97("0xa5")].pathVertices[_0x1d97("0x0")]){var x=this.geometry[_0x1d97("0x12da")],d=x[1][_0x1d97("0xdb")]()[_0x1d97("0x3d7")](x[0])[_0x1d97("0x2e1")](),_=d[_0x1d97("0x7f5")](this[_0x1d97("0x12db")]),t=(0,e[_0x1d97("0x1c")])(_)*this[_0x1d97("0x38")][_0x1d97("0x280")][_0x1d97("0x10d7")].getAzimuthalAngle();this[_0x1d97("0x23c")][_0x1d97("0x12dc")](d,t)}},alwaysShow:esmap[_0x1d97("0x177")].prototype[_0x1d97("0xebb")],picked:function(){},dispose:function(){this[_0x1d97("0x33d")]&&this[_0x1d97("0x33d")][_0x1d97("0x0")]>0&&this[_0x1d97("0x33d")][_0x1d97("0x1d")]((function(x){x.dispose()})),esmap[_0x1d97("0x510")][_0x1d97("0xf")][_0x1d97("0xa6")].call(this),this[_0x1d97("0x38")].off(_0x1d97("0x11d"),this._update),this[_0x1d97("0x38")].off(_0x1d97("0x131"),this[_0x1d97("0xf42")]),this[_0x1d97("0xba")]&&this[_0x1d97("0xba")].remove(this),this[_0x1d97("0xbb4")]=null;var x=this[_0x1d97("0xa4")][0];x&&(x.material&&(x.material.map&&(x[_0x1d97("0xa7")][_0x1d97("0x38")].dispose(),x[_0x1d97("0xa7")][_0x1d97("0x38")]=null),x[_0x1d97("0xa7")].dispose(),x[_0x1d97("0xa7")]=void 0),x[_0x1d97("0xa5")]&&(x.geometry[_0x1d97("0xa6")](),x[_0x1d97("0xa5")]=void 0),this[_0x1d97("0xa4")][0]=null),this[_0x1d97("0xa5")]&&(this[_0x1d97("0xa5")][_0x1d97("0xa6")](),this.geometry=void 0),this[_0x1d97("0xa7")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")]&&(this[_0x1d97("0xa7")][_0x1d97("0x38")].dispose(),this[_0x1d97("0xa7")][_0x1d97("0x38")]=null),this[_0x1d97("0xa7")].dispose(),this[_0x1d97("0xa7")]=void 0)}}),d.default=o},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,"__esModule",{value:!0});var e,t=_(2),a=(e=t)&&e[_0x1d97("0xb")]?e:{default:e},i=_(19);var n=function(x){(0,a[_0x1d97("0x1c")])(this,{type:"normal",width:128,height:128,color:"#ff0000",arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:"#33cc61",godEdgeColor:_0x1d97("0x12dd"),godArrowColor:_0x1d97("0x12de"),godArrowXScale:.6,godArrowWidthPercent:.07},x),this[_0x1d97("0x12d7")]={offset:0},this[_0x1d97("0x85a")]=document[_0x1d97("0x21")](_0x1d97("0x4a1"))[_0x1d97("0x84b")]("2d"),this.update()};n.prototype={constructor:n,get canvas(){return this.ctx[_0x1d97("0x4a1")]},update:function(x){var d=this;switch((0,a.default)(d,x),d[_0x1d97("0x12df")](),d[_0x1d97("0x85a")][_0x1d97("0x4a1")][_0x1d97("0x328")]=d[_0x1d97("0x328")],d[_0x1d97("0x85a")].canvas[_0x1d97("0x1b5")]=d[_0x1d97("0x1b5")],d.type){case _0x1d97("0xf9"):d._drawNormal();break;case _0x1d97("0x123"):d[_0x1d97("0x12e0")]();break;case"esarrow":d[_0x1d97("0x12e1")]()}},_doColor:function(){var x=this;[_0x1d97("0x100"),"godColor",_0x1d97("0x12e2"),_0x1d97("0x12e3")][_0x1d97("0x1d")]((function(d){_0x1d97("0x13d")==typeof x[d]&&(x[d]=esmap[_0x1d97("0x52e")][_0x1d97("0xf")][_0x1d97("0x13c")](x[d]))}))},_setMaterialInfo:function(){var x=this;x[_0x1d97("0x12d7")].offset=(0,i[_0x1d97("0x13")])(arguments,0,0),x[_0x1d97("0x12d7")][_0x1d97("0x115")]=(0,i[_0x1d97("0x13")])(arguments,1,0)},_drawNormal:function(){var x=this,d=x[_0x1d97("0x10e")].reduce((function(x,d){return x+d})),_=0;x[_0x1d97("0x10e")][_0x1d97("0x1d")]((function(e,t){t%2==0&&(x[_0x1d97("0x85a")].fillStyle=x[_0x1d97("0x100")],x[_0x1d97("0x85a")][_0x1d97("0x870")](_/d*x[_0x1d97("0x328")],0,e/d*x[_0x1d97("0x328")],x[_0x1d97("0x1b5")])),_+=e})),x._setMaterialInfo(0)},_drawArrow:function(){var x=this,d=(1-x[_0x1d97("0x12e4")])*x[_0x1d97("0x1b5")]/2,_=x[_0x1d97("0x1b5")]*x[_0x1d97("0x12e4")];x.ctx[_0x1d97("0x858")](),x[_0x1d97("0x85a")].moveTo(0,d);var e=x[_0x1d97("0x328")]*(x[_0x1d97("0x12e5")]-x[_0x1d97("0x12e6")]);x.ctx[_0x1d97("0x4ba")](e,d),x.ctx[_0x1d97("0x4ba")](x[_0x1d97("0x328")]*x[_0x1d97("0x12e5")],d+_/2),x[_0x1d97("0x85a")][_0x1d97("0x4ba")](e,d+_),x[_0x1d97("0x85a")][_0x1d97("0x4ba")](0,d+_),x.ctx[_0x1d97("0x4ba")](x[_0x1d97("0x328")]*x[_0x1d97("0x12e6")],d+_/2),x.ctx[_0x1d97("0x856")](),x[_0x1d97("0x85a")][_0x1d97("0x86f")]=x[_0x1d97("0x100")],x[_0x1d97("0x85a")].fill(),x._setMaterialInfo(-.25,2)},_drawGodArrow:function(){var x=this;x[_0x1d97("0x85a")][_0x1d97("0x86f")]=x.godEdgeColor,x[_0x1d97("0x85a")][_0x1d97("0x870")](0,(1-x.godHeightPercent)*x[_0x1d97("0x1b5")]/2,x.width,x.godHeightPercent*x[_0x1d97("0x1b5")]),x.ctx[_0x1d97("0x86f")]=x[_0x1d97("0x100")];var d=(1-x[_0x1d97("0x12e7")]+x[_0x1d97("0x12e8")])*x[_0x1d97("0x1b5")]/2,_=(x[_0x1d97("0x12e7")]-x[_0x1d97("0x12e8")])*x[_0x1d97("0x1b5")];x.ctx[_0x1d97("0x870")](0,d,x[_0x1d97("0x328")],_),x.ctx[_0x1d97("0x86f")]=_0x1d97("0x12e9"),x[_0x1d97("0x85a")][_0x1d97("0x852")]=-2,x[_0x1d97("0x85a")][_0x1d97("0x853")]=2,x[_0x1d97("0x85a")][_0x1d97("0x854")]=4,x[_0x1d97("0x85a")].shadowColor="rgba(0,0,0,0.5)";var e=x[_0x1d97("0x328")]/2,t=x[_0x1d97("0x1b5")]/2,a=x[_0x1d97("0x328")]*x[_0x1d97("0x12ea")],i=x.width*x.godArrowWidthPercent,n=x[_0x1d97("0x328")]*(x.godArrowPercent-x[_0x1d97("0x12eb")])*x.godArrowXScale,r=e-a/2*x[_0x1d97("0x12ec")],s=t-a/2;x[_0x1d97("0x85a")][_0x1d97("0x858")](),x[_0x1d97("0x85a")][_0x1d97("0x254")](r,s),x[_0x1d97("0x85a")].lineTo(r+i,s),x[_0x1d97("0x85a")][_0x1d97("0x4ba")](r+i+n,s+a/2),x[_0x1d97("0x85a")].lineTo(r+i,s+a),x[_0x1d97("0x85a")][_0x1d97("0x4ba")](r,s+a),x[_0x1d97("0x85a")][_0x1d97("0x4ba")](r+n,s+a/2),x[_0x1d97("0x85a")][_0x1d97("0x856")](),x[_0x1d97("0x85a")][_0x1d97("0x86f")]=x[_0x1d97("0x12e3")],x[_0x1d97("0x85a")][_0x1d97("0x33a")](),x[_0x1d97("0x12ed")](-.25,2)}},d[_0x1d97("0x1c")]=n},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=o(_(2)),t=o(_(4)),a=o(_(0)),i=o(_(1)),n=o(_(5)),r=o(_(6)),s=_(19);function o(x){return x&&x.__esModule?x:{default:x}}function c(x){for(var d,_=[],e=2*Math.PI/x[_0x1d97("0x599")],t=0;t<x[_0x1d97("0x599")];t++){var a=new(THREE[_0x1d97("0xe0")])(0,x[_0x1d97("0x58b")]*x[_0x1d97("0x10ca")]*Math.sin(e*t),x[_0x1d97("0x58b")]*Math[_0x1d97("0x5a2")](e*t));_[_0x1d97("0x1")](a),0==t&&(d=a)}_[_0x1d97("0x1")](d);var i,n,r,s,o=x[_0x1d97("0x12da")][_0x1d97("0x0")],c=function(x){for(var d=0,_=x[0].clone(),e=1;e<x[_0x1d97("0x0")];e++)d+=x[e].distanceTo(x[e-1]),_[_0x1d97("0xdc")](x[e]);return{length:d,center:_[_0x1d97("0xdd")](x[_0x1d97("0x0")])}}(x[_0x1d97("0x12da")]);x.length=c.length,x[_0x1d97("0xe7")]=c.center,x[_0x1d97("0x12bd")]||function(x,d){x[_0x1d97("0x1d")]((function(x){x[_0x1d97("0x3d7")](d)}))}(x[_0x1d97("0x12da")],x[_0x1d97("0xe7")]),x[_0x1d97("0x12ee")]=2*Math.PI*x[_0x1d97("0x58b")];var u,h=0,b=0,g=x[_0x1d97("0x12ee")]/x[_0x1d97("0x599")];x[_0x1d97("0x12ef")]=[],f=x.up.clone(),x[_0x1d97("0x12f0")]=null;for(t=0;t<o;t++){i=0==t?null:x[_0x1d97("0x12da")][t-1],r=t==o-1?null:x.pathVertices[t+1],s=l(i,n=x[_0x1d97("0x12da")][t],r),x[_0x1d97("0x12f0")]||(x[_0x1d97("0x12f0")]=new THREE.Vector3(0,1,0).applyMatrix4(s).normalize()),t>0&&(h+=n[_0x1d97("0x25d")](i)),b=0,x._rings[t]=[],n.clone().y=0;for(var v=0;v<_[_0x1d97("0x0")];v++){u=_[v].clone().applyMatrix4(s),x.vertices[_0x1d97("0x1")](u),x[_0x1d97("0x12f1")][t][_0x1d97("0x1")](u);var p=(h+0)/x[_0x1d97("0x0")],m=1-b/x[_0x1d97("0x12ee")],A=Math[_0x1d97("0x317")](p,m);A>x[_0x1d97("0x104")]&&(x.maxUvVal=A),x._uvs[_0x1d97("0x1")](new(THREE[_0x1d97("0x4be")])(p,m)),b+=g}}}function l(x,d,_){var e,t=x&&x[_0x1d97("0xdb")](),a=d[_0x1d97("0xdb")](),i=_&&_[_0x1d97("0xdb")](),n=1,r=null;if(x)if(_){var s=a[_0x1d97("0xdb")]()[_0x1d97("0x3d7")](t).normalize(),o=i[_0x1d97("0x3d7")](a)[_0x1d97("0x2e1")]();r=s[_0x1d97("0x24d")](o)/2,n=1/Math[_0x1d97("0x5a2")](r),n=THREE.Math[_0x1d97("0x688")](n,1,2),e=s[_0x1d97("0xdc")](o)[_0x1d97("0x2e1")]()}else e=a.sub(t)[_0x1d97("0x2e1")]();else e=i[_0x1d97("0x3d7")](a)[_0x1d97("0x2e1")]();var c=new(THREE[_0x1d97("0xe0")])(0,0,1),l=f[_0x1d97("0xdb")](),u=(new(THREE[_0x1d97("0xe0")]))[_0x1d97("0x7ef")](e,l).normalize();0==u[_0x1d97("0x0")]()&&(l=c,u=(new(THREE[_0x1d97("0xe0")]))[_0x1d97("0x7ef")](e,l)[_0x1d97("0x2e1")]());var h=(new THREE.Vector3).crossVectors(u,e)[_0x1d97("0x2e1")]();f=h[_0x1d97("0xdb")](),u[_0x1d97("0x276")](n);var b=(new THREE.Matrix4)[_0x1d97("0x12f3")](e,h,u)[_0x1d97("0x24c")](d);return b[_0x1d97("0x257")]=r,b.vz=u,b}var u=function(x){!x[_0x1d97("0x12da")]||x[_0x1d97("0x12da")][_0x1d97("0x0")]<2||(c(x),function(x){for(var d,_=x[_0x1d97("0x12da")].length,e=x[_0x1d97("0x599")]+1,t=0;t<_-1;t++){d=t*e;for(var a=0;a<e-1;a++)x.faces[_0x1d97("0x1")](new(THREE[_0x1d97("0x12f2")])(d+a+1,d+a,d+e+a)),x.faces[_0x1d97("0x1")](new(THREE[_0x1d97("0x12f2")])(d+a+1,d+a+e,d+e+a+1))}}(x),function(x){for(var d=x.faces[_0x1d97("0x0")],_=0;_<d;_++){var e=x[_0x1d97("0x9d4")][_];x[_0x1d97("0xf51")][0][_0x1d97("0x1")]([x._uvs[e.a],x._uvs[e.b],x[_0x1d97("0x12ef")][e.c]])}x[_0x1d97("0xf53")]=!0}(x),x.computeFaceNormals())},f=null,h=function(x){function d(x){(0,a[_0x1d97("0x1c")])(this,d);var _=(0,n.default)(this,(d.__proto__||(0,t[_0x1d97("0x1c")])(d)).call(this)),i=_;return i.pathVertices=null,i[_0x1d97("0x104")]=0,i[_0x1d97("0x58b")]=1,i[_0x1d97("0x599")]=12,i[_0x1d97("0x12d0")]=1,(0,e.default)(i,x),i[_0x1d97("0x10ca")]||(i[_0x1d97("0x116")]==esmap.ESLineMode[_0x1d97("0x12b9")]?i[_0x1d97("0x10ca")]=.3:i[_0x1d97("0x116")]==esmap[_0x1d97("0x4fc")][_0x1d97("0x12b8")]&&(i[_0x1d97("0x10ca")]=1)),i[_0x1d97("0x934")]=(0,s[_0x1d97("0x13")])(i,"smooth",!0),i.up||(i.up=new(THREE[_0x1d97("0xe0")])(0,1,0)),_[_0x1d97("0x12ef")]=[],_[_0x1d97("0x12f1")]=[],u(i),_}return(0,r[_0x1d97("0x1c")])(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:"setRadius",value:function(x){for(var d,_=this,e=0,t=_._rings,a=1,i=0;i<t[_0x1d97("0x0")];i++){var n=t[i],r=_[_0x1d97("0x12da")][i];if(r)for(var s=0;s<n[_0x1d97("0x0")];s++){var o=n[s];0==s&&1!=_.yScale&&(d=n[0][_0x1d97("0xdb")]()[_0x1d97("0x3d7")](r)[_0x1d97("0x0")]()),1!=_[_0x1d97("0x10ca")]&&(a=o.clone()[_0x1d97("0x3d7")](r)[_0x1d97("0x0")]()/d);var c=r[_0x1d97("0xdb")]().add(o.clone()[_0x1d97("0x3d7")](r).normalize().multiplyScalar(x*a));_[_0x1d97("0x9d5")][e][_0x1d97("0x267")](c),e++}}x<.1&&(x=.1),_[_0x1d97("0x58b")]=x,_.verticesNeedUpdate=!0}}]),d}(THREE[_0x1d97("0x12f4")]);d[_0x1d97("0x1c")]=h},function(x,d,_){"use strict";Object[_0x1d97("0x7")](d,_0x1d97("0xb"),{value:!0});var e=c(_(2)),t=c(_(4)),a=c(_(0)),i=c(_(1)),n=c(_(5)),r=c(_(6)),s=_(19),o=function(x){if(x&&x[_0x1d97("0xb")])return x;var d={};if(null!=x)for(var _ in x)Object.prototype[_0x1d97("0x2")].call(x,_)&&(d[_]=x[_]);return d.default=x,d}(_(376));function c(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}var l=function(x){function d(x){(0,a[_0x1d97("0x1c")])(this,d);var _=(0,n[_0x1d97("0x1c")])(this,(d[_0x1d97("0xe3")]||(0,t[_0x1d97("0x1c")])(d))[_0x1d97("0x3")](this,esmap.ESNodeType.CARD_MARKER,{},new(THREE[_0x1d97("0x14a")])));return _[_0x1d97("0xb71")]=!1,_._locked=!1,_[_0x1d97("0x32")](x),_}return(0,r[_0x1d97("0x1c")])(d,x),(0,i[_0x1d97("0x1c")])(d,[{key:_0x1d97("0x274"),value:function(){this[_0x1d97("0xa3")][_0x1d97("0xf0")]=!0,this._locked||(this[_0x1d97("0x12f5")]=!0)}},{key:_0x1d97("0xaa4"),value:function(){this.o3d_[_0x1d97("0xf0")]=!1,this[_0x1d97("0x12f5")]||(this._locked=!0)}},{key:_0x1d97("0x254"),value:function(x){esmap[_0x1d97("0x177")][_0x1d97("0xf")].moveTo[_0x1d97("0x3")](this[_0x1d97("0xa3")],x)}},{key:_0x1d97("0x12f6"),value:function(){var x=this,d=arguments[_0x1d97("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},_=this[_0x1d97("0x35")];setTimeout((function(){o[_0x1d97("0x12f7")](x[_0x1d97("0x63c")],d).then((function(x){var d=document.createElement("a"),e=(0,s[_0x1d97("0x1a")])(x);document.createEvent(_0x1d97("0x659")).initEvent(_0x1d97("0x945"),!0,!0),d[_0x1d97("0x943")]=_.name,d[_0x1d97("0x73")]=URL[_0x1d97("0x78e")](e),d[_0x1d97("0x945")]()}))}),d[_0x1d97("0x1b4")])}},{key:_0x1d97("0x32"),value:function(x){var d=this,_=null,t=esmap[_0x1d97("0x33")][_0x1d97("0x34")].mode==esmap.MapMode[_0x1d97("0x21b")]?20:12;for(var a in x)null==x[a]&&delete x[a];var i=(0,e[_0x1d97("0x1c")])({id:(0,s[_0x1d97("0x1b")])(8),name:_0x1d97("0x12f8"),url:null,dom:null,data:{},x:null,y:null,scale:30,angle:null,offsetHeight:0,templateSize:{width:256,height:256},template:null,opacity:1,lookAt:!0,animateTime:2,animateHeight:5,animateDelay:0,created:null,showLevel:t},x);if(this[_0x1d97("0x35")]=i,i[_0x1d97("0x48")])esmap[_0x1d97("0x75")][_0x1d97("0x4e0")](i[_0x1d97("0x48")],(function(x){d[_0x1d97("0x12f9")](x)}));else if(i[_0x1d97("0xb1d")])setTimeout((function(){d.domElement=i[_0x1d97("0xb1d")],o[_0x1d97("0x12fa")](i[_0x1d97("0xb1d")]).then((function(x){var _=new THREE.Texture(x);d[_0x1d97("0x12f9")](_)}))[_0x1d97("0x901")]((function(x){}))}),0);else if(i[_0x1d97("0x12fb")]){var n=document[_0x1d97("0x21")](_0x1d97("0x327"));n[_0x1d97("0x22")][_0x1d97("0xb6")]=_0x1d97("0x638"),n.style[_0x1d97("0x3a5")]=_0x1d97("0x12fc"),n[_0x1d97("0x11f0")]("beforeend",i[_0x1d97("0x12fb")]),document.body[_0x1d97("0x25")](n),_=n[_0x1d97("0xa4")][0],setTimeout((function(){d.domElement=_,o[_0x1d97("0x12fa")](_,{}).then((function(x){var _=new THREE.Texture(x);d[_0x1d97("0x12f9")](_)}))}),0)}}},{key:_0x1d97("0x12f9"),value:function(x){var d=this,_=!1;if(!this.inited){_=!0;var t=esmap[_0x1d97("0x33")].instance,a=this[_0x1d97("0x35")],i=x.image,n=i[_0x1d97("0x328")]/i.height,r=new THREE.PlaneBufferGeometry(1,1/n);r[_0x1d97("0x1a2")](0,r.attributes.position[_0x1d97("0xb7")],0);var s=new(THREE[_0x1d97("0xfe")])({transparent:!0,side:2});s[_0x1d97("0xe2")]=a[_0x1d97("0xe2")];var o=this[_0x1d97("0xa3")];if(o[_0x1d97("0xa5")]=r,o.material=s,o[_0x1d97("0x234")]=esmap.ESRenderOrder.cardMarker,a[_0x1d97("0x257")])if(a[_0x1d97("0x257")]instanceof Object){var c=(0,e.default)({x:0,y:0,z:0},a[_0x1d97("0x257")]);o.rotation.x=c.x*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")],o[_0x1d97("0x238")].y=c.y*THREE[_0x1d97("0x24e")].DEG2RAD,o.rotation.z=c.z*THREE[_0x1d97("0x24e")][_0x1d97("0x56c")]}else o[_0x1d97("0x238")].y=a[_0x1d97("0x257")]*THREE[_0x1d97("0x24e")].DEG2RAD;var l=(new(THREE[_0x1d97("0x30b")]))[_0x1d97("0x30c")](o),u=(l.max.y-l[_0x1d97("0x318")].y)/2;o[_0x1d97("0xa5")].translate(0,u,0);var f=t[_0x1d97("0x2f9")]({x:a.x,y:a.y});if(f.y=a[_0x1d97("0x26")],o.position[_0x1d97("0x267")](f),o[_0x1d97("0xa2")]=this,o[_0x1d97("0xe9")]="card",t[_0x1d97("0x146")][_0x1d97("0x188")](o),o[_0x1d97("0x237")][_0x1d97("0x11b")](a[_0x1d97("0x237")],a.scale,1),a[_0x1d97("0x28f")]&&t.on(_0x1d97("0x11d"),(function(){o[_0x1d97("0x28f")](t[_0x1d97("0x17f")][_0x1d97("0xb6")])})),0!=a.animateTime){var h=o[_0x1d97("0xb6")].y,b=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(o.position).to({y:h+a.animateHeight},1e3*a[_0x1d97("0x12fd")])[_0x1d97("0x1b9")](esmap.TWEEN.Easing[_0x1d97("0x1bb")].In),g=new(esmap[_0x1d97("0x1b7")][_0x1d97("0x1b8")])(o[_0x1d97("0xb6")]).to({y:h},1e3*a.animateTime)[_0x1d97("0x1b9")](esmap.TWEEN[_0x1d97("0x1ba")][_0x1d97("0x268")][_0x1d97("0x269")]);b[_0x1d97("0x1c3")](g),g[_0x1d97("0x1c3")](b),setTimeout((function(){b[_0x1d97("0x1c1")]()}),1e3*a[_0x1d97("0x12fe")])}var v=t[_0x1d97("0x36")]==esmap.MapMode[_0x1d97("0x3b")],p=a.showLevel;t.on(_0x1d97("0x132"),(function(){if(!d[_0x1d97("0x12f5")]&&d[_0x1d97("0xa3")]){var x=v?t[_0x1d97("0x155")]:t[_0x1d97("0x22e")];if(p instanceof Array){var _=p[0],e=p[1];x>=_&&x<=e?d[_0x1d97("0xf0")]||(d.visible=!0):d[_0x1d97("0xf0")]&&(d[_0x1d97("0xf0")]=!1)}else v?x<p?d[_0x1d97("0xf0")]&&(d[_0x1d97("0xf0")]=!1):d.visible||(d.visible=!0):x>p?d[_0x1d97("0xf0")]&&(d[_0x1d97("0xf0")]=!1):d[_0x1d97("0xf0")]||(d.visible=!0)}})),this[_0x1d97("0xb71")]=!0}x[_0x1d97("0x13f")]=THREE.LinearFilter,this[_0x1d97("0xa3")][_0x1d97("0xa7")][_0x1d97("0x38")]=x,this[_0x1d97("0xa3")].material[_0x1d97("0x38")][_0x1d97("0x13b")]=!0,_&&this[_0x1d97("0x35")][_0x1d97("0x22b")]&&this.options[_0x1d97("0x22b")](this)}},{key:_0x1d97("0x38"),get:function(){return esmap.ESMap.instance}},{key:"ID",get:function(){return this.options.id}},{key:"name",get:function(){return this[_0x1d97("0x35")].name}},{key:_0x1d97("0x3cb"),get:function(){return{x:this[_0x1d97("0x35")].x,y:this.options.y}}},{key:_0x1d97("0x31e"),get:function(){return this[_0x1d97("0x35")][_0x1d97("0x26")]}},{key:_0x1d97("0x2b"),get:function(){return this[_0x1d97("0xa3")][_0x1d97("0xba")][_0x1d97("0xba")][_0x1d97("0xa2")]}},{key:_0x1d97("0x23f"),get:function(){return this[_0x1d97("0x2b")].FloorNum}},{key:_0x1d97("0x48"),get:function(){return this.options[_0x1d97("0x48")]},set:function(x){var d=this;this[_0x1d97("0x35")][_0x1d97("0x48")]=x,esmap[_0x1d97("0x75")][_0x1d97("0x4e0")](x,(function(x){d[_0x1d97("0x12f9")](x)}))}}]),d}(esmap[_0x1d97("0x515")]);d[_0x1d97("0x1c")]=l},function(x,d,_){"use strict";var e,t,a,i,n,r,s,o,c,l,u,f,h=v(_(71)),b=v(_(69)),g=v(_(16));function v(x){return x&&x[_0x1d97("0xb")]?x:{default:x}}function p(x,d,_){_(x,d);for(var e=0;e<x[_0x1d97("0xa4")][_0x1d97("0x0")];e++)p(x.children[e],d.children[e],_)}THREE[_0x1d97("0x123d")]={retarget:(s=new(THREE[_0x1d97("0xe0")]),o=new(THREE[_0x1d97("0x239")]),c=new(THREE[_0x1d97("0xe0")]),l=new THREE.Matrix4,u=new THREE.Matrix4,f=new(THREE[_0x1d97("0x261")]),function(x,d,_){(_=_||{})[_0x1d97("0x12ff")]=void 0===_.preserveMatrix||_.preserveMatrix,_.preservePosition=void 0===_.preservePosition||_[_0x1d97("0x1300")],_.preserveHipPosition=void 0!==_.preserveHipPosition&&_[_0x1d97("0x1301")],_[_0x1d97("0x1302")]=void 0!==_[_0x1d97("0x1302")]&&_.useTargetMatrix,_[_0x1d97("0x1303")]=void 0!==_[_0x1d97("0x1303")]?_.hip:_0x1d97("0x1303"),_[_0x1d97("0x1304")]=_[_0x1d97("0x1304")]||{};var e,t,a,i,n,r,h=d[_0x1d97("0x1305")]?d[_0x1d97("0x1306")][_0x1d97("0x1307")]:this[_0x1d97("0x1308")](d),b=x[_0x1d97("0x1305")]?x.skeleton[_0x1d97("0x1307")]:this[_0x1d97("0x1308")](x);if(x[_0x1d97("0x1305")]?x[_0x1d97("0x1306")][_0x1d97("0x1309")]():(_[_0x1d97("0x1302")]=!0,_.preserveMatrix=!1),_[_0x1d97("0x1300")])for(n=[],r=0;r<b[_0x1d97("0x0")];r++)n.push(b[r][_0x1d97("0xb6")][_0x1d97("0xdb")]());if(_[_0x1d97("0x12ff")])for(x.updateMatrixWorld(),x.matrixWorld[_0x1d97("0x130a")](),r=0;r<x.children.length;++r)x.children[r][_0x1d97("0x646")](!0);if(_[_0x1d97("0x130b")])for(e=[],r=0;r<b[_0x1d97("0x0")];++r)t=b[r],a=_[_0x1d97("0x1304")][t[_0x1d97("0xb8")]]||t[_0x1d97("0xb8")],_[_0x1d97("0x130b")]&&_[_0x1d97("0x130b")][a]&&(t.matrix[_0x1d97("0x262")](_[_0x1d97("0x130b")][a]),t[_0x1d97("0x24b")][_0x1d97("0x130c")](t.position,t[_0x1d97("0x23c")],t.scale),t[_0x1d97("0x646")]()),e[_0x1d97("0x1")](t[_0x1d97("0x181")][_0x1d97("0xdb")]());for(r=0;r<b[_0x1d97("0x0")];++r){if(t=b[r],a=_[_0x1d97("0x1304")][t[_0x1d97("0xb8")]]||t[_0x1d97("0xb8")],i=this[_0x1d97("0x130d")](a,h),f[_0x1d97("0x267")](t[_0x1d97("0x181")]),i){if(i[_0x1d97("0x646")](),_[_0x1d97("0x1302")]?u[_0x1d97("0x267")](i.matrixWorld):(u.getInverse(x[_0x1d97("0x181")]),u[_0x1d97("0x262")](i[_0x1d97("0x181")])),c.setFromMatrixScale(u),u.scale(c.set(1/c.x,1/c.y,1/c.z)),f[_0x1d97("0x130e")](o[_0x1d97("0x291")](u)),x[_0x1d97("0x1305")]){var g=b[_0x1d97("0xd7")](t),v=e?e[g]:l[_0x1d97("0x647")](x[_0x1d97("0x1306")].boneInverses[g]);f[_0x1d97("0x262")](v)}f.copyPosition(u)}t.parent&&t.parent.isBone?(t[_0x1d97("0x24b")].getInverse(t[_0x1d97("0xba")].matrixWorld),t[_0x1d97("0x24b")][_0x1d97("0x262")](f)):t.matrix[_0x1d97("0x267")](f),_[_0x1d97("0x1301")]&&a===_[_0x1d97("0x1303")]&&t[_0x1d97("0x24b")][_0x1d97("0x24c")](s.set(0,t.position.y,0)),t.matrix.decompose(t.position,t[_0x1d97("0x23c")],t[_0x1d97("0x237")]),t[_0x1d97("0x646")]()}if(_[_0x1d97("0x1300")])for(r=0;r<b[_0x1d97("0x0")];++r)t=b[r],(a=_[_0x1d97("0x1304")][t[_0x1d97("0xb8")]]||t.name)!==_.hip&&t[_0x1d97("0xb6")].copy(n[r]);_[_0x1d97("0x12ff")]&&x[_0x1d97("0x646")](!0)}),retargetClip:function(x,d,_,e){(e=e||{})[_0x1d97("0x130f")]=void 0!==e.useFirstFramePosition&&e[_0x1d97("0x130f")],e[_0x1d97("0x1310")]=void 0!==e[_0x1d97("0x1310")]?e.fps:30,e[_0x1d97("0x1304")]=e[_0x1d97("0x1304")]||[],d[_0x1d97("0x1305")]||(d=this[_0x1d97("0x1311")](d));var t,a,i,n,r,s,o=Math[_0x1d97("0x1cc")](_.duration*(e[_0x1d97("0x1310")]/1e3)*1e3),c=1/e.fps,l=[],u=new THREE.AnimationMixer(d),f=this[_0x1d97("0x1308")](x[_0x1d97("0x1306")]),h=[];for(u[_0x1d97("0x2b3")](_).play(),u[_0x1d97("0x11d")](0),d[_0x1d97("0x646")](),r=0;r<o;++r){var b=r*c;for(this[_0x1d97("0x1312")](x,d,e),s=0;s<f.length;++s)n=e[_0x1d97("0x1304")][f[s].name]||f[s][_0x1d97("0xb8")],this.getBoneByName(n,d.skeleton)&&(a=f[s],i=h[s]=h[s]||{bone:a},e[_0x1d97("0x1303")]===n&&(i[_0x1d97("0x3ed")]||(i[_0x1d97("0x3ed")]={times:new Float32Array(o),values:new Float32Array(3*o)}),e.useFirstFramePosition&&(0===r&&(t=a.position[_0x1d97("0xdb")]()),a[_0x1d97("0xb6")].sub(t)),i[_0x1d97("0x3ed")][_0x1d97("0x1b2")][r]=b,a.position.toArray(i[_0x1d97("0x3ed")][_0x1d97("0x783")],3*r)),i[_0x1d97("0x1313")]||(i[_0x1d97("0x1313")]={times:new Float32Array(o),values:new Float32Array(4*o)}),i[_0x1d97("0x1313")][_0x1d97("0x1b2")][r]=b,a[_0x1d97("0x23c")].toArray(i[_0x1d97("0x1313")].values,4*r));u[_0x1d97("0x11d")](c),d[_0x1d97("0x646")]()}for(r=0;r<h[_0x1d97("0x0")];++r)(i=h[r])&&(i[_0x1d97("0x3ed")]&&l[_0x1d97("0x1")](new(THREE[_0x1d97("0x7d4")])(_0x1d97("0x1314")+i[_0x1d97("0x1315")][_0x1d97("0xb8")]+_0x1d97("0x1316"),i.pos[_0x1d97("0x1b2")],i[_0x1d97("0x3ed")][_0x1d97("0x783")])),l[_0x1d97("0x1")](new(THREE[_0x1d97("0x7d3")])(".bones["+i.bone[_0x1d97("0xb8")]+_0x1d97("0x1317"),i.quat[_0x1d97("0x1b2")],i[_0x1d97("0x1313")][_0x1d97("0x783")])));return u[_0x1d97("0x1318")](_),new(THREE[_0x1d97("0x1319")])(_[_0x1d97("0xb8")],-1,l)},getHelperFromSkeleton:function(x){var d=new(THREE[_0x1d97("0x131a")])(x[_0x1d97("0x1307")][0]);return d[_0x1d97("0x1306")]=x,d},getSkeletonOffsets:(e=new(THREE[_0x1d97("0xe0")]),t=new(THREE[_0x1d97("0xe0")]),a=new(THREE[_0x1d97("0xe0")]),i=new(THREE[_0x1d97("0xe0")]),n=new THREE.Vector2,r=new(THREE[_0x1d97("0x4be")]),function(x,d,_){(_=_||{})[_0x1d97("0x1303")]=void 0!==_.hip?_[_0x1d97("0x1303")]:"hip",_.names=_[_0x1d97("0x1304")]||{},d[_0x1d97("0x1305")]||(d=this[_0x1d97("0x1311")](d));var s,o,c,l,u=(0,g[_0x1d97("0x1c")])(_.names),f=(0,b[_0x1d97("0x1c")])(_[_0x1d97("0x1304")]),h=d[_0x1d97("0x1305")]?d[_0x1d97("0x1306")][_0x1d97("0x1307")]:this[_0x1d97("0x1308")](d),v=x.isObject3D?x[_0x1d97("0x1306")][_0x1d97("0x1307")]:this[_0x1d97("0x1308")](x),p=[];for(x.skeleton[_0x1d97("0x1309")](),l=0;l<v.length;++l)if(s=v[l],c=_[_0x1d97("0x1304")][s[_0x1d97("0xb8")]]||s[_0x1d97("0xb8")],(o=this[_0x1d97("0x130d")](c,h))&&c!==_[_0x1d97("0x1303")]){var m=this[_0x1d97("0x131b")](s.parent,u),A=this.getNearestBone(o.parent,f);m.updateMatrixWorld(),A[_0x1d97("0x646")](),e[_0x1d97("0x64f")](m[_0x1d97("0x181")]),t.setFromMatrixPosition(s.matrixWorld),a[_0x1d97("0x64f")](A[_0x1d97("0x181")]),i[_0x1d97("0x64f")](o[_0x1d97("0x181")]),n[_0x1d97("0x7ee")](new(THREE[_0x1d97("0x4be")])(t.x,t.y),new(THREE[_0x1d97("0x4be")])(e.x,e.y)).normalize(),r[_0x1d97("0x7ee")](new(THREE[_0x1d97("0x4be")])(i.x,i.y),new(THREE[_0x1d97("0x4be")])(a.x,a.y))[_0x1d97("0x2e1")]();var C=n[_0x1d97("0x257")]()-r.angle(),I=(new(THREE[_0x1d97("0x261")]))[_0x1d97("0x263")](new(THREE[_0x1d97("0x264")])(0,0,C));s.matrix[_0x1d97("0x262")](I),s[_0x1d97("0x24b")].decompose(s.position,s[_0x1d97("0x23c")],s[_0x1d97("0x237")]),s[_0x1d97("0x646")](),p[c]=I}return p}),renameBones:function(x,d){for(var _=this[_0x1d97("0x1308")](x),e=0;e<_.length;++e){var t=_[e];d[t[_0x1d97("0xb8")]]&&(t[_0x1d97("0xb8")]=d[t[_0x1d97("0xb8")]])}return this},getBones:function(x){return Array[_0x1d97("0x547")](x)?x:x.bones},getBoneByName:function(x,d){for(var _=0,e=this[_0x1d97("0x1308")](d);_<e[_0x1d97("0x0")];_++)if(x===e[_].name)return e[_]},getNearestBone:function(x,d){for(;x[_0x1d97("0x7dc")];){if(-1!==d[_0x1d97("0xd7")](x.name))return x;x=x.parent}},findBoneTrackData:function(x,d){for(var _=/\[(.*)\]\.(.*)/,e={name:x},t=0;t<d[_0x1d97("0x0")];++t){var a=_[_0x1d97("0x131c")](d[t].name);a&&x===a[1]&&(e[a[2]]=t)}return e},getEqualsBonesNames:function(x,d){var _=this[_0x1d97("0x1308")](x),e=this.getBones(d),t=[];x:for(var a=0;a<_[_0x1d97("0x0")];a++)for(var i=_[a][_0x1d97("0xb8")],n=0;n<e[_0x1d97("0x0")];n++)if(i===e[n][_0x1d97("0xb8")]){t.push(i);continue x}return t},clone:function(x){var d=new(h[_0x1d97("0x1c")]),_=new h.default,e=x[_0x1d97("0xdb")]();return p(x,e,(function(x,e){d[_0x1d97("0x11b")](e,x),_[_0x1d97("0x11b")](x,e)})),e[_0x1d97("0xb4")]((function(x){if(x.isSkinnedMesh){var e=x,t=d.get(x),a=t.skeleton.bones;e.skeleton=t[_0x1d97("0x1306")][_0x1d97("0xdb")](),e[_0x1d97("0x131d")][_0x1d97("0x267")](t[_0x1d97("0x131d")]),e[_0x1d97("0x1306")].bones=a.map((function(x){return _[_0x1d97("0x359")](x)})),e[_0x1d97("0x11")](e[_0x1d97("0x1306")],e[_0x1d97("0x131d")])}})),e}}}]));

/*ESWorldTools 2.0 2023-4-12 11:56:53 âF10: AMâ¤*/
var _0x23ff=['-receiveShadow','-shadow','child','-castShadow','useAll','setModelObjShadowConfig','__no_cast_shadow','__no_shadow','__no_receive_shadow','activeShadow','Quaternion','applyQuaternion','FogExp2','density','exp2','showFarPlane','#FF0000','updateProjectorTarget','allMarkerList','container_','orbitCameraFlyTo','sortObjects','backToMapControls','off','resetGroundPickView','setGroundPick','imgPath','pickAnimateObj','face','isLockGroundPick','updateGroundPick','transformDirection','flytoGroundPickPos3','checkIsCanMove','maxDistance','InOut','flytoGroundPickPos2','getPolarAngle','getAzimuthalAngle','flytoGroundPickPos','testPoints','removeGroundPick','disposeMesh','cameraFlyTo','domElement','minZoom','maxZoom','minPolarAngle','maxPolarAngle','minAzimuthAngle','maxAzimuthAngle','enableDamping','dampingFactor','panSpeed','screenSpacePanning','keyPanSpeed','MOUSE','LEFT','MIDDLE','RIGHT','position0','zoom0','zoom','saveState','target0','NONE','setFromUnitVectors','inverse','autoRotate','forceTheta','forcePhi','radioFactor','setFromSpherical','distanceToSquared','quaternion','contextmenu','mousedown','wheel','touchmove','mousemove','keydown','change','end','setFromMatrixColumn','body','clientHeight','isOrthographicCamera','clientWidth','preventDefault','focus','button','shiftKey','ROTATE','DOLLY','mouseButtons','PAN','mouseup','stopPropagation','deltaY','enableKeys','keyCode','touches','pageY','TOUCH_ROTATE','pageX','touchend','cameraViewImgPath','img','onload','div','relative','absolute','transformOrigin','px\x20','floorEdges','maxx','maxy','miny','minx','transform','rotate(','deg)','controlchange','innerHTML','prevTime','beginTime','isCheckFrameRateComplete','_tempFrameRateList','_tempResultList','begin','trimmedMean','sort','reduce','computeAverageFps','wrap','prev','sleep','regeneratorRuntime','@@asyncIterator','Generator\x20is\x20already\x20running','method','arg','delegate','throw','The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method','resultName','nextLoc','iterator\x20result\x20is\x20not\x20an\x20object','sent','_sent','dispatchException','abrupt','_invoke','__await','catchLoc','afterLoc','tryEntries','completion','suspendedStart','executing','displayName','GeneratorFunction','isGeneratorFunction','mark','AsyncIterator','async','rval','tryLoc','finallyLoc','try\x20statement\x20without\x20catch\x20or\x20finally','break','continue','illegal\x20catch\x20attempt','names','ES3DMarker','ESModel3D','setOutline','removeOutline','setFrameLine','showBoatFoam','setUvTransform','ESPolygonMarker','setBloomLight','ESLineMarker','ESFloorManager','TWEEN','_tweens','_tweensAddedDuringUpdate','getId','nextId','_nextId','performance','_object','_valuesEnd','_valuesStartRepeat','_duration','_repeat','_repeatDelayTime','_yoyo','_isPlaying','_reversed','_delayTime','_startTime','_easingFunction','_interpolationFunction','_onStartCallback','_onStartCallbackFired','_onUpdateCallback','_onRepeatCallback','_onCompleteCallback','_onStopCallback','_group','concat','_valuesStart','stopChainedTweens','_chainedTweens','stop','Bounce','Interpolation','Utils','Bernstein','CatmullRom','setTimeout\x20has\x20not\x20been\x20defined','clearTimeout\x20has\x20not\x20been\x20defined','fun','run','browser','env','versions','addListener','removeListener','prependListener','prependOnceListener','listeners','binding','process.binding\x20is\x20not\x20supported','cwd','chdir','process.chdir\x20is\x20not\x20supported','_tempRaf','_tileUpdateLock','estile_map','tileType','tileUrl','tileurl','levelOffset','tileSourceLevelOffset','levelMax','tileSourceMaxLevel','levelExtent','tileSourceLevelExtent','getControlsInfo','isShowTileSourceLicense','isInitShow','isOpenControllerInertia','tileSourceZoom','EPSG:3857','DEFAULT_THEME','waterOriginColor','waterReplaceColor','waterSkyTexture','waterSkyTexPath','PlanarView','isSetTileBlending','tileThemeConfigs','EffectManager','tileMapView','camera3D','resetControls','moveToAnimate','levelChange','scaleLevel','getSkybox','updateTileView','controlend','getLights','initTileMapShadow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isOpenTileFrozen','16px','fontSize','12px','paddingLeft','5px','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','4px','href','https://www.esmap.cn/','_blank','#000','innerText','\x20|\x20Â©\x20è°·æ­å°å¾\x20','http://www.google.cn','autonavi.com','\x20|\x20Â©\x20é«å¾·å°å¾\x20','https://map.amap.com/doc/serviceitem.html','tianditu.gov.cn','geoq.cn','http://www.geoq.cn/index.html','text','link','textDecoration','100%','_toggleTileLoadingMask','block','TMSSource','image/png','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','TMS_Map','GCJ02','ColorLayer','addLayer','flyTo','tiltAngle','cameraAnimateUpdate','cameraAnimateComplete','getZoomFromSphereRadius','_tempMaxPolarAngle','delay','pitchAnimate','Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined','zoomLevelTo','setControlsInfo','getEarthZoomRadius','defaultView','initCameraPos','startZoom','viewMode_','ESViewMode','MODE_2D','viewMode','MODE_3D','maxNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','tileScene_','targetLevel','initPitchAngle','tileShowLevel','%c\x20The\x20parameter\x20tileShowLevel\x20of\x20the\x20ESMap\x20instance\x20needs\x20to\x20be\x20less\x20than\x20the\x20value\x20of\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scaleLevelAnimate','scaleLevelAnimate.targetLevel','color:red;','cursor','wait','isNeedAnimate','pointToPointAnimate','openTileClick','tileClickDebug','dblclick','tileMapInitComplete','currLayer','selectEffect','randomTexture','pickableBuildings','__trl','WndNWnQOW24=','encode64','TjEySDU2TS4xSDUyTw==','tile\x20url\x20domain\x20is\x20not\x20permission','effects.json','tileTheme','isChangeDefaultTheme','skyColor','colorMapping','isOpenGrayFilter','createColorMapping','steps','isSetDeepenColor','contrast','hue','saturation','tileWater','sparklingColor','waterSparklingColor','zoomTo','Tools','CoordTransform','minLevel','minEarthZoom','maxLevel','maxEarthZoom','isLockEarthZoom','_minEarthZoom','_isOpenAlpha','_isSetAlpha','_alpha','tileView','_mousedown','_mouseup','mouseUp','_mousemove','mouseDown','mouseMove','_touchend','isMouseMove','touchstart','_touchstart','_touchmove','moveCount','DataTexture','exports','undefined','toStringTag','defineProperty','Module','__esModule','object','create','string','bind','default','prototype','hasOwnProperty','call','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','length','configurable','value','key','2.6.12','number','apply','function','virtual','Math','return\x20this','wks','Symbol.','store','set','Accessors\x20not\x20supported!','\x20is\x20not\x20an\x20object!','keys','toString','slice','random','Symbol(','String','coordMapToThree','mode','MapMode','City','ESMap','instance','debounce','getOS','clearShaderCode','getConfigAssetsPath','selectCityMapEffectConfigPath','getMaterialByRoomStyle','getOutdoorBuildingTheme','getMapInstance','setPositionFromMc','checkIsCityEngine','coordTransToThree','innerCoordTransToThree','getBuilding','getBuildingById','mapScene','sceneX_','sceneZ_','checkIsParkEngine','ESMapUtil','CommonConstant','Engine','Park','position','mapTheme','themeList','roomStyle','datas_','RoomStyle','material','userData','onlineEffectThemeId','effectId','effectThemeId','options','tid','serverUrl','/worldeffect/','mapDataSrc','Effect','ESEffectTool','configUserPath','switchConfigPath','vertexShader','fragmentShader','directionFromAlphaBeta','sin','cos','test','userAgent','Expected\x20a\x20function','cannel','split','propertyIsEnumerable','Can\x27t\x20call\x20method\x20on\x20\x20','IE_PROTO','style','appendChild','src','javascript:','contentWindow','document','open','write','<script>document.F=Object</script>','close','\x20is\x20not\x20a\x20function!','floor','__core-js_shared__','push','version','pure','global','Â©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf','Can\x27t\x20convert\x20object\x20to\x20primitive\x20value','createElement','iterator','next','values','entries','Array','Symbol','charAt','Arguments','Undefined','Null','Object','callee','symbol','constructor','BREAK','RETURN','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','getIteratorMethod','@@iterator','meta','isExtensible','NEED','dispose','map','geometry','traverse','remove','defineProperties','getOwnPropertyNames','ModelTerrain','BoatFoam','ModelLightBlend','ModelBlendEffect','GroundBlend','ProjectionVideo','ESInstanceMesh','TextureUvAnimation','ClearSkyGround','CirclePlane','GroundPoints','WaterShape','EnvTextureLoader','PlaneCrossLine','MulripleMeshLine','FloatPoints','WaterSpread','Fire','Smoke','FireSmoke','PlaneFogEffect','EdgeLineEffect','ScrollWallEffect','ExtentWallEffect','NumberUpEffect','CylinderSpreadEffect','CircleRippleEffect','Points','PointsLine','CircleRotateYMarker','CylinderFloatMarker','CubeFloatMarker','CameraFlyTo','SelectPoint','MapTileWater','CubeSkybox','Skybox','ClearSky','BuildingsTexture2','ModelUvAnimation','PlaneWindEffect','PlaneVideo','ModelFresnelEffect','getPrototypeOf','EventDispatcher','_listeners','indexOf','splice','type','target','TextureLoader','textureList','load','textureLoader','texture','checkTextureIsLoaded','done','path','return','textureLoad','all','loadSixPicCubeTexture','CubeTextureLoader','loadTexture','isArray',':\x20incorrect\x20invocation!','\x20Iterator','max','min','charCodeAt','\x20is\x20not\x20iterable!','Bad\x20Promise\x20constructor','resolve','TypedArrayHelper','array','componentSize','shrink','grow','info','TypedArray\x20is\x20already\x20of\x20size:','Will\x20not\x20resize.','size','setFromArray','indexOffset','setVec2','setVec2Components','setVec3','setVec3Components','setVec4','setVec4Components','setMat3','setMat4','elements','setColor','getValueAtIndex','getComponentValueAtIndex','ShaderAttribute','typedArray','bufferAttribute','dynamicBuffer','updateMin','typeSizeMap','setUpdateRange','updateMax','flagUpdate','updateRange','count','needsUpdate','resetUpdateRange','resetDynamic','dynamic','forceUpdateAll','offset','_ensureTypedArray','setSize','arrayType','_createBufferAttribute','itemSize','BufferAttribute','getLength','shaderChunks','#define\x20PACKED_COLOR_SIZE\x20256.0','#define\x20PACKED_COLOR_DIVISOR\x20255.0','join','uniform\x20sampler2D\x20texture1;','uniform\x20vec4\x20textureAnimation;','uniform\x20float\x20scale;','attribute\x20vec3\x20velocity;','attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;','attribute\x20vec4\x20params;','attribute\x20vec4\x20size;','attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;','attribute\x20vec4\x20opacity;','varying\x20vec4\x20vColor;','#endif','#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;','float\x20when_gt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{','\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20a\x20*\x20b;','float\x20or(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20return\x20c;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;','\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','\x20\x20\x20\x20\x20\x20\x20fIndex\x20=\x20float(\x20i\x20);','\x20\x20\x20\x20\x20\x20\x20shouldApplyValue\x20=\x20and(\x20when_gt(\x20deltaAge,\x20fIndex\x20),\x20when_le(\x20deltaAge,\x20fIndex\x20+\x201.0\x20)\x20);','\x20\x20\x20\x20}','vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{','\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','\x20\x20\x20\x20return\x20value;','float\x20getAlive()\x20{','\x20\x20\x20return\x20params.x;','float\x20getAge()\x20{','\x20\x20\x20return\x20params.z;','float\x20getWiggle()\x20{','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,','\x20\x20\x20}','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{','\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;','\x20\x20\x20\x20\x20\x20vec3\x20translated;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);','\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);','shaders','defines','uniforms','attributes','varyings','ShaderChunk','common','logdepthbuf_pars_vertex','fog_pars_vertex','branchAvoidanceFunctions','unpackColor','colorOverLifetime','paramFetchingFunctions','forceFetchingFunctions','void\x20main()\x20{','\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20pos\x20+=\x20force;','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;','\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;','\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)','\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));','\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','logdepthbuf_vertex','fog_vertex','fog_pars_fragment','logdepthbuf_pars_fragment','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20','\x20\x20\x20\x20#ifdef\x20ALPHATEST','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','rotateTexture','logdepthbuf_fragment','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);','boolean','ensureInstanceOf','_value','_spread','clamp','interpolateArray','clone','ceil','lerpTypeAgnostic','NUMBER','Vector2','lerp','Vector3','Vector4','Color','abs','roundToNearestMultiple','copy','getHex','sqrt','randomFloat','multiplyScalar','normalize','add','setRGB','types','ensureTypedArg','OBJECT','generateUUID','Texture','textureFrames','frames','textureFrameCount','frameCount','loop','hasPerspective','BOOLEAN','maxParticleCount','blending','transparent','alphaTest','depthWrite','depthTest','fog','scale','emitters','emitterIDs','_pool','_createNewWhenPoolEmpty','_attributesNeedRefresh','_attributesNeedDynamicReset','particleCount','textureLoop','colorize','valueOverLifetimeLength','attributeKeys','attributeCount','ShaderMaterial','fragment','mesh','Group','_updateDefines','SHOULD_CALCULATE_SPRITE','SHOULD_ROTATE_TEXTURE','spread','SHOULD_ROTATE_PARTICLES','rotation','angle','angleSpread','SHOULD_WIGGLE_PARTICLES','wiggle','addAttribute','addEmitter','Emitter','error','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','uuid','group','_calculatePPSValue','maxAge','_setBufferUpdateRanges','_assignPositionValue','_assignForceValue','velocity','acceleration','_assignAbsLifetimeValue','opacity','_assignAngleValue','_assignRotationValue','_assignColorValue','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.','attributeOffset','params','getFromPool','pop','_poolCreationSettings','releaseIntoPool','reset','Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:','getPool','addPool','_triggerSingleEmitter','enable','duration','triggerPoolEmitter','runTime','_resetBufferRanges','_updateBuffers','bufferUpdateRanges','tick','fixedTimeStep','_updateUniforms','utils','radius','drag','color','onParticleSpawn','distributions','BOX','spreadClamp','distribution','randomise','radiusScale','axis','axisSpread','static','ensureArrayInstanceOf','ensureArrayTypedArg','activeMultiplier','direction','alive','particlesPerSecond','attributeEnd','age','activeParticleCount','paramsArray','resetFlags','updateFlags','updateCounts','updateMap','ensureValueOverLifetimeCompliance','_createGetterSetters','replace','_rotationCenter','rotationCenter','_randomise','POSITIVE_INFINITY','NEGATIVE_INFINITY','_assignValue','_assignParamsValue','_distribution','randomVector3','_spreadClamp','SPHERE','_radius','_radiusScale','_distributionClamp','DISC','randomVector3OnDisc','randomDirectionVector3OnSphere','arrayValuesAreEqual','isStatic','getPackedRotationAxis','_axis','_angle','_center','randomColorAsHex','_resetParticle','bufferUpdateKeys','_onRemove','activationIndex','_decrementParticleCount','_checkParticleAges','_updateAttributeUpdateRange','_activateParticles','_incrementParticleCount','activationEnd','disable','enumerable','stringify','toPrimitive','symbol-registry','symbols','op-symbols','QObject','Symbol\x20is\x20not\x20a\x20constructor!','[null]','JSON','valueOf','asyncIterator','observable','Incompatible\x20receiver,\x20','\x20required!','MarkerFuncName','ESEffectsConstant','ESModelEffectConstant','ESParkConstant','ESMarkerLevel','ESMarkerType','cube_float','cylinder_float','cylinder_spread','circle_bips','circles_radian_rotate','circle_breath','sphere_spread','transfer_line','points_line','underground_line','extent_wall','fire_smoke','smoke','fire','water_spread','routes_line','up_line','plane_video','guide_line','plane_wind','plane_terrain','CylinderSpreadMarker','CircleRippleMarker','CircleBipsMarker','CurveLinkLine','UpLine','UnderGroundLine','NumberUpParticle','ExtentWallMarker','FireSmokeMarker','SmokeMarker','FireMarker','WaterSpreadMarker','FloatPointsMarker','PlaneVideoMarker','SignalWifiMarker','PlaneWindMarker','PlaneFogMarker','PlaneTerrainMarker','INDOOR','PARK','CITY','dark','light','technology','none','style1','style2','ESTileConstant','noface','lineframe','transparentHL','species','assign','abcdefghijklmnopqrst','forEach','process','setImmediate','clearImmediate','Dispatch','onreadystatechange','nextTick','now','port2','port1','onmessage','postMessage','addEventListener','message','script','removeChild','promise','setStandardMaterialParams','requestEffectThemeConfig','jsonFileLoader','FileLoader','parse','esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!','roughness','metalness','mirrorReflection','envMapIntensity','hightLightReflection','from','view','controls','isFlying','moveSpeed','zoomSpeed','radiusFactor','pitchAngle','complete','ESDirection','distanceTo','_cameraSphericalRadius','SOUTH','WAST','EAST','NORTH_WEST','SOUTH_EAST','SOUTH_WEST','flyToAnimate','can\x20not\x20find\x20esmap.ESDirection\x20data','p2pFlyFocusTo','cameraPosition','targetPos','directionAngle','time','degToRad','rotateAround','Tween','Quadratic','start','onUpdate','update','onComplete','toggleControlsLock','checkScaleLevel','updateLookAtPos','easing','Easing','Out','enablePan','enableRotate','enableZoom','setPrototypeOf',':\x20can\x27t\x20set\x20as\x20prototype!','__proto__','fastKey','add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON','clear','getConstructor','setStrong','#toJSON\x20isn\x27t\x20generic','timer','imageHeight','xCount','yCount','fps','imageWidth','xSize','ySize','xIndex','yIndex','repeat','getElapsedTime','getSegementPoints','_getSegementPointsForVec3','sub','_index','index','createMaterial','colorStr','MeshLineMaterial','setStyle','dashArray','dashOffset','dashRatio','resolution','sizeAttenuation','lineWidth','near','camera','lineMaterial','makeSquare','Geometry','vertices','makeLineGeometry','MeshLine','taper','linear','setGeometry','parabolic','pow','wavy','addLine','meshLines','renderOrder','getAngleToNextLine','lastAngle','tempDir','subVectors','tempStartPoint','tempEndPoint','cross','angleTo','collectPoints','children','BufferGeometry','merge','Matrix4','applyMatrix','Mesh','MeshNormalMaterial','Raycaster','intersectObject','point','removeLine','disposeChilds','setResizeListen','width','height','disposeAll','fadeOut','useFadeOut','fadeOutFactor','render','speed','visible','object3d','lineType','isCanChangeStyle','Object3D','innerWidth','innerHeight','wrapT','RepeatWrapping','eventName','click','layer','_handleGetPos','callback','container','removeEventListener','getOffsetX','event','srcElement','offsetX','getBoundingClientRect','clientX','getOffsetY','offsetY','clientY','left','pickPosition','lonLanToMc','google','mcToLonLan','getLoLaFromWorldPos','Promise','then','6.6','domain','emit','onrejectionhandled','enter','exit','Promise-chain\x20cycle','unhandledRejection','console','Unhandled\x20promise\x20rejection','Promise\x20can\x27t\x20be\x20resolved\x20itself','fail','reject','MutationObserver','WebKitMutationObserver','navigator','createTextNode','observe','data','Set','def','positions','previous','side','indices_array','uvs','widthCallback','subarray','buffer','UniformsLib','meshline_vert','meshline_frag','useMap','alphaMap','useAlphaMap','far','useDash','visibility','useChange','setValues','setMatrixWorld','matrixWorld','counters','raycast','Ray','Sphere','linePrecision','computeBoundingSphere','boundingSphere','applyMatrix4','ray','getInverse','LineSegments','fromArray','origin','distanceSqToSegment','compareV3','copyV3','copyArray','setIndex','advance','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;','attribute\x20vec3\x20changeColor;','attribute\x20float\x20side;','attribute\x20float\x20width;','uniform\x20float\x20lineWidth;','uniform\x20vec3\x20color;','uniform\x20float\x20far;','varying\x20vec2\x20vUV;','varying\x20vec3\x20vChangeColor;','varying\x20float\x20vCounters;','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;','\x09\x20vCounters\x20=\x20counters;','\x20\x20\x20\x20return\x20res;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);','\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20vec2\x20dir;','\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20normal.x\x20/=\x20aspect;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useDash;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20visibility;','uniform\x20float\x20alphaTest;','uniform\x20float\x20fadeOutFactor;','uniform\x20float\x20useChange;','uniform\x20vec2\x20repeat;','uniform\x20vec2\x20offset;','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);','\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){','\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','fog_fragment','canvas','getContext','addColorStop','rgba(0,\x200,\x200,\x201)','fillStyle','originColor','isShowWater','replaceColor','updateView','updateLayerNodesMaterial','tileLayer','isSpread','shaderMesh','shader','MeshBasicMaterial','onBeforeCompile','iTime','texture1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PlaneBufferGeometry','#FFFFFF','alphaTex','texOffsetY','isCanUpdate','isNeedUpdateLookAt','list','extentRadius','wrapS','DoubleSide','AdditiveBlending','exRadius','#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttribute','randFloat','Float32BufferAttribute','frustumCulled','createRandomObj','lineHeight','lineNumber','setLookAtCamera','lookAt','enabled','shaderParticleEngine','fireSmokeParticle','emitter','centerGroup','_visible','innerTex','outTex','isOpenScreenEffect','spreadFactor','NormalBlending','fireSmokeEmitter','fogColor','fireParticle','fireEmitter','round','particleGroup','waterFlux','dirAngle','debug','rotateY','rotateX','closeWater','hypot','gapDistance','pointSize','#ffffff','name','root','points','deltaDistance','routePoints','currIndex','animateHandle','InterleavedBuffer','InterleavedBufferAttribute','cIndex','PointsMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','emissive','setHSL','_moveObjInPointsLine','_moveObjToTarget','Linear','onStart','autoScale','createSkybox','createTextureCube','ShaderLib','cube','BackSide','BoxBufferGeometry','scene','RGBFormat','CubeReflectionMapping','encoding','mapView','textureCube','skyBox','createSixPicCubeTexture','dispatchEvent','canUpdate','createOnePicCubeTexture','CubeTexture','format','drawImage','images','createBox','isCullGround','intensity','tCube2','transFactor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20-45e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tCube','envMap','#0077ff','topColor','bottomColor','skyTex','exponent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gradientShader','topColorStr','bottomColorStr','#include\x20<common>','#include\x20<project_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SKY_COLOR','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor.a\x20*=\x20opacity;','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SphereBufferGeometry','createSphereSky','setBackground','background','skyMesh','sunPosition','theta','skyConfigs','nightSkyConfigs','skyMaterial','clearSkyBox','setSkyConfig','turbidity','rayleigh','luminance','mieDirectionalG','refreshSky','phi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','log10','log','isIterable','ESMapTools\x20requires\x20esmap.js','EFFECT_MARKER','effectMarker','effects','floors','ground','lights','models','routes','skybox','water','video','screenEffect','switchEffectLight','isInitComplete','esmap\x20is\x20not\x20initialized','getBuiding','getFloor','_effectLayers','FloorNum','o3d_','getFloorHeight','effect\x20initialize\x20is\x20not\x20complete!','bid','fnum','removeLayer','buildingList','floorNums','Symbol\x20is\x20not\x20a\x20constructor','fill','this\x20is\x20null\x20or\x20not\x20defined','addMarker','markers','removeAll','marker','imgUrl','MARKER_ASSETS','cylinderHeight','moveHeight','isShine','anisotropy','renderer','capabilities','getMaxAnisotropy','seeThrough','animateType','scanHeight','cincture','alphaTexture','offsetHeight','randomCenter','setUpdateListen','focuseColor','isTransparentLight','scrollImgUrl','scrollXRepeat','scrollClockWise','extentList','addWall','wallHeight','isNoClose','outTexture','isRandomColor','extentHeight','pointNum','fixedSize','imgRepeat','routeList','createVideoElement','planeWidth','thickness','normalUrl','layers','CUBE_FLOAT','_instance','setPosition','addCube','CYLINDER_FLOAT','CIRCLE_ROTATE','POINTS_LINE','POINTS','CIRCLE_RIPPLE','CYLINDER_SPREAD','NUMBER_UP_BEAM','EXTENT_WALL','wallListData','changeStyle','addExtent','deleteExtentById','FIRE_SMOKE','outfire','FIRE','SMOKE','WATER_SPREAD','FLOAT_POINTS','UP_LINE','ROUTES_LINE','viewModeChanged','addLineGeometry','isChangeLineColor','scaleLineWidth','_originLineWidth','PLANE_VIDEO','playVideo','playSound','PLANE_WIND','rotateTo','PLANE_FOG','setAlpha','debugAxeSize','AxesHelper','setRotation','_enabled','_removeListen','_bindClick','line','mapPicker','_bindListen','upadateMarker','_bindShowLevel','zoomed','isForceVisible','showLevel','level','_update','markerType','_options','mapService','getState','_init',':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker','isTileBuilding','texPath','topTexPath','emissiveTexScale','buildingColorStr','highLightColorStr','emissiveColorStr','isBlending','isOpenScan','isOpenWireframScan','isBreathColor','isShowHorizonScan','isShowCenterSpread','isShowRadarScan','hlColorStr','hlWidth','hlDiffuse','hlExtent','hlSpeed','vlHeight','vlColorStr','vlSpeed','vlIsTop','csMaxRadius','csSpeed','rdColorStr','radarSpeed','radarCenterPos','radarTexPath','topRepeat','topRotate','screenSkyConfig','buildingColor','highLightColor','topTexture','gradientTexture','screenSkyTexture','radarScanTexture','emissiveTexture','wireframeMaterial','emissiveFactor','hlTime','vlTime','csTime','centerPos','isShowScanEffect','hlColor','vlExtent','vlColor','spreadValue','csCenterPos','radarColor','radarRadius','textureRotate','isUseExtentEffect','extentCenter','gradientImg','isUseScreenSky','skyImg','themeImgMapping','themeTextureList','buildingBaseRepeat','computeTopFaceAttr','filltype','sideImage','topImage','topImgIndexMap','topTexArr','buildingTexRepeat','topimagerepeat','topTexWrapArr','ClampToEdgeWrapping','sideTexArr','sideTextureType','sideTexRepeatArr','sideimagerepeat','sideTexWrapArr','getStyleFromRoomStyle','typeid','_getColorByHeight','range','getDis','computeRoomWidth','gradientTexPath','extentGradientTexPath','emissiveTexPath','screenSkyTexPath','MeshStandardMaterial','sideTex','topTex','gradientTex','extentGradientTex','radarScanTex','emissiveTex','extentGradientTexture','Uniform','extentLightDown','selectedColor','textureRepeat','texLightStg','textureLightStrength','isShowVerticalScan','rdCenterPos','rdRadius','rdTime','exGradientTex','topTexRepeatArr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TILE_BUILDING','#define\x20IS_USE_SS_SKY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TEXTURE','#define\x20IS_GRADIENT_TEXTURE','#define\x20IS_BREATH_COL','#define\x20HORIZONTAL_LINE','#define\x20VERTICAL_LINE','#define\x20CENTER_SPREAD','#define\x20RADAR_SCAN','#define\x20EXTENT_EFFECT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<lights_fragment_begin>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<map_fragment>','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderCompileComplete','updateParams','getWireframeMaterial','toggleColorLight','lightIntensity','toggleExtentLight','#ffc033','floatOffset','settingShader','cubeShader','wireMaterial','lineShader','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<logdepthbuf_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','moveOpts','animateOpts','CylinderBufferGeometry','centerHeight','swingHeight','rotateSpeed','isStart','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','period','breath','blink','flash','textureSprites','isInit','initLoop','textures','createTexture','addUv2AlphaMask','aoMap','aoMapIntensity','IS_USE_MASK_ALPHA','alphaMaskTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<alphamap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addUv2Channel','uv2TransSpeed','tex2UvAni','uv2Trans','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addSpriteAnimate','imgWidth','row','uvSpriteAnimate','uvTranslate','isCilpGround','clipGroundY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cinctureCount','focusColorStr','isScrollX','lineParams','GrannyKnot','extentIds','extentWallList','_focusExtentId','deltaSpeed','focusColor','wallMaterial','FontSide','lineTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addWallScrollYGeometry','computeBoundingBox','extentId','addWallScrollXGeometry','CatmullRomCurve3','catmullrom','TubeBufferGeometry','radiusSegments','closed','addGround','ShapeBufferGeometry','groundMaterial','createShape','Shape','isClockWise','checkIsHaveId','getExtentWall','focusExtent','isAnimate','startPopAnimate','switchExtentsVisible','blurExtent','_tempColor','Elastic','#ffee98','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extrusionSegments','boundingBox','getCenter','moveTo','lineTo','parent','lineList','createLineFrame','EdgesGeometry','dispseMesh','CanvasTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createCircleGradient','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flipY','grayTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20grayTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normalTex','smokeParticle','tex','smokeEmitter','floatPointsParticle','isSpreadColor','createLinearGradient','#000000','fillRect','texRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','RGBELoader','envCubeMap','loadHDR','RGBEEncoding','magFilter','EquirectangularToCubeGenerator','PMREMGenerator','PMREMCubeUVPacker','CubeUVRenderTarget','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','NoBlending','OrthographicCamera','Scene','sourceTexture','isCubeTexture','samplesPerLevel','faceIndex','gammaInput','gammaOutput','toneMappingExposure','getRenderTarget','toneMapping','LinearToneMapping','numLods','tFlip','mapSize','renderToCubeMapTarget','cubeLods','setRenderTarget','LinearEncoding','GammaEncoding','minFilter','LinearFilter','NearestFilter','generateMipmaps','WebGLRenderTargetCube','RGBM16Encoding','WebGLRenderTarget','PMREMCubeUVPacker.cubeUv','mapping','objects','setScalar','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','top','bottom','updateProjectionMatrix','CubemapFromEquirect','UniformsUtils','\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','tEquirect','CubeCamera','renderTarget','PerspectiveCamera','varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','equirectangularMap','views','CubemapGenerator','UnsignedByteType','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader\x20Write\x20Error:\x20','THREE.RGBELoader\x20Bad\x20File\x20Format:\x20','THREE.RGBELoader:\x20Error:\x20','byteLength','fromCharCode','pos','match','bad\x20initial\x20token','programtype','comments','valid','missing\x20image\x20size\x20specifier','missing\x20format\x20specifier','wrong\x20scanline\x20width','unable\x20to\x20allocate\x20buffer\x20space','bad\x20rgbe\x20scanline\x20format','bad\x20scanline\x20data','RGBEFormat','FloatType','gamma','exposure','setType','fluctuate','skyTexture','texUvScale','lightColor','alphaMaskPath','targetMeshes','brothers','faceRange','sideRange','topFaceFlags','getMaterial','IS_USE_SS_SKY','waterScale','flowDirect','flowAngle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','particles','createPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createRadialGradient','rgba(255,\x20255,\x20255,\x201)','materialType','isShowScanLight','scanLightColor','lambert','MeshLambertMaterial','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20','toFixed',',\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SCAN_LIGHT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.g\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','videoElement','play','muted','display','setAttribute','playsinline','crossOrigin','source','VideoTexture','num','shadowCamera','rot','isMorph','isAnimation','morphTargets','setShadow','castShadow','receiveShadow','customDepthMaterial','InstancedBufferGeometry','getIndex','morphAttributes','scales','orientations','DEG2RAD','offsets','rand','InstancedBufferAttribute','setDynamic','scaleAttribute','orientationAttribute','offsetAttribute','setMaterial','vertexPars_V2','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;','attribute\x20vec4\x20orientation;','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;','float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','mat4\x20B;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][3]\x20=\x200.0;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[3][1]\x20=\x20position.y;','return\x20B;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','vertexPars_V1','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;','B[2][3]\x20=\x200.0;','B[3][0]\x20=\x20position.x;','B[3][3]\x20=\x201.0;','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{','float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];','float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20detInv\x20=\x201.0\x20/\x20det;','mat3\x20B;','B[0][0]\x20=\x20t11\x20*\x20detInv;','B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;','B[2][0]\x20=\x20t13\x20*\x20detInv;','B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','B[0][0]\x20=\x20A[0][0];','B[0][1]\x20=\x20A[1][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][1]\x20=\x20A[1][1];','B[2][0]\x20=\x20A[0][2];','B[2][1]\x20=\x20A[1][2];','B[2][2]\x20=\x20A[2][2];','return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','beginInstanceVertex','mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);','mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);','vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);','#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)','vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);','normalVertex','mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);','vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;','#ifdef\x20FLIP_SIDED','transformedNormal\x20=\x20-\x20transformedNormal;','#ifdef\x20USE_TANGENT','vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;','transformedTangent\x20=\x20-\x20transformedTangent;','morping','#ifdef\x20USE_MORPHTARGETS','transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];','transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];','#ifndef\x20USE_MORPHNORMALS','transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];','transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];','cmtx','matrixWorldInverse','morpher','#include\x20<common>\x0a','#include\x20<defaultnormal_vertex>','projectVertex','#include\x20<worldpos_vertex>','worldPosVertex','RGBADepthPacking','depthMaterial','#include\x20<uv_vertex>\x0a','setMorph','morphTargetInfluences','setScale','fov','videoAspect','isShowHelper','isShowFarPlane','projector','projectPlane','helper','containMeshList','receiveLayer','cameraFar','cameraFov','configPath','images/video_mask.png','createProjector','Material','resetMaterial2','_originMaterial','_tempMaterial','isProjected','videoProject','isLockCameraControls','showVisualField','visualFieldColor','scanSceneMesh','minX','maxX','maxY','gridNum','rayPointer','ignoredUuids','raySceneMesh','raycastByCoord','focusFloorNum','updateMatrixWorld','updateWorldMatrix','minDistance','createProjectorHelper','getX','pointMap','getY','setFromPoints','videoTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateCameraTarget','objects_','_root_','removeToPicker','sRGBEncoding','project','resetAllMaterial','#aaa','type_','image','videoWidth','videoHeight','aspect','right','createMaterial2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectedTexelToLinear','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resize','projectionMatrixCamera','projectionMatrix','saveDimensions','isTextureLoaded','textureScale','cover','heightScaled','saveCameraMatrices','projPosition','projDirection','isTextureProjected','savedModelMatrix','backgroundOpacity','textureOffset','isShowHepler','(\x20value\x20)','sRGB','RGBE','RGBM','(\x20value,\x2016.0\x20)','RGBDEncoding','RGBD','(\x20value,\x20256.0\x20)','(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)','LogLuvEncoding','ToLinear',';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','vector','createBasicLine','FaceColors','cn1','cn2','cn3','cf1','cf3','matrix','matrixAutoUpdate','setPoint','unproject','setXYZ','projectionMatrixInverse','cf2','cf4','repeatFactor','isNoTileFactor','texture2Path','textureMaskPath','texture3Path','texture4Path','noisePath','normalFlipSide','textureManager','texture2','texture3','texture4','normalUvIndex','noise','loadTextures','textureMask','IS_USE_MASK_TEXTURE2','IS_USE_MASK_TEXTURE3','IS_USE_CUS_NORMAL','normalMap','ObjectSpaceNormalMap','FLIP_SIDED','noiseTex','othersRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include\x20<normal_fragment_maps>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture2D(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture2D(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture2D(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture2D(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isIgnoreAlpha','isUseScanEffect','isUseUv2Light','scanOffset','effectShader','multiTexturesLoad','ignoreAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialList','#include\x20<emissivemap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeLight','emissiveIntensity','clearMaterials','power','glowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);','textureSprite','foam','createUvAnimate','column','updateFps','settingMaterial','heightExtent','gradientType','seaground','isShowContour','seaGroundConfigs','gradientLut','Lut','isShowSeaGroundEffect','groundTexRepeat','getGradientConfig','addColorMap','setColorMap','createCanvas','setSeaGroundConfigs','seaGroundScale','fogNear','seaGroundFog','groundTexPath','isShow','groundTex','isShowSeaGround','fogFar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_USE_GROUND_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vec3(0,.35,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isShowWaterEffect','lut','minV','maxV','rainbow','updateCanvas','getImageData','images/building/circular_04.png','images/points/particle1.png','images/out_light4.png','images/scale1.png','images/alpha_gradient.png','images/fire/inner_fire.png','images/fire/out_fire.png','images/water/smokeparticle.png','images/line/up_line.png','images/line/light_old.png','checkFunLevel','ESTileMap','inited','isShowShadow','shadow','setShadowLight','updateShadow2','json','preload','isShowBuildingTip','flyFocusTo','cameraFlyToHelper','getScreenCenter','toSceneCoord','rotateAngle','setWalkControls','addControls','removeWalkControls','removeControls','createMiniMap','isSetRoomEffect','envTexture','addEffect','Lights','roomEffect','buildingScanConfigs','buildingScanLight','topImg','sideImg','colorImg','extentEffect','Buildings','buildings','buildingsThemes','setBuildingAttribute','tileRoomEffect','openScan','emissiveImg','screenSky','Floors','pointLight','directLight','isDirectLight','ambientLight','isAmbientLight','isShowSkybox','Water','isShowGround','repeatImg','modelsConfigs','Fog','screenEffects','getPlatform','isPc','platform','iPhone','iPad','iPod','high','Android','closeComposer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','postProcessing','tileUpdated','once','effectQuality','shadowMap','color:#66ccff;','medium','%c\x20effect\x20quality:\x20','low','checkIsInLowDevice','checkIsInLowDeviceComplete','isCanRender','IsMapLoading','loadComplete','effectsInitComplete','show','isPC','ESJsonFileLoader','ESEventDispatcher','pointsSegement','init','effectThemeSrc','isSetModelEffect','loadRoads','showRoads','routesMarkers','isExecuteInit','tileBuilidngThemes','addTileBuildingsEffect','tileLoadComplete','setTileBuildingAttribute','navLoaded','unloadTile','themeLoaded','selectBuildingMapEffectConfigPath','%c\x20effects\x20effectThemeSrc\x20and\x20effectThemeId\x20must\x20be\x20configured!','debugParams','localEffectSrc','localEffectId','preLoadComplete','modelPrefetched','__singlemesh','quality','createTileInstanceModel','singleMesheDatas','routeDataLoaded','tileService','navData','editMode','loadTileRoutesData','Lines','isChangeTileRoute','setModelShadow','defaultCubeTexture','model','mergeModel3D','modelEffects','modelStore','setModelsEffect4','mapId','EffectLayer','_building_cube_float','ESLayer','addLayerToMap','mapIds','bidList','modelinfo','box3','tileId','addObject','setTileBuildingsEnvTexture','envTextureCube','buildingEnter','setBuildingRoomShadow','showShadow','closeBuilding','ESLayerType','imgdata','updateLightPoints','changeBuildingColor','updateTileBuildingHighLightColor','controlstart','controlUpdated','updateLts','clearAll','horizon','updateTileBuildingHorizonScan','center_spread','updateTileBuildingRadarScan','toggleTileBuildingsScan','updateTileBuildingExtentLight','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','controlFloors','_originPos','directionalLights','updateDirectionalLights','recoverTileRoutesStyle','toggleTileRoutesVisible','skyboxTool','updateSkybox','updateWaveLines','removeWaveLines','boatFoams','boat-foam:','gradientTerrainList','setGradientConfig','createEffectPoints','uvTransformTextures','_markerId','modelName','modelsControlGroups','_ef_','setObjectBloomLight','_isBloom','removeObjectBloomLight','initVideoProjector','_bloomOriginColor','offsetHSL','updateOutlineStyle','removeObjectOutline','clearSelectedOutline','relaceBgMaterial','closeShadow','updateShadow','switchEffectTheme','initComplete','Ground','Routes','Models','Shadow','configs','addGroundTexture','isPointLight','addPointLights','addDirectLights','updateAmbientLight','isEnv','initEnvTexture','isNavPath','loadRoutesLine','computeRoutesData','setSkyBox','addWater','setModelsEffect','updateEffect','styleId','Video','edgeLineFrameList','setBuildingsTheme','lineScanCenter','topImgRepeatFactor','imgLightFactor','emissiveImgScale','transprentHightLight','horizonScanColor','horizonScanWidth','horizonScanExtent','horizonScanSpeed','verticalScanHeight','verticalScanColor','verticalScanExtent','centerSpreadColor','centerSpreadRadius','centerSpreadSpeed','centerSpreadCenterPos','radarScanColor','radarScanCenterPos','radarScanImg','extentEffectConfig','center','setBuildingScanConfig','floorNum','getLayersByTypes','MODEL_BASE','frameOpacity','frameColor','_effectConfig','createTileBuildingsEffect2','tileStyles','prodMatIdx','createTileBuildingsEffect','tileTextures','mappingThemeImgStyle','renderSort','modelBasicMat','computeBuildingFaceAttr','maptheme','basic','topimage','sideimage','sideImgIndexMap','scanLightType','horizon_scan','scanColor','scanLightWidth','horizonScanDiffuse','scanDiffuse','scanExtent','scanSpeed','isCanUseScanStatus','horizonScan','verticalScan','scanCenter','maxRadius','centerSpread','radar_scan','radarScanRadius','scanRadius','scanImg','radarScan','isShowScan','updateTileBuildingCenterSpreadScan','csColor','floorsMesh','floorEffects','controlFloorLayer','setFloorMaterial','FLOOR_BASE','effectType','effectConfigs','alphaTransitionImg','alphaTransitionRadius','alpha_trans','isControl','controlId','scanRepeatImg','gradient_floor','mirro','GeometryMirro','groundThemes','_tempMaterials','repeatType','repeatScaleFactor','targetMesh','pointLights','tileBuildingLight','PointLight','distance','extent','PointLightHelper','replaceLight','_originConfig','EFFECT_EDITOR','DirectionalLightHelper','DirectionalLight','updateDirectionalLightPos','planeScale','lightPlane','lightAnimate','getAmbientLight','AmbientLight','_originIntensity','isRecover','None','animateTime','updatePointLights','imgPaths','HDR','createEnvTexture','createLightProbe','lightProbe','LightProbeGenerator','fromCubeTexture','getTextureCubeByName','updateMaterialsEnvMap','envTextureCubes','updateLightProbeAnimate','coefficients','copySRGBToLinear','lengthSq','SphericalHarmonics3','LightProbe','routesLineGroup','isLoadedTileRouteStyle','routesEffectLayer','tileRoutesMarkers','changedTileRoutesStyleConfig','tempColor','initHeight','createRoutesLine','lineTexture','coordTrans','isHightLight','computeNavDataToRoutesData','navs','naviData','#c37400','bstair','rank','Nodes','eid','lineImg','colors','datatype','datas','isCanChangeTileRoutesStyle','createTileRouteStyles','getTileById','transformCoordArray','DEFAULT_COORDSYSTEM','coordSystem','_id','geometries','mergeGeometrys','_getMaterial','lineColorMapping','idColorMapping','BufferGeometryUtils2','mergeBufferGeometries','updateTileRoutesRandomColors','tileList','tile_route_line','changeColor','isChangedTileRoutesStyle','colorList','lineScale','routeEffectLayer','tileRoutes','roadStyles','EffectMarker','url','animationspeed','outline','tan','atan','exp','normal','tangent','dot','has','mergedUserData','addGroup','mergeBufferAttributes','isInterleavedBufferAttribute','normalized','getZ','setX','setY','setW','BYTES_PER_ELEMENT','setArray','textureCubes','isFirstTexCube','showSkybox','skyboxSwitchAnimate','isPlane','box','tileMapInited','gradient_sphere','gradient_cube','sphere_cube','createSphereCubeSky','clearSky','shaderSky','bindLight','azimuthAngle','verticalAngle','bindTileMapLevelChange','tileMapLevelChange','waterList','waveLineMarker','waveEffectLayer','createWater','addWaterShape','groundImg','waveFactor','groundScaleFactor','MODEL','alpha','createWaveMarker','waveLine','modelBlendEffectList','modelTerrainList','isSetModelsConfigs','modelUvAnimation','lightBlend','lightPointsLayer','tileInstanceModels','getCurrModelConfig','getRenderOrder','order','splitEffectsTemplates','matchModelEffectConfig','_mesh','settingModelEffects','control','fresnel','unrealBloom','lineFrame','createEdgeLineFrame','faces','additive','wireFrame','wireframe','uvAnimation','createUvAnimation','uvTransform','textureBlend','blendEffect','createrBlendEffect','_createWater','createLightBlend','lightPoints','_lightPointsType','_lightPointsConfig','_lightPointsIsLookAt','isLookAt','lightPointsMeshs','terrain','createTerrain','uvRotation','originalSrc','currentSrc','lastIndexOf','substring','useUv2','isUseAlphaMask','_ef_mask.','spriteAnimate','useSpriteAnimate','translateX','translateY','uv2UseAlpha','uv2TranslateX','uv2TranslateY','_ef_uv-animate.','_effect','fixMobileIntensity','closeLight','createTextureBlend','isUseNormal','_ef_blend-1.','_ef_blend-2.','_ef_blend-3.','images/ground/noise.png','normalUv','_ef_normal.','noOriginTexture','isUseGround','waterEffect','toggleLightPoints','addEffectPointsMarker','getWorldPosition','coordThreeToMap','styleConfig','setTransparent','setEnvTextureMaterials','createEdgeLineFrameByMeshLine','createInstanceModel','gltfObj','parser','Box3','setFromObject','radToDeg','getLayersByNames','rotate','instanceMeshs','offsetPos','outlineSelectList','outlinePass','mapClickNode','nodeType','ESNodeType','selectedObjects','visibleEdgeColor','hiddenEdgeColor','edgeWidth','edgeGlow','edgeSpread','edgeThickness','maskTexture','patternTexture','usePatternTexture','blinkPeriod','pulsePeriod','setObjectOutline','composer','isWebGL2','fxaaPass','bloomPass','bloomLayer','materials','darkMaterial','black','darkColor','defaultOutlineConfig','getPixelRatio','alphaMode','RGBAFormat','getDrawingBufferSize','EffectComposer','RenderPass','ShaderPass','FXAAShader','renderToScreen','OutlinePass','originSize','edgeStrength','UnrealBloomPass','threshold','bloomThreshold','strength','bloomStrength','bloomRadius','bloomComposer','addPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseTexture','needsSwap','sceneBackground','clearColor_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originBgTexture','renderBloom','rendererCss2D','sceneOrtho','cameraOrtho','_originColor','restoreMaterial','darkenNonBloomed','SkinnedMesh','getSize','_pixelRatio','_width','EffectComposer.rt1','_height','renderTarget1','renderTarget2','writeBuffer','passes','CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','copyPass','clock','readBuffer','isLastEnabledPass','stencilFunc','NOTEQUAL','EQUAL','swapBuffers','MaskPass','ClearMaskPass','Pass','overrideMaterial','clearColor','getClearColor','getClearAlpha','setClearColor','clearAlpha','clearDepth','autoClearColor','autoClearDepth','autoClearStencil','textureID','fsQuad','renderTargetsVertical','nMips','renderTargetBright','UnrealBloomPass.bright','LuminosityHighPassShader','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader','highPassUniforms','luminosityThreshold','smoothWidth','materialHighPassFilter','separableBlurMaterials','getSeperableBlurMaterial','compositeMaterial','getCompositeMaterial','blurTexture1','blurTexture2','blurTexture3','blurTexture4','blurTexture5','bloomFactors','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearColor','oldClearAlpha','renderTargetsHorizontal','texSize','autoClear','context','tDiffuse','BlurDirectionX','colorTexture','STENCIL_TEST','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}','BlurDirectionY','varying\x20vec2\x20vUv;','vUv\x20=\x20uv;','uniform\x20sampler2D\x20tDiffuse;','gl_FragColor\x20=\x20opacity\x20*\x20texel;','luminosityHighPass','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20float\x20luminosityThreshold;','uniform\x20float\x20smoothWidth;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);','float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);','gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','precision\x20highp\x20float;','uniform\x20vec2\x20resolution;','//----------------------------------------------------------------------------------','//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag','//\x20SDK\x20Version:\x20v3.00','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without','//\x20are\x20met:','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.','//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.','//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its','//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,','//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR','//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','#define\x20FXAA_GLSL_100\x201','#define\x20FXAA_QUALITY_PRESET\x2012','#ifndef\x20FXAA_PC_CONSOLE','\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','\x20\x20\x20\x20//','\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_GLSL_120','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','#ifndef\x20FXAA_HLSL_3','\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','#ifndef\x20FXAA_HLSL_4','\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200','#ifndef\x20FXAA_HLSL_5','/*==========================================================================*/','#ifndef\x20FXAA_GREEN_AS_LUMA','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','#ifndef\x20FXAA_EARLY_EXIT','\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.','\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.','\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200','#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200','/*============================================================================','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS','------------------------------------------------------------------------------','============================================================================*/','#ifndef\x20FXAA_QUALITY_PRESET','\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.','\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.','\x20\x20\x20\x20//\x20OPTIONS','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)','\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive','\x20\x20\x20\x20//\x20NOTES','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY','#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5','#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2','\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4','\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','#else','\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)','\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4','#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))','#if\x20(FXAA_HLSL_4\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','#if\x20(FXAA_PC\x20==\x201)','FxaaFloat4\x20FxaaPixelShader(','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel','\x20\x20\x20\x20//\x20Input\x20color\x20texture.','\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20FxaaTex\x20tex,','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.','\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.','\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.','\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering','\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)','\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off','\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.','\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality','\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)','\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.','\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.','\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,','\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir',')\x20{','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.x\x20=\x20pos.x;','\x20\x20\x20\x20posM.y\x20=\x20pos.y;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);','\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20if(earlyExit)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;','\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);','\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);','\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;','\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;','\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));','\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;','\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;','\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;','\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;','\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);','\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);','\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vUv,','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,','\x20\x20\x20\x200.75,','\x20\x20\x20\x200.166,','\x20\x20\x20\x200.0833,','\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)','\x20\x20);','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel','renderScene','renderCamera','downSampleRatio','maskBufferMaterial','renderTargetMaskBuffer','OutlinePass.mask','MeshDepthMaterial','prepareMaskMaterial','getPrepareMaskMaterial','isPerspectiveCamera','perspective','orthographic','DepthToViewZ','renderTargetDepthBuffer','renderTargetMaskDownSampleBuffer','OutlinePass.depthDownSample','renderTargetBlurBuffer1','OutlinePass.blur1','renderTargetBlurBuffer2','OutlinePass.blur2','edgeDetectionMaterial','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','renderTargetEdgeBuffer2','OutlinePass.edge2','separableBlurMaterial1','kernelRadius','separableBlurMaterial2','overlayMaterial','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','FullScreenQuad','tempPulseColor2','textureMatrix','isMesh','oldVisible','isSprite','bVisible','multiply','changeVisibilityOfSelectedObjects','changeVisibilityOfNonSelectedObjects','cameraNearFar','depthTexture','tempPulseColor1','edgeTexture2','varying\x20vec4\x20vPosition;','uniform\x20mat4\x20textureMatrix;','\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','varying\x20vec4\x20projTexCoord;','\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));','\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);','\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','isUpdated','spherical','Spherical','preInit','shadowConfigs','farFactor','PCFSoftShadowMap','mapWidth','mapHeight','normalBias','bias','CameraHelper','shadowCameraHelper','setRoomShadow','init2','autoUpdate','shadowLight','LightShadow','getDistance','_controlMove','posX','posY','posZ','targetX','targetY','targetZ','updateTileShadow','castMinHeight','Height','bType'];(function(_0x249169,_0x57e37f){var _0x456ee1=function(_0x32bd14){while(--_0x32bd14){_0x249169['push'](_0x249169['shift']());}};_0x456ee1(++_0x57e37f);}(_0x23ff,0x191));var _0x1a9f=function(_0x4a0f44,_0x4398d8){_0x4a0f44=_0x4a0f44-0x0;var _0x317ee1=_0x23ff[_0x4a0f44];return _0x317ee1;};!function(_0x49399d){var _0x47a018={};function _0x115637(_0x341bca){if(_0x47a018[_0x341bca])return _0x47a018[_0x341bca]['exports'];var _0x27d817=_0x47a018[_0x341bca]={'i':_0x341bca,'l':!0x1,'exports':{}};return _0x49399d[_0x341bca]['call'](_0x27d817['exports'],_0x27d817,_0x27d817[_0x1a9f('0x0')],_0x115637),_0x27d817['l']=!0x0,_0x27d817[_0x1a9f('0x0')];}_0x115637['m']=_0x49399d,_0x115637['c']=_0x47a018,_0x115637['d']=function(_0x9207df,_0x21c9e7,_0x49399d){_0x115637['o'](_0x9207df,_0x21c9e7)||Object['defineProperty'](_0x9207df,_0x21c9e7,{'enumerable':!0x0,'get':_0x49399d});},_0x115637['r']=function(_0x390dda){_0x1a9f('0x1')!=typeof Symbol&&Symbol[_0x1a9f('0x2')]&&Object[_0x1a9f('0x3')](_0x390dda,Symbol['toStringTag'],{'value':_0x1a9f('0x4')}),Object[_0x1a9f('0x3')](_0x390dda,_0x1a9f('0x5'),{'value':!0x0});},_0x115637['t']=function(_0x40b265,_0x40dcdd){if(0x1&_0x40dcdd&&(_0x40b265=_0x115637(_0x40b265)),0x8&_0x40dcdd)return _0x40b265;if(0x4&_0x40dcdd&&_0x1a9f('0x6')==typeof _0x40b265&&_0x40b265&&_0x40b265[_0x1a9f('0x5')])return _0x40b265;var _0x49399d=Object[_0x1a9f('0x7')](null);if(_0x115637['r'](_0x49399d),Object[_0x1a9f('0x3')](_0x49399d,'default',{'enumerable':!0x0,'value':_0x40b265}),0x2&_0x40dcdd&&_0x1a9f('0x8')!=typeof _0x40b265)for(var _0x47a018 in _0x40b265)_0x115637['d'](_0x49399d,_0x47a018,function(_0x40dcdd){return _0x40b265[_0x40dcdd];}[_0x1a9f('0x9')](null,_0x47a018));return _0x49399d;},_0x115637['n']=function(_0x13701d){var _0x48d2f4=_0x13701d&&_0x13701d[_0x1a9f('0x5')]?function(){return _0x13701d[_0x1a9f('0xa')];}:function(){return _0x13701d;};return _0x115637['d'](_0x48d2f4,'a',_0x48d2f4),_0x48d2f4;},_0x115637['o']=function(_0x594efe,_0x290bc4){return Object[_0x1a9f('0xb')][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x594efe,_0x290bc4);},_0x115637['p']='/dist/',_0x115637(_0x115637['s']=0x186);}([function(_0x5d7414,_0x5bf624,_0x330f88){'use strict';_0x5bf624[_0x1a9f('0x5')]=!0x0,_0x5bf624['default']=function(_0x5d7414,_0x5bf624){if(!(_0x5d7414 instanceof _0x5bf624))throw new TypeError(_0x1a9f('0xe'));};},function(_0x8ac4b9,_0x19dd08,_0x12863f){'use strict';_0x19dd08[_0x1a9f('0x5')]=!0x0;var _0x12863f=_0x12863f(0x2f),_0x3669ac=_0x12863f&&_0x12863f[_0x1a9f('0x5')]?_0x12863f:{'default':_0x12863f};function _0x1c3389(_0x8ac4b9,_0x19dd08){for(var _0x12863f=0x0;_0x12863f<_0x19dd08[_0x1a9f('0xf')];_0x12863f++){var _0x1c3389=_0x19dd08[_0x12863f];_0x1c3389['enumerable']=_0x1c3389['enumerable']||!0x1,_0x1c3389[_0x1a9f('0x10')]=!0x0,_0x1a9f('0x11')in _0x1c3389&&(_0x1c3389['writable']=!0x0),(0x0,_0x3669ac[_0x1a9f('0xa')])(_0x8ac4b9,_0x1c3389[_0x1a9f('0x12')],_0x1c3389);}}_0x19dd08[_0x1a9f('0xa')]=function(_0x8ac4b9,_0x19dd08,_0x12863f){return _0x19dd08&&_0x1c3389(_0x8ac4b9[_0x1a9f('0xb')],_0x19dd08),_0x12863f&&_0x1c3389(_0x8ac4b9,_0x12863f),_0x8ac4b9;};},function(_0x4e1bab,_0x11e495){_0x4e1bab=_0x4e1bab[_0x1a9f('0x0')]={'version':_0x1a9f('0x13')};_0x1a9f('0x14')==typeof __e&&(__e=_0x4e1bab);},function(_0x143d1c,_0x169b09,_0x3a983a){function _0x588642(_0x143d1c,_0x169b09,_0x3a983a){var _0x48007b,_0x312ed4,_0x509b24,_0x263ca1=_0x143d1c&_0x588642['F'],_0x408f56=_0x143d1c&_0x588642['G'],_0xdff2af=_0x143d1c&_0x588642['S'],_0x183f1b=_0x143d1c&_0x588642['P'],_0x596cdb=_0x143d1c&_0x588642['B'],_0x43f359=_0x143d1c&_0x588642['W'],_0x4ada01=_0x408f56?_0x26c319:_0x26c319[_0x169b09]||(_0x26c319[_0x169b09]={}),_0x3ce178=_0x4ada01[_0x17a53d],_0x677b21=_0x408f56?_0x4fcfce:_0xdff2af?_0x4fcfce[_0x169b09]:(_0x4fcfce[_0x169b09]||{})[_0x17a53d];for(_0x48007b in _0x3a983a=_0x408f56?_0x169b09:_0x3a983a)(_0x312ed4=!_0x263ca1&&_0x677b21&&void 0x0!==_0x677b21[_0x48007b])&&_0x3948c5(_0x4ada01,_0x48007b)||(_0x509b24=(_0x312ed4?_0x677b21:_0x3a983a)[_0x48007b],_0x4ada01[_0x48007b]=_0x408f56&&'function'!=typeof _0x677b21[_0x48007b]?_0x3a983a[_0x48007b]:_0x596cdb&&_0x312ed4?_0x4fc168(_0x509b24,_0x4fcfce):_0x43f359&&_0x677b21[_0x48007b]==_0x509b24?function(_0x48007b){function _0x143d1c(_0x143d1c,_0x169b09,_0x3a983a){if(this instanceof _0x48007b){switch(arguments['length']){case 0x0:return new _0x48007b();case 0x1:return new _0x48007b(_0x143d1c);case 0x2:return new _0x48007b(_0x143d1c,_0x169b09);}return new _0x48007b(_0x143d1c,_0x169b09,_0x3a983a);}return _0x48007b[_0x1a9f('0x15')](this,arguments);}return _0x143d1c[_0x17a53d]=_0x48007b[_0x17a53d],_0x143d1c;}(_0x509b24):_0x183f1b&&_0x1a9f('0x16')==typeof _0x509b24?_0x4fc168(Function[_0x1a9f('0xd')],_0x509b24):_0x509b24,_0x183f1b&&((_0x4ada01[_0x1a9f('0x17')]||(_0x4ada01['virtual']={}))[_0x48007b]=_0x509b24,_0x143d1c&_0x588642['R']&&_0x3ce178&&!_0x3ce178[_0x48007b]&&_0x6008b1(_0x3ce178,_0x48007b,_0x509b24)));}var _0x4fcfce=_0x3a983a(0x4),_0x26c319=_0x3a983a(0x2),_0x4fc168=_0x3a983a(0xf),_0x6008b1=_0x3a983a(0xb),_0x3948c5=_0x3a983a(0xc),_0x17a53d=_0x1a9f('0xb');_0x588642['F']=0x1,_0x588642['G']=0x2,_0x588642['S']=0x4,_0x588642['P']=0x8,_0x588642['B']=0x10,_0x588642['W']=0x20,_0x588642['U']=0x40,_0x588642['R']=0x80,_0x143d1c[_0x1a9f('0x0')]=_0x588642;},function(_0x149dcf,_0x45a486){_0x149dcf=_0x149dcf['exports']=_0x1a9f('0x1')!=typeof window&&window[_0x1a9f('0x18')]==Math?window:_0x1a9f('0x1')!=typeof self&&self[_0x1a9f('0x18')]==Math?self:Function(_0x1a9f('0x19'))();_0x1a9f('0x14')==typeof __g&&(__g=_0x149dcf);},function(_0xbebf58,_0x4c8565,_0x432d21){var _0x3d95f2=_0x432d21(0x23)(_0x1a9f('0x1a')),_0x1ee6e0=_0x432d21(0x18),_0x2f0b09=_0x432d21(0x4)['Symbol'],_0x4b198e=_0x1a9f('0x16')==typeof _0x2f0b09;(_0xbebf58[_0x1a9f('0x0')]=function(_0xbebf58){return _0x3d95f2[_0xbebf58]||(_0x3d95f2[_0xbebf58]=_0x4b198e&&_0x2f0b09[_0xbebf58]||(_0x4b198e?_0x2f0b09:_0x1ee6e0)(_0x1a9f('0x1b')+_0xbebf58));})[_0x1a9f('0x1c')]=_0x3d95f2;},function(_0x16838b,_0x46e3e5,_0x234186){_0x16838b['exports']={'default':_0x234186(0x4e),'__esModule':!0x0};},function(_0x4961fd,_0x21c81a,_0x595034){_0x4961fd[_0x1a9f('0x0')]=!_0x595034(0xd)(function(){return 0x7!=Object[_0x1a9f('0x3')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x12c558,_0x556a14,_0x554636){var _0x120b49=_0x554636(0xa),_0x107ee0=_0x554636(0x36),_0x21fb57=_0x554636(0x25),_0x35e403=Object[_0x1a9f('0x3')];_0x556a14['f']=_0x554636(0x7)?Object[_0x1a9f('0x3')]:function(_0x12c558,_0x556a14,_0x554636){if(_0x120b49(_0x12c558),_0x556a14=_0x21fb57(_0x556a14,!0x0),_0x120b49(_0x554636),_0x107ee0)try{return _0x35e403(_0x12c558,_0x556a14,_0x554636);}catch(_0x270bff){}if('get'in _0x554636||_0x1a9f('0x1d')in _0x554636)throw TypeError(_0x1a9f('0x1e'));return _0x1a9f('0x11')in _0x554636&&(_0x12c558[_0x556a14]=_0x554636[_0x1a9f('0x11')]),_0x12c558;};},function(_0x403054,_0x1323b9){_0x403054[_0x1a9f('0x0')]=function(_0x403054){return'object'==typeof _0x403054?null!==_0x403054:'function'==typeof _0x403054;};},function(_0x1573cf,_0x19a4bc,_0xf9b2e6){var _0x5bd3e9=_0xf9b2e6(0x9);_0x1573cf[_0x1a9f('0x0')]=function(_0x1573cf){if(_0x5bd3e9(_0x1573cf))return _0x1573cf;throw TypeError(_0x1573cf+_0x1a9f('0x1f'));};},function(_0x16876c,_0x125dad,_0x489c68){var _0x289a5d=_0x489c68(0x8),_0x11d7e3=_0x489c68(0x15);_0x16876c[_0x1a9f('0x0')]=_0x489c68(0x7)?function(_0x16876c,_0x125dad,_0x489c68){return _0x289a5d['f'](_0x16876c,_0x125dad,_0x11d7e3(0x1,_0x489c68));}:function(_0x16876c,_0x125dad,_0x489c68){return _0x16876c[_0x125dad]=_0x489c68,_0x16876c;};},function(_0x30b1fd,_0x50c9a3){var _0x68746={}[_0x1a9f('0xc')];_0x30b1fd[_0x1a9f('0x0')]=function(_0x30b1fd,_0x50c9a3){return _0x68746[_0x1a9f('0xd')](_0x30b1fd,_0x50c9a3);};},function(_0x585f5a,_0x174864){_0x585f5a[_0x1a9f('0x0')]=function(_0x585f5a){try{return!!_0x585f5a();}catch(_0x379149){return!0x0;}};},function(_0x314606,_0x1b002e,_0x1e6620){var _0x399aff=_0x1e6620(0x30),_0x5abf2f=_0x1e6620(0x1d);_0x314606[_0x1a9f('0x0')]=function(_0x314606){return _0x399aff(_0x5abf2f(_0x314606));};},function(_0x19155e,_0x16afbb,_0x3fe806){var _0xfae46a=_0x3fe806(0x1f);_0x19155e[_0x1a9f('0x0')]=function(_0x4a3d65,_0x49e270,_0x19155e){if(_0xfae46a(_0x4a3d65),void 0x0===_0x49e270)return _0x4a3d65;switch(_0x19155e){case 0x1:return function(_0x19155e){return _0x4a3d65['call'](_0x49e270,_0x19155e);};case 0x2:return function(_0x19155e,_0x16afbb){return _0x4a3d65[_0x1a9f('0xd')](_0x49e270,_0x19155e,_0x16afbb);};case 0x3:return function(_0x19155e,_0x16afbb,_0x3fe806){return _0x4a3d65['call'](_0x49e270,_0x19155e,_0x16afbb,_0x3fe806);};}return function(){return _0x4a3d65['apply'](_0x49e270,arguments);};};},function(_0x5e4913,_0x102ff3){_0x5e4913[_0x1a9f('0x0')]={};},function(_0x569831,_0xd536c5,_0x396955){'use strict';_0xd536c5[_0x1a9f('0x5')]=!0x0;_0x396955=_0x396955(0x66),_0x396955=_0x396955&&_0x396955[_0x1a9f('0x5')]?_0x396955:{'default':_0x396955};_0xd536c5['default']=_0x396955[_0x1a9f('0xa')]||function(_0x569831){for(var _0xd536c5=0x1;_0xd536c5<arguments['length'];_0xd536c5++){var _0x396955,_0x11d2bc=arguments[_0xd536c5];for(_0x396955 in _0x11d2bc)Object[_0x1a9f('0xb')][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x11d2bc,_0x396955)&&(_0x569831[_0x396955]=_0x11d2bc[_0x396955]);}return _0x569831;};},function(_0x262c25,_0x4c884c,_0x1cc8f3){var _0x56d223=_0x1cc8f3(0x1d);_0x262c25['exports']=function(_0x262c25){return Object(_0x56d223(_0x262c25));};},function(_0x15665a,_0x43dfe7){_0x15665a[_0x1a9f('0x0')]=!0x0;},function(_0x1d2262,_0x48e880,_0x531fbd){var _0x10b992=_0x531fbd(0x38),_0x144871=_0x531fbd(0x24);_0x1d2262['exports']=Object[_0x1a9f('0x20')]||function(_0x1d2262){return _0x10b992(_0x1d2262,_0x144871);};},function(_0x3780b7,_0x415b01){_0x3780b7[_0x1a9f('0x0')]=function(_0x3780b7,_0x415b01){return{'enumerable':!(0x1&_0x3780b7),'configurable':!(0x2&_0x3780b7),'writable':!(0x4&_0x3780b7),'value':_0x415b01};};},function(_0x509dde,_0x312335){var _0x1a0279={}[_0x1a9f('0x21')];_0x509dde[_0x1a9f('0x0')]=function(_0x509dde){return _0x1a0279[_0x1a9f('0xd')](_0x509dde)[_0x1a9f('0x22')](0x8,-0x1);};},function(_0x38e6f3,_0x804ebc,_0x106c3b){var _0x4c4bcd=_0x106c3b(0x8)['f'],_0x42387e=_0x106c3b(0xc),_0x4f7266=_0x106c3b(0x5)(_0x1a9f('0x2'));_0x38e6f3[_0x1a9f('0x0')]=function(_0x38e6f3,_0x804ebc,_0x106c3b){_0x38e6f3&&!_0x42387e(_0x38e6f3=_0x106c3b?_0x38e6f3:_0x38e6f3[_0x1a9f('0xb')],_0x4f7266)&&_0x4c4bcd(_0x38e6f3,_0x4f7266,{'configurable':!0x0,'value':_0x804ebc});};},function(_0x579904,_0x2a9099){var _0x1d27a3=0x0,_0xde8bb4=Math[_0x1a9f('0x23')]();_0x579904[_0x1a9f('0x0')]=function(_0x579904){return _0x1a9f('0x24')['concat'](void 0x0===_0x579904?'':_0x579904,')_',(++_0x1d27a3+_0xde8bb4)[_0x1a9f('0x21')](0x24));};},function(_0x16f538,_0x3afc32,_0x279640){'use strict';var _0x3957f3=_0x279640(0x54)(!0x0);_0x279640(0x27)(String,_0x1a9f('0x25'),function(_0x16f538){this['_t']=String(_0x16f538),this['_i']=0x0;},function(){var _0x16f538=this['_t'],_0x3afc32=this['_i'];return _0x3afc32>=_0x16f538[_0x1a9f('0xf')]?{'value':void 0x0,'done':!0x0}:(_0x16f538=_0x3957f3(_0x16f538,_0x3afc32),this['_i']+=_0x16f538[_0x1a9f('0xf')],{'value':_0x16f538,'done':!0x1});});},function(_0xdd9562,_0x1a2b9a,_0x4dd0bf){'use strict';function _0x3e3437(_0xdd9562,_0x1a2b9a){_0xdd9562=_0x503b70()[_0x1a9f('0x26')]({'x':_0xdd9562,'y':_0x1a2b9a});return{'x':_0xdd9562['x'],'y':_0xdd9562['z']};}function _0x1ac564(){return _0x503b70()[_0x1a9f('0x27')]===esmap[_0x1a9f('0x28')][_0x1a9f('0x29')];}function _0x503b70(){if(esmap[_0x1a9f('0x2a')])return esmap[_0x1a9f('0x2a')][_0x1a9f('0x2b')];}Object[_0x1a9f('0x3')](_0x1a2b9a,_0x1a9f('0x5'),{'value':!0x0}),_0x1a2b9a[_0x1a9f('0x2c')]=_0x1a2b9a[_0x1a9f('0x2d')]=_0x1a2b9a['directionFromAlphaBeta']=_0x1a2b9a[_0x1a9f('0x2e')]=_0x1a2b9a[_0x1a9f('0x2f')]=_0x1a2b9a['selectBuildingMapEffectConfigPath']=_0x1a2b9a[_0x1a9f('0x30')]=_0x1a2b9a[_0x1a9f('0x31')]=_0x1a2b9a[_0x1a9f('0x32')]=_0x1a2b9a['getBuiding']=_0x1a2b9a[_0x1a9f('0x33')]=_0x1a2b9a[_0x1a9f('0x34')]=_0x1a2b9a['checkIsParkEngine']=_0x1a2b9a[_0x1a9f('0x35')]=_0x1a2b9a[_0x1a9f('0x36')]=_0x1a2b9a[_0x1a9f('0x37')]=void 0x0;var _0x331c83=_0x4dd0bf(0x62);function _0x13af0c(_0xdd9562){var _0x1a2b9a=_0x503b70();return _0x1a2b9a[_0x1a9f('0x27')]===esmap['MapMode']['Building']?_0x1a2b9a[_0x1a9f('0x38')]():_0x1a2b9a[_0x1a9f('0x39')](_0xdd9562);}_0x1a2b9a[_0x1a9f('0x37')]=function(_0xdd9562,_0x1a2b9a){var _0x4dd0bf=_0x503b70();return{'x':-(_0x4dd0bf[_0x1a9f('0x3a')][_0x1a9f('0x3b')]+_0xdd9562),'y':_0x1a2b9a-_0x4dd0bf['mapScene'][_0x1a9f('0x3c')]};},_0x1a2b9a['coordTransToThree']=_0x3e3437,_0x1a2b9a[_0x1a9f('0x35')]=_0x1ac564,_0x1a2b9a[_0x1a9f('0x3d')]=function(){return esmap[_0x1a9f('0x3e')]['getVersion']()===_0x331c83[_0x1a9f('0x3f')][_0x1a9f('0x40')][_0x1a9f('0x41')];},_0x1a2b9a[_0x1a9f('0x34')]=function(_0xdd9562,_0x1a2b9a,_0x4dd0bf){_0x1a2b9a=_0x3e3437(_0x1a2b9a['x'],_0x1a2b9a['y']);_0xdd9562[_0x1a9f('0x42')]['set'](_0x1a2b9a['x'],_0x4dd0bf,_0x1a2b9a['y']);},_0x1a2b9a[_0x1a9f('0x33')]=_0x503b70,_0x1a2b9a['getBuiding']=_0x13af0c,_0x1a2b9a['getOutdoorBuildingTheme']=function(_0xdd9562){var _0x1a2b9a=_0x503b70();if(_0x1a2b9a[_0x1a9f('0x27')]===esmap[_0x1a9f('0x28')][_0x1a9f('0x29')])return!0x1;var _0x4dd0bf=_0x13af0c();return _0x1a2b9a[_0x1a9f('0x43')][_0x1a9f('0x44')][_0x4dd0bf['themeID']][_0x1a9f('0x45')][_0xdd9562];},_0x1a2b9a[_0x1a9f('0x31')]=function(_0xdd9562,_0x1a2b9a){return _0xdd9562[_0x1a9f('0x46')]&&_0xdd9562[_0x1a9f('0x46')][_0x1a9f('0x47')]&&+_0xdd9562[_0x1a9f('0x46')]['RoomStyle']==+_0x1a2b9a?(_0xdd9562[_0x1a9f('0x48')][0x0][_0x1a9f('0x49')]['index']=0x0,_0xdd9562[_0x1a9f('0x48')][0x0]):null;},_0x1a2b9a[_0x1a9f('0x30')]=function(_0xdd9562,_0x1a2b9a,_0x4dd0bf){return _0x1a2b9a[_0x1a9f('0x4a')]&&(_0xdd9562[_0x1a9f('0x4b')]=_0x1a2b9a[_0x1a9f('0x4a')]),_0x1a2b9a[_0x1a9f('0x4c')]&&(_0xdd9562[_0x1a9f('0x4b')]=_0x1a2b9a[_0x1a9f('0x4c')]),0x1!=_0xdd9562[_0x1a9f('0x4d')][_0x1a9f('0x4e')]||_0x4dd0bf?_0xdd9562[_0x1a9f('0x4d')][_0x1a9f('0x4f')]+_0x1a9f('0x50')+_0xdd9562['effectId']+'/':0x3===_0xdd9562['options']['s']?_0xdd9562[_0x1a9f('0x4d')][_0x1a9f('0x51')]+_0xdd9562['id']+_0x1a9f('0x50')+_0xdd9562['effectId']+'/':_0xdd9562['options'][_0x1a9f('0x4f')]+'/EsmapTileData/'+_0xdd9562['id']+_0x1a9f('0x50')+_0xdd9562[_0x1a9f('0x4b')]+'/';},_0x1a2b9a['selectBuildingMapEffectConfigPath']=function(_0xdd9562,_0x1a2b9a){return!!_0x1a2b9a[_0x1a9f('0x52')]&&''+_0xdd9562['options']['mapDataSrc']+_0xdd9562['id']+'/effects/'+_0x1a2b9a['Effect'][_0x1a9f('0x4c')]+'/';},_0x1a2b9a[_0x1a9f('0x2f')]=function(_0xdd9562){return _0x1ac564()?_0xdd9562&&-0x1==_0xdd9562['indexOf']('upload/')?esmap[_0x1a9f('0x53')]['configPath']+_0xdd9562:esmap['ESEffectTool'][_0x1a9f('0x54')]+_0xdd9562:(esmap[_0x1a9f('0x53')]['configPath'],esmap['ESEffectTool'][_0x1a9f('0x55')]&&esmap[_0x1a9f('0x53')]['switchConfigPath'],esmap[_0x1a9f('0x53')]['configPath']+_0xdd9562);},_0x1a2b9a[_0x1a9f('0x2e')]=function(_0xdd9562){_0xdd9562&&(_0xdd9562['vertexShader']&&(_0xdd9562[_0x1a9f('0x56')]=''),_0xdd9562[_0x1a9f('0x57')]&&(_0xdd9562[_0x1a9f('0x57')]=''));},_0x1a2b9a[_0x1a9f('0x58')]=function(_0xdd9562,_0x1a2b9a){var _0xdd9562=_0xdd9562/0xb4*Math['PI']+Math['PI']/0x2,_0x1a2b9a=-_0x1a2b9a/0xb4*Math['PI']+Math['PI']/0x2,_0x4dd0bf=new THREE['Vector3'](),_0x3e3437=Math[_0x1a9f('0x59')](_0xdd9562);return _0x4dd0bf['x']=_0x3e3437*Math[_0x1a9f('0x5a')](_0x1a2b9a),_0x4dd0bf['y']=-Math[_0x1a9f('0x5a')](_0xdd9562),_0x4dd0bf['z']=_0x3e3437*Math['sin'](_0x1a2b9a),_0x4dd0bf;},_0x1a2b9a['getOS']=function(){return/macintosh|mac os x/i[_0x1a9f('0x5b')](navigator[_0x1a9f('0x5c')]);},_0x1a2b9a[_0x1a9f('0x2c')]=function(_0x3e3437,_0x1ac564,_0x503b70){var _0x331c83=void 0x0,_0x13af0c=void 0x0;if(_0x1a9f('0x16')!=typeof _0x3e3437)throw new TypeError(_0x1a9f('0x5d'));function _0xdd9562(){var _0xdd9562,_0x1a2b9a=this,_0x4dd0bf=arguments;return _0x331c83&&clearTimeout(_0x331c83),_0x503b70?(_0xdd9562=!_0x331c83,_0x331c83=setTimeout(function(){_0x331c83=null;},_0x1ac564),_0xdd9562&&(_0x13af0c=_0x3e3437[_0x1a9f('0x15')](_0x1a2b9a,_0x4dd0bf))):_0x331c83=setTimeout(function(){_0x3e3437[_0x1a9f('0x15')](_0x1a2b9a,_0x4dd0bf);},_0x1ac564),_0x13af0c;}return _0x1ac564=_0x1ac564||0x0,_0xdd9562[_0x1a9f('0x5e')]=function(){clearTimeout(_0x331c83),_0x331c83=null;},_0xdd9562;};},function(_0x3ea84c,_0x5bbd2a,_0x54e764){_0x54e764(0x4f);for(var _0x42d326=_0x54e764(0x4),_0x542bfd=_0x54e764(0xb),_0x226c2e=_0x54e764(0x10),_0x7913b0=_0x54e764(0x5)(_0x1a9f('0x2')),_0x5003ef='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'[_0x1a9f('0x5f')](','),_0x571aba=0x0;_0x571aba<_0x5003ef[_0x1a9f('0xf')];_0x571aba++){var _0x238a91=_0x5003ef[_0x571aba],_0x9b3c39=_0x42d326[_0x238a91],_0x9b3c39=_0x9b3c39&&_0x9b3c39[_0x1a9f('0xb')];_0x9b3c39&&!_0x9b3c39[_0x7913b0]&&_0x542bfd(_0x9b3c39,_0x7913b0,_0x238a91),_0x226c2e[_0x238a91]=_0x226c2e['Array'];}},function(_0xb1bb5,_0x25dff7){_0x25dff7['f']={}[_0x1a9f('0x60')];},function(_0x4986c8,_0x1ec099){_0x4986c8['exports']=function(_0x4986c8){if(null==_0x4986c8)throw TypeError(_0x1a9f('0x61')+_0x4986c8);return _0x4986c8;};},function(_0x4053e3,_0x26254a,_0x3f129e){function _0x4a512c(){}var _0x3de8ec=_0x3f129e(0xa),_0x267af6=_0x3f129e(0x3c),_0x93acaf=_0x3f129e(0x24),_0x1b652c=_0x3f129e(0x21)(_0x1a9f('0x62')),_0x3994de=_0x1a9f('0xb'),_0x488f38=function(){var _0x4053e3=_0x3f129e(0x26)('iframe'),_0x26254a=_0x93acaf['length'];for(_0x4053e3[_0x1a9f('0x63')]['display']='none',_0x3f129e(0x42)[_0x1a9f('0x64')](_0x4053e3),_0x4053e3[_0x1a9f('0x65')]=_0x1a9f('0x66'),(_0x4053e3=_0x4053e3[_0x1a9f('0x67')][_0x1a9f('0x68')])[_0x1a9f('0x69')](),_0x4053e3[_0x1a9f('0x6a')](_0x1a9f('0x6b')),_0x4053e3[_0x1a9f('0x6c')](),_0x488f38=_0x4053e3['F'];_0x26254a--;)delete _0x488f38[_0x3994de][_0x93acaf[_0x26254a]];return _0x488f38();};_0x4053e3[_0x1a9f('0x0')]=Object[_0x1a9f('0x7')]||function(_0x4053e3,_0x26254a){var _0x3f129e;return null!==_0x4053e3?(_0x4a512c[_0x3994de]=_0x3de8ec(_0x4053e3),_0x3f129e=new _0x4a512c(),_0x4a512c[_0x3994de]=null,_0x3f129e[_0x1b652c]=_0x4053e3):_0x3f129e=_0x488f38(),void 0x0===_0x26254a?_0x3f129e:_0x267af6(_0x3f129e,_0x26254a);};},function(_0x5a6081,_0x264a28){_0x5a6081[_0x1a9f('0x0')]=function(_0x5a6081){if(_0x1a9f('0x16')!=typeof _0x5a6081)throw TypeError(_0x5a6081+_0x1a9f('0x6d'));return _0x5a6081;};},function(_0x533197,_0x42b7ec){var _0x25a061=Math['ceil'],_0x1ba6ac=Math[_0x1a9f('0x6e')];_0x533197['exports']=function(_0x533197){return isNaN(_0x533197=+_0x533197)?0x0:(0x0<_0x533197?_0x1ba6ac:_0x25a061)(_0x533197);};},function(_0x5db12d,_0x5b724a,_0x45afc7){var _0x44fb49=_0x45afc7(0x23)(_0x1a9f('0x20')),_0x11bd67=_0x45afc7(0x18);_0x5db12d['exports']=function(_0x5db12d){return _0x44fb49[_0x5db12d]||(_0x44fb49[_0x5db12d]=_0x11bd67(_0x5db12d));};},function(_0x4af564,_0x39a10f,_0x4ff471){_0x4af564[_0x1a9f('0x0')]={'default':_0x4ff471(0x6c),'__esModule':!0x0};},function(_0x7571aa,_0x4b0a86,_0x55f754){var _0x3d8de9=_0x55f754(0x2),_0x551871=_0x55f754(0x4),_0x1005a2=_0x1a9f('0x6f'),_0x9149bc=_0x551871[_0x1005a2]||(_0x551871[_0x1005a2]={});(_0x7571aa['exports']=function(_0x7571aa,_0x4b0a86){return _0x9149bc[_0x7571aa]||(_0x9149bc[_0x7571aa]=void 0x0!==_0x4b0a86?_0x4b0a86:{});})('versions',[])[_0x1a9f('0x70')]({'version':_0x3d8de9[_0x1a9f('0x71')],'mode':_0x55f754(0x13)?_0x1a9f('0x72'):_0x1a9f('0x73'),'copyright':_0x1a9f('0x74')});},function(_0x43898b,_0x4113a3){_0x43898b['exports']=_0x1a9f('0x75')[_0x1a9f('0x5f')](',');},function(_0x31f0da,_0x529af4,_0x385422){var _0x39321d=_0x385422(0x9);_0x31f0da['exports']=function(_0x31f0da,_0x529af4){if(!_0x39321d(_0x31f0da))return _0x31f0da;var _0x385422,_0x5ac5a6;if(_0x529af4&&_0x1a9f('0x16')==typeof(_0x385422=_0x31f0da[_0x1a9f('0x21')])&&!_0x39321d(_0x5ac5a6=_0x385422['call'](_0x31f0da)))return _0x5ac5a6;if(_0x1a9f('0x16')==typeof(_0x385422=_0x31f0da['valueOf'])&&!_0x39321d(_0x5ac5a6=_0x385422['call'](_0x31f0da)))return _0x5ac5a6;if(_0x529af4||_0x1a9f('0x16')!=typeof(_0x385422=_0x31f0da[_0x1a9f('0x21')])||_0x39321d(_0x5ac5a6=_0x385422[_0x1a9f('0xd')](_0x31f0da)))throw TypeError(_0x1a9f('0x76'));return _0x5ac5a6;};},function(_0x4dde5c,_0x2dd6b4,_0x1ab99d){var _0x46a350=_0x1ab99d(0x9),_0x888fe5=_0x1ab99d(0x4)['document'],_0xe33b52=_0x46a350(_0x888fe5)&&_0x46a350(_0x888fe5[_0x1a9f('0x77')]);_0x4dde5c[_0x1a9f('0x0')]=function(_0x4dde5c){return _0xe33b52?_0x888fe5[_0x1a9f('0x77')](_0x4dde5c):{};};},function(_0x5bb7d7,_0x4d70bf,_0x26d320){'use strict';function _0x2e8337(){return this;}var _0x39d950=_0x26d320(0x13),_0x2f28a0=_0x26d320(0x3),_0x5b3a1b=_0x26d320(0x37),_0x23bbd5=_0x26d320(0xb),_0x364d6b=_0x26d320(0x10),_0x2bfee1=_0x26d320(0x51),_0x402c64=_0x26d320(0x17),_0x1b3e79=_0x26d320(0x43),_0x2f3738=_0x26d320(0x5)(_0x1a9f('0x78')),_0x10f9a9=!([]['keys']&&_0x1a9f('0x79')in[][_0x1a9f('0x20')]()),_0x533f08=_0x1a9f('0x7a');_0x5bb7d7[_0x1a9f('0x0')]=function(_0x5bb7d7,_0x4d70bf,_0x26d320,_0x2fa434,_0x58db5b,_0x5cf55d,_0x169e67){function _0x485dae(_0x5bb7d7){if(!_0x10f9a9&&_0x5bb7d7 in _0x8bbcdf)return _0x8bbcdf[_0x5bb7d7];switch(_0x5bb7d7){case _0x1a9f('0x20'):case _0x533f08:return function(){return new _0x26d320(this,_0x5bb7d7);};}return function(){return new _0x26d320(this,_0x5bb7d7);};}_0x2bfee1(_0x26d320,_0x4d70bf,_0x2fa434);var _0x350409,_0x2d10b3,_0x2fa434=_0x4d70bf+'\x20Iterator',_0x39d2f8=_0x58db5b==_0x533f08,_0x2a532b=!0x1,_0x8bbcdf=_0x5bb7d7[_0x1a9f('0xb')],_0x2907ed=_0x8bbcdf[_0x2f3738]||_0x8bbcdf['@@iterator']||_0x58db5b&&_0x8bbcdf[_0x58db5b],_0x246b90=_0x2907ed||_0x485dae(_0x58db5b),_0x41ce14=_0x58db5b?_0x39d2f8?_0x485dae(_0x1a9f('0x7b')):_0x246b90:void 0x0,_0x34b38c=_0x1a9f('0x7c')==_0x4d70bf&&_0x8bbcdf[_0x1a9f('0x7b')]||_0x2907ed;if(_0x34b38c&&(_0x34b38c=_0x1b3e79(_0x34b38c[_0x1a9f('0xd')](new _0x5bb7d7())))!==Object['prototype']&&_0x34b38c[_0x1a9f('0x79')]&&(_0x402c64(_0x34b38c,_0x2fa434,!0x0),_0x39d950||_0x1a9f('0x16')==typeof _0x34b38c[_0x2f3738]||_0x23bbd5(_0x34b38c,_0x2f3738,_0x2e8337)),_0x39d2f8&&_0x2907ed&&_0x2907ed['name']!==_0x533f08&&(_0x2a532b=!0x0,_0x246b90=function(){return _0x2907ed['call'](this);}),_0x39d950&&!_0x169e67||!_0x10f9a9&&!_0x2a532b&&_0x8bbcdf[_0x2f3738]||_0x23bbd5(_0x8bbcdf,_0x2f3738,_0x246b90),_0x364d6b[_0x4d70bf]=_0x246b90,_0x364d6b[_0x2fa434]=_0x2e8337,_0x58db5b)if(_0x350409={'values':_0x39d2f8?_0x246b90:_0x485dae(_0x533f08),'keys':_0x5cf55d?_0x246b90:_0x485dae(_0x1a9f('0x20')),'entries':_0x41ce14},_0x169e67)for(_0x2d10b3 in _0x350409)_0x2d10b3 in _0x8bbcdf||_0x5b3a1b(_0x8bbcdf,_0x2d10b3,_0x350409[_0x2d10b3]);else _0x2f28a0(_0x2f28a0['P']+_0x2f28a0['F']*(_0x10f9a9||_0x2a532b),_0x4d70bf,_0x350409);return _0x350409;};},function(_0x1c0df6,_0x5c9815,_0x4ce0ea){_0x5c9815['f']=_0x4ce0ea(0x5);},function(_0x30c50e,_0x33e4bc,_0x16ecac){var _0x2070ed=_0x16ecac(0x4),_0x1b6b60=_0x16ecac(0x2),_0x9fea84=_0x16ecac(0x13),_0x56daba=_0x16ecac(0x28),_0x416441=_0x16ecac(0x8)['f'];_0x30c50e['exports']=function(_0x30c50e){var _0x33e4bc=_0x1b6b60['Symbol']||(_0x1b6b60[_0x1a9f('0x7d')]=!_0x9fea84&&_0x2070ed[_0x1a9f('0x7d')]||{});'_'==_0x30c50e[_0x1a9f('0x7e')](0x0)||_0x30c50e in _0x33e4bc||_0x416441(_0x33e4bc,_0x30c50e,{'value':_0x56daba['f'](_0x30c50e)});};},function(_0x28395f,_0x3df8cf,_0x27b118){var _0x30d23d=_0x27b118(0x20),_0x2dda1c=Math['min'];_0x28395f[_0x1a9f('0x0')]=function(_0x28395f){return 0x0<_0x28395f?_0x2dda1c(_0x30d23d(_0x28395f),0x1fffffffffffff):0x0;};},function(_0x34fb86,_0x31f591,_0x3fe408){var _0x45a504=_0x3fe408(0x16),_0x530d59=_0x3fe408(0x5)(_0x1a9f('0x2')),_0x42205d=_0x1a9f('0x7f')==_0x45a504(function(){return arguments;}());_0x34fb86['exports']=function(_0x34fb86){var _0x31f591;return void 0x0===_0x34fb86?_0x1a9f('0x80'):null===_0x34fb86?_0x1a9f('0x81'):'string'==typeof(_0x31f591=function(_0x34fb86,_0x31f591){try{return _0x34fb86[_0x31f591];}catch(_0x4a7f9b){}}(_0x34fb86=Object(_0x34fb86),_0x530d59))?_0x31f591:_0x42205d?_0x45a504(_0x34fb86):_0x1a9f('0x82')==(_0x31f591=_0x45a504(_0x34fb86))&&'function'==typeof _0x34fb86[_0x1a9f('0x83')]?_0x1a9f('0x7f'):_0x31f591;};},function(_0x26d9da,_0x1b48c9){_0x1b48c9['f']=Object['getOwnPropertySymbols'];},function(_0x4cbbd7,_0x6bc3b8,_0x2db796){_0x4cbbd7[_0x1a9f('0x0')]={'default':_0x2db796(0x87),'__esModule':!0x0};},function(_0x25d1c3,_0x1bf127,_0x5324b5){_0x25d1c3['exports']={'default':_0x5324b5(0x89),'__esModule':!0x0};},function(_0x2c8b25,_0x91a683,_0x26cd31){_0x2c8b25[_0x1a9f('0x0')]={'default':_0x26cd31(0x4c),'__esModule':!0x0};},function(_0x5afc90,_0x3226af,_0x51bc57){var _0x2bf4e8=_0x51bc57(0x16);_0x5afc90[_0x1a9f('0x0')]=Object('z')[_0x1a9f('0x60')](0x0)?Object:function(_0x5afc90){return _0x1a9f('0x25')==_0x2bf4e8(_0x5afc90)?_0x5afc90[_0x1a9f('0x5f')](''):Object(_0x5afc90);};},function(_0x10ae7d,_0x535ce4,_0x3bac22){'use strict';_0x535ce4[_0x1a9f('0x5')]=!0x0;var _0x1130c0=_0x267a98(_0x3bac22(0x58)),_0x5a2954=_0x267a98(_0x3bac22(0x46)),_0x42aad6='function'==typeof _0x5a2954[_0x1a9f('0xa')]&&_0x1a9f('0x84')==typeof _0x1130c0[_0x1a9f('0xa')]?function(_0x10ae7d){return typeof _0x10ae7d;}:function(_0x10ae7d){return _0x10ae7d&&_0x1a9f('0x16')==typeof _0x5a2954[_0x1a9f('0xa')]&&_0x10ae7d['constructor']===_0x5a2954[_0x1a9f('0xa')]&&_0x10ae7d!==_0x5a2954[_0x1a9f('0xa')][_0x1a9f('0xb')]?_0x1a9f('0x84'):typeof _0x10ae7d;};function _0x267a98(_0x10ae7d){return _0x10ae7d&&_0x10ae7d['__esModule']?_0x10ae7d:{'default':_0x10ae7d};}_0x535ce4[_0x1a9f('0xa')]=_0x1a9f('0x16')==typeof _0x5a2954[_0x1a9f('0xa')]&&_0x1a9f('0x84')===_0x42aad6(_0x1130c0[_0x1a9f('0xa')])?function(_0x10ae7d){return void 0x0===_0x10ae7d?_0x1a9f('0x1'):_0x42aad6(_0x10ae7d);}:function(_0x10ae7d){return _0x10ae7d&&'function'==typeof _0x5a2954[_0x1a9f('0xa')]&&_0x10ae7d[_0x1a9f('0x85')]===_0x5a2954[_0x1a9f('0xa')]&&_0x10ae7d!==_0x5a2954[_0x1a9f('0xa')][_0x1a9f('0xb')]?_0x1a9f('0x84'):void 0x0===_0x10ae7d?_0x1a9f('0x1'):_0x42aad6(_0x10ae7d);};},function(_0x56ce6c,_0x5c3a9b,_0x50e0f1){var _0x48006a=_0x50e0f1(0xf),_0x217641=_0x50e0f1(0x6a),_0x4957ff=_0x50e0f1(0x6b),_0xc8f32b=_0x50e0f1(0xa),_0x4f0a45=_0x50e0f1(0x2a),_0x4a664f=_0x50e0f1(0x39),_0x20ddb4={},_0x141521={};(_0x5c3a9b=_0x56ce6c[_0x1a9f('0x0')]=function(_0x56ce6c,_0x5c3a9b,_0x50e0f1,_0x35f06c,_0x54885b){var _0x1f084a,_0x1e610d,_0x4f0691,_0x48b78d,_0x54885b=_0x54885b?function(){return _0x56ce6c;}:_0x4a664f(_0x56ce6c),_0x1a56a8=_0x48006a(_0x50e0f1,_0x35f06c,_0x5c3a9b?0x2:0x1),_0xa7bd11=0x0;if(_0x1a9f('0x16')!=typeof _0x54885b)throw TypeError(_0x56ce6c+'\x20is\x20not\x20iterable!');if(_0x4957ff(_0x54885b)){for(_0x1f084a=_0x4f0a45(_0x56ce6c[_0x1a9f('0xf')]);_0xa7bd11<_0x1f084a;_0xa7bd11++)if((_0x48b78d=_0x5c3a9b?_0x1a56a8(_0xc8f32b(_0x1e610d=_0x56ce6c[_0xa7bd11])[0x0],_0x1e610d[0x1]):_0x1a56a8(_0x56ce6c[_0xa7bd11]))===_0x20ddb4||_0x48b78d===_0x141521)return _0x48b78d;}else for(_0x4f0691=_0x54885b['call'](_0x56ce6c);!(_0x1e610d=_0x4f0691[_0x1a9f('0x79')]())['done'];)if((_0x48b78d=_0x217641(_0x4f0691,_0x1a56a8,_0x1e610d[_0x1a9f('0x11')],_0x5c3a9b))===_0x20ddb4||_0x48b78d===_0x141521)return _0x48b78d;})[_0x1a9f('0x86')]=_0x20ddb4,_0x5c3a9b[_0x1a9f('0x87')]=_0x141521;},function(_0x259790,_0xe02b23){},function(_0x560a44,_0x32799d,_0x316e06){'use strict';_0x32799d[_0x1a9f('0x5')]=!0x0;var _0x316e06=_0x316e06(0x31),_0x5d0d5a=_0x316e06&&_0x316e06[_0x1a9f('0x5')]?_0x316e06:{'default':_0x316e06};_0x32799d[_0x1a9f('0xa')]=function(_0x560a44,_0x32799d){if(_0x560a44)return!_0x32799d||_0x1a9f('0x6')!==(void 0x0===_0x32799d?_0x1a9f('0x1'):(0x0,_0x5d0d5a['default'])(_0x32799d))&&_0x1a9f('0x16')!=typeof _0x32799d?_0x560a44:_0x32799d;throw new ReferenceError(_0x1a9f('0x88'));};},function(_0x48159d,_0x151419,_0x410845){'use strict';_0x151419[_0x1a9f('0x5')]=!0x0;var _0x584447=_0x48ded6(_0x410845(0x76)),_0x22df0d=_0x48ded6(_0x410845(0x22)),_0x356738=_0x48ded6(_0x410845(0x31));function _0x48ded6(_0x48159d){return _0x48159d&&_0x48159d['__esModule']?_0x48159d:{'default':_0x48159d};}_0x151419[_0x1a9f('0xa')]=function(_0x48159d,_0x151419){if(_0x1a9f('0x16')!=typeof _0x151419&&null!==_0x151419)throw new TypeError(_0x1a9f('0x89')+(void 0x0===_0x151419?'undefined':(0x0,_0x356738[_0x1a9f('0xa')])(_0x151419)));_0x48159d['prototype']=(0x0,_0x22df0d['default'])(_0x151419&&_0x151419[_0x1a9f('0xb')],{'constructor':{'value':_0x48159d,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0x151419&&(_0x584447[_0x1a9f('0xa')]?(0x0,_0x584447[_0x1a9f('0xa')])(_0x48159d,_0x151419):_0x48159d['__proto__']=_0x151419);};},function(_0x57bbbd,_0x5c9075,_0x3e2326){_0x57bbbd['exports']=!_0x3e2326(0x7)&&!_0x3e2326(0xd)(function(){return 0x7!=Object[_0x1a9f('0x3')](_0x3e2326(0x26)('div'),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x29e0b4,_0x33fe76,_0x1fd746){_0x29e0b4[_0x1a9f('0x0')]=_0x1fd746(0xb);},function(_0xf3160a,_0x2a22a9,_0x578a4c){var _0x569aa4=_0x578a4c(0xc),_0x47021d=_0x578a4c(0xe),_0x249908=_0x578a4c(0x52)(!0x1),_0x32e274=_0x578a4c(0x21)(_0x1a9f('0x62'));_0xf3160a['exports']=function(_0xf3160a,_0x2a22a9){var _0x578a4c,_0xc9a065=_0x47021d(_0xf3160a),_0x116419=0x0,_0x51dea9=[];for(_0x578a4c in _0xc9a065)_0x578a4c!=_0x32e274&&_0x569aa4(_0xc9a065,_0x578a4c)&&_0x51dea9[_0x1a9f('0x70')](_0x578a4c);for(;_0x2a22a9[_0x1a9f('0xf')]>_0x116419;)_0x569aa4(_0xc9a065,_0x578a4c=_0x2a22a9[_0x116419++])&&!~_0x249908(_0x51dea9,_0x578a4c)&&_0x51dea9[_0x1a9f('0x70')](_0x578a4c);return _0x51dea9;};},function(_0x560d60,_0x16f71e,_0x1cbd48){var _0x4d9001=_0x1cbd48(0x2b),_0x23ed94=_0x1cbd48(0x5)(_0x1a9f('0x78')),_0x4c8b38=_0x1cbd48(0x10);_0x560d60['exports']=_0x1cbd48(0x2)[_0x1a9f('0x8a')]=function(_0x560d60){if(null!=_0x560d60)return _0x560d60[_0x23ed94]||_0x560d60[_0x1a9f('0x8b')]||_0x4c8b38[_0x4d9001(_0x560d60)];};},function(_0x252344,_0x15ef27,_0x783cd5){function _0xe85cda(_0x252344){_0x308e62(_0x252344,_0x2ac6f0,{'value':{'i':'O'+ ++_0x184d6a,'w':{}}});}var _0x2ac6f0=_0x783cd5(0x18)(_0x1a9f('0x8c')),_0x585fdb=_0x783cd5(0x9),_0x114f25=_0x783cd5(0xc),_0x308e62=_0x783cd5(0x8)['f'],_0x184d6a=0x0,_0x541f8c=Object[_0x1a9f('0x8d')]||function(){return!0x0;},_0x393dcd=!_0x783cd5(0xd)(function(){return _0x541f8c(Object['preventExtensions']({}));}),_0x1a030f=_0x252344[_0x1a9f('0x0')]={'KEY':_0x2ac6f0,'NEED':!0x1,'fastKey':function(_0x252344,_0x15ef27){if(!_0x585fdb(_0x252344))return _0x1a9f('0x84')==typeof _0x252344?_0x252344:(_0x1a9f('0x8')==typeof _0x252344?'S':'P')+_0x252344;if(!_0x114f25(_0x252344,_0x2ac6f0)){if(!_0x541f8c(_0x252344))return'F';if(!_0x15ef27)return'E';_0xe85cda(_0x252344);}return _0x252344[_0x2ac6f0]['i'];},'getWeak':function(_0x252344,_0x15ef27){if(!_0x114f25(_0x252344,_0x2ac6f0)){if(!_0x541f8c(_0x252344))return!0x0;if(!_0x15ef27)return!0x1;_0xe85cda(_0x252344);}return _0x252344[_0x2ac6f0]['w'];},'onFreeze':function(_0x252344){return _0x393dcd&&_0x1a030f[_0x1a9f('0x8e')]&&_0x541f8c(_0x252344)&&!_0x114f25(_0x252344,_0x2ac6f0)&&_0xe85cda(_0x252344),_0x252344;}};},function(_0x495e5d,_0x17e8fc,_0x1fac1e){'use strict';function _0x1e5ec4(_0x495e5d){_0x495e5d&&(_0x495e5d[_0x1a9f('0x8f')]?_0x495e5d[_0x1a9f('0x8f')]():(_0x495e5d['material']&&(_0x495e5d[_0x1a9f('0x48')]['map']&&(_0x495e5d[_0x1a9f('0x48')]['map'][_0x1a9f('0x8f')](),_0x495e5d['material'][_0x1a9f('0x90')]=null),_0x495e5d[_0x1a9f('0x48')]['dispose'](),_0x495e5d[_0x1a9f('0x48')]=null),_0x495e5d[_0x1a9f('0x91')]&&(_0x495e5d[_0x1a9f('0x91')]['dispose'](),_0x495e5d[_0x1a9f('0x91')]=null)));}function _0x43d118(_0x495e5d){var _0x17e8fc=[];_0x495e5d[_0x1a9f('0x92')](function(_0x495e5d){_0x17e8fc['push'](_0x495e5d);});for(var _0x1fac1e=0x0,_0x43d118=_0x17e8fc[_0x1a9f('0xf')];_0x1fac1e<_0x43d118;_0x1fac1e++)_0x495e5d[_0x1a9f('0x93')](_0x17e8fc[_0x1fac1e]),_0x1e5ec4(_0x17e8fc[_0x1fac1e]);_0x17e8fc=null;}Object[_0x1a9f('0x3')](_0x17e8fc,_0x1a9f('0x5'),{'value':!0x0}),_0x17e8fc['default']={'disposeAll':function(_0x495e5d){_0x43d118(_0x495e5d),_0x495e5d['parent'][_0x1a9f('0x93')](_0x495e5d),_0x1e5ec4(_0x495e5d);},'disposeChilds':_0x43d118,'dispseMesh':_0x1e5ec4};},function(_0x35b54a,_0x54b675,_0x4aa144){var _0x3ad190=_0x4aa144(0x8),_0x3bffb8=_0x4aa144(0xa),_0xd3cffc=_0x4aa144(0x14);_0x35b54a[_0x1a9f('0x0')]=_0x4aa144(0x7)?Object[_0x1a9f('0x94')]:function(_0x35b54a,_0x54b675){_0x3bffb8(_0x35b54a);for(var _0x4aa144,_0x212f1f=_0xd3cffc(_0x54b675),_0x2c39e3=_0x212f1f[_0x1a9f('0xf')],_0x33a6e2=0x0;_0x33a6e2<_0x2c39e3;)_0x3ad190['f'](_0x35b54a,_0x4aa144=_0x212f1f[_0x33a6e2++],_0x54b675[_0x4aa144]);return _0x35b54a;};},function(_0x2211ad,_0x1635b5,_0x46bcfb){_0x2211ad['exports']={'default':_0x46bcfb(0x64),'__esModule':!0x0};},function(_0x22d404,_0x51eed0,_0x583228){var _0x4835aa=_0x583228(0x38),_0x580287=_0x583228(0x24)['concat'](_0x1a9f('0xf'),'prototype');_0x51eed0['f']=Object[_0x1a9f('0x95')]||function(_0x22d404){return _0x4835aa(_0x22d404,_0x580287);};},function(_0x58df91,_0x682553,_0x5c5c92){var _0x24ec62=_0x5c5c92(0x1c),_0x1a5f4f=_0x5c5c92(0x15),_0x3a56e6=_0x5c5c92(0xe),_0x42a063=_0x5c5c92(0x25),_0x365461=_0x5c5c92(0xc),_0x307127=_0x5c5c92(0x36),_0x3c6daa=Object['getOwnPropertyDescriptor'];_0x682553['f']=_0x5c5c92(0x7)?_0x3c6daa:function(_0x58df91,_0x682553){if(_0x58df91=_0x3a56e6(_0x58df91),_0x682553=_0x42a063(_0x682553,!0x0),_0x307127)try{return _0x3c6daa(_0x58df91,_0x682553);}catch(_0x4c1725){}if(_0x365461(_0x58df91,_0x682553))return _0x1a5f4f(!_0x24ec62['f'][_0x1a9f('0xd')](_0x58df91,_0x682553),_0x58df91[_0x682553]);};},function(_0x1a4fe7,_0x245cc8,_0x1a31a6){'use strict';Object['defineProperty'](_0x245cc8,'__esModule',{'value':!0x0}),_0x245cc8[_0x1a9f('0x96')]=_0x245cc8[_0x1a9f('0x97')]=_0x245cc8['ModelFresnelEffect']=_0x245cc8[_0x1a9f('0x98')]=_0x245cc8[_0x1a9f('0x99')]=_0x245cc8[_0x1a9f('0x9a')]=_0x245cc8[_0x1a9f('0x9b')]=_0x245cc8[_0x1a9f('0x9c')]=_0x245cc8[_0x1a9f('0x9d')]=_0x245cc8['PlaneVideo']=_0x245cc8[_0x1a9f('0x9e')]=_0x245cc8[_0x1a9f('0x9f')]=_0x245cc8[_0x1a9f('0xa0')]=_0x245cc8[_0x1a9f('0xa1')]=_0x245cc8[_0x1a9f('0xa2')]=_0x245cc8[_0x1a9f('0xa3')]=_0x245cc8[_0x1a9f('0xa4')]=_0x245cc8[_0x1a9f('0xa5')]=_0x245cc8[_0x1a9f('0xa6')]=_0x245cc8[_0x1a9f('0xa7')]=_0x245cc8[_0x1a9f('0xa8')]=_0x245cc8[_0x1a9f('0xa9')]=_0x245cc8['PlaneTerrainEffect']=_0x245cc8[_0x1a9f('0xaa')]=_0x245cc8['PlaneWindEffect']=_0x245cc8[_0x1a9f('0xab')]=_0x245cc8[_0x1a9f('0xac')]=_0x245cc8[_0x1a9f('0xad')]=_0x245cc8[_0x1a9f('0xae')]=_0x245cc8[_0x1a9f('0xaf')]=_0x245cc8[_0x1a9f('0xb0')]=_0x245cc8['ModelUvAnimation']=_0x245cc8[_0x1a9f('0xb1')]=_0x245cc8[_0x1a9f('0xb2')]=_0x245cc8[_0x1a9f('0xb3')]=_0x245cc8[_0x1a9f('0xb4')]=_0x245cc8[_0x1a9f('0xb5')]=_0x245cc8[_0x1a9f('0xb6')]=_0x245cc8['BuildingsTexture2']=_0x245cc8[_0x1a9f('0xb7')]=_0x245cc8[_0x1a9f('0xb8')]=_0x245cc8['ClearSky']=_0x245cc8[_0x1a9f('0xb9')]=_0x245cc8['Skybox']=void 0x0;var _0x4ddf8e=_0x2bc47e(_0x1a31a6(0xa6)),_0x32eba1=_0x2bc47e(_0x1a31a6(0xa7)),_0x22df90=_0x2bc47e(_0x1a31a6(0xa8)),_0x191839=_0x2bc47e(_0x1a31a6(0x9d)),_0x39b626=_0x2bc47e(_0x1a31a6(0x86)),_0x1d9f74=_0x2bc47e(_0x1a31a6(0xc5)),_0x2afaab=_0x2bc47e(_0x1a31a6(0x74)),_0x24230=_0x2bc47e(_0x1a31a6(0xc6)),_0x461b56=_0x2bc47e(_0x1a31a6(0xc7)),_0x11f308=_0x2bc47e(_0x1a31a6(0xc8)),_0xcd7481=_0x2bc47e(_0x1a31a6(0xa5)),_0x5c7863=_0x2bc47e(_0x1a31a6(0xc9)),_0x480412=_0x2bc47e(_0x1a31a6(0xca)),_0x114239=_0x2bc47e(_0x1a31a6(0x9e)),_0x2534e6=_0x2bc47e(_0x1a31a6(0xcb)),_0x50feb2=_0x2bc47e(_0x1a31a6(0x9f)),_0x292af0=_0x2bc47e(_0x1a31a6(0xcc)),_0x32dd0a=_0x2bc47e(_0x1a31a6(0xcd)),_0x4d1f6f=_0x2bc47e(_0x1a31a6(0xce)),_0x5f5415=_0x2bc47e(_0x1a31a6(0xcf)),_0x30dcd7=_0x2bc47e(_0x1a31a6(0xd0)),_0x1195ac=_0x2bc47e(_0x1a31a6(0xd1)),_0x3a4e69=_0x2bc47e(_0x1a31a6(0xa0)),_0x55347e=_0x2bc47e(_0x1a31a6(0xd2)),_0x5bafc4=_0x2bc47e(_0x1a31a6(0xd3)),_0xb21136=_0x2bc47e(_0x1a31a6(0xa1)),_0x43f572=_0x2bc47e(_0x1a31a6(0xd4)),_0x5ace6c=_0x2bc47e(_0x1a31a6(0x85)),_0x39884b=_0x2bc47e(_0x1a31a6(0xd5)),_0x5874c4=_0x2bc47e(_0x1a31a6(0xd6)),_0x3f2691=_0x2bc47e(_0x1a31a6(0xdb)),_0x12d397=_0x2bc47e(_0x1a31a6(0xdc)),_0x573062=_0x2bc47e(_0x1a31a6(0xdd)),_0x29d679=_0x2bc47e(_0x1a31a6(0xde)),_0x4256de=_0x2bc47e(_0x1a31a6(0xdf)),_0x58bd42=_0x2bc47e(_0x1a31a6(0x81)),_0x42132d=_0x2bc47e(_0x1a31a6(0xe0)),_0x5888b3=_0x2bc47e(_0x1a31a6(0xe1)),_0x37fa04=_0x2bc47e(_0x1a31a6(0xe5)),_0x34b71e=_0x2bc47e(_0x1a31a6(0xe6)),_0x2fe321=_0x2bc47e(_0x1a31a6(0xe7)),_0x40ce7e=_0x2bc47e(_0x1a31a6(0xe8)),_0x50066c=_0x2bc47e(_0x1a31a6(0xe9)),_0x1a31a6=_0x2bc47e(_0x1a31a6(0xea));function _0x2bc47e(_0x245cc8){return _0x245cc8&&_0x245cc8['__esModule']?_0x245cc8:{'default':_0x245cc8};}_0x245cc8[_0x1a9f('0xba')]=_0x32eba1[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb9')]=_0x4ddf8e['default'],_0x245cc8[_0x1a9f('0xbb')]=_0x22df90[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb8')]=_0x191839[_0x1a9f('0xa')],_0x245cc8['SelectPoint']=_0x39b626[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xbc')]=_0x1d9f74[_0x1a9f('0xa')],_0x245cc8['CameraFlyTo']=_0x2afaab[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb5')]=_0x24230[_0x1a9f('0xa')],_0x245cc8['CylinderFloatMarker']=_0x461b56[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb3')]=_0x11f308[_0x1a9f('0xa')],_0x245cc8['PointsLine']=_0xcd7481[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb1')]=_0x5c7863[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xbd')]=_0x480412[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xb0')]=_0x114239[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xaf')]=_0x2534e6[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xae')]=_0x50feb2[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xad')]=_0x292af0[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xac')]=_0x32dd0a['default'],_0x245cc8[_0x1a9f('0xab')]=_0x4d1f6f[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xbe')]=_0x5f5415[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xaa')]=_0x30dcd7[_0x1a9f('0xa')],_0x245cc8['PlaneTerrainEffect']=_0x1195ac['default'],_0x245cc8[_0x1a9f('0xa9')]=_0x3a4e69['default'],_0x245cc8[_0x1a9f('0xa8')]=_0x55347e[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa7')]=_0x5bafc4[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa6')]=_0xb21136['default'],_0x245cc8[_0x1a9f('0xa5')]=_0x43f572[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa4')]=_0x5ace6c[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa3')]=_0x39884b[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa2')]=_0x5874c4[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0xa1')]=_0x3f2691['default'],_0x245cc8[_0x1a9f('0xa0')]=_0x12d397['default'],_0x245cc8['CirclePlane']=_0x573062[_0x1a9f('0xa')],_0x245cc8['ClearSkyGround']=_0x29d679['default'],_0x245cc8[_0x1a9f('0xbf')]=_0x4256de['default'],_0x245cc8[_0x1a9f('0x9d')]=_0x58bd42[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0x9c')]=_0x42132d[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0x9b')]=_0x5888b3[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0x9a')]=_0x37fa04[_0x1a9f('0xa')],_0x245cc8['ModelBlendEffect']=_0x34b71e[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0x98')]=_0x2fe321['default'],_0x245cc8[_0x1a9f('0xc0')]=_0x40ce7e[_0x1a9f('0xa')],_0x245cc8[_0x1a9f('0x97')]=_0x50066c[_0x1a9f('0xa')],_0x245cc8['ModelTerrain']=_0x1a31a6[_0x1a9f('0xa')];},function(_0x1b9fa1,_0x5d7b20){_0x1b9fa1[_0x1a9f('0x0')]=function(_0x1b9fa1,_0x5d7b20){return{'value':_0x5d7b20,'done':!!_0x1b9fa1};};},function(_0x30de07,_0xa77990,_0x509aec){_0x509aec=_0x509aec(0x4)['document'];_0x30de07[_0x1a9f('0x0')]=_0x509aec&&_0x509aec['documentElement'];},function(_0x2f58b9,_0x2e673b,_0x2bbd33){var _0x5ac1e6=_0x2bbd33(0xc),_0x3feffb=_0x2bbd33(0x12),_0x36fbef=_0x2bbd33(0x21)(_0x1a9f('0x62')),_0xe1ff45=Object[_0x1a9f('0xb')];_0x2f58b9['exports']=Object[_0x1a9f('0xc1')]||function(_0x2f58b9){return _0x2f58b9=_0x3feffb(_0x2f58b9),_0x5ac1e6(_0x2f58b9,_0x36fbef)?_0x2f58b9[_0x36fbef]:_0x1a9f('0x16')==typeof _0x2f58b9[_0x1a9f('0x85')]&&_0x2f58b9 instanceof _0x2f58b9[_0x1a9f('0x85')]?_0x2f58b9[_0x1a9f('0x85')][_0x1a9f('0xb')]:_0x2f58b9 instanceof Object?_0xe1ff45:null;};},function(_0x59309f,_0x5ac151,_0x44f58b){'use strict';Object['defineProperty'](_0x5ac151,_0x1a9f('0x5'),{'value':!0x0}),_0x5ac151[_0x1a9f('0xc2')]=void 0x0;_0x44f58b=_0x44f58b(0x11);function _0x1cd2ca(){}(0x0,(_0x44f58b&&_0x44f58b['__esModule']?_0x44f58b:{'default':_0x44f58b})[_0x1a9f('0xa')])(_0x1cd2ca[_0x1a9f('0xb')],{'addEventListener':function(_0x59309f,_0x5ac151){void 0x0===this[_0x1a9f('0xc3')]&&(this[_0x1a9f('0xc3')]={});var _0x44f58b=this[_0x1a9f('0xc3')];void 0x0===_0x44f58b[_0x59309f]&&(_0x44f58b[_0x59309f]=[]),-0x1===_0x44f58b[_0x59309f][_0x1a9f('0xc4')](_0x5ac151)&&_0x44f58b[_0x59309f][_0x1a9f('0x70')](_0x5ac151);},'hasEventListener':function(_0x59309f,_0x5ac151){if(void 0x0===this[_0x1a9f('0xc3')])return!0x1;var _0x44f58b=this[_0x1a9f('0xc3')];return void 0x0!==_0x44f58b[_0x59309f]&&-0x1!==_0x44f58b[_0x59309f][_0x1a9f('0xc4')](_0x5ac151);},'removeEventListener':function(_0x59309f,_0x5ac151){void 0x0!==this[_0x1a9f('0xc3')]&&void 0x0!==(_0x59309f=this[_0x1a9f('0xc3')][_0x59309f])&&-0x1!==(_0x5ac151=_0x59309f[_0x1a9f('0xc4')](_0x5ac151))&&_0x59309f[_0x1a9f('0xc5')](_0x5ac151,0x1);},'dispatchEvent':function(_0x59309f){if(void 0x0!==this[_0x1a9f('0xc3')]){var _0x5ac151=this['_listeners'][_0x59309f[_0x1a9f('0xc6')]];if(void 0x0!==_0x5ac151){_0x59309f[_0x1a9f('0xc7')]=this;for(var _0x44f58b=_0x5ac151[_0x1a9f('0x22')](0x0),_0x1cd2ca=0x0,_0x837db5=_0x44f58b['length'];_0x1cd2ca<_0x837db5;_0x1cd2ca++)_0x44f58b[_0x1cd2ca][_0x1a9f('0xd')](this,_0x59309f);}}}}),_0x5ac151[_0x1a9f('0xc2')]=_0x1cd2ca;},function(_0x431809,_0x1bc6e8,_0xfaac69){'use strict';Object[_0x1a9f('0x3')](_0x1bc6e8,_0x1a9f('0x5'),{'value':!0x0});var _0x407d4e=_0x51bdbb(_0xfaac69(0x2e)),_0x5425f5=_0x51bdbb(_0xfaac69(0x6)),_0xb9544c=_0x51bdbb(_0xfaac69(0x0));function _0x51bdbb(_0x431809){return _0x431809&&_0x431809[_0x1a9f('0x5')]?_0x431809:{'default':_0x431809};}function _0x674154(){(0x0,_0xb9544c[_0x1a9f('0xa')])(this,_0x674154),this['textureLoader']=new THREE[(_0x1a9f('0xc8'))](),this[_0x1a9f('0xc9')]=[];}(0x0,_0x51bdbb(_0xfaac69(0x1))[_0x1a9f('0xa')])(_0x674154,[{'key':_0x1a9f('0xca'),'value':function(_0x431809,_0x1bc6e8){var _0xfaac69=this['checkTextureIsLoaded'](_0x431809);return _0x1bc6e8||!_0xfaac69?(_0x1bc6e8=this[_0x1a9f('0xcb')][_0x1a9f('0xca')](_0x431809),this[_0x1a9f('0xc9')][_0x1a9f('0x70')]({'texture':_0x1bc6e8,'path':_0x431809}),_0x1bc6e8):_0xfaac69[_0x1a9f('0xcc')];}},{'key':_0x1a9f('0xcd'),'value':function(_0x431809){var _0x1bc6e8=!0x0,_0xfaac69=!0x1,_0xb9544c=void 0x0;try{for(var _0x407d4e,_0x51bdbb=(0x0,_0x5425f5[_0x1a9f('0xa')])(this[_0x1a9f('0xc9')]);!(_0x1bc6e8=(_0x407d4e=_0x51bdbb[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x1bc6e8=!0x0){var _0x674154=_0x407d4e[_0x1a9f('0x11')];if(_0x674154[_0x1a9f('0xcf')]===_0x431809)return _0x674154;}}catch(_0x3ddaff){_0xfaac69=!0x0,_0xb9544c=_0x3ddaff;}finally{try{!_0x1bc6e8&&_0x51bdbb['return']&&_0x51bdbb[_0x1a9f('0xd0')]();}finally{if(_0xfaac69)throw _0xb9544c;}}return!0x1;}},{'key':'multiTexturesLoad','value':function(_0x431809){for(var _0x1bc6e8=[],_0xfaac69=0x0,_0xb9544c=_0x431809[_0x1a9f('0xf')];_0xfaac69<_0xb9544c;_0xfaac69++)_0x431809[_0xfaac69][_0x1a9f('0xcf')]&&_0x1bc6e8[_0x1a9f('0x70')](this[_0x1a9f('0xd1')](_0x431809[_0xfaac69]));return _0x407d4e[_0x1a9f('0xa')][_0x1a9f('0xd2')](_0x1bc6e8);}},{'key':'textureLoad','value':function(_0xfaac69){var _0xb9544c=this;return new _0x407d4e[(_0x1a9f('0xa'))](function(_0x1bc6e8,_0x431809){_0xb9544c[_0x1a9f('0xcb')]['load'](_0xfaac69['path'],function(_0x431809){_0x431809['name']=_0xfaac69['name'],_0x1bc6e8(_0x431809);});});}}],[{'key':_0x1a9f('0xd3'),'value':function(_0xb9544c){return new _0x407d4e['default'](function(_0x431809,_0x1bc6e8){var _0xfaac69=new THREE[(_0x1a9f('0xd4'))]()['load'](_0xb9544c,function(){_0x431809(_0xfaac69);});});}},{'key':_0x1a9f('0xd5'),'value':function(_0xfaac69){return new _0x407d4e[(_0x1a9f('0xa'))](function(_0x1bc6e8,_0x431809){new THREE['TextureLoader']()[_0x1a9f('0xca')](_0xfaac69,function(_0x431809){_0x1bc6e8(_0x431809);});});}}]),_0x1bc6e8[_0x1a9f('0xa')]=_0x674154;},function(_0x2c3f47,_0x5094bd,_0x37767b){_0x2c3f47['exports']={'default':_0x37767b(0x5b),'__esModule':!0x0};},function(_0x5e36f7,_0x1c59f1,_0x3d1aad){var _0x27d70f=_0x3d1aad(0x3),_0x1474a0=_0x3d1aad(0x2),_0x3a8b55=_0x3d1aad(0xd);_0x5e36f7['exports']=function(_0x5e36f7,_0x1c59f1){var _0x3d1aad=(_0x1474a0[_0x1a9f('0x82')]||{})[_0x5e36f7]||Object[_0x5e36f7],_0x3237e9={};_0x3237e9[_0x5e36f7]=_0x1c59f1(_0x3d1aad),_0x27d70f(_0x27d70f['S']+_0x27d70f['F']*_0x3a8b55(function(){_0x3d1aad(0x1);}),_0x1a9f('0x82'),_0x3237e9);};},function(_0x44870f,_0x4a7b85,_0x22b95e){var _0x1e061a=_0x22b95e(0x16);_0x44870f[_0x1a9f('0x0')]=Array[_0x1a9f('0xd6')]||function(_0x44870f){return _0x1a9f('0x7c')==_0x1e061a(_0x44870f);};},function(_0x4c7f20,_0x3cc5f8,_0x36be5c){_0x4c7f20[_0x1a9f('0x0')]={'default':_0x36be5c(0x75),'__esModule':!0x0};},function(_0x370b82,_0x300e6f){_0x370b82['exports']=function(_0x370b82,_0x300e6f,_0x5257a6,_0x29b227){if(!(_0x370b82 instanceof _0x300e6f)||void 0x0!==_0x29b227&&_0x29b227 in _0x370b82)throw TypeError(_0x5257a6+_0x1a9f('0xd7'));return _0x370b82;};},function(_0x1e8fcf,_0x415427,_0x534768){var _0x4213a1=_0x534768(0xb);_0x1e8fcf[_0x1a9f('0x0')]=function(_0x1e8fcf,_0x415427,_0x534768){for(var _0x493d16 in _0x415427)_0x534768&&_0x1e8fcf[_0x493d16]?_0x1e8fcf[_0x493d16]=_0x415427[_0x493d16]:_0x4213a1(_0x1e8fcf,_0x493d16,_0x415427[_0x493d16]);return _0x1e8fcf;};},function(_0x15e891,_0x209a90,_0x2a0e54){_0x2a0e54(0x4d);var _0x3d1c01=_0x2a0e54(0x2)[_0x1a9f('0x82')];_0x15e891[_0x1a9f('0x0')]=function(_0x15e891,_0x209a90,_0x2a0e54){return _0x3d1c01[_0x1a9f('0x3')](_0x15e891,_0x209a90,_0x2a0e54);};},function(_0x39b197,_0x25b542,_0x38a42b){var _0x1884d0=_0x38a42b(0x3);_0x1884d0(_0x1884d0['S']+_0x1884d0['F']*!_0x38a42b(0x7),_0x1a9f('0x82'),{'defineProperty':_0x38a42b(0x8)['f']});},function(_0x185fc8,_0x5f1074,_0x19d2d){_0x19d2d(0x1b),_0x19d2d(0x19),_0x185fc8[_0x1a9f('0x0')]=_0x19d2d(0x55);},function(_0x1b47a0,_0x4f43f1,_0x12a624){'use strict';var _0x19b73e=_0x12a624(0x50),_0x2348eb=_0x12a624(0x41),_0x303fbf=_0x12a624(0x10),_0x7983c4=_0x12a624(0xe);_0x1b47a0[_0x1a9f('0x0')]=_0x12a624(0x27)(Array,_0x1a9f('0x7c'),function(_0x1b47a0,_0x4f43f1){this['_t']=_0x7983c4(_0x1b47a0),this['_i']=0x0,this['_k']=_0x4f43f1;},function(){var _0x1b47a0=this['_t'],_0x4f43f1=this['_k'],_0x12a624=this['_i']++;return!_0x1b47a0||_0x12a624>=_0x1b47a0['length']?(this['_t']=void 0x0,_0x2348eb(0x1)):_0x2348eb(0x0,_0x1a9f('0x20')==_0x4f43f1?_0x12a624:_0x1a9f('0x7a')==_0x4f43f1?_0x1b47a0[_0x12a624]:[_0x12a624,_0x1b47a0[_0x12a624]]);},_0x1a9f('0x7a')),_0x303fbf[_0x1a9f('0x7f')]=_0x303fbf[_0x1a9f('0x7c')],_0x19b73e('keys'),_0x19b73e(_0x1a9f('0x7a')),_0x19b73e(_0x1a9f('0x7b'));},function(_0x59fe09,_0x5d0033){_0x59fe09[_0x1a9f('0x0')]=function(){};},function(_0x141359,_0x388bfe,_0xa17050){'use strict';var _0x5d1edf=_0xa17050(0x1e),_0x5e1a2e=_0xa17050(0x15),_0x455214=_0xa17050(0x17),_0x5d0222={};_0xa17050(0xb)(_0x5d0222,_0xa17050(0x5)(_0x1a9f('0x78')),function(){return this;}),_0x141359[_0x1a9f('0x0')]=function(_0x141359,_0x388bfe,_0xa17050){_0x141359[_0x1a9f('0xb')]=_0x5d1edf(_0x5d0222,{'next':_0x5e1a2e(0x1,_0xa17050)}),_0x455214(_0x141359,_0x388bfe+_0x1a9f('0xd8'));};},function(_0x3658d8,_0x154074,_0x5a0d39){var _0x37d790=_0x5a0d39(0xe),_0x21f626=_0x5a0d39(0x2a),_0x3970a5=_0x5a0d39(0x53);_0x3658d8[_0x1a9f('0x0')]=function(_0x47ca0d){return function(_0x3658d8,_0x154074,_0x5a0d39){var _0x4d4ac1,_0x8c8bd5=_0x37d790(_0x3658d8),_0x2618fb=_0x21f626(_0x8c8bd5['length']),_0x2b91c7=_0x3970a5(_0x5a0d39,_0x2618fb);if(_0x47ca0d&&_0x154074!=_0x154074){for(;_0x2b91c7<_0x2618fb;)if((_0x4d4ac1=_0x8c8bd5[_0x2b91c7++])!=_0x4d4ac1)return!0x0;}else for(;_0x2b91c7<_0x2618fb;_0x2b91c7++)if((_0x47ca0d||_0x2b91c7 in _0x8c8bd5)&&_0x8c8bd5[_0x2b91c7]===_0x154074)return _0x47ca0d||_0x2b91c7||0x0;return!_0x47ca0d&&-0x1;};};},function(_0x3ae9a4,_0x438f60,_0x3eee98){var _0x481470=_0x3eee98(0x20),_0x2eb4e0=Math[_0x1a9f('0xd9')],_0x24d967=Math[_0x1a9f('0xda')];_0x3ae9a4['exports']=function(_0x3ae9a4,_0x438f60){return(_0x3ae9a4=_0x481470(_0x3ae9a4))<0x0?_0x2eb4e0(_0x3ae9a4+_0x438f60,0x0):_0x24d967(_0x3ae9a4,_0x438f60);};},function(_0x49bfa3,_0x547157,_0x4105ac){var _0x3c3c20=_0x4105ac(0x20),_0x44f361=_0x4105ac(0x1d);_0x49bfa3[_0x1a9f('0x0')]=function(_0x514605){return function(_0x49bfa3,_0x547157){var _0x4105ac,_0x49bfa3=String(_0x44f361(_0x49bfa3)),_0x547157=_0x3c3c20(_0x547157),_0x3e406a=_0x49bfa3[_0x1a9f('0xf')];return _0x547157<0x0||_0x3e406a<=_0x547157?_0x514605?'':void 0x0:(_0x4105ac=_0x49bfa3['charCodeAt'](_0x547157))<0xd800||0xdbff<_0x4105ac||_0x547157+0x1===_0x3e406a||(_0x3e406a=_0x49bfa3[_0x1a9f('0xdb')](_0x547157+0x1))<0xdc00||0xdfff<_0x3e406a?_0x514605?_0x49bfa3[_0x1a9f('0x7e')](_0x547157):_0x4105ac:_0x514605?_0x49bfa3[_0x1a9f('0x22')](_0x547157,_0x547157+0x2):_0x3e406a-0xdc00+(_0x4105ac-0xd800<<0xa)+0x10000;};};},function(_0x1536c2,_0x2aff9d,_0x16f2b8){var _0x4cd2da=_0x16f2b8(0xa),_0x3d1f59=_0x16f2b8(0x39);_0x1536c2['exports']=_0x16f2b8(0x2)['getIterator']=function(_0x1536c2){var _0x2aff9d=_0x3d1f59(_0x1536c2);if('function'!=typeof _0x2aff9d)throw TypeError(_0x1536c2+_0x1a9f('0xdc'));return _0x4cd2da(_0x2aff9d['call'](_0x1536c2));};},function(_0x502499,_0xb58827,_0x27e80a){'use strict';var _0x1b922b=_0x27e80a(0x1f);function _0xb9a57(_0x502499){var _0x27e80a,_0xb9a57;this['promise']=new _0x502499(function(_0x502499,_0xb58827){if(void 0x0!==_0x27e80a||void 0x0!==_0xb9a57)throw TypeError(_0x1a9f('0xdd'));_0x27e80a=_0x502499,_0xb9a57=_0xb58827;}),this[_0x1a9f('0xde')]=_0x1b922b(_0x27e80a),this['reject']=_0x1b922b(_0xb9a57);}_0x502499[_0x1a9f('0x0')]['f']=function(_0x502499){return new _0xb9a57(_0x502499);};},function(_0x48a3a1,_0x13214f,_0x2494e6){'use strict';var _0x1e336e,_0x2f8fae=_0x2bebea(_0x2494e6(0x2f)),_0x556060=_0x2bebea(_0x2494e6(0x3d)),_0x22166c=_0x2bebea(_0x2494e6(0x31));function _0x2bebea(_0x48a3a1){return _0x48a3a1&&_0x48a3a1['__esModule']?_0x48a3a1:{'default':_0x48a3a1};}var _0x344316,_0x2daa40,_0x22fe69,_0x4993d1,_0x1c38b6,_0x48a843,_0x3e1f9d,_0x1531e2={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x2494e6=_0x1a9f('0x16')==typeof(_0x1e336e=_0x1531e2)?_0x1e336e[_0x1a9f('0xd')](_0x13214f,_0x2494e6,_0x13214f,_0x48a3a1):_0x1e336e)&&(_0x48a3a1[_0x1a9f('0x0')]=_0x2494e6),_0x1531e2[_0x1a9f('0xdf')]=function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){this['componentSize']=_0x2494e6||0x1,this['size']=_0x13214f||0x1,this['TypedArrayConstructor']=_0x48a3a1||Float32Array,this[_0x1a9f('0xe0')]=new _0x48a3a1(_0x13214f*this[_0x1a9f('0xe1')]),this['indexOffset']=_0x1e336e||0x0;},_0x1531e2[_0x1a9f('0xdf')]['constructor']=_0x1531e2['TypedArrayHelper'],_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')]['setSize']=function(_0x48a3a1,_0x13214f){var _0x2494e6=this[_0x1a9f('0xe0')][_0x1a9f('0xf')];return _0x13214f||(_0x48a3a1*=this[_0x1a9f('0xe1')]),_0x48a3a1<_0x2494e6?this[_0x1a9f('0xe2')](_0x48a3a1):_0x2494e6<_0x48a3a1?this[_0x1a9f('0xe3')](_0x48a3a1):void console[_0x1a9f('0xe4')](_0x1a9f('0xe5'),_0x48a3a1+'.',_0x1a9f('0xe6'));},_0x1531e2['TypedArrayHelper']['prototype']['shrink']=function(_0x48a3a1){return this[_0x1a9f('0xe0')]=this[_0x1a9f('0xe0')]['subarray'](0x0,_0x48a3a1),this[_0x1a9f('0xe7')]=_0x48a3a1,this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xe3')]=function(_0x48a3a1){var _0x13214f=this['array'],_0x2494e6=new this['TypedArrayConstructor'](_0x48a3a1);return _0x2494e6[_0x1a9f('0x1d')](_0x13214f),this[_0x1a9f('0xe0')]=_0x2494e6,this[_0x1a9f('0xe7')]=_0x48a3a1,this;},_0x1531e2['TypedArrayHelper']['prototype']['splice']=function(_0x48a3a1,_0x13214f){_0x48a3a1*=this[_0x1a9f('0xe1')],_0x13214f*=this['componentSize'];for(var _0x2494e6=[],_0x1e336e=this[_0x1a9f('0xe0')],_0x2f8fae=_0x1e336e[_0x1a9f('0xf')],_0x556060=0x0;_0x556060<_0x2f8fae;++_0x556060)(_0x556060<_0x48a3a1||_0x13214f<=_0x556060)&&_0x2494e6[_0x1a9f('0x70')](_0x1e336e[_0x556060]);return this[_0x1a9f('0xe8')](0x0,_0x2494e6),this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xe8')]=function(_0x48a3a1,_0x13214f){var _0x2494e6=_0x48a3a1+_0x13214f[_0x1a9f('0xf')];return _0x2494e6>this[_0x1a9f('0xe0')][_0x1a9f('0xf')]?this[_0x1a9f('0xe3')](_0x2494e6):_0x2494e6<this[_0x1a9f('0xe0')][_0x1a9f('0xf')]&&this[_0x1a9f('0xe2')](_0x2494e6),this[_0x1a9f('0xe0')][_0x1a9f('0x1d')](_0x13214f,this[_0x1a9f('0xe9')]+_0x48a3a1),this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xea')]=function(_0x48a3a1,_0x13214f){return this[_0x1a9f('0xeb')](_0x48a3a1,_0x13214f['x'],_0x13214f['y']);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xeb')]=function(_0x48a3a1,_0x13214f,_0x2494e6){var _0x1e336e=this['array'],_0x48a3a1=this['indexOffset']+_0x48a3a1*this[_0x1a9f('0xe1')];return _0x1e336e[_0x48a3a1]=_0x13214f,_0x1e336e[_0x48a3a1+0x1]=_0x2494e6,this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xec')]=function(_0x48a3a1,_0x13214f){return this['setVec3Components'](_0x48a3a1,_0x13214f['x'],_0x13214f['y'],_0x13214f['z']);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xed')]=function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){var _0x2f8fae=this['array'],_0x48a3a1=this[_0x1a9f('0xe9')]+_0x48a3a1*this[_0x1a9f('0xe1')];return _0x2f8fae[_0x48a3a1]=_0x13214f,_0x2f8fae[_0x48a3a1+0x1]=_0x2494e6,_0x2f8fae[_0x48a3a1+0x2]=_0x1e336e,this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xee')]=function(_0x48a3a1,_0x13214f){return this[_0x1a9f('0xef')](_0x48a3a1,_0x13214f['x'],_0x13214f['y'],_0x13214f['z'],_0x13214f['w']);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')]['setVec4Components']=function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae){var _0x556060=this[_0x1a9f('0xe0')],_0x48a3a1=this[_0x1a9f('0xe9')]+_0x48a3a1*this['componentSize'];return _0x556060[_0x48a3a1]=_0x13214f,_0x556060[_0x48a3a1+0x1]=_0x2494e6,_0x556060[_0x48a3a1+0x2]=_0x1e336e,_0x556060[_0x48a3a1+0x3]=_0x2f8fae,this;},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xf0')]=function(_0x48a3a1,_0x13214f){return this['setFromArray'](this[_0x1a9f('0xe9')]+_0x48a3a1*this[_0x1a9f('0xe1')],_0x13214f['elements']);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xf1')]=function(_0x48a3a1,_0x13214f){return this[_0x1a9f('0xe8')](this[_0x1a9f('0xe9')]+_0x48a3a1*this[_0x1a9f('0xe1')],_0x13214f[_0x1a9f('0xf2')]);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xf3')]=function(_0x48a3a1,_0x13214f){return this[_0x1a9f('0xed')](_0x48a3a1,_0x13214f['r'],_0x13214f['g'],_0x13214f['b']);},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')]['setNumber']=function(_0x48a3a1,_0x13214f){return this[_0x1a9f('0xe0')][this[_0x1a9f('0xe9')]+_0x48a3a1*this[_0x1a9f('0xe1')]]=_0x13214f,this;},_0x1531e2[_0x1a9f('0xdf')]['prototype'][_0x1a9f('0xf4')]=function(_0x48a3a1){return this[_0x1a9f('0xe0')][this['indexOffset']+_0x48a3a1];},_0x1531e2[_0x1a9f('0xdf')][_0x1a9f('0xb')][_0x1a9f('0xf5')]=function(_0x48a3a1){return this['array']['subarray'](this[_0x1a9f('0xe9')]+_0x48a3a1*this['componentSize']);},_0x1531e2[_0x1a9f('0xf6')]=function(_0x48a3a1,_0x13214f,_0x2494e6){var _0x1e336e=_0x1531e2['ShaderAttribute']['typeSizeMap'];this['type']=_0x1a9f('0x8')==typeof _0x48a3a1&&_0x1e336e['hasOwnProperty'](_0x48a3a1)?_0x48a3a1:'f',this[_0x1a9f('0xe1')]=_0x1e336e[this[_0x1a9f('0xc6')]],this['arrayType']=_0x2494e6||Float32Array,this[_0x1a9f('0xf7')]=null,this[_0x1a9f('0xf8')]=null,this[_0x1a9f('0xf9')]=!!_0x13214f,this[_0x1a9f('0xfa')]=0x0,this['updateMax']=0x0;},_0x1531e2[_0x1a9f('0xf6')][_0x1a9f('0x85')]=_0x1531e2['ShaderAttribute'],_0x1531e2[_0x1a9f('0xf6')][_0x1a9f('0xfb')]={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x1531e2[_0x1a9f('0xf6')]['prototype'][_0x1a9f('0xfc')]=function(_0x48a3a1,_0x13214f){this['updateMin']=Math['min'](_0x48a3a1*this[_0x1a9f('0xe1')],this[_0x1a9f('0xfa')]*this['componentSize']),this[_0x1a9f('0xfd')]=Math['max'](_0x13214f*this[_0x1a9f('0xe1')],this[_0x1a9f('0xfd')]*this[_0x1a9f('0xe1')]);},_0x1531e2[_0x1a9f('0xf6')]['prototype'][_0x1a9f('0xfe')]=function(){var _0x48a3a1=this['bufferAttribute'],_0x13214f=_0x48a3a1[_0x1a9f('0xff')];_0x13214f['offset']=this[_0x1a9f('0xfa')],_0x13214f[_0x1a9f('0x100')]=Math['min'](this['updateMax']-this[_0x1a9f('0xfa')]+this[_0x1a9f('0xe1')],this[_0x1a9f('0xf7')][_0x1a9f('0xe0')][_0x1a9f('0xf')]),_0x48a3a1[_0x1a9f('0x101')]=!0x0;},_0x1531e2[_0x1a9f('0xf6')]['prototype'][_0x1a9f('0x102')]=function(){this[_0x1a9f('0xfa')]=0x0,this['updateMax']=0x0;},_0x1531e2[_0x1a9f('0xf6')][_0x1a9f('0xb')][_0x1a9f('0x103')]=function(){this[_0x1a9f('0xf8')][_0x1a9f('0x104')]=this[_0x1a9f('0xf9')];},_0x1531e2[_0x1a9f('0xf6')][_0x1a9f('0xb')][_0x1a9f('0xc5')]=function(_0x48a3a1,_0x13214f){this[_0x1a9f('0xf7')][_0x1a9f('0xc5')](_0x48a3a1,_0x13214f),this['forceUpdateAll']();},_0x1531e2['ShaderAttribute'][_0x1a9f('0xb')][_0x1a9f('0x105')]=function(){this[_0x1a9f('0xf8')]['array']=this['typedArray']['array'],this['bufferAttribute']['updateRange'][_0x1a9f('0x106')]=0x0,this['bufferAttribute']['updateRange']['count']=-0x1,this['bufferAttribute']['dynamic']=!0x1,this[_0x1a9f('0xf8')][_0x1a9f('0x101')]=!0x0;},_0x1531e2[_0x1a9f('0xf6')]['prototype'][_0x1a9f('0x107')]=function(_0x48a3a1){null!==this['typedArray']&&this[_0x1a9f('0xf7')][_0x1a9f('0xe7')]===_0x48a3a1*this[_0x1a9f('0xe1')]||(null!==this[_0x1a9f('0xf7')]&&this[_0x1a9f('0xf7')][_0x1a9f('0xe7')]!==_0x48a3a1?this[_0x1a9f('0xf7')][_0x1a9f('0x108')](_0x48a3a1):null===this[_0x1a9f('0xf7')]&&(this[_0x1a9f('0xf7')]=new _0x1531e2[(_0x1a9f('0xdf'))](this[_0x1a9f('0x109')],_0x48a3a1,this[_0x1a9f('0xe1')])));},_0x1531e2[_0x1a9f('0xf6')][_0x1a9f('0xb')][_0x1a9f('0x10a')]=function(_0x48a3a1){if(this['_ensureTypedArray'](_0x48a3a1),null!==this[_0x1a9f('0xf8')])return this[_0x1a9f('0xf8')][_0x1a9f('0xe0')]=this[_0x1a9f('0xf7')][_0x1a9f('0xe0')],0x51<=parseFloat(THREE['REVISION'])&&(this[_0x1a9f('0xf8')][_0x1a9f('0x100')]=this[_0x1a9f('0xf8')]['array']['length']/this['bufferAttribute'][_0x1a9f('0x10b')]),void(this[_0x1a9f('0xf8')][_0x1a9f('0x101')]=!0x0);this[_0x1a9f('0xf8')]=new THREE[(_0x1a9f('0x10c'))](this[_0x1a9f('0xf7')]['array'],this[_0x1a9f('0xe1')]),this[_0x1a9f('0xf8')][_0x1a9f('0x104')]=this[_0x1a9f('0xf9')];},_0x1531e2['ShaderAttribute']['prototype'][_0x1a9f('0x10d')]=function(){return null===this[_0x1a9f('0xf7')]?0x0:this[_0x1a9f('0xf7')][_0x1a9f('0xe0')][_0x1a9f('0xf')];},_0x1531e2[_0x1a9f('0x10e')]={'defines':[_0x1a9f('0x10f'),_0x1a9f('0x110')][_0x1a9f('0x111')]('\x0a'),'uniforms':['uniform\x20float\x20deltaTime;','uniform\x20float\x20runTime;',_0x1a9f('0x112'),_0x1a9f('0x113'),_0x1a9f('0x114')][_0x1a9f('0x111')]('\x0a'),'attributes':['attribute\x20vec4\x20acceleration;',_0x1a9f('0x115'),_0x1a9f('0x116'),_0x1a9f('0x117'),_0x1a9f('0x118'),_0x1a9f('0x119'),_0x1a9f('0x11a'),_0x1a9f('0x11b'),_0x1a9f('0x11c')][_0x1a9f('0x111')]('\x0a'),'varyings':[_0x1a9f('0x11d'),'#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20varying\x20float\x20vAngle;',_0x1a9f('0x11e'),_0x1a9f('0x11f'),_0x1a9f('0x120'),_0x1a9f('0x11e')]['join']('\x0a'),'branchAvoidanceFunctions':[_0x1a9f('0x121'),_0x1a9f('0x122'),'}','float\x20when_lt(float\x20x,\x20float\x20y)\x20{',_0x1a9f('0x123'),'}',_0x1a9f('0x124'),'\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','}','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','}','float\x20when_le(float\x20x,\x20float\x20y)\x20{',_0x1a9f('0x125'),'}',_0x1a9f('0x126'),_0x1a9f('0x127'),'}',_0x1a9f('0x128'),_0x1a9f('0x129'),'}']['join']('\x0a'),'unpackColor':[_0x1a9f('0x12a'),'\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);',_0x1a9f('0x12b'),_0x1a9f('0x12c'),_0x1a9f('0x12d'),_0x1a9f('0x12e'),_0x1a9f('0x12f'),_0x1a9f('0x130'),_0x1a9f('0x131'),'}']['join']('\x0a'),'unpackRotationAxis':[_0x1a9f('0x132'),_0x1a9f('0x133'),_0x1a9f('0x12b'),_0x1a9f('0x12c'),_0x1a9f('0x12d'),_0x1a9f('0x12e'),'\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;',_0x1a9f('0x130'),_0x1a9f('0x134'),_0x1a9f('0x135'),'\x20\x20\x20return\x20c;','}'][_0x1a9f('0x111')]('\x0a'),'floatOverLifetime':[_0x1a9f('0x136'),_0x1a9f('0x137'),_0x1a9f('0x138'),_0x1a9f('0x139'),_0x1a9f('0x13a'),_0x1a9f('0x13b'),'','\x20\x20\x20\x20for(\x20int\x20i\x20=\x200;\x20i\x20<\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201;\x20++i\x20)\x20{',_0x1a9f('0x13c'),_0x1a9f('0x13d'),'\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20shouldApplyValue\x20*\x20mix(\x20attr[\x20i\x20],\x20attr[\x20i\x20+\x201\x20],\x20deltaAge\x20-\x20fIndex\x20);',_0x1a9f('0x13e'),'','\x20\x20\x20\x20return\x20value;','}'][_0x1a9f('0x111')]('\x0a'),'colorOverLifetime':[_0x1a9f('0x13f'),'\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);',_0x1a9f('0x140'),_0x1a9f('0x141'),_0x1a9f('0x142'),'}']['join']('\x0a'),'paramFetchingFunctions':[_0x1a9f('0x143'),_0x1a9f('0x144'),'}',_0x1a9f('0x145'),'\x20\x20\x20return\x20params.y;','}','float\x20getMaxAge()\x20{',_0x1a9f('0x146'),'}',_0x1a9f('0x147'),'\x20\x20\x20return\x20params.w;','}'][_0x1a9f('0x111')]('\x0a'),'forceFetchingFunctions':[_0x1a9f('0x148'),'\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}',_0x1a9f('0x149'),'\x20\x20\x20return\x20velocity\x20*\x20age;','}',_0x1a9f('0x14a'),'\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','}'][_0x1a9f('0x111')]('\x0a'),'rotationFunctions':['#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{',_0x1a9f('0x14b'),'\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);',_0x1a9f('0x14c'),'',_0x1a9f('0x14d'),_0x1a9f('0x14e'),_0x1a9f('0x14f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);',_0x1a9f('0x150'),'',_0x1a9f('0x151'),_0x1a9f('0x152'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;',_0x1a9f('0x153'),'',_0x1a9f('0x154'),_0x1a9f('0x155'),_0x1a9f('0x156'),'\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;',_0x1a9f('0x157'),_0x1a9f('0x158'),'\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;',_0x1a9f('0x159'),_0x1a9f('0x15a'),_0x1a9f('0x150'),'#endif'][_0x1a9f('0x111')]('\x0a'),'rotateTexture':[_0x1a9f('0x15b'),'',_0x1a9f('0x15c'),_0x1a9f('0x15d'),_0x1a9f('0x15e'),_0x1a9f('0x15f'),_0x1a9f('0x160'),_0x1a9f('0x161'),_0x1a9f('0x162'),'',_0x1a9f('0x163'),_0x1a9f('0x164'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;',_0x1a9f('0x165'),'\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;',_0x1a9f('0x166'),'\x20\x20\x20\x20#endif','',_0x1a9f('0x167')][_0x1a9f('0x111')]('\x0a')},_0x1531e2[_0x1a9f('0x168')]={'vertex':[_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x169')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x16a')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x16b')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x16c')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x16e')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x16f')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x170')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x171')],_0x1531e2['shaderChunks'][_0x1a9f('0x172')],_0x1531e2[_0x1a9f('0x10e')]['unpackRotationAxis'],_0x1531e2['shaderChunks']['floatOverLifetime'],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x173')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x174')],_0x1531e2['shaderChunks'][_0x1a9f('0x175')],_0x1531e2[_0x1a9f('0x10e')]['rotationFunctions'],_0x1a9f('0x176'),_0x1a9f('0x177'),_0x1a9f('0x178'),_0x1a9f('0x179'),_0x1a9f('0x17a'),'\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);',_0x1a9f('0x17b'),_0x1a9f('0x17c'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);',_0x1a9f('0x17d'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);',_0x1a9f('0x17e'),'\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);',_0x1a9f('0x17f'),_0x1a9f('0x180'),_0x1a9f('0x181'),'\x20\x20\x20\x20force\x20*=\x20drag;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;',_0x1a9f('0x182'),_0x1a9f('0x17b'),_0x1a9f('0x183'),_0x1a9f('0x184'),_0x1a9f('0x185'),_0x1a9f('0x162'),_0x1a9f('0x186'),'\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);',_0x1a9f('0x162'),_0x1a9f('0x187'),_0x1a9f('0x188'),_0x1a9f('0x189'),_0x1a9f('0x18a'),'\x20\x20\x20\x20#else',_0x1a9f('0x18b'),_0x1a9f('0x162'),'\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;',_0x1a9f('0x18c'),_0x1a9f('0x18d'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),',_0x1a9f('0x18e'),_0x1a9f('0x18f'),_0x1a9f('0x190'),'\x20\x20\x20\x20\x20\x20\x20);',_0x1a9f('0x191'),_0x1a9f('0x192'),_0x1a9f('0x162'),'\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);',_0x1a9f('0x193'),_0x1a9f('0x15c'),'\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);',_0x1a9f('0x162'),_0x1a9f('0x163'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;',_0x1a9f('0x194'),_0x1a9f('0x195'),_0x1a9f('0x196'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);',_0x1a9f('0x197'),_0x1a9f('0x198'),_0x1a9f('0x199'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;',_0x1a9f('0x19a'),'\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;',_0x1a9f('0x19b'),_0x1a9f('0x19c'),_0x1a9f('0x162'),'\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;',_0x1a9f('0x19d'),THREE[_0x1a9f('0x16d')][_0x1a9f('0x19e')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x19f')],'}'][_0x1a9f('0x111')]('\x0a'),'fragment':[_0x1531e2['shaderChunks'][_0x1a9f('0x16a')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x16e')],THREE['ShaderChunk'][_0x1a9f('0x1a0')],THREE[_0x1a9f('0x16d')][_0x1a9f('0x1a1')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x16c')],_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x171')],_0x1a9f('0x176'),_0x1a9f('0x1a2'),_0x1a9f('0x1a3'),_0x1a9f('0x1a4'),_0x1a9f('0x1a5'),_0x1a9f('0x162'),_0x1531e2[_0x1a9f('0x10e')][_0x1a9f('0x1a6')],THREE['ShaderChunk'][_0x1a9f('0x1a7')],'\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;',_0x1a9f('0x1a8'),THREE[_0x1a9f('0x16d')]['fog_fragment'],'}'][_0x1a9f('0x111')]('\x0a')},_0x1531e2['utils']={'types':{'BOOLEAN':_0x1a9f('0x1a9'),'STRING':_0x1a9f('0x8'),'NUMBER':'number','OBJECT':_0x1a9f('0x6')},'ensureTypedArg':function(_0x48a3a1,_0x13214f,_0x2494e6){return(void 0x0===_0x48a3a1?_0x1a9f('0x1'):(0x0,_0x22166c[_0x1a9f('0xa')])(_0x48a3a1))===_0x13214f?_0x48a3a1:_0x2494e6;},'ensureArrayTypedArg':function(_0x48a3a1,_0x13214f,_0x2494e6){if(Array['isArray'](_0x48a3a1)){for(var _0x1e336e=_0x48a3a1[_0x1a9f('0xf')]-0x1;0x0<=_0x1e336e;--_0x1e336e)if((0x0,_0x22166c['default'])(_0x48a3a1[_0x1e336e])!==_0x13214f)return _0x2494e6;return _0x48a3a1;}return this['ensureTypedArg'](_0x48a3a1,_0x13214f,_0x2494e6);},'ensureInstanceOf':function(_0x48a3a1,_0x13214f,_0x2494e6){return void 0x0!==_0x13214f&&_0x48a3a1 instanceof _0x13214f?_0x48a3a1:_0x2494e6;},'ensureArrayInstanceOf':function(_0x48a3a1,_0x13214f,_0x2494e6){if(Array['isArray'](_0x48a3a1)){for(var _0x1e336e=_0x48a3a1['length']-0x1;0x0<=_0x1e336e;--_0x1e336e)if(void 0x0!==_0x13214f&&_0x48a3a1[_0x1e336e]instanceof _0x13214f==0x0)return _0x2494e6;return _0x48a3a1;}return this[_0x1a9f('0x1aa')](_0x48a3a1,_0x13214f,_0x2494e6);},'ensureValueOverLifetimeCompliance':function(_0x48a3a1,_0x13214f,_0x2494e6){_0x13214f=_0x13214f||0x3,_0x2494e6=_0x2494e6||0x3,!0x1===Array[_0x1a9f('0xd6')](_0x48a3a1[_0x1a9f('0x1ab')])&&(_0x48a3a1[_0x1a9f('0x1ab')]=[_0x48a3a1['_value']]),!0x1===Array[_0x1a9f('0xd6')](_0x48a3a1[_0x1a9f('0x1ac')])&&(_0x48a3a1[_0x1a9f('0x1ac')]=[_0x48a3a1[_0x1a9f('0x1ac')]]);var _0x1e336e=this[_0x1a9f('0x1ad')](_0x48a3a1[_0x1a9f('0x1ab')][_0x1a9f('0xf')],_0x13214f,_0x2494e6),_0x13214f=this[_0x1a9f('0x1ad')](_0x48a3a1[_0x1a9f('0x1ac')]['length'],_0x13214f,_0x2494e6),_0x2494e6=Math[_0x1a9f('0xd9')](_0x1e336e,_0x13214f);_0x48a3a1[_0x1a9f('0x1ab')][_0x1a9f('0xf')]!==_0x2494e6&&(_0x48a3a1[_0x1a9f('0x1ab')]=this[_0x1a9f('0x1ae')](_0x48a3a1['_value'],_0x2494e6)),_0x48a3a1[_0x1a9f('0x1ac')][_0x1a9f('0xf')]!==_0x2494e6&&(_0x48a3a1['_spread']=this[_0x1a9f('0x1ae')](_0x48a3a1['_spread'],_0x2494e6));},'interpolateArray':function(_0x48a3a1,_0x13214f){for(var _0x2494e6=_0x48a3a1[_0x1a9f('0xf')],_0x1e336e=[_0x1a9f('0x16')==typeof _0x48a3a1[0x0][_0x1a9f('0x1af')]?_0x48a3a1[0x0][_0x1a9f('0x1af')]():_0x48a3a1[0x0]],_0x2f8fae=(_0x2494e6-0x1)/(_0x13214f-0x1),_0x556060=0x1;_0x556060<_0x13214f-0x1;++_0x556060){var _0x22166c=_0x556060*_0x2f8fae,_0x2bebea=Math[_0x1a9f('0x6e')](_0x22166c),_0x344316=Math[_0x1a9f('0x1b0')](_0x22166c);_0x1e336e[_0x556060]=this[_0x1a9f('0x1b1')](_0x48a3a1[_0x2bebea],_0x48a3a1[_0x344316],_0x22166c-_0x2bebea);}return _0x1e336e[_0x1a9f('0x70')](_0x1a9f('0x16')==typeof _0x48a3a1[_0x2494e6-0x1][_0x1a9f('0x1af')]?_0x48a3a1[_0x2494e6-0x1][_0x1a9f('0x1af')]():_0x48a3a1[_0x2494e6-0x1]),_0x1e336e;},'clamp':function(_0x48a3a1,_0x13214f,_0x2494e6){return Math[_0x1a9f('0xd9')](_0x13214f,Math['min'](_0x48a3a1,_0x2494e6));},'zeroToEpsilon':function(_0x48a3a1,_0x13214f){var _0x2494e6=_0x48a3a1,_0x2494e6=_0x13214f?0.00001*Math[_0x1a9f('0x23')]()*0xa:0.00001;return _0x48a3a1<0x0&&-0.00001<_0x48a3a1?-_0x2494e6:_0x2494e6;},'lerpTypeAgnostic':function(_0x48a3a1,_0x13214f,_0x2494e6){var _0x1e336e,_0x2f8fae=this['types'];return(void 0x0===_0x48a3a1?_0x1a9f('0x1'):(0x0,_0x22166c[_0x1a9f('0xa')])(_0x48a3a1))===_0x2f8fae[_0x1a9f('0x1b2')]&&(void 0x0===_0x13214f?_0x1a9f('0x1'):(0x0,_0x22166c['default'])(_0x13214f))===_0x2f8fae[_0x1a9f('0x1b2')]?_0x48a3a1+(_0x13214f-_0x48a3a1)*_0x2494e6:_0x48a3a1 instanceof THREE[_0x1a9f('0x1b3')]&&_0x13214f instanceof THREE['Vector2']?((_0x1e336e=_0x48a3a1[_0x1a9f('0x1af')]())['x']=this[_0x1a9f('0x1b4')](_0x48a3a1['x'],_0x13214f['x'],_0x2494e6),_0x1e336e['y']=this[_0x1a9f('0x1b4')](_0x48a3a1['y'],_0x13214f['y'],_0x2494e6),_0x1e336e):_0x48a3a1 instanceof THREE[_0x1a9f('0x1b5')]&&_0x13214f instanceof THREE[_0x1a9f('0x1b5')]?((_0x1e336e=_0x48a3a1['clone']())['x']=this[_0x1a9f('0x1b4')](_0x48a3a1['x'],_0x13214f['x'],_0x2494e6),_0x1e336e['y']=this[_0x1a9f('0x1b4')](_0x48a3a1['y'],_0x13214f['y'],_0x2494e6),_0x1e336e['z']=this['lerp'](_0x48a3a1['z'],_0x13214f['z'],_0x2494e6),_0x1e336e):_0x48a3a1 instanceof THREE[_0x1a9f('0x1b6')]&&_0x13214f instanceof THREE[_0x1a9f('0x1b6')]?((_0x1e336e=_0x48a3a1[_0x1a9f('0x1af')]())['x']=this['lerp'](_0x48a3a1['x'],_0x13214f['x'],_0x2494e6),_0x1e336e['y']=this[_0x1a9f('0x1b4')](_0x48a3a1['y'],_0x13214f['y'],_0x2494e6),_0x1e336e['z']=this['lerp'](_0x48a3a1['z'],_0x13214f['z'],_0x2494e6),_0x1e336e['w']=this[_0x1a9f('0x1b4')](_0x48a3a1['w'],_0x13214f['w'],_0x2494e6),_0x1e336e):_0x48a3a1 instanceof THREE[_0x1a9f('0x1b7')]&&_0x13214f instanceof THREE['Color']?((_0x1e336e=_0x48a3a1[_0x1a9f('0x1af')]())['r']=this['lerp'](_0x48a3a1['r'],_0x13214f['r'],_0x2494e6),_0x1e336e['g']=this[_0x1a9f('0x1b4')](_0x48a3a1['g'],_0x13214f['g'],_0x2494e6),_0x1e336e['b']=this['lerp'](_0x48a3a1['b'],_0x13214f['b'],_0x2494e6),_0x1e336e):void 0x0;},'lerp':function(_0x48a3a1,_0x13214f,_0x2494e6){return _0x48a3a1+(_0x13214f-_0x48a3a1)*_0x2494e6;},'roundToNearestMultiple':function(_0x48a3a1,_0x13214f){var _0x2494e6;return 0x0===_0x13214f||0x0==(_0x2494e6=Math['abs'](_0x48a3a1)%_0x13214f)?_0x48a3a1:_0x48a3a1<0x0?-(Math[_0x1a9f('0x1b8')](_0x48a3a1)-_0x2494e6):_0x48a3a1+_0x13214f-_0x2494e6;},'arrayValuesAreEqual':function(_0x48a3a1){for(var _0x13214f=0x0;_0x13214f<_0x48a3a1[_0x1a9f('0xf')]-0x1;++_0x13214f)if(_0x48a3a1[_0x13214f]!==_0x48a3a1[_0x13214f+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x48a3a1,_0x13214f){return _0x48a3a1+_0x13214f*(Math[_0x1a9f('0x23')]()-0.5);},'randomVector3':function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae){var _0x556060=_0x2494e6['x']+(Math[_0x1a9f('0x23')]()*_0x1e336e['x']-0.5*_0x1e336e['x']),_0x22166c=_0x2494e6['y']+(Math['random']()*_0x1e336e['y']-0.5*_0x1e336e['y']),_0x2494e6=_0x2494e6['z']+(Math[_0x1a9f('0x23')]()*_0x1e336e['z']-0.5*_0x1e336e['z']);_0x2f8fae&&(_0x556060=0.5*-_0x2f8fae['x']+this['roundToNearestMultiple'](_0x556060,_0x2f8fae['x']),_0x22166c=0.5*-_0x2f8fae['y']+this[_0x1a9f('0x1b9')](_0x22166c,_0x2f8fae['y']),_0x2494e6=0.5*-_0x2f8fae['z']+this[_0x1a9f('0x1b9')](_0x2494e6,_0x2f8fae['z'])),_0x48a3a1['typedArray'][_0x1a9f('0xed')](_0x13214f,_0x556060,_0x22166c,_0x2494e6);},'randomColor':function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){var _0x2f8fae=_0x2494e6['r']+Math[_0x1a9f('0x23')]()*_0x1e336e['x'],_0x556060=_0x2494e6['g']+Math[_0x1a9f('0x23')]()*_0x1e336e['y'],_0x2494e6=_0x2494e6['b']+Math[_0x1a9f('0x23')]()*_0x1e336e['z'],_0x2f8fae=this[_0x1a9f('0x1ad')](_0x2f8fae,0x0,0x1),_0x556060=this[_0x1a9f('0x1ad')](_0x556060,0x0,0x1),_0x2494e6=this[_0x1a9f('0x1ad')](_0x2494e6,0x0,0x1);_0x48a3a1['typedArray'][_0x1a9f('0xed')](_0x13214f,_0x2f8fae,_0x556060,_0x2494e6);},'randomColorAsHex':(_0x3e1f9d=new THREE[(_0x1a9f('0x1b7'))](),function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){for(var _0x2f8fae=_0x2494e6['length'],_0x556060=[],_0x22166c=0x0;_0x22166c<_0x2f8fae;++_0x22166c){var _0x2bebea=_0x1e336e[_0x22166c];_0x3e1f9d[_0x1a9f('0x1ba')](_0x2494e6[_0x22166c]),_0x3e1f9d['r']+=Math[_0x1a9f('0x23')]()*_0x2bebea['x']-0.5*_0x2bebea['x'],_0x3e1f9d['g']+=Math[_0x1a9f('0x23')]()*_0x2bebea['y']-0.5*_0x2bebea['y'],_0x3e1f9d['b']+=Math[_0x1a9f('0x23')]()*_0x2bebea['z']-0.5*_0x2bebea['z'],_0x3e1f9d['r']=this[_0x1a9f('0x1ad')](_0x3e1f9d['r'],0x0,0x1),_0x3e1f9d['g']=this[_0x1a9f('0x1ad')](_0x3e1f9d['g'],0x0,0x1),_0x3e1f9d['b']=this[_0x1a9f('0x1ad')](_0x3e1f9d['b'],0x0,0x1),_0x556060['push'](_0x3e1f9d[_0x1a9f('0x1bb')]());}_0x48a3a1['typedArray']['setVec4Components'](_0x13214f,_0x556060[0x0],_0x556060[0x1],_0x556060[0x2],_0x556060[0x3]);}),'randomVector3OnSphere':function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae,_0x556060,_0x22166c,_0x2bebea){var _0x344316=0x2*Math[_0x1a9f('0x23')]()-0x1,_0x2daa40=6.2832*Math[_0x1a9f('0x23')](),_0x22fe69=Math[_0x1a9f('0x1bc')](0x1-_0x344316*_0x344316),_0x1e336e=this[_0x1a9f('0x1bd')](_0x1e336e,_0x2f8fae);_0x22166c&&(_0x1e336e=Math['round'](_0x1e336e/_0x22166c)*_0x22166c),_0x2f8fae=_0x22fe69*Math[_0x1a9f('0x5a')](_0x2daa40)*_0x1e336e,_0x22166c=_0x22fe69*Math[_0x1a9f('0x59')](_0x2daa40)*_0x1e336e,_0x22fe69=_0x344316*_0x1e336e,_0x2f8fae*=_0x556060['x'],_0x22166c*=_0x556060['y'],_0x22fe69*=_0x556060['z'],_0x2f8fae+=_0x2494e6['x'],_0x22166c+=_0x2494e6['y'],_0x22fe69+=_0x2494e6['z'],_0x48a3a1[_0x1a9f('0xf7')][_0x1a9f('0xed')](_0x13214f,_0x2f8fae,_0x22166c,_0x22fe69);},'seededRandom':function(_0x48a3a1){_0x48a3a1=0x2710*Math[_0x1a9f('0x59')](_0x48a3a1);return _0x48a3a1-(0x0|_0x48a3a1);},'randomVector3OnDisc':function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae,_0x556060,_0x22166c){var _0x2bebea=6.2832*Math[_0x1a9f('0x23')](),_0x1e336e=Math[_0x1a9f('0x1b8')](this[_0x1a9f('0x1bd')](_0x1e336e,_0x2f8fae)),_0x2f8fae=0x0;_0x22166c&&(_0x1e336e=Math['round'](_0x1e336e/_0x22166c)*_0x22166c),_0x22166c=Math[_0x1a9f('0x5a')](_0x2bebea)*_0x1e336e,_0x2bebea=Math[_0x1a9f('0x59')](_0x2bebea)*_0x1e336e,_0x22166c*=_0x556060['x'],_0x2bebea*=_0x556060['y'],_0x22166c+=_0x2494e6['x'],_0x2bebea+=_0x2494e6['y'],_0x2f8fae+=_0x2494e6['z'],_0x48a3a1[_0x1a9f('0xf7')][_0x1a9f('0xed')](_0x13214f,_0x22166c,_0x2bebea,_0x2f8fae);},'randomDirectionVector3OnSphere':(_0x48a843=new THREE['Vector3'](),function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae,_0x556060,_0x22166c,_0x2bebea){_0x48a843[_0x1a9f('0x1ba')](_0x556060),_0x48a843['x']-=_0x2494e6,_0x48a843['y']-=_0x1e336e,_0x48a843['z']-=_0x2f8fae,_0x48a843['normalize']()[_0x1a9f('0x1be')](-this[_0x1a9f('0x1bd')](_0x22166c,_0x2bebea)),_0x48a3a1[_0x1a9f('0xf7')][_0x1a9f('0xed')](_0x13214f,_0x48a843['x'],_0x48a843['y'],_0x48a843['z']);}),'randomDirectionVector3OnDisc':(_0x1c38b6=new THREE[(_0x1a9f('0x1b5'))](),function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e,_0x2f8fae,_0x556060,_0x22166c,_0x2bebea){_0x1c38b6['copy'](_0x556060),_0x1c38b6['x']-=_0x2494e6,_0x1c38b6['y']-=_0x1e336e,_0x1c38b6['z']-=_0x2f8fae,_0x1c38b6[_0x1a9f('0x1bf')]()[_0x1a9f('0x1be')](-this[_0x1a9f('0x1bd')](_0x22166c,_0x2bebea)),_0x48a3a1[_0x1a9f('0xf7')]['setVec3Components'](_0x13214f,_0x1c38b6['x'],_0x1c38b6['y'],0x0);}),'getPackedRotationAxis':(_0x344316=new THREE[(_0x1a9f('0x1b5'))](),_0x2daa40=new THREE['Vector3'](),_0x22fe69=new THREE[(_0x1a9f('0x1b7'))](),_0x4993d1=new THREE['Vector3'](0x1,0x1,0x1),function(_0x48a3a1,_0x13214f){return _0x344316[_0x1a9f('0x1ba')](_0x48a3a1)['normalize'](),_0x2daa40['copy'](_0x13214f)[_0x1a9f('0x1bf')](),_0x344316['x']+=0.5*-_0x13214f['x']+Math[_0x1a9f('0x23')]()*_0x13214f['x'],_0x344316['y']+=0.5*-_0x13214f['y']+Math[_0x1a9f('0x23')]()*_0x13214f['y'],_0x344316['z']+=0.5*-_0x13214f['z']+Math['random']()*_0x13214f['z'],_0x344316[_0x1a9f('0x1bf')]()[_0x1a9f('0x1c0')](_0x4993d1)[_0x1a9f('0x1be')](0.5),_0x22fe69[_0x1a9f('0x1c1')](_0x344316['x'],_0x344316['y'],_0x344316['z']),_0x22fe69['getHex']();})},_0x1531e2['Group']=function(_0x48a3a1){var _0x13214f=_0x1531e2['utils'],_0x2494e6=_0x13214f[_0x1a9f('0x1c2')];(_0x48a3a1=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1,_0x2494e6[_0x1a9f('0x1c4')],{}))[_0x1a9f('0xcc')]=_0x13214f['ensureTypedArg'](_0x48a3a1[_0x1a9f('0xcc')],_0x2494e6[_0x1a9f('0x1c4')],{}),this['uuid']=THREE[_0x1a9f('0x18')][_0x1a9f('0x1c5')](),this['fixedTimeStep']=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['fixedTimeStep'],_0x2494e6[_0x1a9f('0x1b2')],0.016),this[_0x1a9f('0xcc')]=_0x13214f['ensureInstanceOf'](_0x48a3a1[_0x1a9f('0xcc')]['value'],THREE[_0x1a9f('0x1c6')],null),this[_0x1a9f('0x1c7')]=_0x13214f[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0xcc')][_0x1a9f('0x1c8')],THREE[_0x1a9f('0x1b3')],new THREE['Vector2'](0x1,0x1)),this[_0x1a9f('0x1c9')]=_0x13214f['ensureTypedArg'](_0x48a3a1[_0x1a9f('0xcc')][_0x1a9f('0x1ca')],_0x2494e6[_0x1a9f('0x1b2')],this['textureFrames']['x']*this[_0x1a9f('0x1c7')]['y']),this['textureLoop']=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0xcc')][_0x1a9f('0x1cb')],_0x2494e6['NUMBER'],0x1),this['textureFrames'][_0x1a9f('0xd9')](new THREE['Vector2'](0x1,0x1)),this[_0x1a9f('0x1cc')]=_0x13214f['ensureTypedArg'](_0x48a3a1['hasPerspective'],_0x2494e6['BOOLEAN'],!0x0),this['colorize']=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['colorize'],_0x2494e6[_0x1a9f('0x1cd')],!0x0),this[_0x1a9f('0x1ce')]=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1ce')],_0x2494e6[_0x1a9f('0x1b2')],null),this[_0x1a9f('0x1cf')]=_0x13214f['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1cf')],_0x2494e6[_0x1a9f('0x1b2')],THREE['AdditiveBlending']),this[_0x1a9f('0x1d0')]=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['transparent'],_0x2494e6[_0x1a9f('0x1cd')],!0x0),this[_0x1a9f('0x1d1')]=parseFloat(_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['alphaTest'],_0x2494e6['NUMBER'],0x0)),this[_0x1a9f('0x1d2')]=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['depthWrite'],_0x2494e6['BOOLEAN'],!0x1),this['depthTest']=_0x13214f['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1d3')],_0x2494e6['BOOLEAN'],!0x0),this[_0x1a9f('0x1d4')]=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['fog'],_0x2494e6[_0x1a9f('0x1cd')],!0x0),this[_0x1a9f('0x1d5')]=_0x13214f[_0x1a9f('0x1c3')](_0x48a3a1['scale'],_0x2494e6[_0x1a9f('0x1b2')],0x12c),this[_0x1a9f('0x1d6')]=[],this[_0x1a9f('0x1d7')]=[],this[_0x1a9f('0x1d8')]=[],this['_poolCreationSettings']=null,this[_0x1a9f('0x1d9')]=0x0,this[_0x1a9f('0x1da')]=!0x1,this[_0x1a9f('0x1db')]=!0x1,this[_0x1a9f('0x1dc')]=0x0,this['uniforms']={'texture1':{'type':'t','value':this[_0x1a9f('0xcc')]},'textureAnimation':{'type':'v4','value':new THREE[(_0x1a9f('0x1b6'))](this[_0x1a9f('0x1c7')]['x'],this['textureFrames']['y'],this['textureFrameCount'],Math[_0x1a9f('0xd9')](Math['abs'](this[_0x1a9f('0x1dd')]),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this[_0x1a9f('0x1d5')]}},this[_0x1a9f('0x169')]={'HAS_PERSPECTIVE':this[_0x1a9f('0x1cc')],'COLORIZE':this[_0x1a9f('0x1de')],'VALUE_OVER_LIFETIME_LENGTH':_0x1531e2[_0x1a9f('0x1df')],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this[_0x1a9f('0x1c7')]['x']||0x1<this[_0x1a9f('0x1c7')]['y']},this[_0x1a9f('0x16b')]={'position':new _0x1531e2[(_0x1a9f('0xf6'))]('v3',!0x0),'acceleration':new _0x1531e2[(_0x1a9f('0xf6'))]('v4',!0x0),'velocity':new _0x1531e2[(_0x1a9f('0xf6'))]('v3',!0x0),'rotation':new _0x1531e2[(_0x1a9f('0xf6'))]('v4',!0x0),'rotationCenter':new _0x1531e2['ShaderAttribute']('v3',!0x0),'params':new _0x1531e2['ShaderAttribute']('v4',!0x0),'size':new _0x1531e2['ShaderAttribute']('v4',!0x0),'angle':new _0x1531e2[(_0x1a9f('0xf6'))]('v4',!0x0),'color':new _0x1531e2[(_0x1a9f('0xf6'))]('v4',!0x0),'opacity':new _0x1531e2['ShaderAttribute']('v4',!0x0)},this[_0x1a9f('0x1e0')]=(0x0,_0x556060[_0x1a9f('0xa')])(this[_0x1a9f('0x16b')]),this[_0x1a9f('0x1e1')]=this[_0x1a9f('0x1e0')]['length'],this['material']=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':this[_0x1a9f('0x16a')],'vertexShader':_0x1531e2['shaders']['vertex'],'fragmentShader':_0x1531e2[_0x1a9f('0x168')][_0x1a9f('0x1e3')],'blending':this['blending'],'transparent':this[_0x1a9f('0x1d0')],'alphaTest':this[_0x1a9f('0x1d1')],'depthWrite':this[_0x1a9f('0x1d2')],'depthTest':this[_0x1a9f('0x1d3')],'defines':this[_0x1a9f('0x169')],'fog':this[_0x1a9f('0x1d4')]}),this['geometry']=new THREE['BufferGeometry'](),this[_0x1a9f('0x1e4')]=new THREE[(_0x1a9f('0xb1'))](this[_0x1a9f('0x91')],this[_0x1a9f('0x48')]),this[_0x1a9f('0x1ce')];},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0x85')]=_0x1531e2[_0x1a9f('0x1e5')],_0x1531e2['Group'][_0x1a9f('0xb')][_0x1a9f('0x1e6')]=function(){for(var _0x48a3a1,_0x13214f=this[_0x1a9f('0x1d6')],_0x2494e6=_0x13214f['length']-0x1,_0x1e336e=this[_0x1a9f('0x169')];0x0<=_0x2494e6;--_0x2494e6)_0x48a3a1=_0x13214f[_0x2494e6],_0x1e336e[_0x1a9f('0x1e7')]||(_0x1e336e[_0x1a9f('0x1e8')]=_0x1e336e[_0x1a9f('0x1e8')]||!!Math[_0x1a9f('0xd9')](Math[_0x1a9f('0xd9')]['apply'](null,_0x48a3a1['angle']['value']),Math[_0x1a9f('0xd9')][_0x1a9f('0x15')](null,_0x48a3a1['angle'][_0x1a9f('0x1e9')]))),_0x1e336e['SHOULD_ROTATE_PARTICLES']=_0x1e336e[_0x1a9f('0x1ea')]||!!Math['max'](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x1ec')],_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x1ed')]),_0x1e336e[_0x1a9f('0x1ee')]=_0x1e336e['SHOULD_WIGGLE_PARTICLES']||!!Math[_0x1a9f('0xd9')](_0x48a3a1[_0x1a9f('0x1ef')][_0x1a9f('0x11')],_0x48a3a1['wiggle'][_0x1a9f('0x1e9')]);this[_0x1a9f('0x48')][_0x1a9f('0x101')]=!0x0;},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')]['_applyAttributesToGeometry']=function(){var _0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e=this[_0x1a9f('0x16b')],_0x2f8fae=this[_0x1a9f('0x91')],_0x556060=_0x2f8fae['attributes'];for(_0x2494e6 in _0x1e336e)_0x1e336e[_0x1a9f('0xc')](_0x2494e6)&&(_0x48a3a1=_0x1e336e[_0x2494e6],(_0x13214f=_0x556060[_0x2494e6])?_0x13214f[_0x1a9f('0xe0')]=_0x48a3a1[_0x1a9f('0xf7')]['array']:_0x2f8fae[_0x1a9f('0x1f0')](_0x2494e6,_0x48a3a1['bufferAttribute']),_0x48a3a1['bufferAttribute'][_0x1a9f('0x101')]=!0x0);this[_0x1a9f('0x91')]['setDrawRange'](0x0,this['particleCount']);},_0x1531e2['Group']['prototype'][_0x1a9f('0x1f1')]=function(_0x48a3a1){if(_0x48a3a1 instanceof _0x1531e2[_0x1a9f('0x1f2')]==0x0)console[_0x1a9f('0x1f3')](_0x1a9f('0x1f4'),_0x48a3a1);else if(-0x1<this[_0x1a9f('0x1d7')][_0x1a9f('0xc4')](_0x48a3a1[_0x1a9f('0x1f5')]))console[_0x1a9f('0x1f3')]('Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.');else{if(null===_0x48a3a1[_0x1a9f('0x1f6')]){var _0x13214f,_0x2494e6=this[_0x1a9f('0x16b')],_0x1e336e=this['particleCount'],_0x2f8fae=_0x1e336e+_0x48a3a1[_0x1a9f('0x1dc')];for(_0x13214f in this[_0x1a9f('0x1dc')]=_0x2f8fae,null!==this[_0x1a9f('0x1ce')]&&this[_0x1a9f('0x1dc')]>this[_0x1a9f('0x1ce')]&&(this['particleCount'],this[_0x1a9f('0x1ce')]),_0x48a3a1[_0x1a9f('0x1f7')](_0x48a3a1[_0x1a9f('0x1f8')]['_value']+_0x48a3a1[_0x1a9f('0x1f8')][_0x1a9f('0x1ac')]),_0x48a3a1[_0x1a9f('0x1f9')](this[_0x1a9f('0x1e0')]),_0x48a3a1['_setAttributeOffset'](_0x1e336e),_0x48a3a1['group']=this,_0x48a3a1[_0x1a9f('0x16b')]=this['attributes'],_0x2494e6)_0x2494e6[_0x1a9f('0xc')](_0x13214f)&&_0x2494e6[_0x13214f][_0x1a9f('0x10a')](null!==this[_0x1a9f('0x1ce')]?this['maxParticleCount']:this[_0x1a9f('0x1dc')]);for(var _0x556060=_0x1e336e;_0x556060<_0x2f8fae;++_0x556060)_0x48a3a1[_0x1a9f('0x1fa')](_0x556060),_0x48a3a1[_0x1a9f('0x1fb')](_0x556060,_0x1a9f('0x1fc')),_0x48a3a1[_0x1a9f('0x1fb')](_0x556060,_0x1a9f('0x1fd')),_0x48a3a1[_0x1a9f('0x1fe')](_0x556060,_0x1a9f('0x1ff')),_0x48a3a1[_0x1a9f('0x1fe')](_0x556060,_0x1a9f('0xe7')),_0x48a3a1[_0x1a9f('0x200')](_0x556060),_0x48a3a1[_0x1a9f('0x201')](_0x556060),_0x48a3a1['_assignParamsValue'](_0x556060),_0x48a3a1[_0x1a9f('0x202')](_0x556060);return this['_applyAttributesToGeometry'](),this['emitters'][_0x1a9f('0x70')](_0x48a3a1),this['emitterIDs']['push'](_0x48a3a1[_0x1a9f('0x1f5')]),this['_updateDefines'](_0x48a3a1),this['material'][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x91')][_0x1a9f('0x101')]=!0x0,this['_attributesNeedRefresh']=!0x0,this;}console[_0x1a9f('0x1f3')](_0x1a9f('0x203'));}},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')][_0x1a9f('0x204')]=function(_0x48a3a1){var _0x13214f=this[_0x1a9f('0x1d7')][_0x1a9f('0xc4')](_0x48a3a1[_0x1a9f('0x1f5')]);if(_0x48a3a1 instanceof _0x1531e2[_0x1a9f('0x1f2')]==0x0)console[_0x1a9f('0x1f3')](_0x1a9f('0x1f4'),_0x48a3a1);else if(-0x1===_0x13214f)console[_0x1a9f('0x1f3')](_0x1a9f('0x205'));else{for(var _0x2494e6,_0x1e336e=_0x48a3a1[_0x1a9f('0x206')],_0x2f8fae=_0x1e336e+_0x48a3a1[_0x1a9f('0x1dc')],_0x556060=this[_0x1a9f('0x16b')][_0x1a9f('0x207')][_0x1a9f('0xf7')],_0x22166c=_0x1e336e;_0x22166c<_0x2f8fae;++_0x22166c)_0x556060[_0x1a9f('0xe0')][0x4*_0x22166c]=0x0,_0x556060['array'][0x4*_0x22166c+0x1]=0x0;for(_0x2494e6 in this['emitters'][_0x1a9f('0xc5')](_0x13214f,0x1),this[_0x1a9f('0x1d7')][_0x1a9f('0xc5')](_0x13214f,0x1),this[_0x1a9f('0x16b')])this[_0x1a9f('0x16b')][_0x1a9f('0xc')](_0x2494e6)&&this[_0x1a9f('0x16b')][_0x2494e6][_0x1a9f('0xc5')](_0x1e336e,_0x2f8fae);this[_0x1a9f('0x1dc')]-=_0x48a3a1['particleCount'],_0x48a3a1['_onRemove'](),this[_0x1a9f('0x1da')]=!0x0;}},_0x1531e2['Group'][_0x1a9f('0xb')][_0x1a9f('0x208')]=function(){var _0x48a3a1=this[_0x1a9f('0x1d8')],_0x13214f=this['_createNewWhenPoolEmpty'];return _0x48a3a1[_0x1a9f('0xf')]?_0x48a3a1[_0x1a9f('0x209')]():_0x13214f?(_0x48a3a1=new _0x1531e2[(_0x1a9f('0x1f2'))](this[_0x1a9f('0x20a')]),this[_0x1a9f('0x1f1')](_0x48a3a1),_0x48a3a1):null;},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')][_0x1a9f('0x20b')]=function(_0x48a3a1){if(_0x48a3a1 instanceof _0x1531e2['Emitter']!=0x0)return _0x48a3a1[_0x1a9f('0x20c')](),this['_pool']['unshift'](_0x48a3a1),this;console[_0x1a9f('0x1f3')](_0x1a9f('0x20d'),_0x48a3a1);},_0x1531e2['Group'][_0x1a9f('0xb')][_0x1a9f('0x20e')]=function(){return this[_0x1a9f('0x1d8')];},_0x1531e2['Group']['prototype'][_0x1a9f('0x20f')]=function(_0x48a3a1,_0x13214f,_0x2494e6){var _0x1e336e;this[_0x1a9f('0x20a')]=_0x13214f,this['_createNewWhenPoolEmpty']=!!_0x2494e6;for(var _0x2f8fae=0x0;_0x2f8fae<_0x48a3a1;++_0x2f8fae)_0x1e336e=Array['isArray'](_0x13214f)?new _0x1531e2[(_0x1a9f('0x1f2'))](_0x13214f[_0x2f8fae]):new _0x1531e2[(_0x1a9f('0x1f2'))](_0x13214f),this[_0x1a9f('0x1f1')](_0x1e336e),this[_0x1a9f('0x20b')](_0x1e336e);return this;},_0x1531e2[_0x1a9f('0x1e5')]['prototype'][_0x1a9f('0x210')]=function(_0x48a3a1){var _0x13214f=this[_0x1a9f('0x208')](),_0x2494e6=this;if(null!==_0x13214f)return _0x48a3a1 instanceof THREE[_0x1a9f('0x1b5')]&&(_0x13214f[_0x1a9f('0x42')][_0x1a9f('0x11')][_0x1a9f('0x1ba')](_0x48a3a1),_0x13214f[_0x1a9f('0x42')]['value']=_0x13214f['position'][_0x1a9f('0x11')]),_0x13214f[_0x1a9f('0x211')](),setTimeout(function(){_0x13214f['disable'](),_0x2494e6[_0x1a9f('0x20b')](_0x13214f);},0x3e8*Math[_0x1a9f('0xd9')](_0x13214f[_0x1a9f('0x212')],_0x13214f[_0x1a9f('0x1f8')][_0x1a9f('0x11')]+_0x13214f[_0x1a9f('0x1f8')][_0x1a9f('0x1e9')])),this;},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')][_0x1a9f('0x213')]=function(_0x48a3a1,_0x13214f){if('number'==typeof _0x48a3a1&&0x1<_0x48a3a1)for(var _0x2494e6=0x0;_0x2494e6<_0x48a3a1;++_0x2494e6)this[_0x1a9f('0x210')](_0x13214f);else this[_0x1a9f('0x210')](_0x13214f);return this;},_0x1531e2[_0x1a9f('0x1e5')]['prototype']['_updateUniforms']=function(_0x48a3a1){this[_0x1a9f('0x16a')][_0x1a9f('0x214')][_0x1a9f('0x11')]+=_0x48a3a1,this[_0x1a9f('0x16a')]['deltaTime'][_0x1a9f('0x11')]=_0x48a3a1;},_0x1531e2[_0x1a9f('0x1e5')]['prototype'][_0x1a9f('0x215')]=function(){for(var _0x48a3a1=this['attributeKeys'],_0x13214f=this[_0x1a9f('0x1e1')]-0x1,_0x2494e6=this[_0x1a9f('0x16b')];0x0<=_0x13214f;--_0x13214f)_0x2494e6[_0x48a3a1[_0x13214f]]['resetUpdateRange']();},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')][_0x1a9f('0x216')]=function(_0x48a3a1){for(var _0x13214f,_0x2494e6,_0x1e336e=this[_0x1a9f('0x1e0')],_0x2f8fae=this[_0x1a9f('0x1e1')]-0x1,_0x556060=this[_0x1a9f('0x16b')],_0x22166c=_0x48a3a1[_0x1a9f('0x217')];0x0<=_0x2f8fae;--_0x2f8fae)_0x13214f=_0x22166c[_0x2494e6=_0x1e336e[_0x2f8fae]],(_0x2494e6=_0x556060[_0x2494e6])[_0x1a9f('0xfc')](_0x13214f['min'],_0x13214f[_0x1a9f('0xd9')]),_0x2494e6[_0x1a9f('0xfe')]();},_0x1531e2[_0x1a9f('0x1e5')][_0x1a9f('0xb')][_0x1a9f('0x218')]=function(_0x48a3a1){var _0x13214f=this[_0x1a9f('0x1d6')],_0x2494e6=_0x13214f[_0x1a9f('0xf')],_0x1e336e=_0x48a3a1||this[_0x1a9f('0x219')],_0x2f8fae=this[_0x1a9f('0x1e0')],_0x556060=this['attributes'];if(this[_0x1a9f('0x21a')](_0x1e336e),this[_0x1a9f('0x215')](),0x0!==_0x2494e6||!0x1!==this[_0x1a9f('0x1da')]||!0x1!==this[_0x1a9f('0x1db')]){for(var _0x22166c,_0x2bebea=0x0;_0x2bebea<_0x2494e6;++_0x2bebea)(_0x22166c=_0x13214f[_0x2bebea])[_0x1a9f('0x218')](_0x1e336e),this[_0x1a9f('0x216')](_0x22166c);if(!0x0===this['_attributesNeedDynamicReset']){for(_0x2bebea=this[_0x1a9f('0x1e1')]-0x1;0x0<=_0x2bebea;--_0x2bebea)_0x556060[_0x2f8fae[_0x2bebea]]['resetDynamic']();this[_0x1a9f('0x1db')]=!0x1;}if(!0x0===this['_attributesNeedRefresh']){for(_0x2bebea=this[_0x1a9f('0x1e1')]-0x1;0x0<=_0x2bebea;--_0x2bebea)_0x556060[_0x2f8fae[_0x2bebea]][_0x1a9f('0x105')]();this[_0x1a9f('0x1da')]=!0x1,this['_attributesNeedDynamicReset']=!0x0;}}},_0x1531e2[_0x1a9f('0x1e5')]['prototype'][_0x1a9f('0x8f')]=function(){return this['geometry']['dispose'](),this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this;},_0x1531e2[_0x1a9f('0x1f2')]=function(_0x48a3a1){var _0x13214f,_0x2494e6=_0x1531e2[_0x1a9f('0x21b')],_0x1e336e=_0x2494e6[_0x1a9f('0x1c2')],_0x2f8fae=_0x1531e2[_0x1a9f('0x1df')];for(_0x13214f in(_0x48a3a1=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1,_0x1e336e[_0x1a9f('0x1c4')],{}))[_0x1a9f('0x42')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')],_0x1e336e['OBJECT'],{}),_0x48a3a1[_0x1a9f('0x1fc')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1fc')],_0x1e336e['OBJECT'],{}),_0x48a3a1['acceleration']=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1fd')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1['radius']=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x21c')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1[_0x1a9f('0x21d')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x21d')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1[_0x1a9f('0x1eb')]=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1eb')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1['color']=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x21e')],_0x1e336e['OBJECT'],{}),_0x48a3a1[_0x1a9f('0x1ff')]=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1ff')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1['size']=_0x2494e6['ensureTypedArg'](_0x48a3a1['size'],_0x1e336e['OBJECT'],{}),_0x48a3a1[_0x1a9f('0x1ec')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1ec')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1['wiggle']=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1ef')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1[_0x1a9f('0x1f8')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1f8')],_0x1e336e[_0x1a9f('0x1c4')],{}),_0x48a3a1[_0x1a9f('0x21f')],this['uuid']=THREE[_0x1a9f('0x18')][_0x1a9f('0x1c5')](),this[_0x1a9f('0xc6')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0xc6')],_0x1e336e[_0x1a9f('0x1b2')],_0x1531e2[_0x1a9f('0x220')][_0x1a9f('0x221')]),this[_0x1a9f('0x42')]={'_value':_0x2494e6['ensureInstanceOf'](_0x48a3a1[_0x1a9f('0x42')]['value'],THREE[_0x1a9f('0x1b5')],new THREE['Vector3']()),'_spread':_0x2494e6['ensureInstanceOf'](_0x48a3a1['position'][_0x1a9f('0x1e9')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_spreadClamp':_0x2494e6['ensureInstanceOf'](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x222')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_distribution':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x223')],_0x1e336e['NUMBER'],this[_0x1a9f('0xc6')]),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['position'][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'_radius':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x21c')],_0x1e336e[_0x1a9f('0x1b2')],0xa),'_radiusScale':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x225')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)),'_distributionClamp':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x42')]['distributionClamp'],_0x1e336e[_0x1a9f('0x1b2')],0x0)},this[_0x1a9f('0x1fc')]={'_value':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x1fc')][_0x1a9f('0x11')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_spread':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1['velocity'][_0x1a9f('0x1e9')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_distribution':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1fc')][_0x1a9f('0x223')],_0x1e336e['NUMBER'],this[_0x1a9f('0xc6')]),'_randomise':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x1fd')]={'_value':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x1fd')][_0x1a9f('0x11')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_spread':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x1fd')]['spread'],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_distribution':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1fd')][_0x1a9f('0x223')],_0x1e336e[_0x1a9f('0x1b2')],this[_0x1a9f('0xc6')]),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this['drag']={'_value':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['drag'][_0x1a9f('0x11')],_0x1e336e['NUMBER'],0x0),'_spread':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x21d')]['spread'],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this['wiggle']={'_value':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1ef')][_0x1a9f('0x11')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_spread':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['wiggle'][_0x1a9f('0x1e9')],_0x1e336e['NUMBER'],0x0)},this[_0x1a9f('0x1eb')]={'_axis':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x226')],THREE[_0x1a9f('0x1b5')],new THREE['Vector3'](0x0,0x1,0x0)),'_axisSpread':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1['rotation'][_0x1a9f('0x227')],THREE[_0x1a9f('0x1b5')],new THREE[(_0x1a9f('0x1b5'))]()),'_angle':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x1ec')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_angleSpread':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x1ed')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_static':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x228')],_0x1e336e['BOOLEAN'],!0x1),'_center':_0x2494e6[_0x1a9f('0x1aa')](_0x48a3a1[_0x1a9f('0x1eb')]['center'],THREE[_0x1a9f('0x1b5')],this[_0x1a9f('0x42')][_0x1a9f('0x1ab')][_0x1a9f('0x1af')]()),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['position'][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x1f8')]={'_value':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['maxAge'][_0x1a9f('0x11')],_0x1e336e[_0x1a9f('0x1b2')],0x2),'_spread':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['maxAge'][_0x1a9f('0x1e9')],_0x1e336e[_0x1a9f('0x1b2')],0x0)},this[_0x1a9f('0x21e')]={'_value':_0x2494e6[_0x1a9f('0x229')](_0x48a3a1['color'][_0x1a9f('0x11')],THREE[_0x1a9f('0x1b7')],new THREE['Color']()),'_spread':_0x2494e6[_0x1a9f('0x229')](_0x48a3a1[_0x1a9f('0x21e')][_0x1a9f('0x1e9')],THREE[_0x1a9f('0x1b5')],new THREE['Vector3']()),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x1ff')]={'_value':_0x2494e6[_0x1a9f('0x22a')](_0x48a3a1[_0x1a9f('0x1ff')][_0x1a9f('0x11')],_0x1e336e[_0x1a9f('0x1b2')],0x1),'_spread':_0x2494e6[_0x1a9f('0x22a')](_0x48a3a1[_0x1a9f('0x1ff')][_0x1a9f('0x1e9')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0xe7')]={'_value':_0x2494e6['ensureArrayTypedArg'](_0x48a3a1[_0x1a9f('0xe7')][_0x1a9f('0x11')],_0x1e336e[_0x1a9f('0x1b2')],0x1),'_spread':_0x2494e6['ensureArrayTypedArg'](_0x48a3a1[_0x1a9f('0xe7')][_0x1a9f('0x1e9')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_randomise':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['position'][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x1ec')]={'_value':_0x2494e6[_0x1a9f('0x22a')](_0x48a3a1[_0x1a9f('0x1ec')]['value'],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_spread':_0x2494e6[_0x1a9f('0x22a')](_0x48a3a1[_0x1a9f('0x1ec')][_0x1a9f('0x1e9')],_0x1e336e[_0x1a9f('0x1b2')],0x0),'_randomise':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x42')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x1dc')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1dc')],_0x1e336e['NUMBER'],0x64),this[_0x1a9f('0x212')]=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x212')],_0x1e336e[_0x1a9f('0x1b2')],null),this['isStatic']=_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['isStatic'],_0x1e336e[_0x1a9f('0x1cd')],!0x1),this[_0x1a9f('0x22b')]=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x22b')],_0x1e336e[_0x1a9f('0x1b2')],0x1),this[_0x1a9f('0x22c')]=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x22c')],_0x1e336e[_0x1a9f('0x1b2')],0x1),this[_0x1a9f('0x22d')]=_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x22d')],_0x1e336e['BOOLEAN'],!0x0),this[_0x1a9f('0x22e')]=0x0,this['activationIndex']=0x0,this[_0x1a9f('0x206')]=0x0,this[_0x1a9f('0x22f')]=0x0,this[_0x1a9f('0x230')]=0x0,this[_0x1a9f('0x231')]=0x0,this[_0x1a9f('0x1f6')]=null,this[_0x1a9f('0x16b')]=null,this[_0x1a9f('0x232')]=null,this[_0x1a9f('0x233')]={'position':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['position'][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)||_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x21c')]['randomise'],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'velocity':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1fc')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'acceleration':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1fd')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)||_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1['drag'][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'rotation':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'rotationCenter':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1eb')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'size':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0xe7')]['randomise'],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'color':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x21e')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'opacity':_0x2494e6['ensureTypedArg'](_0x48a3a1[_0x1a9f('0x1ff')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1),'angle':_0x2494e6[_0x1a9f('0x1c3')](_0x48a3a1[_0x1a9f('0x1ec')][_0x1a9f('0x224')],_0x1e336e[_0x1a9f('0x1cd')],!0x1)},this[_0x1a9f('0x234')]={},this[_0x1a9f('0x235')]={},this[_0x1a9f('0x236')]={'maxAge':_0x1a9f('0x207'),'position':_0x1a9f('0x42'),'velocity':'velocity','acceleration':'acceleration','drag':'acceleration','wiggle':'params','rotation':'rotation','size':_0x1a9f('0xe7'),'color':_0x1a9f('0x21e'),'opacity':'opacity','angle':_0x1a9f('0x1ec')},this['updateMap'])this[_0x1a9f('0x236')]['hasOwnProperty'](_0x13214f)&&(this[_0x1a9f('0x235')][this['updateMap'][_0x13214f]]=0x0,this['updateFlags'][this['updateMap'][_0x13214f]]=!0x1,this['_createGetterSetters'](this[_0x13214f],_0x13214f));this[_0x1a9f('0x217')]={},this['attributeKeys']=null,this[_0x1a9f('0x1e1')]=0x0,_0x2494e6['ensureValueOverLifetimeCompliance'](this[_0x1a9f('0x21e')],_0x2f8fae,_0x2f8fae),_0x2494e6['ensureValueOverLifetimeCompliance'](this[_0x1a9f('0x1ff')],_0x2f8fae,_0x2f8fae),_0x2494e6[_0x1a9f('0x237')](this[_0x1a9f('0xe7')],_0x2f8fae,_0x2f8fae),_0x2494e6[_0x1a9f('0x237')](this[_0x1a9f('0x1ec')],_0x2f8fae,_0x2f8fae);},_0x1531e2[_0x1a9f('0x1f2')]['constructor']=_0x1531e2[_0x1a9f('0x1f2')],_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x238')]=function(_0x48a3a1,_0x556060){var _0x13214f,_0x2494e6,_0x22166c=this;for(_0x13214f in _0x48a3a1)_0x48a3a1['hasOwnProperty'](_0x13214f)&&(_0x2494e6=_0x13214f[_0x1a9f('0x239')]('_',''),(0x0,_0x2f8fae[_0x1a9f('0xa')])(_0x48a3a1,_0x2494e6,{'get':function(_0x48a3a1){return function(){return this[_0x48a3a1];};}(_0x13214f),'set':function(_0x2f8fae){return function(_0x48a3a1){var _0x13214f=_0x22166c[_0x1a9f('0x236')][_0x556060],_0x2494e6=this[_0x2f8fae],_0x1e336e=_0x1531e2[_0x1a9f('0x1df')];_0x1a9f('0x23a')===_0x2f8fae?(_0x22166c[_0x1a9f('0x234')][_0x1a9f('0x23b')]=!0x0,_0x22166c[_0x1a9f('0x235')][_0x1a9f('0x23b')]=0x0):_0x1a9f('0x23c')===_0x2f8fae?_0x22166c[_0x1a9f('0x233')][_0x13214f]=_0x48a3a1:(_0x22166c[_0x1a9f('0x234')][_0x13214f]=!0x0,_0x22166c['updateCounts'][_0x13214f]=0x0),_0x22166c[_0x1a9f('0x1f6')][_0x1a9f('0x1e6')](),this[_0x2f8fae]=_0x48a3a1,Array[_0x1a9f('0xd6')](_0x2494e6)&&_0x1531e2[_0x1a9f('0x21b')][_0x1a9f('0x237')](_0x22166c[_0x556060],_0x1e336e,_0x1e336e);};}(_0x13214f)}));},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x1f9')]=function(_0x48a3a1){this[_0x1a9f('0x1e0')]=_0x48a3a1,this[_0x1a9f('0x1e1')]=_0x48a3a1[_0x1a9f('0xf')];for(var _0x13214f=this['attributeCount']-0x1;0x0<=_0x13214f;--_0x13214f)this[_0x1a9f('0x217')][_0x48a3a1[_0x13214f]]={'min':Number[_0x1a9f('0x23d')],'max':Number[_0x1a9f('0x23e')]};},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x1f7')]=function(_0x48a3a1){var _0x13214f=this[_0x1a9f('0x1dc')];this['duration']?this[_0x1a9f('0x22e')]=_0x13214f/(_0x48a3a1<this[_0x1a9f('0x212')]?_0x48a3a1:this[_0x1a9f('0x212')]):this[_0x1a9f('0x22e')]=_0x13214f/_0x48a3a1;},_0x1531e2[_0x1a9f('0x1f2')]['prototype']['_setAttributeOffset']=function(_0x48a3a1){this['attributeOffset']=_0x48a3a1,this['activationIndex']=_0x48a3a1,this['activationEnd']=_0x48a3a1+this[_0x1a9f('0x1dc')];},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x23f')]=function(_0x48a3a1,_0x13214f){switch(_0x48a3a1){case'position':this['_assignPositionValue'](_0x13214f);break;case _0x1a9f('0x1fc'):case _0x1a9f('0x1fd'):this[_0x1a9f('0x1fb')](_0x13214f,_0x48a3a1);break;case _0x1a9f('0xe7'):case _0x1a9f('0x1ff'):this[_0x1a9f('0x1fe')](_0x13214f,_0x48a3a1);break;case _0x1a9f('0x1ec'):this['_assignAngleValue'](_0x13214f);break;case _0x1a9f('0x207'):this[_0x1a9f('0x240')](_0x13214f);break;case _0x1a9f('0x1eb'):this[_0x1a9f('0x201')](_0x13214f);break;case _0x1a9f('0x21e'):this['_assignColorValue'](_0x13214f);}},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x1fa')]=function(_0x48a3a1){var _0x13214f=_0x1531e2[_0x1a9f('0x220')],_0x2494e6=_0x1531e2['utils'],_0x1e336e=this['position'],_0x2f8fae=this[_0x1a9f('0x16b')][_0x1a9f('0x42')],_0x556060=_0x1e336e['_value'],_0x22166c=_0x1e336e['_spread'];switch(_0x1e336e[_0x1a9f('0x241')]){case _0x13214f[_0x1a9f('0x221')]:_0x2494e6[_0x1a9f('0x242')](_0x2f8fae,_0x48a3a1,_0x556060,_0x22166c,_0x1e336e[_0x1a9f('0x243')]);break;case _0x13214f[_0x1a9f('0x244')]:_0x2494e6['randomVector3OnSphere'](_0x2f8fae,_0x48a3a1,_0x556060,_0x1e336e[_0x1a9f('0x245')],_0x1e336e[_0x1a9f('0x1ac')]['x'],_0x1e336e[_0x1a9f('0x246')],_0x1e336e[_0x1a9f('0x243')]['x'],_0x1e336e[_0x1a9f('0x247')]||this['particleCount']);break;case _0x13214f[_0x1a9f('0x248')]:_0x2494e6[_0x1a9f('0x249')](_0x2f8fae,_0x48a3a1,_0x556060,_0x1e336e[_0x1a9f('0x245')],_0x1e336e[_0x1a9f('0x1ac')]['x'],_0x1e336e[_0x1a9f('0x246')],_0x1e336e[_0x1a9f('0x243')]['x']);}},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x1fb')]=function(_0x48a3a1,_0x13214f){var _0x2494e6,_0x1e336e,_0x2f8fae,_0x556060,_0x22166c,_0x2bebea=_0x1531e2[_0x1a9f('0x220')],_0x344316=_0x1531e2[_0x1a9f('0x21b')],_0x2daa40=this[_0x13214f],_0x22fe69=_0x2daa40[_0x1a9f('0x1ab')],_0x4993d1=_0x2daa40['_spread'];switch(_0x2daa40[_0x1a9f('0x241')]){case _0x2bebea['BOX']:_0x344316[_0x1a9f('0x242')](this['attributes'][_0x13214f],_0x48a3a1,_0x22fe69,_0x4993d1);break;case _0x2bebea['SPHERE']:_0x1e336e=(_0x2494e6=this[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0xf7')][_0x1a9f('0xe0')])[_0x22166c=0x3*_0x48a3a1],_0x2f8fae=_0x2494e6[_0x22166c+0x1],_0x556060=_0x2494e6[_0x22166c+0x2],_0x344316[_0x1a9f('0x24a')](this[_0x1a9f('0x16b')][_0x13214f],_0x48a3a1,_0x1e336e,_0x2f8fae,_0x556060,this[_0x1a9f('0x42')]['_value'],_0x2daa40[_0x1a9f('0x1ab')]['x'],_0x2daa40[_0x1a9f('0x1ac')]['x']);break;case _0x2bebea['DISC']:_0x1e336e=(_0x2494e6=this[_0x1a9f('0x16b')]['position'][_0x1a9f('0xf7')][_0x1a9f('0xe0')])[_0x22166c=0x3*_0x48a3a1],_0x2f8fae=_0x2494e6[_0x22166c+0x1],_0x556060=_0x2494e6[_0x22166c+0x2],_0x344316['randomDirectionVector3OnDisc'](this['attributes'][_0x13214f],_0x48a3a1,_0x1e336e,_0x2f8fae,_0x556060,this[_0x1a9f('0x42')]['_value'],_0x2daa40[_0x1a9f('0x1ab')]['x'],_0x2daa40[_0x1a9f('0x1ac')]['x']);}_0x1a9f('0x1fd')===_0x13214f&&(_0x2bebea=_0x344316[_0x1a9f('0x1ad')](_0x344316['randomFloat'](this[_0x1a9f('0x21d')][_0x1a9f('0x1ab')],this['drag'][_0x1a9f('0x1ac')]),0x0,0x1),this[_0x1a9f('0x16b')][_0x1a9f('0x1fd')]['typedArray']['array'][0x4*_0x48a3a1+0x3]=_0x2bebea);},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x1fe')]=function(_0x48a3a1,_0x13214f){var _0x2494e6,_0x1e336e=this[_0x1a9f('0x16b')][_0x13214f][_0x1a9f('0xf7')],_0x13214f=this[_0x13214f],_0x2f8fae=_0x1531e2['utils'];_0x2f8fae['arrayValuesAreEqual'](_0x13214f[_0x1a9f('0x1ab')])&&_0x2f8fae[_0x1a9f('0x24b')](_0x13214f[_0x1a9f('0x1ac')])?(_0x2494e6=Math[_0x1a9f('0x1b8')](_0x2f8fae['randomFloat'](_0x13214f[_0x1a9f('0x1ab')][0x0],_0x13214f[_0x1a9f('0x1ac')][0x0])),_0x1e336e[_0x1a9f('0xef')](_0x48a3a1,_0x2494e6,_0x2494e6,_0x2494e6,_0x2494e6)):_0x1e336e[_0x1a9f('0xef')](_0x48a3a1,Math[_0x1a9f('0x1b8')](_0x2f8fae['randomFloat'](_0x13214f[_0x1a9f('0x1ab')][0x0],_0x13214f[_0x1a9f('0x1ac')][0x0])),Math[_0x1a9f('0x1b8')](_0x2f8fae[_0x1a9f('0x1bd')](_0x13214f[_0x1a9f('0x1ab')][0x1],_0x13214f[_0x1a9f('0x1ac')][0x1])),Math['abs'](_0x2f8fae[_0x1a9f('0x1bd')](_0x13214f[_0x1a9f('0x1ab')][0x2],_0x13214f['_spread'][0x2])),Math['abs'](_0x2f8fae[_0x1a9f('0x1bd')](_0x13214f[_0x1a9f('0x1ab')][0x3],_0x13214f[_0x1a9f('0x1ac')][0x3])));},_0x1531e2['Emitter'][_0x1a9f('0xb')]['_assignAngleValue']=function(_0x48a3a1){var _0x13214f,_0x2494e6=this[_0x1a9f('0x16b')][_0x1a9f('0x1ec')][_0x1a9f('0xf7')],_0x1e336e=this[_0x1a9f('0x1ec')],_0x2f8fae=_0x1531e2[_0x1a9f('0x21b')];_0x2f8fae[_0x1a9f('0x24b')](_0x1e336e[_0x1a9f('0x1ab')])&&_0x2f8fae[_0x1a9f('0x24b')](_0x1e336e[_0x1a9f('0x1ac')])?(_0x13214f=_0x2f8fae['randomFloat'](_0x1e336e[_0x1a9f('0x1ab')][0x0],_0x1e336e[_0x1a9f('0x1ac')][0x0]),_0x2494e6['setVec4Components'](_0x48a3a1,_0x13214f,_0x13214f,_0x13214f,_0x13214f)):_0x2494e6[_0x1a9f('0xef')](_0x48a3a1,_0x2f8fae[_0x1a9f('0x1bd')](_0x1e336e['_value'][0x0],_0x1e336e[_0x1a9f('0x1ac')][0x0]),_0x2f8fae[_0x1a9f('0x1bd')](_0x1e336e[_0x1a9f('0x1ab')][0x1],_0x1e336e[_0x1a9f('0x1ac')][0x1]),_0x2f8fae[_0x1a9f('0x1bd')](_0x1e336e[_0x1a9f('0x1ab')][0x2],_0x1e336e[_0x1a9f('0x1ac')][0x2]),_0x2f8fae[_0x1a9f('0x1bd')](_0x1e336e[_0x1a9f('0x1ab')][0x3],_0x1e336e[_0x1a9f('0x1ac')][0x3]));},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')]['_assignParamsValue']=function(_0x48a3a1){this[_0x1a9f('0x16b')][_0x1a9f('0x207')][_0x1a9f('0xf7')][_0x1a9f('0xef')](_0x48a3a1,this[_0x1a9f('0x24c')]?0x1:0x0,0x0,Math[_0x1a9f('0x1b8')](_0x1531e2[_0x1a9f('0x21b')][_0x1a9f('0x1bd')](this['maxAge'][_0x1a9f('0x1ab')],this[_0x1a9f('0x1f8')][_0x1a9f('0x1ac')])),_0x1531e2[_0x1a9f('0x21b')]['randomFloat'](this[_0x1a9f('0x1ef')][_0x1a9f('0x1ab')],this[_0x1a9f('0x1ef')]['_spread']));},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')]['_assignRotationValue']=function(_0x48a3a1){this[_0x1a9f('0x16b')][_0x1a9f('0x1eb')][_0x1a9f('0xf7')][_0x1a9f('0xed')](_0x48a3a1,_0x1531e2[_0x1a9f('0x21b')][_0x1a9f('0x24d')](this[_0x1a9f('0x1eb')][_0x1a9f('0x24e')],this[_0x1a9f('0x1eb')]['_axisSpread']),_0x1531e2['utils'][_0x1a9f('0x1bd')](this[_0x1a9f('0x1eb')][_0x1a9f('0x24f')],this[_0x1a9f('0x1eb')]['_angleSpread']),this[_0x1a9f('0x1eb')]['_static']?0x0:0x1),this['attributes'][_0x1a9f('0x23b')]['typedArray'][_0x1a9f('0xec')](_0x48a3a1,this['rotation'][_0x1a9f('0x250')]);},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x202')]=function(_0x48a3a1){_0x1531e2[_0x1a9f('0x21b')][_0x1a9f('0x251')](this[_0x1a9f('0x16b')]['color'],_0x48a3a1,this[_0x1a9f('0x21e')][_0x1a9f('0x1ab')],this[_0x1a9f('0x21e')][_0x1a9f('0x1ac')]);},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x252')]=function(_0x48a3a1){for(var _0x13214f,_0x2494e6,_0x1e336e=this[_0x1a9f('0x233')],_0x2f8fae=this[_0x1a9f('0x234')],_0x556060=this[_0x1a9f('0x235')],_0x22166c=this['attributeKeys'],_0x2bebea=this[_0x1a9f('0x1e1')]-0x1;0x0<=_0x2bebea;--_0x2bebea)_0x2494e6=_0x2f8fae[_0x13214f=_0x22166c[_0x2bebea]],!0x0!==_0x1e336e[_0x13214f]&&!0x0!==_0x2494e6||(this[_0x1a9f('0x23f')](_0x13214f,_0x48a3a1),this['_updateAttributeUpdateRange'](_0x13214f,_0x48a3a1),!0x0===_0x2494e6&&_0x556060[_0x13214f]===this[_0x1a9f('0x1dc')]?(_0x2f8fae[_0x13214f]=!0x1,_0x556060[_0x13214f]=0x0):0x1==_0x2494e6&&++_0x556060[_0x13214f]);},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')]['_updateAttributeUpdateRange']=function(_0x48a3a1,_0x13214f){_0x48a3a1=this[_0x1a9f('0x217')][_0x48a3a1];_0x48a3a1['min']=Math['min'](_0x13214f,_0x48a3a1[_0x1a9f('0xda')]),_0x48a3a1['max']=Math[_0x1a9f('0xd9')](_0x13214f,_0x48a3a1[_0x1a9f('0xd9')]);},_0x1531e2[_0x1a9f('0x1f2')]['prototype'][_0x1a9f('0x215')]=function(){for(var _0x48a3a1,_0x13214f=this['bufferUpdateRanges'],_0x2494e6=this[_0x1a9f('0x253')],_0x1e336e=this['bufferUpdateCount']-0x1;0x0<=_0x1e336e;--_0x1e336e)_0x13214f[_0x48a3a1=_0x2494e6[_0x1e336e]][_0x1a9f('0xda')]=Number['POSITIVE_INFINITY'],_0x13214f[_0x48a3a1][_0x1a9f('0xd9')]=Number['NEGATIVE_INFINITY'];},_0x1531e2['Emitter'][_0x1a9f('0xb')][_0x1a9f('0x254')]=function(){this[_0x1a9f('0x22e')]=0x0,this[_0x1a9f('0x206')]=0x0,this[_0x1a9f('0x255')]=0x0,this[_0x1a9f('0x231')]=0x0,this['group']=null,this[_0x1a9f('0x16b')]=null,this[_0x1a9f('0x232')]=null,this[_0x1a9f('0x230')]=0x0;},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x256')]=function(){--this[_0x1a9f('0x231')];},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')]['_incrementParticleCount']=function(){++this['activeParticleCount'];},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x257')]=function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){for(var _0x2f8fae,_0x556060,_0x22166c,_0x2bebea,_0x344316=_0x13214f-0x1;_0x48a3a1<=_0x344316;--_0x344316)0x0!==(_0x2bebea=_0x2494e6[_0x2f8fae=0x4*_0x344316])&&(_0x22166c=_0x2494e6[0x1+_0x2f8fae],_0x556060=_0x2494e6[0x2+_0x2f8fae],0x1===this[_0x1a9f('0x22c')]?_0x556060<=(_0x22166c+=_0x1e336e)&&(_0x2bebea=_0x22166c=0x0,this[_0x1a9f('0x256')]()):(_0x22166c-=_0x1e336e)<=0x0&&(_0x22166c=_0x556060,_0x2bebea=0x0,this[_0x1a9f('0x256')]()),_0x2494e6[_0x2f8fae]=_0x2bebea,_0x2494e6[0x1+_0x2f8fae]=_0x22166c,this[_0x1a9f('0x258')](_0x1a9f('0x207'),_0x344316));},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x259')]=function(_0x48a3a1,_0x13214f,_0x2494e6,_0x1e336e){for(var _0x2f8fae,_0x556060,_0x22166c=this[_0x1a9f('0x22c')],_0x2bebea=_0x48a3a1;_0x2bebea<_0x13214f;++_0x2bebea)0x0!=_0x2494e6[_0x2f8fae=0x4*_0x2bebea]&&0x1!==this[_0x1a9f('0x1dc')]||(this[_0x1a9f('0x25a')](),_0x2494e6[_0x2f8fae]=0x1,this[_0x1a9f('0x252')](_0x2bebea),_0x556060=_0x1e336e*(_0x2bebea-_0x48a3a1),_0x2494e6[0x1+_0x2f8fae]=-0x1===_0x22166c?_0x2494e6[0x2+_0x2f8fae]-_0x556060:_0x556060,this['_updateAttributeUpdateRange'](_0x1a9f('0x207'),_0x2bebea));},_0x1531e2['Emitter'][_0x1a9f('0xb')]['tick']=function(_0x48a3a1){if(!this[_0x1a9f('0x24c')]){null===this[_0x1a9f('0x232')]&&(this[_0x1a9f('0x232')]=this[_0x1a9f('0x16b')][_0x1a9f('0x207')]['typedArray'][_0x1a9f('0xe0')]);var _0x13214f=this['attributeOffset'],_0x2494e6=_0x13214f+this[_0x1a9f('0x1dc')],_0x1e336e=this['paramsArray'],_0x2f8fae=this[_0x1a9f('0x22e')]*this[_0x1a9f('0x22b')]*_0x48a3a1,_0x556060=this['activationIndex'];if(this[_0x1a9f('0x215')](),this['_checkParticleAges'](_0x13214f,_0x2494e6,_0x1e336e,_0x48a3a1),!0x1===this[_0x1a9f('0x22d')])this['age']=0x0;else{if(null!==this['duration']&&this[_0x1a9f('0x230')]>this['duration'])return this[_0x1a9f('0x22d')]=!0x1,void(this[_0x1a9f('0x230')]=0x0);var _0x556060=0x1===this[_0x1a9f('0x1dc')]?_0x556060:0x0|_0x556060,_0x22166c=Math[_0x1a9f('0xda')](_0x556060+_0x2f8fae,this[_0x1a9f('0x25b')]),_0x2bebea=_0x22166c-this[_0x1a9f('0x255')]|0x0;this['_activateParticles'](_0x556060,_0x22166c,_0x1e336e,0x0<_0x2bebea?_0x48a3a1/_0x2bebea:0x0),this['activationIndex']+=_0x2f8fae,this[_0x1a9f('0x255')]>_0x2494e6&&(this[_0x1a9f('0x255')]=_0x13214f),this['age']+=_0x48a3a1;}}},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x20c')]=function(_0x48a3a1){if(this['age']=0x0,!(this['alive']=!0x1)===_0x48a3a1){for(var _0x13214f,_0x2494e6=this['attributeOffset'],_0x48a3a1=_0x2494e6+this[_0x1a9f('0x1dc')],_0x1e336e=this[_0x1a9f('0x232')],_0x2f8fae=this['attributes'][_0x1a9f('0x207')][_0x1a9f('0xf8')],_0x556060=_0x48a3a1-0x1;_0x2494e6<=_0x556060;--_0x556060)_0x1e336e[_0x13214f=0x4*_0x556060]=0x0,_0x1e336e[0x1+_0x13214f]=0x0;_0x2f8fae['updateRange'][_0x1a9f('0x106')]=0x0,_0x2f8fae['updateRange'][_0x1a9f('0x100')]=-0x1,_0x2f8fae['needsUpdate']=!0x0;}return this;},_0x1531e2['Emitter'][_0x1a9f('0xb')][_0x1a9f('0x211')]=function(){return this[_0x1a9f('0x22d')]=!0x0,this;},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')][_0x1a9f('0x25c')]=function(){return this[_0x1a9f('0x22d')]=!0x1,this;},_0x1531e2[_0x1a9f('0x1f2')][_0x1a9f('0xb')]['remove']=function(){return null!==this['group']?this[_0x1a9f('0x1f6')][_0x1a9f('0x204')](this):console[_0x1a9f('0x1f3')]('Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.'),this;};},function(_0x3a78a0,_0x2b48df,_0x534499){_0x3a78a0[_0x1a9f('0x0')]={'default':_0x534499(0x5a),'__esModule':!0x0};},function(_0x25ae72,_0x23c3b1,_0x47e4fb){_0x25ae72[_0x1a9f('0x0')]={'default':_0x47e4fb(0x7f),'__esModule':!0x0};},function(_0x3505b8,_0x2c9545,_0x56c67b){_0x56c67b(0x19),_0x56c67b(0x1b),_0x3505b8['exports']=_0x56c67b(0x28)['f']('iterator');},function(_0x4b45ee,_0x46694c,_0x58d876){_0x58d876(0x5c),_0x58d876(0x33),_0x58d876(0x5f),_0x58d876(0x60),_0x4b45ee[_0x1a9f('0x0')]=_0x58d876(0x2)[_0x1a9f('0x7d')];},function(_0x29ba36,_0x931caf,_0x394cf0){'use strict';function _0x2cd796(_0x394cf0){var _0x44d288=_0x5f43e4[_0x394cf0]=_0x576dc3(_0x30a30c[_0x268400]);return _0x44d288['_k']=_0x394cf0,_0x44d288;}function _0x5ae34a(_0x394cf0,_0x51c6f4){_0x592b49(_0x394cf0);for(var _0x5ae34a,_0x2cd796=_0x511a36(_0x51c6f4=_0x1d2281(_0x51c6f4)),_0x50b819=0x0,_0x1d7c9f=_0x2cd796['length'];_0x50b819<_0x1d7c9f;)_0x2f5efa(_0x394cf0,_0x5ae34a=_0x2cd796[_0x50b819++],_0x51c6f4[_0x5ae34a]);return _0x394cf0;}function _0x6fdac8(_0x394cf0){var _0x6fdac8=_0x148fc6[_0x1a9f('0xd')](this,_0x394cf0=_0x29ab91(_0x394cf0,!0x0));return!(this===_0xc6658e&&_0xd62450(_0x5f43e4,_0x394cf0)&&!_0xd62450(_0x4be658,_0x394cf0))&&(!(_0x6fdac8||!_0xd62450(this,_0x394cf0)||!_0xd62450(_0x5f43e4,_0x394cf0)||_0xd62450(this,_0xe73a95)&&this[_0xe73a95][_0x394cf0])||_0x6fdac8);}function _0x4abff7(_0x394cf0,_0x6fdac8){var _0x5ae34a;if(_0x394cf0=_0x1d2281(_0x394cf0),_0x6fdac8=_0x29ab91(_0x6fdac8,!0x0),_0x394cf0!==_0xc6658e||!_0xd62450(_0x5f43e4,_0x6fdac8)||_0xd62450(_0x4be658,_0x6fdac8))return!(_0x5ae34a=_0x1be1db(_0x394cf0,_0x6fdac8))||!_0xd62450(_0x5f43e4,_0x6fdac8)||_0xd62450(_0x394cf0,_0xe73a95)&&_0x394cf0[_0xe73a95][_0x6fdac8]||(_0x5ae34a[_0x1a9f('0x25d')]=!0x0),_0x5ae34a;}function _0x501866(_0x394cf0){for(var _0x6fdac8,_0x5ae34a=_0x576145(_0x1d2281(_0x394cf0)),_0x2cd796=[],_0x4abff7=0x0;_0x5ae34a['length']>_0x4abff7;)_0xd62450(_0x5f43e4,_0x6fdac8=_0x5ae34a[_0x4abff7++])||_0x6fdac8==_0xe73a95||_0x6fdac8==_0x3b0f5f||_0x2cd796['push'](_0x6fdac8);return _0x2cd796;}function _0x504dd3(_0x394cf0){for(var _0x6fdac8,_0x5ae34a=_0x394cf0===_0xc6658e,_0x2cd796=_0x576145(_0x5ae34a?_0x4be658:_0x1d2281(_0x394cf0)),_0x4abff7=[],_0x501866=0x0;_0x2cd796[_0x1a9f('0xf')]>_0x501866;)!_0xd62450(_0x5f43e4,_0x6fdac8=_0x2cd796[_0x501866++])||_0x5ae34a&&!_0xd62450(_0xc6658e,_0x6fdac8)||_0x4abff7[_0x1a9f('0x70')](_0x5f43e4[_0x6fdac8]);return _0x4abff7;}function _0x2f5efa(_0x394cf0,_0x6fdac8,_0x5ae34a){return _0x394cf0===_0xc6658e&&_0x2f5efa(_0x4be658,_0x6fdac8,_0x5ae34a),_0x592b49(_0x394cf0),_0x6fdac8=_0x29ab91(_0x6fdac8,!0x0),_0x592b49(_0x5ae34a),_0xd62450(_0x5f43e4,_0x6fdac8)?(_0x5ae34a[_0x1a9f('0x25d')]?(_0xd62450(_0x394cf0,_0xe73a95)&&_0x394cf0[_0xe73a95][_0x6fdac8]&&(_0x394cf0[_0xe73a95][_0x6fdac8]=!0x1),_0x5ae34a=_0x576dc3(_0x5ae34a,{'enumerable':_0x4e1b25(0x0,!0x1)})):(_0xd62450(_0x394cf0,_0xe73a95)||_0x4fb5cd(_0x394cf0,_0xe73a95,_0x4e1b25(0x1,{})),_0x394cf0[_0xe73a95][_0x6fdac8]=!0x0),_0x155d41(_0x394cf0,_0x6fdac8,_0x5ae34a)):_0x4fb5cd(_0x394cf0,_0x6fdac8,_0x5ae34a);}var _0x1cc28f=_0x394cf0(0x4),_0xd62450=_0x394cf0(0xc),_0x355001=_0x394cf0(0x7),_0x371d4d=_0x394cf0(0x3),_0x57cccf=_0x394cf0(0x37),_0x3b0f5f=_0x394cf0(0x3a)['KEY'],_0x160d50=_0x394cf0(0xd),_0xfc5dda=_0x394cf0(0x23),_0x457b07=_0x394cf0(0x17),_0x2571ec=_0x394cf0(0x18),_0xc13c98=_0x394cf0(0x5),_0x501ecd=_0x394cf0(0x28),_0x12e700=_0x394cf0(0x29),_0x511a36=_0x394cf0(0x5d),_0x227311=_0x394cf0(0x48),_0x592b49=_0x394cf0(0xa),_0x2e893e=_0x394cf0(0x9),_0x19766f=_0x394cf0(0x12),_0x1d2281=_0x394cf0(0xe),_0x29ab91=_0x394cf0(0x25),_0x4e1b25=_0x394cf0(0x15),_0x576dc3=_0x394cf0(0x1e),_0x267ad3=_0x394cf0(0x5e),_0x2f5e16=_0x394cf0(0x3f),_0xa88a9c=_0x394cf0(0x2c),_0x23fe56=_0x394cf0(0x8),_0x367294=_0x394cf0(0x14),_0x1be1db=_0x2f5e16['f'],_0x4fb5cd=_0x23fe56['f'],_0x576145=_0x267ad3['f'],_0x30a30c=_0x1cc28f[_0x1a9f('0x7d')],_0x3ba3d8=_0x1cc28f['JSON'],_0x1d7c21=_0x3ba3d8&&_0x3ba3d8[_0x1a9f('0x25e')],_0x268400='prototype',_0xe73a95=_0xc13c98('_hidden'),_0x4f2da7=_0xc13c98(_0x1a9f('0x25f')),_0x148fc6={}[_0x1a9f('0x60')],_0xcefc68=_0xfc5dda(_0x1a9f('0x260')),_0x5f43e4=_0xfc5dda(_0x1a9f('0x261')),_0x4be658=_0xfc5dda(_0x1a9f('0x262')),_0xc6658e=Object[_0x268400],_0xfc5dda=_0x1a9f('0x16')==typeof _0x30a30c&&!!_0xa88a9c['f'],_0x56678c=_0x1cc28f[_0x1a9f('0x263')],_0xd0b1f6=!_0x56678c||!_0x56678c[_0x268400]||!_0x56678c[_0x268400]['findChild'],_0x155d41=_0x355001&&_0x160d50(function(){return 0x7!=_0x576dc3(_0x4fb5cd({},'a',{'get':function(){return _0x4fb5cd(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x394cf0,_0x6fdac8,_0x5ae34a){var _0x2cd796=_0x1be1db(_0xc6658e,_0x6fdac8);_0x2cd796&&delete _0xc6658e[_0x6fdac8],_0x4fb5cd(_0x394cf0,_0x6fdac8,_0x5ae34a),_0x2cd796&&_0x394cf0!==_0xc6658e&&_0x4fb5cd(_0xc6658e,_0x6fdac8,_0x2cd796);}:_0x4fb5cd,_0x3c7f41=_0xfc5dda&&_0x1a9f('0x84')==typeof _0x30a30c[_0x1a9f('0x78')]?function(_0x394cf0){return _0x1a9f('0x84')==typeof _0x394cf0;}:function(_0x394cf0){return _0x394cf0 instanceof _0x30a30c;};_0xfc5dda||(_0x57cccf((_0x30a30c=function(){if(this instanceof _0x30a30c)throw TypeError(_0x1a9f('0x264'));var _0x6fdac8=_0x2571ec(0x0<arguments['length']?arguments[0x0]:void 0x0),_0x5ae34a=function(_0x394cf0){this===_0xc6658e&&_0x5ae34a['call'](_0x4be658,_0x394cf0),_0xd62450(this,_0xe73a95)&&_0xd62450(this[_0xe73a95],_0x6fdac8)&&(this[_0xe73a95][_0x6fdac8]=!0x1),_0x155d41(this,_0x6fdac8,_0x4e1b25(0x1,_0x394cf0));};return _0x355001&&_0xd0b1f6&&_0x155d41(_0xc6658e,_0x6fdac8,{'configurable':!0x0,'set':_0x5ae34a}),_0x2cd796(_0x6fdac8);})[_0x268400],_0x1a9f('0x21'),function(){return this['_k'];}),_0x2f5e16['f']=_0x4abff7,_0x23fe56['f']=_0x2f5efa,_0x394cf0(0x3e)['f']=_0x267ad3['f']=_0x501866,_0x394cf0(0x1c)['f']=_0x6fdac8,_0xa88a9c['f']=_0x504dd3,_0x355001&&!_0x394cf0(0x13)&&_0x57cccf(_0xc6658e,'propertyIsEnumerable',_0x6fdac8,!0x0),_0x501ecd['f']=function(_0x394cf0){return _0x2cd796(_0xc13c98(_0x394cf0));}),_0x371d4d(_0x371d4d['G']+_0x371d4d['W']+_0x371d4d['F']*!_0xfc5dda,{'Symbol':_0x30a30c});for(var _0x434658='hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'['split'](','),_0x22ccbe=0x0;_0x434658[_0x1a9f('0xf')]>_0x22ccbe;)_0xc13c98(_0x434658[_0x22ccbe++]);for(var _0x50d3eb=_0x367294(_0xc13c98[_0x1a9f('0x1c')]),_0x48ff4a=0x0;_0x50d3eb['length']>_0x48ff4a;)_0x12e700(_0x50d3eb[_0x48ff4a++]);_0x371d4d(_0x371d4d['S']+_0x371d4d['F']*!_0xfc5dda,_0x1a9f('0x7d'),{'for':function(_0x394cf0){return _0xd62450(_0xcefc68,_0x394cf0+='')?_0xcefc68[_0x394cf0]:_0xcefc68[_0x394cf0]=_0x30a30c(_0x394cf0);},'keyFor':function(_0x394cf0){if(!_0x3c7f41(_0x394cf0))throw TypeError(_0x394cf0+'\x20is\x20not\x20a\x20symbol!');for(var _0x6fdac8 in _0xcefc68)if(_0xcefc68[_0x6fdac8]===_0x394cf0)return _0x6fdac8;},'useSetter':function(){_0xd0b1f6=!0x0;},'useSimple':function(){_0xd0b1f6=!0x1;}}),_0x371d4d(_0x371d4d['S']+_0x371d4d['F']*!_0xfc5dda,'Object',{'create':function(_0x394cf0,_0x6fdac8){return void 0x0===_0x6fdac8?_0x576dc3(_0x394cf0):_0x5ae34a(_0x576dc3(_0x394cf0),_0x6fdac8);},'defineProperty':_0x2f5efa,'defineProperties':_0x5ae34a,'getOwnPropertyDescriptor':_0x4abff7,'getOwnPropertyNames':_0x501866,'getOwnPropertySymbols':_0x504dd3});_0x56678c=_0x160d50(function(){_0xa88a9c['f'](0x1);});_0x371d4d(_0x371d4d['S']+_0x371d4d['F']*_0x56678c,'Object',{'getOwnPropertySymbols':function(_0x394cf0){return _0xa88a9c['f'](_0x19766f(_0x394cf0));}}),_0x3ba3d8&&_0x371d4d(_0x371d4d['S']+_0x371d4d['F']*(!_0xfc5dda||_0x160d50(function(){var _0x394cf0=_0x30a30c();return _0x1a9f('0x265')!=_0x1d7c21([_0x394cf0])||'{}'!=_0x1d7c21({'a':_0x394cf0})||'{}'!=_0x1d7c21(Object(_0x394cf0));})),_0x1a9f('0x266'),{'stringify':function(_0x394cf0){for(var _0x6fdac8,_0x5ae34a,_0x2cd796=[_0x394cf0],_0x4abff7=0x1;_0x4abff7<arguments[_0x1a9f('0xf')];)_0x2cd796['push'](arguments[_0x4abff7++]);if(_0x5ae34a=_0x6fdac8=_0x2cd796[0x1],(_0x2e893e(_0x6fdac8)||void 0x0!==_0x394cf0)&&!_0x3c7f41(_0x394cf0))return _0x227311(_0x6fdac8)||(_0x6fdac8=function(_0x394cf0,_0x6fdac8){if(_0x1a9f('0x16')==typeof _0x5ae34a&&(_0x6fdac8=_0x5ae34a[_0x1a9f('0xd')](this,_0x394cf0,_0x6fdac8)),!_0x3c7f41(_0x6fdac8))return _0x6fdac8;}),_0x2cd796[0x1]=_0x6fdac8,_0x1d7c21['apply'](_0x3ba3d8,_0x2cd796);}}),_0x30a30c[_0x268400][_0x4f2da7]||_0x394cf0(0xb)(_0x30a30c[_0x268400],_0x4f2da7,_0x30a30c[_0x268400][_0x1a9f('0x267')]),_0x457b07(_0x30a30c,_0x1a9f('0x7d')),_0x457b07(Math,'Math',!0x0),_0x457b07(_0x1cc28f[_0x1a9f('0x266')],_0x1a9f('0x266'),!0x0);},function(_0x221915,_0x461990,_0xc74e3e){var _0xe771fd=_0xc74e3e(0x14),_0x4ec61f=_0xc74e3e(0x2c),_0x3d8f0f=_0xc74e3e(0x1c);_0x221915[_0x1a9f('0x0')]=function(_0x221915){var _0x461990=_0xe771fd(_0x221915),_0xc74e3e=_0x4ec61f['f'];if(_0xc74e3e)for(var _0x1338a6,_0x11513b=_0xc74e3e(_0x221915),_0x11db8d=_0x3d8f0f['f'],_0x1eecbc=0x0;_0x11513b[_0x1a9f('0xf')]>_0x1eecbc;)_0x11db8d['call'](_0x221915,_0x1338a6=_0x11513b[_0x1eecbc++])&&_0x461990[_0x1a9f('0x70')](_0x1338a6);return _0x461990;};},function(_0xd77cb5,_0x3a56a3,_0x14b21e){var _0x247def=_0x14b21e(0xe),_0x20e976=_0x14b21e(0x3e)['f'],_0x13295b={}[_0x1a9f('0x21')],_0x9fdeb2=_0x1a9f('0x6')==typeof window&&window&&Object[_0x1a9f('0x95')]?Object['getOwnPropertyNames'](window):[];_0xd77cb5['exports']['f']=function(_0xd77cb5){if(!_0x9fdeb2||'[object\x20Window]'!=_0x13295b[_0x1a9f('0xd')](_0xd77cb5))return _0x20e976(_0x247def(_0xd77cb5));try{return _0x20e976(_0xd77cb5);}catch(_0x4b7014){return _0x9fdeb2['slice']();}};},function(_0x234365,_0x19b176,_0xa67d46){_0xa67d46(0x29)(_0x1a9f('0x268'));},function(_0xb7d344,_0x140e22,_0x4c7eab){_0x4c7eab(0x29)(_0x1a9f('0x269'));},function(_0x5926be,_0x2f438d,_0x75aff8){var _0x44f219=_0x75aff8(0x9);_0x5926be['exports']=function(_0x5926be,_0x2f438d){if(_0x44f219(_0x5926be)&&_0x5926be['_t']===_0x2f438d)return _0x5926be;throw TypeError(_0x1a9f('0x26a')+_0x2f438d+_0x1a9f('0x26b'));};},function(_0x2b7333,_0x4f92a6,_0x106d40){'use strict';Object[_0x1a9f('0x3')](_0x4f92a6,'__esModule',{'value':!0x0}),_0x4f92a6[_0x1a9f('0x26c')]=_0x4f92a6[_0x1a9f('0x26d')]=_0x4f92a6[_0x1a9f('0x26e')]=_0x4f92a6[_0x1a9f('0x26f')]=_0x4f92a6['ESTileConstant']=_0x4f92a6[_0x1a9f('0x3f')]=_0x4f92a6[_0x1a9f('0x270')]=_0x4f92a6[_0x1a9f('0x271')]=void 0x0;var _0x106d40=_0x106d40(0x46),_0x106d40=_0x106d40&&_0x106d40['__esModule']?_0x106d40:{'default':_0x106d40},_0x373f58={'CUBE_FLOAT':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x272')),'CYLINDER_FLOAT':(0x0,_0x106d40['default'])(_0x1a9f('0x273')),'CYLINDER_SPREAD':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x274')),'CIRCLE_ROTATE':(0x0,_0x106d40[_0x1a9f('0xa')])('circle_rotate'),'CIRCLE_RIPPLE':(0x0,_0x106d40[_0x1a9f('0xa')])('circle_ripple'),'CIRCLE_BIPS':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x275')),'CIRCLES_RADIAN_ROTATE':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x276')),'CIRCLE_BREATH':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x277')),'SPHERE_SPREAD':(0x0,_0x106d40['default'])(_0x1a9f('0x278')),'TRANSFER_LINE':(0x0,_0x106d40['default'])(_0x1a9f('0x279')),'POINTS_LINE':(0x0,_0x106d40['default'])(_0x1a9f('0x27a')),'POINTS':(0x0,_0x106d40[_0x1a9f('0xa')])('points'),'UNDERGROUND_LINE':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x27b')),'NUMBER_UP_BEAM':(0x0,_0x106d40[_0x1a9f('0xa')])('number_up_beam'),'EXTENT_WALL':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x27c')),'FIRE_SMOKE':(0x0,_0x106d40['default'])(_0x1a9f('0x27d')),'SMOKE':(0x0,_0x106d40['default'])(_0x1a9f('0x27e')),'FIRE':(0x0,_0x106d40['default'])(_0x1a9f('0x27f')),'WATER_SPREAD':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x280')),'FLOAT_POINTS':(0x0,_0x106d40['default'])('float_points'),'ROUTES_LINE':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x281')),'UP_LINE':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x282')),'PLANE_VIDEO':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x283')),'GUIDE_LINE':(0x0,_0x106d40['default'])(_0x1a9f('0x284')),'PLANE_WIND':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x285')),'PLANE_FOG':(0x0,_0x106d40[_0x1a9f('0xa')])('plane_fog'),'PLANE_TERRAIN':(0x0,_0x106d40['default'])(_0x1a9f('0x286')),'SIGNAL_WIFI':(0x0,_0x106d40[_0x1a9f('0xa')])('signal_wifi')},_0x106d40={'CubeFloatMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0xb5')),'CylinderFloatMarker':(0x0,_0x106d40[_0x1a9f('0xa')])('CylinderFloatMarker'),'CylinderSpreadMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x287')),'CircleRotateYMarker':(0x0,_0x106d40[_0x1a9f('0xa')])('CircleRotateYMarker'),'CircleRippleMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x288')),'CircleBipsMarker':(0x0,_0x106d40['default'])(_0x1a9f('0x289')),'CircleRadianMarker':(0x0,_0x106d40[_0x1a9f('0xa')])('CircleRadianMarker'),'MultiCircleBreathMarker':(0x0,_0x106d40[_0x1a9f('0xa')])('MultiCircleBreathMarker'),'CurveLinkLine':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x28a')),'UpLine':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x28b')),'MulripleMeshLine':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0xa4')),'PointsLine':(0x0,_0x106d40['default'])(_0x1a9f('0xb2')),'Points':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0xb1')),'UnderGroundLine':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x28c')),'NumberUpParticle':(0x0,_0x106d40['default'])(_0x1a9f('0x28d')),'SphereSpreadMarker':(0x0,_0x106d40['default'])('SphereSpreadMarker'),'ExtentWallMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x28e')),'FireSmokeMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x28f')),'SmokeMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x290')),'FireMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x291')),'WaterSpreadMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x292')),'FloatPointsMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x293')),'PlaneVideoMarker':(0x0,_0x106d40['default'])(_0x1a9f('0x294')),'GuideLineMarker':(0x0,_0x106d40[_0x1a9f('0xa')])('GuideLineMarker'),'SignalWifiMarker':(0x0,_0x106d40['default'])(_0x1a9f('0x295')),'PlaneWindMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x296')),'PlaneFogMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x297')),'PlaneTerrainMarker':(0x0,_0x106d40[_0x1a9f('0xa')])(_0x1a9f('0x298'))};_0x4f92a6[_0x1a9f('0x271')]=_0x373f58,_0x4f92a6['ESMarkerLevel']={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'FIRE':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'PLANE_TERRAIN':0x1,'SIGNAL_WIFI':0x1},_0x4f92a6[_0x1a9f('0x3f')]={'Engine':{'Indoor':_0x1a9f('0x299'),'Park':_0x1a9f('0x29a'),'City':_0x1a9f('0x29b')},'BuildingTheme':{'Dark':_0x1a9f('0x29c'),'Light':_0x1a9f('0x29d'),'Technology':_0x1a9f('0x29e'),'None':_0x1a9f('0x29f')},'RoadTheme':{'Style1':_0x1a9f('0x2a0'),'Style2':_0x1a9f('0x2a1')}},_0x4f92a6[_0x1a9f('0x2a2')]={'BuildingTheme':{'Dark':'dark','Light':'light','Technology':_0x1a9f('0x29e'),'None':_0x1a9f('0x29f')},'TileTheme':{'Night':'night','Day':'day'},'RoadTheme':{'Style1':'style1','Style2':_0x1a9f('0x2a1')}},_0x4f92a6[_0x1a9f('0x26f')]={'BuildingTheme':{'Dark':_0x1a9f('0x29c'),'Light':_0x1a9f('0x29d'),'Technology':_0x1a9f('0x29e'),'None':_0x1a9f('0x29f')},'RoadTheme':{'Style1':_0x1a9f('0x2a0'),'Style2':_0x1a9f('0x2a1')}},_0x4f92a6[_0x1a9f('0x26e')]={'NoFace':_0x1a9f('0x2a3'),'LineFrame':_0x1a9f('0x2a4'),'BlendingAdditive':_0x1a9f('0x2a5')},_0x4f92a6[_0x1a9f('0x26d')]={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb},_0x4f92a6[_0x1a9f('0x26c')]=_0x106d40;},function(_0x2acab8,_0x4a6247,_0x1585c8){'use strict';var _0x1c75d1=_0x1585c8(0x4),_0x52f9b6=_0x1585c8(0x2),_0x2cc1ad=_0x1585c8(0x8),_0x145911=_0x1585c8(0x7),_0x41e1e0=_0x1585c8(0x5)(_0x1a9f('0x2a6'));_0x2acab8[_0x1a9f('0x0')]=function(_0x2acab8){_0x2acab8=(_0x1a9f('0x16')==typeof _0x52f9b6[_0x2acab8]?_0x52f9b6:_0x1c75d1)[_0x2acab8];_0x145911&&_0x2acab8&&!_0x2acab8[_0x41e1e0]&&_0x2cc1ad['f'](_0x2acab8,_0x41e1e0,{'configurable':!0x0,'get':function(){return this;}});};},function(_0x44d15a,_0x1c4646,_0x3cb86a){_0x3cb86a(0x65),_0x44d15a[_0x1a9f('0x0')]=_0x3cb86a(0x2)[_0x1a9f('0x82')][_0x1a9f('0x20')];},function(_0x4a4ca2,_0x272cb1,_0x43af08){var _0x3a8b80=_0x43af08(0x12),_0x3134aa=_0x43af08(0x14);_0x43af08(0x47)('keys',function(){return function(_0x4a4ca2){return _0x3134aa(_0x3a8b80(_0x4a4ca2));};});},function(_0x19d762,_0x4bd146,_0x2901c4){_0x19d762[_0x1a9f('0x0')]={'default':_0x2901c4(0x67),'__esModule':!0x0};},function(_0x44ec1b,_0x1b471c,_0x769de2){_0x769de2(0x68),_0x44ec1b[_0x1a9f('0x0')]=_0x769de2(0x2)['Object'][_0x1a9f('0x2a7')];},function(_0x478350,_0x2a57e5,_0x4ef48e){var _0xf09f9f=_0x4ef48e(0x3);_0xf09f9f(_0xf09f9f['S']+_0xf09f9f['F'],_0x1a9f('0x82'),{'assign':_0x4ef48e(0x69)});},function(_0x9b44d5,_0x5dcea7,_0x473507){'use strict';var _0x37618b=_0x473507(0x7),_0x469271=_0x473507(0x14),_0x4bb7d6=_0x473507(0x2c),_0x26e32a=_0x473507(0x1c),_0x4bb5ce=_0x473507(0x12),_0x3ac510=_0x473507(0x30),_0x1b718f=Object[_0x1a9f('0x2a7')];_0x9b44d5[_0x1a9f('0x0')]=!_0x1b718f||_0x473507(0xd)(function(){var _0x9b44d5={},_0x5dcea7={},_0x473507=Symbol(),_0x1d8874=_0x1a9f('0x2a8');return _0x9b44d5[_0x473507]=0x7,_0x1d8874['split']('')[_0x1a9f('0x2a9')](function(_0x9b44d5){_0x5dcea7[_0x9b44d5]=_0x9b44d5;}),0x7!=_0x1b718f({},_0x9b44d5)[_0x473507]||Object[_0x1a9f('0x20')](_0x1b718f({},_0x5dcea7))[_0x1a9f('0x111')]('')!=_0x1d8874;})?function(_0x9b44d5,_0x5dcea7){for(var _0x473507=_0x4bb5ce(_0x9b44d5),_0x3aa360=arguments[_0x1a9f('0xf')],_0x1b718f=0x1,_0x1a7be2=_0x4bb7d6['f'],_0x4357e4=_0x26e32a['f'];_0x1b718f<_0x3aa360;)for(var _0x2e040e,_0x5c65c4=_0x3ac510(arguments[_0x1b718f++]),_0x322211=_0x1a7be2?_0x469271(_0x5c65c4)['concat'](_0x1a7be2(_0x5c65c4)):_0x469271(_0x5c65c4),_0x1338b8=_0x322211[_0x1a9f('0xf')],_0x25de0c=0x0;_0x25de0c<_0x1338b8;)_0x2e040e=_0x322211[_0x25de0c++],_0x37618b&&!_0x4357e4[_0x1a9f('0xd')](_0x5c65c4,_0x2e040e)||(_0x473507[_0x2e040e]=_0x5c65c4[_0x2e040e]);return _0x473507;}:_0x1b718f;},function(_0x4b97fb,_0x2263a7,_0x2564bc){var _0x5e5a89=_0x2564bc(0xa);_0x4b97fb[_0x1a9f('0x0')]=function(_0x2263a7,_0x4b97fb,_0x2564bc,_0x2c2e03){try{return _0x2c2e03?_0x4b97fb(_0x5e5a89(_0x2564bc)[0x0],_0x2564bc[0x1]):_0x4b97fb(_0x2564bc);}catch(_0x1d62ba){_0x2c2e03=_0x2263a7[_0x1a9f('0xd0')];throw void 0x0!==_0x2c2e03&&_0x5e5a89(_0x2c2e03[_0x1a9f('0xd')](_0x2263a7)),_0x1d62ba;}};},function(_0x3e1ac6,_0x19c23d,_0x55bfb4){var _0x119758=_0x55bfb4(0x10),_0x37bd18=_0x55bfb4(0x5)('iterator'),_0x184d63=Array[_0x1a9f('0xb')];_0x3e1ac6['exports']=function(_0x3e1ac6){return void 0x0!==_0x3e1ac6&&(_0x119758['Array']===_0x3e1ac6||_0x184d63[_0x37bd18]===_0x3e1ac6);};},function(_0x51edaf,_0x180b70,_0xcff6a2){_0xcff6a2(0x6d);var _0x1144a7=_0xcff6a2(0x2)[_0x1a9f('0x82')];_0x51edaf['exports']=function(_0x51edaf,_0x180b70){return _0x1144a7[_0x1a9f('0x7')](_0x51edaf,_0x180b70);};},function(_0x5f9fa1,_0x6b2596,_0x5739ce){var _0x10bc02=_0x5739ce(0x3);_0x10bc02(_0x10bc02['S'],'Object',{'create':_0x5739ce(0x1e)});},function(_0x162708,_0x5b89eb,_0x5e1f28){var _0x3438ef=_0x5e1f28(0xa),_0x3b4c99=_0x5e1f28(0x1f),_0x352cf3=_0x5e1f28(0x5)(_0x1a9f('0x2a6'));_0x162708[_0x1a9f('0x0')]=function(_0x162708,_0x5b89eb){var _0x162708=_0x3438ef(_0x162708)[_0x1a9f('0x85')];return void 0x0===_0x162708||null==(_0x162708=_0x3438ef(_0x162708)[_0x352cf3])?_0x5b89eb:_0x3b4c99(_0x162708);};},function(_0x239e15,_0x2cb175,_0x327ab3){function _0x2a3e19(){var _0x239e15,_0x2cb175=+this;_0x197173['hasOwnProperty'](_0x2cb175)&&(_0x239e15=_0x197173[_0x2cb175],delete _0x197173[_0x2cb175],_0x239e15());}function _0x44c52f(_0x239e15){_0x2a3e19[_0x1a9f('0xd')](_0x239e15['data']);}var _0x3103cb,_0x4cf4fa=_0x327ab3(0xf),_0xe67adb=_0x327ab3(0x8b),_0x5e5f76=_0x327ab3(0x42),_0x4fa12e=_0x327ab3(0x26),_0x372337=_0x327ab3(0x4),_0x584b56=_0x372337[_0x1a9f('0x2aa')],_0x3c0228=_0x372337[_0x1a9f('0x2ab')],_0x41ff94=_0x372337[_0x1a9f('0x2ac')],_0x26762c=_0x372337['MessageChannel'],_0x4433bb=_0x372337[_0x1a9f('0x2ad')],_0x16c0dc=0x0,_0x197173={},_0x2a6081=_0x1a9f('0x2ae');_0x3c0228&&_0x41ff94||(_0x3c0228=function(_0x239e15){for(var _0x2cb175=[],_0x327ab3=0x1;_0x327ab3<arguments['length'];)_0x2cb175[_0x1a9f('0x70')](arguments[_0x327ab3++]);return _0x197173[++_0x16c0dc]=function(){_0xe67adb(_0x1a9f('0x16')==typeof _0x239e15?_0x239e15:Function(_0x239e15),_0x2cb175);},_0x3103cb(_0x16c0dc),_0x16c0dc;},_0x41ff94=function(_0x239e15){delete _0x197173[_0x239e15];},_0x1a9f('0x2aa')==_0x327ab3(0x16)(_0x584b56)?_0x3103cb=function(_0x239e15){_0x584b56[_0x1a9f('0x2af')](_0x4cf4fa(_0x2a3e19,_0x239e15,0x1));}:_0x4433bb&&_0x4433bb[_0x1a9f('0x2b0')]?_0x3103cb=function(_0x239e15){_0x4433bb['now'](_0x4cf4fa(_0x2a3e19,_0x239e15,0x1));}:_0x26762c?(_0x26762c=(_0x327ab3=new _0x26762c())[_0x1a9f('0x2b1')],_0x327ab3[_0x1a9f('0x2b2')][_0x1a9f('0x2b3')]=_0x44c52f,_0x3103cb=_0x4cf4fa(_0x26762c[_0x1a9f('0x2b4')],_0x26762c,0x1)):_0x372337['addEventListener']&&_0x1a9f('0x16')==typeof postMessage&&!_0x372337['importScripts']?(_0x3103cb=function(_0x239e15){_0x372337[_0x1a9f('0x2b4')](_0x239e15+'','*');},_0x372337[_0x1a9f('0x2b5')](_0x1a9f('0x2b6'),_0x44c52f,!0x1)):_0x3103cb=_0x2a6081 in _0x4fa12e(_0x1a9f('0x2b7'))?function(_0x239e15){_0x5e5f76[_0x1a9f('0x64')](_0x4fa12e(_0x1a9f('0x2b7')))[_0x2a6081]=function(){_0x5e5f76[_0x1a9f('0x2b8')](this),_0x2a3e19[_0x1a9f('0xd')](_0x239e15);};}:function(_0x239e15){setTimeout(_0x4cf4fa(_0x2a3e19,_0x239e15,0x1),0x0);}),_0x239e15[_0x1a9f('0x0')]={'set':_0x3c0228,'clear':_0x41ff94};},function(_0x196ac8,_0xee4a4d){_0x196ac8['exports']=function(_0x196ac8){try{return{'e':!0x1,'v':_0x196ac8()};}catch(_0x26a0d5){return{'e':!0x0,'v':_0x26a0d5};}};},function(_0x4862b3,_0x16ffe0,_0x4e382a){var _0x45fe93=_0x4e382a(0xa),_0x17ebc9=_0x4e382a(0x9),_0x53baeb=_0x4e382a(0x56);_0x4862b3[_0x1a9f('0x0')]=function(_0x4862b3,_0x16ffe0){if(_0x45fe93(_0x4862b3),_0x17ebc9(_0x16ffe0)&&_0x16ffe0[_0x1a9f('0x85')]===_0x4862b3)return _0x16ffe0;_0x4862b3=_0x53baeb['f'](_0x4862b3);return(0x0,_0x4862b3['resolve'])(_0x16ffe0),_0x4862b3[_0x1a9f('0x2b9')];};},function(_0x30c5af,_0x30af83,_0x6dc652){'use strict';Object[_0x1a9f('0x3')](_0x30af83,_0x1a9f('0x5'),{'value':!0x0}),_0x30af83[_0x1a9f('0x2ba')]=_0x30af83[_0x1a9f('0x2bb')]=_0x30af83['jsonFileLoader']=void 0x0;var _0x6dc652=_0x6dc652(0x2e),_0x344f10=_0x6dc652&&_0x6dc652[_0x1a9f('0x5')]?_0x6dc652:{'default':_0x6dc652};_0x30af83[_0x1a9f('0x2bc')]=function(_0x30c5af){return new _0x344f10['default'](function(_0x30af83,_0x6dc652){new THREE[(_0x1a9f('0x2bd'))]()['load'](_0x30c5af,function(_0x30c5af){_0x30af83(JSON[_0x1a9f('0x2be')](_0x30c5af));},null,function(_0x30c5af){_0x6dc652(_0x30c5af);});});},_0x30af83[_0x1a9f('0x2bb')]=function(_0x30c5af){return new _0x344f10[(_0x1a9f('0xa'))](function(_0x30af83,_0x6dc652){new THREE['FileLoader']()['load'](_0x30c5af+'effects.json',function(_0x30c5af){_0x30af83(JSON[_0x1a9f('0x2be')](_0x30c5af));},null,function(_0x30c5af){console[_0x1a9f('0xe4')](_0x1a9f('0x2bf')),_0x6dc652(_0x30c5af);});});},_0x30af83[_0x1a9f('0x2ba')]=function(_0x30c5af,_0x30af83){void 0x0!==_0x30af83['roughness']&&(_0x30c5af[_0x1a9f('0x2c0')]=_0x30af83['roughness']),void 0x0!==_0x30af83[_0x1a9f('0x2c1')]&&(_0x30c5af['metalness']=_0x30af83[_0x1a9f('0x2c1')]),void 0x0!==_0x30af83[_0x1a9f('0x2c2')]&&(_0x30c5af[_0x1a9f('0x2c3')]=_0x30af83[_0x1a9f('0x2c2')]),_0x30af83[_0x1a9f('0x2c4')];};},function(_0x2c1b18,_0x18f85c,_0x374bb5){var _0x2bb93d=_0x374bb5(0x5)(_0x1a9f('0x78')),_0x42ea55=!0x1;try{var _0x4036b0=[0x7][_0x2bb93d]();_0x4036b0['return']=function(){_0x42ea55=!0x0;},Array[_0x1a9f('0x2c5')](_0x4036b0,function(){throw 0x2;});}catch(_0x148a47){}_0x2c1b18[_0x1a9f('0x0')]=function(_0x2c1b18,_0x18f85c){if(!_0x18f85c&&!_0x42ea55)return!0x1;var _0x374bb5=!0x1;try{var _0x4036b0=[0x7],_0x4ed794=_0x4036b0[_0x2bb93d]();_0x4ed794[_0x1a9f('0x79')]=function(){return{'done':_0x374bb5=!0x0};},_0x4036b0[_0x2bb93d]=function(){return _0x4ed794;},_0x2c1b18(_0x4036b0);}catch(_0x5e63e7){}return _0x374bb5;};},function(_0x457c51,_0x294b05,_0x5e422c){'use strict';Object[_0x1a9f('0x3')](_0x294b05,_0x1a9f('0x5'),{'value':!0x0});var _0x4bef3e=_0x1e2b64(_0x5e422c(0xa2)),_0x5c8ee0=_0x1e2b64(_0x5e422c(0x0)),_0x52c382=_0x1e2b64(_0x5e422c(0x1)),_0x3699aa=_0x1e2b64(_0x5e422c(0x11));function _0x1e2b64(_0x457c51){return _0x457c51&&_0x457c51['__esModule']?_0x457c51:{'default':_0x457c51};}function _0x2c40f1(_0x457c51,_0x294b05){(0x0,_0x5c8ee0['default'])(this,_0x2c40f1),this[_0x1a9f('0x2c6')]=_0x457c51,this[_0x1a9f('0x2c7')]=_0x294b05,this[_0x1a9f('0x2c8')]=!0x1;}(0x0,_0x52c382[_0x1a9f('0xa')])(_0x2c40f1,[{'key':'flyTo','value':function(_0x457c51){var _0x294b05=_0x457c51[_0x1a9f('0x22c')],_0x5e422c=_0x457c51[_0x1a9f('0x42')],_0x4bef3e=_0x457c51[_0x1a9f('0x2c9')],_0x4bef3e=void 0x0===_0x4bef3e?0x3:_0x4bef3e,_0x5c8ee0=_0x457c51[_0x1a9f('0x2ca')],_0x5c8ee0=void 0x0===_0x5c8ee0?0x5:_0x5c8ee0,_0x52c382=_0x457c51[_0x1a9f('0x2cb')],_0x1e2b64=_0x457c51[_0x1a9f('0x2cc')],_0x2c40f1=_0x457c51[_0x1a9f('0x2cd')];if(esmap[_0x1a9f('0x2ce')]){var _0x457c51=new THREE['Vector3'](_0x5e422c['x'],this['controls'][_0x1a9f('0xc7')]['y'],_0x5e422c['z'])[_0x1a9f('0x2cf')](this[_0x1a9f('0x2c7')]['target']),_0x3699aa=this['controls'][_0x1a9f('0x6')][_0x1a9f('0x2d0')]-_0x52c382,_0x457c51=Math[_0x1a9f('0x6e')](_0x457c51/_0x4bef3e),_0xf7e52f=Math[_0x1a9f('0x6e')](Math[_0x1a9f('0x1b8')](_0x3699aa)/_0x5c8ee0),_0x536196=(_0xf7e52f<0x3e8&&(_0xf7e52f=0x3e8),_0x457c51<0x3e8&&(_0x457c51=0x1),0x0);switch(_0x294b05){case esmap[_0x1a9f('0x2ce')]['NORTH']:_0x536196=179.99;break;case esmap[_0x1a9f('0x2ce')][_0x1a9f('0x2d1')]:_0x536196=0.01;break;case esmap['ESDirection'][_0x1a9f('0x2d2')]:_0x536196=-0x5a;break;case esmap[_0x1a9f('0x2ce')][_0x1a9f('0x2d3')]:_0x536196=0x5a;break;case esmap[_0x1a9f('0x2ce')]['NORTH_EAST']:_0x536196=0x87;break;case esmap[_0x1a9f('0x2ce')][_0x1a9f('0x2d4')]:_0x536196=-0x87;break;case esmap[_0x1a9f('0x2ce')][_0x1a9f('0x2d5')]:_0x536196=0x2d;break;case esmap[_0x1a9f('0x2ce')][_0x1a9f('0x2d6')]:_0x536196=-0x2d;}var _0x105a7b=this;this[_0x1a9f('0x2c7')]['moveToAnimate']({'x':-_0x5e422c['x'],'y':_0x5e422c['z'],'callback':function(){_0x105a7b[_0x1a9f('0x2c7')][_0x1a9f('0x2d7')]({'thetaAngle':_0x536196,'phiAngle':_0x1e2b64},_0x52c382,_0xf7e52f,_0x2c40f1);},'time':_0x457c51});}else console['error'](_0x1a9f('0x2d8'));}},{'key':_0x1a9f('0x2d9'),'value':function(_0x457c51,_0x294b05){var _0x5e422c=0x1+0x32/(0x0,_0x4bef3e[_0x1a9f('0xa')])(_0x457c51['x'],_0x457c51['y'],_0x457c51['z']);this[_0x1a9f('0x2da')]({'x':_0x457c51['x']*_0x5e422c,'y':_0x457c51['y']*_0x5e422c,'z':_0x457c51['z']*_0x5e422c},_0x457c51,_0x294b05||0xbb8);}},{'key':'flyFocusTo','value':function(_0x457c51){var _0x294b05,_0x5e422c=_0x457c51[_0x1a9f('0x2db')],_0x4bef3e=_0x457c51[_0x1a9f('0x21c')],_0x5c8ee0=_0x457c51['pitchAngle'],_0x5c8ee0=void 0x0===_0x5c8ee0?0x2d:_0x5c8ee0,_0x52c382=_0x457c51[_0x1a9f('0x2dc')],_0x52c382=void 0x0===_0x52c382?0x0:_0x52c382,_0x1e2b64=_0x457c51[_0x1a9f('0x2dd')],_0x1e2b64=void 0x0===_0x1e2b64?0x3:_0x1e2b64,_0x2c40f1=_0x457c51['callback'],_0x457c51=_0x457c51['tileUpdateCallbacks'];if(!this[_0x1a9f('0x2c8')])return this['toggleControlsLock'](!0x0),_0x5c8ee0=0x0<=0x5a-_0x5c8ee0&&0x5a-_0x5c8ee0<0x5a?0x5a-_0x5c8ee0:0x2d,_0x294b05=_0x4bef3e*Math[_0x1a9f('0x59')](THREE['Math'][_0x1a9f('0x2de')](_0x5c8ee0)),_0x4bef3e=_0x4bef3e*Math[_0x1a9f('0x5a')](THREE[_0x1a9f('0x18')]['degToRad'](_0x5c8ee0)),_0x5c8ee0=new THREE[(_0x1a9f('0x1b3'))](0x0,0x0),_0x4bef3e=new THREE[(_0x1a9f('0x1b3'))](_0x4bef3e,0x0)[_0x1a9f('0x2df')](_0x5c8ee0,THREE[_0x1a9f('0x18')]['degToRad'](_0x52c382-0x5a)),_0x5c8ee0=new THREE['Vector3'](_0x5e422c['x']+_0x4bef3e['x'],_0x5e422c['y']+_0x294b05,_0x5e422c['z']+_0x4bef3e['y']),this[_0x1a9f('0x2da')]({'x':_0x5c8ee0['x'],'y':_0x5c8ee0['y'],'z':_0x5c8ee0['z']},_0x5e422c,0x3e8*_0x1e2b64,_0x2c40f1,_0x457c51),_0x5c8ee0;}},{'key':'cameraPosition','value':function(_0x457c51,_0x294b05,_0x5e422c,_0x4bef3e,_0x52c382){var _0x5c8ee0,_0x1e2b64=this[_0x1a9f('0x2c7')]['object'],_0x2c40f1=this;_0x457c51&&(_0x457c51=_0x457c51,_0x294b05=_0x294b05||{'x':0x0,'y':0x0,'z':0x0},_0x1e2b64=(0x0,_0x3699aa[_0x1a9f('0xa')])({},_0x1e2b64['position']),_0x5c8ee0=_0x2c40f1[_0x1a9f('0x2c7')]['target'][_0x1a9f('0x1af')](),new TWEEN[(_0x1a9f('0x2e0'))](_0x1e2b64)['to'](_0x457c51,_0x5e422c)['easing'](TWEEN['Easing'][_0x1a9f('0x2e1')]['Out'])['onStart'](function(){_0x52c382&&_0x52c382[_0x1a9f('0x2e2')]&&_0x52c382['start']();})[_0x1a9f('0x2e3')](function(_0x457c51){var _0x294b05=_0x2c40f1[_0x1a9f('0x2c7')],_0x5e422c=_0x294b05['object'],_0x4bef3e=_0x457c51['x'],_0x5c8ee0=_0x457c51['y'],_0x457c51=_0x457c51['z'];void 0x0!==_0x4bef3e&&(_0x5e422c[_0x1a9f('0x42')]['x']=_0x4bef3e),void 0x0!==_0x5c8ee0&&(_0x5e422c[_0x1a9f('0x42')]['y']=_0x5c8ee0),void 0x0!==_0x457c51&&(_0x5e422c[_0x1a9f('0x42')]['z']=_0x457c51),_0x294b05['update'](),_0x52c382&&_0x52c382[_0x1a9f('0x2e4')]&&_0x52c382[_0x1a9f('0x2e4')]();})[_0x1a9f('0x2e5')](function(){_0x2c40f1[_0x1a9f('0x2e6')](!0x1),_0x4bef3e&&_0x4bef3e(),_0x2c40f1['controls'][_0x1a9f('0x2e7')]&&_0x2c40f1[_0x1a9f('0x2c7')][_0x1a9f('0x2e7')](),_0x52c382&&(_0x2c40f1[_0x1a9f('0x2c7')][_0x1a9f('0x2e8')](_0x5c8ee0),_0x52c382[_0x1a9f('0x2cd')]&&_0x52c382[_0x1a9f('0x2cd')]());})[_0x1a9f('0x2e2')](),new TWEEN[(_0x1a9f('0x2e0'))](_0x5c8ee0)['to'](_0x294b05,_0x5e422c/0x3)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')]['Quadratic'][_0x1a9f('0x2eb')])[_0x1a9f('0x2e3')](function(_0x457c51){var _0x294b05;(_0x294b05=_0x2c40f1[_0x1a9f('0x2c7')])['target'][_0x1a9f('0x1d')](_0x457c51['x'],_0x457c51['y'],_0x457c51['z']),_0x294b05[_0x1a9f('0x2e4')]();})['start']());}},{'key':_0x1a9f('0x2e6'),'value':function(_0x457c51){this['isFlying']=_0x457c51,this[_0x1a9f('0x2c7')][_0x1a9f('0x2ec')]=!_0x457c51,this[_0x1a9f('0x2c7')][_0x1a9f('0x2ed')]=!_0x457c51,this[_0x1a9f('0x2c7')][_0x1a9f('0x2ee')]=!_0x457c51;}}]),_0x294b05['default']=_0x2c40f1;},function(_0x115c1d,_0x1e7c23,_0x10d2b6){var _0x10d2b6=_0x10d2b6(0x2),_0x1924bc=_0x10d2b6[_0x1a9f('0x266')]||(_0x10d2b6[_0x1a9f('0x266')]={'stringify':JSON[_0x1a9f('0x25e')]});_0x115c1d[_0x1a9f('0x0')]=function(_0x115c1d){return _0x1924bc['stringify']['apply'](_0x1924bc,arguments);};},function(_0x313f00,_0x2b3e31,_0x593364){_0x313f00[_0x1a9f('0x0')]={'default':_0x593364(0x77),'__esModule':!0x0};},function(_0x5d9abf,_0x4b84a2,_0x4a8f09){_0x4a8f09(0x78),_0x5d9abf[_0x1a9f('0x0')]=_0x4a8f09(0x2)[_0x1a9f('0x82')][_0x1a9f('0x2ef')];},function(_0x25d3f7,_0x3628c6,_0x6e3850){var _0x1ad695=_0x6e3850(0x3);_0x1ad695(_0x1ad695['S'],_0x1a9f('0x82'),{'setPrototypeOf':_0x6e3850(0x79)[_0x1a9f('0x1d')]});},function(_0x33291c,_0x113146,_0x3b6c8c){function _0x4d3454(_0x33291c,_0x113146){if(_0x23a94b(_0x33291c),!_0x421e3c(_0x113146)&&null!==_0x113146)throw TypeError(_0x113146+_0x1a9f('0x2f0'));}var _0x421e3c=_0x3b6c8c(0x9),_0x23a94b=_0x3b6c8c(0xa);_0x33291c['exports']={'set':Object[_0x1a9f('0x2ef')]||('__proto__'in{}?function(_0x33291c,_0x421e3c,_0x23a94b){try{(_0x23a94b=_0x3b6c8c(0xf)(Function[_0x1a9f('0xd')],_0x3b6c8c(0x3f)['f'](Object['prototype'],_0x1a9f('0x2f1'))[_0x1a9f('0x1d')],0x2))(_0x33291c,[]),_0x421e3c=!(_0x33291c instanceof Array);}catch(_0x2c946e){_0x421e3c=!0x0;}return function(_0x33291c,_0x113146){return _0x4d3454(_0x33291c,_0x113146),_0x421e3c?_0x33291c[_0x1a9f('0x2f1')]=_0x113146:_0x23a94b(_0x33291c,_0x113146),_0x33291c;};}({},!0x1):void 0x0),'check':_0x4d3454};},function(_0x1257b1,_0x23f0d9,_0x497cf1){'use strict';function _0x5e93a7(_0x1257b1,_0x23f0d9){var _0x497cf1,_0x3e568d=_0x249d3c(_0x23f0d9);if('F'!==_0x3e568d)return _0x1257b1['_i'][_0x3e568d];for(_0x497cf1=_0x1257b1['_f'];_0x497cf1;_0x497cf1=_0x497cf1['n'])if(_0x497cf1['k']==_0x23f0d9)return _0x497cf1;}var _0x29bf6e=_0x497cf1(0x8)['f'],_0x3ed896=_0x497cf1(0x1e),_0x5aa964=_0x497cf1(0x4b),_0x10cae8=_0x497cf1(0xf),_0x51eb50=_0x497cf1(0x4a),_0x8a25cb=_0x497cf1(0x32),_0x48ae36=_0x497cf1(0x27),_0x314f3f=_0x497cf1(0x41),_0x249cab=_0x497cf1(0x63),_0x466d58=_0x497cf1(0x7),_0x249d3c=_0x497cf1(0x3a)[_0x1a9f('0x2f2')],_0x52e1c7=_0x497cf1(0x61),_0x37693f=_0x466d58?'_s':_0x1a9f('0xe7');_0x1257b1[_0x1a9f('0x0')]={'getConstructor':function(_0x1257b1,_0x314f3f,_0x497cf1,_0x48ae36){var _0x249cab=_0x1257b1(function(_0x1257b1,_0x23f0d9){_0x51eb50(_0x1257b1,_0x249cab,_0x314f3f,'_i'),_0x1257b1['_t']=_0x314f3f,_0x1257b1['_i']=_0x3ed896(null),_0x1257b1['_f']=void 0x0,_0x1257b1['_l']=void 0x0,_0x1257b1[_0x37693f]=0x0,null!=_0x23f0d9&&_0x8a25cb(_0x23f0d9,_0x497cf1,_0x1257b1[_0x48ae36],_0x1257b1);});return _0x5aa964(_0x249cab[_0x1a9f('0xb')],{'clear':function(){for(var _0x1257b1=_0x52e1c7(this,_0x314f3f),_0x23f0d9=_0x1257b1['_i'],_0x497cf1=_0x1257b1['_f'];_0x497cf1;_0x497cf1=_0x497cf1['n'])_0x497cf1['r']=!0x0,_0x497cf1['p']&&(_0x497cf1['p']=_0x497cf1['p']['n']=void 0x0),delete _0x23f0d9[_0x497cf1['i']];_0x1257b1['_f']=_0x1257b1['_l']=void 0x0,_0x1257b1[_0x37693f]=0x0;},'delete':function(_0x1257b1){var _0x23f0d9,_0x497cf1,_0x48ae36=_0x52e1c7(this,_0x314f3f),_0x1257b1=_0x5e93a7(_0x48ae36,_0x1257b1);return _0x1257b1&&(_0x23f0d9=_0x1257b1['n'],_0x497cf1=_0x1257b1['p'],delete _0x48ae36['_i'][_0x1257b1['i']],_0x1257b1['r']=!0x0,_0x497cf1&&(_0x497cf1['n']=_0x23f0d9),_0x23f0d9&&(_0x23f0d9['p']=_0x497cf1),_0x48ae36['_f']==_0x1257b1&&(_0x48ae36['_f']=_0x23f0d9),_0x48ae36['_l']==_0x1257b1&&(_0x48ae36['_l']=_0x497cf1),_0x48ae36[_0x37693f]--),!!_0x1257b1;},'forEach':function(_0x1257b1){_0x52e1c7(this,_0x314f3f);for(var _0x23f0d9,_0x497cf1=_0x10cae8(_0x1257b1,0x1<arguments['length']?arguments[0x1]:void 0x0,0x3);_0x23f0d9=_0x23f0d9?_0x23f0d9['n']:this['_f'];)for(_0x497cf1(_0x23f0d9['v'],_0x23f0d9['k'],this);_0x23f0d9&&_0x23f0d9['r'];)_0x23f0d9=_0x23f0d9['p'];},'has':function(_0x1257b1){return!!_0x5e93a7(_0x52e1c7(this,_0x314f3f),_0x1257b1);}}),_0x466d58&&_0x29bf6e(_0x249cab[_0x1a9f('0xb')],_0x1a9f('0xe7'),{'get':function(){return _0x52e1c7(this,_0x314f3f)[_0x37693f];}}),_0x249cab;},'def':function(_0x1257b1,_0x23f0d9,_0x497cf1){var _0x48ae36,_0x314f3f=_0x5e93a7(_0x1257b1,_0x23f0d9);return _0x314f3f?_0x314f3f['v']=_0x497cf1:(_0x1257b1['_l']=_0x314f3f={'i':_0x48ae36=_0x249d3c(_0x23f0d9,!0x0),'k':_0x23f0d9,'v':_0x497cf1,'p':_0x23f0d9=_0x1257b1['_l'],'n':void 0x0,'r':!0x1},_0x1257b1['_f']||(_0x1257b1['_f']=_0x314f3f),_0x23f0d9&&(_0x23f0d9['n']=_0x314f3f),_0x1257b1[_0x37693f]++,'F'!==_0x48ae36&&(_0x1257b1['_i'][_0x48ae36]=_0x314f3f)),_0x1257b1;},'getEntry':_0x5e93a7,'setStrong':function(_0x1257b1,_0x497cf1,_0x23f0d9){_0x48ae36(_0x1257b1,_0x497cf1,function(_0x1257b1,_0x23f0d9){this['_t']=_0x52e1c7(_0x1257b1,_0x497cf1),this['_k']=_0x23f0d9,this['_l']=void 0x0;},function(){for(var _0x1257b1=this,_0x23f0d9=_0x1257b1['_k'],_0x497cf1=_0x1257b1['_l'];_0x497cf1&&_0x497cf1['r'];)_0x497cf1=_0x497cf1['p'];return _0x1257b1['_t']&&(_0x1257b1['_l']=_0x497cf1=_0x497cf1?_0x497cf1['n']:_0x1257b1['_t']['_f'])?_0x314f3f(0x0,_0x1a9f('0x20')==_0x23f0d9?_0x497cf1['k']:_0x1a9f('0x7a')==_0x23f0d9?_0x497cf1['v']:[_0x497cf1['k'],_0x497cf1['v']]):(_0x1257b1['_t']=void 0x0,_0x314f3f(0x1));},_0x23f0d9?_0x1a9f('0x7b'):_0x1a9f('0x7a'),!_0x23f0d9,!0x0),_0x249cab(_0x497cf1);}};},function(_0x2f403f,_0x4ba10b,_0x16ddb9){'use strict';var _0x5f0bc1=_0x16ddb9(0x4),_0x2fc069=_0x16ddb9(0x3),_0xe61b9=_0x16ddb9(0x3a),_0x183d64=_0x16ddb9(0xd),_0x5627de=_0x16ddb9(0xb),_0x47589b=_0x16ddb9(0x4b),_0x201def=_0x16ddb9(0x32),_0x188a36=_0x16ddb9(0x4a),_0x47ac2b=_0x16ddb9(0x9),_0x4701b4=_0x16ddb9(0x17),_0x45a158=_0x16ddb9(0x8)['f'],_0xe3c7da=_0x16ddb9(0x92)(0x0),_0x26f9f8=_0x16ddb9(0x7);_0x2f403f[_0x1a9f('0x0')]=function(_0x16ddb9,_0x2f403f,_0x4ba10b,_0xa5ea8d,_0x4a9b7c,_0x14127e){var _0x4bf552=_0x5f0bc1[_0x16ddb9],_0x1e5312=_0x4bf552,_0xe82a4b=_0x4a9b7c?_0x1a9f('0x1d'):_0x1a9f('0x1c0'),_0x27c22e=_0x1e5312&&_0x1e5312[_0x1a9f('0xb')],_0x2e0a21={};return _0x26f9f8&&_0x1a9f('0x16')==typeof _0x1e5312&&(_0x14127e||_0x27c22e[_0x1a9f('0x2a9')]&&!_0x183d64(function(){new _0x1e5312()[_0x1a9f('0x7b')]()[_0x1a9f('0x79')]();}))?(_0x1e5312=_0x2f403f(function(_0x2f403f,_0x4ba10b){_0x188a36(_0x2f403f,_0x1e5312,_0x16ddb9,'_c'),_0x2f403f['_c']=new _0x4bf552(),null!=_0x4ba10b&&_0x201def(_0x4ba10b,_0x4a9b7c,_0x2f403f[_0xe82a4b],_0x2f403f);}),_0xe3c7da(_0x1a9f('0x2f3')['split'](','),function(_0x16ddb9){var _0xa5ea8d=_0x1a9f('0x1c0')==_0x16ddb9||'set'==_0x16ddb9;_0x16ddb9 in _0x27c22e&&(!_0x14127e||_0x1a9f('0x2f4')!=_0x16ddb9)&&_0x5627de(_0x1e5312[_0x1a9f('0xb')],_0x16ddb9,function(_0x2f403f,_0x4ba10b){if(_0x188a36(this,_0x1e5312,_0x16ddb9),!_0xa5ea8d&&_0x14127e&&!_0x47ac2b(_0x2f403f))return'get'==_0x16ddb9&&void 0x0;_0x2f403f=this['_c'][_0x16ddb9](0x0===_0x2f403f?0x0:_0x2f403f,_0x4ba10b);return _0xa5ea8d?this:_0x2f403f;});}),_0x14127e||_0x45a158(_0x1e5312[_0x1a9f('0xb')],'size',{'get':function(){return this['_c'][_0x1a9f('0xe7')];}})):(_0x1e5312=_0xa5ea8d[_0x1a9f('0x2f5')](_0x2f403f,_0x16ddb9,_0x4a9b7c,_0xe82a4b),_0x47589b(_0x1e5312[_0x1a9f('0xb')],_0x4ba10b),_0xe61b9[_0x1a9f('0x8e')]=!0x0),_0x4701b4(_0x1e5312,_0x16ddb9),_0x2e0a21[_0x16ddb9]=_0x1e5312,_0x2fc069(_0x2fc069['G']+_0x2fc069['W']+_0x2fc069['F'],_0x2e0a21),_0x14127e||_0xa5ea8d[_0x1a9f('0x2f6')](_0x1e5312,_0x16ddb9,_0x4a9b7c),_0x1e5312;};},function(_0x2fcd13,_0x56af1e,_0x2a40e3){var _0xb8b245=_0x2a40e3(0x2b),_0x4088a6=_0x2a40e3(0x96);_0x2fcd13[_0x1a9f('0x0')]=function(_0x2fcd13){return function(){if(_0xb8b245(this)!=_0x2fcd13)throw TypeError(_0x2fcd13+_0x1a9f('0x2f7'));return _0x4088a6(this);};};},function(_0x26dbc2,_0x564a94,_0x1c4954){'use strict';var _0x5bfa8e=_0x1c4954(0x3);_0x26dbc2[_0x1a9f('0x0')]=function(_0x26dbc2){_0x5bfa8e(_0x5bfa8e['S'],_0x26dbc2,{'of':function(){for(var _0x26dbc2=arguments[_0x1a9f('0xf')],_0x564a94=new Array(_0x26dbc2);_0x26dbc2--;)_0x564a94[_0x26dbc2]=arguments[_0x26dbc2];return new this(_0x564a94);}});};},function(_0x530afd,_0x5f3cba,_0x33ce75){'use strict';var _0x142e67=_0x33ce75(0x3),_0x4d5d8e=_0x33ce75(0x1f),_0xd6a246=_0x33ce75(0xf),_0x48c497=_0x33ce75(0x32);_0x530afd[_0x1a9f('0x0')]=function(_0x530afd){_0x142e67(_0x142e67['S'],_0x530afd,{'from':function(_0x530afd){var _0x5f3cba,_0x33ce75,_0x142e67,_0x2bf0ab,_0x1d5bf8=arguments[0x1];return _0x4d5d8e(this),(_0x5f3cba=void 0x0!==_0x1d5bf8)&&_0x4d5d8e(_0x1d5bf8),null==_0x530afd?new this():(_0x33ce75=[],_0x5f3cba?(_0x142e67=0x0,_0x2bf0ab=_0xd6a246(_0x1d5bf8,arguments[0x2],0x2),_0x48c497(_0x530afd,!0x1,function(_0x530afd){_0x33ce75[_0x1a9f('0x70')](_0x2bf0ab(_0x530afd,_0x142e67++));})):_0x48c497(_0x530afd,!0x1,_0x33ce75[_0x1a9f('0x70')],_0x33ce75),new this(_0x33ce75));}});};},function(_0x2fc8f3,_0x37cf0c,_0x4dcd16){_0x4dcd16(0x80);var _0x2f8419=_0x4dcd16(0x2)[_0x1a9f('0x82')];_0x2fc8f3['exports']=function(_0x2fc8f3,_0x37cf0c){return _0x2f8419[_0x1a9f('0x94')](_0x2fc8f3,_0x37cf0c);};},function(_0x218dd2,_0x41eff4,_0x1facd9){var _0x3cb559=_0x1facd9(0x3);_0x3cb559(_0x3cb559['S']+_0x3cb559['F']*!_0x1facd9(0x7),_0x1a9f('0x82'),{'defineProperties':_0x1facd9(0x3c)});},function(_0x25537f,_0x57acf7,_0x2ed9fd){'use strict';Object['defineProperty'](_0x57acf7,_0x1a9f('0x5'),{'value':!0x0});var _0xebdff4=_0xac1a4(_0x2ed9fd(0x0));function _0xac1a4(_0x25537f){return _0x25537f&&_0x25537f['__esModule']?_0x25537f:{'default':_0x25537f};}function _0x2f055b(_0x25537f){var _0x57acf7=_0x25537f[_0x1a9f('0x2f8')],_0x2ed9fd=_0x25537f['imageWidth'],_0x2ed9fd=void 0x0===_0x2ed9fd?0x100:_0x2ed9fd,_0xac1a4=_0x25537f[_0x1a9f('0x2f9')],_0xac1a4=void 0x0===_0xac1a4?0x100:_0xac1a4,_0x16f67a=_0x25537f[_0x1a9f('0x2fa')],_0x16f67a=void 0x0===_0x16f67a?0x1:_0x16f67a,_0x5113c3=_0x25537f[_0x1a9f('0x2fb')],_0x5113c3=void 0x0===_0x5113c3?0x1:_0x5113c3,_0x25537f=_0x25537f[_0x1a9f('0x2fc')],_0x25537f=void 0x0===_0x25537f?0xc:_0x25537f;(0x0,_0xebdff4[_0x1a9f('0xa')])(this,_0x2f055b),this[_0x1a9f('0x2f8')]=_0x57acf7,this[_0x1a9f('0x2fd')]=_0x2ed9fd,this['imageHeight']=_0xac1a4,this[_0x1a9f('0x2fe')]=_0x2ed9fd/_0x16f67a,this[_0x1a9f('0x2ff')]=_0xac1a4/_0x5113c3,this['xCount']=_0x16f67a,this[_0x1a9f('0x2fb')]=_0x5113c3,this[_0x1a9f('0x2fc')]=_0x25537f,this[_0x1a9f('0x300')]=0x0,this[_0x1a9f('0x301')]=0x0,this['texture']=null;}(0x0,_0xac1a4(_0x2ed9fd(0x1))['default'])(_0x2f055b,[{'key':_0x1a9f('0x7'),'value':function(_0x25537f,_0x57acf7){this['texture']=_0x25537f,_0x57acf7&&(this[_0x1a9f('0xcc')][_0x1a9f('0x302')]['x']=0x1/this['xCount'],this['texture']['repeat']['y']=0x1/this['yCount']),this[_0x1a9f('0xcc')][_0x1a9f('0x101')]=!0x0;}},{'key':_0x1a9f('0x2e4'),'value':function(){var _0x25537f,_0x57acf7;this[_0x1a9f('0x2f8')]&&this['texture']&&(_0x57acf7=this[_0x1a9f('0x2f8')][_0x1a9f('0x303')](),_0x25537f=Math[_0x1a9f('0x6e')](_0x57acf7*this['fps']%this[_0x1a9f('0x2fa')]),_0x57acf7=Math[_0x1a9f('0x6e')](_0x57acf7*this['fps']%this[_0x1a9f('0x2fb')]),0x1===this[_0x1a9f('0x2fa')]?(this[_0x1a9f('0xcc')][_0x1a9f('0x106')]['x']=0x0,this['texture']['offset']['y']=(this['imageHeight']-this[_0x1a9f('0x2ff')]-_0x57acf7*this[_0x1a9f('0x2ff')])/this[_0x1a9f('0x2f9')]):_0x25537f!=this[_0x1a9f('0x300')]&&(this[_0x1a9f('0x300')]=_0x25537f,0x0==this[_0x1a9f('0x300')]&&(this['yIndex']++,this[_0x1a9f('0x301')]==this[_0x1a9f('0x2fb')]&&(this[_0x1a9f('0x301')]=0x0)),this[_0x1a9f('0xcc')][_0x1a9f('0x106')]['x']=this['xIndex']*this[_0x1a9f('0x2fe')]/this['imageWidth'],this[_0x1a9f('0xcc')]['offset']['y']=(this[_0x1a9f('0x2f9')]-this[_0x1a9f('0x2ff')]-this[_0x1a9f('0x301')]*this[_0x1a9f('0x2ff')])/this[_0x1a9f('0x2f9')]));}}]),_0x57acf7['default']=_0x2f055b;},function(_0x34ab1f,_0x3cafb1,_0x55d148){'use strict';_0x3cafb1[_0x1a9f('0x5')]=!0x0;var _0x55d148=_0x55d148(0x2f),_0x432a6e=_0x55d148&&_0x55d148[_0x1a9f('0x5')]?_0x55d148:{'default':_0x55d148};_0x3cafb1[_0x1a9f('0xa')]=function(_0x34ab1f,_0x3cafb1,_0x55d148){return _0x3cafb1 in _0x34ab1f?(0x0,_0x432a6e[_0x1a9f('0xa')])(_0x34ab1f,_0x3cafb1,{'value':_0x55d148,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x34ab1f[_0x3cafb1]=_0x55d148,_0x34ab1f;};},function(_0x18ab63,_0x29b1c5,_0x40b28e){'use strict';Object['defineProperty'](_0x29b1c5,'__esModule',{'value':!0x0}),_0x29b1c5[_0x1a9f('0x304')]=_0x29b1c5[_0x1a9f('0x305')]=void 0x0;var _0x59f323=_0x38e9d4(_0x40b28e(0x6)),_0x1552c4=_0x38e9d4(_0x40b28e(0x11));function _0x38e9d4(_0x18ab63){return _0x18ab63&&_0x18ab63[_0x1a9f('0x5')]?_0x18ab63:{'default':_0x18ab63};}function _0x106c55(_0x18ab63){for(var _0x29b1c5=0x0,_0x40b28e=_0x18ab63[_0x1a9f('0xf')];_0x29b1c5<_0x40b28e;_0x29b1c5++)_0x18ab63[_0x29b1c5]['_index']=_0x29b1c5;}function _0x3a967d(_0x18ab63,_0x29b1c5){for(var _0x40b28e=[],_0x38e9d4=0x0,_0x226d96=0x0,_0x27505c=_0x18ab63[_0x1a9f('0xf')];_0x226d96<_0x27505c-0x1;_0x226d96++)_0x38e9d4+=_0x18ab63[_0x226d96]['distanceTo'](_0x18ab63[_0x226d96+0x1]);for(var _0x25390a=0x1,_0x4b7f11=Math[_0x1a9f('0x6e')](_0x38e9d4/_0x29b1c5);_0x25390a<=_0x4b7f11;_0x25390a++){var _0x273b2e=function(_0x18ab63,_0x29b1c5){if(_0x18ab63){if(0x0==_0x29b1c5)return _0x18ab63[0x0];for(var _0x40b28e,_0x38e9d4,_0x226d96=0x0,_0x27505c=0x0,_0x25390a=_0x18ab63[0x0],_0x4b7f11=0x1;_0x4b7f11<_0x18ab63[_0x1a9f('0xf')];_0x4b7f11++){if(_0x29b1c5<=(_0x226d96+=(_0x38e9d4=(_0x40b28e=_0x18ab63[_0x4b7f11])['clone']()[_0x1a9f('0x306')](_0x25390a))[_0x1a9f('0xf')]()))return _0x38e9d4[_0x1a9f('0x1bf')](),(_0x38e9d4=_0x25390a[_0x1a9f('0x1af')]()[_0x1a9f('0x1c0')](_0x38e9d4['clone']()[_0x1a9f('0x1be')](_0x29b1c5-_0x27505c)))['index']=_0x40b28e[_0x1a9f('0x307')],_0x38e9d4;(_0x25390a=_0x40b28e[_0x1a9f('0x1af')]())[_0x1a9f('0x308')]=_0x40b28e['_index'],_0x27505c=_0x226d96;}var _0x273b2e=(0x0,_0x1552c4[_0x1a9f('0xa')])(new Vector3(),_0x18ab63[_0x18ab63[_0x1a9f('0xf')]-0x1]);return _0x273b2e['index']=_0x273b2e[_0x1a9f('0x307')],_0x273b2e;}}(_0x18ab63,_0x25390a*_0x29b1c5);_0x40b28e[_0x1a9f('0x70')](_0x273b2e);}return _0x40b28e;}_0x29b1c5[_0x1a9f('0x305')]=function(_0x18ab63,_0x29b1c5){var _0x40b28e=[],_0x38e9d4=!0x0,_0x4d3340=!0x1,_0xe6e030=void 0x0;try{for(var _0x3d4c03,_0x1c1d38=(0x0,_0x59f323[_0x1a9f('0xa')])(_0x18ab63);!(_0x38e9d4=(_0x3d4c03=_0x1c1d38[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x38e9d4=!0x0){var _0x3f1cb2=_0x3d4c03['value'];_0x40b28e[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-_0x3f1cb2['x'],_0x3f1cb2['height'],_0x3f1cb2['y']));}}catch(_0x522028){_0x4d3340=!0x0,_0xe6e030=_0x522028;}finally{try{!_0x38e9d4&&_0x1c1d38[_0x1a9f('0xd0')]&&_0x1c1d38['return']();}finally{if(_0x4d3340)throw _0xe6e030;}}return _0x106c55(_0x40b28e),_0x3a967d(_0x40b28e,_0x29b1c5);},_0x29b1c5[_0x1a9f('0x304')]=function(_0x18ab63,_0x29b1c5){var _0x40b28e=[],_0x38e9d4=!0x0,_0x51524f=!0x1,_0x2e4f67=void 0x0;try{for(var _0x410d1d,_0x42d9cd=(0x0,_0x59f323['default'])(_0x18ab63);!(_0x38e9d4=(_0x410d1d=_0x42d9cd[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x38e9d4=!0x0){var _0x44fa78=_0x410d1d[_0x1a9f('0x11')];_0x40b28e[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-_0x44fa78['x'],_0x44fa78['height'],_0x44fa78['y']));}}catch(_0x50a875){_0x51524f=!0x0,_0x2e4f67=_0x50a875;}finally{try{!_0x38e9d4&&_0x42d9cd[_0x1a9f('0xd0')]&&_0x42d9cd[_0x1a9f('0xd0')]();}finally{if(_0x51524f)throw _0x2e4f67;}}_0x106c55(_0x40b28e);var _0x18ab63=_0x3a967d(_0x40b28e,_0x29b1c5),_0x1552c4=!0x0,_0x51524f=!0x1,_0x2e4f67=void 0x0;try{for(var _0x13710c,_0x39950f=(0x0,_0x59f323['default'])(_0x18ab63);!(_0x1552c4=(_0x13710c=_0x39950f['next']())[_0x1a9f('0xce')]);_0x1552c4=!0x0){var _0x40733e=_0x13710c[_0x1a9f('0x11')],_0x5b576e=(_0x40733e['x']=-_0x40733e['x'],_0x40733e['y']);_0x40733e['y']=_0x40733e['z'],_0x40733e['z']=_0x5b576e;}}catch(_0x530cd2){_0x51524f=!0x0,_0x2e4f67=_0x530cd2;}finally{try{!_0x1552c4&&_0x39950f[_0x1a9f('0xd0')]&&_0x39950f[_0x1a9f('0xd0')]();}finally{if(_0x51524f)throw _0x2e4f67;}}return _0x18ab63;};},function(_0x1abc6e,_0x4a8e3e,_0x544999){_0x1abc6e[_0x1a9f('0x0')]={'default':_0x544999(0x90),'__esModule':!0x0};},function(_0x2dfec8,_0x357d8a,_0xeed5b3){'use strict';Object[_0x1a9f('0x3')](_0x357d8a,_0x1a9f('0x5'),{'value':!0x0});var _0x23a464=_0xfb238f(_0xeed5b3(0x6)),_0x589d17=_0xfb238f(_0xeed5b3(0x0)),_0x188b6b=_0xfb238f(_0xeed5b3(0x1)),_0x31e801=_0xfb238f(_0xeed5b3(0x3b));function _0xfb238f(_0x2dfec8){return _0x2dfec8&&_0x2dfec8[_0x1a9f('0x5')]?_0x2dfec8:{'default':_0x2dfec8};}var _0x531662=_0xeed5b3(0x9a),_0xeed5b3=((0x0,_0x188b6b[_0x1a9f('0xa')])(_0x229557,[{'key':_0x1a9f('0x309'),'value':function(_0x2dfec8){var _0x357d8a=_0x2dfec8[_0x1a9f('0xcc')],_0xeed5b3=_0x2dfec8[_0x1a9f('0x30a')],_0x2dfec8=_0x2dfec8[_0x1a9f('0x302')];this['lineMaterial']=new _0x531662[(_0x1a9f('0x30b'))]({'map':_0x357d8a,'useMap':this[_0x1a9f('0x207')]['map'],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0xeed5b3),'opacity':this[_0x1a9f('0x1ff')],'dashArray':this[_0x1a9f('0x207')][_0x1a9f('0x30d')],'dashOffset':this['params'][_0x1a9f('0x30e')],'dashRatio':this[_0x1a9f('0x207')][_0x1a9f('0x30f')],'resolution':this[_0x1a9f('0x310')],'sizeAttenuation':this[_0x1a9f('0x207')][_0x1a9f('0x311')],'lineWidth':this[_0x1a9f('0x207')][_0x1a9f('0x312')],'near':this['camera'][_0x1a9f('0x313')],'far':this[_0x1a9f('0x314')]['far'],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE['DoubleSide'],'repeat':new THREE['Vector2'](_0x2dfec8['x'],_0x2dfec8['y']),'offset':new THREE[(_0x1a9f('0x1b3'))](0x0,0x0),'useChange':!0x1}),this[_0x1a9f('0x315')]['fog']=!0x0;}},{'key':_0x1a9f('0x316'),'value':function(){var _0x2dfec8=new THREE[(_0x1a9f('0x317'))]();return _0x2dfec8['vertices'][_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-0x64,0x0,-0x64)),_0x2dfec8[_0x1a9f('0x318')][_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](0x64,0x0,-0x64)),_0x2dfec8[_0x1a9f('0x318')][_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](0x64,0x0,0x64)),_0x2dfec8['vertices'][_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-0x64,0x0,0x64)),_0x2dfec8[_0x1a9f('0x318')][_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-0x64,0x0,-0x64)),_0x2dfec8;}},{'key':_0x1a9f('0x319'),'value':function(_0x2dfec8){for(var _0x357d8a=new THREE[(_0x1a9f('0x317'))](),_0xeed5b3=0x0,_0x188b6b=_0x2dfec8[_0x1a9f('0xf')];_0xeed5b3<_0x188b6b;_0xeed5b3++)_0x357d8a['vertices'][_0x1a9f('0x70')](_0x2dfec8[_0xeed5b3]);return _0x357d8a;}},{'key':'makeMeshLineGeometry','value':function(_0x2dfec8){var _0x357d8a=this[_0x1a9f('0x319')](_0x2dfec8),_0xeed5b3=new _0x531662[(_0x1a9f('0x31a'))]();switch(this[_0x1a9f('0x207')][_0x1a9f('0x31b')]){case _0x1a9f('0x29f'):_0xeed5b3['setGeometry'](_0x357d8a);break;case _0x1a9f('0x31c'):_0xeed5b3[_0x1a9f('0x31d')](_0x357d8a,function(_0x2dfec8){return 0x1-_0x2dfec8;});break;case _0x1a9f('0x31e'):_0xeed5b3[_0x1a9f('0x31d')](_0x357d8a,function(_0x2dfec8){return+Math[_0x1a9f('0x31f')](0x4*_0x2dfec8*(0x1-_0x2dfec8),0x1);});break;case _0x1a9f('0x320'):_0xeed5b3[_0x1a9f('0x31d')](_0x357d8a,function(_0x2dfec8){return 0x2+Math[_0x1a9f('0x59')](0x32*_0x2dfec8);});}return _0xeed5b3[_0x1a9f('0x91')];}},{'key':_0x1a9f('0x321'),'value':function(_0x2dfec8,_0x357d8a){var _0xeed5b3=_0x2dfec8[0x0],_0x188b6b=[],_0x31e801=!0x0,_0xfb238f=!0x1,_0x111062=void 0x0;try{for(var _0x3f2cbe,_0x9d89aa=(0x0,_0x23a464['default'])(_0x2dfec8);!(_0x31e801=(_0x3f2cbe=_0x9d89aa['next']())[_0x1a9f('0xce')]);_0x31e801=!0x0){var _0x260c55=_0x3f2cbe['value'],_0x5c97d3=_0x260c55['x']-_0xeed5b3['x'],_0x589d17=_0x260c55['z']-_0xeed5b3['z'];_0x188b6b['push'](new THREE[(_0x1a9f('0x1b5'))](_0x5c97d3,_0x260c55['y'],_0x589d17));}}catch(_0xc5999c){_0xfb238f=!0x0,_0x111062=_0xc5999c;}finally{try{!_0x31e801&&_0x9d89aa[_0x1a9f('0xd0')]&&_0x9d89aa[_0x1a9f('0xd0')]();}finally{if(_0xfb238f)throw _0x111062;}}var _0x22d20=this[_0x1a9f('0x319')](_0x188b6b),_0x5047e7=new _0x531662['MeshLine']();switch(this[_0x1a9f('0x322')]['push'](_0x5047e7),this[_0x1a9f('0x207')][_0x1a9f('0x31b')]){case _0x1a9f('0x29f'):_0x5047e7[_0x1a9f('0x31d')](_0x22d20);break;case _0x1a9f('0x31c'):_0x5047e7[_0x1a9f('0x31d')](_0x22d20,function(_0x2dfec8){return 0x1-_0x2dfec8;});break;case _0x1a9f('0x31e'):_0x5047e7[_0x1a9f('0x31d')](_0x22d20,function(_0x2dfec8){return+Math[_0x1a9f('0x31f')](0x4*_0x2dfec8*(0x1-_0x2dfec8),0x1);});break;case _0x1a9f('0x320'):_0x5047e7[_0x1a9f('0x31d')](_0x22d20,function(_0x2dfec8){return 0x2+Math[_0x1a9f('0x59')](0x32*_0x2dfec8);});}_0x2dfec8=new THREE['Mesh'](_0x5047e7['geometry'],this[_0x1a9f('0x315')]);return _0x2dfec8['renderOrder']=this[_0x1a9f('0x323')],this['object3d'][_0x1a9f('0x1c0')](_0x2dfec8),_0x357d8a&&(_0xfb238f=new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x1),_0x111062=this[_0x1a9f('0x324')](_0xfb238f,_0x188b6b[_0x188b6b['length']-0x2],_0x188b6b[_0x188b6b['length']-0x1]),_0x2dfec8[_0x1a9f('0x325')]=_0x111062),_0x2dfec8;}},{'key':'addLineGeometry','value':function(_0x2dfec8,_0x357d8a,_0xeed5b3){var _0x188b6b=[],_0x31e801=!0x0,_0xfb238f=!0x1,_0x344f87=void 0x0;try{for(var _0x35a52c,_0x42fc7c=(0x0,_0x23a464['default'])(_0x2dfec8);!(_0x31e801=(_0x35a52c=_0x42fc7c[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x31e801=!0x0){var _0x100433=_0x35a52c['value'],_0x2a4d95=new THREE['Vector3'](-(_0x357d8a['x']+_0x100433['x']),_0x100433[_0x1a9f('0x106')]||0x0,_0x100433['y']-_0x357d8a['z']);_0x188b6b[_0x1a9f('0x70')](_0x2a4d95);}}catch(_0x4b6495){_0xfb238f=!0x0,_0x344f87=_0x4b6495;}finally{try{!_0x31e801&&_0x42fc7c[_0x1a9f('0xd0')]&&_0x42fc7c[_0x1a9f('0xd0')]();}finally{if(_0xfb238f)throw _0x344f87;}}var _0x589d17=this[_0x1a9f('0x319')](_0x188b6b),_0x39e614=new _0x531662['MeshLine']();switch(_0xeed5b3||this[_0x1a9f('0x207')]['taper']){case _0x1a9f('0x29f'):_0x39e614[_0x1a9f('0x31d')](_0x589d17);break;case _0x1a9f('0x31c'):_0x39e614[_0x1a9f('0x31d')](_0x589d17,function(_0x2dfec8){return 0x1-_0x2dfec8;});break;case'parabolic':_0x39e614['setGeometry'](_0x589d17,function(_0x2dfec8){return+Math[_0x1a9f('0x31f')](0x4*_0x2dfec8*(0x1-_0x2dfec8),0x1);});break;case _0x1a9f('0x320'):_0x39e614[_0x1a9f('0x31d')](_0x589d17,function(_0x2dfec8){return 0x2+Math[_0x1a9f('0x59')](0x32*_0x2dfec8);});}return _0x39e614['geometry'];}},{'key':_0x1a9f('0x324'),'value':function(_0x2dfec8,_0x357d8a,_0xeed5b3){return this[_0x1a9f('0x326')][_0x1a9f('0x327')](_0xeed5b3,_0x357d8a),this[_0x1a9f('0x328')][_0x1a9f('0x1ba')](_0x357d8a)[_0x1a9f('0x1bf')](),this[_0x1a9f('0x329')][_0x1a9f('0x1ba')](_0xeed5b3)[_0x1a9f('0x1bf')](),0x0<this[_0x1a9f('0x328')][_0x1a9f('0x32a')](this[_0x1a9f('0x329')])['y']?-_0x2dfec8[_0x1a9f('0x32b')](this[_0x1a9f('0x326')]):_0x2dfec8[_0x1a9f('0x32b')](this[_0x1a9f('0x326')]);}},{'key':_0x1a9f('0x32c'),'value':function(_0x2dfec8){for(var _0x357d8a=0x0,_0xeed5b3=(_0x2dfec8[_0x1a9f('0x32d')]['forEach'](function(_0x2dfec8){_0x357d8a+=_0x2dfec8[_0x1a9f('0x91')][_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')];}),new THREE[(_0x1a9f('0x32e'))]()),_0x188b6b=(_0xeed5b3[_0x1a9f('0x1f0')](_0x1a9f('0x42'),new THREE['BufferAttribute'](new Float32Array(0x3*_0x357d8a),0x3)),0x0),_0x31e801=(_0x2dfec8['children'][_0x1a9f('0x2a9')](function(_0x2dfec8){_0xeed5b3[_0x1a9f('0x32f')](_0x2dfec8[_0x1a9f('0x91')],_0x188b6b),_0x188b6b+=_0x2dfec8[_0x1a9f('0x91')]['attributes'][_0x1a9f('0x42')][_0x1a9f('0x100')];}),_0xeed5b3['center'](_0xeed5b3),new THREE[(_0x1a9f('0x330'))]()),_0xfb238f=(_0x31e801['makeScale'](0x3e8,0x3e8,0x3e8),_0xeed5b3[_0x1a9f('0x331')](_0x31e801),new THREE[(_0x1a9f('0x332'))](_0xeed5b3,new THREE[(_0x1a9f('0x333'))]())),_0x295131=(_0x2dfec8[_0x1a9f('0x1c0')](_0xfb238f),new THREE[(_0x1a9f('0x334'))]()),_0x102d31=[],_0x3bedc5=-0xc8,_0x1a4cf5=0x0,_0x42c35a=new THREE[(_0x1a9f('0x1b5'))](),_0x589d17=new THREE[(_0x1a9f('0x1b5'))](),_0x5debd1=0x0;_0x5debd1<0x1770;_0x5debd1++){_0x1a4cf5+=0.1,_0x3bedc5+=0.075,_0x42c35a[_0x1a9f('0x1d')](0x3e8*Math[_0x1a9f('0x5a')](_0x1a4cf5),_0x3bedc5,0x3e8*Math[_0x1a9f('0x59')](_0x1a4cf5)),_0x589d17[_0x1a9f('0x1d')](-_0x42c35a['x'],0x0,-_0x42c35a['z']),_0x589d17=_0x589d17[_0x1a9f('0x1bf')](),_0x295131[_0x1a9f('0x1d')](_0x42c35a,_0x589d17);var _0x1bb575=_0x295131[_0x1a9f('0x335')](_0xfb238f,!0x0);_0x1bb575['length']&&_0x102d31[_0x1a9f('0x70')](_0x1bb575[0x0][_0x1a9f('0x336')]['x'],_0x1bb575[0x0][_0x1a9f('0x336')]['y'],_0x1bb575[0x0][_0x1a9f('0x336')]['z']);}_0x2dfec8[_0x1a9f('0x93')](_0xfb238f);_0x31e801=new _0x531662[(_0x1a9f('0x31a'))](),_0x31e801[_0x1a9f('0x31d')](_0x102d31,function(_0x2dfec8){return _0x2dfec8;}),_0x31e801=new THREE['Mesh'](_0x31e801[_0x1a9f('0x91')],this[_0x1a9f('0x315')]);_0x2dfec8[_0x1a9f('0x1c0')](_0x31e801);}},{'key':_0x1a9f('0x337'),'value':function(_0x2dfec8){_0x31e801[_0x1a9f('0xa')][_0x1a9f('0x338')](_0x2dfec8);}},{'key':_0x1a9f('0x339'),'value':function(_0x2dfec8){var _0x357d8a=this;_0x2dfec8['on']('resize',function(_0x2dfec8){_0x357d8a[_0x1a9f('0x315')]['resolution'][_0x1a9f('0x1d')](_0x2dfec8[_0x1a9f('0x33a')],_0x2dfec8[_0x1a9f('0x33b')]);});}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x315')]&&this['lineMaterial'][_0x1a9f('0x8f')](),this[_0x1a9f('0x315')]=null,this['texture']&&this[_0x1a9f('0xcc')]['dispose'](),this[_0x1a9f('0xcc')]=null,this['meshLines']['length']=0x0,_0x31e801['default'][_0x1a9f('0x33c')](this['object3d']);}},{'key':_0x1a9f('0x33d'),'value':function(_0x2dfec8){var _0x357d8a;this[_0x1a9f('0x315')]&&(_0x2dfec8=_0x2dfec8||1.5,this['lineMaterial'][_0x1a9f('0x33e')]=!0x0,this['lineMaterial'][_0x1a9f('0x33f')]=0x0,_0x357d8a=this,new TWEEN[(_0x1a9f('0x2e0'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x2dfec8)[_0x1a9f('0x2e3')](function(_0x2dfec8){_0x357d8a[_0x1a9f('0x315')][_0x1a9f('0x33f')]=_0x2dfec8['x'];})[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')]['In'])[_0x1a9f('0x2e2')]());}},{'key':_0x1a9f('0x340'),'value':function(_0x2dfec8){this[_0x1a9f('0x315')]&&(this[_0x1a9f('0x315')]['uniforms'][_0x1a9f('0x106')][_0x1a9f('0x11')]['x']-=_0x2dfec8*this[_0x1a9f('0x341')]);}},{'key':_0x1a9f('0x342'),'set':function(_0x2dfec8){this[_0x1a9f('0x343')]['visible']=_0x2dfec8;},'get':function(){return this[_0x1a9f('0x343')][_0x1a9f('0x342')];}}]),_0x229557);function _0x229557(_0x2dfec8){var _0x357d8a=_0x2dfec8[_0x1a9f('0x314')],_0xeed5b3=_0x2dfec8[_0x1a9f('0xcc')],_0x188b6b=_0x2dfec8[_0x1a9f('0x30a')],_0x188b6b=void 0x0===_0x188b6b?'#FFFFFF':_0x188b6b,_0x31e801=_0x2dfec8[_0x1a9f('0x1ff')],_0xfb238f=_0x2dfec8[_0x1a9f('0x312')],_0xfb238f=void 0x0===_0xfb238f?0x7:_0xfb238f,_0x17eb49=_0x2dfec8[_0x1a9f('0x344')],_0x17eb49=void 0x0===_0x17eb49?_0x1a9f('0x29f'):_0x17eb49,_0x3bd4e1=_0x2dfec8[_0x1a9f('0x302')],_0x3bd4e1=void 0x0===_0x3bd4e1?{'x':0x1,'y':0x1}:_0x3bd4e1,_0x48fdc8=_0x2dfec8[_0x1a9f('0x310')],_0x2ce474=_0x2dfec8[_0x1a9f('0x341')],_0x2ce474=void 0x0===_0x2ce474?0x1:_0x2ce474,_0x3fe9da=_0x2dfec8[_0x1a9f('0x345')],_0x3fe9da=void 0x0!==_0x3fe9da&&_0x3fe9da,_0x2dfec8=_0x2dfec8['renderOrder'],_0x2dfec8=void 0x0===_0x2dfec8?0xb:_0x2dfec8;(0x0,_0x589d17['default'])(this,_0x229557),this[_0x1a9f('0x314')]=_0x357d8a,this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x323')]=_0x2dfec8,this[_0x1a9f('0x207')]={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0xfb238f,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x17eb49,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x3fe9da},this[_0x1a9f('0x310')]=_0x48fdc8||new THREE[(_0x1a9f('0x1b3'))](window[_0x1a9f('0x347')],window[_0x1a9f('0x348')]),this[_0x1a9f('0x341')]=_0x2ce474,this[_0x1a9f('0xcc')]=_0xeed5b3,this[_0x1a9f('0xcc')][_0x1a9f('0x349')]=THREE['RepeatWrapping'],this['texture']['wrapS']=THREE[_0x1a9f('0x34a')],this['opacity']=_0x31e801,this[_0x1a9f('0x315')]=null,this['createMaterial']({'texture':_0xeed5b3,'colorStr':_0x188b6b,'repeat':_0x3bd4e1}),this[_0x1a9f('0x328')]=new THREE[(_0x1a9f('0x1b5'))](),this[_0x1a9f('0x329')]=new THREE[(_0x1a9f('0x1b5'))](),this[_0x1a9f('0x326')]=new THREE[(_0x1a9f('0x1b5'))](),this[_0x1a9f('0x322')]=[];}_0x357d8a[_0x1a9f('0xa')]=_0xeed5b3;},function(_0x2e387c,_0x3c7470,_0x250507){'use strict';Object[_0x1a9f('0x3')](_0x3c7470,_0x1a9f('0x5'),{'value':!0x0});var _0x1899ba=_0x48eb58(_0x250507(0x0));function _0x48eb58(_0x2e387c){return _0x2e387c&&_0x2e387c[_0x1a9f('0x5')]?_0x2e387c:{'default':_0x2e387c};}function _0x111040(_0x2e387c,_0x3c7470,_0x250507,_0x48eb58,_0x4d58a3){(0x0,_0x1899ba[_0x1a9f('0xa')])(this,_0x111040),this['container']=_0x2e387c,this[_0x1a9f('0x34b')]=_0x48eb58||_0x1a9f('0x34c'),this[_0x1a9f('0x2c6')]=_0x3c7470,this[_0x1a9f('0x34d')]=_0x250507,this[_0x1a9f('0x34e')]=this['handleGetPos'][_0x1a9f('0x9')](this),this[_0x1a9f('0x34f')]=_0x4d58a3;}(0x0,_0x48eb58(_0x250507(0x1))['default'])(_0x111040,[{'key':'init','value':function(){this['container']['addEventListener'](this['eventName'],this[_0x1a9f('0x34e')],!0x1);}},{'key':'dispose','value':function(){this[_0x1a9f('0x350')][_0x1a9f('0x351')](this[_0x1a9f('0x34b')],this[_0x1a9f('0x34e')],!0x1);}},{'key':_0x1a9f('0x352'),'value':function(_0x2e387c){var _0x2e387c=_0x2e387c||window[_0x1a9f('0x353')],_0x3c7470=_0x2e387c['target']||_0x2e387c[_0x1a9f('0x354')];return _0x2e387c[_0x1a9f('0x355')]||(_0x3c7470=_0x3c7470[_0x1a9f('0x356')](),_0x2e387c[_0x1a9f('0x357')]-_0x3c7470['left']);}},{'key':_0x1a9f('0x358'),'value':function(_0x2e387c){var _0x2e387c=_0x2e387c||window[_0x1a9f('0x353')],_0x3c7470=_0x2e387c[_0x1a9f('0xc7')]||_0x2e387c['srcElement'];return _0x2e387c[_0x1a9f('0x359')]||(_0x3c7470=_0x3c7470[_0x1a9f('0x356')](),_0x2e387c[_0x1a9f('0x35a')]-_0x3c7470[_0x1a9f('0x35b')]);}},{'key':'handleGetPos','value':function(_0x2e387c){var _0x3c7470=this[_0x1a9f('0x352')](_0x2e387c),_0x2e387c=this[_0x1a9f('0x358')](_0x2e387c);this[_0x1a9f('0x2c6')][_0x1a9f('0x35c')]({'x':_0x3c7470,'y':_0x2e387c},this[_0x1a9f('0x34d')])[_0x1a9f('0xf')];}}],[{'key':_0x1a9f('0x35d'),'value':function(_0x2e387c){return ESTileMap['CoordTransform']['getWorldPosFromLoLa']({'mapType':_0x1a9f('0x35e'),'longitude':_0x2e387c[0x0],'latitude':_0x2e387c[0x1]});}},{'key':_0x1a9f('0x35f'),'value':function(_0x2e387c){return ESTileMap['CoordTransform'][_0x1a9f('0x360')]({'mapType':_0x1a9f('0x35e'),'x':_0x2e387c['x'],'z':_0x2e387c['y']});}}]),_0x3c7470[_0x1a9f('0xa')]=_0x111040;},function(_0x4c252,_0x11e0a5,_0x420426){_0x420426(0x88),_0x4c252['exports']=_0x420426(0x2)['Object'][_0x1a9f('0xc1')];},function(_0x6b181d,_0xeac06b,_0x833c65){var _0x54f3de=_0x833c65(0x12),_0x19efcf=_0x833c65(0x43);_0x833c65(0x47)('getPrototypeOf',function(){return function(_0x6b181d){return _0x19efcf(_0x54f3de(_0x6b181d));};});},function(_0xcbfa76,_0x12cb69,_0x5a33db){_0x5a33db(0x33),_0x5a33db(0x19),_0x5a33db(0x1b),_0x5a33db(0x8a),_0x5a33db(0x8e),_0x5a33db(0x8f),_0xcbfa76[_0x1a9f('0x0')]=_0x5a33db(0x2)['Promise'];},function(_0x3e1ca8,_0x1fe47d,_0x4dd019){'use strict';function _0x2b12bb(){}function _0x2278f8(_0xadc3a5){return 0x1!==_0xadc3a5['_h']&&0x0===(_0xadc3a5['_a']||_0xadc3a5['_c'])[_0x1a9f('0xf')];}var _0x4e43e0,_0x302d7f,_0x52cafd,_0x8a78e6,_0x153212=_0x4dd019(0x13),_0x92dd68=_0x4dd019(0x4),_0x3644ad=_0x4dd019(0xf),_0x2336bd=_0x4dd019(0x2b),_0x33afc4=_0x4dd019(0x3),_0x203252=_0x4dd019(0x9),_0x3dc2cd=_0x4dd019(0x1f),_0x25d85a=_0x4dd019(0x4a),_0x2dc82e=_0x4dd019(0x32),_0x202b4e=_0x4dd019(0x6e),_0x214b77=_0x4dd019(0x6f)[_0x1a9f('0x1d')],_0x178e88=_0x4dd019(0x8c)(),_0x1fe1a9=_0x4dd019(0x56),_0x5247c3=_0x4dd019(0x70),_0x481bf4=_0x4dd019(0x8d),_0x189a8f=_0x4dd019(0x71),_0x41dc7e=_0x1a9f('0x361'),_0x1f08e3=_0x92dd68['TypeError'],_0x5c0196=_0x92dd68['process'],_0x5c5bf1=_0x5c0196&&_0x5c0196['versions'],_0x23eadb=_0x5c5bf1&&_0x5c5bf1['v8']||'',_0x4efb5c=_0x92dd68[_0x41dc7e],_0x442918='process'==_0x2336bd(_0x5c0196),_0x2cc489=_0x302d7f=_0x1fe1a9['f'],_0x5c5bf1=!!function(){try{var _0x2336bd=_0x4efb5c[_0x1a9f('0xde')](0x1),_0x4e43e0=(_0x2336bd[_0x1a9f('0x85')]={})[_0x4dd019(0x5)(_0x1a9f('0x2a6'))]=function(_0x2336bd){_0x2336bd(_0x2b12bb,_0x2b12bb);};return(_0x442918||'function'==typeof PromiseRejectionEvent)&&_0x2336bd[_0x1a9f('0x362')](_0x2b12bb)instanceof _0x4e43e0&&0x0!==_0x23eadb[_0x1a9f('0xc4')](_0x1a9f('0x363'))&&-0x1===_0x481bf4[_0x1a9f('0xc4')]('Chrome/66');}catch(_0x5d1b49){}}(),_0x26c353=function(_0x2336bd){var _0x4e43e0;return!(!_0x203252(_0x2336bd)||_0x1a9f('0x16')!=typeof(_0x4e43e0=_0x2336bd[_0x1a9f('0x362')]))&&_0x4e43e0;},_0x56bd87=function(_0x203252,_0x4e43e0){var _0x4dd019;_0x203252['_n']||(_0x203252['_n']=!0x0,_0x4dd019=_0x203252['_c'],_0x178e88(function(){for(var _0x302d7f,_0x3644ad=_0x203252['_v'],_0x33afc4=0x1==_0x203252['_s'],_0x2336bd=0x0;_0x4dd019[_0x1a9f('0xf')]>_0x2336bd;)!function(_0x2336bd){var _0x4e43e0,_0x4dd019,_0x2b12bb,_0x302d7f,_0x2278f8=_0x33afc4?_0x2336bd['ok']:_0x2336bd['fail'],_0x52cafd=_0x2336bd[_0x1a9f('0xde')],_0x8a78e6=_0x2336bd['reject'],_0x153212=_0x2336bd[_0x1a9f('0x364')];try{_0x2278f8?(_0x33afc4||(0x2==_0x203252['_h']&&(_0x302d7f=_0x203252,_0x214b77['call'](_0x92dd68,function(){var _0x2336bd;_0x442918?_0x5c0196[_0x1a9f('0x365')]('rejectionHandled',_0x302d7f):(_0x2336bd=_0x92dd68[_0x1a9f('0x366')])&&_0x2336bd({'promise':_0x302d7f,'reason':_0x302d7f['_v']});})),_0x203252['_h']=0x1),!0x0===_0x2278f8?_0x4e43e0=_0x3644ad:(_0x153212&&_0x153212[_0x1a9f('0x367')](),_0x4e43e0=_0x2278f8(_0x3644ad),_0x153212&&(_0x153212[_0x1a9f('0x368')](),_0x2b12bb=!0x0)),_0x4e43e0===_0x2336bd[_0x1a9f('0x2b9')]?_0x8a78e6(_0x1f08e3(_0x1a9f('0x369'))):(_0x4dd019=_0x26c353(_0x4e43e0))?_0x4dd019['call'](_0x4e43e0,_0x52cafd,_0x8a78e6):_0x52cafd(_0x4e43e0)):_0x8a78e6(_0x3644ad);}catch(_0x433cdd){_0x153212&&!_0x2b12bb&&_0x153212[_0x1a9f('0x368')](),_0x8a78e6(_0x433cdd);}}(_0x4dd019[_0x2336bd++]);_0x203252['_c']=[],_0x203252['_n']=!0x1,_0x4e43e0&&!_0x203252['_h']&&(_0x302d7f=_0x203252,_0x214b77[_0x1a9f('0xd')](_0x92dd68,function(){var _0x2336bd,_0x4e43e0,_0x4dd019=_0x302d7f['_v'],_0x2b12bb=_0x2278f8(_0x302d7f);if(_0x2b12bb&&(_0x2336bd=_0x5247c3(function(){_0x442918?_0x5c0196[_0x1a9f('0x365')](_0x1a9f('0x36a'),_0x4dd019,_0x302d7f):(_0x4e43e0=_0x92dd68['onunhandledrejection'])?_0x4e43e0({'promise':_0x302d7f,'reason':_0x4dd019}):(_0x4e43e0=_0x92dd68[_0x1a9f('0x36b')])&&_0x4e43e0['error']&&_0x4e43e0[_0x1a9f('0x1f3')](_0x1a9f('0x36c'),_0x4dd019);}),_0x302d7f['_h']=_0x442918||_0x2278f8(_0x302d7f)?0x2:0x1),_0x302d7f['_a']=void 0x0,_0x2b12bb&&_0x2336bd['e'])throw _0x2336bd['v'];}));}));},_0x4c916d=function(_0x2336bd){var _0x4e43e0=this;_0x4e43e0['_d']||(_0x4e43e0['_d']=!0x0,(_0x4e43e0=_0x4e43e0['_w']||_0x4e43e0)['_v']=_0x2336bd,_0x4e43e0['_s']=0x2,_0x4e43e0['_a']||(_0x4e43e0['_a']=_0x4e43e0['_c']['slice']()),_0x56bd87(_0x4e43e0,!0x0));},_0x2c1376=function(_0x2336bd){var _0x4dd019,_0x2b12bb=this;if(!_0x2b12bb['_d']){_0x2b12bb['_d']=!0x0,_0x2b12bb=_0x2b12bb['_w']||_0x2b12bb;try{if(_0x2b12bb===_0x2336bd)throw _0x1f08e3(_0x1a9f('0x36d'));(_0x4dd019=_0x26c353(_0x2336bd))?_0x178e88(function(){var _0x4e43e0={'_w':_0x2b12bb,'_d':!0x1};try{_0x4dd019['call'](_0x2336bd,_0x3644ad(_0x2c1376,_0x4e43e0,0x1),_0x3644ad(_0x4c916d,_0x4e43e0,0x1));}catch(_0x36c68b){_0x4c916d[_0x1a9f('0xd')](_0x4e43e0,_0x36c68b);}}):(_0x2b12bb['_v']=_0x2336bd,_0x2b12bb['_s']=0x1,_0x56bd87(_0x2b12bb,!0x1));}catch(_0xcae972){_0x4c916d[_0x1a9f('0xd')]({'_w':_0x2b12bb,'_d':!0x1},_0xcae972);}}};_0x5c5bf1||(_0x4efb5c=function(_0x2336bd){_0x25d85a(this,_0x4efb5c,_0x41dc7e,'_h'),_0x3dc2cd(_0x2336bd),_0x4e43e0['call'](this);try{_0x2336bd(_0x3644ad(_0x2c1376,this,0x1),_0x3644ad(_0x4c916d,this,0x1));}catch(_0x234fb8){_0x4c916d[_0x1a9f('0xd')](this,_0x234fb8);}},(_0x4e43e0=function(_0x2336bd){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x4dd019(0x4b)(_0x4efb5c[_0x1a9f('0xb')],{'then':function(_0x2336bd,_0x4e43e0){var _0x4dd019=_0x2cc489(_0x202b4e(this,_0x4efb5c));return _0x4dd019['ok']=_0x1a9f('0x16')!=typeof _0x2336bd||_0x2336bd,_0x4dd019[_0x1a9f('0x36e')]=_0x1a9f('0x16')==typeof _0x4e43e0&&_0x4e43e0,_0x4dd019[_0x1a9f('0x364')]=_0x442918?_0x5c0196['domain']:void 0x0,this['_c']['push'](_0x4dd019),this['_a']&&this['_a']['push'](_0x4dd019),this['_s']&&_0x56bd87(this,!0x1),_0x4dd019[_0x1a9f('0x2b9')];},'catch':function(_0x2336bd){return this['then'](void 0x0,_0x2336bd);}}),_0x52cafd=function(){var _0x2336bd=new _0x4e43e0();this['promise']=_0x2336bd,this[_0x1a9f('0xde')]=_0x3644ad(_0x2c1376,_0x2336bd,0x1),this[_0x1a9f('0x36f')]=_0x3644ad(_0x4c916d,_0x2336bd,0x1);},_0x1fe1a9['f']=_0x2cc489=function(_0x2336bd){return _0x2336bd===_0x4efb5c||_0x2336bd===_0x8a78e6?new _0x52cafd():_0x302d7f(_0x2336bd);}),_0x33afc4(_0x33afc4['G']+_0x33afc4['W']+_0x33afc4['F']*!_0x5c5bf1,{'Promise':_0x4efb5c}),_0x4dd019(0x17)(_0x4efb5c,_0x41dc7e),_0x4dd019(0x63)(_0x41dc7e),_0x8a78e6=_0x4dd019(0x2)[_0x41dc7e],_0x33afc4(_0x33afc4['S']+_0x33afc4['F']*!_0x5c5bf1,_0x41dc7e,{'reject':function(_0x2336bd){var _0x4e43e0=_0x2cc489(this);return(0x0,_0x4e43e0[_0x1a9f('0x36f')])(_0x2336bd),_0x4e43e0[_0x1a9f('0x2b9')];}}),_0x33afc4(_0x33afc4['S']+_0x33afc4['F']*(_0x153212||!_0x5c5bf1),_0x41dc7e,{'resolve':function(_0x2336bd){return _0x189a8f(_0x153212&&this===_0x8a78e6?_0x4efb5c:this,_0x2336bd);}}),_0x33afc4(_0x33afc4['S']+_0x33afc4['F']*!(_0x5c5bf1&&_0x4dd019(0x73)(function(_0x2336bd){_0x4efb5c['all'](_0x2336bd)['catch'](_0x2b12bb);})),_0x41dc7e,{'all':function(_0x2336bd){var _0x52cafd=this,_0x4e43e0=_0x2cc489(_0x52cafd),_0x8a78e6=_0x4e43e0[_0x1a9f('0xde')],_0x153212=_0x4e43e0[_0x1a9f('0x36f')],_0x4dd019=_0x5247c3(function(){var _0x2b12bb=[],_0x302d7f=0x0,_0x2278f8=0x1;_0x2dc82e(_0x2336bd,!0x1,function(_0x2336bd){var _0x4e43e0=_0x302d7f++,_0x4dd019=!0x1;_0x2b12bb[_0x1a9f('0x70')](void 0x0),_0x2278f8++,_0x52cafd[_0x1a9f('0xde')](_0x2336bd)[_0x1a9f('0x362')](function(_0x2336bd){_0x4dd019||(_0x4dd019=!0x0,_0x2b12bb[_0x4e43e0]=_0x2336bd,--_0x2278f8||_0x8a78e6(_0x2b12bb));},_0x153212);}),--_0x2278f8||_0x8a78e6(_0x2b12bb);});return _0x4dd019['e']&&_0x153212(_0x4dd019['v']),_0x4e43e0['promise'];},'race':function(_0x2336bd){var _0x4e43e0=this,_0x4dd019=_0x2cc489(_0x4e43e0),_0x2b12bb=_0x4dd019['reject'],_0x302d7f=_0x5247c3(function(){_0x2dc82e(_0x2336bd,!0x1,function(_0x2336bd){_0x4e43e0['resolve'](_0x2336bd)[_0x1a9f('0x362')](_0x4dd019[_0x1a9f('0xde')],_0x2b12bb);});});return _0x302d7f['e']&&_0x2b12bb(_0x302d7f['v']),_0x4dd019[_0x1a9f('0x2b9')];}});},function(_0x28062a,_0x1aee49){_0x28062a['exports']=function(_0x28062a,_0x1aee49,_0x4ce382){var _0xa743e0=void 0x0===_0x4ce382;switch(_0x1aee49[_0x1a9f('0xf')]){case 0x0:return _0xa743e0?_0x28062a():_0x28062a[_0x1a9f('0xd')](_0x4ce382);case 0x1:return _0xa743e0?_0x28062a(_0x1aee49[0x0]):_0x28062a[_0x1a9f('0xd')](_0x4ce382,_0x1aee49[0x0]);case 0x2:return _0xa743e0?_0x28062a(_0x1aee49[0x0],_0x1aee49[0x1]):_0x28062a[_0x1a9f('0xd')](_0x4ce382,_0x1aee49[0x0],_0x1aee49[0x1]);case 0x3:return _0xa743e0?_0x28062a(_0x1aee49[0x0],_0x1aee49[0x1],_0x1aee49[0x2]):_0x28062a[_0x1a9f('0xd')](_0x4ce382,_0x1aee49[0x0],_0x1aee49[0x1],_0x1aee49[0x2]);case 0x4:return _0xa743e0?_0x28062a(_0x1aee49[0x0],_0x1aee49[0x1],_0x1aee49[0x2],_0x1aee49[0x3]):_0x28062a[_0x1a9f('0xd')](_0x4ce382,_0x1aee49[0x0],_0x1aee49[0x1],_0x1aee49[0x2],_0x1aee49[0x3]);}return _0x28062a[_0x1a9f('0x15')](_0x4ce382,_0x1aee49);};},function(_0x43b9bd,_0x486a31,_0x4f177d){var _0x25fb4b=_0x4f177d(0x4),_0x228629=_0x4f177d(0x6f)[_0x1a9f('0x1d')],_0x4fdecd=_0x25fb4b[_0x1a9f('0x370')]||_0x25fb4b[_0x1a9f('0x371')],_0x1d2b75=_0x25fb4b[_0x1a9f('0x2aa')],_0x2295dd=_0x25fb4b['Promise'],_0x149870=_0x1a9f('0x2aa')==_0x4f177d(0x16)(_0x1d2b75);_0x43b9bd['exports']=function(){function _0x43b9bd(){var _0x43b9bd,_0x486a31;for(_0x149870&&(_0x43b9bd=_0x1d2b75[_0x1a9f('0x364')])&&_0x43b9bd['exit']();_0x4f177d;){_0x486a31=_0x4f177d['fn'],_0x4f177d=_0x4f177d[_0x1a9f('0x79')];try{_0x486a31();}catch(_0x1a1588){throw _0x4f177d?_0x34ff96():_0x95f1de=void 0x0,_0x1a1588;}}_0x95f1de=void 0x0,_0x43b9bd&&_0x43b9bd['enter']();}var _0x4f177d,_0x95f1de,_0x486a31,_0x19d230,_0x75574d,_0x34ff96=_0x149870?function(){_0x1d2b75[_0x1a9f('0x2af')](_0x43b9bd);}:!_0x4fdecd||_0x25fb4b['navigator']&&_0x25fb4b[_0x1a9f('0x372')]['standalone']?_0x2295dd&&_0x2295dd['resolve']?(_0x486a31=_0x2295dd[_0x1a9f('0xde')](void 0x0),function(){_0x486a31[_0x1a9f('0x362')](_0x43b9bd);}):function(){_0x228629[_0x1a9f('0xd')](_0x25fb4b,_0x43b9bd);}:(_0x19d230=!0x0,_0x75574d=document[_0x1a9f('0x373')](''),new _0x4fdecd(_0x43b9bd)[_0x1a9f('0x374')](_0x75574d,{'characterData':!0x0}),function(){_0x75574d[_0x1a9f('0x375')]=_0x19d230=!_0x19d230;});return function(_0x43b9bd){_0x43b9bd={'fn':_0x43b9bd,'next':void 0x0};_0x95f1de&&(_0x95f1de[_0x1a9f('0x79')]=_0x43b9bd),_0x4f177d||(_0x4f177d=_0x43b9bd,_0x34ff96()),_0x95f1de=_0x43b9bd;};};},function(_0x8f354e,_0x13ced4,_0x93bca4){_0x93bca4=_0x93bca4(0x4)['navigator'];_0x8f354e['exports']=_0x93bca4&&_0x93bca4[_0x1a9f('0x5c')]||'';},function(_0x172b04,_0x455191,_0xf8a564){'use strict';var _0x3fcedd=_0xf8a564(0x3),_0x19b4bf=_0xf8a564(0x2),_0x498eee=_0xf8a564(0x4),_0xdaa070=_0xf8a564(0x6e),_0x468d29=_0xf8a564(0x71);_0x3fcedd(_0x3fcedd['P']+_0x3fcedd['R'],_0x1a9f('0x361'),{'finally':function(_0x455191){var _0xf8a564=_0xdaa070(this,_0x19b4bf[_0x1a9f('0x361')]||_0x498eee[_0x1a9f('0x361')]),_0x172b04=_0x1a9f('0x16')==typeof _0x455191;return this['then'](_0x172b04?function(_0x172b04){return _0x468d29(_0xf8a564,_0x455191())[_0x1a9f('0x362')](function(){return _0x172b04;});}:_0x455191,_0x172b04?function(_0x172b04){return _0x468d29(_0xf8a564,_0x455191())['then'](function(){throw _0x172b04;});}:_0x455191);}});},function(_0x4cbf6a,_0x3ccf50,_0x422efa){'use strict';var _0x3018ab=_0x422efa(0x3),_0x43fd7e=_0x422efa(0x56),_0x46f5b5=_0x422efa(0x70);_0x3018ab(_0x3018ab['S'],_0x1a9f('0x361'),{'try':function(_0x4cbf6a){var _0x3ccf50=_0x43fd7e['f'](this),_0x4cbf6a=_0x46f5b5(_0x4cbf6a);return(_0x4cbf6a['e']?_0x3ccf50[_0x1a9f('0x36f')]:_0x3ccf50[_0x1a9f('0xde')])(_0x4cbf6a['v']),_0x3ccf50[_0x1a9f('0x2b9')];}});},function(_0x19d1d5,_0xb78fd6,_0x211c19){_0x211c19(0x33),_0x211c19(0x19),_0x211c19(0x1b),_0x211c19(0x91),_0x211c19(0x95),_0x211c19(0x97),_0x211c19(0x98),_0x19d1d5[_0x1a9f('0x0')]=_0x211c19(0x2)[_0x1a9f('0x376')];},function(_0x2e6ef2,_0x5c7411,_0x238fb8){'use strict';var _0xc4cedf=_0x238fb8(0x7a),_0x173c78=_0x238fb8(0x61);_0x2e6ef2[_0x1a9f('0x0')]=_0x238fb8(0x7b)('Set',function(_0x2e6ef2){return function(){return _0x2e6ef2(this,0x0<arguments[_0x1a9f('0xf')]?arguments[0x0]:void 0x0);};},{'add':function(_0x2e6ef2){return _0xc4cedf[_0x1a9f('0x377')](_0x173c78(this,_0x1a9f('0x376')),_0x2e6ef2=0x0===_0x2e6ef2?0x0:_0x2e6ef2,_0x2e6ef2);}},_0xc4cedf);},function(_0x9ebdf3,_0x25f697,_0xa009ed){var _0x58846f=_0xa009ed(0xf),_0x441f00=_0xa009ed(0x30),_0x4a6c54=_0xa009ed(0x12),_0x3174b4=_0xa009ed(0x2a),_0x2fec1a=_0xa009ed(0x93);_0x9ebdf3[_0x1a9f('0x0')]=function(_0x2127ac,_0x9ebdf3){var _0x13790e=0x1==_0x2127ac,_0x73b050=0x2==_0x2127ac,_0x2201f7=0x3==_0x2127ac,_0x43012c=0x4==_0x2127ac,_0x29666f=0x6==_0x2127ac,_0x2ab677=0x5==_0x2127ac||_0x29666f,_0x32af74=_0x9ebdf3||_0x2fec1a;return function(_0x9ebdf3,_0x25f697,_0xa009ed){for(var _0x2fec1a,_0x3de18c,_0x22794f=_0x4a6c54(_0x9ebdf3),_0x5c4692=_0x441f00(_0x22794f),_0x471b71=_0x58846f(_0x25f697,_0xa009ed,0x3),_0x594039=_0x3174b4(_0x5c4692[_0x1a9f('0xf')]),_0x470ab2=0x0,_0x3fbe04=_0x13790e?_0x32af74(_0x9ebdf3,_0x594039):_0x73b050?_0x32af74(_0x9ebdf3,0x0):void 0x0;_0x470ab2<_0x594039;_0x470ab2++)if((_0x2ab677||_0x470ab2 in _0x5c4692)&&(_0x3de18c=_0x471b71(_0x2fec1a=_0x5c4692[_0x470ab2],_0x470ab2,_0x22794f),_0x2127ac))if(_0x13790e)_0x3fbe04[_0x470ab2]=_0x3de18c;else if(_0x3de18c)switch(_0x2127ac){case 0x3:return!0x0;case 0x5:return _0x2fec1a;case 0x6:return _0x470ab2;case 0x2:_0x3fbe04[_0x1a9f('0x70')](_0x2fec1a);}else if(_0x43012c)return!0x1;return _0x29666f?-0x1:_0x2201f7||_0x43012c?_0x43012c:_0x3fbe04;};};},function(_0x571182,_0x1d594a,_0xad6ba){var _0x4bc138=_0xad6ba(0x94);_0x571182[_0x1a9f('0x0')]=function(_0x571182,_0x1d594a){return new(_0x4bc138(_0x571182))(_0x1d594a);};},function(_0x19aa99,_0xfae150,_0x3709f2){var _0x5dcbd2=_0x3709f2(0x9),_0x454244=_0x3709f2(0x48),_0x27b412=_0x3709f2(0x5)(_0x1a9f('0x2a6'));_0x19aa99[_0x1a9f('0x0')]=function(_0x19aa99){var _0xfae150;return _0x454244(_0x19aa99)&&(_0x1a9f('0x16')!=typeof(_0xfae150=_0x19aa99[_0x1a9f('0x85')])||_0xfae150!==Array&&!_0x454244(_0xfae150[_0x1a9f('0xb')])||(_0xfae150=void 0x0),_0x5dcbd2(_0xfae150)&&null===(_0xfae150=_0xfae150[_0x27b412])&&(_0xfae150=void 0x0)),void 0x0===_0xfae150?Array:_0xfae150;};},function(_0x4524cb,_0x77580,_0x4ed282){var _0x33ee55=_0x4ed282(0x3);_0x33ee55(_0x33ee55['P']+_0x33ee55['R'],_0x1a9f('0x376'),{'toJSON':_0x4ed282(0x7c)(_0x1a9f('0x376'))});},function(_0x4bb945,_0x47763a,_0x9cfe73){var _0x16df1c=_0x9cfe73(0x32);_0x4bb945[_0x1a9f('0x0')]=function(_0x4bb945,_0x47763a){var _0x9cfe73=[];return _0x16df1c(_0x4bb945,!0x1,_0x9cfe73[_0x1a9f('0x70')],_0x9cfe73,_0x47763a),_0x9cfe73;};},function(_0x3d29da,_0x5bf153,_0x50c8bf){_0x50c8bf(0x7d)('Set');},function(_0x3b3153,_0x410fc4,_0x14b408){_0x14b408(0x7e)(_0x1a9f('0x376'));},,function(_0x42b669,_0x4441e2,_0x4ba03d){'use strict';var _0x161552=_0xf6a1c7(_0x4ba03d(0x22)),_0x112c77=_0xf6a1c7(_0x4ba03d(0x59)),_0x7028f6=_0xf6a1c7(_0x4ba03d(0x11));function _0xf6a1c7(_0x4ba03d){return _0x4ba03d&&_0x4ba03d['__esModule']?_0x4ba03d:{'default':_0x4ba03d};}!function(){function _0x4ba03d(){this[_0x1a9f('0x378')]=[],this[_0x1a9f('0x379')]=[],this[_0x1a9f('0x79')]=[],this[_0x1a9f('0x37a')]=[],this[_0x1a9f('0x33a')]=[],this[_0x1a9f('0x37b')]=[],this[_0x1a9f('0x37c')]=[],this['counters']=[],this[_0x1a9f('0x91')]=new THREE[(_0x1a9f('0x32e'))](),this[_0x1a9f('0x37d')]=null,this['matrixWorld']=new THREE[(_0x1a9f('0x330'))]();}var _0x54938b,_0x3c57c7,_0x2bc67b;function _0x2d9a3d(_0x4ba03d,_0xf6a1c7,_0x42b669,_0x4441e2,_0x161552){var _0x2d9a3d;if(_0x4ba03d=_0x4ba03d[_0x1a9f('0x37e')]||_0x4ba03d[_0x1a9f('0x22')]?_0x4ba03d:_0x4ba03d[_0x1a9f('0x37f')],_0x42b669=_0x42b669[_0x1a9f('0x37e')]||_0x42b669[_0x1a9f('0x22')]?_0x42b669:_0x42b669[_0x1a9f('0x37f')],_0x4ba03d=_0xf6a1c7?_0x4ba03d[_0x1a9f('0x37e')]?_0x4ba03d[_0x1a9f('0x37e')](_0xf6a1c7,_0x161552&&_0xf6a1c7+_0x161552):_0x4ba03d[_0x1a9f('0x22')](_0xf6a1c7,_0x161552&&_0xf6a1c7+_0x161552):_0x4ba03d,_0x42b669[_0x1a9f('0x1d')])_0x42b669[_0x1a9f('0x1d')](_0x4ba03d,_0x4441e2);else for(_0x2d9a3d=0x0;_0x2d9a3d<_0x4ba03d[_0x1a9f('0xf')];_0x2d9a3d++)_0x42b669[_0x2d9a3d+_0x4441e2]=_0x4ba03d[_0x2d9a3d];}function _0xf6a1c7(_0x4ba03d){THREE[_0x1a9f('0x1e2')]['call'](this,{'uniforms':(0x0,_0x7028f6[_0x1a9f('0xa')])({},THREE[_0x1a9f('0x380')]['fog'],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE[(_0x1a9f('0x1b7'))](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE[(_0x1a9f('0x1b3'))](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE['Vector2'](0x1,0x1)},'offset':{'value':new THREE['Vector2'](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE[_0x1a9f('0x16d')][_0x1a9f('0x381')],'fragmentShader':THREE[_0x1a9f('0x16d')][_0x1a9f('0x382')]}),this[_0x1a9f('0xc6')]='MeshLineMaterial',(0x0,_0x112c77['default'])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x312')]['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x312')]['value']=_0x4ba03d;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x90')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x90')]['value']=_0x4ba03d;}},'useMap':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['useMap'][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x383')]['value']=_0x4ba03d;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x384')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')]['alphaMap']['value']=_0x4ba03d;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['useAlphaMap'][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x385')][_0x1a9f('0x11')]=_0x4ba03d;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['useFadeOut']['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x33e')][_0x1a9f('0x11')]=_0x4ba03d;}},'color':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1a9f('0x21e')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')]['color'][_0x1a9f('0x11')]=_0x4ba03d;}},'opacity':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1a9f('0x1ff')]['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x1ff')][_0x1a9f('0x11')]=_0x4ba03d;}},'resolution':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x310')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x310')][_0x1a9f('0x11')][_0x1a9f('0x1ba')](_0x4ba03d);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x311')]['value'];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x311')]['value']=_0x4ba03d;}},'near':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x313')]['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')]['near'][_0x1a9f('0x11')]=_0x4ba03d;}},'far':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['far'][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x386')][_0x1a9f('0x11')]=_0x4ba03d;}},'dashArray':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x30d')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x30d')][_0x1a9f('0x11')]=_0x4ba03d,this[_0x1a9f('0x387')]=0x0!==_0x4ba03d?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x30e')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x30e')]['value']=_0x4ba03d;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x30f')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x30f')][_0x1a9f('0x11')]=_0x4ba03d;}},'useDash':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x387')]['value'];},'set':function(_0x4ba03d){this['uniforms'][_0x1a9f('0x387')][_0x1a9f('0x11')]=_0x4ba03d;}},'visibility':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1a9f('0x388')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x388')][_0x1a9f('0x11')]=_0x4ba03d;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1a9f('0x1d1')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x1d1')][_0x1a9f('0x11')]=_0x4ba03d;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['fadeOutFactor'][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x33f')][_0x1a9f('0x11')]=_0x4ba03d;}},'repeat':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x302')][_0x1a9f('0x11')];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x302')][_0x1a9f('0x11')]['copy'](_0x4ba03d);}},'offset':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')]['offset']['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x106')][_0x1a9f('0x11')][_0x1a9f('0x1ba')](_0x4ba03d);}},'useChange':{'enumerable':!0x0,'get':function(){return this[_0x1a9f('0x16a')][_0x1a9f('0x389')]['value'];},'set':function(_0x4ba03d){this[_0x1a9f('0x16a')][_0x1a9f('0x389')][_0x1a9f('0x11')]=_0x4ba03d;}}}),this[_0x1a9f('0x38a')](_0x4ba03d);}_0x4ba03d['prototype'][_0x1a9f('0x38b')]=function(_0x4ba03d){this[_0x1a9f('0x38c')]=_0x4ba03d;},_0x4ba03d[_0x1a9f('0xb')][_0x1a9f('0x31d')]=function(_0x4ba03d,_0xf6a1c7){if(this[_0x1a9f('0x37d')]=_0xf6a1c7,this[_0x1a9f('0x378')]=[],this[_0x1a9f('0x38d')]=[],_0x4ba03d instanceof THREE[_0x1a9f('0x317')])for(var _0x42b669=0x0;_0x42b669<_0x4ba03d[_0x1a9f('0x318')][_0x1a9f('0xf')];_0x42b669++){var _0x4441e2=_0x4ba03d[_0x1a9f('0x318')][_0x42b669],_0xf6a1c7=_0x42b669/_0x4ba03d['vertices'][_0x1a9f('0xf')];this['positions']['push'](_0x4441e2['x'],_0x4441e2['y'],_0x4441e2['z']),this['positions'][_0x1a9f('0x70')](_0x4441e2['x'],_0x4441e2['y'],_0x4441e2['z']),this[_0x1a9f('0x38d')][_0x1a9f('0x70')](_0xf6a1c7),this[_0x1a9f('0x38d')][_0x1a9f('0x70')](_0xf6a1c7);}if(THREE[_0x1a9f('0x32e')],_0x4ba03d instanceof Float32Array||_0x4ba03d instanceof Array)for(_0x42b669=0x0;_0x42b669<_0x4ba03d['length'];_0x42b669+=0x3)_0xf6a1c7=_0x42b669/_0x4ba03d[_0x1a9f('0xf')],this[_0x1a9f('0x378')][_0x1a9f('0x70')](_0x4ba03d[_0x42b669],_0x4ba03d[_0x42b669+0x1],_0x4ba03d[_0x42b669+0x2]),this[_0x1a9f('0x378')]['push'](_0x4ba03d[_0x42b669],_0x4ba03d[_0x42b669+0x1],_0x4ba03d[_0x42b669+0x2]),this[_0x1a9f('0x38d')][_0x1a9f('0x70')](_0xf6a1c7),this[_0x1a9f('0x38d')][_0x1a9f('0x70')](_0xf6a1c7);this['process']();},_0x4ba03d[_0x1a9f('0xb')][_0x1a9f('0x38e')]=(_0x54938b=new THREE[(_0x1a9f('0x330'))](),_0x3c57c7=new THREE[(_0x1a9f('0x38f'))](),_0x2bc67b=new THREE[(_0x1a9f('0x390'))](),function(_0x4ba03d,_0xf6a1c7){var _0x42b669=_0x4ba03d[_0x1a9f('0x391')],_0x4441e2=_0x42b669*_0x42b669,_0x42b669=this['geometry'];if(null===_0x42b669['boundingSphere']&&_0x42b669[_0x1a9f('0x392')](),_0x2bc67b[_0x1a9f('0x1ba')](_0x42b669[_0x1a9f('0x393')]),_0x2bc67b[_0x1a9f('0x394')](this[_0x1a9f('0x38c')]),!0x1!==_0x4ba03d[_0x1a9f('0x395')]['intersectSphere'](_0x2bc67b)){_0x54938b[_0x1a9f('0x396')](this[_0x1a9f('0x38c')]),_0x3c57c7[_0x1a9f('0x1ba')](_0x4ba03d[_0x1a9f('0x395')])[_0x1a9f('0x394')](_0x54938b);var _0x161552=new THREE['Vector3'](),_0x2d9a3d=new THREE[(_0x1a9f('0x1b5'))](),_0x112c77=new THREE[(_0x1a9f('0x1b5'))](),_0x7028f6=new THREE['Vector3'](),_0x1c650d=this instanceof THREE[_0x1a9f('0x397')]?0x2:0x1;if(_0x42b669 instanceof THREE[_0x1a9f('0x32e')]){var _0x55382a=_0x42b669[_0x1a9f('0x308')],_0xd7bfd5=_0x42b669[_0x1a9f('0x16b')];if(null!==_0x55382a)for(var _0x402bdc=_0x55382a[_0x1a9f('0xe0')],_0x5a2b51=_0xd7bfd5[_0x1a9f('0x42')][_0x1a9f('0xe0')],_0x4d29e3=0x0,_0x1f9449=_0x402bdc[_0x1a9f('0xf')]-0x1;_0x4d29e3<_0x1f9449;_0x4d29e3+=_0x1c650d){var _0x29d082=_0x402bdc[_0x4d29e3],_0x26d745=_0x402bdc[_0x4d29e3+0x1];_0x161552['fromArray'](_0x5a2b51,0x3*_0x29d082),_0x2d9a3d[_0x1a9f('0x398')](_0x5a2b51,0x3*_0x26d745),_0x4441e2<_0x3c57c7['distanceSqToSegment'](_0x161552,_0x2d9a3d,_0x7028f6,_0x112c77)||(_0x7028f6[_0x1a9f('0x394')](this['matrixWorld']),(_0x3b0801=_0x4ba03d[_0x1a9f('0x395')][_0x1a9f('0x399')][_0x1a9f('0x2cf')](_0x7028f6))<_0x4ba03d['near']||_0x3b0801>_0x4ba03d[_0x1a9f('0x386')]||_0xf6a1c7[_0x1a9f('0x70')]({'distance':_0x3b0801,'point':_0x112c77[_0x1a9f('0x1af')]()[_0x1a9f('0x394')](this[_0x1a9f('0x38c')]),'index':_0x4d29e3,'face':null,'faceIndex':null,'object':this}));}else for(_0x4d29e3=0x0,_0x1f9449=(_0x5a2b51=_0xd7bfd5[_0x1a9f('0x42')]['array'])['length']/0x3-0x1;_0x4d29e3<_0x1f9449;_0x4d29e3+=_0x1c650d)_0x161552[_0x1a9f('0x398')](_0x5a2b51,0x3*_0x4d29e3),_0x2d9a3d[_0x1a9f('0x398')](_0x5a2b51,0x3*_0x4d29e3+0x3),_0x4441e2<_0x3c57c7[_0x1a9f('0x39a')](_0x161552,_0x2d9a3d,_0x7028f6,_0x112c77)||(_0x7028f6[_0x1a9f('0x394')](this[_0x1a9f('0x38c')]),(_0x3b0801=_0x4ba03d[_0x1a9f('0x395')][_0x1a9f('0x399')]['distanceTo'](_0x7028f6))<_0x4ba03d[_0x1a9f('0x313')]||_0x3b0801>_0x4ba03d['far']||_0xf6a1c7['push']({'distance':_0x3b0801,'point':_0x112c77['clone']()['applyMatrix4'](this[_0x1a9f('0x38c')]),'index':_0x4d29e3,'face':null,'faceIndex':null,'object':this}));}else if(_0x42b669 instanceof THREE[_0x1a9f('0x317')])for(var _0x3b0801,_0x366f3f=_0x42b669[_0x1a9f('0x318')],_0xbe519f=_0x366f3f[_0x1a9f('0xf')],_0x4d29e3=0x0;_0x4d29e3<_0xbe519f-0x1;_0x4d29e3+=_0x1c650d)_0x4441e2<_0x3c57c7['distanceSqToSegment'](_0x366f3f[_0x4d29e3],_0x366f3f[_0x4d29e3+0x1],_0x7028f6,_0x112c77)||(_0x7028f6[_0x1a9f('0x394')](this['matrixWorld']),(_0x3b0801=_0x4ba03d['ray'][_0x1a9f('0x399')][_0x1a9f('0x2cf')](_0x7028f6))<_0x4ba03d[_0x1a9f('0x313')]||_0x3b0801>_0x4ba03d[_0x1a9f('0x386')]||_0xf6a1c7[_0x1a9f('0x70')]({'distance':_0x3b0801,'point':_0x112c77['clone']()[_0x1a9f('0x394')](this['matrixWorld']),'index':_0x4d29e3,'face':null,'faceIndex':null,'object':this}));}}),_0x4ba03d[_0x1a9f('0xb')][_0x1a9f('0x39b')]=function(_0x4ba03d,_0xf6a1c7){_0x4ba03d*=0x6,_0xf6a1c7*=0x6;return this['positions'][_0x4ba03d]===this[_0x1a9f('0x378')][_0xf6a1c7]&&this[_0x1a9f('0x378')][0x1+_0x4ba03d]===this[_0x1a9f('0x378')][0x1+_0xf6a1c7]&&this[_0x1a9f('0x378')][0x2+_0x4ba03d]===this[_0x1a9f('0x378')][0x2+_0xf6a1c7];},_0x4ba03d[_0x1a9f('0xb')]['copyV3']=function(_0x4ba03d){_0x4ba03d*=0x6;return[this[_0x1a9f('0x378')][_0x4ba03d],this['positions'][0x1+_0x4ba03d],this[_0x1a9f('0x378')][0x2+_0x4ba03d]];},_0x4ba03d[_0x1a9f('0xb')][_0x1a9f('0x2aa')]=function(){var _0x4ba03d=this[_0x1a9f('0x378')][_0x1a9f('0xf')]/0x6;this[_0x1a9f('0x379')]=[],this[_0x1a9f('0x79')]=[],this[_0x1a9f('0x37a')]=[],this[_0x1a9f('0x33a')]=[],this[_0x1a9f('0x37b')]=[],this[_0x1a9f('0x37c')]=[];for(var _0xf6a1c7,_0x42b669=0x0;_0x42b669<_0x4ba03d;_0x42b669++)this[_0x1a9f('0x37a')][_0x1a9f('0x70')](0x1),this[_0x1a9f('0x37a')]['push'](-0x1);for(_0x42b669=0x0;_0x42b669<_0x4ba03d;_0x42b669++)_0xf6a1c7=this[_0x1a9f('0x37d')]?this[_0x1a9f('0x37d')](_0x42b669/(_0x4ba03d-0x1)):0x1,this[_0x1a9f('0x33a')]['push'](_0xf6a1c7),this[_0x1a9f('0x33a')]['push'](_0xf6a1c7);for(var _0x4441e2,_0x42b669=0x0;_0x42b669<_0x4ba03d;_0x42b669++)this[_0x1a9f('0x37c')][_0x1a9f('0x70')](_0x42b669/(_0x4ba03d-0x1),0x0),this[_0x1a9f('0x37c')][_0x1a9f('0x70')](_0x42b669/(_0x4ba03d-0x1),0x1);for(_0x4441e2=this[_0x1a9f('0x39b')](0x0,_0x4ba03d-0x1)?this[_0x1a9f('0x39c')](_0x4ba03d-0x2):this[_0x1a9f('0x39c')](0x0),this[_0x1a9f('0x379')]['push'](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),this[_0x1a9f('0x379')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),_0x42b669=0x0;_0x42b669<_0x4ba03d-0x1;_0x42b669++)_0x4441e2=this[_0x1a9f('0x39c')](_0x42b669),this[_0x1a9f('0x379')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),this[_0x1a9f('0x379')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]);for(_0x42b669=0x1;_0x42b669<_0x4ba03d;_0x42b669++)_0x4441e2=this[_0x1a9f('0x39c')](_0x42b669),this[_0x1a9f('0x79')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),this[_0x1a9f('0x79')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]);for(_0x4441e2=this[_0x1a9f('0x39b')](_0x4ba03d-0x1,0x0)?this['copyV3'](0x1):this[_0x1a9f('0x39c')](_0x4ba03d-0x1),this[_0x1a9f('0x79')][_0x1a9f('0x70')](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),this['next']['push'](_0x4441e2[0x0],_0x4441e2[0x1],_0x4441e2[0x2]),_0x42b669=0x0;_0x42b669<_0x4ba03d-0x1;_0x42b669++){var _0x161552=0x2*_0x42b669;this[_0x1a9f('0x37b')][_0x1a9f('0x70')](_0x161552,0x1+_0x161552,0x2+_0x161552),this[_0x1a9f('0x37b')][_0x1a9f('0x70')](0x2+_0x161552,0x1+_0x161552,0x3+_0x161552);}this[_0x1a9f('0x16b')]?(this[_0x1a9f('0x16b')][_0x1a9f('0x42')]['copyArray'](new Float32Array(this['positions'])),this[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x16b')][_0x1a9f('0x379')]['copyArray'](new Float32Array(this[_0x1a9f('0x379')])),this['attributes'][_0x1a9f('0x379')][_0x1a9f('0x101')]=!0x0,this['attributes'][_0x1a9f('0x79')][_0x1a9f('0x39d')](new Float32Array(this['next'])),this[_0x1a9f('0x16b')]['next'][_0x1a9f('0x101')]=!0x0,this['attributes'][_0x1a9f('0x37a')][_0x1a9f('0x39d')](new Float32Array(this[_0x1a9f('0x37a')])),this[_0x1a9f('0x16b')][_0x1a9f('0x37a')][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x16b')][_0x1a9f('0x33a')][_0x1a9f('0x39d')](new Float32Array(this['width'])),this[_0x1a9f('0x16b')][_0x1a9f('0x33a')][_0x1a9f('0x101')]=!0x0,this['attributes']['uv'][_0x1a9f('0x39d')](new Float32Array(this[_0x1a9f('0x37c')])),this[_0x1a9f('0x16b')]['uv']['needsUpdate']=!0x0,this[_0x1a9f('0x16b')][_0x1a9f('0x308')][_0x1a9f('0x39d')](new Uint16Array(this[_0x1a9f('0x37b')])),this[_0x1a9f('0x16b')][_0x1a9f('0x308')][_0x1a9f('0x101')]=!0x0):this['attributes']={'position':new THREE[(_0x1a9f('0x10c'))](new Float32Array(this['positions']),0x3),'previous':new THREE[(_0x1a9f('0x10c'))](new Float32Array(this[_0x1a9f('0x379')]),0x3),'next':new THREE['BufferAttribute'](new Float32Array(this['next']),0x3),'side':new THREE[(_0x1a9f('0x10c'))](new Float32Array(this[_0x1a9f('0x37a')]),0x1),'width':new THREE[(_0x1a9f('0x10c'))](new Float32Array(this['width']),0x1),'uv':new THREE['BufferAttribute'](new Float32Array(this[_0x1a9f('0x37c')]),0x2),'index':new THREE[(_0x1a9f('0x10c'))](new Uint16Array(this[_0x1a9f('0x37b')]),0x1),'counters':new THREE['BufferAttribute'](new Float32Array(this[_0x1a9f('0x38d')]),0x1)},this[_0x1a9f('0x91')][_0x1a9f('0x1f0')](_0x1a9f('0x42'),this[_0x1a9f('0x16b')][_0x1a9f('0x42')]),this[_0x1a9f('0x91')]['addAttribute'](_0x1a9f('0x379'),this[_0x1a9f('0x16b')][_0x1a9f('0x379')]),this['geometry'][_0x1a9f('0x1f0')](_0x1a9f('0x79'),this['attributes'][_0x1a9f('0x79')]),this[_0x1a9f('0x91')][_0x1a9f('0x1f0')](_0x1a9f('0x37a'),this[_0x1a9f('0x16b')][_0x1a9f('0x37a')]),this[_0x1a9f('0x91')][_0x1a9f('0x1f0')](_0x1a9f('0x33a'),this[_0x1a9f('0x16b')][_0x1a9f('0x33a')]),this[_0x1a9f('0x91')]['addAttribute']('uv',this[_0x1a9f('0x16b')]['uv']),this[_0x1a9f('0x91')]['addAttribute']('counters',this[_0x1a9f('0x16b')][_0x1a9f('0x38d')]),this[_0x1a9f('0x91')][_0x1a9f('0x39e')](this['attributes'][_0x1a9f('0x308')]);},_0x4ba03d[_0x1a9f('0xb')][_0x1a9f('0x39f')]=function(_0x4ba03d){var _0xf6a1c7=this[_0x1a9f('0x16b')][_0x1a9f('0x42')]['array'],_0x42b669=this[_0x1a9f('0x16b')]['previous'][_0x1a9f('0xe0')],_0x4441e2=this[_0x1a9f('0x16b')]['next']['array'],_0x161552=_0xf6a1c7['length'];_0x2d9a3d(_0xf6a1c7,0x0,_0x42b669,0x0,_0x161552),_0x2d9a3d(_0xf6a1c7,0x6,_0xf6a1c7,0x0,_0x161552-0x6),_0xf6a1c7[_0x161552-0x6]=_0x4ba03d['x'],_0xf6a1c7[_0x161552-0x5]=_0x4ba03d['y'],_0xf6a1c7[_0x161552-0x4]=_0x4ba03d['z'],_0xf6a1c7[_0x161552-0x3]=_0x4ba03d['x'],_0xf6a1c7[_0x161552-0x2]=_0x4ba03d['y'],_0xf6a1c7[_0x161552-0x1]=_0x4ba03d['z'],_0x2d9a3d(_0xf6a1c7,0x6,_0x4441e2,0x0,_0x161552-0x6),_0x4441e2[_0x161552-0x6]=_0x4ba03d['x'],_0x4441e2[_0x161552-0x5]=_0x4ba03d['y'],_0x4441e2[_0x161552-0x4]=_0x4ba03d['z'],_0x4441e2[_0x161552-0x3]=_0x4ba03d['x'],_0x4441e2[_0x161552-0x2]=_0x4ba03d['y'],_0x4441e2[_0x161552-0x1]=_0x4ba03d['z'],this[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x16b')]['previous'][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x16b')][_0x1a9f('0x79')]['needsUpdate']=!0x0;},THREE[_0x1a9f('0x16d')][_0x1a9f('0x381')]=['',THREE[_0x1a9f('0x16d')]['common'],THREE[_0x1a9f('0x16d')]['logdepthbuf_pars_vertex'],THREE[_0x1a9f('0x16d')]['fog_pars_vertex'],'',_0x1a9f('0x3a0'),_0x1a9f('0x3a1'),_0x1a9f('0x3a2'),_0x1a9f('0x3a3'),_0x1a9f('0x3a4'),'attribute\x20float\x20counters;','','uniform\x20vec2\x20resolution;',_0x1a9f('0x3a5'),_0x1a9f('0x3a6'),'uniform\x20float\x20opacity;','uniform\x20float\x20near;',_0x1a9f('0x3a7'),'uniform\x20float\x20sizeAttenuation;','',_0x1a9f('0x3a8'),_0x1a9f('0x11d'),_0x1a9f('0x3a9'),_0x1a9f('0x3aa'),'',_0x1a9f('0x3ab'),'',_0x1a9f('0x3ac'),'\x20\x20\x20\x20res.x\x20*=\x20aspect;',_0x1a9f('0x3ad'),_0x1a9f('0x3ae'),'','}','',_0x1a9f('0x176'),'','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;',_0x1a9f('0x3af'),'',_0x1a9f('0x3b0'),'\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);',_0x1a9f('0x3b1'),'',_0x1a9f('0x3b2'),_0x1a9f('0x3b3'),_0x1a9f('0x3b4'),_0x1a9f('0x3b5'),'',_0x1a9f('0x3b6'),_0x1a9f('0x3b7'),_0x1a9f('0x3b8'),'','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;',_0x1a9f('0x3b9'),'','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{',_0x1a9f('0x3ba'),'\x20\x20\x20\x20}','',_0x1a9f('0x3bb'),'\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);',_0x1a9f('0x3bc'),'\x20\x20\x20\x20else\x20{',_0x1a9f('0x3bd'),'\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);',_0x1a9f('0x3be'),'',_0x1a9f('0x3bf'),'\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);',_0x1a9f('0x3c0'),'',_0x1a9f('0x13e'),'',_0x1a9f('0x3c1'),_0x1a9f('0x3c2'),_0x1a9f('0x3c3'),'\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','',_0x1a9f('0x3c4'),_0x1a9f('0x3c5'),'',_0x1a9f('0x3c6'),'',THREE[_0x1a9f('0x16d')][_0x1a9f('0x19e')],THREE['ShaderChunk'][_0x1a9f('0x19f')]&&'\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);',THREE[_0x1a9f('0x16d')]['fog_vertex'],'}'][_0x1a9f('0x111')]('\x0d\x0a'),THREE[_0x1a9f('0x16d')][_0x1a9f('0x382')]=['',THREE['ShaderChunk']['fog_pars_fragment'],THREE[_0x1a9f('0x16d')][_0x1a9f('0x1a1')],'','uniform\x20sampler2D\x20map;','uniform\x20sampler2D\x20alphaMap;','uniform\x20float\x20useMap;',_0x1a9f('0x3c7'),'uniform\x20float\x20useFadeOut;',_0x1a9f('0x3c8'),_0x1a9f('0x3c9'),_0x1a9f('0x3ca'),'uniform\x20float\x20dashRatio;',_0x1a9f('0x3cb'),_0x1a9f('0x3cc'),_0x1a9f('0x3cd'),_0x1a9f('0x3ce'),_0x1a9f('0x3cf'),_0x1a9f('0x3d0'),'',_0x1a9f('0x3a8'),_0x1a9f('0x11d'),_0x1a9f('0x3aa'),_0x1a9f('0x3a9'),'',_0x1a9f('0x176'),'',THREE[_0x1a9f('0x16d')][_0x1a9f('0x1a7')],'',_0x1a9f('0x3d1'),_0x1a9f('0x3d2'),_0x1a9f('0x3d3'),_0x1a9f('0x3d4'),_0x1a9f('0x3d5'),_0x1a9f('0x3d6'),_0x1a9f('0x3d7'),'\x20\x20\x20\x20}',_0x1a9f('0x3d8'),_0x1a9f('0x3d9'),'\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','',THREE[_0x1a9f('0x16d')][_0x1a9f('0x3da')],'}'][_0x1a9f('0x111')]('\x0d\x0a'),((_0xf6a1c7[_0x1a9f('0xb')]=(0x0,_0x161552[_0x1a9f('0xa')])(THREE[_0x1a9f('0x1e2')][_0x1a9f('0xb')]))[_0x1a9f('0x85')]=_0xf6a1c7)[_0x1a9f('0xb')]['isMeshLineMaterial']=!0x0,_0xf6a1c7[_0x1a9f('0xb')][_0x1a9f('0x1ba')]=function(_0x4ba03d){return THREE[_0x1a9f('0x1e2')][_0x1a9f('0xb')][_0x1a9f('0x1ba')][_0x1a9f('0xd')](this,_0x4ba03d),this[_0x1a9f('0x312')]=_0x4ba03d[_0x1a9f('0x312')],this[_0x1a9f('0x90')]=_0x4ba03d['map'],this[_0x1a9f('0x383')]=_0x4ba03d[_0x1a9f('0x383')],this['alphaMap']=_0x4ba03d[_0x1a9f('0x384')],this[_0x1a9f('0x385')]=_0x4ba03d[_0x1a9f('0x385')],this[_0x1a9f('0x33e')]=_0x4ba03d[_0x1a9f('0x33e')],this[_0x1a9f('0x33f')]=_0x4ba03d[_0x1a9f('0x33f')],this[_0x1a9f('0x21e')][_0x1a9f('0x1ba')](_0x4ba03d[_0x1a9f('0x21e')]),this['opacity']=_0x4ba03d[_0x1a9f('0x1ff')],this['resolution'][_0x1a9f('0x1ba')](_0x4ba03d['resolution']),this['sizeAttenuation']=_0x4ba03d[_0x1a9f('0x311')],this['near']=_0x4ba03d[_0x1a9f('0x313')],this[_0x1a9f('0x386')]=_0x4ba03d[_0x1a9f('0x386')],this[_0x1a9f('0x30d')]['copy'](_0x4ba03d['dashArray']),this[_0x1a9f('0x30e')][_0x1a9f('0x1ba')](_0x4ba03d['dashOffset']),this[_0x1a9f('0x30f')][_0x1a9f('0x1ba')](_0x4ba03d[_0x1a9f('0x30f')]),this[_0x1a9f('0x387')]=_0x4ba03d[_0x1a9f('0x387')],this['visibility']=_0x4ba03d[_0x1a9f('0x388')],this[_0x1a9f('0x1d1')]=_0x4ba03d[_0x1a9f('0x1d1')],this[_0x1a9f('0x302')]['copy'](_0x4ba03d['repeat']),this[_0x1a9f('0x106')]['copy'](_0x4ba03d[_0x1a9f('0x106')]),this;},(_0x4441e2=_0x42b669[_0x1a9f('0x0')]?_0x42b669[_0x1a9f('0x0')]={'MeshLine':_0x4ba03d,'MeshLineMaterial':_0xf6a1c7}:_0x4441e2)[_0x1a9f('0x31a')]=_0x4ba03d,_0x4441e2[_0x1a9f('0x30b')]=_0xf6a1c7;}[_0x1a9f('0xd')](void 0x0);},function(_0x4004e6,_0x1a7a3a,_0x3b5208){'use strict';Object[_0x1a9f('0x3')](_0x1a7a3a,_0x1a9f('0x5'),{'value':!0x0}),_0x1a7a3a[_0x1a9f('0xa')]={'createCircleGradient':function(_0x4004e6){var _0x1a7a3a=document[_0x1a9f('0x77')](_0x1a9f('0x3db')),_0x3b5208=(_0x1a7a3a[_0x1a9f('0x33a')]=0x100,_0x1a7a3a[_0x1a9f('0x33b')]=0x100,_0x1a7a3a[_0x1a9f('0x3dc')]('2d')),_0x4004e6=_0x3b5208['createRadialGradient'](0x80,0x80,0x80*_0x4004e6[0x0],0x80,0x80,0x80*_0x4004e6[0x1]);return _0x4004e6[_0x1a9f('0x3dd')](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0x4004e6['addColorStop'](0x1,_0x1a9f('0x3de')),_0x3b5208[_0x1a9f('0x3df')]=_0x4004e6,_0x3b5208['fillRect'](0x0,0x0,0x100,0x100),_0x1a7a3a;}};},,function(_0x188be8,_0x14ba85,_0x3cebaa){'use strict';Object[_0x1a9f('0x3')](_0x14ba85,_0x1a9f('0x5'),{'value':!0x0});var _0x30276f=_0x14f48d(_0x3cebaa(0x0));function _0x14f48d(_0x188be8){return _0x188be8&&_0x188be8[_0x1a9f('0x5')]?_0x188be8:{'default':_0x188be8};}function _0xad0cb3(_0x188be8){var _0x14ba85=_0x188be8[_0x1a9f('0x2c6')],_0x3cebaa=_0x188be8['isShowWater'],_0x14f48d=_0x188be8[_0x1a9f('0x3e0')],_0x188be8=_0x188be8['replaceColor'];(0x0,_0x30276f[_0x1a9f('0xa')])(this,_0xad0cb3),this[_0x1a9f('0x2c6')]=_0x14ba85,this[_0x1a9f('0x3e1')]=_0x3cebaa,this[_0x1a9f('0x3e0')]=_0x14f48d||new THREE[(_0x1a9f('0x1b7'))](0xaadaff),this[_0x1a9f('0x3e2')]=_0x188be8||new THREE[(_0x1a9f('0x1b7'))](0x135d63);}(0x0,_0x14f48d(_0x3cebaa(0x1))['default'])(_0xad0cb3,[{'key':_0x1a9f('0x3e3'),'value':function(_0x188be8){this[_0x1a9f('0x2c6')]=_0x188be8;}},{'key':_0x1a9f('0x2e4'),'value':function(){this[_0x1a9f('0x2c6')]&&this[_0x1a9f('0x3e1')]&&this[_0x1a9f('0x3e4')](this[_0x1a9f('0x2c6')][_0x1a9f('0x3e5')][_0x1a9f('0x343')],function(_0x188be8){_0x188be8['waterTime']+=0.005;});}},{'key':_0x1a9f('0x3e4'),'value':function(_0x188be8,_0x14ba85){_0x188be8[_0x1a9f('0x92')](function(_0x188be8){_0x188be8[_0x1a9f('0x48')]&&_0x14ba85(_0x188be8[_0x1a9f('0x48')]);});}}]),_0x14ba85[_0x1a9f('0xa')]=_0xad0cb3;},function(_0x1822a5,_0x4ab8a2,_0x4c2850){'use strict';Object[_0x1a9f('0x3')](_0x4ab8a2,_0x1a9f('0x5'),{'value':!0x0});var _0x18d273=_0x375337(_0x4c2850(0x0));function _0x375337(_0x1822a5){return _0x1822a5&&_0x1822a5[_0x1a9f('0x5')]?_0x1822a5:{'default':_0x1822a5};}function _0x445040(_0x1822a5){var _0x4ab8a2=_0x1822a5[_0x1a9f('0xcc')],_0x4c2850=_0x1822a5[_0x1a9f('0x30a')],_0x4c2850=void 0x0===_0x4c2850?'#40ffff':_0x4c2850,_0x375337=_0x1822a5[_0x1a9f('0x3e6')],_0x3c3f36=_0x1822a5['radius'],_0x1822a5=_0x1822a5[_0x1a9f('0x341')],_0x1822a5=void 0x0===_0x1822a5?0x1:_0x1822a5;(0x0,_0x18d273[_0x1a9f('0xa')])(this,_0x445040),this[_0x1a9f('0x343')]=new THREE['Object3D'](),this['colorStr']=_0x4c2850,this['isSpread']=_0x375337,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e7')]=null,this['radius']=_0x3c3f36||0xc8,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x100')]=0x0,this['speed']=_0x1822a5,this['createMaterial'](_0x4c2850,_0x4ab8a2);}(0x0,_0x375337(_0x4c2850(0x1))[_0x1a9f('0xa')])(_0x445040,[{'key':_0x1a9f('0x309'),'value':function(_0x1822a5,_0x4ab8a2){var _0x4c2850=this;this['material']=new THREE[(_0x1a9f('0x3e9'))]({'transparent':!0x0}),this[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x1822a5),this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x1822a5){_0x1822a5[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x1822a5[_0x1a9f('0x16a')]['spread']={'value':_0x4c2850[_0x1a9f('0x3e6')]?-0x1:0x1},_0x1822a5[_0x1a9f('0x16a')][_0x1a9f('0x3ec')]={'value':_0x4ab8a2},_0x1822a5[_0x1a9f('0x56')]=_0x1822a5[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1822a5[_0x1a9f('0x56')]=_0x1822a5[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_vertex>',_0x1a9f('0x3ed')),_0x1822a5[_0x1a9f('0x57')]=_0x1822a5[_0x1a9f('0x57')][_0x1a9f('0x239')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1822a5['fragmentShader']=_0x1822a5[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x3ef')),_0x4c2850[_0x1a9f('0x3e8')]=_0x1822a5;};}},{'key':_0x1a9f('0x7'),'value':function(){var _0x1822a5=new THREE[(_0x1a9f('0x3f0'))](this[_0x1a9f('0x21c')],this['radius']),_0x1822a5=new THREE['Mesh'](_0x1822a5,this['material']);return _0x1822a5[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],this[_0x1a9f('0x343')]['add'](_0x1822a5),_0x1822a5;}},{'key':'render','value':function(){this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]+=0.01*this[_0x1a9f('0x341')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['iTime'][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}}]),_0x4ab8a2[_0x1a9f('0xa')]=_0x445040;},function(_0x814d43,_0x4a4023,_0x2d971c){'use strict';Object['defineProperty'](_0x4a4023,_0x1a9f('0x5'),{'value':!0x0});var _0x4b6915=_0x108c63(_0x2d971c(0x6)),_0x52eebf=_0x108c63(_0x2d971c(0x0));function _0x108c63(_0x814d43){return _0x814d43&&_0x814d43[_0x1a9f('0x5')]?_0x814d43:{'default':_0x814d43};}function _0x2b7e71(_0x814d43){var _0x4a4023=_0x814d43[_0x1a9f('0x314')],_0x2d971c=_0x814d43[_0x1a9f('0x2c7')],_0x108c63=_0x814d43[_0x1a9f('0x30a')],_0x108c63=void 0x0===_0x108c63?_0x1a9f('0x3f1'):_0x108c63,_0x276f7e=_0x814d43[_0x1a9f('0xcc')],_0xc98ff2=_0x814d43[_0x1a9f('0x3f2')],_0x814d43=_0x814d43['speed'],_0x814d43=void 0x0===_0x814d43?0.005:_0x814d43;(0x0,_0x52eebf[_0x1a9f('0xa')])(this,_0x2b7e71),this['camera']=_0x4a4023,this[_0x1a9f('0x2c7')]=_0x2d971c,this['object3d']=new THREE[(_0x1a9f('0x346'))](),this['lookAtPos']=new THREE[(_0x1a9f('0x1b5'))](),this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x100')]=0x0,this[_0x1a9f('0x3f3')]=0x0,this[_0x1a9f('0x341')]=_0x814d43,this[_0x1a9f('0x3f4')]=!0x1,this[_0x1a9f('0x3f5')]=!0x1,this[_0x1a9f('0x3f6')]=[],this['createMaterial']({'colorStr':_0x108c63,'texture':_0x276f7e,'alphaTex':_0xc98ff2}),this[_0x1a9f('0x3f7')]=0x0;}(0x0,_0x108c63(_0x2d971c(0x1))['default'])(_0x2b7e71,[{'key':'createMaterial','value':function(_0x814d43){var _0x4a4023=_0x814d43['colorStr'],_0x2d971c=_0x814d43['texture'],_0x108c63=_0x814d43[_0x1a9f('0x3f2')],_0x3799d5=(_0x2d971c[_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x2d971c[_0x1a9f('0x349')]=THREE['RepeatWrapping'],this['material']=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE[_0x1a9f('0x3f9')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1a9f('0x3fa')]}),_0x4a4023&&(this['material'][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x4a4023)),this);this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x814d43){_0x814d43[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x1},_0x814d43[_0x1a9f('0x16a')][_0x1a9f('0x3fb')]={'value':_0x3799d5[_0x1a9f('0x3f7')]},_0x814d43[_0x1a9f('0x16a')]['numTex']={'value':_0x2d971c},_0x814d43[_0x1a9f('0x16a')][_0x1a9f('0x3f2')]={'value':_0x108c63},_0x814d43[_0x1a9f('0x56')]=_0x814d43[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x3fc'),_0x1a9f('0x3fd')),_0x814d43[_0x1a9f('0x56')]=_0x814d43[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv2_vertex>',_0x1a9f('0x3fe')),_0x814d43['vertexShader']=_0x814d43[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x3ff'),_0x1a9f('0x400')),_0x814d43['fragmentShader']=_0x814d43['fragmentShader'][_0x1a9f('0x239')]('uniform\x20float\x20opacity;',_0x1a9f('0x401')),_0x814d43[_0x1a9f('0x57')]=_0x814d43[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x402')),_0x3799d5[_0x1a9f('0x3e8')]=_0x814d43;};}},{'key':_0x1a9f('0x7'),'value':function(_0x814d43){for(var _0x4a4023=_0x814d43['width'],_0x4a4023=void 0x0===_0x4a4023?0xa:_0x4a4023,_0x2d971c=_0x814d43[_0x1a9f('0x33b')],_0x2d971c=void 0x0===_0x2d971c?0x50:_0x2d971c,_0x814d43=_0x814d43[_0x1a9f('0x3f7')],_0x814d43=(this[_0x1a9f('0x3f7')]=void 0x0===_0x814d43?0x64:_0x814d43,new THREE[(_0x1a9f('0x3f0'))](_0x4a4023,_0x2d971c)),_0x108c63=_0x814d43[_0x1a9f('0x403')]('position')[_0x1a9f('0x100')],_0x3ab4e6=[],_0x497d2c=THREE[_0x1a9f('0x18')][_0x1a9f('0x404')](0.08,0.15),_0x4b6915=0x0;_0x4b6915<_0x108c63;_0x4b6915++)_0x3ab4e6[_0x1a9f('0x70')](_0x497d2c);_0x814d43[_0x1a9f('0x1f0')](_0x1a9f('0x341'),new THREE[(_0x1a9f('0x405'))](_0x3ab4e6,0x1));_0x4a4023=new THREE[(_0x1a9f('0x332'))](_0x814d43,this[_0x1a9f('0x48')]);return _0x4a4023['renderOrder']=0x47,_0x4a4023[_0x1a9f('0x406')]=!0x1,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0x4a4023),this['list']['push'](_0x4a4023),_0x4a4023;}},{'key':_0x1a9f('0x407'),'value':function(_0x814d43){for(var _0x4a4023=_0x814d43[_0x1a9f('0x3f7')],_0x2d971c=void 0x0===_0x4a4023?0x64:_0x4a4023,_0x4a4023=_0x814d43[_0x1a9f('0x312')],_0x108c63=void 0x0===_0x4a4023?0x1:_0x4a4023,_0x4a4023=_0x814d43[_0x1a9f('0x408')],_0x1fc9d2=void 0x0===_0x4a4023?0x8:_0x4a4023,_0x4a4023=_0x814d43[_0x1a9f('0x409')],_0x14d8c5=void 0x0===_0x4a4023?0x32:_0x4a4023,_0x4b6915=0x0;_0x4b6915<_0x14d8c5;_0x4b6915++){var _0x52eebf=this[_0x1a9f('0x7')]({'width':_0x108c63,'height':_0x1fc9d2,'extentRadius':_0x2d971c});_0x52eebf[_0x1a9f('0x406')]=!0x1,_0x52eebf[_0x1a9f('0x42')][_0x1a9f('0x1d')](-Math[_0x1a9f('0x23')]()*_0x2d971c+_0x2d971c/0x2,-Math[_0x1a9f('0x23')]()*_0x2d971c,-Math[_0x1a9f('0x23')]()*_0x2d971c+_0x2d971c/0x2);}}},{'key':'setUpdateListen','value':function(){this[_0x1a9f('0x3f4')]=!0x0;var _0x4a4023=this;this[_0x1a9f('0x40a')](),this[_0x1a9f('0x2c7')][_0x1a9f('0x2b5')](_0x1a9f('0x2e2'),function(_0x814d43){_0x4a4023[_0x1a9f('0x3f5')]=!0x0;}),this[_0x1a9f('0x2c7')][_0x1a9f('0x2b5')]('end',function(_0x814d43){_0x4a4023[_0x1a9f('0x3f5')]=!0x1;});}},{'key':'setLookAtCamera','value':function(){if(this['camera']){var _0x814d43=!0x0,_0x4a4023=!0x1,_0x2d971c=void 0x0;try{for(var _0x108c63,_0x162c0c=(0x0,_0x4b6915[_0x1a9f('0xa')])(this[_0x1a9f('0x3f6')]);!(_0x814d43=(_0x108c63=_0x162c0c[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x814d43=!0x0){var _0x56a495=_0x108c63['value'];this['lookAtPos'][_0x1a9f('0x1d')](this[_0x1a9f('0x314')][_0x1a9f('0x42')]['x'],_0x56a495[_0x1a9f('0x42')]['y'],this[_0x1a9f('0x314')]['position']['z']),_0x56a495[_0x1a9f('0x40b')](this['lookAtPos']);}}catch(_0x2854d4){_0x4a4023=!0x0,_0x2d971c=_0x2854d4;}finally{try{!_0x814d43&&_0x162c0c[_0x1a9f('0xd0')]&&_0x162c0c[_0x1a9f('0xd0')]();}finally{if(_0x4a4023)throw _0x2d971c;}}}}},{'key':_0x1a9f('0x340'),'value':function(){this[_0x1a9f('0x3f4')]&&(this[_0x1a9f('0x3f5')]&&this[_0x1a9f('0x40a')](),this[_0x1a9f('0x100')]+=this[_0x1a9f('0x341')],this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]));}},{'key':'visible','set':function(_0x814d43){this[_0x1a9f('0x343')]['visible']=_0x814d43;},'get':function(){return this[_0x1a9f('0x343')]['visible'];}}]),_0x4a4023[_0x1a9f('0xa')]=_0x2b7e71;},function(_0x1b0292,_0x2c2a9d,_0x4b53f1){'use strict';Object[_0x1a9f('0x3')](_0x2c2a9d,_0x1a9f('0x5'),{'value':!0x0});var _0x28a951=_0x2e6011(_0x4b53f1(0x0)),_0x5c5c24=_0x2e6011(_0x4b53f1(0x1)),_0x5704de=_0x2e6011(_0x4b53f1(0x57));function _0x2e6011(_0x1b0292){return _0x1b0292&&_0x1b0292[_0x1a9f('0x5')]?_0x1b0292:{'default':_0x1b0292};}function _0x14524e(_0x1b0292){_0x1b0292=_0x1b0292[_0x1a9f('0x1d5')],_0x1b0292=void 0x0===_0x1b0292?0xa:_0x1b0292;(0x0,_0x28a951[_0x1a9f('0xa')])(this,_0x14524e),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x343')]=new THREE['Object3D'](),this['scale']=_0x1b0292,this[_0x1a9f('0x40d')]=null,this[_0x1a9f('0x40e')]=null,this['fireParticle']=null,this[_0x1a9f('0x40f')]=null,this[_0x1a9f('0x410')]=null,this[_0x1a9f('0x411')]=!0x0;}(0x0,_0x5c5c24[_0x1a9f('0xa')])(_0x14524e,[{'key':'create','value':function(_0x1b0292){var _0x2c2a9d=_0x1b0292[_0x1a9f('0x412')],_0x4b53f1=_0x1b0292[_0x1a9f('0x413')],_0x28a951=_0x1b0292[_0x1a9f('0x414')],_0x5c5c24=_0x1b0292[_0x1a9f('0x415')],_0x5c5c24=void 0x0===_0x5c5c24?{'x':0x1,'y':0x1}:_0x5c5c24,_0x1b0292=_0x1b0292['depthTest'],_0x28a951=_0x28a951?0x8:0x2;this[_0x1a9f('0x410')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x40e')]=new _0x5704de[(_0x1a9f('0xa'))][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x4b53f1},'blending':THREE[_0x1a9f('0x416')],'depthWrite':!0x1,'depthTest':_0x1b0292,'maxParticleCount':0x14*_0x28a951*(0.5*(_0x5c5c24['x']+_0x5c5c24['y']))}),this[_0x1a9f('0x417')]=new _0x5704de[(_0x1a9f('0xa'))]['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](_0x5c5c24['x'],0x1,_0x5c5c24['y'])},'acceleration':{'value':new THREE[(_0x1a9f('0x1b5'))](0.2,0x0,0.2),'spread':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x2,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xad926c),new THREE[(_0x1a9f('0x1b7'))](0x605f5c),new THREE[(_0x1a9f('0x1b7'))](0xa9a9a9)]},'size':{'value':[0x5*this[_0x1a9f('0x1d5')],0xc*this[_0x1a9f('0x1d5')],0xa*this[_0x1a9f('0x1d5')]]},'particleCount':0x14*_0x28a951*(0.5*(_0x5c5c24['x']+_0x5c5c24['y']))}),this[_0x1a9f('0x40e')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x418')][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0x419')]=new _0x5704de[(_0x1a9f('0xa'))][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x2c2a9d},'blending':THREE[_0x1a9f('0x3fa')],'depthWrite':!0x1,'depthTest':_0x1b0292,'maxParticleCount':0xf*_0x28a951*(0.5*(_0x5c5c24['x']+_0x5c5c24['y']))}),this[_0x1a9f('0x41a')]=new _0x5704de[(_0x1a9f('0xa'))][(_0x1a9f('0x1f2'))]({'maxAge':{'value':0x1},'position':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](_0x5c5c24['x'],0x1,_0x5c5c24['y'])},'acceleration':{'value':new THREE[(_0x1a9f('0x1b5'))](0.1,0.5,0.1),'spread':new THREE[(_0x1a9f('0x1b5'))](0x0,0.1,0x0)},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x1,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x1a9f('0x1b7'))](0xffa000),new THREE['Color'](0xff7c00),new THREE['Color'](0xff4100)]},'size':{'value':[0x3*this[_0x1a9f('0x1d5')],0x7*this[_0x1a9f('0x1d5')],0x5*this[_0x1a9f('0x1d5')]]},'wiggle':{'value':[0.5]},'particleCount':0xf*_0x28a951*(0.5*(_0x5c5c24['x']+_0x5c5c24['y']))}),this[_0x1a9f('0x419')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x418')][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0x40e')][_0x1a9f('0x1f1')](this[_0x1a9f('0x417')]),this['fireParticle']['addEmitter'](this[_0x1a9f('0x41a')]),this['fireSmokeParticle'][_0x1a9f('0x1e4')][_0x1a9f('0x1d5')][_0x1a9f('0x1d')](this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')]),this['fireParticle'][_0x1a9f('0x1e4')]['scale']['set'](this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')]),this[_0x1a9f('0x410')][_0x1a9f('0x1c0')](this['fireSmokeParticle'][_0x1a9f('0x1e4')]),this[_0x1a9f('0x410')][_0x1a9f('0x1c0')](this['fireParticle'][_0x1a9f('0x1e4')]),this[_0x1a9f('0x410')][_0x1a9f('0x323')]=0x5a,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this['centerGroup']),this['enabled']=!0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x1b0292){this[_0x1a9f('0x40c')]&&(this['fireSmokeParticle']&&this['fireSmokeParticle'][_0x1a9f('0x218')](_0x1b0292),this[_0x1a9f('0x419')]&&this[_0x1a9f('0x419')][_0x1a9f('0x218')](_0x1b0292));}},{'key':'outfire','value':function(_0x1b0292){(0x64<_0x1b0292||_0x1b0292<0x0)&&(_0x1b0292=0x64);_0x1b0292=Math[_0x1a9f('0x41b')](0x64*(0x1-_0x1b0292/0x64))/0x64;this[_0x1a9f('0x41a')][_0x1a9f('0x22b')]=_0x1b0292,this[_0x1a9f('0x417')]['activeMultiplier']=_0x1b0292;}},{'key':_0x1a9f('0x342'),'set':function(_0x1b0292){this['_visible']=_0x1b0292,this['centerGroup'][_0x1a9f('0x342')]=_0x1b0292;}}]),_0x2c2a9d['default']=_0x14524e;},function(_0x14da41,_0x7a1429,_0x4729cb){'use strict';Object[_0x1a9f('0x3')](_0x7a1429,_0x1a9f('0x5'),{'value':!0x0});var _0x354c18=_0x1f4b78(_0x4729cb(0x0)),_0x85de8=_0x1f4b78(_0x4729cb(0x1)),_0x5323a5=_0x1f4b78(_0x4729cb(0x57));function _0x1f4b78(_0x14da41){return _0x14da41&&_0x14da41[_0x1a9f('0x5')]?_0x14da41:{'default':_0x14da41};}function _0xe7bf8(_0x14da41){_0x14da41=_0x14da41[_0x1a9f('0x1d5')],_0x14da41=void 0x0===_0x14da41?0x1:_0x14da41;(0x0,_0x354c18['default'])(this,_0xe7bf8),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x343')]=new THREE['Object3D'](),this['scale']=_0x14da41,this['shaderParticleEngine']=null,this[_0x1a9f('0x41c')]=null,this['emitter']=null,this[_0x1a9f('0x410')]=null,this[_0x1a9f('0x411')]=!0x0;}(0x0,_0x85de8['default'])(_0xe7bf8,[{'key':_0x1a9f('0x7'),'value':function(_0x14da41){var _0x7a1429=_0x14da41[_0x1a9f('0xcc')],_0x4729cb=_0x14da41[_0x1a9f('0x415')],_0x4729cb=void 0x0===_0x4729cb?0x32:_0x4729cb,_0x354c18=_0x14da41[_0x1a9f('0x41d')],_0x354c18=void 0x0===_0x354c18?0x12c:_0x354c18,_0x85de8=_0x14da41[_0x1a9f('0x41e')],_0x85de8=void 0x0===_0x85de8?0x0:_0x85de8,_0x1f4b78=_0x14da41[_0x1a9f('0x2cc')],_0x1f4b78=void 0x0===_0x1f4b78?0x0:_0x1f4b78,_0xe7bf8=_0x14da41[_0x1a9f('0x41f')],_0xe7bf8=void 0x0!==_0xe7bf8&&_0xe7bf8,_0x14da41=_0x14da41['isOpenScreenEffect']?0x4:0x1;this[_0x1a9f('0x410')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x41c')]=new _0x5323a5[(_0x1a9f('0xa'))][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x7a1429}}),this[_0x1a9f('0x40f')]=new _0x5323a5[(_0x1a9f('0xa'))]['Emitter']({'maxAge':{'value':0x1},'acceleration':{'value':new THREE['Vector3'](0x0,-0x3,0x14),'spread':new THREE[(_0x1a9f('0x1b5'))](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,_0x4729cb,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x1a9f('0x1b7'))](0x5ba3f1)]},'size':{'value':0x3*this[_0x1a9f('0x1d5')]},'particleCount':_0x354c18*_0x14da41}),this[_0x1a9f('0x41c')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x418')]['value']=new THREE['Color'](),this[_0x1a9f('0x41c')][_0x1a9f('0x1f1')](this[_0x1a9f('0x40f')]),this[_0x1a9f('0x41c')][_0x1a9f('0x1e4')][_0x1a9f('0x1d5')]['set'](this['scale'],this['scale'],this[_0x1a9f('0x1d5')]),this[_0x1a9f('0x410')][_0x1a9f('0x1c0')](this[_0x1a9f('0x41c')][_0x1a9f('0x1e4')]),this['centerGroup'][_0x1a9f('0x323')]=0xb,_0xe7bf8&&this[_0x1a9f('0x410')][_0x1a9f('0x1c0')](new THREE['AxesHelper'](0x2710)),(_0x85de8<0x0||0x168<_0x85de8)&&(_0x85de8=0x0),(_0x1f4b78<0x0||0x3c<_0x1f4b78)&&(_0x1f4b78=0x0),this['centerGroup'][_0x1a9f('0x420')](THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x85de8)),this[_0x1a9f('0x410')][_0x1a9f('0x421')](THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x1f4b78)),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this[_0x1a9f('0x410')]),this[_0x1a9f('0x40c')]=!0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x14da41){this['enabled']&&this[_0x1a9f('0x41c')]&&this['particleGroup'][_0x1a9f('0x218')](_0x14da41);}},{'key':_0x1a9f('0x422'),'value':function(_0x14da41){(0x64<_0x14da41||_0x14da41<0x0)&&(_0x14da41=0x64);_0x14da41=Math[_0x1a9f('0x41b')](0x64*(0x1-_0x14da41/0x64))/0x64;this['emitter']['activeMultiplier']=_0x14da41;}},{'key':_0x1a9f('0x342'),'set':function(_0x14da41){this['_visible']=_0x14da41,this[_0x1a9f('0x410')]['visible']=_0x14da41;}}]),_0x7a1429['default']=_0xe7bf8;},function(_0x62dc34,_0x251826,_0xd9f7df){_0x62dc34[_0x1a9f('0x0')]={'default':_0xd9f7df(0xa3),'__esModule':!0x0};},function(_0x3cb471,_0x413b86,_0x63b6e2){_0x63b6e2(0xa4),_0x3cb471[_0x1a9f('0x0')]=_0x63b6e2(0x2)[_0x1a9f('0x18')][_0x1a9f('0x423')];},function(_0x344b32,_0x11b985,_0x3925e3){var _0x3925e3=_0x3925e3(0x3),_0x143e60=Math[_0x1a9f('0x1b8')];_0x3925e3(_0x3925e3['S'],_0x1a9f('0x18'),{'hypot':function(_0x344b32,_0x11b985){for(var _0x3925e3,_0x1d4042,_0x4012b2=0x0,_0x408a4a=0x0,_0x4bee62=arguments[_0x1a9f('0xf')],_0x9d23d5=0x0;_0x408a4a<_0x4bee62;)_0x9d23d5<(_0x3925e3=_0x143e60(arguments[_0x408a4a++]))?(_0x4012b2=_0x4012b2*(_0x1d4042=_0x9d23d5/_0x3925e3)*_0x1d4042+0x1,_0x9d23d5=_0x3925e3):_0x4012b2+=0x0<_0x3925e3?(_0x1d4042=_0x3925e3/_0x9d23d5)*_0x1d4042:_0x3925e3;return _0x9d23d5===0x1/0x0?0x1/0x0:_0x9d23d5*Math[_0x1a9f('0x1bc')](_0x4012b2);}});},function(_0x324083,_0x119238,_0xe1f6fb){'use strict';Object[_0x1a9f('0x3')](_0x119238,_0x1a9f('0x5'),{'value':!0x0});var _0x104fd8=_0x206009(_0xe1f6fb(0x0)),_0xcbc005=_0x206009(_0xe1f6fb(0x1)),_0x54113d=_0xe1f6fb(0x83);function _0x206009(_0x324083){return _0x324083&&_0x324083[_0x1a9f('0x5')]?_0x324083:{'default':_0x324083};}function _0x565639(_0x324083){var _0x119238=_0x324083[_0x1a9f('0x424')],_0x119238=void 0x0===_0x119238?0x14:_0x119238,_0xe1f6fb=_0x324083[_0x1a9f('0x33b')],_0xe1f6fb=void 0x0===_0xe1f6fb?0x2:_0xe1f6fb,_0xcbc005=_0x324083[_0x1a9f('0x425')],_0xcbc005=void 0x0===_0xcbc005?0x32:_0xcbc005,_0x324083=_0x324083[_0x1a9f('0x30a')],_0x324083=void 0x0===_0x324083?_0x1a9f('0x426'):_0x324083;(0x0,_0x104fd8[_0x1a9f('0xa')])(this,_0x565639),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x343')][_0x1a9f('0x427')]=_0x1a9f('0x428'),this[_0x1a9f('0x33b')]=_0xe1f6fb,this['pointSize']=_0xcbc005,this[_0x1a9f('0x30a')]=_0x324083,this[_0x1a9f('0x429')]=null,this[_0x1a9f('0x42a')]=_0x119238,this['material']=null,this['shader']=null,this[_0x1a9f('0x42b')]=[],this[_0x1a9f('0x42c')]=0x0,this[_0x1a9f('0x42d')]=null,this[_0x1a9f('0x100')]=0x0;}(0x0,_0xcbc005[_0x1a9f('0xa')])(_0x565639,[{'key':'create','value':function(_0x324083){for(var _0x119238,_0xe1f6fb=_0x324083[_0x1a9f('0x429')],_0x324083=_0x324083['texture'],_0xcbc005=(this['routePoints']=(0x0,_0x54113d[_0x1a9f('0x305')])(_0xe1f6fb,this[_0x1a9f('0x42a')]),this[_0x1a9f('0x42b')][0x0]),_0x104fd8=new Float32Array(0x4*this[_0x1a9f('0x42b')][_0x1a9f('0xf')]),_0x206009=0x0,_0x565639=this[_0x1a9f('0x42b')]['length'];_0x206009<_0x565639;_0x206009++)_0x104fd8[0x0+(_0x119238=0x4*_0x206009)]=this['routePoints'][_0x206009]['x']-_0xcbc005['x'],_0x104fd8[0x1+_0x119238]=this[_0x1a9f('0x42b')][_0x206009]['y']-_0xcbc005['y'],_0x104fd8[0x2+_0x119238]=this[_0x1a9f('0x42b')][_0x206009]['z']-_0xcbc005['z'],_0x104fd8[0x3+_0x119238]=_0x206009;var _0xe1f6fb=new THREE['BufferGeometry'](),_0xae5d36=new THREE[(_0x1a9f('0x42e'))](_0x104fd8,0x4),_0x78eb54=(_0xe1f6fb[_0x1a9f('0x1f0')](_0x1a9f('0x42'),new THREE[(_0x1a9f('0x42f'))](_0xae5d36,0x3,0x0)),_0xe1f6fb[_0x1a9f('0x1f0')](_0x1a9f('0x430'),new THREE[(_0x1a9f('0x42f'))](_0xae5d36,0x1,0x3)),this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x431'))]({'color':0xffffff,'map':_0x324083,'blending':THREE[_0x1a9f('0x3fa')],'sizeAttenuation':!0x0,'size':this[_0x1a9f('0x425')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this[_0x1a9f('0x30a')]&&(this[_0x1a9f('0x48')][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](this[_0x1a9f('0x30a')])),this);return this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x324083){_0x324083[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x324083[_0x1a9f('0x56')]=_0x324083[_0x1a9f('0x56')]['replace'](_0x1a9f('0x114'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x324083['vertexShader']=_0x324083['vertexShader'][_0x1a9f('0x239')]('gl_PointSize\x20=\x20size;',_0x1a9f('0x432')),_0x324083[_0x1a9f('0x57')]=_0x324083[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x434')),_0x324083['fragmentShader']=_0x324083['fragmentShader']['replace'](_0x1a9f('0x435'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x78eb54[_0x1a9f('0x3e8')]=_0x324083;},this[_0x1a9f('0x429')]=new THREE['Points'](_0xe1f6fb,this[_0x1a9f('0x48')]),this[_0x1a9f('0x429')]['renderOrder']=0x47,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this[_0x1a9f('0x429')]),this[_0x1a9f('0x429')];}},{'key':_0x1a9f('0x340'),'value':function(_0x324083){this['points']&&this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]+=_0x324083,this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}},{'key':'_addTestBox','value':function(){var _0x324083=new THREE['BoxBufferGeometry'](0xa,0xa,0xa),_0x119238=new THREE['MeshLambertMaterial']({'color':0xffc033});return _0x119238[_0x1a9f('0x436')][_0x1a9f('0x1ba')](new THREE[(_0x1a9f('0x1b7'))](0xfff000)),_0x119238[_0x1a9f('0x436')][_0x1a9f('0x437')](0.1,0x1,0.5),new THREE[(_0x1a9f('0x332'))](_0x324083,_0x119238);}},{'key':_0x1a9f('0x438'),'value':function(_0x119238,_0xe1f6fb,_0xcbc005){var _0x104fd8=this;this[_0x1a9f('0x42d')]=setInterval(function(){if(_0x104fd8['currIndex']>=_0x104fd8[_0x1a9f('0x42b')][_0x1a9f('0xf')])return _0x104fd8[_0x1a9f('0x42c')]=0x0,void clearInterval(_0x104fd8['animateHandle']);var _0x324083=_0x104fd8[_0x1a9f('0x42b')][_0x104fd8[_0x1a9f('0x42c')]];_0x324083['y']=_0xcbc005,_0x104fd8[_0x1a9f('0x439')](_0xe1f6fb,_0x324083,_0x119238),_0x104fd8[_0x1a9f('0x42c')]++;},_0x119238);}},{'key':'_moveObjToTarget','value':function(_0x324083,_0x119238,_0xe1f6fb,_0xcbc005){var _0x104fd8=new THREE[(_0x1a9f('0x1b5'))]();_0x104fd8[_0x1a9f('0x1ba')](_0x119238),new TWEEN[(_0x1a9f('0x2e0'))](_0x324083[_0x1a9f('0x42')])['to'](_0x104fd8,_0xe1f6fb)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x43a')]['None'])[_0x1a9f('0x43b')](function(){_0xcbc005&&_0xcbc005();})[_0x1a9f('0x2e2')]();}},{'key':_0x1a9f('0x342'),'set':function(_0x324083){this['points']&&(this[_0x1a9f('0x429')][_0x1a9f('0x342')]=_0x324083);}},{'key':_0x1a9f('0x43c'),'set':function(_0x324083){this['points']['material']['sizeAttenuation']=!_0x324083,this[_0x1a9f('0x429')]['material'][_0x1a9f('0x101')]=!0x0;}}]),_0x119238[_0x1a9f('0xa')]=_0x565639;},function(_0x3d3b41,_0x1cf1b6,_0x1f8753){'use strict';Object[_0x1a9f('0x3')](_0x1cf1b6,_0x1a9f('0x5'),{'value':!0x0});var _0x1708fe=_0x2c2750(_0x1f8753(0x0));function _0x2c2750(_0x3d3b41){return _0x3d3b41&&_0x3d3b41[_0x1a9f('0x5')]?_0x3d3b41:{'default':_0x3d3b41};}function _0x2c4162(_0x3d3b41){(0x0,_0x1708fe[_0x1a9f('0xa')])(this,_0x2c4162),this[_0x1a9f('0x43d')]=function(_0x3d3b41,_0x1cf1b6){var _0x1f8753=new THREE['Scene'](),_0x3d3b41=this[_0x1a9f('0x43e')](_0x3d3b41),_0x1708fe=THREE[_0x1a9f('0x43f')][_0x1a9f('0x440')],_0x1708fe=new THREE[(_0x1a9f('0x1e2'))]({'fragmentShader':_0x1708fe['fragmentShader'],'vertexShader':_0x1708fe[_0x1a9f('0x56')],'uniforms':_0x1708fe['uniforms'],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE[_0x1a9f('0x441')],'fog':!0x1}),_0x1708fe=(_0x1708fe[_0x1a9f('0x16a')]['tCube']['value']=_0x3d3b41,new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x442'))](0x64,0x64,0x64),_0x1708fe));return _0x1708fe['position'][_0x1a9f('0x1ba')](_0x1cf1b6),_0x1708fe[_0x1a9f('0x1d5')][_0x1a9f('0x1d')](0xf4240,0xf4240,0xf4240),_0x1f8753[_0x1a9f('0x1c0')](_0x1708fe),this[_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x1f8753),_0x3d3b41;},this[_0x1a9f('0x443')]=_0x3d3b41;}(0x0,_0x2c2750(_0x1f8753(0x1))[_0x1a9f('0xa')])(_0x2c4162,[{'key':_0x1a9f('0x43e'),'value':function(_0x3d3b41){_0x3d3b41=new THREE[(_0x1a9f('0xd4'))]()[_0x1a9f('0xca')](_0x3d3b41);return _0x3d3b41['format']=THREE[_0x1a9f('0x444')],_0x3d3b41['mapping']=THREE[_0x1a9f('0x445')],_0x3d3b41[_0x1a9f('0x446')]=THREE['sRGBEncoding'],_0x3d3b41;}}]),_0x1cf1b6[_0x1a9f('0xa')]=_0x2c4162;},function(_0xddf785,_0x1d0446,_0x272f6e){'use strict';Object[_0x1a9f('0x3')](_0x1d0446,_0x1a9f('0x5'),{'value':!0x0});var _0x252b13=_0x6fc1a6(_0x272f6e(0x49)),_0x864701=_0x6fc1a6(_0x272f6e(0x2d)),_0x3f17af=_0x6fc1a6(_0x272f6e(0x0)),_0x2653b4=_0x6fc1a6(_0x272f6e(0x1)),_0x485424=_0x6fc1a6(_0x272f6e(0x34)),_0x1fcf08=_0x6fc1a6(_0x272f6e(0x35)),_0x54d349=_0x6fc1a6(_0x272f6e(0x3b)),_0x54a8bc=_0x272f6e(0x44),_0x144377=_0x6fc1a6(_0x272f6e(0x45));function _0x6fc1a6(_0xddf785){return _0xddf785&&_0xddf785[_0x1a9f('0x5')]?_0xddf785:{'default':_0xddf785};}function _0x318471(_0xddf785){var _0xddf785=_0xddf785[_0x1a9f('0x447')],_0x1d0446=((0x0,_0x3f17af[_0x1a9f('0xa')])(this,_0x318471),(0x0,_0x485424[_0x1a9f('0xa')])(this,(_0x318471['__proto__']||(0x0,_0x864701[_0x1a9f('0xa')])(_0x318471))['call'](this)));return _0x1d0446[_0x1a9f('0x2c6')]=_0xddf785,_0x1d0446[_0x1a9f('0x448')]=null,_0x1d0446['gradientShader']=null,_0x1d0446[_0x1a9f('0x449')]=null,_0x1d0446;}_0x272f6e=_0x54a8bc[_0x1a9f('0xc2')],(0x0,_0x1fcf08[_0x1a9f('0xa')])(_0x318471,_0x272f6e),(0x0,_0x2653b4[_0x1a9f('0xa')])(_0x318471,[{'key':_0x1a9f('0x44a'),'value':function(_0xddf785,_0x1d0446){var _0x272f6e=this;_0x144377[_0x1a9f('0xa')][_0x1a9f('0xd3')](_0xddf785)[_0x1a9f('0x362')](function(_0xddf785){_0x272f6e[_0x1a9f('0x448')]=_0xddf785,_0x272f6e[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')}),_0x1d0446&&_0x1d0446();});}},{'key':_0x1a9f('0x44d'),'value':function(_0xddf785,_0x2653b4,_0x1d0446){var _0x272f6e=this,_0x864701=new THREE[(_0x1a9f('0x44e'))]([]);_0x864701[_0x1a9f('0x44f')]=THREE[_0x1a9f('0x444')],new THREE['ImageLoader']()[_0x1a9f('0xca')](_0xddf785,function(_0x3f17af){function _0xddf785(_0xddf785,_0x1d0446){var _0x272f6e=_0x2653b4||0x400,_0x864701=document[_0x1a9f('0x77')](_0x1a9f('0x3db'));return _0x864701[_0x1a9f('0x33a')]=_0x272f6e,_0x864701[_0x1a9f('0x33b')]=_0x272f6e,_0x864701[_0x1a9f('0x3dc')]('2d')[_0x1a9f('0x450')](_0x3f17af,-_0xddf785*_0x272f6e,-_0x1d0446*_0x272f6e),_0x864701;}_0x864701[_0x1a9f('0x451')][0x0]=_0xddf785(0x2,0x1),_0x864701[_0x1a9f('0x451')][0x1]=_0xddf785(0x0,0x1),_0x864701[_0x1a9f('0x451')][0x2]=_0xddf785(0x1,0x0),_0x864701[_0x1a9f('0x451')][0x3]=_0xddf785(0x1,0x2),_0x864701['images'][0x4]=_0xddf785(0x1,0x1),_0x864701[_0x1a9f('0x451')][0x5]=_0xddf785(0x3,0x1),_0x864701[_0x1a9f('0x101')]=!0x0,_0x272f6e[_0x1a9f('0x448')]=_0x864701,_0x272f6e[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')}),_0x1d0446&&_0x1d0446();});}},{'key':_0x1a9f('0x452'),'value':function(_0xddf785){var _0x1d0446=_0xddf785[_0x1a9f('0xe7')],_0x272f6e=_0xddf785[_0x1a9f('0x359')],_0x864701=_0xddf785[_0x1a9f('0x453')],_0x864701=void 0x0!==_0x864701&&_0x864701,_0xddf785=_0xddf785[_0x1a9f('0x454')],_0xddf785=void 0x0===_0xddf785?0x1:_0xddf785,_0x3f17af=JSON['parse']((0x0,_0x252b13[_0x1a9f('0xa')])(THREE[_0x1a9f('0x43f')][_0x1a9f('0x440')])),_0x864701=(_0x3f17af[_0x1a9f('0x16a')][_0x1a9f('0x455')]={'value':null},_0x3f17af['uniforms'][_0x1a9f('0x456')]={'value':0x0},_0x3f17af[_0x1a9f('0x16a')][_0x1a9f('0x453')]={'value':_0x864701},_0x3f17af['uniforms'][_0x1a9f('0x454')]={'value':_0xddf785},_0x3f17af['vertexShader']=_0x3f17af[_0x1a9f('0x56')]['replace']('varying\x20vec3\x20vWorldDirection;',_0x1a9f('0x457')),_0x3f17af[_0x1a9f('0x56')]=_0x3f17af[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x458'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3f17af[_0x1a9f('0x57')]=_0x3f17af[_0x1a9f('0x57')][_0x1a9f('0x239')]('uniform\x20samplerCube\x20tCube;',_0x1a9f('0x459')),_0x3f17af[_0x1a9f('0x57')]=_0x3f17af['fragmentShader'][_0x1a9f('0x239')]('vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);',_0x1a9f('0x45a')),new THREE[(_0x1a9f('0x1e2'))]({'fragmentShader':_0x3f17af['fragmentShader'],'vertexShader':_0x3f17af[_0x1a9f('0x56')],'uniforms':_0x3f17af[_0x1a9f('0x16a')],'side':THREE[_0x1a9f('0x441')],'fog':!0x1}));_0x864701[_0x1a9f('0x16a')]['tCube']?_0x864701[_0x1a9f('0x16a')][_0x1a9f('0x45b')][_0x1a9f('0x11')]=this[_0x1a9f('0x448')]:_0x864701[_0x1a9f('0x45c')]=this[_0x1a9f('0x448')],this[_0x1a9f('0x449')]=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x442'))](0x64,0x64,0x64),_0x864701),this[_0x1a9f('0x449')][_0x1a9f('0x42')]['y']=_0x272f6e,this['skyBox'][_0x1a9f('0x1d5')][_0x1a9f('0x1d')](_0x1d0446,_0x1d0446,_0x1d0446),this[_0x1a9f('0x2c6')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this[_0x1a9f('0x449')]);}},{'key':'createGradientSky','value':function(_0xddf785){var _0x1d0446=_0xddf785['radius'],_0x1d0446=void 0x0===_0x1d0446?0x2710:_0x1d0446,_0x272f6e=_0xddf785['topColorStr'],_0x272f6e=void 0x0===_0x272f6e?_0x1a9f('0x45d'):_0x272f6e,_0x864701=_0xddf785['bottomColorStr'],_0x864701=void 0x0===_0x864701?'#ffffff':_0x864701,_0x3f17af=_0xddf785[_0x1a9f('0x106')],_0x2653b4=void 0x0===_0x3f17af?0x64:_0x3f17af,_0x3f17af=_0xddf785['exponent'],_0x485424=void 0x0===_0x3f17af?0.6:_0x3f17af,_0x252b13=_0xddf785['texture'],_0x3f17af=new THREE[(_0x1a9f('0x442'))](_0x1d0446,_0x1d0446,_0x1d0446),_0x1fcf08=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x272f6e),_0x54d349=new THREE['Color']()[_0x1a9f('0x30c')](_0x864701),_0x54a8bc=this,_0xddf785=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE[_0x1a9f('0x441')],'fog':!0x1});return _0xddf785['onBeforeCompile']=function(_0xddf785){_0xddf785[_0x1a9f('0x16a')][_0x1a9f('0x45e')]={'value':_0x1fcf08},_0xddf785[_0x1a9f('0x16a')][_0x1a9f('0x45f')]={'value':_0x54d349},_0xddf785['uniforms'][_0x1a9f('0x460')]={'value':_0x252b13},_0xddf785['uniforms'][_0x1a9f('0x106')]={'value':_0x2653b4},_0xddf785[_0x1a9f('0x16a')][_0x1a9f('0x461')]={'value':_0x485424},_0xddf785['vertexShader']=_0xddf785['vertexShader'][_0x1a9f('0x239')]('#include\x20<uv_pars_vertex>',_0x1a9f('0x462')),_0xddf785[_0x1a9f('0x56')]=_0xddf785[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x464')),_0xddf785[_0x1a9f('0x57')]=_0xddf785['fragmentShader'][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x465')),_0xddf785['fragmentShader']=_0xddf785[_0x1a9f('0x57')]['replace'](_0x1a9f('0x3ee'),_0x1a9f('0x466')),_0x54a8bc[_0x1a9f('0x467')]=_0xddf785;},this[_0x1a9f('0x449')]=new THREE[(_0x1a9f('0x332'))](_0x3f17af,_0xddf785),this[_0x1a9f('0x2c6')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this['skyBox']),this[_0x1a9f('0x449')];}},{'key':'createGradientCubeSky','value':function(_0xddf785){var _0x1d0446=_0xddf785[_0x1a9f('0xe7')],_0x1d0446=void 0x0===_0x1d0446?0x2710:_0x1d0446,_0x272f6e=_0xddf785[_0x1a9f('0x468')],_0x864701=_0xddf785[_0x1a9f('0x469')],_0x864701=void 0x0===_0x864701?_0x1a9f('0x426'):_0x864701,_0x3f17af=_0xddf785[_0x1a9f('0x359')],_0x3f17af=void 0x0===_0x3f17af?0x0:_0x3f17af,_0xddf785=_0xddf785[_0x1a9f('0x461')],_0xddf785=void 0x0===_0xddf785?0.8:_0xddf785,_0x864701=new THREE['Color']()['setStyle'](_0x864701),_0x2653b4=(_0x272f6e&&(_0x485424=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x272f6e)),JSON[_0x1a9f('0x2be')]((0x0,_0x252b13[_0x1a9f('0xa')])(THREE['ShaderLib']['cube']))),_0x485424=(_0x272f6e&&(_0x2653b4[_0x1a9f('0x16a')]['topColor']={'value':_0x485424}),_0x2653b4[_0x1a9f('0x16a')][_0x1a9f('0x45f')]={'value':_0x864701},_0x2653b4[_0x1a9f('0x16a')][_0x1a9f('0x106')]={'value':_0x3f17af},_0x2653b4[_0x1a9f('0x16a')][_0x1a9f('0x461')]={'value':_0xddf785},_0x2653b4[_0x1a9f('0x56')]=_0x2653b4[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x46a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2653b4[_0x1a9f('0x56')]=_0x2653b4[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x46b'),_0x1a9f('0x46c')),_0x2653b4[_0x1a9f('0x57')]=_0x2653b4[_0x1a9f('0x57')][_0x1a9f('0x239')]('uniform\x20float\x20opacity;',_0x1a9f('0x46d')+(_0x272f6e?_0x1a9f('0x46e'):'')+_0x1a9f('0x46f')),_0x2653b4[_0x1a9f('0x57')]=_0x2653b4[_0x1a9f('0x57')]['replace'](_0x1a9f('0x470'),_0x1a9f('0x471')),new THREE['ShaderMaterial']({'fragmentShader':_0x2653b4['fragmentShader'],'vertexShader':_0x2653b4['vertexShader'],'uniforms':_0x2653b4['uniforms'],'side':THREE['BackSide'],'depthWrite':!0x1,'fog':!0x1}));this[_0x1a9f('0x448')]&&_0x485424[_0x1a9f('0x16a')][_0x1a9f('0x45b')]&&!_0x272f6e&&(_0x485424['uniforms'][_0x1a9f('0x45b')][_0x1a9f('0x11')]=this[_0x1a9f('0x448')]),this['skyBox']=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x472'))](0x64,0x40,0xa),_0x485424),this[_0x1a9f('0x449')]['scale'][_0x1a9f('0x1d')](_0x1d0446,_0x1d0446,_0x1d0446),this[_0x1a9f('0x2c6')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this['skyBox']);}},{'key':_0x1a9f('0x473'),'value':function(_0xddf785){var _0xddf785=_0xddf785[_0x1a9f('0xcc')],_0x1d0446=new THREE['SphereBufferGeometry'](0x1,0x40,0xa),_0xddf785=new THREE[(_0x1a9f('0x3e9'))]({'side':THREE[_0x1a9f('0x441')],'fog':!0x1,'map':_0xddf785});_0xddf785[_0x1a9f('0x3ea')]=function(_0xddf785){_0xddf785[_0x1a9f('0x56')]=_0xddf785[_0x1a9f('0x56')]['replace']('#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},this[_0x1a9f('0x449')]=new THREE[(_0x1a9f('0x332'))](_0x1d0446,_0xddf785),this['skyBox'][_0x1a9f('0x1d5')]['set'](0x186a0,0x186a0,0x186a0),this[_0x1a9f('0x2c6')]['scene'][_0x1a9f('0x1c0')](this[_0x1a9f('0x449')]);}},{'key':'createSphereCubeSky','value':function(_0xddf785){var _0xddf785=_0xddf785[_0x1a9f('0xe7')],_0xddf785=void 0x0===_0xddf785?0x2710:_0xddf785,_0x1d0446=JSON[_0x1a9f('0x2be')]((0x0,_0x252b13[_0x1a9f('0xa')])(THREE[_0x1a9f('0x43f')][_0x1a9f('0x440')])),_0x1d0446=new THREE[(_0x1a9f('0x1e2'))]({'fragmentShader':_0x1d0446[_0x1a9f('0x57')],'vertexShader':_0x1d0446[_0x1a9f('0x56')],'uniforms':_0x1d0446['uniforms'],'side':THREE[_0x1a9f('0x441')],'depthWrite':!0x1,'fog':!0x1});_0x1d0446['uniforms'][_0x1a9f('0x45b')]['value']=this['textureCube'],this[_0x1a9f('0x449')]=new THREE[(_0x1a9f('0x332'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0x1d0446),this['skyBox'][_0x1a9f('0x1d5')]['set'](_0xddf785,_0xddf785,_0xddf785),this[_0x1a9f('0x449')]['position']['y']=-0x55d4a80,this[_0x1a9f('0x2c6')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this[_0x1a9f('0x449')]);}},{'key':_0x1a9f('0x474'),'value':function(){this[_0x1a9f('0x2c6')][_0x1a9f('0x443')][_0x1a9f('0x475')]=this[_0x1a9f('0x448')],this[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')});}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x448')]&&this[_0x1a9f('0x448')][_0x1a9f('0x8f')](),this[_0x1a9f('0x448')]=null,_0x54d349[_0x1a9f('0xa')]['disposeAll'](this['skyBox']),this['skyBox']=null;}}]),_0x1d0446[_0x1a9f('0xa')]=_0x318471;},function(_0x1e7b57,_0x357cbf,_0x9c15b){'use strict';Object[_0x1a9f('0x3')](_0x357cbf,_0x1a9f('0x5'),{'value':!0x0});var _0x4ccb91=_0x3881a6(_0x9c15b(0x11)),_0x144921=_0x3881a6(_0x9c15b(0x0)),_0x4a97c9=_0x3881a6(_0x9c15b(0x1)),_0x1a9d98=_0x3881a6(_0x9c15b(0xa9)),_0x56ea8f=_0x3881a6(_0x9c15b(0x3b));function _0x3881a6(_0x1e7b57){return _0x1e7b57&&_0x1e7b57[_0x1a9f('0x5')]?_0x1e7b57:{'default':_0x1e7b57};}function _0x312c53(_0x1e7b57){_0x1e7b57=_0x1e7b57[_0x1a9f('0x314')];(0x0,_0x144921[_0x1a9f('0xa')])(this,_0x312c53),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x314')]=_0x1e7b57,this[_0x1a9f('0x168')]=null,this['skyMaterial']=null,this[_0x1a9f('0x476')]=null,this[_0x1a9f('0x477')]=new THREE[(_0x1a9f('0x1b5'))](),this['phi']=0x32,this[_0x1a9f('0x478')]=0x91,this[_0x1a9f('0x479')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this[_0x1a9f('0x47a')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x4a97c9['default'])(_0x312c53,[{'key':_0x1a9f('0x7'),'value':function(_0x1e7b57){_0x1e7b57=_0x1e7b57['isCullGround'],_0x1e7b57=void 0x0!==_0x1e7b57&&_0x1e7b57;return this[_0x1a9f('0x309')](),this[_0x1a9f('0x476')]=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x472'))](0x1,0x18,0xc),this[_0x1a9f('0x47b')]),this[_0x1a9f('0x476')][_0x1a9f('0x1d5')]['setScalar'](0x1faa3b500),this[_0x1a9f('0x476')][_0x1a9f('0x427')]=_0x1a9f('0x47c'),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this[_0x1a9f('0x476')]),this[_0x1a9f('0x2e4')](),this[_0x1a9f('0x47d')]({'isCullGround':_0x1e7b57}),this['object3d'];}},{'key':_0x1a9f('0x309'),'value':function(){this[_0x1a9f('0x47b')]=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':THREE['UniformsUtils'][_0x1a9f('0x1af')](_0x1a9d98['default'][_0x1a9f('0x16a')]),'fragmentShader':_0x1a9d98[_0x1a9f('0xa')][_0x1a9f('0x57')],'vertexShader':_0x1a9d98[_0x1a9f('0xa')][_0x1a9f('0x56')],'side':THREE[_0x1a9f('0x441')]});}},{'key':_0x1a9f('0x47d'),'value':function(_0x1e7b57){_0x1e7b57=(0x0,_0x4ccb91['default'])(this['skyConfigs'],_0x1e7b57);var _0x357cbf=this[_0x1a9f('0x47b')][_0x1a9f('0x16a')];_0x357cbf[_0x1a9f('0x47e')][_0x1a9f('0x11')]=_0x1e7b57[_0x1a9f('0x47e')],_0x357cbf[_0x1a9f('0x47f')]['value']=_0x1e7b57[_0x1a9f('0x47f')],_0x357cbf[_0x1a9f('0x480')]['value']=_0x1e7b57[_0x1a9f('0x480')],_0x357cbf['mieCoefficient'][_0x1a9f('0x11')]=_0x1e7b57['mieCoefficient'],_0x357cbf[_0x1a9f('0x481')][_0x1a9f('0x11')]=_0x1e7b57[_0x1a9f('0x481')],_0x357cbf[_0x1a9f('0x453')][_0x1a9f('0x11')]=_0x1e7b57[_0x1a9f('0x453')];}},{'key':_0x1a9f('0x482'),'value':function(){this[_0x1a9f('0x477')]['x']=0xa*Math[_0x1a9f('0x59')](this[_0x1a9f('0x478')]*Math['PI']/0xb4)*Math[_0x1a9f('0x5a')](this[_0x1a9f('0x483')]*Math['PI']/0xb4),this[_0x1a9f('0x477')]['y']=0xa*Math[_0x1a9f('0x59')](this['phi']*Math['PI']/0xb4),this[_0x1a9f('0x477')]['z']=0xa*Math['cos'](this[_0x1a9f('0x478')]*Math['PI']/0xb4)*Math[_0x1a9f('0x5a')](this[_0x1a9f('0x483')]*Math['PI']/0xb4),this[_0x1a9f('0x47b')][_0x1a9f('0x16a')]['sunPosition'][_0x1a9f('0x11')][_0x1a9f('0x1ba')](this[_0x1a9f('0x477')]),this[_0x1a9f('0x47b')][_0x1a9f('0x16a')]['cameraPos'][_0x1a9f('0x11')][_0x1a9f('0x1ba')](this[_0x1a9f('0x314')][_0x1a9f('0x42')]);}},{'key':_0x1a9f('0x2e4'),'value':function(){this[_0x1a9f('0x343')][_0x1a9f('0x42')][_0x1a9f('0x1ba')](this[_0x1a9f('0x314')][_0x1a9f('0x42')]),this[_0x1a9f('0x482')]();}},{'key':'dispose','value':function(){_0x56ea8f['default'][_0x1a9f('0x33c')](this['object3d']),this[_0x1a9f('0x343')]=null,this[_0x1a9f('0x168')]=null,this[_0x1a9f('0x47b')]=null,this[_0x1a9f('0x476')]=null;}}]),_0x357cbf['default']=_0x312c53;},function(_0x1392cc,_0x3693f2,_0x3bbfd1){'use strict';Object[_0x1a9f('0x3')](_0x3693f2,'__esModule',{'value':!0x0}),_0x3693f2[_0x1a9f('0xa')]={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE[(_0x1a9f('0x1b5'))]()},'cameraPos':{'value':new THREE[(_0x1a9f('0x1b5'))]()},'isCullGround':{'value':!0x1}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentShader':_0x1a9f('0x484')};},function(_0x2207db,_0x7b982c,_0x42980d){_0x2207db[_0x1a9f('0x0')]={'default':_0x42980d(0xab),'__esModule':!0x0};},function(_0x5c3a30,_0x14b388,_0xd7c69d){_0xd7c69d(0xac),_0x5c3a30[_0x1a9f('0x0')]=_0xd7c69d(0x2)[_0x1a9f('0x18')][_0x1a9f('0x485')];},function(_0x91d3e3,_0x49325b,_0x1f5f46){_0x1f5f46=_0x1f5f46(0x3);_0x1f5f46(_0x1f5f46['S'],_0x1a9f('0x18'),{'log10':function(_0x91d3e3){return Math[_0x1a9f('0x486')](_0x91d3e3)*Math['LOG10E'];}});},function(_0x5519a5,_0x7ba75,_0x77cc57){'use strict';_0x7ba75[_0x1a9f('0x5')]=!0x0;var _0x1e9c4a=_0x2de824(_0x77cc57(0xae)),_0xce68d8=_0x2de824(_0x77cc57(0x6));function _0x2de824(_0x5519a5){return _0x5519a5&&_0x5519a5[_0x1a9f('0x5')]?_0x5519a5:{'default':_0x5519a5};}_0x7ba75[_0x1a9f('0xa')]=function(_0x5519a5,_0x7ba75){if(Array[_0x1a9f('0xd6')](_0x5519a5))return _0x5519a5;if((0x0,_0x1e9c4a['default'])(Object(_0x5519a5))){var _0x77cc57=_0x7ba75,_0x2de824=[],_0x137c01=!0x0,_0x7ba75=!0x1,_0x345b59=void 0x0;try{for(var _0x563737,_0x149034=(0x0,_0xce68d8['default'])(_0x5519a5);!(_0x137c01=(_0x563737=_0x149034[_0x1a9f('0x79')]())[_0x1a9f('0xce')])&&(_0x2de824[_0x1a9f('0x70')](_0x563737[_0x1a9f('0x11')]),!_0x77cc57||_0x2de824['length']!==_0x77cc57);_0x137c01=!0x0);}catch(_0x2e592d){_0x7ba75=!0x0,_0x345b59=_0x2e592d;}finally{try{!_0x137c01&&_0x149034[_0x1a9f('0xd0')]&&_0x149034[_0x1a9f('0xd0')]();}finally{if(_0x7ba75)throw _0x345b59;}}return _0x2de824;}throw new TypeError('Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance');};},function(_0x3328e0,_0x23375d,_0x3e5fb5){_0x3328e0[_0x1a9f('0x0')]={'default':_0x3e5fb5(0xaf),'__esModule':!0x0};},function(_0x57342d,_0x10c88f,_0x578a4b){_0x578a4b(0x1b),_0x578a4b(0x19),_0x57342d[_0x1a9f('0x0')]=_0x578a4b(0xb0);},function(_0x412adc,_0x2d9853,_0x190c5f){var _0x34d791=_0x190c5f(0x2b),_0x5babd4=_0x190c5f(0x5)('iterator'),_0x8f8b02=_0x190c5f(0x10);_0x412adc['exports']=_0x190c5f(0x2)[_0x1a9f('0x487')]=function(_0x412adc){_0x412adc=Object(_0x412adc);return void 0x0!==_0x412adc[_0x5babd4]||'@@iterator'in _0x412adc||_0x8f8b02[_0x1a9f('0xc')](_0x34d791(_0x412adc));};},,,,,,,,,,,,,,,,function(_0xaa7af6,_0x1f1649,_0x30e222){'use strict';var _0x536da4,_0x410cc5=_0x1cc96d(_0x30e222(0x6)),_0xcadd4b=(_0x30e222(0xc1),_0x30e222(0xc2),_0x30e222(0x1a)),_0x4d2f36=_0x1cc96d(_0x30e222(0xc3)),_0xc9b2d2=_0x1cc96d(_0x30e222(0xc4)),_0x2d61c8=_0x30e222(0x62),_0x30e222=_0x1cc96d(_0x30e222(0xee));function _0x1cc96d(_0xaa7af6){return _0xaa7af6&&_0xaa7af6[_0x1a9f('0x5')]?_0xaa7af6:{'default':_0xaa7af6};}if(!esmap)throw new Error(_0x1a9f('0x488'));for(_0x536da4 in esmap['ESLayerType'][_0x1a9f('0x489')]=_0x1a9f('0x48a'),esmap['ESLayer']['EFFECT_MARKER']=_0x1a9f('0x48a'),esmap[_0x1a9f('0x271')]={},_0x2d61c8[_0x1a9f('0x271')])esmap['ESMarkerType'][_0x536da4]=_0x2d61c8[_0x1a9f('0x271')][_0x536da4];esmap[_0x1a9f('0x48b')]=!0x0,esmap[_0x1a9f('0x53')]={'init':_0x30e222[_0x1a9f('0xa')]['init'],'isExecuteInit':!0x1,'EffectLayer':_0x4d2f36[_0x1a9f('0xa')],'EffectMarker':_0xc9b2d2[_0x1a9f('0xa')],'markers':_0x30e222[_0x1a9f('0xa')]['markers'],'buildings':_0x30e222[_0x1a9f('0xa')]['buildings'],'floors':_0x30e222['default'][_0x1a9f('0x48c')],'ground':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x48d')],'lights':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x48e')],'models':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x48f')],'routes':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x490')],'skybox':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x491')],'water':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x492')],'video':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x493')],'screenEffect':_0x30e222[_0x1a9f('0xa')][_0x1a9f('0x494')],'switchEffectTheme':_0x30e222[_0x1a9f('0xa')]['switchEffectTheme'],'switchEffectLight':_0x30e222['default'][_0x1a9f('0x495')],'clearAll':_0x30e222[_0x1a9f('0xa')]['clearAll'],'addLayerToMap':function(_0xaa7af6,_0x1f1649,_0x30e222){if(esmap[_0x1a9f('0x53')][_0x1a9f('0x496')]){if(!(0x0,_0xcadd4b['getMapInstance'])()['mapView'][_0x1a9f('0x443')])throw new Error(_0x1a9f('0x497'));var _0x536da4;(0x0,_0xcadd4b[_0x1a9f('0x35')])()?((_0x536da4=(0x0,_0xcadd4b[_0x1a9f('0x498')])(_0x1f1649||0x0))['getFloorHeight'](_0x30e222||0x1),(_0x536da4=_0x536da4[_0x1a9f('0x499')](_0x30e222||0x1))[_0x1a9f('0x49a')]||(_0x536da4[_0x1a9f('0x49a')]=[]),_0x536da4['_effectLayers'][_0x1a9f('0x70')](_0xaa7af6),_0xaa7af6[_0x1a9f('0x49b')]=_0x536da4[_0x1a9f('0x49b')],_0x536da4[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0xaa7af6['o3d_'])):((_0x30e222=(0x0,_0xcadd4b[_0x1a9f('0x498')])())[_0x1a9f('0x49d')](_0x1f1649||0x1),(_0x536da4=_0x30e222['getFloor'](_0x1f1649||0x1))[_0x1a9f('0x49a')]||(_0x536da4[_0x1a9f('0x49a')]=[]),_0x536da4['_effectLayers'][_0x1a9f('0x70')](_0xaa7af6),_0xaa7af6[_0x1a9f('0x49b')]=_0x536da4['FloorNum'],_0x536da4[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0xaa7af6[_0x1a9f('0x49c')]));}else console[_0x1a9f('0xe4')](_0x1a9f('0x49e'));},'addLayer':function(_0xaa7af6){var _0x1f1649,_0x30e222=0x1<arguments[_0x1a9f('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap['ESEffectTool']['isInitComplete']){if(!(0x0,_0xcadd4b['getMapInstance'])()[_0x1a9f('0x447')][_0x1a9f('0x443')])throw new Error(_0x1a9f('0x497'));(0x0,_0xcadd4b[_0x1a9f('0x35')])()?((_0x1f1649=(0x0,_0xcadd4b['getBuiding'])(_0x30e222[_0x1a9f('0x49f')]||0x0))[_0x1a9f('0x49d')](_0x30e222[_0x1a9f('0x4a0')]||0x1),(_0x1f1649=_0x1f1649[_0x1a9f('0x499')](_0x30e222[_0x1a9f('0x4a0')]||0x1))['_effectLayers']||(_0x1f1649[_0x1a9f('0x49a')]=[]),_0x1f1649[_0x1a9f('0x49a')][_0x1a9f('0x70')](_0xaa7af6),_0xaa7af6['FloorNum']=_0x1f1649[_0x1a9f('0x49b')],_0x1f1649[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0xaa7af6[_0x1a9f('0x49c')])):((_0x1f1649=(0x0,_0xcadd4b['getBuiding'])()['getFloor'](_0x30e222[_0x1a9f('0x4a0')]||0x1))[_0x1a9f('0x49a')]||(_0x1f1649[_0x1a9f('0x49a')]=[]),_0x1f1649['_effectLayers'][_0x1a9f('0x70')](_0xaa7af6),_0xaa7af6[_0x1a9f('0x49b')]=_0x1f1649['FloorNum'],_0x1f1649[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0xaa7af6['o3d_']));}else console[_0x1a9f('0xe4')](_0x1a9f('0x49e'));},'removeLayer':function(_0xaa7af6){_0xaa7af6[_0x1a9f('0x8f')]();},'removeLayersByNames':function(_0xaa7af6){var _0xaa7af6=this['getLayersByNames'](_0xaa7af6),_0x1f1649=!0x0,_0x30e222=!0x1,_0x536da4=void 0x0;try{for(var _0x4d2f36,_0xc9b2d2=(0x0,_0x410cc5['default'])(_0xaa7af6);!(_0x1f1649=(_0x4d2f36=_0xc9b2d2[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x1f1649=!0x0){var _0x2d61c8=_0x4d2f36[_0x1a9f('0x11')];this[_0x1a9f('0x4a1')](_0x2d61c8);}}catch(_0x2a5bde){_0x30e222=!0x0,_0x536da4=_0x2a5bde;}finally{try{!_0x1f1649&&_0xc9b2d2[_0x1a9f('0xd0')]&&_0xc9b2d2['return']();}finally{if(_0x30e222)throw _0x536da4;}}},'getLayersByNames':function(_0xaa7af6){if(Array['isArray'](_0xaa7af6)&&0x0<_0xaa7af6[_0x1a9f('0xf')]){var _0x1f1649=[],_0x30e222=(0x0,_0xcadd4b[_0x1a9f('0x33')])();if((0x0,_0xcadd4b[_0x1a9f('0x35')])()){var _0x536da4=(0x0,_0xcadd4b['getBuiding'])(0x0)['getFloor'](0x1),_0x4d2f36=!0x0,_0xc9b2d2=!0x1,_0x2d61c8=void 0x0;try{for(var _0x1cc96d,_0x128fa8=(0x0,_0x410cc5['default'])(_0x536da4[_0x1a9f('0x49a')]);!(_0x4d2f36=(_0x1cc96d=_0x128fa8[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4d2f36=!0x0){var _0x26d841=_0x1cc96d[_0x1a9f('0x11')];-0x1<_0xaa7af6[_0x1a9f('0xc4')](_0x26d841[_0x1a9f('0x427')])&&_0x1f1649[_0x1a9f('0x70')](_0x26d841);}}catch(_0x4c0380){_0xc9b2d2=!0x0,_0x2d61c8=_0x4c0380;}finally{try{!_0x4d2f36&&_0x128fa8[_0x1a9f('0xd0')]&&_0x128fa8[_0x1a9f('0xd0')]();}finally{if(_0xc9b2d2)throw _0x2d61c8;}}for(var _0x398d69=_0x30e222[_0x1a9f('0x4a2')],_0x3af6de=0x0;_0x3af6de<_0x398d69[_0x1a9f('0xf')];_0x3af6de++){var _0x638c8d=!0x0,_0x5eea4d=!0x1,_0x4633dd=void 0x0;try{for(var _0x29f94f,_0x329fcb=(0x0,_0x410cc5[_0x1a9f('0xa')])(_0x398d69[_0x3af6de][_0x1a9f('0x4a3')]);!(_0x638c8d=(_0x29f94f=_0x329fcb[_0x1a9f('0x79')]())['done']);_0x638c8d=!0x0){var _0xdf6efa=_0x29f94f[_0x1a9f('0x11')],_0x177397=_0x398d69[_0x3af6de][_0x1a9f('0x499')](_0xdf6efa);if(_0x177397[_0x1a9f('0x49a')]){var _0x5eac07=!0x0,_0x338310=!0x1,_0x101ed9=void 0x0;try{for(var _0x410e01,_0x32cf5f=(0x0,_0x410cc5['default'])(_0x177397[_0x1a9f('0x49a')]);!(_0x5eac07=(_0x410e01=_0x32cf5f[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x5eac07=!0x0){var _0x32e0e9=_0x410e01[_0x1a9f('0x11')];-0x1<_0xaa7af6['indexOf'](_0x32e0e9[_0x1a9f('0x427')])&&_0x1f1649[_0x1a9f('0x70')](_0x32e0e9);}}catch(_0x4ef1d1){_0x338310=!0x0,_0x101ed9=_0x4ef1d1;}finally{try{!_0x5eac07&&_0x32cf5f[_0x1a9f('0xd0')]&&_0x32cf5f[_0x1a9f('0xd0')]();}finally{if(_0x338310)throw _0x101ed9;}}}}}catch(_0x310344){_0x5eea4d=!0x0,_0x4633dd=_0x310344;}finally{try{!_0x638c8d&&_0x329fcb[_0x1a9f('0xd0')]&&_0x329fcb[_0x1a9f('0xd0')]();}finally{if(_0x5eea4d)throw _0x4633dd;}}}}else{var _0x360e9e=(0x0,_0xcadd4b[_0x1a9f('0x498')])(),_0x43f1b1=!0x0,_0x536da4=!0x1,_0xc9b2d2=void 0x0;try{for(var _0x512ba5,_0xb91af=(0x0,_0x410cc5[_0x1a9f('0xa')])(_0x360e9e[_0x1a9f('0x4a3')]);!(_0x43f1b1=(_0x512ba5=_0xb91af['next']())['done']);_0x43f1b1=!0x0){var _0x577333=_0x512ba5[_0x1a9f('0x11')],_0x1917b5=_0x360e9e[_0x1a9f('0x499')](_0x577333);if(_0x1917b5[_0x1a9f('0x49a')]){var _0x276111=!0x0,_0x604add=!0x1,_0x57c52c=void 0x0;try{for(var _0x375b24,_0x415d91=(0x0,_0x410cc5['default'])(_0x1917b5[_0x1a9f('0x49a')]);!(_0x276111=(_0x375b24=_0x415d91['next']())[_0x1a9f('0xce')]);_0x276111=!0x0){var _0x35a105=_0x375b24['value'];-0x1<_0xaa7af6[_0x1a9f('0xc4')](_0x35a105[_0x1a9f('0x427')])&&_0x1f1649[_0x1a9f('0x70')](_0x35a105);}}catch(_0x698a0b){_0x604add=!0x0,_0x57c52c=_0x698a0b;}finally{try{!_0x276111&&_0x415d91['return']&&_0x415d91['return']();}finally{if(_0x604add)throw _0x57c52c;}}}}}catch(_0x51d82e){_0x536da4=!0x0,_0xc9b2d2=_0x51d82e;}finally{try{!_0x43f1b1&&_0xb91af['return']&&_0xb91af[_0x1a9f('0xd0')]();}finally{if(_0x536da4)throw _0xc9b2d2;}}}return _0x1f1649;}}};},function(_0x225b58,_0x5eedb2,_0x167529){'use strict';var _0x23c409,_0x29da51,_0x3c660a,_0x3e9a56=_0x27746d(_0x167529(0x59)),_0x354d76=_0x27746d(_0x167529(0x22));function _0x27746d(_0x225b58){return _0x225b58&&_0x225b58[_0x1a9f('0x5')]?_0x225b58:{'default':_0x225b58};}function _0x451230(_0x225b58){if(this instanceof _0x451230)throw new TypeError(_0x1a9f('0x4a4'));var _0x225b58=void 0x0===_0x225b58?void 0x0:String(_0x225b58),_0x5eedb2=(0x0,_0x354d76[_0x1a9f('0xa')])({'toString':function(){return this['__Name__'];},'valueOf':function(){return this;}});return(0x0,_0x3e9a56[_0x1a9f('0xa')])(_0x5eedb2,{'__Description__':{'value':_0x225b58,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x29da51(_0x225b58),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0x5eedb2;}_0x167529=window,_0x29da51=function(_0x225b58){return'@@'+_0x225b58+'_'+ ++_0x23c409;},_0x3c660a={},(_0x23c409=0x0,_0x3e9a56[_0x1a9f('0xa')])(_0x451230,{'for':{'value':function(_0x225b58){_0x225b58=void 0x0===_0x225b58?void 0x0:String(_0x225b58);return _0x3c660a[_0x225b58]||(_0x3c660a[_0x225b58]=_0x451230(_0x225b58));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x225b58){for(var _0x5eedb2 in _0x3c660a)if(_0x3c660a[_0x5eedb2]===_0x225b58)return _0x5eedb2;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window[_0x1a9f('0x7d')]||(_0x167529[_0x1a9f('0x7d')]=_0x451230);},function(_0x7b9243,_0x50acfa,_0x147a8c){'use strict';Array['prototype']['fill']||Object[_0x1a9f('0x3')](Array[_0x1a9f('0xb')],_0x1a9f('0x4a5'),{'value':function(_0x7b9243){if(null==this)throw new TypeError(_0x1a9f('0x4a6'));for(var _0x50acfa=Object(this),_0x147a8c=_0x50acfa[_0x1a9f('0xf')]>>>0x0,_0x363854=arguments[0x1]>>0x0,_0x3f30f3=_0x363854<0x0?Math[_0x1a9f('0xd9')](_0x147a8c+_0x363854,0x0):Math['min'](_0x363854,_0x147a8c),_0x363854=arguments[0x2],_0x363854=void 0x0===_0x363854?_0x147a8c:_0x363854>>0x0,_0x4d67b0=_0x363854<0x0?Math[_0x1a9f('0xd9')](_0x147a8c+_0x363854,0x0):Math[_0x1a9f('0xda')](_0x363854,_0x147a8c);_0x3f30f3<_0x4d67b0;)_0x50acfa[_0x3f30f3]=_0x7b9243,_0x3f30f3++;return _0x50acfa;}});},function(_0x30fb78,_0x7fadd,_0x24d98a){'use strict';Object[_0x1a9f('0x3')](_0x7fadd,_0x1a9f('0x5'),{'value':!0x0});var _0x41254c=_0x5000b3(_0x24d98a(0x6)),_0x349bb3=_0x5000b3(_0x24d98a(0x0));function _0x5000b3(_0x30fb78){return _0x30fb78&&_0x30fb78['__esModule']?_0x30fb78:{'default':_0x30fb78};}function _0x1bde31(_0x30fb78,_0x7fadd){(0x0,_0x349bb3[_0x1a9f('0xa')])(this,_0x1bde31),this['o3d_']=new THREE[(_0x1a9f('0x346'))](),(this[_0x1a9f('0x49c')]['datas_']=this)['name']=_0x30fb78,this['type']=_0x7fadd,this['FloorNum']=0x1,this[_0x1a9f('0x32d')]=[];}(0x0,_0x5000b3(_0x24d98a(0x1))[_0x1a9f('0xa')])(_0x1bde31,[{'key':_0x1a9f('0x4a7'),'value':function(_0x30fb78){_0x30fb78['o3d_']&&(this['o3d_'][_0x1a9f('0x1c0')](_0x30fb78['o3d_']),_0x30fb78[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')}),this[_0x1a9f('0x32d')][_0x1a9f('0x70')](_0x30fb78),_0x30fb78[_0x1a9f('0x49b')]=this[_0x1a9f('0x49b')],esmap[_0x1a9f('0x53')][_0x1a9f('0x4a8')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4a8')][_0x1a9f('0x1c0')](_0x30fb78));}},{'key':_0x1a9f('0x93'),'value':function(_0x30fb78){_0x30fb78[_0x1a9f('0x49c')]&&(esmap[_0x1a9f('0x53')]['markers']&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4a8')][_0x1a9f('0x93')](_0x30fb78),_0x30fb78[_0x1a9f('0x8f')]());}},{'key':'removeAll','value':function(){if(0x0!==this[_0x1a9f('0x32d')][_0x1a9f('0xf')]){var _0x30fb78=!0x0,_0x7fadd=!0x1,_0x24d98a=void 0x0;try{for(var _0x349bb3,_0x5000b3=(0x0,_0x41254c[_0x1a9f('0xa')])(this[_0x1a9f('0x32d')]);!(_0x30fb78=(_0x349bb3=_0x5000b3[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x30fb78=!0x0){var _0x1bde31=_0x349bb3[_0x1a9f('0x11')];esmap['ESEffectTool'][_0x1a9f('0x4a8')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4a8')][_0x1a9f('0x93')](_0x1bde31),_0x1bde31[_0x1a9f('0x8f')](),_0x1bde31=null;}}catch(_0x4ab0db){_0x7fadd=!0x0,_0x24d98a=_0x4ab0db;}finally{try{!_0x30fb78&&_0x5000b3[_0x1a9f('0xd0')]&&_0x5000b3[_0x1a9f('0xd0')]();}finally{if(_0x7fadd)throw _0x24d98a;}}this[_0x1a9f('0x32d')][_0x1a9f('0xf')]=0x0;}}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x4a9')](),DisposeUtils[_0x1a9f('0x8f')](this[_0x1a9f('0x49c')]);}},{'key':_0x1a9f('0x342'),'set':function(_0x30fb78){this[_0x1a9f('0x49c')][_0x1a9f('0x342')]=_0x30fb78;},'get':function(){return this[_0x1a9f('0x49c')][_0x1a9f('0x342')];}}]),_0x7fadd[_0x1a9f('0xa')]=_0x1bde31;},function(_0x5ece32,_0x274593,_0x361d12){'use strict';Object[_0x1a9f('0x3')](_0x274593,'__esModule',{'value':!0x0});var _0x390699=_0x34ad00(_0x361d12(0x2d)),_0x505c4e=_0x34ad00(_0x361d12(0x0)),_0x481b00=_0x34ad00(_0x361d12(0x1)),_0x302da2=_0x34ad00(_0x361d12(0x34)),_0x510bbf=_0x34ad00(_0x361d12(0x35)),_0x3cb729=_0x34ad00(_0x361d12(0x82)),_0x2af4a1=_0x34ad00(_0x361d12(0x6)),_0x1f7c93=_0x34ad00(_0x361d12(0x46)),_0x3eaf61=_0x361d12(0x62),_0x267ade=function(_0x5ece32){if(_0x5ece32&&_0x5ece32['__esModule'])return _0x5ece32;var _0x274593={};if(null!=_0x5ece32)for(var _0x361d12 in _0x5ece32)Object['prototype'][_0x1a9f('0xc')]['call'](_0x5ece32,_0x361d12)&&(_0x274593[_0x361d12]=_0x5ece32[_0x361d12]);return _0x274593['default']=_0x5ece32,_0x274593;}(_0x361d12(0x40)),_0x1c9c62=_0x361d12(0xec),_0x43d19e=_0x361d12(0x44),_0x240aa8=_0x34ad00(_0x361d12(0x45)),_0x237458=_0x34ad00(_0x361d12(0x3b)),_0x40e5e8=_0x361d12(0x1a),_0x328639=_0x34ad00(_0x361d12(0xed));function _0x34ad00(_0x5ece32){return _0x5ece32&&_0x5ece32['__esModule']?_0x5ece32:{'default':_0x5ece32};}var _0x24c9ca=(0x0,_0x1f7c93[_0x1a9f('0xa')])(_0x1a9f('0x4aa')),_0x45ec64=new _0x240aa8[(_0x1a9f('0xa'))](),_0x46c63d=((0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12={},_0x3eaf61[_0x1a9f('0x26c')]['CubeFloatMarker'],function(_0x5ece32){var _0x274593=new _0x267ade['CubeFloatMarker']({'colorStr':_0x5ece32[_0x1a9f('0x21e')]});return _0x5ece32['x']&&_0x5ece32['y']&&_0x274593['create']({'radius':_0x5ece32[_0x1a9f('0x21c')]}),_0x355a3c(_0x5ece32,_0x274593['object3d']),_0x274593;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0xb4')],function(_0x5ece32){var _0x274593=new _0x267ade[(_0x1a9f('0xb4'))](),_0x361d12=_0x5ece32[_0x1a9f('0x4ab')]||(0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')]['CylinderFloatMarker'][_0x1a9f('0xcc')]),_0x361d12=_0x45ec64['load'](_0x361d12);return _0x274593[_0x1a9f('0x7')]({'texture':_0x361d12,'radius':_0x5ece32[_0x1a9f('0x21c')],'height':_0x5ece32[_0x1a9f('0x4ad')],'colorStr':_0x5ece32[_0x1a9f('0x21e')],'animateOpts':{'centerHeight':_0x5ece32[_0x1a9f('0x33b')],'swingHeight':_0x5ece32[_0x1a9f('0x4ae')],'speed':0.02}}),!esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')]['isOpenScreenEffect']&&_0x5ece32[_0x1a9f('0x4af')]&&(_0x274593[_0x1a9f('0x48')][_0x1a9f('0x1cf')]=THREE['AdditiveBlending']),_0x355a3c(_0x5ece32,_0x274593['object3d']),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0xb3')],function(_0x5ece32){var _0x274593=new _0x267ade[(_0x1a9f('0xb3'))](),_0x361d12=_0x5ece32[_0x1a9f('0x4ab')]||(0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0xb3')][_0x1a9f('0xcc')]),_0x361d12=_0x45ec64['load'](_0x361d12),_0x481b00=(0x0,_0x40e5e8['getMapInstance'])();return _0x361d12[_0x1a9f('0x4b0')]=_0x481b00[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')](),_0x274593[_0x1a9f('0x7')]({'colorStr':_0x5ece32[_0x1a9f('0x21e')],'texture':_0x361d12,'radius':_0x5ece32[_0x1a9f('0x21c')],'speed':_0x5ece32[_0x1a9f('0x341')],'textureAngle':_0x5ece32[_0x1a9f('0x1ec')]}),_0x5ece32[_0x1a9f('0x4b4')]&&(_0x274593[_0x1a9f('0x48')][_0x1a9f('0x1d3')]=!0x1),_0x5ece32[_0x1a9f('0x323')]&&(_0x274593['object3d'][_0x1a9f('0x323')]=_0x5ece32[_0x1a9f('0x323')]),!esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x414')]&&_0x5ece32[_0x1a9f('0x4af')]&&(_0x274593['material'][_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x3fa')]),_0x355a3c(_0x5ece32,_0x274593[_0x1a9f('0x343')]),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')]['PointsLine'],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8['getConfigAssetsPath'])(_0x1c9c62[_0x1a9f('0x4ac')]['PointsLine'][_0x1a9f('0xcc')])),_0x361d12=new _0x267ade['PointsLine']({'gapDistance':_0x5ece32[_0x1a9f('0x424')],'activeNum':_0x5ece32['activeNum'],'pointSize':_0x5ece32['pointSize'],'colorStr':_0x5ece32[_0x1a9f('0x21e')]}),_0x274593=_0x361d12['create']({'texture':_0x274593,'points':_0x5ece32[_0x1a9f('0x429')]}),_0x5ece32=(_0x355a3c(_0x5ece32,_0x274593),_0x5ece32['points'][0x0]);return(0x0,_0x40e5e8['setPositionFromMc'])(_0x274593,_0x5ece32,_0x5ece32[_0x1a9f('0x33b')]),_0x361d12;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61['MarkerFuncName'][_0x1a9f('0xb1')],function(_0x5ece32){var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x361d12=_0x45ec64['load']((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62['MARKER_ASSETS'][_0x1a9f('0xb1')][_0x1a9f('0xcc')])),_0x274593=new _0x267ade[(_0x1a9f('0xb1'))]({'pointSize':_0x5ece32[_0x1a9f('0x425')],'colorStr':_0x5ece32['color'],'animateType':_0x5ece32[_0x1a9f('0x4b5')],'timer':_0x274593[_0x1a9f('0x2f8')],'period':_0x5ece32['period']}),_0x361d12=_0x274593['create']({'texture':_0x361d12,'points':_0x5ece32['points']}),_0x481b00=(_0x5ece32[_0x1a9f('0x4b4')]&&(_0x274593[_0x1a9f('0x48')][_0x1a9f('0x1d3')]=!0x1),_0x355a3c(_0x5ece32,_0x361d12),_0x5ece32[_0x1a9f('0x429')][0x0]),_0x5ece32=void 0x0!==_0x5ece32['height']?_0x5ece32[_0x1a9f('0x33b')]:0.1;return(0x0,_0x40e5e8[_0x1a9f('0x34')])(_0x361d12,_0x481b00,_0x5ece32),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x288')],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')]['CircleRippleMarker'][_0x1a9f('0xcc')])),_0x274593=new _0x267ade['CircleRippleEffect']({'colorStr':_0x5ece32['color'],'isSpread':_0x5ece32[_0x1a9f('0x3e6')],'radius':_0x5ece32[_0x1a9f('0x21c')],'texture':_0x274593,'speed':_0x5ece32[_0x1a9f('0x341')]}),_0x361d12=(_0x5ece32[_0x1a9f('0x4b4')]&&(_0x274593[_0x1a9f('0x48')]['depthTest']=!0x1),_0x274593[_0x1a9f('0x48')][_0x1a9f('0x1d2')]=!0x1,_0x5ece32['opacity']&&(_0x274593[_0x1a9f('0x48')]['opacity']=_0x5ece32[_0x1a9f('0x1ff')]),_0x274593[_0x1a9f('0x7')]());return _0x361d12['renderOrder']=_0x5ece32[_0x1a9f('0x323')]||0x4c,!esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')]['isOpenScreenEffect']&&_0x5ece32[_0x1a9f('0x4af')]&&(_0x274593[_0x1a9f('0x48')][_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x3fa')]),_0x355a3c(_0x5ece32,_0x361d12),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x287')],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x287')][_0x1a9f('0xcc')])),_0x274593=((0x0,_0x40e5e8[_0x1a9f('0x35')])()&&(_0x5ece32['isCilpGround']=!0x0),new _0x267ade[(_0x1a9f('0xaf'))]({'texture':_0x274593,'radius':_0x5ece32[_0x1a9f('0x21c')],'height':_0x5ece32[_0x1a9f('0x4b6')],'colorStr':_0x5ece32[_0x1a9f('0x21e')],'isCilpGround':_0x5ece32['isCilpGround'],'clipGroundY':_0x5ece32['clipGroundY']}));return _0x274593[_0x1a9f('0x7')](),esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x414')]&&_0x274593[_0x1a9f('0x48')][_0x1a9f('0x21e')]['setHSL'](0x0,0x0,0.2),!esmap['ESEffectTool']['options']['isOpenScreenEffect']&&_0x5ece32['isShine']&&(_0x274593[_0x1a9f('0x48')]['blending']=THREE['AdditiveBlending']),_0x355a3c(_0x5ece32,_0x274593[_0x1a9f('0x4b7')]),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')]['NumberUpParticle'],function(_0x5ece32){var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x361d12=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x28d')][_0x1a9f('0xcc')])),_0x481b00=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')]['NumberUpParticle'][_0x1a9f('0x4b8')])),_0x510bbf=new _0x267ade[(_0x1a9f('0xae'))]({'camera':_0x274593[_0x1a9f('0x447')]['camera'],'controls':_0x274593[_0x1a9f('0x2c7')],'colorStr':_0x5ece32[_0x1a9f('0x21e')],'speed':_0x5ece32[_0x1a9f('0x341')],'texture':_0x361d12,'alphaTex':_0x481b00});if(_0x5ece32[_0x1a9f('0x4b9')]&&(_0x510bbf[_0x1a9f('0x343')][_0x1a9f('0x42')]['y']=_0x5ece32[_0x1a9f('0x4b9')]),_0x5ece32[_0x1a9f('0x33b')]=_0x5ece32[_0x1a9f('0x33a')]/(0x1/0x8),_0x5ece32['isRandomMarker'])for(var _0x3cb729=0x0;_0x3cb729<_0x5ece32[_0x1a9f('0x409')];_0x3cb729++){var _0x390699=_0x510bbf[_0x1a9f('0x7')]({'width':_0x5ece32['width'],'height':_0x5ece32['height'],'extentRadius':_0x5ece32[_0x1a9f('0x3f7')]});(0x0,_0x40e5e8[_0x1a9f('0x34')])(_0x390699,{'x':-Math['random']()*_0x5ece32[_0x1a9f('0x3f7')]+_0x5ece32[_0x1a9f('0x3f7')]/0x2+_0x5ece32[_0x1a9f('0x4ba')]['x'],'y':-Math[_0x1a9f('0x23')]()*_0x5ece32[_0x1a9f('0x3f7')]+_0x5ece32[_0x1a9f('0x3f7')]/0x2+_0x5ece32[_0x1a9f('0x4ba')]['y']},-Math['random']()*_0x5ece32[_0x1a9f('0x3f7')]);}else{var _0x505c4e=!0x0,_0x274593=!0x1,_0x361d12=void 0x0;try{for(var _0x302da2,_0x1f7c93=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x5ece32[_0x1a9f('0x429')]);!(_0x505c4e=(_0x302da2=_0x1f7c93['next']())[_0x1a9f('0xce')]);_0x505c4e=!0x0){var _0x3eaf61=_0x302da2[_0x1a9f('0x11')],_0x43d19e=_0x510bbf[_0x1a9f('0x7')]({'width':_0x5ece32['width'],'height':_0x5ece32[_0x1a9f('0x33b')],'extentRadius':_0x5ece32[_0x1a9f('0x3f7')]}),_0x240aa8=-Math[_0x1a9f('0x23')]()*_0x5ece32[_0x1a9f('0x3f7')];_0x355a3c(_0x5ece32,_0x43d19e),(0x0,_0x40e5e8[_0x1a9f('0x34')])(_0x43d19e,_0x3eaf61,_0x240aa8);}}catch(_0x48fe42){_0x274593=!0x0,_0x361d12=_0x48fe42;}finally{try{!_0x505c4e&&_0x1f7c93['return']&&_0x1f7c93[_0x1a9f('0xd0')]();}finally{if(_0x274593)throw _0x361d12;}}}return _0x510bbf[_0x1a9f('0x4bb')](),_0x510bbf;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28e')],function(_0x5ece32){var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x361d12=_0x5ece32[_0x1a9f('0x4ab')]||(0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62['MARKER_ASSETS'][_0x1a9f('0x28e')][_0x1a9f('0xcc')]),_0x361d12=_0x5ece32['scrollImgUrl']||_0x361d12,_0x361d12=_0x45ec64['load'](_0x361d12,!0x0),_0x481b00=(_0x361d12[_0x1a9f('0x4b0')]=_0x274593[_0x1a9f('0x447')]['renderer'][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')](),new _0x267ade[(_0x1a9f('0xad'))]({'texture':_0x361d12,'colorStr':_0x5ece32['color'],'focusColorStr':_0x5ece32[_0x1a9f('0x4bc')],'scale':_0x5ece32['wallHeight'],'isTransparentLight':_0x5ece32[_0x1a9f('0x4bd')],'isScrollX':!!_0x5ece32[_0x1a9f('0x4be')],'scrollXRepeat':_0x5ece32[_0x1a9f('0x4bf')],'isClockWise':_0x5ece32[_0x1a9f('0x4c0')],'speed':_0x5ece32[_0x1a9f('0x341')]})),_0x510bbf=(_0x5ece32[_0x1a9f('0x4b4')]&&(_0x481b00['wallMaterial'][_0x1a9f('0x1d3')]=!0x1),_0x5ece32[_0x1a9f('0x33b')]=_0x5ece32[_0x1a9f('0x33b')]||0x0,!0x0),_0x274593=!0x1,_0x361d12=void 0x0;try{for(var _0x3cb729,_0x390699=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x5ece32[_0x1a9f('0x4c1')]);!(_0x510bbf=(_0x3cb729=_0x390699['next']())[_0x1a9f('0xce')]);_0x510bbf=!0x0){var _0x505c4e=_0x3cb729['value'],_0x302da2=[],_0x1f7c93=_0x505c4e[_0x1a9f('0x429')][0x0],_0x3eaf61=(_0x1f7c93[_0x1a9f('0x106')]=_0x1f7c93[_0x1a9f('0x106')]||0x0,!0x0),_0x43d19e=!0x1,_0x240aa8=void 0x0;try{for(var _0x237458,_0x328639=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x505c4e['points']);!(_0x3eaf61=(_0x237458=_0x328639[_0x1a9f('0x79')]())['done']);_0x3eaf61=!0x0){var _0x34ad00=_0x237458[_0x1a9f('0x11')];_0x302da2['push']({'x':-_0x34ad00['x'],'y':_0x34ad00['offset']||0x0,'z':_0x34ad00['y']});}}catch(_0x3950fe){_0x43d19e=!0x0,_0x240aa8=_0x3950fe;}finally{try{!_0x3eaf61&&_0x328639[_0x1a9f('0xd0')]&&_0x328639[_0x1a9f('0xd0')]();}finally{if(_0x43d19e)throw _0x240aa8;}}var _0x24c9ca=_0x481b00[_0x1a9f('0x4c2')]({'points':_0x302da2,'colorStr':_0x505c4e[_0x1a9f('0x21e')],'extentId':_0x505c4e['id'],'wallHeight':_0x5ece32[_0x1a9f('0x4c3')],'isNoClose':_0x5ece32[_0x1a9f('0x4c4')]});_0x355a3c(_0x5ece32,_0x24c9ca),(0x0,_0x40e5e8['setPositionFromMc'])(_0x24c9ca,_0x1f7c93,_0x1f7c93[_0x1a9f('0x106')]+_0x5ece32[_0x1a9f('0x33b')]),_0x5ece32[_0x1a9f('0x323')]&&(_0x24c9ca[_0x1a9f('0x323')]=_0x5ece32[_0x1a9f('0x323')]);}}catch(_0x51892e){_0x274593=!0x0,_0x361d12=_0x51892e;}finally{try{!_0x510bbf&&_0x390699[_0x1a9f('0xd0')]&&_0x390699[_0x1a9f('0xd0')]();}finally{if(_0x274593)throw _0x361d12;}}return _0x481b00['extentList']=_0x5ece32[_0x1a9f('0x4c1')],_0x481b00;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28f')],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x28f')]['innerTexture'])),_0x361d12=_0x45ec64['load']((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')]['FireSmokeMarker'][_0x1a9f('0x4c5')])),_0x481b00=new _0x267ade[(_0x1a9f('0xa9'))]({'scale':_0x5ece32[_0x1a9f('0x1d5')]});return _0x481b00[_0x1a9f('0x7')]({'innerTex':_0x274593,'outTex':_0x361d12,'spreadFactor':_0x5ece32[_0x1a9f('0x415')],'depthTest':!_0x5ece32[_0x1a9f('0x4b4')],'isOpenScreenEffect':esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x414')]}),_0x481b00;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')]['FireMarker'],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x291')]['texture'])),_0x361d12=new _0x267ade[(_0x1a9f('0xa7'))]({'scale':_0x5ece32[_0x1a9f('0x1d5')]});return _0x361d12[_0x1a9f('0x7')]({'tex':_0x274593,'color':_0x5ece32[_0x1a9f('0x21e')],'isOpenScreenEffect':esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x414')]}),_0x361d12;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x290')],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8['getConfigAssetsPath'])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x290')][_0x1a9f('0xcc')])),_0x361d12=new _0x267ade[(_0x1a9f('0xa8'))]({'scale':_0x5ece32[_0x1a9f('0x1d5')]});return _0x361d12[_0x1a9f('0x7')]({'tex':_0x274593,'color':_0x5ece32[_0x1a9f('0x21e')],'intensity':_0x5ece32[_0x1a9f('0x454')],'spread':_0x5ece32[_0x1a9f('0x1e9')],'isOpenScreenEffect':esmap['ESEffectTool'][_0x1a9f('0x4d')][_0x1a9f('0x414')]}),_0x5ece32['angle']&&(_0x361d12['object3d'][_0x1a9f('0x1eb')]['y']=THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x5ece32['angle'])),_0x361d12;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61['MarkerFuncName'][_0x1a9f('0x292')],function(_0x5ece32){var _0x274593=_0x45ec64[_0x1a9f('0xca')]((0x0,_0x40e5e8['getConfigAssetsPath'])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x292')]['texture'])),_0x361d12=new _0x267ade['WaterSpread']({'scale':_0x5ece32[_0x1a9f('0x1d5')]});return _0x361d12[_0x1a9f('0x7')]({'texture':_0x274593,'dirAngle':_0x5ece32[_0x1a9f('0x41e')],'pitchAngle':_0x5ece32['pitchAngle'],'isOpenScreenEffect':esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x414')]}),_0x361d12;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61['MarkerFuncName']['FloatPointsMarker'],function(_0x5ece32){var _0x274593=_0x5ece32['imgUrl']||(0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0x293')][_0x1a9f('0xcc')]),_0x274593=_0x45ec64[_0x1a9f('0xca')](_0x274593),_0x361d12=new _0x267ade[(_0x1a9f('0xa5'))]({'scale':_0x5ece32[_0x1a9f('0x1d5')]});return _0x361d12['create']({'texture':_0x274593,'color':_0x5ece32[_0x1a9f('0x21e')],'isSpreadColor':_0x5ece32[_0x1a9f('0x4c6')],'spread':_0x5ece32[_0x1a9f('0x21c')],'extentHeight':_0x5ece32[_0x1a9f('0x4c7')],'pointNum':_0x5ece32[_0x1a9f('0x4c8')],'isShine':_0x5ece32['isShine'],'fixedSize':_0x5ece32[_0x1a9f('0x4c9')],'speed':_0x5ece32['speed']}),_0x5ece32[_0x1a9f('0x323')]&&(_0x361d12[_0x1a9f('0x410')][_0x1a9f('0x323')]=_0x5ece32[_0x1a9f('0x323')]),_0x361d12;}),(0x0,_0x3cb729['default'])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28b')],function(_0x5ece32){for(var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x361d12=_0x5ece32[_0x1a9f('0x4ab')]||(0x0,_0x40e5e8[_0x1a9f('0x2f')])(_0x1c9c62['MARKER_ASSETS'][_0x1a9f('0x28b')][_0x1a9f('0xcc')]),_0x361d12=_0x45ec64[_0x1a9f('0xca')](_0x361d12),_0x361d12=new _0x267ade[(_0x1a9f('0xa3'))]({'colorStr':_0x5ece32[_0x1a9f('0x21e')],'repeat':_0x5ece32['imgRepeat'],'texture':_0x361d12}),_0x481b00=[],_0x510bbf=0x0,_0x3cb729=_0x5ece32[_0x1a9f('0x429')][_0x1a9f('0xf')];_0x510bbf<_0x3cb729;_0x510bbf++){var _0x390699=_0x274593['coordMapToThree']({'x':_0x5ece32[_0x1a9f('0x429')][_0x510bbf]['x'],'y':_0x5ece32[_0x1a9f('0x429')][_0x510bbf]['y'],'z':_0x5ece32[_0x1a9f('0x429')][_0x510bbf][_0x1a9f('0x106')]});_0x481b00['push'](_0x390699);}return _0x361d12[_0x1a9f('0x7')]({'points':_0x481b00,'lineWidth':_0x5ece32[_0x1a9f('0x312')],'lineHeight':_0x5ece32[_0x1a9f('0x408')]}),_0x361d12;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0xa4')],function(_0x5ece32){var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x361d12=_0x5ece32['imgUrl']||(0x0,_0x40e5e8['getConfigAssetsPath'])(_0x1c9c62[_0x1a9f('0x4ac')][_0x1a9f('0xa4')][_0x1a9f('0xcc')]),_0x361d12=_0x45ec64[_0x1a9f('0xca')](_0x361d12),_0x481b00=new _0x267ade[(_0x1a9f('0xa4'))]({'camera':_0x274593['mapView'][_0x1a9f('0x314')],'texture':_0x361d12,'colorStr':_0x5ece32[_0x1a9f('0x21e')],'opacity':_0x5ece32[_0x1a9f('0x1ff')],'lineWidth':_0x5ece32[_0x1a9f('0x312')],'repeat':_0x5ece32['imgRepeat']&&0x0<_0x5ece32['imgRepeat']?{'x':_0x5ece32[_0x1a9f('0x4ca')],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0x5ece32[_0x1a9f('0x341')],'isCanChangeStyle':_0x5ece32[_0x1a9f('0x345')],'renderOrder':_0x5ece32[_0x1a9f('0x323')]});if(_0x481b00['setResizeListen'](_0x274593),_0x5ece32[_0x1a9f('0x323')]&&(_0x481b00[_0x1a9f('0x323')]=_0x5ece32[_0x1a9f('0x323')]),_0x5ece32[_0x1a9f('0x4b4')]&&(_0x481b00[_0x1a9f('0x315')][_0x1a9f('0x1d3')]=!0x1),Array[_0x1a9f('0xd6')](_0x5ece32['routeList'])&&0x0<_0x5ece32[_0x1a9f('0x4cb')]['length']){var _0x510bbf=!0x0,_0x361d12=!0x1,_0x274593=void 0x0;try{for(var _0x3cb729,_0x390699=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x5ece32['routeList']);!(_0x510bbf=(_0x3cb729=_0x390699[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x510bbf=!0x0){var _0x505c4e=_0x3cb729[_0x1a9f('0x11')],_0x302da2=[],_0x1f7c93=_0x505c4e[_0x1a9f('0x429')][0x0],_0x3eaf61=!0x0,_0x43d19e=!0x1,_0x240aa8=void 0x0;try{for(var _0x237458,_0x328639=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x505c4e[_0x1a9f('0x429')]);!(_0x3eaf61=(_0x237458=_0x328639[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3eaf61=!0x0){var _0x34ad00=_0x237458['value'];_0x302da2[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-_0x34ad00['x'],_0x34ad00[_0x1a9f('0x106')]||0x0,_0x34ad00['y']));}}catch(_0x2fe20a){_0x43d19e=!0x0,_0x240aa8=_0x2fe20a;}finally{try{!_0x3eaf61&&_0x328639[_0x1a9f('0xd0')]&&_0x328639['return']();}finally{if(_0x43d19e)throw _0x240aa8;}}var _0x24c9ca=_0x481b00['addLine'](_0x302da2);_0x355a3c(_0x5ece32,_0x24c9ca),(0x0,_0x40e5e8[_0x1a9f('0x34')])(_0x24c9ca,_0x1f7c93,_0x5ece32[_0x1a9f('0x33b')]);}}catch(_0x2dd004){_0x361d12=!0x0,_0x274593=_0x2dd004;}finally{try{!_0x510bbf&&_0x390699['return']&&_0x390699['return']();}finally{if(_0x361d12)throw _0x274593;}}}return _0x481b00;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x294')],function(_0x5ece32){var _0x274593=new _0x267ade[(_0x1a9f('0xbf'))]();return _0x274593[_0x1a9f('0x4cc')](_0x5ece32['id'],_0x5ece32[_0x1a9f('0x65')]),_0x274593[_0x1a9f('0x309')](),_0x274593[_0x1a9f('0x7')]({'width':_0x5ece32[_0x1a9f('0x4cd')],'height':_0x5ece32['planeHeight']}),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')]['PlaneWindMarker'],function(_0x5ece32){var _0x274593=new _0x267ade[(_0x1a9f('0xbe'))]({'colorStr':_0x5ece32['color'],'radius':_0x5ece32[_0x1a9f('0x21c')],'speed':_0x5ece32[_0x1a9f('0x341')]}),_0x361d12=_0x274593[_0x1a9f('0x7')]();return _0x5ece32[_0x1a9f('0x4b4')]&&(_0x361d12[_0x1a9f('0x48')][_0x1a9f('0x1d3')]=!0x1),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x297')],function(_0x5ece32){var _0x274593=new _0x267ade[(_0x1a9f('0xaa'))]({'colorStr':_0x5ece32[_0x1a9f('0x21e')],'radius':_0x5ece32[_0x1a9f('0x21c')],'speed':_0x5ece32[_0x1a9f('0x341')],'angle':_0x5ece32['angle'],'thickness':_0x5ece32[_0x1a9f('0x4ce')]}),_0x361d12=_0x274593[_0x1a9f('0x7')]();return _0x5ece32[_0x1a9f('0x4b4')]&&(_0x361d12[_0x1a9f('0x48')][_0x1a9f('0x1d3')]=!0x1),_0x274593;}),(0x0,_0x3cb729[_0x1a9f('0xa')])(_0x361d12,_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x298')],function(_0x5ece32){var _0x274593=new _0x267ade['PlaneTerrainEffect'](),_0x361d12=_0x45ec64[_0x1a9f('0xca')](_0x5ece32[_0x1a9f('0x4ab')]),_0x481b00=_0x45ec64[_0x1a9f('0xca')](_0x5ece32[_0x1a9f('0x4cf')]);return _0x274593[_0x1a9f('0x7')]({'grayTex':_0x361d12,'normalTex':_0x481b00,'width':_0x5ece32[_0x1a9f('0x2fe')],'height':_0x5ece32[_0x1a9f('0x2ff')]}),_0x274593;}),_0x361d12),_0x355a3c=function(_0x5ece32,_0x274593){_0x5ece32[_0x1a9f('0x4af')]&&_0x274593[_0x1a9f('0x4d0')][_0x1a9f('0x211')](0x1);},_0x240aa8=(_0x1f7c93=_0x43d19e[_0x1a9f('0xc2')],(0x0,_0x510bbf[_0x1a9f('0xa')])(_0x350a55,_0x1f7c93),(0x0,_0x481b00[_0x1a9f('0xa')])(_0x350a55,[{'key':'_init','value':function(_0x5ece32,_0x328639){var _0x1f7c93=null;switch(_0x5ece32){case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4d1')]:(_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0xb5')]](_0x328639))[_0x1a9f('0x342')]=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,_0x328639['x']&&_0x328639['y']&&this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this[_0x1a9f('0x4d4')]=function(_0x5ece32){var _0x274593=_0x1f7c93[_0x1a9f('0x7')]({'radius':_0x5ece32[_0x1a9f('0x21c')]}),_0x361d12=(0x0,_0x40e5e8[_0x1a9f('0x36')])(_0x5ece32['x'],_0x5ece32['y']);_0x274593['position']['set'](_0x361d12['x'],_0x5ece32['height']||0x0,_0x361d12['y']);},this[_0x1a9f('0x30c')]=function(_0x5ece32){_0x5ece32[_0x1a9f('0x1d5')]&&_0x1f7c93['object3d'][_0x1a9f('0x1d5')][_0x1a9f('0x1d')](_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')]);},this['_bindClick'](this['o3d_']);break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4d5')]:(_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')]['CylinderFloatMarker']](_0x328639))[_0x1a9f('0x342')]=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')]['datas_']=this)[_0x24c9ca]['_instance']=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]);break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4d6')]:(_0x1f7c93=_0x46c63d[_0x3eaf61['MarkerFuncName'][_0x1a9f('0xb3')]](_0x328639))[_0x1a9f('0x342')]=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],this[_0x1a9f('0x49c')]['datas_']=this,_0x1f7c93['object3d'][_0x1a9f('0x323')]=0x47,this[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this['setColor']=function(_0x5ece32){_0x1f7c93[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x5ece32);},this[_0x1a9f('0x30c')]=function(_0x5ece32){_0x5ece32[_0x1a9f('0x1d5')]&&_0x1f7c93[_0x1a9f('0x343')][_0x1a9f('0x1d5')][_0x1a9f('0x1d')](_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')]),_0x5ece32[_0x1a9f('0x21e')]&&_0x1f7c93['material'][_0x1a9f('0x21e')][_0x1a9f('0x30c')](color);};break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4d7')]:(_0x1f7c93=_0x46c63d[_0x3eaf61['MarkerFuncName'][_0x1a9f('0xb2')]](_0x328639))['visible']=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this['o3d_'][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x43c')]=function(_0x5ece32){_0x1f7c93['autoScale']=_0x5ece32;};break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4d8')]:(_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')]['Points']](_0x328639))['visible']=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this['o3d_'][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93;break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4d9')]:(_0x1f7c93=_0x46c63d[_0x3eaf61['MarkerFuncName']['CircleRippleMarker']](_0x328639))['visible']=!0x0,this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this['setPosition']({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this[_0x1a9f('0xf3')]=function(_0x5ece32){_0x1f7c93[_0x1a9f('0x48')][_0x1a9f('0x21e')]['setStyle'](_0x5ece32);},this[_0x1a9f('0x30c')]=function(_0x5ece32){_0x5ece32['scale']&&_0x1f7c93['object3d'][_0x1a9f('0x1d5')]['set'](_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')],_0x5ece32[_0x1a9f('0x1d5')]),_0x5ece32[_0x1a9f('0x21e')]&&_0x1f7c93[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](color);};break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4da')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x287')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93['object3d'],(this[_0x1a9f('0x49c')]['datas_']=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this['setPosition']({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]);break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4db')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28d')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93['object3d'],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93;break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4dc')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')]['ExtentWallMarker']](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4dd')]=_0x1f7c93[_0x1a9f('0x4c1')],this[_0x1a9f('0x4de')]=function(_0x5ece32){_0x5ece32[_0x1a9f('0x21e')]&&_0x1f7c93['wallMaterial'][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x5ece32['color']);},this[_0x1a9f('0x4df')]=function(_0x5ece32){var _0x274593=[],_0x361d12=_0x5ece32['points'][0x0],_0x481b00=(_0x361d12[_0x1a9f('0x106')]=_0x361d12[_0x1a9f('0x106')]||0x0,!0x0),_0x510bbf=!0x1,_0x3cb729=void 0x0;try{for(var _0x390699,_0x505c4e=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x5ece32[_0x1a9f('0x429')]);!(_0x481b00=(_0x390699=_0x505c4e[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x481b00=!0x0){var _0x302da2=_0x390699['value'];_0x274593['push']({'x':-_0x302da2['x'],'y':_0x302da2[_0x1a9f('0x106')]||0x0,'z':_0x302da2['y']});}}catch(_0x200d38){_0x510bbf=!0x0,_0x3cb729=_0x200d38;}finally{try{!_0x481b00&&_0x505c4e[_0x1a9f('0xd0')]&&_0x505c4e[_0x1a9f('0xd0')]();}finally{if(_0x510bbf)throw _0x3cb729;}}_0x510bbf=_0x1f7c93[_0x1a9f('0x4c2')]({'points':_0x274593,'extentId':_0x5ece32['id'],'wallHeight':_0x5ece32[_0x1a9f('0x4c3')]||_0x328639[_0x1a9f('0x4c3')],'isNoClose':_0x5ece32[_0x1a9f('0x4c4')]||_0x328639['isNoClose']});_0x355a3c(_0x328639,_0x510bbf),(0x0,_0x40e5e8[_0x1a9f('0x34')])(_0x510bbf,_0x361d12,_0x361d12['offset']+_0x328639['height']),_0x328639[_0x1a9f('0x323')]&&(_0x510bbf[_0x1a9f('0x323')]=_0x328639[_0x1a9f('0x323')]);},this[_0x1a9f('0x4e0')]=function(_0x5ece32){var _0x274593=!0x0,_0x361d12=!0x1,_0x481b00=void 0x0;try{for(var _0x510bbf,_0x3cb729=(0x0,_0x2af4a1['default'])(_0x1f7c93['extentWallList']);!(_0x274593=(_0x510bbf=_0x3cb729['next']())[_0x1a9f('0xce')]);_0x274593=!0x0){var _0x390699=_0x510bbf[_0x1a9f('0x11')];if(_0x390699['id']===_0x5ece32){_0x1f7c93[_0x1a9f('0x343')][_0x1a9f('0x93')](_0x390699[_0x1a9f('0x1e4')]);break;}}}catch(_0x2be9f4){_0x361d12=!0x0,_0x481b00=_0x2be9f4;}finally{try{!_0x274593&&_0x3cb729[_0x1a9f('0xd0')]&&_0x3cb729[_0x1a9f('0xd0')]();}finally{if(_0x361d12)throw _0x481b00;}}};break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4e1')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28f')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this['outfire']=function(_0x5ece32){this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4e2')](_0x5ece32);};break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4e3')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x291')]](_0x328639),this['o3d_']=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')]['datas_']=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this['setPosition']({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]);break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4e4')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x290')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')]['datas_']=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639['height']);break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4e5')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x292')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this['setPosition']({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639['height']);break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4e6')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x293')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca]['_instance']=_0x1f7c93,this['setPosition']({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]);break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4e7')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x28b')]](_0x328639),this['o3d_']=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93;break;case _0x3eaf61['ESMarkerType'][_0x1a9f('0x4e8')]:_0x1f7c93=_0x46c63d[_0x3eaf61['MarkerFuncName']['MulripleMeshLine']](_0x328639),this['o3d_']=_0x1f7c93['object3d'],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,(0x0,_0x40e5e8[_0x1a9f('0x33')])()['on'](_0x1a9f('0x4e9'),function(_0x5ece32){'2D'===_0x5ece32?_0x1f7c93[_0x1a9f('0x343')][_0x1a9f('0x342')]=!0x1:'3D'===_0x5ece32&&(_0x1f7c93[_0x1a9f('0x343')][_0x1a9f('0x342')]=!0x0);}),this['addLine']=function(_0x5ece32){var _0x274593=_0x5ece32[_0x1a9f('0x49f')],_0x361d12=_0x5ece32[_0x1a9f('0x429')],_0x5ece32=_0x5ece32['id'],_0x481b00=(0x0,_0x40e5e8[_0x1a9f('0x33')])(),_0x510bbf=_0x361d12[0x0],_0x3cb729=[],_0x390699=!0x0,_0x505c4e=!0x1,_0x302da2=void 0x0;try{for(var _0x1f7c93,_0x3eaf61=(0x0,_0x2af4a1[_0x1a9f('0xa')])(_0x361d12);!(_0x390699=(_0x1f7c93=_0x3eaf61[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x390699=!0x0){var _0x43d19e=_0x1f7c93[_0x1a9f('0x11')],_0x240aa8=_0x43d19e[_0x1a9f('0x106')]||0x0,_0x237458=(_0x43d19e['fnum']&&(_0x240aa8=_0x481b00[_0x1a9f('0x39')](_0x274593)['getFloorHeight'](_0x43d19e[_0x1a9f('0x4a0')])+_0x43d19e['offset']),_0x481b00[_0x1a9f('0x26')]({'x':_0x43d19e['x'],'y':_0x43d19e['y'],'z':_0x240aa8,'bid':_0x43d19e[_0x1a9f('0x49f')]||0x0}));_0x3cb729[_0x1a9f('0x70')](_0x237458);}}catch(_0x21fb88){_0x505c4e=!0x0,_0x302da2=_0x21fb88;}finally{try{!_0x390699&&_0x3eaf61[_0x1a9f('0xd0')]&&_0x3eaf61[_0x1a9f('0xd0')]();}finally{if(_0x505c4e)throw _0x302da2;}}_0x361d12=this[_0x24c9ca][_0x1a9f('0x4d2')]['addLine'](_0x3cb729,!0x0);return this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x323')]&&(_0x361d12['renderOrder']=this[_0x24c9ca]['_instance']['renderOrder']),_0x5ece32&&(_0x361d12['userId']=_0x5ece32),(0x0,_0x40e5e8['setPositionFromMc'])(_0x361d12,_0x510bbf,_0x328639['height']),_0x355a3c(_0x328639,_0x361d12),{'lastAngle':_0x361d12[_0x1a9f('0x325')]};},this['_getMaterial']=this[_0x24c9ca]['_instance'][_0x1a9f('0x315')],this['addLineGeometry']=this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4ea')][_0x1a9f('0x9')](this[_0x24c9ca][_0x1a9f('0x4d2')]),this[_0x1a9f('0x33d')]=function(_0x5ece32){this[_0x24c9ca]['_instance'][_0x1a9f('0x33d')](_0x5ece32);},this[_0x1a9f('0x4eb')]=function(_0x5ece32){this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x315')][_0x1a9f('0x389')]=_0x5ece32;},this[_0x1a9f('0x4ec')]=function(_0x5ece32){_0x5ece32=_0x5ece32||0x1,this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4ed')]||(this[_0x24c9ca][_0x1a9f('0x4d2')]['_originLineWidth']=this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x315')][_0x1a9f('0x312')]),this[_0x24c9ca][_0x1a9f('0x4d2')]['lineMaterial'][_0x1a9f('0x312')]=this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4ed')]*_0x5ece32;};break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4ee')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x294')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this['playVideo']=function(){this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4ef')]();},this[_0x1a9f('0x4f0')]=function(){this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x4f0')]();};break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4f1')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x296')]](_0x328639),this[_0x1a9f('0x49c')]=_0x1f7c93['object3d'],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this[_0x1a9f('0x4f2')]=function(_0x5ece32){this[_0x1a9f('0x49c')]['rotation']['y']=THREE[_0x1a9f('0x18')]['degToRad'](_0x5ece32);};break;case _0x3eaf61[_0x1a9f('0x271')][_0x1a9f('0x4f3')]:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')]['PlaneFogMarker']](_0x328639),this['o3d_']=_0x1f7c93[_0x1a9f('0x343')],(this['o3d_']['datas_']=this)[_0x24c9ca]['_instance']=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]),this[_0x1a9f('0x4f4')]=function(_0x5ece32){this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x5ece32;};break;case _0x3eaf61[_0x1a9f('0x271')]['PLANE_TERRAIN']:_0x1f7c93=_0x46c63d[_0x3eaf61[_0x1a9f('0x26c')][_0x1a9f('0x298')]](_0x328639),this['o3d_']=_0x1f7c93[_0x1a9f('0x343')],(this[_0x1a9f('0x49c')][_0x1a9f('0x46')]=this)[_0x24c9ca][_0x1a9f('0x4d2')]=_0x1f7c93,this[_0x1a9f('0x4d3')]({'x':_0x328639['x'],'y':_0x328639['y']},_0x328639[_0x1a9f('0x33b')]);}_0x328639[_0x1a9f('0x41f')]&&(_0x5ece32=_0x328639[_0x1a9f('0x4f5')]||0x1f4,_0x5ece32=new THREE[(_0x1a9f('0x4f6'))](_0x5ece32),this[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x5ece32));}},{'key':'setPosition','value':function(_0x5ece32,_0x274593){_0x5ece32=(0x0,_0x40e5e8[_0x1a9f('0x36')])(_0x5ece32['x'],_0x5ece32['y']);this['o3d_'][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x5ece32['x'],_0x274593||0x0,_0x5ece32['y']);}},{'key':_0x1a9f('0x4f7'),'value':function(_0x5ece32){this[_0x1a9f('0x49c')]['rotation']['set'](THREE['Math'][_0x1a9f('0x2de')](_0x5ece32['x']),THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x5ece32['y']),THREE['Math'][_0x1a9f('0x2de')](_0x5ece32['z']));}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x4f8')]=!0x1,this[_0x1a9f('0x4f9')](),_0x237458[_0x1a9f('0xa')]['disposeAll'](this[_0x1a9f('0x49c')]),this[_0x24c9ca][_0x1a9f('0x4d2')]=null;}},{'key':_0x1a9f('0x4fa'),'value':function(_0x5ece32){var _0x274593=(0x0,_0x40e5e8[_0x1a9f('0x33')])();_0x5ece32[_0x1a9f('0x46')]={'nodeType':_0x1a9f('0x4fb')},_0x274593[_0x1a9f('0x4fc')]['addObject'](_0x5ece32);}},{'key':'upadateMarker','value':function(_0x5ece32){this[_0x1a9f('0x4f8')]=!0x0,this[_0x1a9f('0x34f')]&&this['callback'](_0x5ece32);}},{'key':_0x1a9f('0x4fd'),'value':function(){this['addEventListener'](_0x1a9f('0x44c'),this[_0x1a9f('0x4fe')]);}},{'key':_0x1a9f('0x4f9'),'value':function(){this['removeEventListener'](_0x1a9f('0x44c'),this[_0x1a9f('0x4fe')]);}},{'key':_0x1a9f('0x4ff'),'value':function(){var _0x274593=this,_0x5ece32=(0x0,_0x40e5e8['getMapInstance'])();(0x0,_0x40e5e8[_0x1a9f('0x35')])()?_0x5ece32['on'](_0x1a9f('0x500'),function(_0x5ece32){_0x274593[_0x1a9f('0x501')]||(Array[_0x1a9f('0xd6')](_0x274593['showLevel'])?_0x274593[_0x1a9f('0x49c')][_0x1a9f('0x342')]=_0x5ece32>=_0x274593[_0x1a9f('0x502')][0x0]&&_0x5ece32<=_0x274593[_0x1a9f('0x502')][0x1]:_0x274593['o3d_'][_0x1a9f('0x342')]=_0x5ece32>=_0x274593[_0x1a9f('0x502')]);}):_0x5ece32['on']('scaleLevelChanged',function(_0x5ece32){_0x5ece32[_0x1a9f('0x503')]<_0x274593[_0x1a9f('0x502')]?_0x274593['o3d_'][_0x1a9f('0x342')]=!0x0:_0x274593[_0x1a9f('0x49c')][_0x1a9f('0x342')]=!0x1;});}},{'key':_0x1a9f('0x504'),'value':function(_0x5ece32){var _0x274593;this[_0x1a9f('0x4f8')]&&(this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x2e4')]&&this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x2e4')](_0x5ece32),this[_0x24c9ca]['_instance']['render']&&((_0x274593=this[_0x24c9ca][_0x1a9f('0x4d2')][_0x1a9f('0x3e8')])&&(_0x274593[_0x1a9f('0x56')]&&(_0x274593['vertexShader']=''),_0x274593[_0x1a9f('0x57')]&&(_0x274593[_0x1a9f('0x57')]='')),this[_0x24c9ca]['_instance']['render'](_0x5ece32)));}},{'key':_0x1a9f('0x342'),'set':function(_0x5ece32){this[_0x1a9f('0x49c')][_0x1a9f('0x342')]=_0x5ece32;},'get':function(){return this['o3d_'][_0x1a9f('0x342')];}},{'key':_0x1a9f('0x40c'),'set':function(_0x5ece32){this[_0x24c9ca]['_instance'][_0x1a9f('0x40c')]=_0x5ece32;}}]),_0x350a55);function _0x350a55(_0x5ece32,_0x274593){(0x0,_0x505c4e['default'])(this,_0x350a55);var _0x361d12=(0x0,_0x302da2[_0x1a9f('0xa')])(this,(_0x350a55['__proto__']||(0x0,_0x390699[_0x1a9f('0xa')])(_0x350a55))[_0x1a9f('0xd')](this)),_0x481b00=(_0x361d12[_0x1a9f('0x4f8')]=!0x1,_0x361d12['id']=_0x274593['id']||'',_0x361d12[_0x1a9f('0x427')]=_0x274593[_0x1a9f('0x427')]||'',_0x361d12[_0x1a9f('0x505')]=_0x5ece32,_0x361d12[_0x1a9f('0x49b')]=0x1,_0x361d12[_0x1a9f('0x502')]=_0x274593['showLevel'],_0x361d12['o3d_']=null,_0x361d12[_0x1a9f('0x506')]=_0x274593,_0x361d12[_0x24c9ca]={},(0x0,_0x328639[_0x1a9f('0xa')])(_0x5ece32)),_0x510bbf=!0x1,_0x3cb729=(0x0,_0x40e5e8[_0x1a9f('0x33')])();return _0x3cb729&&(_0x510bbf=_0x3cb729[_0x1a9f('0x507')][_0x1a9f('0x508')]('sk')),!0x0===_0x481b00||_0x510bbf?(Object[_0x1a9f('0x3')](_0x361d12[_0x24c9ca],_0x1a9f('0x4d2'),{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x361d12[_0x1a9f('0x509')](_0x5ece32,_0x274593),_0x361d12[_0x1a9f('0x4fd')](),_0x274593[_0x1a9f('0x502')]&&_0x361d12[_0x1a9f('0x4ff')](_0x274593['showLevel']),_0x361d12['callback']=_0x274593['callback'],_0x361d12):(console[_0x1a9f('0xe4')](_0x481b00+_0x1a9f('0x50a')),(0x0,_0x302da2[_0x1a9f('0xa')])(_0x361d12));}_0x274593[_0x1a9f('0xa')]=_0x240aa8;},function(_0x4a38a7,_0x331d43,_0x541698){'use strict';Object[_0x1a9f('0x3')](_0x331d43,'__esModule',{'value':!0x0});var _0x352d2a=_0x493d34(_0x541698(0x6)),_0x1741d5=_0x493d34(_0x541698(0x2d)),_0x4bcae5=_0x493d34(_0x541698(0x0)),_0x25bf09=_0x493d34(_0x541698(0x1)),_0x2fae98=_0x493d34(_0x541698(0x34)),_0x718524=_0x493d34(_0x541698(0x35)),_0x3655b6=_0x493d34(_0x541698(0x45));function _0x493d34(_0x4a38a7){return _0x4a38a7&&_0x4a38a7[_0x1a9f('0x5')]?_0x4a38a7:{'default':_0x4a38a7};}function _0x492765(_0x4a38a7){var _0x331d43=_0x4a38a7[_0x1a9f('0x90')],_0x541698=_0x4a38a7['id'],_0x25bf09=_0x4a38a7[_0x1a9f('0x447')],_0x718524=_0x4a38a7[_0x1a9f('0x50b')],_0x718524=void 0x0!==_0x718524&&_0x718524,_0x527019=_0x4a38a7[_0x1a9f('0x50c')],_0x4d08fe=_0x4a38a7[_0x1a9f('0x50d')],_0x21272d=_0x4a38a7['gradientTexPath'],_0xbfa3dc=_0x4a38a7['emissiveTexPath'],_0x493d34=_0x4a38a7[_0x1a9f('0x50e')],_0x493d34=void 0x0===_0x493d34?0.1:_0x493d34,_0x39c29c=_0x4a38a7[_0x1a9f('0x50f')],_0x39c29c=void 0x0===_0x39c29c?_0x1a9f('0x426'):_0x39c29c,_0x210b29=_0x4a38a7[_0x1a9f('0x510')],_0x210b29=void 0x0===_0x210b29?'#ffffff':_0x210b29,_0x26d1ac=_0x4a38a7[_0x1a9f('0x511')],_0x26d1ac=void 0x0===_0x26d1ac?null:_0x26d1ac,_0x1d5f65=_0x4a38a7[_0x1a9f('0x1ff')],_0x1d5f65=void 0x0===_0x1d5f65?0x1:_0x1d5f65,_0x460817=_0x4a38a7[_0x1a9f('0x512')],_0x460817=void 0x0!==_0x460817&&_0x460817,_0x2716b1=_0x4a38a7[_0x1a9f('0x513')],_0x2716b1=void 0x0!==_0x2716b1&&_0x2716b1,_0x10fd4e=_0x4a38a7[_0x1a9f('0x514')],_0x10fd4e=void 0x0!==_0x10fd4e&&_0x10fd4e,_0x1b56fa=_0x4a38a7[_0x1a9f('0x515')],_0x1b56fa=void 0x0!==_0x1b56fa&&_0x1b56fa,_0x3b9306=_0x4a38a7[_0x1a9f('0x516')],_0x3b9306=void 0x0!==_0x3b9306&&_0x3b9306,_0x45d33e=_0x4a38a7['isShowVerticalScan'],_0x45d33e=void 0x0!==_0x45d33e&&_0x45d33e,_0x352d2a=_0x4a38a7[_0x1a9f('0x517')],_0x352d2a=void 0x0!==_0x352d2a&&_0x352d2a,_0x3655b6=_0x4a38a7[_0x1a9f('0x518')],_0x3655b6=void 0x0!==_0x3655b6&&_0x3655b6,_0x2bddd6=_0x4a38a7['centerPos'],_0x2bddd6=void 0x0===_0x2bddd6?{'x':0x0,'y':0x0}:_0x2bddd6,_0x3d9d87=_0x4a38a7[_0x1a9f('0x519')],_0x3d9d87=void 0x0===_0x3d9d87?'#fbfbfb':_0x3d9d87,_0x4b22ac=_0x4a38a7[_0x1a9f('0x51a')],_0x4b22ac=void 0x0===_0x4b22ac?0x1f4:_0x4b22ac,_0x1debb9=_0x4a38a7[_0x1a9f('0x51b')],_0x1debb9=void 0x0===_0x1debb9?0x1:_0x1debb9,_0x4e7239=_0x4a38a7[_0x1a9f('0x51c')],_0x4e7239=void 0x0===_0x4e7239?[-0x2710,0x2710]:_0x4e7239,_0x342f85=_0x4a38a7[_0x1a9f('0x51d')],_0x342f85=void 0x0===_0x342f85?0x1:_0x342f85,_0x5024e9=_0x4a38a7[_0x1a9f('0x51e')],_0x5024e9=void 0x0===_0x5024e9?0x64:_0x5024e9,_0x500e20=_0x4a38a7[_0x1a9f('0x51f')],_0x500e20=void 0x0===_0x500e20?'#FFFFFF':_0x500e20,_0x3c4f68=_0x4a38a7['vlExtent'],_0x3c4f68=void 0x0===_0x3c4f68?[-0x64,0x64]:_0x3c4f68,_0x56c1eb=_0x4a38a7[_0x1a9f('0x520')],_0x56c1eb=void 0x0===_0x56c1eb?0x1:_0x56c1eb,_0x35c457=_0x4a38a7[_0x1a9f('0x521')],_0x35c457=void 0x0===_0x35c457||_0x35c457,_0x4fd1f=_0x4a38a7['csColorStr'],_0x4fd1f=void 0x0===_0x4fd1f?_0x1a9f('0x3f1'):_0x4fd1f,_0x4e76f8=_0x4a38a7['spreadValue'],_0x4e76f8=void 0x0===_0x4e76f8?0x3e8:_0x4e76f8,_0x58c059=_0x4a38a7[_0x1a9f('0x522')],_0x58c059=void 0x0===_0x58c059?0x3e8:_0x58c059,_0x1255b8=_0x4a38a7[_0x1a9f('0x523')],_0x1255b8=void 0x0===_0x1255b8?0x1:_0x1255b8,_0x240cf4=_0x4a38a7['csCenterPos'],_0x240cf4=void 0x0===_0x240cf4?{'x':0x0,'y':0x0}:_0x240cf4,_0x3b4ade=_0x4a38a7[_0x1a9f('0x524')],_0x3b4ade=void 0x0===_0x3b4ade?_0x1a9f('0x3f1'):_0x3b4ade,_0xd5c7ad=_0x4a38a7['radarRadius'],_0xd5c7ad=void 0x0===_0xd5c7ad?0x3e8:_0xd5c7ad,_0x1fc071=_0x4a38a7[_0x1a9f('0x525')],_0x1fc071=void 0x0===_0x1fc071?0x1:_0x1fc071,_0x482eb8=_0x4a38a7[_0x1a9f('0x526')],_0x482eb8=void 0x0===_0x482eb8?{'x':0x0,'y':0x0}:_0x482eb8,_0x1583f0=_0x4a38a7[_0x1a9f('0x527')],_0x24aeaf=_0x4a38a7['textureLightStrength'],_0x24aeaf=void 0x0===_0x24aeaf?{'top':0x1,'side':0x1}:_0x24aeaf,_0x3984fa=_0x4a38a7['repeat'],_0x3984fa=void 0x0===_0x3984fa?{'x':0.08,'y':0.08}:_0x3984fa,_0x1142d9=_0x4a38a7[_0x1a9f('0x528')],_0x1142d9=void 0x0===_0x1142d9?{'x':0.08,'y':0.08}:_0x1142d9,_0x1639f8=_0x4a38a7[_0x1a9f('0x529')],_0x1639f8=void 0x0===_0x1639f8?0x0:_0x1639f8,_0x3d7353=_0x4a38a7['extentEffectConfig'],_0x3d7353=void 0x0===_0x3d7353?null:_0x3d7353,_0x4a38a7=_0x4a38a7[_0x1a9f('0x52a')],_0x4a38a7=void 0x0===_0x4a38a7?null:_0x4a38a7,_0x10e214=((0x0,_0x4bcae5[_0x1a9f('0xa')])(this,_0x492765),(0x0,_0x2fae98[_0x1a9f('0xa')])(this,(_0x492765['__proto__']||(0x0,_0x1741d5['default'])(_0x492765))['call'](this))),_0x25bf09=(_0x10e214[_0x1a9f('0x90')]=_0x331d43,_0x10e214['view']=_0x25bf09,_0x10e214['id']=_0x541698,_0x10e214[_0x1a9f('0x52b')]=new THREE['Color']()['setStyle'](_0x39c29c),_0x10e214[_0x1a9f('0x52c')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x210b29),_0x10e214[_0x1a9f('0xcc')]=null,_0x10e214[_0x1a9f('0x52d')]=null,_0x10e214[_0x1a9f('0x52e')]=null,_0x10e214['extentGradientTexture']=null,_0x10e214[_0x1a9f('0x52f')]=null,_0x10e214[_0x1a9f('0x530')]=null,_0x10e214[_0x1a9f('0x531')]=null,_0x10e214[_0x1a9f('0x48')]=null,_0x10e214[_0x1a9f('0x532')]=null,_0x10e214[_0x1a9f('0x1ff')]=_0x1d5f65,_0x10e214['emissiveFactor']=new THREE['Vector4'](0x1,0x1,0x1,_0x493d34),_0x26d1ac&&(_0x331d43=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x26d1ac),_0x10e214['emissiveFactor']['x']=_0x331d43['r'],_0x10e214['emissiveFactor']['y']=_0x331d43['g'],_0x10e214[_0x1a9f('0x533')]['z']=_0x331d43['b']),_0x10e214[_0x1a9f('0x3e7')]=null,_0x10e214[_0x1a9f('0x3e8')]=null,_0x10e214[_0x1a9f('0x100')]=0x0,_0x10e214[_0x1a9f('0x534')]=_0x4e7239[0x0],_0x10e214[_0x1a9f('0x535')]=0x0,_0x10e214[_0x1a9f('0x536')]=0x0,_0x10e214['rdTime']=0x0,_0x10e214['isBlending']=_0x460817,_0x10e214[_0x1a9f('0x513')]=_0x2716b1?0x1:0x0,_0x10e214[_0x1a9f('0x516')]=_0x3b9306,_0x10e214['isShowVerticalScan']=_0x45d33e,_0x10e214['isShowCenterSpread']=_0x352d2a,_0x10e214[_0x1a9f('0x518')]=_0x3655b6,_0x10e214[_0x1a9f('0x537')]=_0x2bddd6,_0x10e214[_0x1a9f('0x514')]=_0x10fd4e?0x1:0x0,_0x10e214[_0x1a9f('0x538')]=!0x1,_0x10e214[_0x1a9f('0x51c')]=_0x4e7239,_0x10e214[_0x1a9f('0x51a')]=_0x4b22ac,_0x10e214[_0x1a9f('0x51b')]=_0x1debb9,_0x10e214[_0x1a9f('0x539')]=new THREE['Color']()['setStyle'](_0x3d9d87),_0x10e214[_0x1a9f('0x51d')]=_0x342f85,_0x10e214[_0x1a9f('0x53a')]=_0x3c4f68,_0x10e214[_0x1a9f('0x53b')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x500e20),_0x10e214[_0x1a9f('0x51e')]=_0x5024e9,_0x10e214[_0x1a9f('0x520')]=_0x56c1eb,_0x10e214[_0x1a9f('0x521')]=_0x35c457,_0x10e214['csColor']=new THREE['Color']()[_0x1a9f('0x30c')](_0x4fd1f),_0x10e214[_0x1a9f('0x53c')]=_0x4e76f8,_0x10e214[_0x1a9f('0x522')]=_0x58c059,_0x10e214[_0x1a9f('0x523')]=_0x1255b8,_0x10e214[_0x1a9f('0x53d')]=_0x240cf4,_0x10e214[_0x1a9f('0x53e')]=new THREE['Color']()[_0x1a9f('0x30c')](_0x3b4ade),_0x10e214[_0x1a9f('0x53f')]=_0xd5c7ad,_0x10e214['radarSpeed']=_0x1fc071,_0x10e214[_0x1a9f('0x527')]=_0x1583f0,_0x10e214[_0x1a9f('0x526')]=_0x482eb8,_0x10e214[_0x1a9f('0x515')]=_0x1b56fa,_0x10e214['textureRepeat']=new THREE[(_0x1a9f('0x1b6'))](_0x1142d9['x'],_0x1142d9['y'],_0x3984fa['x'],_0x3984fa['y']),_0x10e214[_0x1a9f('0x540')]=new THREE['Vector2'](THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x1639f8),0x0),_0x10e214['textureLightStrength']=new THREE[(_0x1a9f('0x1b3'))](_0x24aeaf['top'],_0x24aeaf[_0x1a9f('0x37a')]),_0x10e214[_0x1a9f('0x541')]=!0x1,_0x10e214[_0x1a9f('0x3f7')]=0x1f4,_0x10e214[_0x1a9f('0x542')]={'x':0x0,'y':0x0},null),_0x541698=(_0x3d7353&&(_0x10e214[_0x1a9f('0x541')]=!0x0,_0x10e214[_0x1a9f('0x3f7')]=_0x3d7353[_0x1a9f('0x21c')],_0x10e214[_0x1a9f('0x542')]=_0x3d7353['center'],_0x25bf09=_0x3d7353[_0x1a9f('0x543')]),_0x10e214[_0x1a9f('0x544')]=!0x1,null);return _0x4a38a7&&(_0x10e214[_0x1a9f('0x544')]=!0x0,_0x541698=_0x4a38a7[_0x1a9f('0x545')]),_0x10e214[_0x1a9f('0x44')]=null,_0x10e214['_heightColorConfigs']=null,_0x10e214[_0x1a9f('0x50b')]=_0x718524,_0x10e214[_0x1a9f('0x546')]=null,_0x10e214[_0x1a9f('0x547')]=null,_0x10e214['lightIntensity']=0x1,_0x10e214[_0x1a9f('0x548')]=0x1,_0x10e214[_0x1a9f('0xcb')]=new THREE['TextureLoader'](),_0x10e214['unrealBloom']=0x0,_0x10e214[_0x1a9f('0x309')]({'sideTexPath':_0x527019,'topTexPath':_0x4d08fe,'gradientTexPath':_0x21272d,'extentGradientTexPath':_0x25bf09,'emissiveTexPath':_0xbfa3dc,'screenSkyTexPath':_0x541698}),_0x10e214;}_0x541698=_0x541698(0x44)[_0x1a9f('0xc2')],(0x0,_0x718524['default'])(_0x492765,_0x541698),(0x0,_0x25bf09[_0x1a9f('0xa')])(_0x492765,[{'key':_0x1a9f('0x549'),'value':function(_0x4a38a7){var _0x331d43=_0x4a38a7[_0x1a9f('0x46')]['brothers'][_0x1a9f('0xf')];if(0x0<_0x331d43)for(var _0x541698=0x0;_0x541698<_0x331d43;_0x541698++)if(void 0x0!==_0x4a38a7[_0x1a9f('0x46')]['brothers'][_0x541698][_0x1a9f('0x47')]&&this[_0x1a9f('0x50b')]){var _0x25bf09=this[_0x1a9f('0x44')][_0x4a38a7['datas_']['brothers'][_0x541698][_0x1a9f('0x47')]];if(this['material']['transparent']=!0x0,void 0x0===_0x25bf09||!_0x25bf09[_0x1a9f('0x54a')]||0x1!=+_0x25bf09[_0x1a9f('0x54a')]||!_0x25bf09[_0x1a9f('0x21e')])if(void 0x0!==_0x25bf09&&_0x25bf09['filltype']&&0x2==+_0x25bf09[_0x1a9f('0x54a')]&&(_0x25bf09['topImage']||_0x25bf09[_0x1a9f('0x54b')])&&this[_0x1a9f('0x3e8')]){if(_0x25bf09[_0x1a9f('0x54c')])for(var _0x718524 in this[_0x1a9f('0x546')][this['id']][_0x1a9f('0x54d')]){var _0x493d34=_0x718524-0x1,_0x718524=this[_0x1a9f('0x546')][this['id']][_0x1a9f('0x54d')][_0x718524];if(!this['shader'][_0x1a9f('0x16a')]['topTexArr'][_0x1a9f('0x11')][_0x493d34]){this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['topTexArr'][_0x1a9f('0x11')][_0x493d34]=this[_0x1a9f('0x547')][_0x718524]['texture'],0x2!=_0x25bf09['topTextureType']?(this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x54e')][_0x1a9f('0x11')][_0x493d34][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['topTexArr'][_0x1a9f('0x11')][_0x493d34][_0x1a9f('0x349')]=THREE['RepeatWrapping'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['topTexWrapArr']['value'][_0x493d34]=THREE['RepeatWrapping'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x54f')]['value']['x']=this[_0x1a9f('0x548')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['buildingTexRepeat'][_0x1a9f('0x11')]['y']=this[_0x1a9f('0x548')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['topTexRepeatArr']['value'][_0x493d34]=Math['floor'](+_0x25bf09[_0x1a9f('0x550')]/0x1f4*0x3e8)/0x3e8):this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x551')]['value'][_0x493d34]=THREE[_0x1a9f('0x552')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x54e')][_0x1a9f('0x11')][_0x493d34][_0x1a9f('0x427')]=_0x718524;break;}}if(_0x25bf09['sideImage'])for(var _0x5c0451 in this[_0x1a9f('0x546')][this['id']]['sideImgIndexMap']){var _0xb60063=_0x5c0451-0x1,_0x5c0451=this[_0x1a9f('0x546')][this['id']]['sideImgIndexMap'][_0x5c0451];if(!this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x553')][_0x1a9f('0x11')][_0xb60063]){this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x553')][_0x1a9f('0x11')][_0xb60063]=this['themeTextureList'][_0x5c0451][_0x1a9f('0xcc')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x553')][_0x1a9f('0x11')][_0xb60063][_0x1a9f('0x4b0')]=0x10,0x2!=_0x25bf09[_0x1a9f('0x554')]?(this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x553')][_0x1a9f('0x11')][_0xb60063][_0x1a9f('0x3f8')]=THREE['RepeatWrapping'],this['shader'][_0x1a9f('0x16a')][_0x1a9f('0x553')][_0x1a9f('0x11')][_0xb60063][_0x1a9f('0x349')]=THREE['RepeatWrapping'],this['shader'][_0x1a9f('0x16a')]['sideTexWrapArr']['value'][_0xb60063]=THREE['RepeatWrapping'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x54f')][_0x1a9f('0x11')]['z']=this[_0x1a9f('0x548')],this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x54f')]['value']['w']=this['buildingBaseRepeat'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x555')][_0x1a9f('0x11')][_0xb60063]=Math[_0x1a9f('0x6e')](+_0x25bf09[_0x1a9f('0x556')]/0x1f4*0x3e8)/0x3e8):this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x557')][_0x1a9f('0x11')][_0xb60063]=THREE[_0x1a9f('0x552')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['sideTexArr'][_0x1a9f('0x11')][_0xb60063]['name']=_0x5c0451;break;}}}else _0x4a38a7['datas_']['brothers'][_0x541698][_0x1a9f('0x47')];}}},{'key':_0x1a9f('0x558'),'value':function(_0x4a38a7){var _0x331d43=!0x0,_0x541698=!0x1,_0x25bf09=void 0x0;try{for(var _0x718524,_0x493d34=(0x0,_0x352d2a[_0x1a9f('0xa')])(this[_0x1a9f('0x44')]);!(_0x331d43=(_0x718524=_0x493d34[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x331d43=!0x0){var _0x3390f1=_0x718524['value'];if(_0x3390f1[_0x1a9f('0x559')]==_0x4a38a7)return _0x3390f1;}}catch(_0xdd9927){_0x541698=!0x0,_0x25bf09=_0xdd9927;}finally{try{!_0x331d43&&_0x493d34[_0x1a9f('0xd0')]&&_0x493d34[_0x1a9f('0xd0')]();}finally{if(_0x541698)throw _0x25bf09;}}console[_0x1a9f('0x1f3')](_0x1a9f('0x45'),_0x4a38a7);}},{'key':_0x1a9f('0x55a'),'value':function(_0x4a38a7,_0x331d43){var _0x541698=!0x0,_0x25bf09=!0x1,_0x718524=void 0x0;try{for(var _0x493d34,_0x449a5f=(0x0,_0x352d2a['default'])(this['_heightColorConfigs']);!(_0x541698=(_0x493d34=_0x449a5f[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x541698=!0x0){var _0x33c072=_0x493d34['value'];if(_0x33c072[_0x1a9f('0x55b')][0x0]<=_0x331d43&&_0x33c072[_0x1a9f('0x55b')][0x1]>_0x331d43)return void _0x4a38a7['setStyle'](_0x33c072['color']);}}catch(_0x2d6e66){_0x25bf09=!0x0,_0x718524=_0x2d6e66;}finally{try{!_0x541698&&_0x449a5f[_0x1a9f('0xd0')]&&_0x449a5f['return']();}finally{if(_0x25bf09)throw _0x718524;}}}},{'key':_0x1a9f('0x55c'),'value':function(_0x4a38a7,_0x331d43){return Math[_0x1a9f('0x1b8')](Math[_0x1a9f('0x1bc')](Math[_0x1a9f('0x31f')](_0x4a38a7['x']-_0x331d43['x'],0x2)+Math[_0x1a9f('0x31f')](_0x4a38a7['y']-_0x331d43['y'],0x2)));}},{'key':_0x1a9f('0x55d'),'value':function(_0x4a38a7,_0x331d43,_0x541698){var _0x25bf09={'x':_0x4a38a7[0x9*_0x541698],'y':_0x4a38a7[0x9*_0x541698+0x1]},_0x718524={'x':_0x4a38a7[0x9*_0x541698+0x3],'y':_0x4a38a7[0x9*_0x541698+0x4]},_0x4a38a7={'x':_0x4a38a7[0x9*_0x541698+0x6],'y':_0x4a38a7[0x9*_0x541698+0x7]};return _0x331d43[0x9*_0x541698+0x2]==_0x331d43[0x9*_0x541698+0x5]?this[_0x1a9f('0x55c')](_0x25bf09,_0x718524):_0x331d43[0x9*_0x541698+0x2]==_0x331d43[0x9*_0x541698+0x8]?this[_0x1a9f('0x55c')](_0x25bf09,_0x4a38a7):_0x331d43[0x9*_0x541698+0x5]==_0x331d43[0x9*_0x541698+0x8]?this[_0x1a9f('0x55c')](_0x718524,_0x4a38a7):void 0x0;}},{'key':_0x1a9f('0x309'),'value':function(_0x4a38a7){var _0x331d43,_0x541698=_0x4a38a7['sideTexPath'],_0x25bf09=_0x4a38a7[_0x1a9f('0x50d')],_0x718524=_0x4a38a7[_0x1a9f('0x55e')],_0x493d34=_0x4a38a7[_0x1a9f('0x55f')],_0x131892=_0x4a38a7[_0x1a9f('0x560')],_0x4a38a7=_0x4a38a7[_0x1a9f('0x561')],_0x3db03e=this,_0x40e185=new _0x3655b6[(_0x1a9f('0xa'))](),_0x590754=(this['material']=new THREE[(_0x1a9f('0x562'))]({'color':this[_0x1a9f('0x52b')]}),_0x541698&&(_0x331d43=[],_0x541698&&!this['isTileBuilding']&&_0x331d43[_0x1a9f('0x70')]({'name':_0x1a9f('0x563'),'path':_0x541698}),_0x25bf09&&!this[_0x1a9f('0x50b')]&&_0x331d43[_0x1a9f('0x70')]({'name':_0x1a9f('0x564'),'path':_0x25bf09}),_0x718524&&_0x331d43[_0x1a9f('0x70')]({'name':_0x1a9f('0x565'),'path':_0x718524}),_0x493d34&&_0x331d43['push']({'name':_0x1a9f('0x566'),'path':_0x493d34}),_0x3db03e[_0x1a9f('0x527')]&&_0x331d43[_0x1a9f('0x70')]({'name':_0x1a9f('0x567'),'path':_0x3db03e[_0x1a9f('0x527')]}),_0x131892&&_0x331d43[_0x1a9f('0x70')]({'name':_0x1a9f('0x568'),'path':_0x131892}),_0x4a38a7&&_0x331d43[_0x1a9f('0x70')]({'name':'screenSkyTex','path':_0x4a38a7}),_0x40e185['multiTexturesLoad'](_0x331d43)['then'](function(_0x4a38a7){var _0x331d43=!0x0,_0x541698=!0x1,_0x25bf09=void 0x0;try{for(var _0x718524,_0x493d34=(0x0,_0x352d2a['default'])(_0x4a38a7);!(_0x331d43=(_0x718524=_0x493d34['next']())[_0x1a9f('0xce')]);_0x331d43=!0x0){var _0x131892=_0x718524['value'];'sideTex'===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0xcc')]=_0x131892,_0x3db03e[_0x1a9f('0xcc')][_0x1a9f('0x3f8')]=THREE['RepeatWrapping'],_0x3db03e[_0x1a9f('0xcc')][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x3db03e[_0x1a9f('0xcc')]['anisotropy']=_0x3db03e[_0x1a9f('0x2c6')][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')]()),_0x1a9f('0x564')===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0x52d')]=_0x131892,_0x3db03e['topTexture']['wrapS']=THREE[_0x1a9f('0x34a')],_0x3db03e['topTexture'][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x3db03e['topTexture'][_0x1a9f('0x4b0')]=_0x3db03e[_0x1a9f('0x2c6')][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')]['getMaxAnisotropy']()),_0x1a9f('0x565')===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0x52e')]=_0x131892),_0x1a9f('0x566')===_0x131892['name']&&(_0x3db03e[_0x1a9f('0x569')]=_0x131892),_0x1a9f('0x567')===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0x530')]=_0x131892),_0x1a9f('0x568')===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0x531')]=_0x131892,_0x3db03e['emissiveTexture'][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x3db03e[_0x1a9f('0x531')][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x3db03e[_0x1a9f('0x531')][_0x1a9f('0x4b0')]=_0x3db03e[_0x1a9f('0x2c6')][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')]['getMaxAnisotropy']()),'screenSkyTex'===_0x131892[_0x1a9f('0x427')]&&(_0x3db03e[_0x1a9f('0x52f')]=_0x131892);}}catch(_0x133b60){_0x541698=!0x0,_0x25bf09=_0x133b60;}finally{try{!_0x331d43&&_0x493d34[_0x1a9f('0xd0')]&&_0x493d34[_0x1a9f('0xd0')]();}finally{if(_0x541698)throw _0x25bf09;}}_0x3db03e['dispatchEvent']({'type':'canUpdate'});})),this[_0x1a9f('0x512')]&&(this[_0x1a9f('0x48')]['blending']=THREE[_0x1a9f('0x3fa')]),this[_0x1a9f('0x1ff')]<0x1&&(this[_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,this['material'][_0x1a9f('0x1ff')]=this[_0x1a9f('0x1ff')]),null),_0x1b436d=null,_0x1c23a7=null,_0x4d4165=null,_0x59ee50=null,_0x308360=null,_0x3a394b=(this[_0x1a9f('0x50b')]&&(_0x1c23a7=new THREE[(_0x1a9f('0x56a'))](new Array(0x4)[_0x1a9f('0x4a5')](THREE[_0x1a9f('0x34a')])),_0x590754=new THREE['Uniform'](new Array(0x4)[_0x1a9f('0x4a5')](null)),_0x4d4165=new THREE[(_0x1a9f('0x56a'))](new Array(0x4)[_0x1a9f('0x4a5')](THREE[_0x1a9f('0x34a')])),_0x1b436d=new THREE[(_0x1a9f('0x56a'))](new Array(0x4)[_0x1a9f('0x4a5')](null)),_0x59ee50=new THREE[(_0x1a9f('0x56a'))](new Array(0x4)['fill'](0x1)),_0x308360=new THREE[(_0x1a9f('0x56a'))](new Array(0x4)[_0x1a9f('0x4a5')](0x1))),new THREE['Color'](this['map'][_0x1a9f('0x43')]['selectedColor_']));this[_0x1a9f('0x48')]['onBeforeCompile']=function(_0x4a38a7){_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x513')]={'type':'i','value':_0x3db03e['isOpenScan']},_0x4a38a7[_0x1a9f('0x16a')]['iTime']={'value':_0x3db03e[_0x1a9f('0x100')]},_0x4a38a7['uniforms'][_0x1a9f('0x56b')]={'value':!0x1},_0x4a38a7[_0x1a9f('0x16a')]['highLightColor']={'value':_0x3db03e[_0x1a9f('0x52c')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x56c')]={'value':_0x3a394b},_0x541698&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x563')]={'value':_0x3db03e[_0x1a9f('0xcc')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x54f')]={'value':_0x3db03e[_0x1a9f('0x56d')]},_0x4a38a7[_0x1a9f('0x16a')]['buildingTexRotate']={'value':_0x3db03e['textureRotate']},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x564')]={'value':_0x3db03e[_0x1a9f('0x52d')]},_0x4a38a7['uniforms'][_0x1a9f('0x565')]={'value':_0x3db03e[_0x1a9f('0x52e')]},_0x4a38a7['uniforms'][_0x1a9f('0x56e')]={'value':_0x3db03e[_0x1a9f('0x56f')]}),_0x131892&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x568')]={'value':_0x3db03e[_0x1a9f('0x531')]},_0x4a38a7[_0x1a9f('0x16a')]['emissiveFactor']={'value':_0x3db03e[_0x1a9f('0x533')]}),_0x3db03e['isOpenScan']&&(_0x4a38a7[_0x1a9f('0x16a')]['isShowScan']={'value':!0x0},_0x4a38a7[_0x1a9f('0x16a')]['centerPos']={'value':new THREE[(_0x1a9f('0x1b3'))](_0x3db03e[_0x1a9f('0x537')]['x'],_0x3db03e[_0x1a9f('0x537')]['y'])},_0x3db03e[_0x1a9f('0x516')]&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x539')]={'value':_0x3db03e[_0x1a9f('0x539')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x51b')]={'value':_0x3db03e[_0x1a9f('0x51b')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x51a')]={'value':_0x3db03e[_0x1a9f('0x51a')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x534')]={'value':_0x3db03e['hlTime']}),_0x3db03e[_0x1a9f('0x570')]&&(_0x4a38a7[_0x1a9f('0x16a')]['vlColor']={'value':_0x3db03e['vlColor']},_0x4a38a7[_0x1a9f('0x16a')]['vlHeight']={'value':_0x3db03e[_0x1a9f('0x51e')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x535')]={'value':_0x3db03e[_0x1a9f('0x535')]}),_0x3db03e[_0x1a9f('0x517')]&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x53d')]={'value':new THREE['Vector2'](_0x3db03e['csCenterPos']['x'],_0x3db03e[_0x1a9f('0x53d')]['y'])},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x53c')]={'value':_0x3db03e[_0x1a9f('0x53c')]},_0x4a38a7[_0x1a9f('0x16a')]['csColor']={'value':_0x3db03e['csColor']},_0x4a38a7['uniforms'][_0x1a9f('0x536')]={'value':_0x3db03e[_0x1a9f('0x536')]}),_0x3db03e[_0x1a9f('0x518')]&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x571')]={'value':new THREE[(_0x1a9f('0x1b3'))](_0x3db03e[_0x1a9f('0x526')]['x'],_0x3db03e['radarCenterPos']['y'])},_0x4a38a7['uniforms'][_0x1a9f('0x572')]={'value':_0x3db03e[_0x1a9f('0x53f')]},_0x4a38a7['uniforms']['rdColor']={'value':_0x3db03e[_0x1a9f('0x53e')]},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x573')]={'value':_0x3db03e['rdTime']},_0x4a38a7['uniforms']['rdScanTex']={'value':_0x3db03e[_0x1a9f('0x530')]})),_0x3db03e[_0x1a9f('0x541')]&&(_0x4a38a7['uniforms'][_0x1a9f('0x3f7')]={'value':_0x3db03e[_0x1a9f('0x3f7')]},_0x4a38a7[_0x1a9f('0x16a')]['extentCenter']={'value':new THREE[(_0x1a9f('0x1b3'))](_0x3db03e[_0x1a9f('0x542')]['x'],_0x3db03e[_0x1a9f('0x542')]['y'])},_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x574')]={'value':_0x3db03e[_0x1a9f('0x569')]}),_0x3db03e[_0x1a9f('0x544')]&&(_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x460')]={'value':_0x3db03e[_0x1a9f('0x52f')]}),_0x3db03e[_0x1a9f('0x50b')]&&(_0x4a38a7['uniforms']['topTexArr']=_0x590754,_0x4a38a7[_0x1a9f('0x16a')]['sideTexArr']=_0x1b436d,_0x4a38a7[_0x1a9f('0x16a')]['topTexWrapArr']=_0x1c23a7,_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x557')]=_0x4d4165,_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x575')]=_0x59ee50,_0x4a38a7[_0x1a9f('0x16a')][_0x1a9f('0x555')]=_0x308360,_0x4a38a7[_0x1a9f('0x16a')]['styleId']={'value':_0x3db03e['id']}),_0x4a38a7[_0x1a9f('0x56')]=_0x4a38a7[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x541698?'#define\x20IS_TEXTURE':'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x513')]?'#define\x20IS_OPEN_EF':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3db03e[_0x1a9f('0x50b')]?_0x1a9f('0x577'):'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x544')]?_0x1a9f('0x578'):'')+_0x1a9f('0x579')),_0x4a38a7[_0x1a9f('0x56')]=_0x4a38a7[_0x1a9f('0x56')]['replace'](_0x1a9f('0x463'),_0x1a9f('0x57a')),_0x4a38a7[_0x1a9f('0x56')]=_0x4a38a7[_0x1a9f('0x56')]['replace'](_0x1a9f('0x46b'),_0x1a9f('0x57b')),_0x4a38a7[_0x1a9f('0x57')]=_0x4a38a7[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x576')+(_0x541698?_0x1a9f('0x57c'):'')+_0x1a9f('0x576')+(_0x718524?_0x1a9f('0x57d'):'')+_0x1a9f('0x576')+(_0x131892?'#define\x20IS_EMISSIVE_TEXTURE':'')+_0x1a9f('0x576')+(_0x3db03e['isOpenScan']?'#define\x20IS_OPEN_EF':'')+_0x1a9f('0x576')+(_0x3db03e['isBreathColor']?_0x1a9f('0x57e'):'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x516')]?_0x1a9f('0x57f'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3db03e[_0x1a9f('0x570')]?_0x1a9f('0x580'):'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x517')]?_0x1a9f('0x581'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3db03e[_0x1a9f('0x518')]?_0x1a9f('0x582'):'')+_0x1a9f('0x576')+(_0x3db03e['isUseExtentEffect']?_0x1a9f('0x583'):'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x544')]?_0x1a9f('0x578'):'')+_0x1a9f('0x576')+(_0x3db03e[_0x1a9f('0x50b')]?_0x1a9f('0x577'):'')+_0x1a9f('0x584')),_0x4a38a7[_0x1a9f('0x57')]=_0x4a38a7[_0x1a9f('0x57')]['replace'](_0x1a9f('0x585'),_0x1a9f('0x586')),_0x4a38a7[_0x1a9f('0x57')]=_0x4a38a7['fragmentShader']['replace'](_0x1a9f('0x587'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4a38a7[_0x1a9f('0x57')]=_0x4a38a7[_0x1a9f('0x57')][_0x1a9f('0x239')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1a9f('0x588')),_0x3db03e['shader']=_0x4a38a7,_0x3db03e[_0x1a9f('0x44b')]({'type':_0x1a9f('0x589')});};}},{'key':_0x1a9f('0x58a'),'value':function(_0x4a38a7){_0x4a38a7['color'],this['shader'];}},{'key':'getMaterial','value':function(){return this[_0x1a9f('0x48')];}},{'key':_0x1a9f('0x58b'),'value':function(){return this[_0x1a9f('0x532')];}},{'key':_0x1a9f('0x58c'),'value':function(_0x4a38a7,_0x331d43){var _0x541698=this;new TWEEN[(_0x1a9f('0x2e0'))]({'intensity':_0x4a38a7})['to']({'intensity':_0x331d43},0x7d0)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')]['Quadratic'][_0x1a9f('0x2eb')])[_0x1a9f('0x2e3')](function(_0x4a38a7){_0x541698[_0x1a9f('0x58d')]=_0x4a38a7['intensity'],_0x541698[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x437')](0x0,0x0,_0x4a38a7[_0x1a9f('0x454')]);})[_0x1a9f('0x2e2')]();}},{'key':_0x1a9f('0x58e'),'value':function(_0x4a38a7,_0x331d43){var _0x541698=this;new TWEEN[(_0x1a9f('0x2e0'))]({'radius':_0x4a38a7})['to']({'radius':_0x331d43},0x7d0)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')][_0x1a9f('0x2eb')])[_0x1a9f('0x2e3')](function(_0x4a38a7){_0x541698[_0x1a9f('0x3f7')]=_0x4a38a7[_0x1a9f('0x21c')],_0x541698[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x3f7')][_0x1a9f('0x11')]=_0x4a38a7[_0x1a9f('0x21c')];})[_0x1a9f('0x2e2')]();}},{'key':_0x1a9f('0x8f'),'value':function(){this['material']&&this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this[_0x1a9f('0xcc')]?this[_0x1a9f('0xcc')][_0x1a9f('0x8f')]():this[_0x1a9f('0xcc')]=null,this[_0x1a9f('0x52d')]?this['topTexture'][_0x1a9f('0x8f')]():this[_0x1a9f('0x52d')]=null,this[_0x1a9f('0x52e')]?this[_0x1a9f('0x52e')][_0x1a9f('0x8f')]():this['gradientTexture']=null,this['shader'],this['shader']=null,this[_0x1a9f('0x3e7')]&&(this[_0x1a9f('0x3e7')][_0x1a9f('0x48')][0x0]=null),this[_0x1a9f('0x3e7')]=null;}},{'key':_0x1a9f('0x340'),'value':function(_0x4a38a7){this['shader']&&(this['count']+=_0x4a38a7,this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')],this[_0x1a9f('0x516')]&&(this[_0x1a9f('0x534')]>this[_0x1a9f('0x51c')][0x1]&&(this['hlTime']=this[_0x1a9f('0x51c')][0x0]),this[_0x1a9f('0x534')]+=_0x4a38a7*this['hlSpeed'],this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x534')][_0x1a9f('0x11')]=-this[_0x1a9f('0x534')]),this[_0x1a9f('0x570')]&&(this['vlTime']>this[_0x1a9f('0x53a')][0x0]&&(this['vlTime']=this[_0x1a9f('0x53a')][0x1]),this[_0x1a9f('0x535')]+=_0x4a38a7*this[_0x1a9f('0x520')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x535')]['value']=-this[_0x1a9f('0x535')]),this['isShowCenterSpread']&&(this[_0x1a9f('0x536')]+=_0x4a38a7*this['csSpeed'],this[_0x1a9f('0x536')]>this[_0x1a9f('0x522')]&&(this[_0x1a9f('0x536')]=0x0),this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['csTime'][_0x1a9f('0x11')]=this['csTime']),this['isShowRadarScan']&&(this[_0x1a9f('0x573')]+=_0x4a38a7*this['radarSpeed'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x573')]['value']=this[_0x1a9f('0x573')]));}}]),_0x331d43['default']=_0x492765;},function(_0x4e4356,_0xd9002f,_0x3b11d6){'use strict';Object['defineProperty'](_0xd9002f,_0x1a9f('0x5'),{'value':!0x0});var _0x434618=_0x1d80b8(_0x3b11d6(0x0));function _0x1d80b8(_0x4e4356){return _0x4e4356&&_0x4e4356[_0x1a9f('0x5')]?_0x4e4356:{'default':_0x4e4356};}function _0x45f4d3(_0x4e4356){var _0xd9002f=_0x4e4356[_0x1a9f('0x30a')],_0xd9002f=void 0x0===_0xd9002f?_0x1a9f('0x58f'):_0xd9002f,_0x3b11d6=_0x4e4356[_0x1a9f('0x590')],_0x3b11d6=void 0x0===_0x3b11d6?0x4:_0x3b11d6,_0x4e4356=_0x4e4356[_0x1a9f('0x341')],_0x4e4356=void 0x0===_0x4e4356?0x4:_0x4e4356;(0x0,_0x434618[_0x1a9f('0xa')])(this,_0x45f4d3),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this['colorStr']=_0xd9002f,this[_0x1a9f('0x341')]=_0x4e4356,this[_0x1a9f('0x590')]=_0x3b11d6,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x168')]={'cubeShader':null,'lineShader':null},this['wireMaterial']=null,this[_0x1a9f('0x343')][_0x1a9f('0x342')]=!0x1,this['createMaterial']();}(0x0,_0x1d80b8(_0x3b11d6(0x1))['default'])(_0x45f4d3,[{'key':_0x1a9f('0x309'),'value':function(){var _0xd9002f=this;this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x3e9'))](),this[_0x1a9f('0x48')]['color']=new THREE['Color']()[_0x1a9f('0x30c')](this[_0x1a9f('0x30a')]),this[_0x1a9f('0x48')]['onBeforeCompile']=function(_0x4e4356){_0xd9002f[_0x1a9f('0x591')](_0x4e4356),_0xd9002f[_0x1a9f('0x168')][_0x1a9f('0x592')]=_0x4e4356;},this[_0x1a9f('0x593')]=new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff,'wireframe':!0x0}),this['wireMaterial'][_0x1a9f('0x3ea')]=function(_0x4e4356){_0xd9002f[_0x1a9f('0x591')](_0x4e4356),_0xd9002f[_0x1a9f('0x168')][_0x1a9f('0x594')]=_0x4e4356;};}},{'key':_0x1a9f('0x591'),'value':function(_0x4e4356){_0x4e4356['uniforms']['iTime']={'value':0x0},_0x4e4356['uniforms'][_0x1a9f('0x590')]={'value':this[_0x1a9f('0x590')]},_0x4e4356[_0x1a9f('0x56')]=_0x4e4356['vertexShader']['replace'](_0x1a9f('0x595'),_0x1a9f('0x596')),_0x4e4356[_0x1a9f('0x56')]=_0x4e4356[_0x1a9f('0x56')]['replace'](_0x1a9f('0x597'),_0x1a9f('0x598'));}},{'key':_0x1a9f('0x7'),'value':function(_0x4e4356){for(var _0x4e4356=_0x4e4356[_0x1a9f('0x21c')],_0x4e4356=void 0x0===_0x4e4356?0x5:_0x4e4356,_0xd9002f=new THREE[(_0x1a9f('0x1e5'))](),_0x3b11d6=new THREE['OctahedronBufferGeometry'](0x1,0x0),_0x434618=0x0,_0x1d80b8=_0x3b11d6[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0xe0')],_0x45f4d3=_0x1d80b8[_0x1a9f('0xf')];_0x434618<_0x45f4d3;_0x434618+=0x3)0x1===_0x1d80b8[_0x434618+0x1]&&(_0x1d80b8[_0x434618+0x1]=0x2);var _0x4cb145=new THREE[(_0x1a9f('0x332'))](_0x3b11d6,this[_0x1a9f('0x48')]),_0x4cb145=(_0x4cb145[_0x1a9f('0x1eb')]['x']=-Math['PI'],_0xd9002f['add'](_0x4cb145),new THREE[(_0x1a9f('0x332'))](_0x3b11d6,this[_0x1a9f('0x593')]));return _0x4cb145[_0x1a9f('0x1eb')]['x']=-Math['PI'],_0x4cb145[_0x1a9f('0x1d5')][_0x1a9f('0x1d')](1.01,1.01,1.01),_0xd9002f['add'](_0x4cb145),_0xd9002f[_0x1a9f('0x1d5')][_0x1a9f('0x1d')](_0x4e4356,_0x4e4356,_0x4e4356),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0xd9002f),_0xd9002f;}},{'key':'render','value':function(_0x4e4356){this['shaders'][_0x1a9f('0x592')]&&this[_0x1a9f('0x168')]['lineShader']&&(this[_0x1a9f('0x168')][_0x1a9f('0x592')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')][_0x1a9f('0x11')]+=_0x4e4356*this[_0x1a9f('0x341')],this[_0x1a9f('0x168')][_0x1a9f('0x594')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')]['value']+=_0x4e4356*this[_0x1a9f('0x341')]);}},{'key':_0x1a9f('0x342'),'set':function(_0x4e4356){this['object3d']&&(this[_0x1a9f('0x343')][_0x1a9f('0x342')]=_0x4e4356);}}]),_0xd9002f[_0x1a9f('0xa')]=_0x45f4d3;},function(_0xd4aaa2,_0x1d85a9,_0x17b5d0){'use strict';Object[_0x1a9f('0x3')](_0x1d85a9,_0x1a9f('0x5'),{'value':!0x0});var _0x2cd09e=_0xbd9161(_0x17b5d0(0x0));function _0xbd9161(_0xd4aaa2){return _0xd4aaa2&&_0xd4aaa2['__esModule']?_0xd4aaa2:{'default':_0xd4aaa2};}function _0x56d319(){(0x0,_0x2cd09e[_0x1a9f('0xa')])(this,_0x56d319),this[_0x1a9f('0x343')]=null,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x21c')]=0x0,this[_0x1a9f('0x599')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0xbd9161(_0x17b5d0(0x1))['default'])(_0x56d319,[{'key':_0x1a9f('0x7'),'value':function(_0xd4aaa2){var _0x1d85a9=_0xd4aaa2[_0x1a9f('0xcc')],_0x17b5d0=_0xd4aaa2['radius'],_0x2cd09e=_0xd4aaa2[_0x1a9f('0x33b')],_0xbd9161=_0xd4aaa2[_0x1a9f('0x59a')],_0xd4aaa2=_0xd4aaa2['colorStr'],_0x2cd09e=new THREE[(_0x1a9f('0x59b'))](_0x17b5d0,_0x17b5d0,_0x2cd09e,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x1d85a9['wrapS']=THREE['RepeatWrapping'],_0x1d85a9[_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x1d85a9[_0x1a9f('0x302')]['x']=0x4,this[_0x1a9f('0x48')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE['DoubleSide'],'transparent':!0x0,'map':_0x1d85a9,'depthWrite':!0x1}),_0xd4aaa2&&(this['material'][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0xd4aaa2)),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x332'))](_0x2cd09e,this[_0x1a9f('0x48')]),this['radius']=_0x17b5d0,_0xbd9161&&(void 0x0!==_0xbd9161[_0x1a9f('0x59c')]&&void 0x0!==_0xbd9161['swingHeight']&&(this['moveOpts'][_0x1a9f('0x59c')]=_0xbd9161['centerHeight'],this[_0x1a9f('0x599')][_0x1a9f('0x59d')]=_0xbd9161[_0x1a9f('0x59d')]),_0xbd9161[_0x1a9f('0x341')]&&(this[_0x1a9f('0x599')][_0x1a9f('0x341')]=_0xbd9161[_0x1a9f('0x341')])),this['object3d'];}},{'key':_0x1a9f('0x2e4'),'value':function(){this[_0x1a9f('0x343')]&&(this[_0x1a9f('0x343')][_0x1a9f('0x1eb')]['y']-=this['moveOpts']['speed'],this['object3d'][_0x1a9f('0x42')]['y']=Math[_0x1a9f('0x59')](0.5*this[_0x1a9f('0x343')][_0x1a9f('0x1eb')]['y'])*this[_0x1a9f('0x599')][_0x1a9f('0x59d')]+this[_0x1a9f('0x599')]['centerHeight']);}},{'key':_0x1a9f('0x342'),'set':function(_0xd4aaa2){this['object3d']&&(this[_0x1a9f('0x343')][_0x1a9f('0x342')]=_0xd4aaa2);}}]),_0x1d85a9[_0x1a9f('0xa')]=_0x56d319;},function(_0x83ef0a,_0x4e691c,_0x2d3fb5){'use strict';Object[_0x1a9f('0x3')](_0x4e691c,_0x1a9f('0x5'),{'value':!0x0});var _0x38692c=_0x46508f(_0x2d3fb5(0x0));function _0x46508f(_0x83ef0a){return _0x83ef0a&&_0x83ef0a[_0x1a9f('0x5')]?_0x83ef0a:{'default':_0x83ef0a};}function _0x394c6e(){(0x0,_0x38692c['default'])(this,_0x394c6e),this['object3d']=null,this['material']=null,this['rotateSpeed']=0x0;}(0x0,_0x46508f(_0x2d3fb5(0x1))[_0x1a9f('0xa')])(_0x394c6e,[{'key':'create','value':function(_0x83ef0a){var _0x4e691c=_0x83ef0a[_0x1a9f('0x30a')],_0x2d3fb5=_0x83ef0a['texture'],_0x38692c=_0x83ef0a[_0x1a9f('0x21c')],_0x38692c=void 0x0===_0x38692c?0x64:_0x38692c,_0x46508f=_0x83ef0a['speed'],_0x46508f=void 0x0===_0x46508f?0x1:_0x46508f,_0x83ef0a=_0x83ef0a['textureAngle'],_0x83ef0a=void 0x0===_0x83ef0a?0x0:_0x83ef0a,_0x38692c=new THREE[(_0x1a9f('0x3f0'))](_0x38692c,_0x38692c);_0x2d3fb5[_0x1a9f('0x1eb')]=THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x83ef0a),this[_0x1a9f('0x48')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'map':_0x2d3fb5,'depthWrite':!0x1,'side':THREE[_0x1a9f('0x3f9')]}),_0x4e691c&&(this[_0x1a9f('0x48')][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x4e691c)),this[_0x1a9f('0x343')]=new THREE['Mesh'](_0x38692c,this[_0x1a9f('0x48')]),this[_0x1a9f('0x343')][_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],this[_0x1a9f('0x59e')]=_0x46508f;}},{'key':_0x1a9f('0x2e4'),'value':function(_0x83ef0a){this[_0x1a9f('0x343')]&&(this[_0x1a9f('0x343')][_0x1a9f('0x1eb')]['z']+=_0x83ef0a*this[_0x1a9f('0x59e')]);}},{'key':_0x1a9f('0x342'),'set':function(_0x83ef0a){this[_0x1a9f('0x343')]&&(this[_0x1a9f('0x343')]['visible']=_0x83ef0a);}}]),_0x4e691c[_0x1a9f('0xa')]=_0x394c6e;},function(_0x5676c7,_0x211796,_0x4df38e){'use strict';Object[_0x1a9f('0x3')](_0x211796,_0x1a9f('0x5'),{'value':!0x0});var _0x8cdbd1=_0x38a43b(_0x4df38e(0x6)),_0x133a70=_0x38a43b(_0x4df38e(0x0)),_0x4df38e=_0x38a43b(_0x4df38e(0x1));function _0x38a43b(_0x5676c7){return _0x5676c7&&_0x5676c7[_0x1a9f('0x5')]?_0x5676c7:{'default':_0x5676c7};}(0x0,_0x4df38e[_0x1a9f('0xa')])(_0x19001a,[{'key':_0x1a9f('0x7'),'value':function(_0x5676c7){var _0x211796=_0x5676c7[_0x1a9f('0x429')],_0x5676c7=_0x5676c7[_0x1a9f('0xcc')],_0x4df38e=[],_0x38a43b=!0x0,_0x45e3d0=!0x1,_0x136551=void 0x0;try{for(var _0x133a70,_0x46a709=(0x0,_0x8cdbd1['default'])(_0x211796);!(_0x38a43b=(_0x133a70=_0x46a709['next']())[_0x1a9f('0xce')]);_0x38a43b=!0x0){var _0x1dd613=_0x133a70[_0x1a9f('0x11')];_0x4df38e[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](-_0x1dd613['x'],(void 0x0!==_0x1dd613[_0x1a9f('0x33b')]?_0x1dd613:this)[_0x1a9f('0x33b')],_0x1dd613['y']));}}catch(_0x21d265){_0x45e3d0=!0x0,_0x136551=_0x21d265;}finally{try{!_0x38a43b&&_0x46a709['return']&&_0x46a709[_0x1a9f('0xd0')]();}finally{if(_0x45e3d0)throw _0x136551;}}for(var _0x568c0c,_0x513d18=_0x4df38e[0x0],_0x1da1b9=new Float32Array(0x4*_0x4df38e[_0x1a9f('0xf')]),_0x86c0a5=0x0,_0x862a7b=_0x4df38e[_0x1a9f('0xf')];_0x86c0a5<_0x862a7b;_0x86c0a5++)_0x1da1b9[0x0+(_0x568c0c=0x4*_0x86c0a5)]=_0x4df38e[_0x86c0a5]['x']-_0x513d18['x'],_0x1da1b9[0x1+_0x568c0c]=_0x4df38e[_0x86c0a5]['y']-_0x513d18['y'],_0x1da1b9[0x2+_0x568c0c]=_0x4df38e[_0x86c0a5]['z']-_0x513d18['z'],_0x1da1b9[0x3+_0x568c0c]=_0x86c0a5;var _0x211796=new THREE[(_0x1a9f('0x32e'))](),_0x45e3d0=new THREE[(_0x1a9f('0x42e'))](_0x1da1b9,0x4),_0x5ed235=(_0x211796['addAttribute'](_0x1a9f('0x42'),new THREE[(_0x1a9f('0x42f'))](_0x45e3d0,0x3,0x0)),_0x211796['addAttribute'](_0x1a9f('0x430'),new THREE[(_0x1a9f('0x42f'))](_0x45e3d0,0x1,0x3)),this[_0x1a9f('0x48')]=new THREE['PointsMaterial']({'color':0xffffff,'map':_0x5676c7,'sizeAttenuation':!0x1,'size':this['pointSize'],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this[_0x1a9f('0x30a')]&&(this[_0x1a9f('0x48')][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](this[_0x1a9f('0x30a')])),this);return this[_0x1a9f('0x48')]['onBeforeCompile']=function(_0x5676c7){_0x5676c7[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x5676c7[_0x1a9f('0x16a')][_0x1a9f('0x4b5')]={'value':_0x5ed235['animateType']},_0x5676c7['uniforms'][_0x1a9f('0x59f')]={'value':0x0},_0x5676c7[_0x1a9f('0x56')]=_0x5676c7[_0x1a9f('0x56')][_0x1a9f('0x239')]('uniform\x20float\x20scale;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5676c7[_0x1a9f('0x56')]=_0x5676c7[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x5a0'),_0x1a9f('0x5a1')),_0x5ed235[_0x1a9f('0x3e8')]=_0x5676c7;},this[_0x1a9f('0x429')]=new THREE[(_0x1a9f('0xb1'))](_0x211796,this['material']),this['points'][_0x1a9f('0x323')]=0x50,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this[_0x1a9f('0x429')]),this[_0x1a9f('0x429')];}},{'key':_0x1a9f('0x340'),'value':function(_0x5676c7){var _0x211796;this[_0x1a9f('0x429')]&&this[_0x1a9f('0x3e8')]&&(0x4===this[_0x1a9f('0x4b5')]?(_0x211796=this['timer']['getElapsedTime']()%this[_0x1a9f('0x5a2')],this[_0x1a9f('0x5a2')]-_0x211796<0.5?this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x59f')]['value']=0x1:this['shader'][_0x1a9f('0x16a')][_0x1a9f('0x59f')][_0x1a9f('0x11')]=0x0):(this['count']+=_0x5676c7,this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['iTime'][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]));}},{'key':_0x1a9f('0x342'),'set':function(_0x5676c7){this[_0x1a9f('0x429')]&&(this['points'][_0x1a9f('0x342')]=_0x5676c7);}},{'key':_0x1a9f('0x43c'),'set':function(_0x5676c7){this['points']['material']['sizeAttenuation']=!_0x5676c7,this[_0x1a9f('0x429')][_0x1a9f('0x48')]['needsUpdate']=!0x0;}}]);_0x4df38e=_0x19001a;function _0x19001a(_0x5676c7){var _0x211796=_0x5676c7[_0x1a9f('0x425')],_0x211796=void 0x0===_0x211796?0x32:_0x211796,_0x4df38e=_0x5676c7[_0x1a9f('0x30a')],_0x4df38e=void 0x0===_0x4df38e?'#ffffff':_0x4df38e,_0x38a43b=_0x5676c7[_0x1a9f('0x33b')],_0x38a43b=void 0x0===_0x38a43b?0.1:_0x38a43b,_0x4eae40=_0x5676c7[_0x1a9f('0x4b5')],_0x4eae40=void 0x0===_0x4eae40?'':_0x4eae40,_0x3e868a=_0x5676c7[_0x1a9f('0x2f8')],_0x5676c7=_0x5676c7['period'],_0x5676c7=void 0x0===_0x5676c7?0x1:_0x5676c7;switch((0x0,_0x133a70[_0x1a9f('0xa')])(this,_0x19001a),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x343')][_0x1a9f('0x427')]=_0x1a9f('0x428'),this[_0x1a9f('0x425')]=_0x211796,this[_0x1a9f('0x30a')]=_0x4df38e,this['height']=_0x38a43b,this[_0x1a9f('0x2f8')]=_0x3e868a,this[_0x1a9f('0x5a2')]=_0x5676c7,this[_0x1a9f('0x429')]=null,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x42b')]=[],_0x4eae40){case _0x1a9f('0x5a3'):this[_0x1a9f('0x4b5')]=0x1;break;case _0x1a9f('0x5a4'):this[_0x1a9f('0x4b5')]=0x2;break;case'twinkle':this[_0x1a9f('0x4b5')]=0x3;break;case _0x1a9f('0x5a5'):this[_0x1a9f('0x4b5')]=0x4;break;default:this['animateType']=0x1;}this['count']=0x0;}_0x211796['default']=_0x4df38e;},function(_0x671654,_0x3feaa6,_0x41e9cf){'use strict';Object[_0x1a9f('0x3')](_0x3feaa6,'__esModule',{'value':!0x0});var _0x3eea42=_0x574be3(_0x41e9cf(0x0)),_0x5128b7=_0x574be3(_0x41e9cf(0x1)),_0x479df3=_0x574be3(_0x41e9cf(0x81));function _0x574be3(_0x671654){return _0x671654&&_0x671654[_0x1a9f('0x5')]?_0x671654:{'default':_0x671654};}function _0x419cef(_0x671654){_0x671654=_0x671654[_0x1a9f('0x90')];(0x0,_0x3eea42[_0x1a9f('0xa')])(this,_0x419cef),this['map']=_0x671654,this['textures']=[],this[_0x1a9f('0x5a6')]=[],this[_0x1a9f('0x5a7')]=!0x1;}(0x0,_0x5128b7[_0x1a9f('0xa')])(_0x419cef,[{'key':_0x1a9f('0x5a8'),'value':function(){this[_0x1a9f('0x5a7')]||(this[_0x1a9f('0x5a7')]=!0x0);}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x5a9')][_0x1a9f('0xf')]=0x0,this[_0x1a9f('0x5a6')][_0x1a9f('0xf')]=0x0;}},{'key':_0x1a9f('0x5aa'),'value':function(){var _0x671654=document[_0x1a9f('0x77')]('canvas');return _0x671654[_0x1a9f('0x33a')]=0x2,_0x671654[_0x1a9f('0x33b')]=0x2,_0x671654[_0x1a9f('0x3dc')]('2d')[_0x1a9f('0x3df')]=_0x1a9f('0x3f1'),new THREE[(_0x1a9f('0x1c6'))](_0x671654);}},{'key':_0x1a9f('0x5ab'),'value':function(_0x671654,_0x3feaa6){_0x671654['aoMap']||(_0x671654[_0x1a9f('0x5ac')]=this[_0x1a9f('0x5aa')](),_0x671654[_0x1a9f('0x5ad')]=0x0),_0x671654[_0x1a9f('0x342')]=!0x0,_0x671654['defines'][_0x1a9f('0x5ae')]='',_0x671654[_0x1a9f('0x1d0')]=!0x0;var _0x41e9cf=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](_0x3feaa6,function(){});_0x671654['onBeforeCompile']=function(_0x671654){_0x671654[_0x1a9f('0x16a')][_0x1a9f('0x5af')]={'value':_0x41e9cf},_0x671654[_0x1a9f('0x57')]=_0x671654['fragmentShader'][_0x1a9f('0x239')]('uniform\x20float\x20opacity;',_0x1a9f('0x5b0')),_0x671654[_0x1a9f('0x57')]=_0x671654[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x5b1'),_0x1a9f('0x5b2'));};}},{'key':_0x1a9f('0x5b3'),'value':function(_0x671654,_0x3feaa6,_0x41e9cf){var _0x3eea42=this,_0x5128b7=(_0x671654[_0x1a9f('0x5ac')]||(_0x671654[_0x1a9f('0x5ac')]=this[_0x1a9f('0x5aa')](),_0x671654['aoMapIntensity']=0x0),new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](_0x3feaa6,function(){_0x3eea42[_0x1a9f('0x5a9')][_0x1a9f('0x70')](_0x5128b7);}));_0x5128b7['wrapS']=THREE[_0x1a9f('0x34a')],_0x5128b7[_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x5128b7['uv2Trans']=new THREE[(_0x1a9f('0x1b3'))](0x0,0x0),_0x5128b7[_0x1a9f('0x5b4')]=new THREE['Vector2'](0x1,0x1),_0x41e9cf&&(_0x5128b7[_0x1a9f('0x5b4')]=new THREE[(_0x1a9f('0x1b3'))](_0x41e9cf['x'],_0x41e9cf['y'])),_0x671654[_0x1a9f('0x3ea')]=function(_0x671654){_0x671654[_0x1a9f('0x16a')]['texture2']={'value':_0x5128b7},_0x671654[_0x1a9f('0x16a')][_0x1a9f('0x5b5')]={'value':_0x5128b7[_0x1a9f('0x5b6')]},_0x671654[_0x1a9f('0x57')]=_0x671654[_0x1a9f('0x57')]['replace']('uniform\x20float\x20opacity;',_0x1a9f('0x5b7')),_0x671654[_0x1a9f('0x57')]=_0x671654[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x587'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');};}},{'key':_0x1a9f('0x5b8'),'value':function(_0x671654,_0x3feaa6){_0x3feaa6=new _0x479df3[(_0x1a9f('0xa'))]({'timer':this[_0x1a9f('0x90')]['timer'],'imageWidth':_0x3feaa6[_0x1a9f('0x5b9')],'imageHeight':_0x3feaa6['imgHeight'],'xCount':_0x3feaa6[_0x1a9f('0x5ba')],'yCount':_0x3feaa6['column'],'fps':_0x3feaa6[_0x1a9f('0x2fc')]});_0x3feaa6[_0x1a9f('0x7')](_0x671654),_0x671654[_0x1a9f('0x5bb')]=_0x3feaa6,this['textureSprites']['push'](_0x3feaa6);}},{'key':_0x1a9f('0x2e4'),'value':function(_0x671654){if(this[_0x1a9f('0x5a7')]){for(var _0x3feaa6=0x0,_0x41e9cf=this[_0x1a9f('0x5a9')][_0x1a9f('0xf')];_0x3feaa6<_0x41e9cf;_0x3feaa6++)this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5bc')]&&(this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5bc')]['x']&&(this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x106')]['x']+=_0x671654*this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5bc')]['x']),this['textures'][_0x3feaa6][_0x1a9f('0x5bc')]['y']&&(this[_0x1a9f('0x5a9')][_0x3feaa6]['offset']['y']+=_0x671654*this[_0x1a9f('0x5a9')][_0x3feaa6]['uvTranslate']['y'])),this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5b6')]&&(void 0x0!==this[_0x1a9f('0x5a9')][_0x3feaa6]['uv2Trans']['x']&&(this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5b6')]['x']+=_0x671654*this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5b4')]['x']),void 0x0!==this[_0x1a9f('0x5a9')][_0x3feaa6]['uv2Trans']['y']&&(this[_0x1a9f('0x5a9')][_0x3feaa6]['uv2Trans']['y']+=_0x671654*this[_0x1a9f('0x5a9')][_0x3feaa6][_0x1a9f('0x5b4')]['y']));if(0x0<this[_0x1a9f('0x5a6')][_0x1a9f('0xf')])for(var _0x3eea42=0x0,_0x5128b7=this[_0x1a9f('0x5a6')][_0x1a9f('0xf')];_0x3eea42<_0x5128b7;_0x3eea42++)this[_0x1a9f('0x5a6')][_0x3eea42][_0x1a9f('0x2e4')]();}}},{'key':'dispose','value':function(){for(var _0x671654=this[_0x1a9f('0x5a9')][_0x1a9f('0xf')]=0x0,_0x3feaa6=this[_0x1a9f('0x5a6')][_0x1a9f('0xf')];_0x671654<_0x3feaa6;_0x671654++)this[_0x1a9f('0x5a6')][_0x671654][_0x1a9f('0xcc')]=null;this['textureSprites']['length']=0x0;}}]),_0x3feaa6[_0x1a9f('0xa')]=_0x419cef;},function(_0x4c92ce,_0x5c83cd,_0x5029f4){'use strict';Object[_0x1a9f('0x3')](_0x5c83cd,_0x1a9f('0x5'),{'value':!0x0});var _0x25fcb1=_0x723152(_0x5029f4(0x0));function _0x723152(_0x4c92ce){return _0x4c92ce&&_0x4c92ce[_0x1a9f('0x5')]?_0x4c92ce:{'default':_0x4c92ce};}function _0x35e2ac(_0x4c92ce){var _0x5c83cd=_0x4c92ce[_0x1a9f('0xcc')],_0x5029f4=_0x4c92ce[_0x1a9f('0x21c')],_0x5029f4=void 0x0===_0x5029f4?0x64:_0x5029f4,_0x723152=_0x4c92ce['height'],_0x723152=void 0x0===_0x723152?0x32:_0x723152,_0x276e06=_0x4c92ce[_0x1a9f('0x30a')],_0x276e06=void 0x0===_0x276e06?_0x1a9f('0x3f1'):_0x276e06,_0x3625f6=_0x4c92ce[_0x1a9f('0x341')],_0x3625f6=void 0x0===_0x3625f6?0.3:_0x3625f6,_0x2b3d18=_0x4c92ce[_0x1a9f('0x5bd')],_0x2b3d18=void 0x0!==_0x2b3d18&&_0x2b3d18,_0x4c92ce=_0x4c92ce[_0x1a9f('0x5be')],_0x4c92ce=void 0x0===_0x4c92ce?0x0:_0x4c92ce;(0x0,_0x25fcb1['default'])(this,_0x35e2ac),this['object3d']=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0xcc')]=_0x5c83cd,this[_0x1a9f('0x21c')]=_0x5029f4,this[_0x1a9f('0x33b')]=_0x723152,this[_0x1a9f('0x30a')]=_0x276e06,this['count']=0x0,this[_0x1a9f('0x4b7')]=null,this['material']=null,this[_0x1a9f('0x3e8')]=null,this['cinctureCount']=0x0,this['speed']=_0x3625f6,this[_0x1a9f('0x5bd')]=_0x2b3d18,this[_0x1a9f('0x5be')]=_0x4c92ce;}(0x0,_0x723152(_0x5029f4(0x1))[_0x1a9f('0xa')])(_0x35e2ac,[{'key':_0x1a9f('0x7'),'value':function(){var _0x4c92ce=new THREE['CylinderBufferGeometry'](this[_0x1a9f('0x21c')],this[_0x1a9f('0x21c')],this[_0x1a9f('0x33b')],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x5c83cd=(this['texture'][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],this[_0x1a9f('0xcc')][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],this['material']=new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff,'side':THREE[_0x1a9f('0x3f9')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1a9f('0x3fa')]}),this[_0x1a9f('0x30a')]&&(this['colorStr'],this[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](this['colorStr'])),this);return this['material']['onBeforeCompile']=function(_0x4c92ce){_0x4c92ce[_0x1a9f('0x16a')]['lightIntensity']={'value':0x1},_0x4c92ce[_0x1a9f('0x16a')][_0x1a9f('0x3ec')]={'value':_0x5c83cd[_0x1a9f('0xcc')]},_0x4c92ce[_0x1a9f('0x16a')][_0x1a9f('0x5bd')]={'value':_0x5c83cd['isCilpGround']},_0x4c92ce[_0x1a9f('0x16a')][_0x1a9f('0x5be')]={'value':_0x5c83cd[_0x1a9f('0x5be')]},_0x4c92ce['vertexShader']=_0x4c92ce[_0x1a9f('0x56')]['replace']('#include\x20<uv2_pars_vertex>',_0x1a9f('0x5bf')),_0x4c92ce[_0x1a9f('0x56')]=_0x4c92ce['vertexShader'][_0x1a9f('0x239')](_0x1a9f('0x5c0'),_0x1a9f('0x5c1')),_0x4c92ce[_0x1a9f('0x57')]=_0x4c92ce[_0x1a9f('0x57')][_0x1a9f('0x239')]('uniform\x20float\x20opacity;',_0x1a9f('0x5c2')),_0x4c92ce['fragmentShader']=_0x4c92ce[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x5c3')),_0x5c83cd[_0x1a9f('0x3e8')]=_0x4c92ce;},this[_0x1a9f('0x4b7')]=new THREE[(_0x1a9f('0x332'))](_0x4c92ce,this[_0x1a9f('0x48')]),this['cincture']['renderOrder']=0x45,this['object3d'][_0x1a9f('0x1c0')](this[_0x1a9f('0x4b7')]),this[_0x1a9f('0x343')],this[_0x1a9f('0x343')];}},{'key':_0x1a9f('0x2e4'),'value':function(_0x4c92ce){this[_0x1a9f('0x4b7')]&&(this[_0x1a9f('0x5c4')]+=_0x4c92ce*this[_0x1a9f('0x341')],0x1<this[_0x1a9f('0x5c4')]&&(this[_0x1a9f('0x5c4')]=0x0),_0x4c92ce=0.5*(0x1-Math[_0x1a9f('0x5a')](this[_0x1a9f('0x5c4')]*Math['PI']*0x2)),this['cincture'][_0x1a9f('0x1d5')]['x']=this[_0x1a9f('0x4b7')][_0x1a9f('0x1d5')]['z']=1.5*(0x1-Math['cos'](this[_0x1a9f('0x5c4')]*Math['PI']))*0.5+0.001,this[_0x1a9f('0x4b7')][_0x1a9f('0x1d5')]['y']=1.5*_0x4c92ce+0.001,this[_0x1a9f('0x48')]['opacity']=_0x4c92ce,this['shader']&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x58d')][_0x1a9f('0x11')]=_0x4c92ce));}},{'key':_0x1a9f('0x342'),'set':function(_0x4c92ce){this['object3d'][_0x1a9f('0x342')]=_0x4c92ce;},'get':function(){return this[_0x1a9f('0x343')][_0x1a9f('0x342')];}}]),_0x5c83cd[_0x1a9f('0xa')]=_0x35e2ac;},function(_0x520aee,_0x39083d,_0x3d4c98){'use strict';Object['defineProperty'](_0x39083d,'__esModule',{'value':!0x0});var _0x1ebbb0=_0x58d044(_0x3d4c98(0x6)),_0x3ac931=_0x58d044(_0x3d4c98(0x0));function _0x58d044(_0x520aee){return _0x520aee&&_0x520aee[_0x1a9f('0x5')]?_0x520aee:{'default':_0x520aee};}function _0x4d4d1e(_0x520aee){var _0x39083d=_0x520aee['texture'],_0x3d4c98=_0x520aee['colorStr'],_0x3d4c98=void 0x0===_0x3d4c98?_0x1a9f('0x3f1'):_0x3d4c98,_0x58d044=_0x520aee[_0x1a9f('0x5c5')],_0x58d044=void 0x0===_0x58d044?'#ffee98':_0x58d044,_0x3f70d6=_0x520aee[_0x1a9f('0x1d5')],_0x3f70d6=void 0x0===_0x3f70d6?0x14:_0x3f70d6,_0x5a4509=_0x520aee[_0x1a9f('0x341')],_0x5a4509=void 0x0===_0x5a4509?0.005:_0x5a4509,_0x1cb28b=_0x520aee[_0x1a9f('0x4bd')],_0x1cb28b=void 0x0===_0x1cb28b||_0x1cb28b,_0x30c10c=_0x520aee[_0x1a9f('0x5c6')],_0x30c10c=void 0x0!==_0x30c10c&&_0x30c10c,_0x44d11c=_0x520aee[_0x1a9f('0x4bf')],_0x44d11c=void 0x0===_0x44d11c?0xa:_0x44d11c,_0x520aee=_0x520aee['isClockWise'],_0x520aee=void 0x0!==_0x520aee&&_0x520aee;(0x0,_0x3ac931[_0x1a9f('0xa')])(this,_0x4d4d1e),this[_0x1a9f('0x40c')]=!0x0,this['object3d']=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0xcc')]=_0x39083d,this['alphaTex']=null,this[_0x1a9f('0x5c7')]={'spline':_0x1a9f('0x5c8'),'scale':_0x3f70d6,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x1a9f('0x33b')]=0x19,this[_0x1a9f('0x5c9')]=[],this[_0x1a9f('0x5ca')]=[],this[_0x1a9f('0x5cb')]=null,this[_0x1a9f('0x100')]=0x0,this[_0x1a9f('0x5cc')]=_0x5a4509,this['color']=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x3d4c98),this[_0x1a9f('0x5cd')]=new THREE['Color']()[_0x1a9f('0x30c')](_0x58d044),this['wallMaterial']=null,this[_0x1a9f('0x3e8')]=null,this['groundMaterial']=null,this[_0x1a9f('0x5c6')]=_0x30c10c,this[_0x1a9f('0x4bf')]=_0x44d11c,this['isClockWise']=_0x520aee,this[_0x1a9f('0x309')](_0x1cb28b);}(0x0,_0x58d044(_0x3d4c98(0x1))[_0x1a9f('0xa')])(_0x4d4d1e,[{'key':_0x1a9f('0x309'),'value':function(_0x520aee){this[_0x1a9f('0x5ce')]=new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),_0x520aee&&(this['wallMaterial'][_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x3fa')]),this[_0x1a9f('0x5ce')]['color']=this[_0x1a9f('0x21e')],this[_0x1a9f('0xcc')]['wrapS']=THREE[_0x1a9f('0x34a')],this[_0x1a9f('0xcc')]['wrapT']=THREE['RepeatWrapping'];var _0x39083d=this;this[_0x1a9f('0x5c6')]?(this[_0x1a9f('0x5ce')]['side']=THREE[_0x1a9f('0x5cf')],this[_0x1a9f('0xcc')][_0x1a9f('0x302')]['y']=0x2,this['texture'][_0x1a9f('0x302')]['x']=0xa,this['wallMaterial'][_0x1a9f('0x90')]=this['texture']):(this[_0x1a9f('0x5ce')]['side']=THREE[_0x1a9f('0x3f9')],this[_0x1a9f('0x5ce')]['onBeforeCompile']=function(_0x520aee){_0x520aee['uniforms'][_0x1a9f('0x3eb')]={'value':0x0},_0x520aee[_0x1a9f('0x16a')]['lineRep']={'value':0x1},_0x520aee[_0x1a9f('0x16a')][_0x1a9f('0x5d0')]={'value':_0x39083d['texture']},_0x520aee['vertexShader']=_0x520aee[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv2_pars_vertex>',_0x1a9f('0x5d1')),_0x520aee['vertexShader']=_0x520aee[_0x1a9f('0x56')]['replace']('#include\x20<uv2_vertex>',_0x1a9f('0x5d2')),_0x520aee[_0x1a9f('0x57')]=_0x520aee[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x5d3')),_0x520aee['fragmentShader']=_0x520aee[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x39083d[_0x1a9f('0x3e8')]=_0x520aee;});}},{'key':_0x1a9f('0x4c2'),'value':function(_0x520aee){var _0x39083d=_0x520aee[_0x1a9f('0x429')],_0x3d4c98=_0x520aee['extentId'],_0x58d044=_0x520aee['wallHeight'],_0x58d044=void 0x0===_0x58d044?0x5:_0x58d044,_0x520aee=_0x520aee[_0x1a9f('0x4c4')],_0x2a9608=_0x39083d[0x0],_0x314e90=[],_0x16f22d=!0x0,_0xc6e830=!0x1,_0x11cc70=void 0x0;try{for(var _0x3ac931,_0x4d4d1e=(0x0,_0x1ebbb0['default'])(_0x39083d);!(_0x16f22d=(_0x3ac931=_0x4d4d1e[_0x1a9f('0x79')]())['done']);_0x16f22d=!0x0){var _0x2b82d0=_0x3ac931[_0x1a9f('0x11')],_0x31cd45=_0x2b82d0['x']-_0x2a9608['x'],_0x3b0e05=_0x2b82d0['z']-_0x2a9608['z'];_0x314e90[_0x1a9f('0x70')]({'x':_0x31cd45,'y':_0x3b0e05});}}catch(_0x2a0d4d){_0xc6e830=!0x0,_0x11cc70=_0x2a0d4d;}finally{try{!_0x16f22d&&_0x4d4d1e['return']&&_0x4d4d1e[_0x1a9f('0xd0')]();}finally{if(_0xc6e830)throw _0x11cc70;}}_0x520aee||_0x314e90['push']({'x':0x0,'y':0x0});_0x39083d=null,(_0x39083d=this[_0x1a9f('0x5c6')]?this['addWallScrollXGeometry']({'points':_0x314e90,'height':_0x58d044}):this[_0x1a9f('0x5d4')]({'points':_0x314e90,'height':_0x58d044}))[_0x1a9f('0x5d5')](),_0xc6e830=new THREE[(_0x1a9f('0x332'))](_0x39083d,this[_0x1a9f('0x5ce')]);return _0xc6e830[_0x1a9f('0x323')]=0x47,_0xc6e830[_0x1a9f('0x5d6')]=_0x3d4c98,this[_0x1a9f('0x343')]['add'](_0xc6e830),this['extentWallList']['push']({'id':_0x3d4c98,'mesh':_0xc6e830}),_0xc6e830;}},{'key':_0x1a9f('0x5d7'),'value':function(_0x39083d){var _0x520aee=_0x39083d[_0x1a9f('0x429')],_0x520aee=void 0x0===_0x520aee?[]:_0x520aee,_0x39083d=_0x39083d['height'],_0x3d4c98=void 0x0===_0x39083d?0x0:_0x39083d,_0x58d044=[],_0x37566b=!0x0,_0x39083d=!0x1,_0x3b3155=void 0x0;try{for(var _0x3bee39,_0x456590=(0x0,_0x1ebbb0[_0x1a9f('0xa')])(_0x520aee);!(_0x37566b=(_0x3bee39=_0x456590[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x37566b=!0x0){var _0x4dd3dd=_0x3bee39[_0x1a9f('0x11')];_0x58d044['push'](new THREE[(_0x1a9f('0x1b5'))](_0x4dd3dd['x'],_0x3d4c98,_0x4dd3dd['y']));}}catch(_0x51795f){_0x39083d=!0x0,_0x3b3155=_0x51795f;}finally{try{!_0x37566b&&_0x456590['return']&&_0x456590[_0x1a9f('0xd0')]();}finally{if(_0x39083d)throw _0x3b3155;}}_0x520aee=new THREE[(_0x1a9f('0x5d8'))](_0x58d044,!0x1,_0x1a9f('0x5d9'),0.01),_0x39083d=new THREE[(_0x1a9f('0x5da'))](_0x520aee,this[_0x1a9f('0x5c7')]['extrusionSegments'],this[_0x1a9f('0x5c7')][_0x1a9f('0x1d5')],this[_0x1a9f('0x5c7')][_0x1a9f('0x5db')],this[_0x1a9f('0x5c7')][_0x1a9f('0x5dc')]);return _0x39083d[_0x1a9f('0x5d5')](),_0x39083d;}},{'key':_0x1a9f('0x5d4'),'value':function(_0x520aee){for(var _0x39083d=_0x520aee[_0x1a9f('0x429')],_0x3d4c98=void 0x0===_0x39083d?[]:_0x39083d,_0x39083d=_0x520aee['height'],_0x58d044=void 0x0===_0x39083d?0x0:_0x39083d,_0xaa0c55=[],_0x893505=[],_0x1e8850=0x0,_0x122b5a=_0xaa0c55[_0x1a9f('0xf')],_0x537dc6=_0x893505[_0x1a9f('0xf')];_0x1e8850<_0x3d4c98[_0x1a9f('0xf')]-0x1;_0x1e8850++){var _0x3ac931=_0x3d4c98[_0x1e8850],_0x4d4d1e=_0x3d4c98[_0x1e8850+0x1];_0xaa0c55[_0x122b5a++]=_0x3ac931['x'],_0xaa0c55[_0x122b5a++]=0x0,_0xaa0c55[_0x122b5a++]=_0x3ac931['y'],_0x893505[_0x537dc6++]=0x0,_0x893505[_0x537dc6++]=0x0,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['x'],_0xaa0c55[_0x122b5a++]=0x0,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['y'],_0x893505[_0x537dc6++]=0x1,_0x893505[_0x537dc6++]=0x0,_0xaa0c55[_0x122b5a++]=_0x3ac931['x'],_0xaa0c55[_0x122b5a++]=_0x58d044,_0xaa0c55[_0x122b5a++]=_0x3ac931['y'],_0x893505[_0x537dc6++]=0x0,_0x893505[_0x537dc6++]=0x1,_0xaa0c55[_0x122b5a++]=_0x3ac931['x'],_0xaa0c55[_0x122b5a++]=_0x58d044,_0xaa0c55[_0x122b5a++]=_0x3ac931['y'],_0x893505[_0x537dc6++]=0x0,_0x893505[_0x537dc6++]=0x1,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['x'],_0xaa0c55[_0x122b5a++]=0x0,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['y'],_0x893505[_0x537dc6++]=0x1,_0x893505[_0x537dc6++]=0x0,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['x'],_0xaa0c55[_0x122b5a++]=_0x58d044,_0xaa0c55[_0x122b5a++]=_0x4d4d1e['y'],_0x893505[_0x537dc6++]=0x1,_0x893505[_0x537dc6++]=0x1;}_0x520aee=new THREE[(_0x1a9f('0x32e'))]();return _0x520aee[_0x1a9f('0x1f0')](_0x1a9f('0x42'),new THREE[(_0x1a9f('0x10c'))](new Float32Array(_0xaa0c55),0x3)),_0x520aee[_0x1a9f('0x1f0')]('uv',new THREE[(_0x1a9f('0x10c'))](new Float32Array(_0x893505),0x2)),_0x520aee;}},{'key':_0x1a9f('0x5dd'),'value':function(_0x520aee){_0x520aee=this['createShape'](_0x520aee),_0x520aee=new THREE['Mesh'](new THREE[(_0x1a9f('0x5de'))](_0x520aee),this[_0x1a9f('0x5df')]);return _0x520aee[_0x1a9f('0x421')](0.5*-Math['PI']),_0x520aee[_0x1a9f('0x42')]['y']=0x0,_0x520aee;}},{'key':_0x1a9f('0x5e0'),'value':function(_0x520aee){var _0x39083d=new THREE[(_0x1a9f('0x5e1'))](),_0x3d4c98=(_0x39083d['moveTo'](0x0,0x0),!0x0),_0x58d044=!0x1,_0x167ded=void 0x0;try{for(var _0x423c33,_0x4d4f97=(0x0,_0x1ebbb0[_0x1a9f('0xa')])(_0x520aee);!(_0x3d4c98=(_0x423c33=_0x4d4f97[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3d4c98=!0x0){var _0x1082be=_0x423c33['value'];_0x39083d['lineTo'](_0x1082be['x'],-_0x1082be['z']);}}catch(_0x542e73){_0x58d044=!0x0,_0x167ded=_0x542e73;}finally{try{!_0x3d4c98&&_0x4d4f97[_0x1a9f('0xd0')]&&_0x4d4f97[_0x1a9f('0xd0')]();}finally{if(_0x58d044)throw _0x167ded;}}return _0x39083d;}},{'key':_0x1a9f('0x340'),'value':function(){this['enabled']&&this[_0x1a9f('0x3e8')]?(this[_0x1a9f('0x100')]-=this[_0x1a9f('0x5cc')],this['shader']['uniforms'][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]):this[_0x1a9f('0x5c6')]&&(this[_0x1a9f('0x100')]=this[_0x1a9f('0x5e2')]?this['count']+this['deltaSpeed']:this[_0x1a9f('0x100')]-this['deltaSpeed'],this['wallMaterial'][_0x1a9f('0x90')][_0x1a9f('0x106')]['x']=this[_0x1a9f('0x100')]);}},{'key':_0x1a9f('0x5e3'),'value':function(_0x520aee){var _0x39083d=!0x0,_0x3d4c98=!0x1,_0x58d044=void 0x0;try{for(var _0x8a956d,_0x3a00a0=(0x0,_0x1ebbb0[_0x1a9f('0xa')])(this['extentIds']);!(_0x39083d=(_0x8a956d=_0x3a00a0[_0x1a9f('0x79')]())['done']);_0x39083d=!0x0)if(_0x8a956d['value']===_0x520aee)return!0x0;}catch(_0x2c2acb){_0x3d4c98=!0x0,_0x58d044=_0x2c2acb;}finally{try{!_0x39083d&&_0x3a00a0[_0x1a9f('0xd0')]&&_0x3a00a0[_0x1a9f('0xd0')]();}finally{if(_0x3d4c98)throw _0x58d044;}}return!0x1;}},{'key':_0x1a9f('0x5e4'),'value':function(_0x520aee){var _0x39083d=!0x0,_0x3d4c98=!0x1,_0x58d044=void 0x0;try{for(var _0x8af87e,_0x4160f3=(0x0,_0x1ebbb0[_0x1a9f('0xa')])(this[_0x1a9f('0x5ca')]);!(_0x39083d=(_0x8af87e=_0x4160f3[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x39083d=!0x0){var _0x12b90b=_0x8af87e[_0x1a9f('0x11')];if(_0x12b90b['id']===_0x520aee)return _0x12b90b;}}catch(_0x16285a){_0x3d4c98=!0x0,_0x58d044=_0x16285a;}finally{try{!_0x39083d&&_0x4160f3[_0x1a9f('0xd0')]&&_0x4160f3[_0x1a9f('0xd0')]();}finally{if(_0x3d4c98)throw _0x58d044;}}return null;}},{'key':_0x1a9f('0x5e5'),'value':function(_0x520aee){var _0x39083d=_0x520aee[_0x1a9f('0x5d6')],_0x520aee=_0x520aee[_0x1a9f('0x5e6')],_0x520aee=void 0x0===_0x520aee||_0x520aee,_0x3d4c98=this[_0x1a9f('0x5e4')](_0x39083d);_0x3d4c98&&(this['_focusExtentId']=_0x39083d,_0x3d4c98[_0x1a9f('0x1e4')]['material'][_0x1a9f('0x21e')][_0x1a9f('0x1ba')](this[_0x1a9f('0x5cd')]),_0x520aee&&this[_0x1a9f('0x5e7')](_0x3d4c98[_0x1a9f('0x1e4')]),this[_0x1a9f('0x5e8')](!0x1),_0x3d4c98[_0x1a9f('0x1e4')][_0x1a9f('0x342')]=!0x0);}},{'key':_0x1a9f('0x5e9'),'value':function(){var _0x520aee;this[_0x1a9f('0x5cb')]&&(this[_0x1a9f('0x5e8')](!0x0),(_0x520aee=this[_0x1a9f('0x5e4')](this['_focusExtentId']))[_0x1a9f('0x1e4')][_0x1a9f('0x48')]['color'][_0x1a9f('0x1ba')](_0x520aee[_0x1a9f('0x1e4')][_0x1a9f('0x5ea')]),this[_0x1a9f('0x5cb')]=null);}},{'key':_0x1a9f('0x5e7'),'value':function(_0x520aee){_0x520aee[_0x1a9f('0x42')]['y']=-0x19;var _0x39083d=new THREE[(_0x1a9f('0x1b5'))]()[_0x1a9f('0x1ba')](_0x520aee[_0x1a9f('0x42')]);_0x39083d['y']=0x19,new TWEEN[(_0x1a9f('0x2e0'))](_0x520aee[_0x1a9f('0x42')])['to'](_0x39083d,0x3e8)[_0x1a9f('0x2e9')](TWEEN['Easing'][_0x1a9f('0x5eb')]['Out'])['start']();}},{'key':_0x1a9f('0x5e8'),'value':function(_0x520aee){var _0x39083d=!0x0,_0x3d4c98=!0x1,_0x58d044=void 0x0;try{for(var _0x3912dd,_0x15ca29=(0x0,_0x1ebbb0[_0x1a9f('0xa')])(this[_0x1a9f('0x5ca')]);!(_0x39083d=(_0x3912dd=_0x15ca29[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x39083d=!0x0)_0x3912dd[_0x1a9f('0x11')][_0x1a9f('0x1e4')][_0x1a9f('0x342')]=_0x520aee;}catch(_0x3cd19d){_0x3d4c98=!0x0,_0x58d044=_0x3cd19d;}finally{try{!_0x39083d&&_0x15ca29['return']&&_0x15ca29[_0x1a9f('0xd0')]();}finally{if(_0x3d4c98)throw _0x58d044;}}}},{'key':'visible','set':function(_0x520aee){this[_0x1a9f('0x5e8')](_0x520aee);}}]),_0x39083d[_0x1a9f('0xa')]=_0x4d4d1e;},function(_0x15b5d8,_0x5d83fe,_0x390480){'use strict';Object[_0x1a9f('0x3')](_0x5d83fe,_0x1a9f('0x5'),{'value':!0x0});var _0x13813d=_0x4506ba(_0x390480(0x6)),_0x296028=_0x4506ba(_0x390480(0x0));function _0x4506ba(_0x15b5d8){return _0x15b5d8&&_0x15b5d8[_0x1a9f('0x5')]?_0x15b5d8:{'default':_0x15b5d8};}function _0x43fe95(_0x15b5d8){var _0x5d83fe=_0x15b5d8[_0x1a9f('0xcc')],_0x390480=_0x15b5d8[_0x1a9f('0x30a')],_0x390480=void 0x0===_0x390480?_0x1a9f('0x3f1'):_0x390480,_0x4506ba=_0x15b5d8[_0x1a9f('0x5c5')],_0x4506ba=void 0x0===_0x4506ba?_0x1a9f('0x5ec'):_0x4506ba,_0x253077=_0x15b5d8[_0x1a9f('0x3f2')],_0x38c2c5=_0x15b5d8['groundColorStr'],_0x9c04c8=_0x15b5d8['scale'],_0x9c04c8=void 0x0===_0x9c04c8?0x14:_0x9c04c8,_0x15b5d8=_0x15b5d8[_0x1a9f('0x341')],_0x15b5d8=void 0x0===_0x15b5d8?0.004:_0x15b5d8;(0x0,_0x296028[_0x1a9f('0xa')])(this,_0x43fe95),this['enabled']=!0x0,this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0xcc')]=_0x5d83fe,this[_0x1a9f('0x3f2')]=null,this[_0x1a9f('0x5ed')]=null,_0x38c2c5&&(this[_0x1a9f('0x5ed')]=new THREE['Color']()[_0x1a9f('0x30c')](_0x38c2c5),this[_0x1a9f('0x3f2')]=_0x253077,this[_0x1a9f('0x3f2')][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],this['alphaTex']['wrapS']=THREE[_0x1a9f('0x34a')]),this[_0x1a9f('0x5c7')]={'spline':_0x1a9f('0x5c8'),'scale':_0x9c04c8,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this['height']=0x19,this[_0x1a9f('0x5c9')]=[],this[_0x1a9f('0x5ca')]=[],this[_0x1a9f('0x5cb')]=null,this['count']=0x0,this[_0x1a9f('0x5cc')]=_0x15b5d8,this['color']=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x390480),this[_0x1a9f('0x5cd')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x4506ba),this[_0x1a9f('0x5ce')]=null,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x5df')]=null,this[_0x1a9f('0x309')]();}(0x0,_0x4506ba(_0x390480(0x1))['default'])(_0x43fe95,[{'key':'createMaterial','value':function(){this['wallMaterial']=new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff,'transparent':!0x0}),this[_0x1a9f('0x5ce')]['color']=this[_0x1a9f('0x21e')],this[_0x1a9f('0xcc')][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],this['texture']['wrapT']=THREE[_0x1a9f('0x34a')],this[_0x1a9f('0xcc')][_0x1a9f('0x302')]['y']=0x1,this[_0x1a9f('0xcc')]['needsUpdate']=!0x0,this[_0x1a9f('0x5ce')][_0x1a9f('0x90')]=this[_0x1a9f('0xcc')];var _0x5d83fe=this;this[_0x1a9f('0x5ed')]&&(this['groundMaterial']=new THREE[(_0x1a9f('0x3e9'))]({'color':this[_0x1a9f('0x5ed')],'transparent':!0x0,'depthWrite':!0x1}),this['groundMaterial'][_0x1a9f('0x3ea')]=function(_0x15b5d8){_0x15b5d8[_0x1a9f('0x16a')][_0x1a9f('0x3f2')]={'value':_0x5d83fe[_0x1a9f('0x3f2')]},_0x15b5d8[_0x1a9f('0x56')]=_0x15b5d8[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv2_pars_vertex>',_0x1a9f('0x5ee')),_0x15b5d8[_0x1a9f('0x56')]=_0x15b5d8['vertexShader'][_0x1a9f('0x239')](_0x1a9f('0x5c0'),_0x1a9f('0x5ef')),_0x15b5d8['fragmentShader']=_0x15b5d8[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x5f0')),_0x15b5d8[_0x1a9f('0x57')]=_0x15b5d8[_0x1a9f('0x57')]['replace'](_0x1a9f('0x3ee'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');});}},{'key':_0x1a9f('0x4c2'),'value':function(_0x15b5d8){var _0x5d83fe=_0x15b5d8[_0x1a9f('0x429')],_0x15b5d8=_0x15b5d8[_0x1a9f('0x5d6')],_0x390480=_0x5d83fe[0x0],_0x4506ba=[],_0xc2c723=!0x0,_0xcb3359=!0x1,_0x23db3e=void 0x0;try{for(var _0x296028,_0x43fe95=(0x0,_0x13813d[_0x1a9f('0xa')])(_0x5d83fe);!(_0xc2c723=(_0x296028=_0x43fe95['next']())['done']);_0xc2c723=!0x0){var _0x310ca1=_0x296028[_0x1a9f('0x11')],_0x53eb87=_0x310ca1['x']-_0x390480['x'],_0x401c87=_0x310ca1['y']-_0x390480['y'],_0x418e65=_0x310ca1['z']-_0x390480['z'];_0x4506ba[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))](_0x53eb87,_0x401c87,_0x418e65));}}catch(_0x176e53){_0xcb3359=!0x0,_0x23db3e=_0x176e53;}finally{try{!_0xc2c723&&_0x43fe95[_0x1a9f('0xd0')]&&_0x43fe95[_0x1a9f('0xd0')]();}finally{if(_0xcb3359)throw _0x23db3e;}}_0x4506ba[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b5'))]());var _0x5d83fe=new THREE[(_0x1a9f('0x5d8'))](_0x4506ba,!0x1,'catmullrom',0.01),_0xcb3359=new THREE[(_0x1a9f('0x5da'))](_0x5d83fe,this[_0x1a9f('0x5c7')][_0x1a9f('0x5f1')],this[_0x1a9f('0x5c7')][_0x1a9f('0x1d5')],this[_0x1a9f('0x5c7')][_0x1a9f('0x5db')],this[_0x1a9f('0x5c7')][_0x1a9f('0x5dc')]),_0x23db3e=(_0xcb3359[_0x1a9f('0x5d5')](),_0xcb3359[_0x1a9f('0x5f2')][_0x1a9f('0x5f3')]()),_0x5d83fe={'x':-_0x390480['x']-_0x23db3e['x'],'y':_0x390480['z']+_0x23db3e['z']},_0x23db3e=new THREE[(_0x1a9f('0x332'))](_0xcb3359,this['wallMaterial']);return _0x23db3e['renderOrder']=0x47,_0x23db3e[_0x1a9f('0x5d6')]=_0x15b5d8,_0x23db3e[_0x1a9f('0x5ea')]=new THREE[(_0x1a9f('0x1b7'))]()['copy'](this[_0x1a9f('0x5ce')][_0x1a9f('0x21e')]),this[_0x1a9f('0x5ed')]&&(_0xcb3359=this['addGround'](_0x4506ba,this['groundColor']),_0x23db3e['add'](_0xcb3359)),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0x23db3e),this[_0x1a9f('0x5ca')]['push']({'id':_0x15b5d8,'mesh':_0x23db3e,'center':{'x':_0x5d83fe['x'],'y':_0x5d83fe['y']}}),_0x23db3e;}},{'key':_0x1a9f('0x5dd'),'value':function(_0x15b5d8){_0x15b5d8=this['createShape'](_0x15b5d8),_0x15b5d8=new THREE['Mesh'](new THREE[(_0x1a9f('0x5de'))](_0x15b5d8),this[_0x1a9f('0x5df')]);return _0x15b5d8[_0x1a9f('0x421')](0.5*-Math['PI']),_0x15b5d8['position']['y']=-0x14,_0x15b5d8;}},{'key':'createShape','value':function(_0x15b5d8){var _0x5d83fe=new THREE[(_0x1a9f('0x5e1'))](),_0x390480=(_0x5d83fe[_0x1a9f('0x5f4')](0x0,0x0),!0x0),_0x4506ba=!0x1,_0x16844d=void 0x0;try{for(var _0x2ef313,_0x184dc7=(0x0,_0x13813d[_0x1a9f('0xa')])(_0x15b5d8);!(_0x390480=(_0x2ef313=_0x184dc7[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x390480=!0x0){var _0x296028=_0x2ef313['value'];_0x5d83fe[_0x1a9f('0x5f5')](_0x296028['x'],-_0x296028['z']);}}catch(_0x151ac4){_0x4506ba=!0x0,_0x16844d=_0x151ac4;}finally{try{!_0x390480&&_0x184dc7[_0x1a9f('0xd0')]&&_0x184dc7[_0x1a9f('0xd0')]();}finally{if(_0x4506ba)throw _0x16844d;}}return _0x5d83fe;}},{'key':_0x1a9f('0x340'),'value':function(){this[_0x1a9f('0x40c')]&&this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]-=this[_0x1a9f('0x5cc')],this[_0x1a9f('0x5ce')]['map']['offset']['x']=this[_0x1a9f('0x100')]);}}]),_0x5d83fe[_0x1a9f('0xa')]=_0x43fe95;},function(_0x428b71,_0x4f724e,_0x19ed56){'use strict';Object['defineProperty'](_0x4f724e,_0x1a9f('0x5'),{'value':!0x0});var _0x53b301=_0x427dcb(_0x19ed56(0x6)),_0x30a971=_0x427dcb(_0x19ed56(0x0)),_0x4d40f2=_0x427dcb(_0x19ed56(0x1)),_0x2d9930=_0x427dcb(_0x19ed56(0x3b));function _0x427dcb(_0x428b71){return _0x428b71&&_0x428b71[_0x1a9f('0x5')]?_0x428b71:{'default':_0x428b71};}function _0x5d6aba(_0x428b71){var _0x4f724e=_0x428b71[_0x1a9f('0x30a')],_0x4f724e=void 0x0===_0x4f724e?_0x1a9f('0x3f1'):_0x4f724e,_0x19ed56=_0x428b71[_0x1a9f('0x344')],_0x19ed56=void 0x0===_0x19ed56?_0x1a9f('0x4fb'):_0x19ed56,_0x4d40f2=_0x428b71[_0x1a9f('0x1d3')],_0x4d40f2=void 0x0===_0x4d40f2||_0x4d40f2,_0x428b71=_0x428b71['opacity'],_0x428b71=void 0x0===_0x428b71?0.4:_0x428b71;(0x0,_0x30a971[_0x1a9f('0xa')])(this,_0x5d6aba),this[_0x1a9f('0x5f6')]=null,this[_0x1a9f('0x344')]=_0x19ed56,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x5f7')]=[],'mesh_line'!==_0x19ed56&&(this[_0x1a9f('0x48')]=new THREE['LineBasicMaterial']({'color':0xffffff}),this[_0x1a9f('0x48')][_0x1a9f('0x1d3')]=_0x4d40f2,_0x428b71<0x1&&(this[_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,this['material'][_0x1a9f('0x1ff')]=_0x428b71),_0x4f724e&&(this[_0x1a9f('0x48')]['color']=new THREE['Color']()['setStyle'](_0x4f724e)));}(0x0,_0x4d40f2[_0x1a9f('0xa')])(_0x5d6aba,[{'key':_0x1a9f('0x5f8'),'value':function(_0x428b71,_0x4f724e){this['parent']=_0x428b71;_0x428b71=new THREE[(_0x1a9f('0x5f9'))](_0x4f724e),_0x4f724e=new THREE[(_0x1a9f('0x397'))](_0x428b71,this[_0x1a9f('0x48')]);return _0x4f724e['renderOrder']=0x4f,this[_0x1a9f('0x5f6')][_0x1a9f('0x1c0')](_0x4f724e),this[_0x1a9f('0x5f7')][_0x1a9f('0x70')](_0x4f724e),_0x4f724e;}},{'key':_0x1a9f('0x8f'),'value':function(){if(this[_0x1a9f('0x5f6')]){var _0x428b71=!0x0,_0x4f724e=!0x1,_0x19ed56=void 0x0;try{for(var _0x4d40f2,_0x30a971=(0x0,_0x53b301[_0x1a9f('0xa')])(this[_0x1a9f('0x5f7')]);!(_0x428b71=(_0x4d40f2=_0x30a971[_0x1a9f('0x79')]())['done']);_0x428b71=!0x0){var _0x427dcb=_0x4d40f2['value'];this[_0x1a9f('0x5f6')][_0x1a9f('0x93')](_0x427dcb),_0x2d9930[_0x1a9f('0xa')][_0x1a9f('0x5fa')](_0x427dcb);}}catch(_0xdcc5d7){_0x4f724e=!0x0,_0x19ed56=_0xdcc5d7;}finally{try{!_0x428b71&&_0x30a971[_0x1a9f('0xd0')]&&_0x30a971[_0x1a9f('0xd0')]();}finally{if(_0x4f724e)throw _0x19ed56;}}this['lineList']=[];}}}]),_0x4f724e['default']=_0x5d6aba;},function(_0x10a6e3,_0x454250,_0x171e53){'use strict';Object[_0x1a9f('0x3')](_0x454250,'__esModule',{'value':!0x0});var _0x438036=_0x5f5480(_0x171e53(0x0)),_0x1ca703=_0x5f5480(_0x171e53(0x1)),_0x38656e=_0x5f5480(_0x171e53(0x9b));function _0x5f5480(_0x10a6e3){return _0x10a6e3&&_0x10a6e3['__esModule']?_0x10a6e3:{'default':_0x10a6e3};}function _0x29fa25(_0x10a6e3){var _0x454250=_0x10a6e3[_0x1a9f('0x30a')],_0x454250=void 0x0===_0x454250?_0x1a9f('0x426'):_0x454250,_0x171e53=_0x10a6e3['radius'],_0x10a6e3=_0x10a6e3[_0x1a9f('0x341')],_0x10a6e3=void 0x0===_0x10a6e3?0x1:_0x10a6e3;(0x0,_0x438036['default'])(this,_0x29fa25),this['object3d']=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x30a')]=_0x454250,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e7')]=null,this[_0x1a9f('0x21c')]=_0x171e53||0xc8,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x100')]=0x0,this[_0x1a9f('0x341')]=_0x10a6e3,this[_0x1a9f('0x309')](_0x454250);}(0x0,_0x1ca703['default'])(_0x29fa25,[{'key':'createMaterial','value':function(){var _0x10a6e3=_0x38656e[_0x1a9f('0xa')]['createCircleGradient']([0.625,0x1]),_0x454250=new THREE[(_0x1a9f('0x5fb'))](_0x10a6e3),_0x171e53=this;this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x3e9'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1a9f('0x30a')]&&this['material'][_0x1a9f('0x21e')]['setStyle'](this[_0x1a9f('0x30a')]),this[_0x1a9f('0x48')]['onBeforeCompile']=function(_0x10a6e3){_0x10a6e3['uniforms']['iTime']={'value':0x0},_0x10a6e3[_0x1a9f('0x16a')][_0x1a9f('0x3ec')]={'value':_0x454250},_0x10a6e3[_0x1a9f('0x56')]=_0x10a6e3[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_pars_vertex>',_0x1a9f('0x5fc')),_0x10a6e3[_0x1a9f('0x56')]=_0x10a6e3[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x5fd')),_0x10a6e3[_0x1a9f('0x57')]=_0x10a6e3[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x10a6e3[_0x1a9f('0x57')]=_0x10a6e3[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x5fe')),_0x171e53['shader']=_0x10a6e3;};}},{'key':_0x1a9f('0x7'),'value':function(){var _0x10a6e3=new THREE[(_0x1a9f('0x3f0'))](this[_0x1a9f('0x21c')],this[_0x1a9f('0x21c')]),_0x10a6e3=new THREE[(_0x1a9f('0x332'))](_0x10a6e3,this['material']);return _0x10a6e3[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],_0x10a6e3[_0x1a9f('0x1eb')]['z']=0.5*Math['PI'],_0x10a6e3['renderOrder']=0x4e,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0x10a6e3),_0x10a6e3;}},{'key':'render','value':function(_0x10a6e3){this[_0x1a9f('0x3e8')]&&(this['count']+=_0x10a6e3*this[_0x1a9f('0x341')],this['shader'][_0x1a9f('0x16a')][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this['count']);}},{'key':_0x1a9f('0x342'),'set':function(_0x10a6e3){this[_0x1a9f('0x343')][_0x1a9f('0x342')]=_0x10a6e3;},'get':function(){return this[_0x1a9f('0x343')]['visible'];}}]),_0x454250[_0x1a9f('0xa')]=_0x29fa25;},function(_0x370164,_0x109305,_0x5e38f9){'use strict';Object[_0x1a9f('0x3')](_0x109305,'__esModule',{'value':!0x0});var _0x47f335=_0x58a578(_0x5e38f9(0x0)),_0x418252=_0x58a578(_0x5e38f9(0x1)),_0x4e812a=_0x58a578(_0x5e38f9(0x9b));function _0x58a578(_0x370164){return _0x370164&&_0x370164['__esModule']?_0x370164:{'default':_0x370164};}function _0x4fbab2(_0x370164){var _0x109305=_0x370164['colorStr'],_0x109305=void 0x0===_0x109305?'#ffffff':_0x109305,_0x5e38f9=_0x370164[_0x1a9f('0x21c')],_0x418252=_0x370164[_0x1a9f('0x341')],_0x418252=void 0x0===_0x418252?0x1:_0x418252,_0x4e812a=_0x370164[_0x1a9f('0x1ec')],_0x4e812a=void 0x0===_0x4e812a?0x0:_0x4e812a,_0x370164=_0x370164['thickness'],_0x370164=void 0x0===_0x370164?0x1:_0x370164;(0x0,_0x47f335['default'])(this,_0x4fbab2),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),_0x4e812a&&(this[_0x1a9f('0x343')]['rotation']['y']=THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x4e812a)),this[_0x1a9f('0x30a')]=_0x109305,this[_0x1a9f('0x48')]=null,this['shaderMesh']=null,this[_0x1a9f('0x21c')]=_0x5e38f9||0xc8,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x100')]=0x0,this[_0x1a9f('0x341')]=_0x418252,this[_0x1a9f('0x4ce')]=0x1/_0x370164,this['createMaterial'](_0x109305);}(0x0,_0x418252[_0x1a9f('0xa')])(_0x4fbab2,[{'key':'createMaterial','value':function(){var _0x370164=_0x4e812a[_0x1a9f('0xa')][_0x1a9f('0x5ff')]([0.625,0x1]),_0x109305=new THREE[(_0x1a9f('0x5fb'))](_0x370164),_0x5e38f9=this;this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x3e9'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1a9f('0x30a')]&&this[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](this[_0x1a9f('0x30a')]),this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x370164){_0x370164[_0x1a9f('0x16a')][_0x1a9f('0x3ec')]={'value':_0x109305},_0x370164[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x370164['uniforms'][_0x1a9f('0x4ce')]={'value':_0x5e38f9[_0x1a9f('0x4ce')]},_0x370164['vertexShader']=_0x370164[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_pars_vertex>',_0x1a9f('0x5fc')),_0x370164[_0x1a9f('0x56')]=_0x370164[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x5fd')),_0x370164[_0x1a9f('0x57')]=_0x370164[_0x1a9f('0x57')]['replace'](_0x1a9f('0x433'),_0x1a9f('0x600')),_0x370164[_0x1a9f('0x57')]=_0x370164[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5e38f9[_0x1a9f('0x3e8')]=_0x370164;};}},{'key':'create','value':function(){var _0x370164=new THREE[(_0x1a9f('0x3f0'))](this[_0x1a9f('0x21c')],this['radius']),_0x370164=new THREE[(_0x1a9f('0x332'))](_0x370164,this[_0x1a9f('0x48')]);return _0x370164['rotation']['x']=0.5*-Math['PI'],_0x370164['rotation']['z']=0.5*Math['PI'],_0x370164['renderOrder']=0x4e,this['object3d'][_0x1a9f('0x1c0')](_0x370164),_0x370164;}},{'key':_0x1a9f('0x340'),'value':function(_0x370164){this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]+=_0x370164*this['speed'],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')]['value']=this['count']);}},{'key':_0x1a9f('0x342'),'set':function(_0x370164){this[_0x1a9f('0x343')][_0x1a9f('0x342')]=_0x370164;},'get':function(){return this[_0x1a9f('0x343')][_0x1a9f('0x342')];}}]),_0x109305[_0x1a9f('0xa')]=_0x4fbab2;},function(_0x2f9d73,_0x48b2e4,_0x5b17ce){'use strict';Object[_0x1a9f('0x3')](_0x48b2e4,'__esModule',{'value':!0x0});var _0x2f0286=_0x5a5ac4(_0x5b17ce(0x0)),_0x388cdb=_0x5a5ac4(_0x5b17ce(0x1));function _0x5a5ac4(_0x2f9d73){return _0x2f9d73&&_0x2f9d73[_0x1a9f('0x5')]?_0x2f9d73:{'default':_0x2f9d73};}function _0x4e7dab(){(0x0,_0x2f0286[_0x1a9f('0xa')])(this,_0x4e7dab),this[_0x1a9f('0x343')]=new THREE['Object3D']();}_0x5a5ac4(_0x5b17ce(0x9b)),(0x0,_0x388cdb['default'])(_0x4e7dab,[{'key':_0x1a9f('0x309'),'value':function(_0x48b2e4,_0x2f9d73){_0x48b2e4[_0x1a9f('0x601')]=!0x1,_0x2f9d73['flipY']=!0x1;_0x2f9d73=new THREE[(_0x1a9f('0x562'))]({'transparent':!0x0,'normalMap':_0x2f9d73,'roughness':0x1,'matalness':0x0});return _0x2f9d73['onBeforeCompile']=function(_0x2f9d73){_0x2f9d73['uniforms'][_0x1a9f('0x602')]={'value':_0x48b2e4},_0x2f9d73['vertexShader']=_0x2f9d73['vertexShader'][_0x1a9f('0x239')](_0x1a9f('0x595'),_0x1a9f('0x5fc')),_0x2f9d73[_0x1a9f('0x56')]=_0x2f9d73['vertexShader'][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x5fd')),_0x2f9d73[_0x1a9f('0x57')]=_0x2f9d73[_0x1a9f('0x57')]['replace'](_0x1a9f('0x433'),_0x1a9f('0x603')),_0x2f9d73[_0x1a9f('0x57')]=_0x2f9d73[_0x1a9f('0x57')]['replace']('vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20*\x202.35;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2f9d73[_0x1a9f('0x57')]=_0x2f9d73[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(grayTex,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20texCol.a;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(0.5,\x200.5,\x200.5),\x20vec3(1.0),\x20outgoingLight.r);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20*=\x20(1.2\x20-\x20resultColor.r);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},_0x2f9d73;}},{'key':_0x1a9f('0x7'),'value':function(_0x2f9d73){var _0x48b2e4=_0x2f9d73[_0x1a9f('0x602')],_0x5b17ce=_0x2f9d73[_0x1a9f('0x604')],_0x2f0286=_0x2f9d73[_0x1a9f('0x33a')],_0x2f9d73=_0x2f9d73[_0x1a9f('0x33b')],_0x48b2e4=this[_0x1a9f('0x309')](_0x48b2e4,_0x5b17ce),_0x5b17ce=new THREE[(_0x1a9f('0x3f0'))](_0x2f0286,_0x2f9d73),_0x5b17ce=new THREE['Mesh'](_0x5b17ce,_0x48b2e4);return _0x5b17ce[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],_0x5b17ce['position'][_0x1a9f('0x1d')](_0x2f0286/0x2,0x0,_0x2f9d73/0x2),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0x5b17ce),_0x5b17ce;}},{'key':_0x1a9f('0x342'),'set':function(_0x2f9d73){this['object3d'][_0x1a9f('0x342')]=_0x2f9d73;},'get':function(){return this[_0x1a9f('0x343')]['visible'];}}]),_0x48b2e4['default']=_0x4e7dab;},function(_0x256ef8,_0x2d2ec3,_0x5c4035){'use strict';Object['defineProperty'](_0x2d2ec3,_0x1a9f('0x5'),{'value':!0x0});var _0x30f417=_0x261646(_0x5c4035(0x0)),_0x50228a=_0x261646(_0x5c4035(0x1)),_0x135bcb=_0x261646(_0x5c4035(0x57));function _0x261646(_0x256ef8){return _0x256ef8&&_0x256ef8['__esModule']?_0x256ef8:{'default':_0x256ef8};}function _0x3328a3(_0x256ef8){_0x256ef8=_0x256ef8[_0x1a9f('0x1d5')],_0x256ef8=void 0x0===_0x256ef8?0xa:_0x256ef8;(0x0,_0x30f417[_0x1a9f('0xa')])(this,_0x3328a3),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this['scale']=_0x256ef8,this[_0x1a9f('0x40d')]=null,this[_0x1a9f('0x605')]=null,this[_0x1a9f('0x40f')]=null,this[_0x1a9f('0x410')]=null,this[_0x1a9f('0x411')]=!0x0;}(0x0,_0x50228a[_0x1a9f('0xa')])(_0x3328a3,[{'key':'create','value':function(_0x256ef8){var _0x2d2ec3=_0x256ef8[_0x1a9f('0x606')],_0x5c4035=_0x256ef8[_0x1a9f('0x454')],_0x5c4035=void 0x0===_0x5c4035?0x1:_0x5c4035,_0x30f417=_0x256ef8[_0x1a9f('0x1e9')],_0x30f417=void 0x0===_0x30f417?0x1:_0x30f417,_0x256ef8=_0x256ef8[_0x1a9f('0x414')]?0x4:0x1;this[_0x1a9f('0x410')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x605')]=new _0x135bcb[(_0x1a9f('0xa'))][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x2d2ec3},'transparent':!0x0,'blending':THREE[_0x1a9f('0x416')],'maxParticleCount':0x14*_0x256ef8*_0x5c4035}),this[_0x1a9f('0x607')]=new _0x135bcb['default'][(_0x1a9f('0x1f2'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](+_0x30f417,0x1,0x1)},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x1,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)},'color':{'value':[new THREE[(_0x1a9f('0x1b7'))](0xeeeeee)]},'size':{'value':[0xf*this[_0x1a9f('0x1d5')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x256ef8*_0x5c4035}),this[_0x1a9f('0x605')][_0x1a9f('0x48')]['uniforms']['fogColor'][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0x605')][_0x1a9f('0x1f1')](this[_0x1a9f('0x607')]),this[_0x1a9f('0x605')][_0x1a9f('0x1e4')]['scale'][_0x1a9f('0x1d')](this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')]),this[_0x1a9f('0x410')]['add'](this[_0x1a9f('0x605')][_0x1a9f('0x1e4')]),this[_0x1a9f('0x410')][_0x1a9f('0x323')]=0xb,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this['centerGroup']),this['enabled']=!0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x256ef8){this[_0x1a9f('0x40c')]&&this['smokeParticle']&&this[_0x1a9f('0x605')][_0x1a9f('0x218')](_0x256ef8);}},{'key':_0x1a9f('0x4e2'),'value':function(_0x256ef8){(0x64<_0x256ef8||_0x256ef8<0x0)&&(_0x256ef8=0x64);_0x256ef8=Math[_0x1a9f('0x41b')](0x64*(0x1-_0x256ef8/0x64))/0x64;this[_0x1a9f('0x607')][_0x1a9f('0x22b')]=_0x256ef8;}},{'key':_0x1a9f('0x342'),'set':function(_0x256ef8){this['_visible']=_0x256ef8,this[_0x1a9f('0x410')][_0x1a9f('0x342')]=_0x256ef8;}}]),_0x2d2ec3['default']=_0x3328a3;},function(_0x47ddeb,_0x51cf7c,_0x1f5706){'use strict';Object[_0x1a9f('0x3')](_0x51cf7c,'__esModule',{'value':!0x0});var _0x2327ba=_0x1f74f2(_0x1f5706(0x0)),_0x6195e5=_0x1f74f2(_0x1f5706(0x1)),_0x32924a=_0x1f74f2(_0x1f5706(0x57));function _0x1f74f2(_0x47ddeb){return _0x47ddeb&&_0x47ddeb[_0x1a9f('0x5')]?_0x47ddeb:{'default':_0x47ddeb};}function _0x352805(_0x47ddeb){_0x47ddeb=_0x47ddeb[_0x1a9f('0x1d5')],_0x47ddeb=void 0x0===_0x47ddeb?0xa:_0x47ddeb;(0x0,_0x2327ba['default'])(this,_0x352805),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x343')]=new THREE['Object3D'](),this[_0x1a9f('0x1d5')]=_0x47ddeb,this[_0x1a9f('0x40d')]=null,this[_0x1a9f('0x419')]=null,this[_0x1a9f('0x40f')]=null,this[_0x1a9f('0x410')]=null,this[_0x1a9f('0x411')]=!0x0;}(0x0,_0x6195e5[_0x1a9f('0xa')])(_0x352805,[{'key':'create','value':function(_0x47ddeb){var _0x51cf7c=_0x47ddeb[_0x1a9f('0x606')],_0x47ddeb=_0x47ddeb[_0x1a9f('0x414')]?0x4:0x1;this[_0x1a9f('0x410')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x419')]=new _0x32924a[(_0x1a9f('0xa'))][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x51cf7c},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1a9f('0x3fa')],'maxParticleCount':0x32*_0x47ddeb}),this['fireEmitter']=new _0x32924a[(_0x1a9f('0xa'))]['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x5,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,-0x5,0x0),'spread':new THREE[(_0x1a9f('0x1b5'))](0.5,0x1,0.5)},'color':{'value':[new THREE[(_0x1a9f('0x1b7'))](0xff00)]},'size':{'value':[0xf*this['scale']]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x47ddeb}),this[_0x1a9f('0x419')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x418')][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b7'))](),this['fireParticle']['addEmitter'](this['fireEmitter']),this['fireParticle'][_0x1a9f('0x1e4')][_0x1a9f('0x1d5')]['set'](this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')]),this['centerGroup'][_0x1a9f('0x1c0')](this['fireParticle']['mesh']),this['centerGroup'][_0x1a9f('0x323')]=0xb,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this[_0x1a9f('0x410')]),this[_0x1a9f('0x40c')]=!0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x47ddeb){this[_0x1a9f('0x40c')]&&this[_0x1a9f('0x419')]&&this[_0x1a9f('0x419')]['tick'](_0x47ddeb);}},{'key':'outfire','value':function(_0x47ddeb){(0x64<_0x47ddeb||_0x47ddeb<0x0)&&(_0x47ddeb=0x64);_0x47ddeb=Math[_0x1a9f('0x41b')](0x64*(0x1-_0x47ddeb/0x64))/0x64;this['fireEmitter'][_0x1a9f('0x22b')]=_0x47ddeb;}},{'key':_0x1a9f('0x342'),'set':function(_0x47ddeb){this[_0x1a9f('0x411')]=_0x47ddeb,this[_0x1a9f('0x410')][_0x1a9f('0x342')]=_0x47ddeb;}}]),_0x51cf7c[_0x1a9f('0xa')]=_0x352805;},function(_0x2f7cec,_0x4de094,_0x511fb2){'use strict';Object[_0x1a9f('0x3')](_0x4de094,'__esModule',{'value':!0x0});var _0x376067=_0x7f3c89(_0x511fb2(0x0)),_0x3fbfac=_0x7f3c89(_0x511fb2(0x1)),_0x524523=_0x7f3c89(_0x511fb2(0x57));function _0x7f3c89(_0x2f7cec){return _0x2f7cec&&_0x2f7cec[_0x1a9f('0x5')]?_0x2f7cec:{'default':_0x2f7cec};}function _0x13f236(_0x2f7cec){_0x2f7cec=_0x2f7cec[_0x1a9f('0x1d5')],_0x2f7cec=void 0x0===_0x2f7cec?0xa:_0x2f7cec;(0x0,_0x376067['default'])(this,_0x13f236),this['enabled']=!0x1,this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this['scale']=_0x2f7cec,this[_0x1a9f('0x40d')]=null,this[_0x1a9f('0x608')]=null,this['emitter']=null,this[_0x1a9f('0x410')]=null,this[_0x1a9f('0x411')]=!0x0;}(0x0,_0x3fbfac['default'])(_0x13f236,[{'key':_0x1a9f('0x7'),'value':function(_0x2f7cec){var _0x4de094=_0x2f7cec[_0x1a9f('0xcc')],_0x511fb2=_0x2f7cec[_0x1a9f('0x1e9')],_0x511fb2=void 0x0===_0x511fb2?0x14:_0x511fb2,_0x376067=_0x2f7cec['extentHeight'],_0x376067=void 0x0===_0x376067?0xa:_0x376067,_0x3fbfac=_0x2f7cec['speed'],_0x3fbfac=void 0x0===_0x3fbfac?0x1:_0x3fbfac,_0x7f3c89=_0x2f7cec[_0x1a9f('0x4c9')],_0x7f3c89=void 0x0!==_0x7f3c89&&_0x7f3c89,_0x13f236=_0x2f7cec['color'],_0x13f236=void 0x0===_0x13f236?_0x1a9f('0x426'):_0x13f236,_0x2a1ce0=_0x2f7cec['pointNum'],_0x2a1ce0=void 0x0===_0x2a1ce0?0x14:_0x2a1ce0,_0x494528=_0x2f7cec[_0x1a9f('0x609')],_0x494528=void 0x0!==_0x494528&&_0x494528,_0x2f7cec=_0x2f7cec[_0x1a9f('0x4af')],_0x2f7cec=void 0x0!==_0x2f7cec&&_0x2f7cec;this[_0x1a9f('0x410')]=new THREE[(_0x1a9f('0x1e5'))](),this[_0x1a9f('0x608')]=new _0x524523['default'][(_0x1a9f('0x1e5'))]({'texture':{'value':_0x4de094},'hasPerspective':!_0x7f3c89,'transparent':!0x0,'blending':_0x2f7cec?THREE['AdditiveBlending']:THREE[_0x1a9f('0x416')],'depthWrite':!0x1,'maxParticleCount':0x2*_0x2a1ce0}),this[_0x1a9f('0x607')]=new _0x524523['default'][(_0x1a9f('0x1f2'))]({'maxAge':{'value':0x3},'position':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0.5*_0x376067,0x0),'spread':new THREE['Vector3'](+_0x511fb2,_0x376067,+_0x511fb2),'randomise':!0x0},'velocity':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x2*_0x3fbfac,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'color':{'value':[new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x13f236)],'spread':_0x494528?new THREE[(_0x1a9f('0x1b5'))](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x1a9f('0x1d5')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0x2a1ce0}),this['floatPointsParticle'][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x418')]['value']=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0x608')][_0x1a9f('0x1f1')](this[_0x1a9f('0x607')]),this[_0x1a9f('0x608')][_0x1a9f('0x1e4')][_0x1a9f('0x1d5')][_0x1a9f('0x1d')](this['scale'],this[_0x1a9f('0x1d5')],this[_0x1a9f('0x1d5')]),this[_0x1a9f('0x410')]['add'](this[_0x1a9f('0x608')][_0x1a9f('0x1e4')]),this[_0x1a9f('0x343')]['add'](this[_0x1a9f('0x410')]),this[_0x1a9f('0x40c')]=!0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x2f7cec){this[_0x1a9f('0x40c')]&&this[_0x1a9f('0x608')]&&this[_0x1a9f('0x608')][_0x1a9f('0x218')](_0x2f7cec);}},{'key':'visible','set':function(_0x2f7cec){this[_0x1a9f('0x411')]=_0x2f7cec,this[_0x1a9f('0x410')][_0x1a9f('0x342')]=_0x2f7cec;}}]),_0x4de094['default']=_0x13f236;},function(_0x128123,_0x5d9398,_0x492f80){'use strict';Object[_0x1a9f('0x3')](_0x5d9398,_0x1a9f('0x5'),{'value':!0x0});var _0x14c684=_0x4ede9a(_0x492f80(0x0));function _0x4ede9a(_0x128123){return _0x128123&&_0x128123['__esModule']?_0x128123:{'default':_0x128123};}function _0x42226c(_0x128123){var _0x5d9398=_0x128123[_0x1a9f('0x30a')],_0x492f80=_0x128123['repeat'],_0x492f80=void 0x0===_0x492f80?{'x':0x1,'y':0x2}:_0x492f80,_0x4ede9a=_0x128123[_0x1a9f('0x341')],_0x4ede9a=void 0x0===_0x4ede9a?0.5:_0x4ede9a,_0x128123=_0x128123[_0x1a9f('0xcc')];(0x0,_0x14c684['default'])(this,_0x42226c),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this['material']=null,this['shader']=null,this[_0x1a9f('0x302')]=_0x492f80,this[_0x1a9f('0x341')]=_0x4ede9a,_0x128123['wrapS']=THREE[_0x1a9f('0x34a')],_0x128123[_0x1a9f('0x349')]=THREE['RepeatWrapping'],this['createMaterial'](_0x5d9398,_0x128123);}(0x0,_0x4ede9a(_0x492f80(0x1))[_0x1a9f('0xa')])(_0x42226c,[{'key':_0x1a9f('0x5aa'),'value':function(){var _0x128123=document[_0x1a9f('0x77')](_0x1a9f('0x3db')),_0x5d9398=(_0x128123[_0x1a9f('0x33a')]=0x4,_0x128123[_0x1a9f('0x33b')]=0x80,_0x128123[_0x1a9f('0x3dc')]('2d')),_0x492f80=_0x5d9398[_0x1a9f('0x60a')](0x0,0x0,_0x128123[_0x1a9f('0x33a')],_0x128123[_0x1a9f('0x33b')]);return _0x492f80['addColorStop'](0x0,_0x1a9f('0x60b')),_0x492f80[_0x1a9f('0x3dd')](0.3,'#FFFFFF'),_0x492f80[_0x1a9f('0x3dd')](0.7,'#FFFFFF'),_0x492f80[_0x1a9f('0x3dd')](0x1,'#000000'),_0x5d9398[_0x1a9f('0x3df')]=_0x492f80,_0x5d9398[_0x1a9f('0x60c')](0x0,0x0,_0x128123['width'],_0x128123[_0x1a9f('0x33b')]),new THREE[(_0x1a9f('0x5fb'))](_0x128123);}},{'key':_0x1a9f('0x309'),'value':function(_0x128123,_0x5d9398){this[_0x1a9f('0x48')]=new THREE['MeshBasicMaterial']({'side':THREE[_0x1a9f('0x3f9')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x1a9f('0x3fa')]});var _0x492f80=this[_0x1a9f('0x5aa')](),_0x4ede9a=(_0x128123&&this['material'][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x128123),this);this['material'][_0x1a9f('0x3ea')]=function(_0x128123){_0x128123['uniforms'][_0x1a9f('0x3eb')]={'value':0x0},_0x128123['uniforms'][_0x1a9f('0x3ec')]={'value':_0x5d9398},_0x128123[_0x1a9f('0x16a')][_0x1a9f('0x3f2')]={'value':_0x492f80},_0x128123['uniforms'][_0x1a9f('0x60d')]={'value':new THREE[(_0x1a9f('0x1b3'))](_0x4ede9a[_0x1a9f('0x302')]['x'],_0x4ede9a[_0x1a9f('0x302')]['y'])},_0x128123['vertexShader']=_0x128123[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x3fc'),_0x1a9f('0x60e')),_0x128123['vertexShader']=_0x128123[_0x1a9f('0x56')]['replace'](_0x1a9f('0x5c0'),_0x1a9f('0x60f')),_0x128123['fragmentShader']=_0x128123[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x610')),_0x128123['fragmentShader']=_0x128123[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x611')),_0x4ede9a[_0x1a9f('0x3e8')]=_0x128123;};}},{'key':_0x1a9f('0x7'),'value':function(_0x128123){for(var _0x5d9398=_0x128123['points'],_0x492f80=_0x128123[_0x1a9f('0x312')],_0x4ede9a=void 0x0===_0x492f80?0x1:_0x492f80,_0x492f80=_0x128123[_0x1a9f('0x408')],_0x14c684=void 0x0===_0x492f80?0x64:_0x492f80,_0x42226c=0x0,_0x4fc2cc=_0x5d9398[_0x1a9f('0xf')];_0x42226c<_0x4fc2cc;_0x42226c++){var _0x36a24c=new THREE[(_0x1a9f('0x346'))](),_0x13dca3=new THREE['PlaneBufferGeometry'](_0x4ede9a,_0x14c684),_0x13dca3=(_0x13dca3[_0x1a9f('0x612')](0x0,0.5*_0x14c684,0x0),new THREE[(_0x1a9f('0x332'))](_0x13dca3,this['material'])),_0x238626=new THREE[(_0x1a9f('0x3f0'))](_0x4ede9a,_0x14c684),_0x238626=(_0x238626[_0x1a9f('0x612')](0x0,0.5*_0x14c684,0x0),new THREE[(_0x1a9f('0x332'))](_0x238626,this[_0x1a9f('0x48')]));_0x238626[_0x1a9f('0x1eb')]['y']=0.5*Math['PI'],_0x13dca3['renderOrder']=0x5a,_0x238626[_0x1a9f('0x323')]=0x5a,_0x36a24c['add'](_0x13dca3),_0x36a24c[_0x1a9f('0x1c0')](_0x238626),_0x36a24c[_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x5d9398[_0x42226c]),this['object3d']['add'](_0x36a24c);}}},{'key':'render','value':function(_0x128123){this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['iTime'][_0x1a9f('0x11')]-=_0x128123*this[_0x1a9f('0x341')]);}}]),_0x5d9398[_0x1a9f('0xa')]=_0x42226c;},function(_0x1b19ea,_0x25a7cf,_0x5bbe27){'use strict';Object[_0x1a9f('0x3')](_0x25a7cf,_0x1a9f('0x5'),{'value':!0x0});var _0x560475=_0x5a89e3(_0x5bbe27(0x2e)),_0x1e3fad=_0x5a89e3(_0x5bbe27(0x0)),_0x181c57=_0x5a89e3(_0x5bbe27(0x1)),_0x2adb72=_0x5bbe27(0xd7),_0x2b7397=_0x5bbe27(0xd8),_0x4cc788=_0x5bbe27(0xd9),_0xd1edc6=_0x5bbe27(0xda);function _0x5a89e3(_0x1b19ea){return _0x1b19ea&&_0x1b19ea['__esModule']?_0x1b19ea:{'default':_0x1b19ea};}function _0x2ca718(_0x1b19ea){(0x0,_0x1e3fad['default'])(this,_0x2ca718),this[_0x1a9f('0x90')]=_0x1b19ea,this['textureLoader']=new _0xd1edc6[(_0x1a9f('0x613'))](),this[_0x1a9f('0x614')]=null;}(0x0,_0x181c57['default'])(_0x2ca718,[{'key':_0x1a9f('0x615'),'value':function(_0x1b19ea){var _0x25a7cf=this,_0x1e3fad=_0x1b19ea[_0x1a9f('0x50c')],_0x1b19ea=_0x1b19ea['resolutionSize'],_0x181c57=void 0x0===_0x1b19ea?0x200:_0x1b19ea,_0xd1edc6=this;return new _0x560475[(_0x1a9f('0xa'))](function(_0x5bbe27,_0x1b19ea){_0x25a7cf['textureLoader']['load'](_0x1e3fad,function(_0x1b19ea){_0x1b19ea[_0x1a9f('0x446')]=THREE[_0x1a9f('0x616')],_0x1b19ea['minFilter']=THREE['NearestFilter'],_0x1b19ea[_0x1a9f('0x617')]=THREE['NearestFilter'],_0x1b19ea['flipY']=!0x0;var _0x1b19ea=new _0x4cc788[(_0x1a9f('0x618'))](_0x1b19ea,{'resolution':_0x181c57})[_0x1a9f('0x2e4')](_0xd1edc6[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer']),_0x1b19ea=new _0x2adb72[(_0x1a9f('0x619'))](_0x1b19ea),_0x25a7cf=(_0x1b19ea[_0x1a9f('0x2e4')](_0xd1edc6[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer']),new _0x2b7397[(_0x1a9f('0x61a'))](_0x1b19ea['cubeLods']));_0x25a7cf[_0x1a9f('0x2e4')](_0xd1edc6[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')]),_0xd1edc6['envCubeMap']=_0x25a7cf[_0x1a9f('0x61b')][_0x1a9f('0xcc')],_0x5bbe27(_0xd1edc6['envCubeMap']),_0x1b19ea[_0x1a9f('0x8f')](),_0x25a7cf[_0x1a9f('0x8f')]();});});}}]),_0x25a7cf[_0x1a9f('0xa')]=_0x2ca718;},function(_0x4299c6,_0x3c8b65,_0x5557ad){'use strict';Object[_0x1a9f('0x3')](_0x3c8b65,_0x1a9f('0x5'),{'value':!0x0});(_0x2909d9=new THREE[(_0x1a9f('0x1e2'))]({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':_0x1a9f('0x61c'),'fragmentShader':_0x1a9f('0x61d'),'blending':THREE[_0x1a9f('0x61e')]}))['type']=_0x1a9f('0x619'),_0x2f334b=_0x2909d9,_0x4c0c2c=new THREE[(_0x1a9f('0x61f'))](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0x4a00b8=new THREE[(_0x1a9f('0x620'))](),(_0x2909d9=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x3f0'))](0x2,0x2,0x0),_0x2f334b))['material'][_0x1a9f('0x37a')]=THREE[_0x1a9f('0x3f9')],_0x4a00b8['add'](_0x2909d9),_0x4a00b8[_0x1a9f('0x1c0')](_0x4c0c2c),_0x38fb4c['prototype']={'constructor':_0x38fb4c,'update':function(_0x4299c6){var _0x3c8b65=this[_0x1a9f('0x621')][_0x1a9f('0x622')]?-0x1:0x1,_0x5557ad=(_0x2f334b['defines']['SAMPLES_PER_LEVEL']=this[_0x1a9f('0x623')],_0x2f334b[_0x1a9f('0x16a')][_0x1a9f('0x624')][_0x1a9f('0x11')]=0x0,_0x2f334b[_0x1a9f('0x16a')][_0x1a9f('0x45c')]['value']=this[_0x1a9f('0x621')],_0x2f334b[_0x1a9f('0x45c')]=this[_0x1a9f('0x621')],_0x2f334b[_0x1a9f('0x101')]=!0x0,_0x4299c6[_0x1a9f('0x625')]),_0x45b10d=_0x4299c6[_0x1a9f('0x626')],_0x54dc58=_0x4299c6['toneMapping'],_0x3b802f=_0x4299c6[_0x1a9f('0x627')],_0xfc90bf=_0x4299c6[_0x1a9f('0x628')]();_0x4299c6[_0x1a9f('0x629')]=THREE[_0x1a9f('0x62a')],_0x4299c6['toneMappingExposure']=0x1,_0x4299c6[_0x1a9f('0x625')]=!0x1,_0x4299c6['gammaOutput']=!0x1;for(var _0x3f788e=0x0;_0x3f788e<this['numLods'];_0x3f788e++){var _0x40bfae=_0x3f788e/(this[_0x1a9f('0x62b')]-0x1),_0x40bfae=(_0x2f334b[_0x1a9f('0x16a')]['roughness']['value']=0.9*_0x40bfae,_0x2f334b['uniforms'][_0x1a9f('0x62c')][_0x1a9f('0x11')]=0x0==_0x3f788e?_0x3c8b65:0x1,this['cubeLods'][_0x3f788e][_0x1a9f('0x33a')]);_0x2f334b[_0x1a9f('0x16a')][_0x1a9f('0x62d')][_0x1a9f('0x11')]=_0x40bfae,this[_0x1a9f('0x62e')](_0x4299c6,this['cubeLods'][_0x3f788e]),_0x3f788e<0x5&&(_0x2f334b[_0x1a9f('0x16a')][_0x1a9f('0x45c')]['value']=this[_0x1a9f('0x62f')][_0x3f788e][_0x1a9f('0xcc')]);}_0x4299c6[_0x1a9f('0x630')](_0xfc90bf),_0x4299c6[_0x1a9f('0x629')]=_0x54dc58,_0x4299c6['toneMappingExposure']=_0x3b802f,_0x4299c6['gammaInput']=_0x5557ad,_0x4299c6[_0x1a9f('0x626')]=_0x45b10d;},'renderToCubeMapTarget':function(_0x4299c6,_0x3c8b65){for(var _0x5557ad=0x0;_0x5557ad<0x6;_0x5557ad++)this['renderToCubeMapTargetFace'](_0x4299c6,_0x3c8b65,_0x5557ad);},'renderToCubeMapTargetFace':function(_0x4299c6,_0x3c8b65,_0x5557ad){_0x2f334b[_0x1a9f('0x16a')][_0x1a9f('0x624')][_0x1a9f('0x11')]=_0x5557ad,_0x4299c6[_0x1a9f('0x630')](_0x3c8b65,_0x5557ad),_0x4299c6[_0x1a9f('0x2f4')](),_0x4299c6[_0x1a9f('0x340')](_0x4a00b8,_0x4c0c2c);},'dispose':function(){for(var _0x4299c6=0x0,_0x3c8b65=this[_0x1a9f('0x62f')][_0x1a9f('0xf')];_0x4299c6<_0x3c8b65;_0x4299c6++)this['cubeLods'][_0x4299c6][_0x1a9f('0x8f')]();}};var _0x2f334b,_0x4c0c2c,_0x4a00b8,_0x2909d9=_0x38fb4c;function _0x38fb4c(_0x4299c6,_0x3c8b65,_0x5557ad){this[_0x1a9f('0x621')]=_0x4299c6,this[_0x1a9f('0x310')]=void 0x0!==_0x5557ad?_0x5557ad:0x100,this['samplesPerLevel']=void 0x0!==_0x3c8b65?_0x3c8b65:0x20;var _0x4299c6=this[_0x1a9f('0x621')][_0x1a9f('0x446')]===THREE[_0x1a9f('0x631')]||this[_0x1a9f('0x621')]['encoding']===THREE[_0x1a9f('0x632')]||this[_0x1a9f('0x621')]['encoding']===THREE['sRGBEncoding'],_0x4c0c2c=(this[_0x1a9f('0x621')][_0x1a9f('0x633')]=_0x4299c6?THREE[_0x1a9f('0x634')]:THREE[_0x1a9f('0x635')],this[_0x1a9f('0x621')][_0x1a9f('0x617')]=_0x4299c6?THREE[_0x1a9f('0x634')]:THREE[_0x1a9f('0x635')],this[_0x1a9f('0x621')][_0x1a9f('0x636')]=this[_0x1a9f('0x621')]['generateMipmaps']&&_0x4299c6,this[_0x1a9f('0x62f')]=[],this[_0x1a9f('0x310')]),_0x4a00b8={'format':this[_0x1a9f('0x621')]['format'],'magFilter':this[_0x1a9f('0x621')][_0x1a9f('0x617')],'minFilter':this[_0x1a9f('0x621')][_0x1a9f('0x633')],'type':this[_0x1a9f('0x621')][_0x1a9f('0xc6')],'generateMipmaps':this[_0x1a9f('0x621')][_0x1a9f('0x636')],'anisotropy':this['sourceTexture']['anisotropy'],'encoding':this[_0x1a9f('0x621')][_0x1a9f('0x446')]};this[_0x1a9f('0x62b')]=Math[_0x1a9f('0x486')](_0x4c0c2c)/Math[_0x1a9f('0x486')](0x2)-0x2;for(var _0x2909d9=0x0;_0x2909d9<this[_0x1a9f('0x62b')];_0x2909d9++){var _0x38fb4c=new THREE[(_0x1a9f('0x637'))](_0x4c0c2c,_0x4c0c2c,_0x4a00b8);_0x38fb4c[_0x1a9f('0xcc')][_0x1a9f('0x427')]='PMREMGenerator.cube'+_0x2909d9,this[_0x1a9f('0x62f')][_0x1a9f('0x70')](_0x38fb4c),_0x4c0c2c=Math[_0x1a9f('0xd9')](0x10,_0x4c0c2c/0x2);}}_0x3c8b65[_0x1a9f('0x619')]=_0x2909d9;},function(_0x569ee6,_0x1ce770,_0xdc31e9){'use strict';var _0x4a3226,_0x1192d6,_0x48fcec,_0x28e32d;function _0x23e436(_0x569ee6){var _0x1ce770=0x4*(this['cubeLods']=_0x569ee6)[0x0][_0x1a9f('0x33a')],_0xdc31e9=_0x569ee6[0x0][_0x1a9f('0xcc')],_0xdc31e9={'format':_0xdc31e9['format'],'magFilter':_0xdc31e9['magFilter'],'minFilter':_0xdc31e9[_0x1a9f('0x633')],'type':_0xdc31e9['type'],'generateMipmaps':_0xdc31e9[_0x1a9f('0x636')],'anisotropy':_0xdc31e9[_0x1a9f('0x4b0')],'encoding':_0xdc31e9['encoding']===THREE[_0x1a9f('0x616')]?THREE[_0x1a9f('0x638')]:_0xdc31e9[_0x1a9f('0x446')]},_0x4a3226=(_0xdc31e9[_0x1a9f('0x446')]===THREE[_0x1a9f('0x638')]&&(_0xdc31e9[_0x1a9f('0x617')]=THREE[_0x1a9f('0x634')],_0xdc31e9[_0x1a9f('0x633')]=THREE[_0x1a9f('0x634')]),this['CubeUVRenderTarget']=new THREE[(_0x1a9f('0x639'))](_0x1ce770,_0x1ce770,_0xdc31e9),this[_0x1a9f('0x61b')][_0x1a9f('0xcc')][_0x1a9f('0x427')]=_0x1a9f('0x63a'),this[_0x1a9f('0x61b')][_0x1a9f('0xcc')][_0x1a9f('0x63b')]=THREE['CubeUVReflectionMapping'],this[_0x1a9f('0x63c')]=[],new THREE[(_0x1a9f('0x3f0'))](0x1,0x1)),_0x23e436=[],_0x511743=(_0x23e436[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b3'))](0x0,0x0)),_0x23e436[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b3'))](0x1,0x0)),_0x23e436['push'](new THREE[(_0x1a9f('0x1b3'))](0x2,0x0)),_0x23e436[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b3'))](0x0,0x1)),_0x23e436['push'](new THREE[(_0x1a9f('0x1b3'))](0x1,0x1)),_0x23e436[_0x1a9f('0x70')](new THREE[(_0x1a9f('0x1b3'))](0x2,0x1)),_0x1ce770),_0x1ce770=_0x569ee6[0x0][_0x1a9f('0x33a')],_0x2b53cc=0x0,_0x1192d6=0x4;this[_0x1a9f('0x62b')]=Math[_0x1a9f('0x486')](_0x569ee6[0x0][_0x1a9f('0x33a')])/Math[_0x1a9f('0x486')](0x2)-0x2;for(var _0x48fcec=0x0;_0x48fcec<this[_0x1a9f('0x62b')];_0x48fcec++){for(var _0x1e763d=0.5*(_0x511743-_0x511743/_0x1192d6),_0x437de6=(0x10<_0x1ce770&&(_0x1192d6*=0x2),0x10<_0x1ce770?0x6:0x1),_0x2daa42=0x0,_0x3f61ea=0x0,_0x4fa6c2=_0x1ce770,_0x4ef3f5=0x0;_0x4ef3f5<_0x437de6;_0x4ef3f5++){for(var _0x3fe42c=0x0;_0x3fe42c<0x6;_0x3fe42c++){var _0x4afe2e=_0x28e32d[_0x1a9f('0x1af')](),_0x4afe2e=(_0x4afe2e[_0x1a9f('0x16a')][_0x1a9f('0x45c')][_0x1a9f('0x11')]=this[_0x1a9f('0x62f')][_0x48fcec][_0x1a9f('0xcc')],_0x4afe2e[_0x1a9f('0x45c')]=this[_0x1a9f('0x62f')][_0x48fcec][_0x1a9f('0xcc')],_0x4afe2e[_0x1a9f('0x16a')]['faceIndex'][_0x1a9f('0x11')]=_0x3fe42c,_0x4afe2e[_0x1a9f('0x16a')]['mapSize'][_0x1a9f('0x11')]=_0x4fa6c2,new THREE['Mesh'](_0x4a3226,_0x4afe2e));_0x4afe2e['position']['x']=_0x23e436[_0x3fe42c]['x']*_0x4fa6c2-_0x1e763d+_0x2daa42,_0x4afe2e[_0x1a9f('0x42')]['y']=_0x23e436[_0x3fe42c]['y']*_0x4fa6c2-_0x1e763d+_0x2b53cc+_0x3f61ea,_0x4afe2e[_0x1a9f('0x48')]['side']=THREE[_0x1a9f('0x441')],_0x4afe2e[_0x1a9f('0x1d5')][_0x1a9f('0x63d')](_0x4fa6c2),this['objects']['push'](_0x4afe2e);}_0x3f61ea+=1.75*_0x4fa6c2,_0x2daa42+=1.25*_0x4fa6c2,_0x4fa6c2/=0x2;}_0x2b53cc+=0x2*_0x1ce770,0x10<_0x1ce770&&(_0x1ce770/=0x2);}}Object[_0x1a9f('0x3')](_0x1ce770,_0x1a9f('0x5'),{'value':!0x0}),_0x1192d6=new THREE['OrthographicCamera'](),_0x48fcec=new THREE[(_0x1a9f('0x620'))](),(_0x4a3226=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)}},'vertexShader':_0x1a9f('0x63e'),'fragmentShader':'precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','blending':THREE[_0x1a9f('0x61e')]}))[_0x1a9f('0xc6')]=_0x1a9f('0x61a'),_0x28e32d=_0x4a3226,_0x23e436[_0x1a9f('0xb')]={'constructor':_0x23e436,'update':function(_0x569ee6){var _0x1ce770=0x4*this['cubeLods'][0x0][_0x1a9f('0x33a')];_0x1192d6['left']=0.5*-_0x1ce770,_0x1192d6['right']=0.5*_0x1ce770,_0x1192d6[_0x1a9f('0x63f')]=0.5*-_0x1ce770,_0x1192d6[_0x1a9f('0x640')]=0.5*_0x1ce770,_0x1192d6[_0x1a9f('0x313')]=0x0,_0x1192d6[_0x1a9f('0x386')]=0x1,_0x1192d6[_0x1a9f('0x641')]();for(var _0xdc31e9=0x0;_0xdc31e9<this['objects']['length'];_0xdc31e9++)_0x48fcec[_0x1a9f('0x1c0')](this[_0x1a9f('0x63c')][_0xdc31e9]);var _0x1ce770=_0x569ee6[_0x1a9f('0x625')],_0x4a3226=_0x569ee6[_0x1a9f('0x626')],_0x23e436=_0x569ee6[_0x1a9f('0x629')],_0x4bea06=_0x569ee6[_0x1a9f('0x627')],_0x1dd601=_0x569ee6['getRenderTarget']();for(_0x569ee6[_0x1a9f('0x625')]=!0x1,_0x569ee6['gammaOutput']=!0x1,_0x569ee6[_0x1a9f('0x629')]=THREE['LinearToneMapping'],_0x569ee6[_0x1a9f('0x627')]=0x1,_0x569ee6['setRenderTarget'](this['CubeUVRenderTarget']),_0x569ee6[_0x1a9f('0x340')](_0x48fcec,_0x1192d6),_0x569ee6[_0x1a9f('0x630')](_0x1dd601),_0x569ee6[_0x1a9f('0x629')]=_0x23e436,_0x569ee6[_0x1a9f('0x627')]=_0x4bea06,_0x569ee6[_0x1a9f('0x625')]=_0x1ce770,_0x569ee6[_0x1a9f('0x626')]=_0x4a3226,_0xdc31e9=0x0;_0xdc31e9<this['objects'][_0x1a9f('0xf')];_0xdc31e9++)_0x48fcec[_0x1a9f('0x93')](this[_0x1a9f('0x63c')][_0xdc31e9]);},'dispose':function(){for(var _0x569ee6=0x0,_0x1ce770=this[_0x1a9f('0x63c')][_0x1a9f('0xf')];_0x569ee6<_0x1ce770;_0x569ee6++)this['objects'][_0x569ee6][_0x1a9f('0x48')][_0x1a9f('0x8f')]();this[_0x1a9f('0x63c')][0x0][_0x1a9f('0x91')][_0x1a9f('0x8f')]();}},_0x1ce770[_0x1a9f('0x61a')]=_0x23e436;},function(_0x1a4689,_0x4d9881,_0x4b1c5){'use strict';function _0x331a4a(_0x1a4689){this[_0x1a9f('0x4b1')]=_0x1a4689;}Object[_0x1a9f('0x3')](_0x4d9881,'__esModule',{'value':!0x0}),_0x331a4a[_0x1a9f('0xb')]['fromEquirectangular']=function(_0x1a4689,_0x4d9881){_0x4d9881=_0x4d9881||{};var _0x4b1c5=new THREE['Scene'](),_0x331a4a=new THREE['ShaderMaterial']({'type':_0x1a9f('0x642'),'uniforms':THREE[_0x1a9f('0x643')][_0x1a9f('0x1af')]({'tEquirect':{'value':null}}),'vertexShader':_0x1a9f('0x644'),'fragmentShader':_0x1a9f('0x645'),'side':THREE[_0x1a9f('0x441')],'blending':THREE['NoBlending']}),_0x331a4a=(_0x331a4a['uniforms'][_0x1a9f('0x646')][_0x1a9f('0x11')]=_0x1a4689,new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x442'))](0x5,0x5,0x5),_0x331a4a)),_0x3ddcf1=(_0x4b1c5[_0x1a9f('0x1c0')](_0x331a4a),_0x4d9881[_0x1a9f('0x310')]||0x200),_0x4d9881={'type':_0x1a4689[_0x1a9f('0xc6')],'format':_0x1a4689['format'],'encoding':_0x1a4689['encoding'],'generateMipmaps':(void 0x0!==_0x4d9881['generateMipmaps']?_0x4d9881:_0x1a4689)[_0x1a9f('0x636')],'minFilter':(void 0x0!==_0x4d9881[_0x1a9f('0x633')]?_0x4d9881:_0x1a4689)[_0x1a9f('0x633')],'magFilter':(void 0x0!==_0x4d9881[_0x1a9f('0x617')]?_0x4d9881:_0x1a4689)[_0x1a9f('0x617')]},_0x1a4689=new THREE[(_0x1a9f('0x647'))](0x1,0xa,_0x3ddcf1,_0x4d9881);return _0x1a4689[_0x1a9f('0x2e4')](this[_0x1a9f('0x4b1')],_0x4b1c5),_0x331a4a[_0x1a9f('0x91')]['dispose'](),_0x331a4a[_0x1a9f('0x48')][_0x1a9f('0x8f')](),_0x1a4689[_0x1a9f('0x648')];};_0x22194f=new THREE[(_0x1a9f('0x649'))](0x5a,0x1,0.1,0xa),_0x3e1b87=new THREE['Scene'](),(_0x3219a4=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x442'))](0x1,0x1,0x1),((_0x1387f7=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':_0x1a9f('0x64a'),'fragmentShader':_0x1a9f('0x64b'),'blending':THREE['NoBlending']}))[_0x1a9f('0xc6')]=_0x1a9f('0x618'),_0x1387f7)))[_0x1a9f('0x48')][_0x1a9f('0x37a')]=THREE['BackSide'],_0x3e1b87[_0x1a9f('0x1c0')](_0x3219a4),_0x35d966[_0x1a9f('0xb')]={'constructor':_0x35d966,'update':function(_0x1a4689){var _0x4d9881=_0x1a4689[_0x1a9f('0x628')]();_0x3219a4[_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x64c')][_0x1a9f('0x11')]=this[_0x1a9f('0x621')];for(var _0x4b1c5=0x0;_0x4b1c5<0x6;_0x4b1c5++){var _0x331a4a=this[_0x1a9f('0x64d')][_0x4b1c5];_0x22194f[_0x1a9f('0x42')]['set'](0x0,0x0,0x0),_0x22194f['up'][_0x1a9f('0x1d')](_0x331a4a['u'][0x0],_0x331a4a['u'][0x1],_0x331a4a['u'][0x2]),_0x22194f['lookAt'](_0x331a4a['t'][0x0],_0x331a4a['t'][0x1],_0x331a4a['t'][0x2]),_0x1a4689['setRenderTarget'](this['renderTarget'],_0x4b1c5),_0x1a4689[_0x1a9f('0x2f4')](),_0x1a4689[_0x1a9f('0x340')](_0x3e1b87,_0x22194f);}return _0x1a4689['setRenderTarget'](_0x4d9881),this[_0x1a9f('0x648')][_0x1a9f('0xcc')];},'dispose':function(){this[_0x1a9f('0x648')]['dispose']();}};var _0x22194f,_0x3e1b87,_0x3219a4,_0x1387f7=_0x35d966;function _0x35d966(_0x1a4689,_0x4d9881){_0x4d9881=_0x4d9881||{},this[_0x1a9f('0x621')]=_0x1a4689,this[_0x1a9f('0x310')]=_0x4d9881[_0x1a9f('0x310')]||0x200,this['views']=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0x1a4689={'format':_0x4d9881['format']||this[_0x1a9f('0x621')][_0x1a9f('0x44f')],'magFilter':this[_0x1a9f('0x621')]['magFilter'],'minFilter':this[_0x1a9f('0x621')][_0x1a9f('0x633')],'type':_0x4d9881[_0x1a9f('0xc6')]||this[_0x1a9f('0x621')]['type'],'generateMipmaps':this[_0x1a9f('0x621')]['generateMipmaps'],'anisotropy':this[_0x1a9f('0x621')][_0x1a9f('0x4b0')],'encoding':this[_0x1a9f('0x621')][_0x1a9f('0x446')]};this[_0x1a9f('0x648')]=new THREE[(_0x1a9f('0x637'))](this[_0x1a9f('0x310')],this[_0x1a9f('0x310')],_0x1a4689);}_0x4d9881[_0x1a9f('0x64e')]=_0x331a4a,_0x4d9881[_0x1a9f('0x618')]=_0x1387f7;},function(_0x5a6c23,_0x26d819,_0x39fa63){'use strict';Object[_0x1a9f('0x3')](_0x26d819,_0x1a9f('0x5'),{'value':!0x0}),_0x26d819[_0x1a9f('0x613')]=void 0x0;_0x39fa63=_0x39fa63(0x22),_0x39fa63=_0x39fa63&&_0x39fa63[_0x1a9f('0x5')]?_0x39fa63:{'default':_0x39fa63};function _0x1ccd4b(_0x5a6c23){this['manager']=void 0x0!==_0x5a6c23?_0x5a6c23:THREE['DefaultLoadingManager'],this[_0x1a9f('0xc6')]=THREE[_0x1a9f('0x64f')];}(_0x1ccd4b[_0x1a9f('0xb')]=(0x0,_0x39fa63[_0x1a9f('0xa')])(THREE['DataTextureLoader'][_0x1a9f('0xb')]))[_0x1a9f('0x650')]=function(_0x5a6c23){function _0x5b5057(_0x5a6c23,_0x26d819){switch(_0x5a6c23){case _0x11f8de:console[_0x1a9f('0x1f3')](_0x1a9f('0x651')+(_0x26d819||''));break;case _0x3fbcd4:console[_0x1a9f('0x1f3')](_0x1a9f('0x652')+(_0x26d819||''));break;case _0x57a42a:console[_0x1a9f('0x1f3')](_0x1a9f('0x653')+(_0x26d819||''));break;default:console['error'](_0x1a9f('0x654')+(_0x26d819||''));}return _0x1a6297;}function _0x5ac1a3(_0x5a6c23,_0x26d819,_0x39fa63){_0x26d819=_0x26d819||0x400;for(var _0x1ccd4b=_0x5a6c23['pos'],_0xc6032e=-0x1,_0x470e47=0x0,_0x15145d='',_0x53a99d=String['fromCharCode'][_0x1a9f('0x15')](null,new Uint16Array(_0x5a6c23['subarray'](_0x1ccd4b,_0x1ccd4b+0x80)));(_0xc6032e=_0x53a99d[_0x1a9f('0xc4')](_0x3b7d96))<0x0&&_0x470e47<_0x26d819&&_0x1ccd4b<_0x5a6c23[_0x1a9f('0x655')];)_0x15145d+=_0x53a99d,_0x470e47+=_0x53a99d[_0x1a9f('0xf')],_0x1ccd4b+=0x80,_0x53a99d+=String[_0x1a9f('0x656')][_0x1a9f('0x15')](null,new Uint16Array(_0x5a6c23['subarray'](_0x1ccd4b,_0x1ccd4b+0x80)));return-0x1<_0xc6032e&&(!0x1!==_0x39fa63&&(_0x5a6c23[_0x1a9f('0x657')]+=_0x470e47+_0xc6032e+0x1),_0x15145d+_0x53a99d['slice'](0x0,_0xc6032e));}var _0x26d819,_0x39fa63,_0x1ccd4b,_0x96cec7,_0x227e01,_0x1a6297=-0x1,_0x11f8de=0x1,_0x3fbcd4=0x2,_0x57a42a=0x3,_0x3b7d96='\x0a',_0x5a6c23=new Uint8Array(_0x5a6c23),_0x5f5869=(_0x5a6c23['pos']=0x0,function(_0x5a6c23){var _0x26d819,_0x39fa63,_0x1ccd4b=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x96cec7=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0x227e01=/^\s*FORMAT=(\S+)\s*$/,_0x1a6297=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x3fbcd4={'valid':0x0,'string':'','comments':'','programtype':'RGBE','format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x5a6c23[_0x1a9f('0x657')]>=_0x5a6c23[_0x1a9f('0x655')]||!(_0x26d819=_0x5ac1a3(_0x5a6c23)))return _0x5b5057(_0x11f8de,'no\x20header\x20found');if(!(_0x39fa63=_0x26d819[_0x1a9f('0x658')](/^#\?(\S+)$/)))return _0x5b5057(_0x57a42a,_0x1a9f('0x659'));for(_0x3fbcd4['valid']|=0x1,_0x3fbcd4[_0x1a9f('0x65a')]=_0x39fa63[0x1],_0x3fbcd4['string']+=_0x26d819+'\x0a';!0x1!==(_0x26d819=_0x5ac1a3(_0x5a6c23));)if(_0x3fbcd4['string']+=_0x26d819+'\x0a','#'===_0x26d819[_0x1a9f('0x7e')](0x0))_0x3fbcd4[_0x1a9f('0x65b')]+=_0x26d819+'\x0a';else if((_0x39fa63=_0x26d819[_0x1a9f('0x658')](_0x1ccd4b))&&(_0x3fbcd4['gamma']=parseFloat(_0x39fa63[0x1],0xa)),(_0x39fa63=_0x26d819['match'](_0x96cec7))&&(_0x3fbcd4['exposure']=parseFloat(_0x39fa63[0x1],0xa)),(_0x39fa63=_0x26d819[_0x1a9f('0x658')](_0x227e01))&&(_0x3fbcd4[_0x1a9f('0x65c')]|=0x2,_0x3fbcd4['format']=_0x39fa63[0x1]),(_0x39fa63=_0x26d819['match'](_0x1a6297))&&(_0x3fbcd4[_0x1a9f('0x65c')]|=0x4,_0x3fbcd4[_0x1a9f('0x33b')]=parseInt(_0x39fa63[0x1],0xa),_0x3fbcd4[_0x1a9f('0x33a')]=parseInt(_0x39fa63[0x2],0xa)),0x2&_0x3fbcd4['valid']&&0x4&_0x3fbcd4[_0x1a9f('0x65c')])break;return 0x2&_0x3fbcd4[_0x1a9f('0x65c')]?0x4&_0x3fbcd4[_0x1a9f('0x65c')]?_0x3fbcd4:_0x5b5057(_0x57a42a,_0x1a9f('0x65d')):_0x5b5057(_0x57a42a,_0x1a9f('0x65e'));}(_0x5a6c23));if(_0x1a6297!==_0x5f5869){var _0x397338=_0x5f5869[_0x1a9f('0x33a')],_0x3409d0=_0x5f5869['height'],_0x15c814=function(_0x5a6c23,_0x26d819,_0x39fa63){var _0x1ccd4b,_0x96cec7,_0x227e01,_0x1a6297,_0x3fbcd4,_0x5ac1a3,_0x3b7d96,_0x5f5869,_0x397338,_0x3409d0,_0x15c814,_0x16c82a,_0x85be8a,_0x5672aa=_0x26d819,_0x53475f=_0x39fa63;if(_0x5672aa<0x8||0x7fff<_0x5672aa||0x2!==_0x5a6c23[0x0]||0x2!==_0x5a6c23[0x1]||0x80&_0x5a6c23[0x2])return new Uint8Array(_0x5a6c23);if(_0x5672aa!==(_0x5a6c23[0x2]<<0x8|_0x5a6c23[0x3]))return _0x5b5057(_0x57a42a,_0x1a9f('0x65f'));if(!(_0x1ccd4b=new Uint8Array(0x4*_0x26d819*_0x39fa63))||!_0x1ccd4b['length'])return _0x5b5057(0x4,_0x1a9f('0x660'));for(_0x227e01=_0x96cec7=0x0,_0x5f5869=0x4*_0x5672aa,_0x85be8a=new Uint8Array(0x4),_0x5ac1a3=new Uint8Array(_0x5f5869);0x0<_0x53475f&&_0x227e01<_0x5a6c23[_0x1a9f('0x655')];){if(_0x227e01+0x4>_0x5a6c23[_0x1a9f('0x655')])return _0x5b5057(_0x11f8de);if(_0x85be8a[0x0]=_0x5a6c23[_0x227e01++],_0x85be8a[0x1]=_0x5a6c23[_0x227e01++],_0x85be8a[0x2]=_0x5a6c23[_0x227e01++],_0x85be8a[0x3]=_0x5a6c23[_0x227e01++],0x2!=_0x85be8a[0x0]||0x2!=_0x85be8a[0x1]||(_0x85be8a[0x2]<<0x8|_0x85be8a[0x3])!=_0x5672aa)return _0x5b5057(_0x57a42a,_0x1a9f('0x661'));for(_0x3b7d96=0x0;_0x3b7d96<_0x5f5869&&_0x227e01<_0x5a6c23[_0x1a9f('0x655')];){if((_0x16c82a=0x80<(_0x1a6297=_0x5a6c23[_0x227e01++]))&&(_0x1a6297-=0x80),0x0===_0x1a6297||_0x5f5869<_0x3b7d96+_0x1a6297)return _0x5b5057(_0x57a42a,_0x1a9f('0x662'));if(_0x16c82a)for(_0x3fbcd4=_0x5a6c23[_0x227e01++],_0x397338=0x0;_0x397338<_0x1a6297;_0x397338++)_0x5ac1a3[_0x3b7d96++]=_0x3fbcd4;else _0x5ac1a3[_0x1a9f('0x1d')](_0x5a6c23[_0x1a9f('0x37e')](_0x227e01,_0x227e01+_0x1a6297),_0x3b7d96),_0x3b7d96+=_0x1a6297,_0x227e01+=_0x1a6297;}for(_0x3409d0=_0x5672aa,_0x397338=0x0;_0x397338<_0x3409d0;_0x397338++)_0x1ccd4b[_0x96cec7]=_0x5ac1a3[_0x397338+(_0x15c814=0x0)],_0x15c814+=_0x5672aa,_0x1ccd4b[_0x96cec7+0x1]=_0x5ac1a3[_0x397338+_0x15c814],_0x15c814+=_0x5672aa,_0x1ccd4b[_0x96cec7+0x2]=_0x5ac1a3[_0x397338+_0x15c814],_0x15c814+=_0x5672aa,_0x1ccd4b[_0x96cec7+0x3]=_0x5ac1a3[_0x397338+_0x15c814],_0x96cec7+=0x4;_0x53475f--;}return _0x1ccd4b;}(_0x5a6c23['subarray'](_0x5a6c23['pos']),_0x397338,_0x3409d0);if(_0x1a6297!==_0x15c814){if(this['type']===THREE['UnsignedByteType'])var _0x1b65e9=_0x15c814,_0x3de1ff=THREE[_0x1a9f('0x663')],_0x28bb90=THREE['UnsignedByteType'];else if(this[_0x1a9f('0xc6')]===THREE['FloatType']){for(var _0x4ef18a=_0x15c814[_0x1a9f('0xf')]/0x4*0x3,_0x5731c3=new Float32Array(_0x4ef18a),_0x43861e=0x0;_0x43861e<_0x4ef18a;_0x43861e++)_0x1ccd4b=_0x5731c3,_0x96cec7=0x3*_0x43861e,0x0,_0x227e01=(_0x26d819=_0x15c814)[0x3+(_0x39fa63=0x4*_0x43861e)],_0x227e01=Math[_0x1a9f('0x31f')](0x2,_0x227e01-0x80)/0xff,_0x1ccd4b[0x0+_0x96cec7]=_0x26d819[0x0+_0x39fa63]*_0x227e01,_0x1ccd4b[0x1+_0x96cec7]=_0x26d819[0x1+_0x39fa63]*_0x227e01,_0x1ccd4b[0x2+_0x96cec7]=_0x26d819[0x2+_0x39fa63]*_0x227e01;_0x1b65e9=_0x5731c3,_0x3de1ff=THREE[_0x1a9f('0x444')],_0x28bb90=THREE[_0x1a9f('0x664')];}else console[_0x1a9f('0x1f3')]('THREE.RGBELoader:\x20unsupported\x20type:\x20',this[_0x1a9f('0xc6')]);return{'width':_0x397338,'height':_0x3409d0,'data':_0x1b65e9,'header':_0x5f5869[_0x1a9f('0x8')],'gamma':_0x5f5869[_0x1a9f('0x665')],'exposure':_0x5f5869[_0x1a9f('0x666')],'format':_0x3de1ff,'type':_0x28bb90};}}return null;},_0x1ccd4b[_0x1a9f('0xb')][_0x1a9f('0x667')]=function(_0x5a6c23){return this[_0x1a9f('0xc6')]=_0x5a6c23,this;},_0x26d819[_0x1a9f('0x613')]=_0x1ccd4b;},function(_0x2dee76,_0x37f853,_0x476bbb){'use strict';Object[_0x1a9f('0x3')](_0x37f853,_0x1a9f('0x5'),{'value':!0x0});var _0x2d5980=_0x5cfc0b(_0x476bbb(0x0));function _0x5cfc0b(_0x2dee76){return _0x2dee76&&_0x2dee76[_0x1a9f('0x5')]?_0x2dee76:{'default':_0x2dee76};}function _0x470a1c(_0x2dee76){var _0x37f853=_0x2dee76[_0x1a9f('0x1d5')],_0x37f853=void 0x0===_0x37f853?0x6:_0x37f853,_0x476bbb=_0x2dee76[_0x1a9f('0x341')],_0x476bbb=void 0x0===_0x476bbb?0.005:_0x476bbb,_0x5cfc0b=_0x2dee76[_0x1a9f('0x668')],_0x5cfc0b=void 0x0===_0x5cfc0b?0x32:_0x5cfc0b,_0x38d7eb=_0x2dee76[_0x1a9f('0xcc')],_0x3c0aca=_0x2dee76[_0x1a9f('0x669')],_0x2be99f=_0x2dee76[_0x1a9f('0x30a')],_0x2be99f=void 0x0===_0x2be99f?'#00335f':_0x2be99f,_0x567715=_0x2dee76[_0x1a9f('0x66a')],_0x567715=void 0x0===_0x567715?0x1:_0x567715,_0x500076=_0x2dee76['lightColorStr'],_0x500076=void 0x0===_0x500076?'#b2b2e6':_0x500076,_0x1a7998=_0x2dee76['flowAngle'],_0x1a7998=void 0x0===_0x1a7998?0x0:_0x1a7998,_0x2dee76=_0x2dee76[_0x1a9f('0x1ff')],_0x2dee76=void 0x0===_0x2dee76?0x1:_0x2dee76;(0x0,_0x2d5980[_0x1a9f('0xa')])(this,_0x470a1c),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x2be99f),this[_0x1a9f('0x66b')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x500076),this[_0x1a9f('0x341')]=_0x476bbb,this[_0x1a9f('0x668')]=_0x5cfc0b,this[_0x1a9f('0x66a')]=_0x567715,this['flowAngle']=_0x1a7998,this['opacity']=_0x2dee76,this[_0x1a9f('0x1d5')]=_0x37f853,this[_0x1a9f('0x492')]=null,this[_0x1a9f('0x3e8')]=null,this['count']=0x0,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0xcc')]=_0x38d7eb,this['skyTexture']=_0x3c0aca,this[_0x1a9f('0x66c')]=null,this[_0x1a9f('0x66d')]=[];}(0x0,_0x5cfc0b(_0x476bbb(0x1))[_0x1a9f('0xa')])(_0x470a1c,[{'key':_0x1a9f('0x549'),'value':function(_0x2dee76){var _0x37f853=_0x2dee76[_0x1a9f('0x46')][_0x1a9f('0x66e')][_0x1a9f('0xf')];if(0x0<_0x37f853){this[_0x1a9f('0x66d')][_0x1a9f('0x70')](_0x2dee76);for(var _0x476bbb=_0x2dee76[_0x1a9f('0x91')][_0x1a9f('0x403')](_0x1a9f('0x42')),_0x5cfc0b=new Array(_0x476bbb[_0x1a9f('0x100')]),_0x592540=0x0;_0x592540<_0x37f853;_0x592540++){var _0x208f86=_0x2dee76[_0x1a9f('0x46')][_0x1a9f('0x66e')][_0x592540][_0x1a9f('0x66f')][0x0],_0x33da89=_0x2dee76[_0x1a9f('0x46')][_0x1a9f('0x66e')][_0x592540][_0x1a9f('0x670')][0x0],_0x2fae54=_0x2dee76[_0x1a9f('0x46')][_0x1a9f('0x66e')][_0x592540][_0x1a9f('0x66f')][0x1];_0x5cfc0b[_0x1a9f('0x4a5')](0x1,_0x208f86,_0x33da89),_0x5cfc0b[_0x1a9f('0x4a5')](0x0,_0x33da89,_0x2fae54);}_0x2dee76[_0x1a9f('0x91')][_0x1a9f('0x1f0')](_0x1a9f('0x671'),new THREE['BufferAttribute'](new Float32Array(_0x5cfc0b),0x1));}}},{'key':_0x1a9f('0x672'),'value':function(){return this[_0x1a9f('0x48')];}},{'key':_0x1a9f('0x309'),'value':function(_0x2dee76,_0x37f853){var _0x476bbb=this,_0x5cfc0b=(this[_0x1a9f('0xcc')][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],this[_0x1a9f('0xcc')][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x2dee76?(this['material']=_0x2dee76,this[_0x1a9f('0x48')]['color']=this[_0x1a9f('0x21e')],_0x476bbb[_0x1a9f('0x48')]['map']&&(_0x37f853?_0x476bbb[_0x1a9f('0x48')]['map'][_0x1a9f('0x8f')]():(_0x476bbb[_0x1a9f('0x48')][_0x1a9f('0x169')]['IS_USE_ORIGING_MAP']='',this[_0x1a9f('0xcc')]=_0x476bbb[_0x1a9f('0x48')][_0x1a9f('0x90')]),_0x476bbb[_0x1a9f('0x48')][_0x1a9f('0x90')]=null)):this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x562'))]({'color':this[_0x1a9f('0x21e')]}),0x1!==this[_0x1a9f('0x1ff')]&&(this['material'][_0x1a9f('0x1d0')]=!0x0,this[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=this[_0x1a9f('0x1ff')]),null);_0x476bbb['alphaMaskPath']&&(_0x476bbb['material'][_0x1a9f('0x169')]['IS_USE_CUS_ALPHA']='',_0x476bbb[_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,(_0x5cfc0b=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](_0x476bbb[_0x1a9f('0x66c')]))['flipY']=!0x1),_0x476bbb['skyTexture']&&(_0x476bbb[_0x1a9f('0x48')]['defines'][_0x1a9f('0x673')]=''),this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x2dee76){_0x2dee76[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x2dee76[_0x1a9f('0x16a')][_0x1a9f('0x674')]={'value':_0x476bbb['scale']||0x5},_0x2dee76[_0x1a9f('0x16a')][_0x1a9f('0x668')]={'value':_0x476bbb['fluctuate']},_0x2dee76['uniforms']['texUvScale']={'value':_0x476bbb[_0x1a9f('0x66a')]},_0x2dee76['uniforms'][_0x1a9f('0x3ec')]={'value':_0x476bbb[_0x1a9f('0xcc')]},_0x2dee76[_0x1a9f('0x16a')][_0x1a9f('0x5af')]={'value':_0x5cfc0b},_0x2dee76[_0x1a9f('0x16a')][_0x1a9f('0x460')]={'value':_0x476bbb[_0x1a9f('0x669')]},_0x2dee76['uniforms'][_0x1a9f('0x66b')]={'value':_0x476bbb[_0x1a9f('0x66b')]},_0x2dee76['uniforms'][_0x1a9f('0x675')]={'value':THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x476bbb[_0x1a9f('0x676')])},_0x2dee76[_0x1a9f('0x56')]=_0x2dee76[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x595'),_0x1a9f('0x677')),_0x2dee76[_0x1a9f('0x56')]=_0x2dee76[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2dee76[_0x1a9f('0x56')]=_0x2dee76[_0x1a9f('0x56')]['replace'](_0x1a9f('0x46b'),_0x1a9f('0x678')),_0x2dee76[_0x1a9f('0x57')]=_0x2dee76[_0x1a9f('0x57')]['replace'](_0x1a9f('0x433'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2dee76[_0x1a9f('0x57')]=_0x2dee76[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x5b1'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2dee76[_0x1a9f('0x57')]=_0x2dee76[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x476bbb[_0x1a9f('0x3e8')]=_0x2dee76;};}},{'key':_0x1a9f('0x58a'),'value':function(_0x2dee76){_0x2dee76=_0x2dee76['scale'];this[_0x1a9f('0x3e8')]&&_0x2dee76&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x674')]['value']=_0x2dee76);}},{'key':_0x1a9f('0x8f'),'value':function(){this['material']&&this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this[_0x1a9f('0xcc')]&&this['texture'][_0x1a9f('0x8f')](),this[_0x1a9f('0xcc')]=null,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e8')]=null;for(var _0x2dee76=0x0,_0x37f853=this['targetMeshes'][_0x1a9f('0xf')];_0x2dee76<_0x37f853;_0x2dee76++)this[_0x1a9f('0x66d')][_0x2dee76]['material'][0x0]=null;this[_0x1a9f('0x66d')]['length']=0x0;}},{'key':_0x1a9f('0x340'),'value':function(){this['material']&&this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]+=this[_0x1a9f('0x341')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}}]),_0x37f853[_0x1a9f('0xa')]=_0x470a1c;},function(_0x4ea27c,_0x32a06e,_0x55734e){'use strict';Object[_0x1a9f('0x3')](_0x32a06e,_0x1a9f('0x5'),{'value':!0x0});var _0x3abb1b=_0xc76f05(_0x55734e(0x0));function _0xc76f05(_0x4ea27c){return _0x4ea27c&&_0x4ea27c['__esModule']?_0x4ea27c:{'default':_0x4ea27c};}function _0x365642(){(0x0,_0x3abb1b[_0x1a9f('0xa')])(this,_0x365642),this[_0x1a9f('0x679')]=null;}(0x0,_0xc76f05(_0x55734e(0x1))[_0x1a9f('0xa')])(_0x365642,[{'key':_0x1a9f('0x67a'),'value':function(){for(var _0x4ea27c=new Float32Array(0x7530),_0x32a06e=0x0,_0x55734e=0x0;_0x55734e<0x64;_0x55734e++)for(var _0x3abb1b=0x0;_0x3abb1b<0x64;_0x3abb1b++)_0x4ea27c[_0x32a06e]=0xa*_0x55734e-0x1f4,_0x4ea27c[_0x32a06e+0x1]=0x0,_0x4ea27c[_0x32a06e+0x2]=0xa*_0x3abb1b-0x1f4,_0x32a06e+=0x3;var _0xc76f05=new THREE['BufferGeometry'](),_0x365642=(_0xc76f05[_0x1a9f('0x1f0')](_0x1a9f('0x42'),new THREE['BufferAttribute'](_0x4ea27c,0x3)),new THREE['PointsMaterial']({'color':0xffffff,'size':1.2}));return _0x365642[_0x1a9f('0x311')]=!0x1,this[_0x1a9f('0x679')]=new THREE['Points'](_0xc76f05,_0x365642),this[_0x1a9f('0x679')];}}]),_0x32a06e[_0x1a9f('0xa')]=_0x365642;},function(_0x33cdc1,_0x427808,_0x4e0d17){'use strict';Object[_0x1a9f('0x3')](_0x427808,_0x1a9f('0x5'),{'value':!0x0});var _0x41b0fb=_0x4917f9(_0x4e0d17(0x0));function _0x4917f9(_0x33cdc1){return _0x33cdc1&&_0x33cdc1[_0x1a9f('0x5')]?_0x33cdc1:{'default':_0x33cdc1};}function _0x3f252a(_0x33cdc1){var _0x427808=_0x33cdc1['speed'],_0x427808=void 0x0===_0x427808?0.5:_0x427808,_0x33cdc1=_0x33cdc1[_0x1a9f('0x456')],_0x33cdc1=void 0x0===_0x33cdc1?[0.078125,0.9375]:_0x33cdc1;(0x0,_0x41b0fb['default'])(this,_0x3f252a),this['object3d']=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x456')]=_0x33cdc1,this[_0x1a9f('0x341')]=_0x427808,this[_0x1a9f('0x100')]=0x0;}(0x0,_0x4917f9(_0x4e0d17(0x1))['default'])(_0x3f252a,[{'key':'create','value':function(_0x33cdc1){_0x33cdc1=_0x33cdc1[_0x1a9f('0x21c')],_0x33cdc1=void 0x0===_0x33cdc1?0x64:_0x33cdc1,_0x33cdc1=new THREE[(_0x1a9f('0x3f0'))](_0x33cdc1,_0x33cdc1),_0x33cdc1=new THREE[(_0x1a9f('0x332'))](_0x33cdc1,this['material']);return _0x33cdc1[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],this['object3d'][_0x1a9f('0x1c0')](_0x33cdc1),this[_0x1a9f('0x343')];}},{'key':_0x1a9f('0x309'),'value':function(_0x33cdc1){var _0x427808=_0x33cdc1[_0x1a9f('0xcc')],_0x4e0d17=_0x33cdc1[_0x1a9f('0x302')],_0x41b0fb=void 0x0===_0x4e0d17?{'x':0x0,'y':0x0}:_0x4e0d17,_0x4e0d17=_0x33cdc1['colorStr'],_0x4917f9=void 0x0===_0x4e0d17?_0x1a9f('0x3f1'):_0x4e0d17,_0x33cdc1=this[_0x1a9f('0x5ff')](),_0x3f252a=new THREE[(_0x1a9f('0x5fb'))](_0x33cdc1),_0x3848ea=(_0x427808[_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x427808[_0x1a9f('0x3f8')]=THREE['RepeatWrapping'],this['material']=new THREE[(_0x1a9f('0x562'))]({'transparent':!0x0,'depthWrite':!0x1}),this);return this[_0x1a9f('0x48')][_0x1a9f('0x3ea')]=function(_0x33cdc1){_0x33cdc1[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x33cdc1['uniforms'][_0x1a9f('0x3ec')]={'value':_0x427808},_0x33cdc1['uniforms'][_0x1a9f('0x3f2')]={'value':_0x3f252a},_0x33cdc1[_0x1a9f('0x16a')][_0x1a9f('0x60d')]={'value':new THREE[(_0x1a9f('0x1b3'))](_0x41b0fb['x'],_0x41b0fb['y'])},_0x33cdc1['uniforms'][_0x1a9f('0x21e')]={'value':new THREE[(_0x1a9f('0x1b7'))](_0x4917f9)},_0x33cdc1[_0x1a9f('0x56')]=_0x33cdc1[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x595'),_0x1a9f('0x67b')),_0x33cdc1[_0x1a9f('0x56')]=_0x33cdc1[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x67c')),_0x33cdc1[_0x1a9f('0x57')]=_0x33cdc1[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x33cdc1[_0x1a9f('0x57')]=_0x33cdc1[_0x1a9f('0x57')]['replace'](_0x1a9f('0x3ee'),_0x1a9f('0x67d')),_0x3848ea['shader']=_0x33cdc1;},this[_0x1a9f('0x48')];}},{'key':_0x1a9f('0x5ff'),'value':function(){var _0x33cdc1=document[_0x1a9f('0x77')]('canvas'),_0x427808=(_0x33cdc1[_0x1a9f('0x33a')]=0x100,_0x33cdc1[_0x1a9f('0x33b')]=0x100,_0x33cdc1['getContext']('2d')),_0x4e0d17=_0x427808[_0x1a9f('0x67e')](0x80,0x80,0x80*this['transFactor'][0x0],0x80,0x80,0x80*this[_0x1a9f('0x456')][0x1]);return _0x4e0d17['addColorStop'](0x0,_0x1a9f('0x67f')),_0x4e0d17[_0x1a9f('0x3dd')](0x1,_0x1a9f('0x3de')),_0x427808['fillStyle']=_0x4e0d17,_0x427808[_0x1a9f('0x60c')](0x0,0x0,0x100,0x100),_0x33cdc1;}},{'key':_0x1a9f('0x8f'),'value':function(){this['material']&&this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this[_0x1a9f('0x3e8')],this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x343')]=null;}},{'key':_0x1a9f('0x340'),'value':function(_0x33cdc1){this['shader']&&(this[_0x1a9f('0x100')]+=_0x33cdc1*this[_0x1a9f('0x341')],this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}}]),_0x427808[_0x1a9f('0xa')]=_0x3f252a;},function(_0x1ef775,_0x5de973,_0x2f40fe){'use strict';Object['defineProperty'](_0x5de973,_0x1a9f('0x5'),{'value':!0x0});var _0x1a6e70=_0x3a822e(_0x2f40fe(0x0));function _0x3a822e(_0x1ef775){return _0x1ef775&&_0x1ef775[_0x1a9f('0x5')]?_0x1ef775:{'default':_0x1ef775};}function _0x3bdfc(_0x1ef775){var _0x5de973=_0x1ef775[_0x1a9f('0x30a')],_0x5de973=void 0x0===_0x5de973?'#FFFFFF':_0x5de973,_0x2f40fe=_0x1ef775[_0x1a9f('0x21c')],_0x2f40fe=void 0x0===_0x2f40fe?0x3e8:_0x2f40fe,_0x3a822e=_0x1ef775['repeat'],_0x3a822e=void 0x0===_0x3a822e?{'x':0xa,'y':0xa}:_0x3a822e,_0x41475c=_0x1ef775[_0x1a9f('0x456')],_0x41475c=void 0x0===_0x41475c?[0.078125,0.9375]:_0x41475c,_0x26511d=_0x1ef775[_0x1a9f('0x680')],_0x26511d=void 0x0===_0x26511d?'basic':_0x26511d,_0x1e3e21=_0x1ef775[_0x1a9f('0x681')],_0x1e3e21=void 0x0===_0x1e3e21||_0x1e3e21,_0x23deba=_0x1ef775['scanLightColorStr'],_0x23deba=void 0x0===_0x23deba?_0x1a9f('0x3f1'):_0x23deba,_0x1ef775=_0x1ef775[_0x1a9f('0x341')],_0x1ef775=void 0x0===_0x1ef775?0.5:_0x1ef775;(0x0,_0x1a6e70[_0x1a9f('0xa')])(this,_0x3bdfc),this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x5de973),this[_0x1a9f('0x21c')]=_0x2f40fe,this['texRepeat']=_0x3a822e,this[_0x1a9f('0x456')]=_0x41475c,this['materialType']=_0x26511d,this[_0x1a9f('0x3e8')]=null,this['speed']=_0x1ef775,this[_0x1a9f('0x100')]=0x0,this[_0x1a9f('0x681')]=_0x1e3e21,this[_0x1a9f('0x682')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x23deba);}(0x0,_0x3a822e(_0x2f40fe(0x1))[_0x1a9f('0xa')])(_0x3bdfc,[{'key':'createGround','value':function(_0x5de973,_0x2f40fe){var _0x1ef775=this[_0x1a9f('0x5ff')](),_0x3a822e=new THREE['CanvasTexture'](_0x1ef775),_0x1ef775=(this['radius'],this[_0x1a9f('0x21e')],new THREE[(_0x1a9f('0x3f0'))](0x2*this[_0x1a9f('0x21c')],0x2*this[_0x1a9f('0x21c')])),_0x5aa4ee=new THREE['MeshBasicMaterial']({'color':this[_0x1a9f('0x21e')],'transparent':!0x0}),_0x5aa4ee=new((_0x1a9f('0x683'))===this[(_0x1a9f('0x680'))]?THREE[(_0x1a9f('0x684'))]:(_0x1a9f('0x685'))===this[(_0x1a9f('0x680'))]?THREE['MeshStandardMaterial']:THREE[(_0x1a9f('0x3e9'))])({'color':this[_0x1a9f('0x21e')],'transparent':!0x0}),_0x2f1afa=this;return _0x5aa4ee[_0x1a9f('0x3ea')]=function(_0x1ef775){_0x1ef775['uniforms'][_0x1a9f('0x3eb')]={'value':0x0},_0x1ef775[_0x1a9f('0x16a')][_0x1a9f('0x3ec')]={'value':_0x5de973},_0x1ef775[_0x1a9f('0x16a')]['scanTexture']={'value':_0x2f40fe},_0x1ef775[_0x1a9f('0x16a')][_0x1a9f('0x682')]={'value':_0x2f1afa['scanLightColor']},_0x1ef775[_0x1a9f('0x16a')][_0x1a9f('0x3f2')]={'value':_0x3a822e},_0x1ef775['vertexShader']=_0x1ef775[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x595'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1ef775[_0x1a9f('0x56')]=_0x1ef775[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv_vertex>',_0x1a9f('0x686')+_0x2f1afa[_0x1a9f('0x60d')]['x'][_0x1a9f('0x687')](0x1)+',\x20'+_0x2f1afa[_0x1a9f('0x60d')]['y']['toFixed'](0x1)+_0x1a9f('0x688')),_0x1ef775['fragmentShader']=_0x1ef775[_0x1a9f('0x57')]['replace'](_0x1a9f('0x433'),_0x1a9f('0x46d')+(_0x5de973?_0x1a9f('0x57c'):'')+_0x1a9f('0x46d')+(_0x2f1afa[_0x1a9f('0x681')]?_0x1a9f('0x689'):'')+_0x1a9f('0x68a')),_0x1ef775['fragmentShader']=_0x1ef775[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x68b')),_0x2f1afa[_0x1a9f('0x3e8')]=_0x1ef775;},{'geometry':_0x1ef775,'material':_0x5aa4ee};}},{'key':_0x1a9f('0x5ff'),'value':function(){var _0x1ef775=document[_0x1a9f('0x77')](_0x1a9f('0x3db')),_0x5de973=(_0x1ef775[_0x1a9f('0x33a')]=0x100,_0x1ef775['height']=0x100,_0x1ef775[_0x1a9f('0x3dc')]('2d')),_0x2f40fe=_0x5de973[_0x1a9f('0x67e')](0x80,0x80,0x80*this[_0x1a9f('0x456')][0x0],0x80,0x80,0x80*this[_0x1a9f('0x456')][0x1]);return _0x2f40fe[_0x1a9f('0x3dd')](0x0,_0x1a9f('0x67f')),_0x2f40fe['addColorStop'](0x1,'rgba(0,\x200,\x200,\x201)'),_0x5de973[_0x1a9f('0x3df')]=_0x2f40fe,_0x5de973[_0x1a9f('0x60c')](0x0,0x0,0x100,0x100),_0x1ef775;}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x48')]&&this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this[_0x1a9f('0x3e8')],this['shader']=null,this[_0x1a9f('0x343')]=null;}},{'key':_0x1a9f('0x340'),'value':function(_0x1ef775){this['shader']&&(this[_0x1a9f('0x100')]+=_0x1ef775*this[_0x1a9f('0x341')],this['shader'][_0x1a9f('0x16a')]['iTime'][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}}]),_0x5de973['default']=_0x3bdfc;},function(_0xccdb68,_0x447519,_0x323488){'use strict';Object[_0x1a9f('0x3')](_0x447519,'__esModule',{'value':!0x0});var _0x3e033e=_0x46ee15(_0x323488(0x0));function _0x46ee15(_0xccdb68){return _0xccdb68&&_0xccdb68[_0x1a9f('0x5')]?_0xccdb68:{'default':_0xccdb68};}function _0x240d87(){(0x0,_0x3e033e[_0x1a9f('0xa')])(this,_0x240d87),this[_0x1a9f('0x343')]=new THREE['Object3D'](),this[_0x1a9f('0x68c')]=null,this['texture']=null,this[_0x1a9f('0x48')]=null;}(0x0,_0x46ee15(_0x323488(0x1))['default'])(_0x240d87,[{'key':_0x1a9f('0x4ef'),'value':function(){this[_0x1a9f('0x68c')]&&this[_0x1a9f('0x68c')][_0x1a9f('0x68d')]();}},{'key':'playSound','value':function(){this[_0x1a9f('0x68c')]&&(this['videoElement'][_0x1a9f('0x68e')]=!0x1);}},{'key':_0x1a9f('0x4cc'),'value':function(_0xccdb68,_0x447519){var _0x323488=document[_0x1a9f('0x77')]('video'),_0xccdb68=(_0x323488[_0x1a9f('0x63')][_0x1a9f('0x68f')]=_0x1a9f('0x29f'),_0x323488[_0x1a9f('0x690')]('id',_0xccdb68),_0x323488[_0x1a9f('0x1cb')]=!0x0,_0x323488[_0x1a9f('0x68e')]=!0x0,_0x323488[_0x1a9f('0x691')]=!0x0,_0x323488[_0x1a9f('0x692')]='anonymous',document[_0x1a9f('0x77')](_0x1a9f('0x693')));return _0xccdb68[_0x1a9f('0x690')](_0x1a9f('0xc6'),'video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2'),_0xccdb68['setAttribute'](_0x1a9f('0x65'),_0x447519),_0x323488['currentTime']=0x1,_0x323488['appendChild'](_0xccdb68),this[_0x1a9f('0x68c')]=_0x323488,this[_0x1a9f('0x68c')];}},{'key':_0x1a9f('0x309'),'value':function(){if(this[_0x1a9f('0x68c')])return this[_0x1a9f('0xcc')]=new THREE[(_0x1a9f('0x694'))](this[_0x1a9f('0x68c')]),this[_0x1a9f('0x48')]=new THREE[(_0x1a9f('0x3e9'))]({'map':this[_0x1a9f('0xcc')],'side':THREE['DoubleSide']}),this['material'];}},{'key':_0x1a9f('0x7'),'value':function(_0xccdb68){var _0x447519=_0xccdb68['width'],_0xccdb68=_0xccdb68[_0x1a9f('0x33b')],_0x447519=new THREE[(_0x1a9f('0x3f0'))](_0x447519,_0xccdb68),_0xccdb68=new THREE[(_0x1a9f('0x332'))](_0x447519,this[_0x1a9f('0x48')]);return this[_0x1a9f('0x343')]['add'](_0xccdb68),this['object3d'];}}]),_0x447519['default']=_0x240d87;},function(_0x5ca006,_0x1fb9b1,_0x2c4bc2){'use strict';Object[_0x1a9f('0x3')](_0x1fb9b1,_0x1a9f('0x5'),{'value':!0x0});var _0xbe7359=_0x13b9b3(_0x2c4bc2(0x0));function _0x13b9b3(_0x5ca006){return _0x5ca006&&_0x5ca006['__esModule']?_0x5ca006:{'default':_0x5ca006};}function _0x5a8e22(_0x5ca006){var _0x1fb9b1=_0x5ca006[_0x1a9f('0x48')],_0x2c4bc2=_0x5ca006[_0x1a9f('0x695')],_0x13b9b3=_0x5ca006[_0x1a9f('0x314')],_0x44ac50=_0x5ca006[_0x1a9f('0x696')],_0x423bef=_0x5ca006[_0x1a9f('0x91')],_0x2f9cc2=_0x5ca006[_0x1a9f('0x657')],_0x418d08=_0x5ca006[_0x1a9f('0x697')],_0x5ca006=_0x5ca006[_0x1a9f('0x1d5')];(0x0,_0xbe7359[_0x1a9f('0xa')])(this,_0x5a8e22),this[_0x1a9f('0x695')]=_0x2c4bc2||0x3e8,this['camera']=_0x13b9b3,this['shadowCamera']=_0x44ac50,this[_0x1a9f('0x698')]=!0x1,this[_0x1a9f('0x699')]=!0x1,this[_0x1a9f('0x48')]=_0x1fb9b1||new THREE[(_0x1a9f('0x3e9'))]({'color':0xff00}),this[_0x1a9f('0x698')]=void 0x0!==this['material'][_0x1a9f('0x69a')]&&this[_0x1a9f('0x48')][_0x1a9f('0x69a')],this['setGeometry']({'geometry':_0x423bef,'pos':_0x2f9cc2,'rot':_0x418d08,'scale':_0x5ca006}),this['setMaterial'](),this[_0x1a9f('0x696')]&&this[_0x1a9f('0x69b')](),this[_0x1a9f('0x1e4')]=new THREE[(_0x1a9f('0x332'))](this[_0x1a9f('0x91')],this[_0x1a9f('0x48')]),this[_0x1a9f('0x1e4')][_0x1a9f('0x69c')]=!0x0,this['mesh'][_0x1a9f('0x69d')]=!0x0,this['mesh'][_0x1a9f('0x406')]=!0x1,this[_0x1a9f('0x343')]=new THREE[(_0x1a9f('0x346'))](),this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](this['mesh']),this[_0x1a9f('0x1e4')][_0x1a9f('0x69e')]=this['depthMaterial'];}(0x0,_0x13b9b3(_0x2c4bc2(0x1))[_0x1a9f('0xa')])(_0x5a8e22,[{'key':_0x1a9f('0x31d'),'value':function(_0x5ca006){var _0x1fb9b1,_0x2c4bc2;for(_0x2c4bc2 in this[_0x1a9f('0x2f4')](),_0x1fb9b1=void 0x0!==_0x5ca006[_0x1a9f('0x1e4')]?_0x5ca006[_0x1a9f('0x1e4')]['geometry']:void 0x0!==_0x5ca006['geometry']?_0x5ca006[_0x1a9f('0x91')]:new THREE['BoxBufferGeometry'](0x1,0x1,0x1),this[_0x1a9f('0x91')]=new THREE[(_0x1a9f('0x69f'))](),this['geometry']['maxInstancedCount']=this[_0x1a9f('0x695')],_0x1fb9b1[_0x1a9f('0x16b')])this['geometry'][_0x1a9f('0x1f0')](_0x2c4bc2,_0x1fb9b1['getAttribute'](_0x2c4bc2));if(this['geometry'][_0x1a9f('0x39e')](_0x1fb9b1[_0x1a9f('0x6a0')]()),this[_0x1a9f('0x698')]){var _0x13b9b3=_0x1fb9b1[_0x1a9f('0x6a1')];for(_0x2c4bc2 in _0x13b9b3){for(var _0x5708c5=[],_0x37e1b6=_0x13b9b3[_0x2c4bc2],_0x54f713=0x0,_0x480b16=_0x37e1b6['length'];_0x54f713<_0x480b16;_0x54f713++)_0x5708c5['push'](_0x37e1b6[_0x54f713][_0x1a9f('0x1af')]());this['geometry']['morphAttributes'][_0x2c4bc2]=_0x5708c5;}this[_0x1a9f('0x91')][_0x1a9f('0x69a')]=_0x1fb9b1[_0x1a9f('0x69a')];}this['offsets']=new Float32Array(0x3*this[_0x1a9f('0x695')]),this[_0x1a9f('0x6a2')]=new Float32Array(0x3*this[_0x1a9f('0x695')]),this[_0x1a9f('0x6a3')]=new Float32Array(0x4*this['num']);for(var _0xbe7359=new THREE['Quaternion'](),_0x5a8e22=new THREE['Euler'](),_0x1f0e6=THREE[_0x1a9f('0x18')][_0x1a9f('0x6a4')],_0x54f713=0x0;_0x54f713<this[_0x1a9f('0x695')];_0x54f713++){var _0x321dbf=0x3*_0x54f713,_0x547ce8=0x4*_0x54f713;_0x5ca006['pos']?(this['offsets'][_0x321dbf]=_0x5ca006['pos'][_0x321dbf],this['offsets'][0x1+_0x321dbf]=_0x5ca006[_0x1a9f('0x657')][0x1+_0x321dbf],this['offsets'][0x2+_0x321dbf]=_0x5ca006[_0x1a9f('0x657')][0x2+_0x321dbf]):(this[_0x1a9f('0x6a5')][_0x321dbf]=Math[_0x1a9f('0x6a6')](-0xc8,0xc8),this[_0x1a9f('0x6a5')][0x1+_0x321dbf]=Math[_0x1a9f('0x6a6')](-0x14,0x14),this[_0x1a9f('0x6a5')][0x2+_0x321dbf]=Math[_0x1a9f('0x6a6')](-0xc8,0xc8)),_0x5ca006[_0x1a9f('0x697')]?_0xbe7359['setFromEuler'](_0x5a8e22[_0x1a9f('0x1d')](_0x5ca006[_0x1a9f('0x697')][_0x321dbf]*_0x1f0e6,_0x5ca006[_0x1a9f('0x697')][0x1+_0x321dbf]*_0x1f0e6,_0x5ca006['rot'][0x2+_0x321dbf]*_0x1f0e6)):_0xbe7359[_0x1a9f('0x1d')](0x0,0x0,0x0,0x1),_0xbe7359[_0x1a9f('0x1bf')](),this[_0x1a9f('0x6a3')][_0x547ce8]=_0xbe7359['x'],this[_0x1a9f('0x6a3')][0x1+_0x547ce8]=_0xbe7359['y'],this[_0x1a9f('0x6a3')][0x2+_0x547ce8]=_0xbe7359['z'],this[_0x1a9f('0x6a3')][0x3+_0x547ce8]=_0xbe7359['w'],_0x5ca006[_0x1a9f('0x1d5')]?(this['scales'][_0x321dbf]=_0x5ca006[_0x1a9f('0x1d5')][_0x321dbf],this[_0x1a9f('0x6a2')][0x1+_0x321dbf]=_0x5ca006[_0x1a9f('0x1d5')][0x1+_0x321dbf],this[_0x1a9f('0x6a2')][0x2+_0x321dbf]=_0x5ca006['scale'][0x2+_0x321dbf]):(this['scales'][_0x321dbf]=0x1,this[_0x1a9f('0x6a2')][0x1+_0x321dbf]=0x1,this[_0x1a9f('0x6a2')][0x2+_0x321dbf]=0x1);}this['offsetAttribute']=new THREE[(_0x1a9f('0x6a7'))](this[_0x1a9f('0x6a5')],0x3)[_0x1a9f('0x6a8')](!0x0),this[_0x1a9f('0x6a9')]=new THREE[(_0x1a9f('0x6a7'))](this[_0x1a9f('0x6a2')],0x3),this[_0x1a9f('0x6aa')]=new THREE[(_0x1a9f('0x6a7'))](this[_0x1a9f('0x6a3')],0x4),this['geometry'][_0x1a9f('0x1f0')](_0x1a9f('0x106'),this[_0x1a9f('0x6ab')]),this[_0x1a9f('0x91')][_0x1a9f('0x1f0')](_0x1a9f('0x6a2'),this[_0x1a9f('0x6a9')]),this[_0x1a9f('0x91')][_0x1a9f('0x1f0')]('orientation',this[_0x1a9f('0x6aa')]);}},{'key':_0x1a9f('0x6ac'),'value':function(){var _0x1fb9b1=[][_0x1a9f('0x111')]('\x0a'),_0x2c4bc2=(this[_0x1a9f('0x6ad')]=[_0x1a9f('0x6ae'),_0x1a9f('0x6af'),_0x1a9f('0x6b0'),_0x1a9f('0x6b1'),_0x1a9f('0x6b2'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{',_0x1a9f('0x6b3'),_0x1a9f('0x6b4'),_0x1a9f('0x6b5'),_0x1a9f('0x6b6'),_0x1a9f('0x6b7'),_0x1a9f('0x6b8'),_0x1a9f('0x6b9'),_0x1a9f('0x6ba'),_0x1a9f('0x6bb'),'B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;',_0x1a9f('0x6bc'),_0x1a9f('0x6bd'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;',_0x1a9f('0x6be'),'B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;',_0x1a9f('0x6bf'),_0x1a9f('0x6c0'),'B[2][3]\x20=\x200.0;','B[3][0]\x20=\x20position.x;',_0x1a9f('0x6c1'),'B[3][2]\x20=\x20position.z;','B[3][3]\x20=\x201.0;',_0x1a9f('0x6c2'),'}',_0x1a9f('0x6c3'),_0x1a9f('0x6c4'),'}'][_0x1a9f('0x111')]('\x0a')+'\x0a',this[_0x1a9f('0x6c5')]=['uniform\x20mat4\x20cmtx;',_0x1a9f('0x6af'),_0x1a9f('0x6b0'),_0x1a9f('0x6b1'),_0x1a9f('0x6b2'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;',_0x1a9f('0x6b4'),_0x1a9f('0x6b5'),_0x1a9f('0x6b6'),'float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;',_0x1a9f('0x6b8'),_0x1a9f('0x6b9'),_0x1a9f('0x6ba'),_0x1a9f('0x6bb'),_0x1a9f('0x6c6'),_0x1a9f('0x6bc'),_0x1a9f('0x6bd'),_0x1a9f('0x6c7'),'B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;',_0x1a9f('0x6be'),'B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;',_0x1a9f('0x6bf'),'B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;',_0x1a9f('0x6c8'),_0x1a9f('0x6c9'),_0x1a9f('0x6c1'),'B[3][2]\x20=\x20position.z;',_0x1a9f('0x6ca'),_0x1a9f('0x6c2'),'}',_0x1a9f('0x6cb'),_0x1a9f('0x6cc'),_0x1a9f('0x6cd'),'float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;',_0x1a9f('0x6ce'),_0x1a9f('0x6cf'),'float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;',_0x1a9f('0x6d0'),_0x1a9f('0x6d1'),_0x1a9f('0x6d2'),_0x1a9f('0x6d3'),'B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;',_0x1a9f('0x6d4'),_0x1a9f('0x6d5'),_0x1a9f('0x6d6'),_0x1a9f('0x6d7'),_0x1a9f('0x6d8'),'B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;',_0x1a9f('0x6c2'),'}',_0x1a9f('0x6d9'),_0x1a9f('0x6d1'),_0x1a9f('0x6da'),_0x1a9f('0x6db'),_0x1a9f('0x6dc'),_0x1a9f('0x6dd'),_0x1a9f('0x6de'),'B[1][2]\x20=\x20A[2][1];',_0x1a9f('0x6df'),_0x1a9f('0x6e0'),_0x1a9f('0x6e1'),_0x1a9f('0x6c2'),'}',_0x1a9f('0x6c3'),_0x1a9f('0x6e2'),'}'][_0x1a9f('0x111')]('\x0a')+'\x0a',this[_0x1a9f('0x6e3')]=[_0x1a9f('0x6e4'),_0x1a9f('0x6e5')][_0x1a9f('0x111')]('\x0a')+'\x0a',this['projectVertex']=[_0x1a9f('0x6e6'),'gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;']['join']('\x0a')+'\x0a',this['worldPosVertex']=[_0x1a9f('0x6e7'),_0x1a9f('0x6e8'),_0x1a9f('0x11e')]['join']('\x0a')+'\x0a',this[_0x1a9f('0x6e9')]=[_0x1a9f('0x6ea'),_0x1a9f('0x6eb'),_0x1a9f('0x6ec'),_0x1a9f('0x6ed'),_0x1a9f('0x11e'),_0x1a9f('0x6ee'),_0x1a9f('0x6ef'),_0x1a9f('0x6ec'),_0x1a9f('0x6f0'),_0x1a9f('0x11e'),'#endif'][_0x1a9f('0x111')]('\x0a')+'\x0a',this[_0x1a9f('0x6f1')]=[_0x1a9f('0x6f2'),'transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];',_0x1a9f('0x6f3'),_0x1a9f('0x6f4'),_0x1a9f('0x6f5'),_0x1a9f('0x6f6'),_0x1a9f('0x6f7'),_0x1a9f('0x6f8'),'transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];',_0x1a9f('0x6f9'),_0x1a9f('0x11e'),_0x1a9f('0x11e')]['join']('\x0a')+'\x0a',this);this[_0x1a9f('0x48')]['onBeforeCompile']=function(_0x5ca006){_0x5ca006[_0x1a9f('0x16a')][_0x1a9f('0x6fa')]={'value':_0x2c4bc2[_0x1a9f('0x314')][_0x1a9f('0x6fb')]},_0x5ca006[_0x1a9f('0x16a')][_0x1a9f('0x6fc')]={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x5ca006['vertexShader']=_0x5ca006[_0x1a9f('0x56')]['replace'](_0x1a9f('0x6fd'),'#include\x20<common>\x0a'+_0x2c4bc2['vertexPars_V1'])[_0x1a9f('0x239')]('#include\x20<uv_vertex>','#include\x20<uv_vertex>\x0a'+_0x2c4bc2[_0x1a9f('0x6e3')])['replace'](_0x1a9f('0x6fe'),_0x2c4bc2[_0x1a9f('0x6e9')])[_0x1a9f('0x239')](_0x1a9f('0x46b'),_0x2c4bc2[_0x1a9f('0x6ff')])['replace'](_0x1a9f('0x700'),_0x2c4bc2[_0x1a9f('0x701')]),_0x5ca006[_0x1a9f('0x57')]=_0x1fb9b1+'\x0a'+_0x5ca006['fragmentShader'],this[_0x1a9f('0x16a')]=_0x5ca006['uniforms'];};}},{'key':_0x1a9f('0x69b'),'value':function(){this['depthMaterial']=new THREE['MeshDepthMaterial']({'depthPacking':THREE[_0x1a9f('0x702')],'skinning':this[_0x1a9f('0x699')],'morphTargets':this[_0x1a9f('0x698')]});var _0x1fb9b1=this;this[_0x1a9f('0x703')]['onBeforeCompile']=function(_0x5ca006){_0x5ca006[_0x1a9f('0x16a')][_0x1a9f('0x6fa')]={'value':_0x1fb9b1[_0x1a9f('0x696')][_0x1a9f('0x6fb')]},_0x5ca006['vertexShader']=_0x5ca006[_0x1a9f('0x56')]['replace'](_0x1a9f('0x6fd'),_0x1a9f('0x6fd')+_0x1fb9b1[_0x1a9f('0x6c5')])['replace'](_0x1a9f('0x463'),_0x1a9f('0x704')+_0x1fb9b1[_0x1a9f('0x6e3')])[_0x1a9f('0x239')](_0x1a9f('0x46b'),_0x1fb9b1['projectVertex']);};}},{'key':_0x1a9f('0x705'),'value':function(_0x5ca006){this[_0x1a9f('0x1e4')][_0x1a9f('0x706')][0x0]=_0x5ca006;}},{'key':_0x1a9f('0x4d3'),'value':function(_0x5ca006){this[_0x1a9f('0x6ab')]['needsUpdate']=!0x0;}},{'key':'setOrientation','value':function(_0x5ca006){this[_0x1a9f('0x6aa')][_0x1a9f('0x101')]=!0x0;}},{'key':_0x1a9f('0x707'),'value':function(_0x5ca006){this[_0x1a9f('0x6a9')][_0x1a9f('0x101')]=!0x0;}},{'key':_0x1a9f('0x2f4'),'value':function(){void 0x0!==this['mesh']&&this[_0x1a9f('0x93')](this[_0x1a9f('0x1e4')]),void 0x0!==this[_0x1a9f('0x91')]&&this[_0x1a9f('0x91')][_0x1a9f('0x8f')]();}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x343')]['remove'](this[_0x1a9f('0x1e4')]),this['geometry'][_0x1a9f('0x8f')](),this[_0x1a9f('0x48')][_0x1a9f('0x8f')](),this[_0x1a9f('0x1e4')]=null;}}]),_0x1fb9b1[_0x1a9f('0xa')]=_0x5a8e22;},function(_0x5242c1,_0x5933d8,_0xa9011f){'use strict';Object[_0x1a9f('0x3')](_0x5933d8,_0x1a9f('0x5'),{'value':!0x0});var _0x298f52=_0x80f368(_0xa9011f(0x6)),_0x553092=_0x80f368(_0xa9011f(0x0)),_0x562519=_0x80f368(_0xa9011f(0x1)),_0x5f53d5=_0x80f368(_0xa9011f(0xe2)),_0x5be31e=_0x80f368(_0xa9011f(0x3b)),_0x139055=_0x80f368(_0xa9011f(0xe4));function _0x80f368(_0x5242c1){return _0x5242c1&&_0x5242c1[_0x1a9f('0x5')]?_0x5242c1:{'default':_0x5242c1};}function _0xf54da6(_0x5242c1){var _0x5933d8=_0x5242c1[_0x1a9f('0x90')],_0xa9011f=_0x5242c1[_0x1a9f('0x42')],_0xa9011f=void 0x0===_0xa9011f?new THREE[(_0x1a9f('0x1b5'))](0x0,0x3,0x0):_0xa9011f,_0x562519=_0x5242c1[_0x1a9f('0xc7')],_0x562519=void 0x0===_0x562519?new THREE[(_0x1a9f('0x1b5'))](0x3,0x0,0x0):_0x562519,_0x5f53d5=_0x5242c1['receiveLayer'],_0x139055=_0x5242c1[_0x1a9f('0x386')],_0x139055=void 0x0===_0x139055?0x14:_0x139055,_0x80f368=_0x5242c1[_0x1a9f('0x708')],_0x80f368=void 0x0===_0x80f368?0x1e:_0x80f368,_0x5be31e=_0x5242c1[_0x1a9f('0x709')],_0x5be31e=void 0x0===_0x5be31e?0x10/0x9:_0x5be31e,_0x1a341a=_0x5242c1[_0x1a9f('0x70a')],_0x1a341a=void 0x0!==_0x1a341a&&_0x1a341a,_0x5242c1=_0x5242c1[_0x1a9f('0x70b')],_0x5242c1=void 0x0!==_0x5242c1&&_0x5242c1;(0x0,_0x553092['default'])(this,_0xf54da6),this['map']=_0x5933d8,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x70c')]=null,this[_0x1a9f('0x70d')]=null,this[_0x1a9f('0x70e')]=null,this[_0x1a9f('0x70f')]=[],this[_0x1a9f('0x42')]=_0xa9011f,this['target']=_0x562519,this[_0x1a9f('0x710')]=_0x5f53d5,this[_0x1a9f('0x711')]=_0x139055,this[_0x1a9f('0x712')]=_0x80f368,this[_0x1a9f('0x709')]=_0x5be31e,this[_0x1a9f('0x70a')]=_0x1a341a,this[_0x1a9f('0x70b')]=_0x5242c1,this[_0x1a9f('0x384')]=null;}(0x0,_0x562519[_0x1a9f('0xa')])(_0xf54da6,[{'key':'init','value':function(_0x5933d8){if(this[_0x1a9f('0x710')]&&this['receiveLayer']['o3d_']){var _0xa9011f=this,_0x5242c1=new THREE[(_0x1a9f('0x694'))](_0x5933d8);if(this['alphaMap']=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](esmap['ESEffectTool'][_0x1a9f('0x713')]+_0x1a9f('0x714')),this[_0x1a9f('0x715')](_0x5242c1),this[_0x1a9f('0x710')][_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x5242c1){_0x1a9f('0x332')!=_0x5242c1['type']||_0x5242c1[_0x1a9f('0x46')]&&0x7==_0x5242c1[_0x1a9f('0x46')]['nodeType']||_0xa9011f['containMeshList']['push'](_0x5242c1);}),0x0<this[_0x1a9f('0x70f')][_0x1a9f('0xf')]){var _0x562519=!0x0,_0x5933d8=!0x1,_0x5f53d5=void 0x0;try{for(var _0x139055,_0x80f368=(0x0,_0x298f52[_0x1a9f('0xa')])(this['containMeshList']);!(_0x562519=(_0x139055=_0x80f368[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x562519=!0x0){var _0x5be31e=_0x139055['value'];if(0x0<_0x5be31e[_0x1a9f('0x48')][_0x1a9f('0xf')]){var _0x4ea055=[],_0x553092=!0x0,_0xf54da6=!0x1,_0x3ccdba=void 0x0;try{for(var _0x5e1956,_0x60a71d=(0x0,_0x298f52[_0x1a9f('0xa')])(_0x5be31e[_0x1a9f('0x48')]);!(_0x553092=(_0x5e1956=_0x60a71d['next']())[_0x1a9f('0xce')]);_0x553092=!0x0){var _0x4e88b3,_0x552d22=_0x5e1956[_0x1a9f('0x11')];_0x552d22 instanceof THREE[_0x1a9f('0x716')]&&(_0x4e88b3=this[_0x1a9f('0x717')](_0x5242c1,_0x5be31e,_0x552d22[_0x1a9f('0x1af')](),this[_0x1a9f('0x384')]),_0x4ea055[_0x1a9f('0x70')](_0x4e88b3));}}catch(_0x5e2af5){_0xf54da6=!0x0,_0x3ccdba=_0x5e2af5;}finally{try{!_0x553092&&_0x60a71d[_0x1a9f('0xd0')]&&_0x60a71d[_0x1a9f('0xd0')]();}finally{if(_0xf54da6)throw _0x3ccdba;}}_0x5be31e[_0x1a9f('0x718')]=_0x5be31e[_0x1a9f('0x48')],_0x5be31e['material']=_0x4ea055;}else{var _0x3833b5=this[_0x1a9f('0x717')](_0x5242c1,_0x5be31e,_0x5be31e[_0x1a9f('0x48')][_0x1a9f('0x1af')](),this['alphaMap']);_0x5be31e[_0x1a9f('0x718')]=_0x5be31e['material'],_0x5be31e[_0x1a9f('0x48')]=_0x3833b5;}}}catch(_0x4e3456){_0x5933d8=!0x0,_0x5f53d5=_0x4e3456;}finally{try{!_0x562519&&_0x80f368['return']&&_0x80f368[_0x1a9f('0xd0')]();}finally{if(_0x5933d8)throw _0x5f53d5;}}}}}},{'key':'dispose','value':function(){if(0x0<this['containMeshList'][_0x1a9f('0xf')]){for(var _0x5242c1=0x0,_0x5933d8=this[_0x1a9f('0x70f')][_0x1a9f('0xf')];_0x5242c1<_0x5933d8;_0x5242c1++){if(this[_0x1a9f('0x70f')][_0x5242c1]['_tempMaterial']=this[_0x1a9f('0x70f')][_0x5242c1]['material'],this['containMeshList'][_0x5242c1][_0x1a9f('0x48')]=this['containMeshList'][_0x5242c1]['_originMaterial'],0x0<this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x719')]['length']){var _0xa9011f=!0x0,_0x562519=!0x1,_0x5f53d5=void 0x0;try{for(var _0x139055,_0x80f368=(0x0,_0x298f52[_0x1a9f('0xa')])(this['containMeshList'][_0x5242c1][_0x1a9f('0x719')]);!(_0xa9011f=(_0x139055=_0x80f368['next']())['done']);_0xa9011f=!0x0)_0x139055[_0x1a9f('0x11')][_0x1a9f('0x8f')]();}catch(_0x121ed7){_0x562519=!0x0,_0x5f53d5=_0x121ed7;}finally{try{!_0xa9011f&&_0x80f368['return']&&_0x80f368[_0x1a9f('0xd0')]();}finally{if(_0x562519)throw _0x5f53d5;}}this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x719')][_0x1a9f('0xf')]=0x0;}else this['containMeshList'][_0x5242c1][_0x1a9f('0x719')][_0x1a9f('0x8f')]();this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x718')]=null,this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x719')]=null,this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x71a')]=!0x1,this[_0x1a9f('0x70f')][_0x5242c1][_0x1a9f('0x71b')]=null;}this[_0x1a9f('0x70f')][_0x1a9f('0xf')]=0x0,_0x5be31e['default'][_0x1a9f('0x33c')](this[_0x1a9f('0x70e')][_0x1a9f('0x343')]),this[_0x1a9f('0x70e')]=null,_0x5be31e['default'][_0x1a9f('0x5fa')](this[_0x1a9f('0x70d')]),this[_0x1a9f('0x70d')]=null;}}},{'key':_0x1a9f('0x71c'),'value':function(_0x5242c1){_0x5242c1?(this[_0x1a9f('0x90')]['controls']['enablePan']=!0x1,this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x2ee')]=!0x1,_0x5242c1=new THREE[(_0x1a9f('0x1b5'))]()[_0x1a9f('0x327')](map[_0x1a9f('0x2c7')][_0x1a9f('0xc7')],map[_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')])[_0x1a9f('0x1bf')](),this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')][_0x1a9f('0x1d')](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')]['x']+_0x5242c1['x'],this[_0x1a9f('0x90')]['controls']['object'][_0x1a9f('0x42')]['y']+_0x5242c1['y'],this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')]['z']+_0x5242c1['z'])):(this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x2ec')]=!0x0,this[_0x1a9f('0x90')]['controls'][_0x1a9f('0x2ee')]=!0x0);}},{'key':_0x1a9f('0x71d'),'value':function(_0x5242c1){if(0x0<this[_0x1a9f('0x70f')][_0x1a9f('0xf')])for(var _0x5933d8=0x0,_0xa9011f=this[_0x1a9f('0x70f')][_0x1a9f('0xf')];_0x5933d8<_0xa9011f;_0x5933d8++)this[_0x1a9f('0x70f')][_0x5933d8][_0x1a9f('0x71b')][_0x1a9f('0x16a')][_0x1a9f('0x71e')][_0x1a9f('0x11')][_0x1a9f('0x30c')](_0x5242c1);this[_0x1a9f('0x70d')]&&this[_0x1a9f('0x70d')]['material'][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x5242c1);}},{'key':_0x1a9f('0x71f'),'value':function(_0x5242c1){for(var _0x5933d8=_0x5242c1[_0x1a9f('0x720')],_0xa9011f=_0x5242c1['minY'],_0x562519=_0x5242c1[_0x1a9f('0x721')],_0x5f53d5=_0x5242c1[_0x1a9f('0x722')],_0x139055=_0x5242c1[_0x1a9f('0x723')],_0x80f368=(this[_0x1a9f('0x90')][_0x1a9f('0x724')]&&(this[_0x1a9f('0x90')]['rayPointer'][_0x1a9f('0x725')]={}),Math[_0x1a9f('0x1b8')](_0x562519-_0x5933d8)/_0x139055),_0x5be31e=Math['abs'](_0x5f53d5-_0xa9011f)/_0x139055,_0x1eb5f7=0x0;_0x1eb5f7<_0x139055;_0x1eb5f7++)for(var _0x553092=0x0;_0x553092<_0x139055;_0x553092++)this[_0x1a9f('0x726')]({'x':_0x5933d8+_0x1eb5f7*_0x80f368,'y':_0xa9011f+_0x553092*_0x5be31e});}},{'key':'raySceneMesh','value':function(_0x5242c1){_0x5242c1=this[_0x1a9f('0x90')][_0x1a9f('0x727')]({'coord':{'x':_0x5242c1['x'],'y':_0x5242c1['y']},'debug':!0x0,'mode':'mesh','depth':map[_0x1a9f('0x49d')](map[_0x1a9f('0x728')])+0x5});_0x5242c1&&(this[_0x1a9f('0x90')][_0x1a9f('0x724')][_0x1a9f('0x725')][_0x5242c1[_0x1a9f('0x6')][_0x1a9f('0x1f5')]]=!0x0,this[_0x1a9f('0x70f')][_0x1a9f('0x70')](_0x5242c1[_0x1a9f('0x6')]));}},{'key':'createProjector','value':function(_0x5242c1){this['projector']=new THREE[(_0x1a9f('0x649'))](this[_0x1a9f('0x712')],this[_0x1a9f('0x709')],0.01,this[_0x1a9f('0x711')]),this[_0x1a9f('0x70c')][_0x1a9f('0x42')][_0x1a9f('0x1ba')](this[_0x1a9f('0x42')]),this[_0x1a9f('0x70c')][_0x1a9f('0x40b')](this[_0x1a9f('0xc7')]),this['projector'][_0x1a9f('0x641')](),this[_0x1a9f('0x70c')][_0x1a9f('0x729')](),this[_0x1a9f('0x70c')][_0x1a9f('0x72a')](),this['map'][_0x1a9f('0x2c7')][_0x1a9f('0x72b')]=0x0,this[_0x1a9f('0x72c')]();}},{'key':_0x1a9f('0x72c'),'value':function(){var _0x5242c1=this;this[_0x1a9f('0x70e')]=new _0x139055[(_0x1a9f('0xa'))](this['projector']),this['helper'][_0x1a9f('0x343')][_0x1a9f('0x342')]=this[_0x1a9f('0x70a')],this[_0x1a9f('0x70b')]&&this['createCameraHelperFarPlane'](this[_0x1a9f('0x70e')],texture,function(){_0x5242c1[_0x1a9f('0x70d')][_0x1a9f('0x48')]['alphaMap']=_0x5242c1['alphaMap'];}),this['helper'][_0x1a9f('0x2e4')](),this['map'][_0x1a9f('0x447')]['scene']['add'](this[_0x1a9f('0x70e')][_0x1a9f('0x343')]);}},{'key':'createCameraHelperFarPlane','value':function(_0x5242c1,_0x5933d8,_0xa9011f){var _0x562519,_0x5f53d5=this,_0x139055=['f1','f2','f3','f4'],_0x80f368=[],_0x5be31e=_0x5242c1[_0x1a9f('0x91')][_0x1a9f('0x403')]('position');for(_0x562519 in _0x5242c1['pointMap']){var _0x1c613a=!0x0,_0x553092=!0x1,_0xf54da6=void 0x0;try{for(var _0x415ae1,_0x4af782=(0x0,_0x298f52[_0x1a9f('0xa')])(_0x139055);!(_0x1c613a=(_0x415ae1=_0x4af782[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x1c613a=!0x0){var _0x53cb1b=_0x415ae1['value'];if(_0x53cb1b===_0x562519){for(var _0x6cedba=new THREE[(_0x1a9f('0x1b5'))](),_0x1baa65=0x0;_0x1baa65<0x3;_0x1baa65++)0x0==_0x1baa65&&(_0x6cedba['x']=_0x5be31e[_0x1a9f('0x72d')](_0x5242c1[_0x1a9f('0x72e')][_0x53cb1b][_0x1baa65])),0x1==_0x1baa65&&(_0x6cedba['y']=_0x5be31e[_0x1a9f('0x72f')](_0x5242c1[_0x1a9f('0x72e')][_0x53cb1b][_0x1baa65])),0x2==_0x1baa65&&(_0x6cedba['z']=_0x5be31e['getZ'](_0x5242c1['pointMap'][_0x53cb1b][_0x1baa65]));_0x80f368[_0x1a9f('0x70')](_0x6cedba);}}}catch(_0x6334a9){_0x553092=!0x0,_0xf54da6=_0x6334a9;}finally{try{!_0x1c613a&&_0x4af782[_0x1a9f('0xd0')]&&_0x4af782[_0x1a9f('0xd0')]();}finally{if(_0x553092)throw _0xf54da6;}}}var _0xba20de=new THREE[(_0x1a9f('0x32e'))]()[_0x1a9f('0x730')](_0x80f368),_0x343982=(_0xba20de[_0x1a9f('0x1f0')]('uv',new THREE[(_0x1a9f('0x10c'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0xba20de[_0x1a9f('0x39e')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff,'transparent':!0x0})),_0xba20de=new THREE['Mesh'](_0xba20de,_0x343982);_0x343982[_0x1a9f('0x3ea')]=function(_0x5242c1){_0x5242c1[_0x1a9f('0x16a')][_0x1a9f('0x731')]={'value':_0x5933d8},_0x5242c1[_0x1a9f('0x16a')]['videoTexMask']={'value':_0x5f53d5['alphaMap']},_0x5242c1['vertexShader']=_0x5242c1[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x595'),_0x1a9f('0x732')),_0x5242c1[_0x1a9f('0x56')]=_0x5242c1['vertexShader']['replace'](_0x1a9f('0x463'),_0x1a9f('0x733')),_0x5242c1[_0x1a9f('0x57')]=_0x5242c1[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5242c1['fragmentShader']=_0x5242c1[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x734')),_0xa9011f&&_0xa9011f();},_0xba20de['renderOrder']=0xc8,_0x5242c1[_0x1a9f('0x1c0')](_0xba20de),this[_0x1a9f('0x70d')]=_0xba20de;}},{'key':_0x1a9f('0x735'),'value':function(_0x5242c1){if(this[_0x1a9f('0x70c')][_0x1a9f('0x40b')](_0x5242c1),0x0<this[_0x1a9f('0x70f')]['length'])for(var _0x5933d8=0x0,_0xa9011f=this['containMeshList'][_0x1a9f('0xf')];_0x5933d8<_0xa9011f;_0x5933d8++)this[_0x1a9f('0x70f')][_0x5933d8][_0x1a9f('0x71b')]['saveCameraMatrices']();this[_0x1a9f('0x70e')][_0x1a9f('0x2e4')]();}},{'key':'addToPicker','value':function(_0x5242c1,_0x5933d8){_0x1a9f('0x332')===_0x5242c1[_0x1a9f('0xc6')]&&(_0x5242c1[_0x1a9f('0x46')]={'name':_0x5933d8},this[_0x1a9f('0x90')]['mapPicker'][_0x1a9f('0x736')][_0x1a9f('0x70')](_0x5242c1)),_0x1a9f('0x346')===_0x5242c1[_0x1a9f('0xc6')]&&(_0x5242c1[_0x1a9f('0x46')]={'name':_0x5933d8},_0x5242c1[_0x1a9f('0x427')]=_0x1a9f('0x737'),this['map'][_0x1a9f('0x4fc')][_0x1a9f('0x736')]['push'](_0x5242c1));}},{'key':_0x1a9f('0x738'),'value':function(_0x5242c1){this['map'][_0x1a9f('0x4fc')][_0x1a9f('0x736')]['push'](_0x5242c1);}},{'key':'resetMaterial','value':function(_0x5242c1,_0x5933d8){texture[_0x1a9f('0x446')]=THREE[_0x1a9f('0x739')],_0x5242c1[_0x1a9f('0x101')]=!0x0;_0x5242c1=new _0x5f53d5[(_0x1a9f('0xa'))]({'camera':this[_0x1a9f('0x70c')],'texture':_0x5242c1,'color':'#FFFFFF'});(_0x5933d8[_0x1a9f('0x48')]=_0x5242c1)[_0x1a9f('0x73a')](_0x5933d8);}},{'key':_0x1a9f('0x717'),'value':function(_0x5242c1,_0x5933d8,_0xa9011f,_0x562519){_0x5242c1['needsUpdate']=!0x0,_0xa9011f[_0x1a9f('0x1d0')]=!0x0;_0x5242c1=new _0x5f53d5[(_0x1a9f('0xa'))]({'material':_0xa9011f,'camera':this[_0x1a9f('0x70c')],'texture':_0x5242c1,'alphaMap':_0x562519,'color':_0x1a9f('0x3f1'),'isShowFarPlane':this[_0x1a9f('0x70b')]});return _0x5933d8[_0x1a9f('0x71a')]||(_0x5242c1[_0x1a9f('0x73a')](_0x5933d8),_0x5933d8['videoProject']=_0x5242c1,_0x5933d8[_0x1a9f('0x71a')]=!0x0),_0xa9011f;}},{'key':_0x1a9f('0x73b'),'value':function(_0x5242c1){var _0x5933d8=this,_0x5242c1=new THREE[(_0x1a9f('0x694'))](_0x5242c1);_0x5242c1['needsUpdate']=!0x0,this[_0x1a9f('0x48')]=new _0x5f53d5[(_0x1a9f('0xa'))]({'camera':this[_0x1a9f('0x70c')],'texture':_0x5242c1,'color':_0x1a9f('0x73c')}),this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x92')](function(_0x5242c1){_0x1a9f('0x332')===_0x5242c1[_0x1a9f('0xc6')]&&_0x5242c1[_0x1a9f('0x73d')]&&_0x1a9f('0x6e')===_0x5242c1[_0x1a9f('0x73d')]&&_0x5242c1['datas_']&&0x1==_0x5242c1['datas_'][_0x1a9f('0x6e')]&&_0x5242c1[_0x1a9f('0x48')]&&(_0x5242c1[_0x1a9f('0x48')]=_0x5933d8[_0x1a9f('0x48')],_0x5933d8['material'][_0x1a9f('0x73a')](_0x5242c1));});}}]),_0x5933d8[_0x1a9f('0xa')]=_0xf54da6;},function(_0x247675,_0x46124a,_0x28a309){'use strict';Object[_0x1a9f('0x3')](_0x46124a,_0x1a9f('0x5'),{'value':!0x0});var _0x543007=_0x21932c(_0x28a309(0x11)),_0x47fdfc=_0x21932c(_0x28a309(0xad)),_0x3bd088=_0x21932c(_0x28a309(0xe3)),_0x53caf4=_0x21932c(_0x28a309(0x0)),_0x28a309=_0x21932c(_0x28a309(0x1));function _0x21932c(_0x247675){return _0x247675&&_0x247675['__esModule']?_0x247675:{'default':_0x247675};}function _0x1ad99f(_0x247675,_0x46124a,_0x28a309,_0x21932c){if(!_0x247675['image'])return[0x1,0x1];if(0x0===_0x247675['image']['videoWidth']&&0x0===_0x247675[_0x1a9f('0x73e')]['videoHeight'])return[0x1,0x1];var _0x247675=(_0x247675['image']['naturalWidth']||_0x247675[_0x1a9f('0x73e')][_0x1a9f('0x73f')])/(_0x247675[_0x1a9f('0x73e')]['naturalHeight']||_0x247675[_0x1a9f('0x73e')][_0x1a9f('0x740')]),_0x46124a=_0xdb9737(_0x46124a),_0xd0e3b5=0x1/_0x46124a*0x1,_0x543007=void 0x0,_0x559df7=void 0x0;return(_0x21932c?_0x46124a<_0x247675:_0x247675<_0x46124a)?(_0x543007=0x1/(_0xd0e3b5*_0x247675*_0x28a309),_0x559df7=0x1/_0x28a309):(_0x559df7=0x1/(0x1/_0x247675*0x1/_0xd0e3b5*_0x28a309),_0x543007=0x1/_0x28a309),[_0x543007,_0x559df7];}var _0xdb9737=function(_0x247675){switch(_0x247675[_0x1a9f('0xc6')]){case _0x1a9f('0x649'):return _0x247675[_0x1a9f('0x741')];case _0x1a9f('0x61f'):return Math['abs'](_0x247675[_0x1a9f('0x742')]-_0x247675['left'])/Math[_0x1a9f('0x1b8')](_0x247675[_0x1a9f('0x63f')]-_0x247675[_0x1a9f('0x640')]);default:throw new Error(_0x247675[_0x1a9f('0xc6')]+'\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial');}},_0x28a309=((0x0,_0x28a309[_0x1a9f('0xa')])(_0x5e2fe7,[{'key':_0x1a9f('0x743'),'value':function(_0x46124a){var _0x247675,_0x28a309,_0x21932c,_0x3ec892=this;_0x46124a[_0x1a9f('0x3ea')]=function(_0x247675){_0x46124a[_0x1a9f('0x71a')]=!0x0,(0x0,_0x543007[_0x1a9f('0xa')])(_0x3ec892[_0x1a9f('0x16a')],_0x247675[_0x1a9f('0x16a')]),_0x247675[_0x1a9f('0x16a')]=_0x3ec892[_0x1a9f('0x16a')],_0x247675['vertexShader']=_0x247675[_0x1a9f('0x56')]['replace'](_0x1a9f('0x595'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x247675[_0x1a9f('0x56')]=_0x247675[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x744')),_0x247675[_0x1a9f('0x57')]=_0x247675[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x745')+_0x3ec892[_0x1a9f('0x746')]+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x247675[_0x1a9f('0x57')]=_0x247675[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x747'));},window['addEventListener'](_0x1a9f('0x748'),function(){_0x3ec892[_0x1a9f('0x16a')][_0x1a9f('0x749')]['value'][_0x1a9f('0x1ba')](_0x3ec892[_0x1a9f('0x314')][_0x1a9f('0x74a')]),_0x3ec892[_0x1a9f('0x74b')]();}),_0x247675=_0x3ec892['texture'],_0x28a309=function(){_0x3ec892[_0x1a9f('0x16a')][_0x1a9f('0x74c')][_0x1a9f('0x11')]=!0x0,_0x3ec892['saveDimensions']();},_0x247675[_0x1a9f('0x73e')]&&0x0!==_0x247675[_0x1a9f('0x73e')]['videoWidth']&&0x0!==_0x247675[_0x1a9f('0x73e')][_0x1a9f('0x740')]||(_0x21932c=setInterval(function(){if(_0x247675[_0x1a9f('0x73e')]&&0x0!==_0x247675['image']['videoWidth']&&0x0!==_0x247675[_0x1a9f('0x73e')][_0x1a9f('0x740')])return clearInterval(_0x21932c),_0x28a309();},0x10));}},{'key':_0x1a9f('0x74b'),'value':function(){var _0x247675=_0x1ad99f(this[_0x1a9f('0xcc')],this['camera'],this[_0x1a9f('0x74d')],this[_0x1a9f('0x74e')]),_0x247675=(0x0,_0x47fdfc[_0x1a9f('0xa')])(_0x247675,0x2),_0x46124a=_0x247675[0x0],_0x247675=_0x247675[0x1];this[_0x1a9f('0x16a')]['widthScaled'][_0x1a9f('0x11')]=_0x46124a,this[_0x1a9f('0x16a')][_0x1a9f('0x74f')][_0x1a9f('0x11')]=_0x247675;}},{'key':_0x1a9f('0x750'),'value':function(){this['camera'][_0x1a9f('0x641')](),this['camera']['updateMatrixWorld'](),this[_0x1a9f('0x314')][_0x1a9f('0x72a')]();var _0x247675=this[_0x1a9f('0x314')]['matrixWorldInverse'],_0x46124a=this[_0x1a9f('0x314')]['projectionMatrix'],_0x28a309=this[_0x1a9f('0x314')]['matrixWorld'];this[_0x1a9f('0x16a')]['viewMatrixCamera'][_0x1a9f('0x11')][_0x1a9f('0x1ba')](_0x247675),this[_0x1a9f('0x16a')][_0x1a9f('0x749')][_0x1a9f('0x11')]['copy'](_0x46124a),this[_0x1a9f('0x16a')][_0x1a9f('0x751')][_0x1a9f('0x11')][_0x1a9f('0x1ba')](this[_0x1a9f('0x314')][_0x1a9f('0x42')]),this['uniforms'][_0x1a9f('0x752')][_0x1a9f('0x11')][_0x1a9f('0x1d')](0x0,0x0,0x1)['applyMatrix4'](_0x28a309),this[_0x1a9f('0x16a')][_0x1a9f('0x753')][_0x1a9f('0x11')]=!0x0;}},{'key':_0x1a9f('0x73a'),'value':function(_0x247675){_0x247675[_0x1a9f('0x72a')](!0x0,!0x1),this[_0x1a9f('0x16a')][_0x1a9f('0x754')]['value']['copy'](_0x247675[_0x1a9f('0x38c')]),this[_0x1a9f('0x16a')][_0x1a9f('0x755')]['value']=0x0,this[_0x1a9f('0x750')]();}}]),_0x5e2fe7);function _0x5e2fe7(_0x247675){var _0x46124a=_0x247675[_0x1a9f('0x314')],_0x28a309=_0x247675[_0x1a9f('0xcc')],_0x21932c=_0x247675['alphaMap'],_0x3b8c39=_0x247675[_0x1a9f('0x74d')],_0x3b8c39=void 0x0===_0x3b8c39?0x1:_0x3b8c39,_0x543007=_0x247675[_0x1a9f('0x756')],_0x543007=void 0x0===_0x543007?new THREE['Vector2']():_0x543007,_0x428357=_0x247675['cover'],_0x428357=void 0x0!==_0x428357&&_0x428357,_0xdb9737=_0x247675[_0x1a9f('0x48')],_0x357e2e=_0x247675[_0x1a9f('0x757')],_0x357e2e=void 0x0===_0x357e2e||_0x357e2e,_0x40c58f=_0x247675[_0x1a9f('0x70b')],_0x40c58f=void 0x0===_0x40c58f||_0x40c58f,_0x247675=((0x0,_0x3bd088[_0x1a9f('0xa')])(_0x247675,[_0x1a9f('0x314'),_0x1a9f('0xcc'),_0x1a9f('0x384'),_0x1a9f('0x74d'),_0x1a9f('0x756'),'cover','material','isShowHepler','isShowFarPlane']),(0x0,_0x53caf4[_0x1a9f('0xa')])(this,_0x5e2fe7),this['material']=_0xdb9737,this[_0x1a9f('0x314')]=_0x46124a,this['texture']=_0x28a309,this['textureScale']=_0x3b8c39,this['cover']=_0x428357,this[_0x1a9f('0x757')]=_0x357e2e,_0x1ad99f(_0x28a309,_0x46124a,_0x3b8c39,_0x428357)),_0x357e2e=(0x0,_0x47fdfc[_0x1a9f('0xa')])(_0x247675,0x2),_0x3b8c39=_0x357e2e[0x0],_0x428357=_0x357e2e[0x1];this['projectedTexelToLinear']='\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+(_0x247675=function(_0x247675){switch(_0x247675){case THREE['LinearEncoding']:return[_0x1a9f('0x43a'),_0x1a9f('0x758')];case THREE[_0x1a9f('0x739')]:return[_0x1a9f('0x759'),_0x1a9f('0x758')];case THREE[_0x1a9f('0x616')]:return[_0x1a9f('0x75a'),_0x1a9f('0x758')];case THREE['RGBM7Encoding']:return[_0x1a9f('0x75b'),'(\x20value,\x207.0\x20)'];case THREE['RGBM16Encoding']:return['RGBM',_0x1a9f('0x75c')];case THREE[_0x1a9f('0x75d')]:return[_0x1a9f('0x75e'),_0x1a9f('0x75f')];case THREE['GammaEncoding']:return['Gamma',_0x1a9f('0x760')];case THREE[_0x1a9f('0x761')]:return['LogLuv','(\x20value\x20)'];default:return[_0x1a9f('0x43a'),_0x1a9f('0x758')];}}(_0x28a309[_0x1a9f('0x446')]))[0x0]+_0x1a9f('0x762')+_0x247675[0x1]+_0x1a9f('0x763'),this[_0x1a9f('0x16a')]={'projectedTexture':{'value':_0x28a309},'textureMask':{'value':_0x21932c},'isTextureLoaded':{'value':Boolean(_0x28a309[_0x1a9f('0x73e')])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE[(_0x1a9f('0x330'))]()},'projectionMatrixCamera':{'value':new THREE[(_0x1a9f('0x330'))]()},'projPosition':{'value':new THREE['Vector3']()},'projDirection':{'value':new THREE[(_0x1a9f('0x1b5'))](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE['Matrix4']()},'widthScaled':{'value':_0x3b8c39},'heightScaled':{'value':_0x428357},'textureOffset':{'value':_0x543007},'cameraFarDistance':{'value':_0x46124a[_0x1a9f('0x386')]},'visualFieldColor':{'value':new THREE[(_0x1a9f('0x1b7'))](0xffffff)},'isCullByCamera':{'value':_0x40c58f}},this['createMaterial2'](_0xdb9737);}_0x46124a[_0x1a9f('0xa')]=_0x28a309;},function(_0xd63191,_0x370400,_0xde4a51){'use strict';_0x370400[_0x1a9f('0x5')]=!0x0,_0x370400[_0x1a9f('0xa')]=function(_0xd63191,_0x370400){var _0xde4a51,_0x1e0b34={};for(_0xde4a51 in _0xd63191)0x0<=_0x370400['indexOf'](_0xde4a51)||Object[_0x1a9f('0xb')][_0x1a9f('0xc')][_0x1a9f('0xd')](_0xd63191,_0xde4a51)&&(_0x1e0b34[_0xde4a51]=_0xd63191[_0xde4a51]);return _0x1e0b34;};},function(_0x212398,_0x3bfad1,_0x287baf){'use strict';Object[_0x1a9f('0x3')](_0x3bfad1,_0x1a9f('0x5'),{'value':!0x0});var _0x4a35c5=_0x6bca2(_0x287baf(0x0));function _0x6bca2(_0x212398){return _0x212398&&_0x212398[_0x1a9f('0x5')]?_0x212398:{'default':_0x212398};}function _0x4946a3(_0x212398){(0x0,_0x4a35c5[_0x1a9f('0xa')])(this,_0x4946a3),this[_0x1a9f('0x343')]=new THREE['Object3D'](),this['basicLine']=null,this['camera']=_0x212398,this['pointMap']=null,this[_0x1a9f('0x91')]=null,this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x764')]=new THREE['Vector3'](),this[_0x1a9f('0x765')](),this[_0x1a9f('0x2e4')]();}(0x0,_0x6bca2(_0x287baf(0x1))[_0x1a9f('0xa')])(_0x4946a3,[{'key':'createBasicLine','value':function(){this[_0x1a9f('0x91')]=new THREE[(_0x1a9f('0x32e'))](),this[_0x1a9f('0x48')]=new THREE['LineBasicMaterial']({'color':0xffffff,'vertexColors':THREE[_0x1a9f('0x766')]});var _0x287baf=[],_0x4a35c5=[],_0x6bca2={},_0x212398=new THREE[(_0x1a9f('0x1b7'))](0xffaa00),_0x3bfad1=(new THREE[(_0x1a9f('0x1b7'))](0xff0000),new THREE[(_0x1a9f('0x1b7'))](0xaaff)),_0x4946a3=new THREE['Color'](0xffffff),_0x3a9562=new THREE[(_0x1a9f('0x1b7'))](0x333333);function _0x12b27e(_0x212398,_0x3bfad1){_0x287baf['push'](0x0,0x0,0x0),_0x4a35c5[_0x1a9f('0x70')](_0x3bfad1['r'],_0x3bfad1['g'],_0x3bfad1['b']),void 0x0===_0x6bca2[_0x212398]&&(_0x6bca2[_0x212398]=[]),_0x6bca2[_0x212398]['push'](_0x287baf[_0x1a9f('0xf')]/0x3-0x1);}function _0xf36359(_0x212398,_0x3bfad1,_0x287baf){_0x12b27e(_0x212398,_0x287baf),_0x12b27e(_0x3bfad1,_0x287baf);}_0xf36359('n1','n2',_0x212398),_0xf36359('n2','n4',_0x212398),_0xf36359('n4','n3',_0x212398),_0xf36359('n3','n1',_0x212398),_0xf36359('f1','f2',_0x212398),_0xf36359('f2','f4',_0x212398),_0xf36359('f4','f3',_0x212398),_0xf36359('f3','f1',_0x212398),_0xf36359('n1','f1',_0x212398),_0xf36359('n2','f2',_0x212398),_0xf36359('n3','f3',_0x212398),_0xf36359('n4','f4',_0x212398),_0xf36359('u1','u2',_0x3bfad1),_0xf36359('u2','u3',_0x3bfad1),_0xf36359('u3','u1',_0x3bfad1),_0xf36359('c','t',_0x4946a3),_0xf36359(_0x1a9f('0x767'),_0x1a9f('0x768'),_0x3a9562),_0xf36359(_0x1a9f('0x769'),'cn4',_0x3a9562),_0xf36359(_0x1a9f('0x76a'),'cf2',_0x3a9562),_0xf36359(_0x1a9f('0x76b'),'cf4',_0x3a9562),this['geometry']['addAttribute'](_0x1a9f('0x42'),new THREE[(_0x1a9f('0x405'))](_0x287baf,0x3)),this['geometry']['addAttribute'](_0x1a9f('0x21e'),new THREE[(_0x1a9f('0x405'))](_0x4a35c5,0x3)),this[_0x1a9f('0x314')][_0x1a9f('0x641')]&&this[_0x1a9f('0x314')]['updateProjectionMatrix'](),this[_0x1a9f('0x76c')]=this[_0x1a9f('0x314')][_0x1a9f('0x38c')],this[_0x1a9f('0x76d')]=!0x1;_0x212398=new THREE[(_0x1a9f('0x397'))](this[_0x1a9f('0x91')],this[_0x1a9f('0x48')]);this[_0x1a9f('0x72e')]=_0x6bca2,this[_0x1a9f('0x343')][_0x1a9f('0x1c0')](_0x212398);}},{'key':_0x1a9f('0x76e'),'value':function(_0x212398,_0x3bfad1,_0x287baf,_0x4a35c5){this[_0x1a9f('0x764')][_0x1a9f('0x1d')](_0x3bfad1,_0x287baf,_0x4a35c5)[_0x1a9f('0x76f')](this[_0x1a9f('0x314')]);var _0x6bca2=this[_0x1a9f('0x72e')][_0x212398];if(void 0x0!==_0x6bca2)for(var _0x4946a3=this[_0x1a9f('0x91')][_0x1a9f('0x403')](_0x1a9f('0x42')),_0x1f150b=0x0,_0x2309b3=_0x6bca2['length'];_0x1f150b<_0x2309b3;_0x1f150b++)_0x4946a3[_0x1a9f('0x770')](_0x6bca2[_0x1f150b],this['vector']['x'],this[_0x1a9f('0x764')]['y'],this[_0x1a9f('0x764')]['z']);}},{'key':_0x1a9f('0x2e4'),'value':function(){this[_0x1a9f('0x314')][_0x1a9f('0x771')][_0x1a9f('0x1ba')](this[_0x1a9f('0x314')][_0x1a9f('0x771')]),this[_0x1a9f('0x76e')]('c',0x0,0x0,-0x1),this['setPoint']('t',0x0,0x0,0x1),this[_0x1a9f('0x76e')]('n1',-0x1,-0x1,-0x1),this[_0x1a9f('0x76e')]('n2',0x1,-0x1,-0x1),this['setPoint']('n3',-0x1,0x1,-0x1),this[_0x1a9f('0x76e')]('n4',0x1,0x1,-0x1),this['setPoint']('f1',-0x1,-0x1,0x1),this[_0x1a9f('0x76e')]('f2',0x1,-0x1,0x1),this[_0x1a9f('0x76e')]('f3',-0x1,0x1,0x1),this[_0x1a9f('0x76e')]('f4',0x1,0x1,0x1),this[_0x1a9f('0x76e')]('u1',0.7,1.1,-0x1),this[_0x1a9f('0x76e')]('u2',-0.7,1.1,-0x1),this[_0x1a9f('0x76e')]('u3',0x0,0x2,-0x1),this[_0x1a9f('0x76e')](_0x1a9f('0x76a'),-0x1,0x0,0x1),this[_0x1a9f('0x76e')](_0x1a9f('0x772'),0x1,0x0,0x1),this['setPoint'](_0x1a9f('0x76b'),0x0,-0x1,0x1),this[_0x1a9f('0x76e')](_0x1a9f('0x773'),0x0,0x1,0x1),this[_0x1a9f('0x76e')](_0x1a9f('0x767'),-0x1,0x0,-0x1),this['setPoint'](_0x1a9f('0x768'),0x1,0x0,-0x1),this['setPoint'](_0x1a9f('0x769'),0x0,-0x1,-0x1),this[_0x1a9f('0x76e')]('cn4',0x0,0x1,-0x1),this[_0x1a9f('0x91')][_0x1a9f('0x403')]('position')[_0x1a9f('0x101')]=!0x0;}}]),_0x3bfad1[_0x1a9f('0xa')]=_0x4946a3;},function(_0x4a56c2,_0x2b681d,_0x4f83ca){'use strict';Object[_0x1a9f('0x3')](_0x2b681d,_0x1a9f('0x5'),{'value':!0x0});var _0x444560=_0x232c7d(_0x4f83ca(0x6)),_0x20eb17=_0x232c7d(_0x4f83ca(0x2d)),_0x5010e3=_0x232c7d(_0x4f83ca(0x0)),_0x32f867=_0x232c7d(_0x4f83ca(0x1)),_0x1cf9a7=_0x232c7d(_0x4f83ca(0x34)),_0x36a724=_0x232c7d(_0x4f83ca(0x35)),_0x5f1682=_0x232c7d(_0x4f83ca(0x45));function _0x232c7d(_0x4a56c2){return _0x4a56c2&&_0x4a56c2[_0x1a9f('0x5')]?_0x4a56c2:{'default':_0x4a56c2};}function _0x41a043(_0x4a56c2){var _0x2b681d=_0x4a56c2[_0x1a9f('0x774')],_0x2b681d=void 0x0===_0x2b681d?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x2b681d,_0x4f83ca=_0x4a56c2[_0x1a9f('0x775')],_0x4f83ca=void 0x0===_0x4f83ca?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x4f83ca,_0x32f867=_0x4a56c2[_0x1a9f('0x776')],_0x36a724=_0x4a56c2[_0x1a9f('0x777')],_0x232c7d=_0x4a56c2[_0x1a9f('0x778')],_0x3014cc=_0x4a56c2[_0x1a9f('0x779')],_0xb267de=_0x4a56c2[_0x1a9f('0x77a')],_0x27d14d=_0x4a56c2['normalUvIndex'],_0x444560=_0x4a56c2[_0x1a9f('0x77b')],_0x1cde59=_0x4a56c2[_0x1a9f('0x4b0')],_0x4a56c2=(_0x4a56c2['cacheImages'],(0x0,_0x5010e3['default'])(this,_0x41a043),(0x0,_0x1cf9a7[_0x1a9f('0xa')])(this,(_0x41a043['__proto__']||(0x0,_0x20eb17[_0x1a9f('0xa')])(_0x41a043))[_0x1a9f('0xd')](this))),_0x2b681d=(_0x4a56c2[_0x1a9f('0x77c')]=new _0x5f1682[(_0x1a9f('0xa'))](),_0x4a56c2[_0x1a9f('0x774')]=new THREE[(_0x1a9f('0x1b6'))](_0x2b681d[_0x1a9f('0x3ec')],_0x2b681d[_0x1a9f('0x77d')],_0x2b681d[_0x1a9f('0x77e')],_0x2b681d[_0x1a9f('0x77f')]),_0x4a56c2[_0x1a9f('0x775')]=new THREE['Vector4'](_0x4f83ca[_0x1a9f('0x3ec')],_0x4f83ca[_0x1a9f('0x77d')],_0x4f83ca[_0x1a9f('0x77e')],_0x4f83ca['texture4']),_0x4a56c2[_0x1a9f('0x780')]=_0x27d14d,_0x4a56c2[_0x1a9f('0x77b')]=_0x444560,_0x4a56c2['anisotropy']=_0x1cde59,_0x4a56c2['textures']={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x4a56c2[_0x1a9f('0x3e8')]=null,[{'name':_0x1a9f('0x77d'),'path':_0x32f867},{'name':'textureMask','path':_0x36a724},{'name':_0x1a9f('0x77e'),'path':_0x232c7d},{'name':_0x1a9f('0x77f'),'path':_0x3014cc},{'name':_0x1a9f('0x781'),'path':_0xb267de}]);return _0x4a56c2[_0x1a9f('0x782')](_0x2b681d),_0x4a56c2;}_0x4f83ca=_0x4f83ca(0x44)[_0x1a9f('0xc2')],(0x0,_0x36a724[_0x1a9f('0xa')])(_0x41a043,_0x4f83ca),(0x0,_0x32f867[_0x1a9f('0xa')])(_0x41a043,[{'key':_0x1a9f('0x782'),'value':function(_0x4a56c2){var _0x34c44=this,_0x53a037=this;this['textureManager']['multiTexturesLoad'](_0x4a56c2)[_0x1a9f('0x362')](function(_0x4a56c2){var _0x2b681d=!0x0,_0x4f83ca=!0x1,_0x32f867=void 0x0;try{for(var _0x36a724,_0x232c7d=(0x0,_0x444560['default'])(_0x4a56c2);!(_0x2b681d=(_0x36a724=_0x232c7d[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2b681d=!0x0){var _0x53dac3=_0x36a724[_0x1a9f('0x11')];_0x1a9f('0x77d')===_0x53dac3[_0x1a9f('0x427')]&&(_0x53a037[_0x1a9f('0x5a9')][_0x1a9f('0x77d')]=_0x53dac3,_0x53a037['textures']['texture2'][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x53a037['textures']['texture2']['wrapT']=THREE['RepeatWrapping'],_0x34c44[_0x1a9f('0x4b0')]&&(_0x53a037[_0x1a9f('0x5a9')]['texture2'][_0x1a9f('0x4b0')]=_0x34c44[_0x1a9f('0x4b0')])),_0x1a9f('0x783')===_0x53dac3['name']&&(_0x53dac3[_0x1a9f('0x601')]=!0x1,_0x53a037['textures']['textureMask']=_0x53dac3),_0x1a9f('0x77e')===_0x53dac3[_0x1a9f('0x427')]&&(_0x53a037[_0x1a9f('0x5a9')]['texture3']=_0x53dac3,_0x53a037[_0x1a9f('0x5a9')][_0x1a9f('0x77e')]['wrapS']=THREE[_0x1a9f('0x34a')],_0x53a037['textures'][_0x1a9f('0x77e')][_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x34c44[_0x1a9f('0x4b0')]&&(_0x53a037[_0x1a9f('0x5a9')]['texture3'][_0x1a9f('0x4b0')]=_0x34c44['anisotropy'])),_0x1a9f('0x77f')===_0x53dac3[_0x1a9f('0x427')]&&(_0x53a037['textures'][_0x1a9f('0x77f')]=_0x53dac3,_0x53a037['textures'][_0x1a9f('0x77f')][_0x1a9f('0x3f8')]=THREE['RepeatWrapping'],_0x53a037[_0x1a9f('0x5a9')]['texture4']['wrapT']=THREE[_0x1a9f('0x34a')],_0x34c44[_0x1a9f('0x4b0')]&&(_0x53a037[_0x1a9f('0x5a9')][_0x1a9f('0x77f')]['anisotropy']=_0x34c44['anisotropy'])),_0x1a9f('0x781')===_0x53dac3['name']&&(_0x53a037[_0x1a9f('0x5a9')][_0x1a9f('0x781')]=_0x53dac3,_0x53a037['textures'][_0x1a9f('0x781')][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x53a037['textures'][_0x1a9f('0x781')]['wrapT']=THREE['RepeatWrapping']);}}catch(_0x1efac3){_0x4f83ca=!0x0,_0x32f867=_0x1efac3;}finally{try{!_0x2b681d&&_0x232c7d[_0x1a9f('0xd0')]&&_0x232c7d[_0x1a9f('0xd0')]();}finally{if(_0x4f83ca)throw _0x32f867;}}_0x53a037[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')});});}},{'key':_0x1a9f('0x5aa'),'value':function(){var _0x4a56c2=document[_0x1a9f('0x77')](_0x1a9f('0x3db'));return _0x4a56c2[_0x1a9f('0x33a')]=0x2,_0x4a56c2[_0x1a9f('0x33b')]=0x2,_0x4a56c2['getContext']('2d')[_0x1a9f('0x3df')]='#FFFFFF',new THREE['Texture'](_0x4a56c2);}},{'key':_0x1a9f('0x309'),'value':function(_0x2b681d){var _0x4f83ca=this;_0x2b681d[_0x1a9f('0x5ac')]||(_0x2b681d[_0x1a9f('0x5ac')]=this[_0x1a9f('0x5aa')](),_0x2b681d['aoMapIntensity']=0x0),_0x4f83ca[_0x1a9f('0x5a9')][_0x1a9f('0x77e')]&&(_0x2b681d[_0x1a9f('0x169')][_0x1a9f('0x784')]=''),_0x4f83ca['textures'][_0x1a9f('0x77f')]&&(_0x2b681d['defines'][_0x1a9f('0x785')]=''),_0x4f83ca[_0x1a9f('0x5a9')]['alphaMask']&&(_0x2b681d['defines']['IS_USE_MASK_ALPHA']='',_0x2b681d['transparent']=!0x0),_0x4f83ca['normalUvIndex']&&(_0x2b681d['defines'][_0x1a9f('0x786')]='',0x2==_0x4f83ca[_0x1a9f('0x780')]&&(_0x2b681d[_0x1a9f('0x787')][_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x552')],_0x2b681d[_0x1a9f('0x787')]['wrapT']=THREE[_0x1a9f('0x552')],_0x2b681d['normalMapType']=THREE[_0x1a9f('0x788')]),_0x4f83ca[_0x1a9f('0x77b')]&&(_0x2b681d['defines'][_0x1a9f('0x789')]='')),this[_0x1a9f('0x4b0')]&&(_0x2b681d[_0x1a9f('0x90')][_0x1a9f('0x4b0')]=this[_0x1a9f('0x4b0')]),_0x2b681d[_0x1a9f('0x3ea')]=function(_0x4a56c2){_0x4a56c2[_0x1a9f('0x16a')]['texture1']={'value':_0x2b681d[_0x1a9f('0x90')]},_0x4a56c2[_0x1a9f('0x16a')][_0x1a9f('0x77d')]={'value':_0x4f83ca[_0x1a9f('0x5a9')]['texture2']},_0x4a56c2[_0x1a9f('0x16a')][_0x1a9f('0x783')]={'value':_0x4f83ca[_0x1a9f('0x5a9')][_0x1a9f('0x783')]},_0x4f83ca[_0x1a9f('0x5a9')][_0x1a9f('0x77e')]&&(_0x4a56c2[_0x1a9f('0x16a')][_0x1a9f('0x77e')]={'value':_0x4f83ca[_0x1a9f('0x5a9')][_0x1a9f('0x77e')]}),_0x4f83ca[_0x1a9f('0x5a9')][_0x1a9f('0x77f')]&&(_0x4a56c2['uniforms'][_0x1a9f('0x77f')]={'value':_0x4f83ca[_0x1a9f('0x5a9')]['texture4']}),_0x4a56c2[_0x1a9f('0x16a')][_0x1a9f('0x78a')]={'value':_0x4f83ca['textures'][_0x1a9f('0x781')]},_0x4a56c2[_0x1a9f('0x16a')][_0x1a9f('0x78b')]={'value':_0x4f83ca[_0x1a9f('0x774')]},_0x4a56c2['uniforms']['noTileConfigs']={'value':_0x4f83ca[_0x1a9f('0x775')]},_0x4a56c2[_0x1a9f('0x56')]=_0x4a56c2[_0x1a9f('0x56')]['replace'](_0x1a9f('0x3fc'),_0x1a9f('0x78c')),_0x4a56c2[_0x1a9f('0x56')]=_0x4a56c2[_0x1a9f('0x56')]['replace']('#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4a56c2[_0x1a9f('0x57')]=_0x4a56c2[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x78d')),_0x4a56c2[_0x1a9f('0x57')]=_0x4a56c2[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x78e'),_0x1a9f('0x78f')),_0x4a56c2[_0x1a9f('0x57')]=_0x4a56c2[_0x1a9f('0x57')]['replace']('#include\x20<map_fragment>',_0x1a9f('0x790')),_0x4f83ca[_0x1a9f('0x3e8')]=_0x4a56c2;};}}]),_0x2b681d['default']=_0x41a043;},function(_0x1b492d,_0x193387,_0x272fb2){'use strict';Object['defineProperty'](_0x193387,_0x1a9f('0x5'),{'value':!0x0});var _0x1f27c4=_0x5f04f1(_0x272fb2(0x6)),_0x22713d=_0x5f04f1(_0x272fb2(0x2d)),_0x293bbc=_0x5f04f1(_0x272fb2(0x0)),_0x8b54f8=_0x5f04f1(_0x272fb2(0x1)),_0x3da4e7=_0x5f04f1(_0x272fb2(0x34)),_0x27f1f1=_0x5f04f1(_0x272fb2(0x35)),_0x4b0018=_0x5f04f1(_0x272fb2(0x45));function _0x5f04f1(_0x1b492d){return _0x1b492d&&_0x1b492d[_0x1a9f('0x5')]?_0x1b492d:{'default':_0x1b492d};}function _0x1d34a7(_0x1b492d){var _0x193387=_0x1b492d[_0x1a9f('0x777')],_0x272fb2=_0x1b492d[_0x1a9f('0x791')],_0x8b54f8=_0x1b492d[_0x1a9f('0x792')],_0x8b54f8=void 0x0===_0x8b54f8||_0x8b54f8,_0x27f1f1=_0x1b492d[_0x1a9f('0x793')],_0x27f1f1=void 0x0!==_0x27f1f1&&_0x27f1f1,_0x1b492d=_0x1b492d[_0x1a9f('0x794')],_0x5f04f1=((0x0,_0x293bbc['default'])(this,_0x1d34a7),(0x0,_0x3da4e7['default'])(this,(_0x1d34a7[_0x1a9f('0x2f1')]||(0x0,_0x22713d['default'])(_0x1d34a7))[_0x1a9f('0xd')](this))),_0x272fb2=(_0x5f04f1['textureManager']=new _0x4b0018[(_0x1a9f('0xa'))](),_0x5f04f1[_0x1a9f('0x795')]=null,_0x5f04f1['isIgnoreAlpha']=_0x272fb2,_0x5f04f1[_0x1a9f('0x792')]=_0x8b54f8,_0x5f04f1['isUseUv2Light']=_0x27f1f1,_0x5f04f1[_0x1a9f('0x536')]=0x0,_0x5f04f1[_0x1a9f('0x523')]=0.15,_0x5f04f1[_0x1a9f('0x522')]=1.1,_0x5f04f1[_0x1a9f('0x794')]=_0x1b492d||0x0,_0x5f04f1[_0x1a9f('0x5a9')]={'textureMask':null},[{'name':_0x1a9f('0x783'),'path':_0x193387}]);return _0x5f04f1[_0x1a9f('0x782')](_0x272fb2),_0x5f04f1;}_0x272fb2=_0x272fb2(0x44)[_0x1a9f('0xc2')],(0x0,_0x27f1f1[_0x1a9f('0xa')])(_0x1d34a7,_0x272fb2),(0x0,_0x8b54f8[_0x1a9f('0xa')])(_0x1d34a7,[{'key':_0x1a9f('0x8f'),'value':function(){for(var _0x1b492d in this[_0x1a9f('0x5a9')])this[_0x1a9f('0x5a9')][_0x1b492d]&&this[_0x1a9f('0x5a9')][_0x1b492d][_0x1a9f('0x8f')]();}},{'key':'loadTextures','value':function(_0x1b492d){var _0x293bbc=this;this[_0x1a9f('0x77c')][_0x1a9f('0x796')](_0x1b492d)[_0x1a9f('0x362')](function(_0x1b492d){var _0x193387=!0x0,_0x272fb2=!0x1,_0x8b54f8=void 0x0;try{for(var _0x27f1f1,_0x5f04f1=(0x0,_0x1f27c4[_0x1a9f('0xa')])(_0x1b492d);!(_0x193387=(_0x27f1f1=_0x5f04f1[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x193387=!0x0){var _0x22713d=_0x27f1f1[_0x1a9f('0x11')];'textureMask'===_0x22713d['name']&&(_0x22713d['flipY']=!0x1,_0x293bbc[_0x1a9f('0x5a9')][_0x1a9f('0x783')]=_0x22713d);}}catch(_0x5e7931){_0x272fb2=!0x0,_0x8b54f8=_0x5e7931;}finally{try{!_0x193387&&_0x5f04f1[_0x1a9f('0xd0')]&&_0x5f04f1[_0x1a9f('0xd0')]();}finally{if(_0x272fb2)throw _0x8b54f8;}}_0x293bbc[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')});});}},{'key':_0x1a9f('0x5aa'),'value':function(){var _0x1b492d=document[_0x1a9f('0x77')](_0x1a9f('0x3db'));return _0x1b492d[_0x1a9f('0x33a')]=0x2,_0x1b492d['height']=0x2,_0x1b492d[_0x1a9f('0x3dc')]('2d')[_0x1a9f('0x3df')]=_0x1a9f('0x3f1'),new THREE[(_0x1a9f('0x1c6'))](_0x1b492d);}},{'key':'createMaterial','value':function(_0x1b492d){var _0x193387=this;if(!_0x193387[_0x1a9f('0x5a9')]['textureMask'])return!0x1;_0x1b492d['aoMap']||(_0x1b492d['aoMap']=this[_0x1a9f('0x5aa')](),_0x1b492d[_0x1a9f('0x5ad')]=0x0),_0x1b492d[_0x1a9f('0x3ea')]=function(_0x1b492d){_0x1b492d['uniforms'][_0x1a9f('0x3eb')]={'value':0x0},_0x1b492d[_0x1a9f('0x16a')][_0x1a9f('0x797')]={'value':_0x193387[_0x1a9f('0x791')]},_0x1b492d[_0x1a9f('0x16a')]['useScan']={'value':_0x193387[_0x1a9f('0x792')]},_0x1b492d['uniforms'][_0x1a9f('0x794')]={'value':_0x193387[_0x1a9f('0x794')]},_0x1b492d[_0x1a9f('0x16a')][_0x1a9f('0x783')]={'value':_0x193387['textures'][_0x1a9f('0x783')]},_0x1b492d['vertexShader']=_0x1b492d[_0x1a9f('0x56')]['replace'](_0x1a9f('0x3fc'),_0x1a9f('0x798')),_0x1b492d[_0x1a9f('0x56')]=_0x1b492d[_0x1a9f('0x56')][_0x1a9f('0x239')]('#include\x20<uv2_vertex>',_0x1a9f('0x799')),_0x1b492d['fragmentShader']=_0x1b492d['fragmentShader'][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x79a')),_0x1b492d['fragmentShader']=_0x1b492d[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x587'),_0x1a9f('0x79b')),_0x193387['isUseUv2Light']&&(_0x1b492d[_0x1a9f('0x57')]=_0x1b492d[_0x1a9f('0x57')][_0x1a9f('0x239')]('#include\x20<emissivemap_fragment>',_0x1a9f('0x79c'))),_0x1b492d[_0x1a9f('0x57')]=_0x1b492d['fragmentShader'][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0x79d')),_0x193387[_0x1a9f('0x795')]=_0x1b492d;};}},{'key':_0x1a9f('0x340'),'value':function(_0x1b492d){this[_0x1a9f('0x795')]&&(this[_0x1a9f('0x536')]+=_0x1b492d*this[_0x1a9f('0x523')],this[_0x1a9f('0x795')][_0x1a9f('0x16a')][_0x1a9f('0x3eb')]['value']=this['csTime']);}}]),_0x193387[_0x1a9f('0xa')]=_0x1d34a7;},function(_0x1e1842,_0x343940,_0x379dfd){'use strict';Object['defineProperty'](_0x343940,_0x1a9f('0x5'),{'value':!0x0});var _0x3f917f=_0x4e4c56(_0x379dfd(0x0));function _0x4e4c56(_0x1e1842){return _0x1e1842&&_0x1e1842['__esModule']?_0x1e1842:{'default':_0x1e1842};}function _0x30481d(){(0x0,_0x3f917f[_0x1a9f('0xa')])(this,_0x30481d),this['materialList']=[];}(0x0,_0x4e4c56(_0x379dfd(0x1))[_0x1a9f('0xa')])(_0x30481d,[{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x79e')][_0x1a9f('0xf')]=0x0;}},{'key':_0x1a9f('0x5aa'),'value':function(){var _0x1e1842=document[_0x1a9f('0x77')](_0x1a9f('0x3db'));return _0x1e1842['width']=0x2,_0x1e1842['height']=0x2,_0x1e1842[_0x1a9f('0x3dc')]('2d')[_0x1a9f('0x3df')]=_0x1a9f('0x3f1'),new THREE[(_0x1a9f('0x1c6'))](_0x1e1842);}},{'key':'createMaterial','value':function(_0x1e1842){_0x1e1842[_0x1a9f('0x5ac')]||(_0x1e1842[_0x1a9f('0x5ac')]=this[_0x1a9f('0x5aa')](),_0x1e1842['aoMapIntensity']=0x0),_0x1e1842['onBeforeCompile']=function(_0x1e1842){_0x1e1842[_0x1a9f('0x57')]=_0x1e1842['fragmentShader']['replace'](_0x1a9f('0x79f'),_0x1a9f('0x7a0'));},this[_0x1a9f('0x79e')]['push'](_0x1e1842);}},{'key':_0x1a9f('0x7a1'),'value':function(_0x1e1842){var _0x3f917f,_0x343940=_0x1e1842['isShow'],_0x343940=void 0x0!==_0x343940&&_0x343940,_0x379dfd=_0x1e1842[_0x1a9f('0x2dd')],_0x379dfd=void 0x0===_0x379dfd?0x1:_0x379dfd,_0x4e4c56=_0x1e1842[_0x1a9f('0x34f')];0x0<this[_0x1a9f('0x79e')][_0x1a9f('0xf')]&&(_0x3f917f=this,new TWEEN[(_0x1a9f('0x2e0'))]({'x':_0x343940?0x0:0x1})['to']({'x':_0x343940?0x1:0x0},0x3e8*_0x379dfd)['onUpdate'](function(_0x1e1842){for(var _0x343940=0x0,_0x379dfd=_0x3f917f[_0x1a9f('0x79e')][_0x1a9f('0xf')];_0x343940<_0x379dfd;_0x343940++)_0x3f917f[_0x1a9f('0x79e')][_0x343940][_0x1a9f('0x7a2')]=_0x1e1842['x'];})[_0x1a9f('0x2e5')](function(){_0x4e4c56&&_0x4e4c56();})['easing'](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')]['In'])[_0x1a9f('0x2e2')]());}},{'key':_0x1a9f('0x7a3'),'value':function(){this[_0x1a9f('0x79e')][_0x1a9f('0xf')]=0x0;}}]),_0x343940[_0x1a9f('0xa')]=_0x30481d;},function(_0x5ea3b7,_0x40e945,_0x44e5d0){'use strict';Object[_0x1a9f('0x3')](_0x40e945,'__esModule',{'value':!0x0});var _0x322405=_0x50167f(_0x44e5d0(0x0));function _0x50167f(_0x5ea3b7){return _0x5ea3b7&&_0x5ea3b7[_0x1a9f('0x5')]?_0x5ea3b7:{'default':_0x5ea3b7};}function _0x13e742(){(0x0,_0x322405[_0x1a9f('0xa')])(this,_0x13e742),this[_0x1a9f('0x48')]=null,this[_0x1a9f('0x3e8')]=null,this['count']=null;}(0x0,_0x50167f(_0x44e5d0(0x1))[_0x1a9f('0xa')])(_0x13e742,[{'key':_0x1a9f('0x309'),'value':function(_0x5ea3b7){_0x5ea3b7[_0x1a9f('0x3ea')]=function(_0x5ea3b7){_0x5ea3b7[_0x1a9f('0x16a')]['coeficient']={'value':1.2},_0x5ea3b7[_0x1a9f('0x16a')][_0x1a9f('0x7a4')]={'value':1.4},_0x5ea3b7['uniforms'][_0x1a9f('0x7a5')]={'value':new THREE[(_0x1a9f('0x1b7'))]('cyan')},_0x5ea3b7[_0x1a9f('0x56')]=_0x5ea3b7['vertexShader'][_0x1a9f('0x239')](_0x1a9f('0x595'),_0x1a9f('0x7a6')),_0x5ea3b7['vertexShader']=_0x5ea3b7[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x463'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5ea3b7[_0x1a9f('0x57')]=_0x5ea3b7['fragmentShader'][_0x1a9f('0x239')](_0x1a9f('0x433'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5ea3b7[_0x1a9f('0x57')]=_0x5ea3b7[_0x1a9f('0x57')]['replace'](_0x1a9f('0x3ee'),_0x1a9f('0x7a7'));},this[_0x1a9f('0x48')]=_0x5ea3b7;}},{'key':'getMaterial','value':function(){return this[_0x1a9f('0x48')];}},{'key':_0x1a9f('0x340'),'value':function(_0x5ea3b7){this['shader']&&(this['count']+=_0x5ea3b7,this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x3eb')][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}}]),_0x40e945[_0x1a9f('0xa')]=_0x13e742;},function(_0x54dc06,_0x4418c1,_0x18ec0c){'use strict';Object['defineProperty'](_0x4418c1,_0x1a9f('0x5'),{'value':!0x0});var _0x3490fd=_0x438ad6(_0x18ec0c(0x2d)),_0x32277a=_0x438ad6(_0x18ec0c(0x0)),_0x1c4f3c=_0x438ad6(_0x18ec0c(0x1)),_0x5e5e11=_0x438ad6(_0x18ec0c(0x34)),_0x2ee7c7=_0x438ad6(_0x18ec0c(0x35)),_0x575ddc=_0x438ad6(_0x18ec0c(0x45)),_0x4ac326=_0x18ec0c(0x44),_0x388b9f=_0x438ad6(_0x18ec0c(0x81));function _0x438ad6(_0x54dc06){return _0x54dc06&&_0x54dc06['__esModule']?_0x54dc06:{'default':_0x54dc06};}function _0x439083(_0x54dc06){var _0x4418c1=_0x54dc06[_0x1a9f('0x90')],_0x54dc06=_0x54dc06[_0x1a9f('0x341')],_0x54dc06=void 0x0===_0x54dc06?0.5:_0x54dc06,_0x18ec0c=((0x0,_0x32277a[_0x1a9f('0xa')])(this,_0x439083),(0x0,_0x5e5e11['default'])(this,(_0x439083[_0x1a9f('0x2f1')]||(0x0,_0x3490fd[_0x1a9f('0xa')])(_0x439083))['call'](this)));return _0x18ec0c[_0x1a9f('0x90')]=_0x4418c1,_0x18ec0c[_0x1a9f('0x48')]=null,_0x18ec0c['speed']=_0x54dc06,_0x18ec0c['texture']=null,_0x18ec0c[_0x1a9f('0x5a7')]=!0x1,_0x18ec0c[_0x1a9f('0x7a8')]=null,_0x18ec0c[_0x1a9f('0x5a6')]=[],_0x18ec0c;}_0x18ec0c=_0x4ac326['EventDispatcher'],(0x0,_0x2ee7c7[_0x1a9f('0xa')])(_0x439083,_0x18ec0c),(0x0,_0x1c4f3c['default'])(_0x439083,[{'key':_0x1a9f('0xd5'),'value':function(_0x54dc06){var _0x4418c1=this;new _0x575ddc[(_0x1a9f('0xa'))]()[_0x1a9f('0xd1')]({'name':_0x1a9f('0x7a9'),'path':_0x54dc06})[_0x1a9f('0x362')](function(_0x54dc06){_0x4418c1[_0x1a9f('0xcc')]=_0x54dc06,_0x4418c1['texture'][_0x1a9f('0x4b0')]=_0x4418c1[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')](),_0x4418c1[_0x1a9f('0x44b')]({'type':_0x1a9f('0x44c')});});}},{'key':_0x1a9f('0x7aa'),'value':function(_0x54dc06){this[_0x1a9f('0x7a8')]=new _0x388b9f[(_0x1a9f('0xa'))]({'timer':this[_0x1a9f('0x90')][_0x1a9f('0x2f8')],'imageWidth':_0x54dc06[_0x1a9f('0x5b9')],'imageHeight':_0x54dc06['imgHeight'],'xCount':_0x54dc06[_0x1a9f('0x5ba')],'yCount':_0x54dc06[_0x1a9f('0x7ab')],'fps':_0x54dc06['fps']}),this[_0x1a9f('0x7a8')][_0x1a9f('0x7')](this[_0x1a9f('0xcc')],!0x0);}},{'key':_0x1a9f('0x7ac'),'value':function(_0x54dc06){this[_0x1a9f('0x7a8')]&&_0x54dc06&&(this[_0x1a9f('0x7a8')][_0x1a9f('0x2fc')]=_0x54dc06);}},{'key':_0x1a9f('0x7ad'),'value':function(_0x54dc06){_0x54dc06[_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x1a9f('0x426')),_0x54dc06[_0x1a9f('0x1d0')]=!0x0,_0x54dc06[_0x1a9f('0x1ff')]=0x1,_0x54dc06['depthWrite']=!0x1,_0x54dc06['map']=this[_0x1a9f('0xcc')],_0x54dc06['map']['needsUpdate']=!0x0,_0x54dc06['needsUpdate']=!0x0,this[_0x1a9f('0x48')]=_0x54dc06;}},{'key':_0x1a9f('0x340'),'value':function(){this[_0x1a9f('0x7a8')]&&this[_0x1a9f('0x7a8')]['update']();}}]),_0x4418c1[_0x1a9f('0xa')]=_0x439083;},function(_0x44ba90,_0x1b2a1b,_0x5d0192){'use strict';Object['defineProperty'](_0x1b2a1b,_0x1a9f('0x5'),{'value':!0x0});var _0x1cc911=_0x1b716c(_0x5d0192(0x0)),_0x47f2ec=_0x1b716c(_0x5d0192(0x1)),_0x49b9ee=_0x5d0192(0xeb);function _0x1b716c(_0x44ba90){return _0x44ba90&&_0x44ba90[_0x1a9f('0x5')]?_0x44ba90:{'default':_0x44ba90};}function _0x30dac5(_0x44ba90){var _0x1b2a1b=_0x44ba90[_0x1a9f('0x7ae')],_0x1b2a1b=void 0x0===_0x1b2a1b?[0x0,0x0]:_0x1b2a1b,_0x5d0192=_0x44ba90[_0x1a9f('0x7af')],_0x5d0192=void 0x0===_0x5d0192?_0x1a9f('0x7b0'):_0x5d0192,_0x47f2ec=_0x44ba90['isTransparentLight'],_0x1b716c=_0x44ba90[_0x1a9f('0x50c')],_0x547081=_0x44ba90['texRepeat'],_0x547081=void 0x0===_0x547081?{'x':0x64,'y':0x64}:_0x547081,_0xecf123=_0x44ba90[_0x1a9f('0x7b1')],_0x20ef10=_0x44ba90['isShowSeaGroundEffect'],_0x44ba90=_0x44ba90[_0x1a9f('0x7b2')],_0x44ba90=void 0x0===_0x44ba90?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x44ba90;(0x0,_0x1cc911[_0x1a9f('0xa')])(this,_0x30dac5),this[_0x1a9f('0x7ae')]=new THREE[(_0x1a9f('0x1b3'))](_0x1b2a1b[0x0],_0x1b2a1b[0x1]),this[_0x1a9f('0x7af')]=_0x5d0192,this[_0x1a9f('0x7b3')]=new _0x49b9ee[(_0x1a9f('0x7b4'))](_0x5d0192),this['isTransparentLight']=_0x47f2ec,this[_0x1a9f('0x7b1')]=_0xecf123,this[_0x1a9f('0x7b5')]=_0x20ef10,this['seaGroundConfigs']=_0x44ba90,this['groundTexPath']=_0x1b716c,this[_0x1a9f('0x7b6')]=_0x547081,this[_0x1a9f('0x3e8')]=null,this[_0x1a9f('0x100')]=0x0,this['speed']=0.05;}(0x0,_0x47f2ec['default'])(_0x30dac5,[{'key':_0x1a9f('0x7b7'),'value':function(){if(this['gradientType']&&_0x49b9ee['ColorMapKeywords'][this[_0x1a9f('0x7af')]])return _0x49b9ee['ColorMapKeywords'][this[_0x1a9f('0x7af')]];}},{'key':'setGradientConfig','value':function(_0x44ba90){_0x44ba90&&_0x44ba90[_0x1a9f('0x427')]&&_0x44ba90['colorArray']&&0x0<_0x44ba90['colorArray'][_0x1a9f('0xf')]&&this[_0x1a9f('0x7b3')][_0x1a9f('0x7b8')](this[_0x1a9f('0x7af')],_0x44ba90['colorArray']),this[_0x1a9f('0x7b3')][_0x1a9f('0x7b9')](this[_0x1a9f('0x7af')]);_0x44ba90=new THREE[(_0x1a9f('0x5fb'))](this[_0x1a9f('0x7b3')][_0x1a9f('0x7ba')]());_0x44ba90[_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x565')]['value']=_0x44ba90;}},{'key':_0x1a9f('0x7bb'),'value':function(_0x44ba90){_0x44ba90['scale']&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x7bc')][_0x1a9f('0x11')]=_0x44ba90[_0x1a9f('0x1d5')]),_0x44ba90[_0x1a9f('0x7bd')]&&_0x44ba90['fogFar']&&(this[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x7be')][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b3'))](_0x44ba90[_0x1a9f('0x7bd')],_0x44ba90['fogFar']));}},{'key':_0x1a9f('0x309'),'value':function(_0x44ba90){var _0x5d0192=this,_0x47f2ec=new THREE[(_0x1a9f('0x5fb'))](this['gradientLut']['createCanvas']()),_0x1b716c=null;return this[_0x1a9f('0x7bf')]&&((_0x1b716c=new THREE['TextureLoader']()[_0x1a9f('0xca')](this[_0x1a9f('0x7bf')]))[_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x1b716c['wrapT']=THREE[_0x1a9f('0x34a')]),_0x44ba90['onBeforeCompile']=function(_0x44ba90){var _0x1b2a1b=_0x44ba90[_0x1a9f('0x16a')];_0x44ba90[_0x1a9f('0x16a')]=_0x1b2a1b,_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7c0')]={'value':_0x5d0192['isShow']||!0x1},_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x3eb')]={'value':0x0},_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7ae')]={'value':_0x5d0192['heightExtent']},_0x44ba90['uniforms']['gradientTex']={'value':_0x47f2ec},_0x1b716c&&(_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7c1')]={'value':_0x1b716c}),_0x44ba90[_0x1a9f('0x16a')]['isShowContour']={'value':_0x5d0192[_0x1a9f('0x7b1')]||!0x1},_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7c2')]={'value':_0x5d0192['isShowSeaGroundEffect']||!0x1},_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7bc')]={'value':_0x5d0192[_0x1a9f('0x7b2')][_0x1a9f('0x1d5')]},_0x44ba90[_0x1a9f('0x16a')][_0x1a9f('0x7be')]={'value':new THREE[(_0x1a9f('0x1b3'))](_0x5d0192[_0x1a9f('0x7b2')]['fogNear'],_0x5d0192[_0x1a9f('0x7b2')][_0x1a9f('0x7c3')])},_0x44ba90[_0x1a9f('0x56')]=_0x44ba90[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x595'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x44ba90['vertexShader']=_0x44ba90[_0x1a9f('0x56')]['replace'](_0x1a9f('0x463'),_0x1a9f('0x7c4')),_0x44ba90[_0x1a9f('0x57')]=_0x44ba90[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x433'),_0x1a9f('0x576')+(_0x5d0192['groundTexPath']?_0x1a9f('0x7c5'):'')+_0x1a9f('0x7c6')),_0x44ba90['fragmentShader']=_0x44ba90[_0x1a9f('0x57')][_0x1a9f('0x239')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1a9f('0x7c7')),_0x5d0192[_0x1a9f('0x3e8')]=_0x44ba90;},_0x44ba90;}},{'key':_0x1a9f('0x340'),'value':function(_0x44ba90){this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x100')]+=_0x44ba90*this[_0x1a9f('0x341')],this[_0x1a9f('0x3e8')]['uniforms']['iTime'][_0x1a9f('0x11')]=this[_0x1a9f('0x100')]);}},{'key':_0x1a9f('0x7c0'),'set':function(_0x44ba90){this[_0x1a9f('0x3e8')]&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x7c0')][_0x1a9f('0x11')]=_0x44ba90);},'get':function(){if(this[_0x1a9f('0x3e8')])return this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x7c0')]['value'];}},{'key':_0x1a9f('0x7c8'),'set':function(_0x44ba90){this['shader']&&(this[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x7c2')][_0x1a9f('0x11')]=_0x44ba90);},'get':function(){if(this[_0x1a9f('0x3e8')])return this[_0x1a9f('0x3e8')]['uniforms']['isShowSeaGround']['value'];}}]),_0x1b2a1b['default']=_0x30dac5;},function(_0x121dca,_0x4eadd6,_0x1b814f){'use strict';function _0x282b75(_0x121dca,_0x4eadd6){return this[_0x1a9f('0x7c9')]=[],this[_0x1a9f('0x7b9')](_0x121dca,_0x4eadd6),this;}Object['defineProperty'](_0x4eadd6,'__esModule',{'value':!0x0});var _0x37989e={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x282b75['prototype']={'constructor':THREE[_0x1a9f('0x7b4')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x121dca){return _0x121dca instanceof THREE[_0x1a9f('0x7b4')]&&this[_0x1a9f('0x1ba')](_0x121dca),this;},'setMin':function(_0x121dca){return this[_0x1a9f('0x7ca')]=_0x121dca,this;},'setMax':function(_0x121dca){return this[_0x1a9f('0x7cb')]=_0x121dca,this;},'setColorMap':function(_0x121dca,_0x4eadd6){this[_0x1a9f('0x90')]=_0x37989e[_0x121dca]||_0x37989e[_0x1a9f('0x7cc')],this['n']=_0x4eadd6||0x20;for(var _0x1b814f=0x1/this['n'],_0x282b75=this[_0x1a9f('0x7c9')][_0x1a9f('0xf')]=0x0;_0x282b75<=0x1;_0x282b75+=_0x1b814f)for(var _0xe9c965,_0x3b14f9,_0x35146c,_0x23903e,_0x1bf8ac=0x0;_0x1bf8ac<this[_0x1a9f('0x90')]['length']-0x1;_0x1bf8ac++)_0x282b75>=this['map'][_0x1bf8ac][0x0]&&_0x282b75<this[_0x1a9f('0x90')][_0x1bf8ac+0x1][0x0]&&(_0xe9c965=this[_0x1a9f('0x90')][_0x1bf8ac][0x0],_0x3b14f9=this[_0x1a9f('0x90')][_0x1bf8ac+0x1][0x0],_0x23903e=new THREE['Color'](this['map'][_0x1bf8ac][0x1]),_0x35146c=new THREE[(_0x1a9f('0x1b7'))](this[_0x1a9f('0x90')][_0x1bf8ac+0x1][0x1]),_0x23903e=_0x23903e[_0x1a9f('0x1b4')](_0x35146c,(_0x282b75-_0xe9c965)/(_0x3b14f9-_0xe9c965)),this[_0x1a9f('0x7c9')][_0x1a9f('0x70')](_0x23903e));return this;},'copy':function(_0x121dca){return this['lut']=_0x121dca[_0x1a9f('0x7c9')],this['map']=_0x121dca[_0x1a9f('0x90')],this['n']=_0x121dca['n'],this[_0x1a9f('0x7ca')]=_0x121dca[_0x1a9f('0x7ca')],this[_0x1a9f('0x7cb')]=_0x121dca['maxV'],this;},'getColor':function(_0x121dca){_0x121dca<=this['minV']?_0x121dca=this[_0x1a9f('0x7ca')]:_0x121dca>=this[_0x1a9f('0x7cb')]&&(_0x121dca=this[_0x1a9f('0x7cb')]),_0x121dca=(_0x121dca-this[_0x1a9f('0x7ca')])/(this[_0x1a9f('0x7cb')]-this[_0x1a9f('0x7ca')]);_0x121dca=Math[_0x1a9f('0x41b')](_0x121dca*this['n']);return _0x121dca==this['n']&&--_0x121dca,this[_0x1a9f('0x7c9')][_0x121dca];},'addColorMap':function(_0x121dca,_0x4eadd6){_0x37989e[_0x121dca]=_0x4eadd6;},'createCanvas':function(){var _0x121dca=document['createElement'](_0x1a9f('0x3db'));return _0x121dca['width']=0x1,_0x121dca['height']=this['n'],this[_0x1a9f('0x7cd')](_0x121dca),_0x121dca;},'updateCanvas':function(_0x121dca){for(var _0x4eadd6=_0x121dca[_0x1a9f('0x3dc')]('2d',{'alpha':!0x1}),_0x1b814f=_0x4eadd6[_0x1a9f('0x7ce')](0x0,0x0,0x1,this['n']),_0x282b75=_0x1b814f[_0x1a9f('0x375')],_0x4ebdb1=0x0,_0x4363df=0x1/this['n'],_0x57b29b=0x1;0x0<=_0x57b29b;_0x57b29b-=_0x4363df)for(var _0x288a5e,_0xc8f77c,_0x37989e,_0x31b28b,_0x30c585=this[_0x1a9f('0x90')][_0x1a9f('0xf')]-0x1;0x0<=_0x30c585;_0x30c585--)_0x57b29b<this['map'][_0x30c585][0x0]&&_0x57b29b>=this[_0x1a9f('0x90')][_0x30c585-0x1][0x0]&&(_0x288a5e=this[_0x1a9f('0x90')][_0x30c585-0x1][0x0],_0xc8f77c=this[_0x1a9f('0x90')][_0x30c585][0x0],_0x31b28b=new THREE[(_0x1a9f('0x1b7'))](this[_0x1a9f('0x90')][_0x30c585-0x1][0x1]),_0x37989e=new THREE[(_0x1a9f('0x1b7'))](this[_0x1a9f('0x90')][_0x30c585][0x1]),_0x31b28b=_0x31b28b[_0x1a9f('0x1b4')](_0x37989e,(_0x57b29b-_0x288a5e)/(_0xc8f77c-_0x288a5e)),_0x282b75[0x4*_0x4ebdb1]=Math[_0x1a9f('0x41b')](0xff*_0x31b28b['r']),_0x282b75[0x4*_0x4ebdb1+0x1]=Math['round'](0xff*_0x31b28b['g']),_0x282b75[0x4*_0x4ebdb1+0x2]=Math[_0x1a9f('0x41b')](0xff*_0x31b28b['b']),_0x282b75[0x4*_0x4ebdb1+0x3]=0xff,_0x4ebdb1+=0x1);return _0x4eadd6['putImageData'](_0x1b814f,0x0,0x0),_0x121dca;}},_0x4eadd6[_0x1a9f('0x7b4')]=_0x282b75,_0x4eadd6['ColorMapKeywords']=_0x37989e;},function(_0x19d35a,_0x42c4d6,_0x330eac){'use strict';Object[_0x1a9f('0x3')](_0x42c4d6,'__esModule',{'value':!0x0}),_0x42c4d6['MARKER_ASSETS']={'CylinderFloatMarker':{'texture':'images/building/circular2.png'},'CircleRotateYMarker':{'texture':_0x1a9f('0x7cf')},'PointsLine':{'texture':'images/points/particle1.png'},'Points':{'texture':_0x1a9f('0x7d0')},'CircleRippleMarker':{'texture':_0x1a9f('0x7d1')},'CylinderSpreadMarker':{'texture':_0x1a9f('0x7d2')},'NumberUpParticle':{'texture':'images/number/fly0101_03.png','alphaTexture':_0x1a9f('0x7d3')},'ExtentWallMarker':{'texture':'images/wall3.png'},'FireSmokeMarker':{'innerTexture':_0x1a9f('0x7d4'),'outTexture':_0x1a9f('0x7d5')},'FireMarker':{'texture':'images/fire/fire.png'},'SmokeMarker':{'texture':_0x1a9f('0x7d4')},'WaterSpreadMarker':{'texture':_0x1a9f('0x7d6')},'FloatPointsMarker':{'texture':_0x1a9f('0x7d0')},'UpLine':{'texture':_0x1a9f('0x7d7')},'MulripleMeshLine':{'texture':_0x1a9f('0x7d8')}};},function(_0x1914c9,_0x951f1f,_0x50a9b1){'use strict';Object[_0x1a9f('0x3')](_0x951f1f,'__esModule',{'value':!0x0}),_0x951f1f[_0x1a9f('0xa')]=function(_0x1914c9){for(var _0x951f1f in _0x322760[_0x1a9f('0x271')])if(_0x1914c9===_0x322760[_0x1a9f('0x271')][_0x951f1f])return esmap['ESMapUtil'][_0x1a9f('0x7d9')](0x2)>=_0x322760[_0x1a9f('0x270')][_0x951f1f]||_0x951f1f;};var _0x322760=_0x50a9b1(0x62);},function(_0x34484e,_0x490f64,_0x34bca0){'use strict';Object[_0x1a9f('0x3')](_0x490f64,_0x1a9f('0x5'),{'value':!0x0});var _0x44aafb,_0x26f3bd,_0x28617b,_0x128714,_0x389d06,_0x2a9eb4,_0x21c7c9,_0x38658e,_0x52fcae,_0x163086,_0x318432,_0x140ade,_0x5fefb5,_0x5f075d,_0x428f8f,_0x27246d,_0x2b1b65,_0x126391,_0x56ebf4=_0x4b141e(_0x34bca0(0x11)),_0x47280b=_0x4b141e(_0x34bca0(0x49)),_0x28594d=_0x4b141e(_0x34bca0(0x6)),_0x42de3f=_0x34bca0(0x1a),_0x2bbaee=_0x34bca0(0x72),_0xc75bd8=_0x34bca0(0x62),_0x46312b=_0x4b141e(_0x34bca0(0xef)),_0x5d8753=_0x4b141e(_0x34bca0(0x10c)),_0x29434a=_0x4b141e(_0x34bca0(0x74)),_0x47dfec=_0x4b141e(_0x34bca0(0x10d)),_0xb707a4=_0x4b141e(_0x34bca0(0x10f)),_0x3df19b=_0x4b141e(_0x34bca0(0x110)),_0x178c6e=_0x4b141e(_0x34bca0(0x115)),_0x4999ce=_0x4b141e(_0x34bca0(0x116)),_0x433d18=_0x34bca0(0x44),_0x34bca0=_0x34bca0(0x83);function _0x4b141e(_0x490f64){return _0x490f64&&_0x490f64[_0x1a9f('0x5')]?_0x490f64:{'default':_0x490f64};}function _0x36b864(){}function _0x5356b4(_0x490f64){var _0x34bca0;_0x2a9eb4&&(esmap[_0x1a9f('0x7da')]&&!esmap[_0x1a9f('0x7da')][_0x1a9f('0x7db')]?esmap['ESEffectTool'][_0x1a9f('0x4d')][_0x1a9f('0x7dc')]&&_0x490f64&&_0x490f64[_0x1a9f('0x7dd')]&&(_0x34bca0=_0x44aafb[_0x1a9f('0x447')][_0x490f64['shadow'][_0x1a9f('0x7de')]],_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x7df')](_0x34bca0,_0x490f64[_0x1a9f('0x7dd')],_0x5fefb5)):esmap['ESEffectTool']['options'][_0x1a9f('0x7dc')]&&_0x490f64&&_0x490f64['shadow']&&(_0x34bca0=_0x44aafb['mapView'][_0x490f64[_0x1a9f('0x7dd')][_0x1a9f('0x7de')]],_0x128714['shadow'][_0x1a9f('0x7df')](_0x34bca0,_0x490f64[_0x1a9f('0x7dd')],_0x5fefb5)));}function _0x1a0075(_0x490f64){_0x2b1b65[_0x1a9f('0x7e0')]&&_0x2b1b65[_0x1a9f('0x7e1')]&&_0x354b21(_0x490f64,_0x44aafb['id']);}function _0x5b4bc4(_0x490f64,_0x34bca0){if(_0x28617b[_0x1a9f('0x7e2')]&&_0x126391&&0x0<_0x126391['children']['length']){var _0x21c7c9=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x5fefb5,_0x5d8753=(0x0,_0x28594d['default'])(_0x126391[_0x1a9f('0x32d')]);!(_0x21c7c9=(_0x5fefb5=_0x5d8753[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x21c7c9=!0x0){var _0x428f8f=_0x5fefb5[_0x1a9f('0x11')];if(_0x428f8f[_0x1a9f('0x427')]===_0x490f64){_0x428f8f[_0x1a9f('0x501')]=!_0x34bca0,_0x428f8f['visible']=_0x34bca0;break;}}}catch(_0x15e512){_0x27246d=!0x0,_0x46312b=_0x15e512;}finally{try{!_0x21c7c9&&_0x5d8753[_0x1a9f('0xd0')]&&_0x5d8753[_0x1a9f('0xd0')]();}finally{if(_0x27246d)throw _0x46312b;}}}}function _0x354b21(_0x21c7c9,_0x490f64){if(_0x490f64=_0x490f64||{},!_0x2a9eb4){if(_0x52fcae=new _0x29434a[(_0x1a9f('0xa'))](_0x44aafb,_0x44aafb[_0x1a9f('0x2c7')]),_0x44aafb['cameraFlyTo']||(_0x44aafb['cameraFlyTo']=function(_0x490f64){var _0x34bca0=_0x44aafb[_0x1a9f('0x26')]({'x':_0x490f64['x'],'y':_0x490f64['y'],'z':_0x490f64['z'],'bid':_0x490f64[_0x1a9f('0x49f')]||0x0});return _0x52fcae[_0x1a9f('0x7e3')]({'targetPos':_0x34bca0,'radius':_0x490f64[_0x1a9f('0x21c')],'pitchAngle':_0x490f64['pitchAngle'],'directionAngle':_0x490f64[_0x1a9f('0x2dc')],'time':_0x490f64['time'],'callback':_0x490f64[_0x1a9f('0x34f')]});}),_0x44aafb[_0x1a9f('0x7e4')]||(_0x44aafb[_0x1a9f('0x7e4')]=function(_0x490f64,_0x34bca0){var _0x21c7c9=_0x44aafb['controls'][_0x1a9f('0x6')][_0x1a9f('0x42')][_0x1a9f('0x2cf')](_0x44aafb[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]),_0x490f64=_0x490f64&&_0x34bca0?_0x44aafb[_0x1a9f('0x7e5')]({'bid':_0x490f64,'fnum':_0x34bca0}):_0x44aafb[_0x1a9f('0x7e6')](_0x44aafb['controls'][_0x1a9f('0xc7')]);console[_0x1a9f('0xe4')]((0x0,_0x47280b['default'])({'direct':_0x44aafb[_0x1a9f('0x7e7')],'pitch':_0x44aafb['tiltAngle'],'distance':_0x21c7c9,'target':_0x490f64}));}),_0x163086||(_0x44aafb[_0x1a9f('0x7e8')]=function(){(_0x163086=_0x163086||new _0x47dfec[(_0x1a9f('0xa'))](_0x44aafb))[_0x1a9f('0x7e9')]();},_0x44aafb[_0x1a9f('0x7ea')]=function(){_0x163086[_0x1a9f('0x7eb')]();}),_0x318432||(_0x44aafb[_0x1a9f('0x7ec')]=function(_0x490f64){(_0x318432=_0x318432||new _0xb707a4[(_0x1a9f('0xa'))](_0x44aafb))['create'](_0x490f64);}),_0x21c7c9[_0x1a9f('0x7ed')]){if(_0x26f3bd[_0x1a9f('0x7ee')]&&(_0x26f3bd[_0x1a9f('0x7ee')]['isEnv']=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x7f0')],'configs':_0x26f3bd[_0x1a9f('0x7ee')]})),Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x7f1')])){var _0x34bca0=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x5fefb5,_0x5d8753=(0x0,_0x28594d['default'])(_0x26f3bd['roomEffect']);!(_0x34bca0=(_0x5fefb5=_0x5d8753[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x34bca0=!0x0){var _0x428f8f=_0x5fefb5['value'];(0x0,_0x42de3f[_0x1a9f('0x32')])(_0x428f8f[_0x1a9f('0x45')],0x0)&&(_0x428f8f['openScan']&&(_0x128714['buildings'][_0x1a9f('0x7f2')]=_0x26f3bd[_0x1a9f('0x7f3')]),_0x428f8f[_0x1a9f('0x7f4')]&&(_0x428f8f[_0x1a9f('0x7f4')]=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x428f8f['topImg'])),_0x428f8f[_0x1a9f('0x7f5')]&&(_0x428f8f[_0x1a9f('0x7f5')]=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x428f8f[_0x1a9f('0x7f5')])),_0x428f8f[_0x1a9f('0x7f6')]&&(_0x428f8f[_0x1a9f('0x7f6')]=(0x0,_0x42de3f['getConfigAssetsPath'])(_0x428f8f[_0x1a9f('0x7f6')])),_0x428f8f[_0x1a9f('0x7f7')]&&_0x428f8f[_0x1a9f('0x7f7')][_0x1a9f('0x543')]&&(_0x428f8f[_0x1a9f('0x7f7')][_0x1a9f('0x543')]=(0x0,_0x42de3f['getConfigAssetsPath'])(_0x428f8f['extentEffect'][_0x1a9f('0x543')])),_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x7f8')],'configs':_0x428f8f}));}}catch(_0x150bf4){_0x27246d=!0x0,_0x46312b=_0x150bf4;}finally{try{!_0x34bca0&&_0x5d8753[_0x1a9f('0xd0')]&&_0x5d8753['return']();}finally{if(_0x27246d)throw _0x46312b;}}if(0x0<_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x7fa')][_0x1a9f('0xf')]){var _0x2b1b65=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x56ebf4,_0x2bbaee=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714[_0x1a9f('0x7f9')]['buildingsThemes']);!(_0x2b1b65=(_0x56ebf4=_0x2bbaee['next']())[_0x1a9f('0xce')]);_0x2b1b65=!0x0){var _0x4b141e=_0x56ebf4[_0x1a9f('0x11')];_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x7fb')](_0x490f64,_0x4b141e);}}catch(_0x355763){_0x27246d=!0x0,_0x46312b=_0x355763;}finally{try{!_0x2b1b65&&_0x2bbaee[_0x1a9f('0xd0')]&&_0x2bbaee[_0x1a9f('0xd0')]();}finally{if(_0x27246d)throw _0x46312b;}}}}if(Array[_0x1a9f('0xd6')](_0x26f3bd['tileRoomEffect'])){var _0x36b864=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x1a0075,_0x126391=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x26f3bd[_0x1a9f('0x7fc')]);!(_0x36b864=(_0x1a0075=_0x126391[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x36b864=!0x0){var _0x5b4bc4=_0x1a0075[_0x1a9f('0x11')];_0x5b4bc4[_0x1a9f('0x7fd')]&&(_0x128714['buildings'][_0x1a9f('0x7f2')]=_0x26f3bd['buildingScanLight']),_0x5b4bc4[_0x1a9f('0x7f4')]&&(_0x5b4bc4[_0x1a9f('0x7f4')]=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x5b4bc4['topImg'])),_0x5b4bc4[_0x1a9f('0x7f5')]&&(_0x5b4bc4['sideImg']=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x5b4bc4['sideImg'])),_0x5b4bc4[_0x1a9f('0x7f6')]&&(_0x5b4bc4['colorImg']=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x5b4bc4[_0x1a9f('0x7f6')])),_0x5b4bc4[_0x1a9f('0x7f7')]&&_0x5b4bc4[_0x1a9f('0x7f7')][_0x1a9f('0x543')]&&(_0x5b4bc4[_0x1a9f('0x7f7')][_0x1a9f('0x543')]=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x5b4bc4[_0x1a9f('0x7f7')][_0x1a9f('0x543')])),_0x5b4bc4['emissiveImg']&&(_0x5b4bc4[_0x1a9f('0x7fe')]=(0x0,_0x42de3f['getConfigAssetsPath'])(_0x5b4bc4[_0x1a9f('0x7fe')])),_0x5b4bc4[_0x1a9f('0x7ff')]&&_0x5b4bc4[_0x1a9f('0x7ff')][_0x1a9f('0x545')]&&(_0x5b4bc4[_0x1a9f('0x7ff')][_0x1a9f('0x545')]=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x5b4bc4[_0x1a9f('0x7ff')][_0x1a9f('0x545')])),_0x5b4bc4[_0x1a9f('0x50b')]=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x7f8')],'configs':_0x5b4bc4});}}catch(_0x353de7){_0x27246d=!0x0,_0x46312b=_0x353de7;}finally{try{!_0x36b864&&_0x126391[_0x1a9f('0xd0')]&&_0x126391[_0x1a9f('0xd0')]();}finally{if(_0x27246d)throw _0x46312b;}}}_0x26f3bd[_0x1a9f('0x6e')]&&_0x128714['addEffect']({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x800')],'configs':_0x26f3bd[_0x1a9f('0x6e')]}),_0x26f3bd[_0x1a9f('0x48c')]&&_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x800')],'configs':_0x26f3bd[_0x1a9f('0x48c')]}),_0x26f3bd[_0x1a9f('0x801')]&&(_0x26f3bd[_0x1a9f('0x801')]['isPointLight']=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x7f0')],'configs':_0x26f3bd['pointLight']})),_0x26f3bd[_0x1a9f('0x802')]&&(_0x26f3bd[_0x1a9f('0x802')][_0x1a9f('0x803')]=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x7f0')],'configs':_0x26f3bd[_0x1a9f('0x802')]})),_0x26f3bd[_0x1a9f('0x804')]&&(_0x26f3bd['ambientLight'][_0x1a9f('0x805')]=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')]['Lights'],'configs':_0x26f3bd[_0x1a9f('0x804')]}));}if(_0x21c7c9[_0x1a9f('0x806')]&&_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8['ESEffectsConstant'][_0x1a9f('0xba')],'configs':_0x26f3bd[_0x1a9f('0x491')]}),_0x21c7c9[_0x1a9f('0x3e1')]&&0x0<=_0x5f075d&&Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x492')])){var _0x354b21=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x34484e,_0x3df19b=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x26f3bd['water']);!(_0x354b21=(_0x34484e=_0x3df19b[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x354b21=!0x0){var _0x178c6e=_0x34484e[_0x1a9f('0x11')];((0x0,_0x42de3f[_0x1a9f('0x32')])(_0x178c6e[_0x1a9f('0x45')])||_0x178c6e[_0x1a9f('0xc6')])&&_0x128714['addEffect']({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x807')],'configs':_0x178c6e});}}catch(_0xd28152){_0x27246d=!0x0,_0x46312b=_0xd28152;}finally{try{!_0x354b21&&_0x3df19b['return']&&_0x3df19b[_0x1a9f('0xd0')]();}finally{if(_0x27246d)throw _0x46312b;}}}if(_0x21c7c9[_0x1a9f('0x808')]&&0x0<=_0x5f075d&&Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x48d')])){var _0x4999ce=!0x0,_0x27246d=!0x1,_0x46312b=void 0x0;try{for(var _0x433d18,_0x178935=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x26f3bd[_0x1a9f('0x48d')]);!(_0x4999ce=(_0x433d18=_0x178935[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4999ce=!0x0){var _0x317bd6=_0x433d18[_0x1a9f('0x11')];(0x0,_0x42de3f[_0x1a9f('0x32')])(_0x317bd6[_0x1a9f('0x45')],0x0)&&(_0x317bd6['repeatImg']&&(_0x317bd6['repeatImg']=(0x0,_0x42de3f['getConfigAssetsPath'])(_0x317bd6['repeatImg'])),_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')]['Ground'],'configs':_0x317bd6})),_0x317bd6['floorNum']&&(_0x317bd6['repeatImg']&&(_0x317bd6['repeatImg']=(0x0,_0x42de3f[_0x1a9f('0x2f')])(_0x317bd6[_0x1a9f('0x809')])),_0x128714['addEffect']({'type':_0xc75bd8[_0x1a9f('0x26d')]['Ground'],'configs':_0x317bd6}));}}catch(_0x6cc78b){_0x27246d=!0x0,_0x46312b=_0x6cc78b;}finally{try{!_0x4999ce&&_0x178935[_0x1a9f('0xd0')]&&_0x178935[_0x1a9f('0xd0')]();}finally{if(_0x27246d)throw _0x46312b;}}}_0x21c7c9['isSetModelEffect']&&0x1<=_0x5f075d&&Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x48f')])&&(_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x80a')]=_0x26f3bd[_0x1a9f('0x48f')]),_0x21c7c9[_0x1a9f('0x7dc')]&&_0x26f3bd[_0x1a9f('0x7dd')]&&0x1<=_0x5f075d&&_0x128714[_0x1a9f('0x7dd')]['preInit'](_0x26f3bd[_0x1a9f('0x7dd')]),_0x26f3bd[_0x1a9f('0x1d4')]&&_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x80b')],'configs':_0x26f3bd[_0x1a9f('0x1d4')]}),_0x21c7c9[_0x1a9f('0x414')]&&_0x26f3bd[_0x1a9f('0x80c')]&&0x1<=_0x5f075d&&(_0x27246d=!0x1,(_0x46312b=esmap[_0x1a9f('0x3e')][_0x1a9f('0x80d')]())['isPC']&&(_0x27246d=!0x0),!_0x46312b[_0x1a9f('0x80e')]&&_0x46312b[_0x1a9f('0x80f')]&&0x0<=[_0x1a9f('0x810'),_0x1a9f('0x811'),_0x1a9f('0x812')]['indexOf'](_0x46312b[_0x1a9f('0x80f')])&&(_0x21c7c9['effectQuality']=_0x1a9f('0x813'),_0x27246d=!0x0),(_0x27246d=!_0x46312b[_0x1a9f('0x80e')]&&_0x1a9f('0x814')==_0x46312b['platform']||_0x27246d)?(_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x815')]=!0x0,_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8[_0x1a9f('0x26d')][_0x1a9f('0x816')],'configs':_0x26f3bd['screenEffects']})):console[_0x1a9f('0xe4')](_0x1a9f('0x817'))),_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x818')](_0x26f3bd),(_0x28617b[_0x1a9f('0x7dc')]||_0x128714[_0x1a9f('0x819')][_0x1a9f('0x40c')])&&(_0x46312b=(0x0,_0x42de3f[_0x1a9f('0x35')])()?_0x1a9f('0x81a'):'modelLoadedAll',_0x44aafb[_0x1a9f('0x81b')](_0x46312b,function(_0x490f64){var _0x34bca0;(_0x34bca0=_0x21c7c9)[_0x1a9f('0x81c')]?_0x1a9f('0x813')===_0x34bca0[_0x1a9f('0x81c')]?(_0x128714['shadow']['enabled']&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x0,_0x44aafb['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0),_0x128714['postProcessing'][_0x1a9f('0x40c')]&&_0x128714[_0x1a9f('0x819')][_0x1a9f('0x494')]['setScale'](0x2),_0xa2b822(),console['info']('%c\x20effect\x20quality:\x20'+esmap['ESEffectTool']['options'][_0x1a9f('0x81c')],_0x1a9f('0x81e'))):_0x1a9f('0x81f')===_0x34bca0[_0x1a9f('0x81c')]?(_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x40c')]&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x40c')]=!0x0,_0x44aafb[_0x1a9f('0x447')]['renderer']['shadowMap'][_0x1a9f('0x101')]=!0x0),_0x128714['postProcessing'][_0x1a9f('0x40c')]&&_0x128714[_0x1a9f('0x819')]['screenEffect'][_0x1a9f('0x707')](1.5),_0xa2b822(),console['info'](_0x1a9f('0x820')+esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')]['effectQuality'],'color:#66ccff;')):_0x1a9f('0x821')===_0x34bca0[_0x1a9f('0x81c')]&&(_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x40c')]&&(_0x44aafb['mapView']['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x1,_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0),_0x128714[_0x1a9f('0x819')]['enabled']&&_0x128714[_0x1a9f('0x819')][_0x1a9f('0x494')][_0x1a9f('0x707')](0x1),console[_0x1a9f('0xe4')]('%c\x20effect\x20quality:\x20'+esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x81c')],_0x1a9f('0x81e'))):(_0xa2b822(),_0x140ade[_0x1a9f('0x822')](0xf)[_0x1a9f('0x362')](function(){_0x140ade[_0x1a9f('0x822')](0x3c,!0x0);}),_0x140ade['addEventListener'](_0x1a9f('0x823'),function(_0x490f64){_0x490f64[_0x1a9f('0x2fc')]&&(_0x490f64[_0x1a9f('0x2fc')]<=0xa?(_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x40c')]&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x1,_0x44aafb['mapView'][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x101')]=!0x0,Math['floor'](_0x490f64[_0x1a9f('0x2fc')])),_0x128714['postProcessing'][_0x1a9f('0x40c')]&&(_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x815')]=!0x1,Math[_0x1a9f('0x6e')](_0x490f64[_0x1a9f('0x2fc')])),esmap['ESEffectTool'][_0x1a9f('0x4d')][_0x1a9f('0x81c')]=_0x1a9f('0x6c')):0xa<_0x490f64[_0x1a9f('0x2fc')]&&_0x490f64[_0x1a9f('0x2fc')]<=0x1e?(_0x128714['shadow'][_0x1a9f('0x40c')]&&(_0x44aafb['mapView'][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x40c')]=!0x0,_0x44aafb['mapView']['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0),_0x128714[_0x1a9f('0x819')]['enabled']&&(_0x128714[_0x1a9f('0x819')][_0x1a9f('0x494')][_0x1a9f('0x707')](0x1),Math['floor'](_0x490f64['fps'])),esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x81c')]=_0x1a9f('0x821')):0x1e<_0x490f64[_0x1a9f('0x2fc')]&&_0x490f64['fps']<=0x28?(_0x128714['shadow']['enabled']&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x0,_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0),_0x128714[_0x1a9f('0x819')][_0x1a9f('0x40c')]&&(_0x128714[_0x1a9f('0x819')][_0x1a9f('0x494')]['setScale'](1.5),Math[_0x1a9f('0x6e')](_0x490f64[_0x1a9f('0x2fc')])),esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x81c')]=_0x1a9f('0x81f')):0x28<_0x490f64[_0x1a9f('0x2fc')]&&(_0x128714['shadow'][_0x1a9f('0x40c')]&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x40c')]=!0x0,_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x101')]=!0x0),_0x128714[_0x1a9f('0x819')][_0x1a9f('0x40c')]&&(_0x128714[_0x1a9f('0x819')][_0x1a9f('0x494')][_0x1a9f('0x707')](0x2),Math[_0x1a9f('0x6e')](_0x490f64[_0x1a9f('0x2fc')])),esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x81c')]=_0x1a9f('0x813')),_0x38658e||console[_0x1a9f('0xe4')](_0x1a9f('0x820')+esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x81c')],_0x1a9f('0x81e'))),_0x38658e=!0x0;})),_0x5356b4(_0x26f3bd);})),_0x128714[_0x1a9f('0x824')]=!0x0,_0x389d06[_0x1a9f('0x824')]=!0x0,esmap[_0x1a9f('0x53')]['EFFECT_EDITOR']&&(esmap['EffectManager']=_0x128714),esmap['ESMap'][_0x1a9f('0x825')]?_0x44aafb['once'](_0x1a9f('0x826'),function(){_0x2a9eb4=!0x0,esmap[_0x1a9f('0x53')][_0x1a9f('0x496')]=!0x0,_0x44aafb[_0x1a9f('0x27f')]&&_0x44aafb[_0x1a9f('0x27f')](_0x1a9f('0x827')),_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x828')]();}):(_0x2a9eb4=!0x0,esmap[_0x1a9f('0x53')][_0x1a9f('0x496')]=!0x0,_0x44aafb[_0x1a9f('0x27f')]&&_0x44aafb[_0x1a9f('0x27f')](_0x1a9f('0x827')),_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x828')]());}}function _0xa2b822(){var _0x490f64;_0x28617b[_0x1a9f('0x7dc')]&&_0x26f3bd[_0x1a9f('0x7dd')]&&0x1<=_0x5f075d&&!(0x0,_0x42de3f[_0x1a9f('0x35')])()&&(_0x490f64=!0x1,(_0x490f64=!!esmap[_0x1a9f('0x3e')]['getPlatform']()[_0x1a9f('0x829')]||_0x490f64)&&_0x128714[_0x1a9f('0x7ef')]({'type':_0xc75bd8['ESEffectsConstant']['Shadow'],'configs':_0x26f3bd[_0x1a9f('0x7dd')]}));}_0x44aafb=(0x0,_0x42de3f['getMapInstance'])(),_0x28617b=_0x26f3bd=null,_0x128714=new _0x46312b[(_0x1a9f('0xa'))](),_0x389d06=new _0x5d8753[(_0x1a9f('0xa'))](),_0x38658e=_0x21c7c9=_0x2a9eb4=!0x1,_0x318432=_0x163086=_0x52fcae=null,_0x140ade=new _0x3df19b[(_0x1a9f('0xa'))](),_0x5fefb5=new THREE[(_0x1a9f('0x1b5'))](),_0x428f8f=null,_0x2b1b65={'json':_0x27246d=!(_0x5f075d=0x9),'preload':!0x1},esmap[_0x1a9f('0x82a')]=_0x2bbaee['jsonFileLoader'],esmap['ESFileLoader']=THREE[_0x1a9f('0x2bd')],esmap[_0x1a9f('0x82b')]=_0x433d18[_0x1a9f('0xc2')],esmap[_0x1a9f('0x82c')]=_0x34bca0[_0x1a9f('0x304')],_0x126391=null,_0x36b864['init']=function(){var _0x5d8753,_0x27246d=0x0<arguments[_0x1a9f('0xf')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{},_0x46312b=JSON['parse']((0x0,_0x47280b['default'])(_0x27246d)),_0x490f64=(_0x27246d=(0x0,_0x56ebf4[_0x1a9f('0xa')])({'loadRoads':!0x1,'isUseHightLight':!0x1,'isSetRoomEffect':!0x1,'isShowSkybox':!0x1,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x1,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'roadsDataSrc':null,'effectQuality':null,'isShowBuildingTip':!0x0},_0x27246d),_0x128714[_0x1a9f('0x82d')](),(_0x28617b=_0x27246d)[_0x1a9f('0x82e')]+'/'+_0x27246d[_0x1a9f('0x4c')]+'/');esmap['ESEffectTool'][_0x1a9f('0x713')]=_0x490f64,esmap[_0x1a9f('0x53')][_0x1a9f('0x55')]=null,esmap[_0x1a9f('0x53')]['options']=_0x27246d,(0x0,_0x42de3f['checkIsCityEngine'])()||(esmap[_0x1a9f('0x53')][_0x1a9f('0x54')]=null),_0x44aafb=(0x0,_0x42de3f[_0x1a9f('0x33')])(),_0x27246d[_0x1a9f('0x82f')],_0x27246d[_0x1a9f('0x830')]&&(_0x5d8753=!0x0,esmap[_0x1a9f('0x53')][_0x1a9f('0x831')]||Object[_0x1a9f('0x3')](esmap[_0x1a9f('0x53')],_0x1a9f('0x831'),{'get':function(){return _0x5d8753;},'set':function(_0x490f64){if(0x0<_0x128714[_0x1a9f('0x490')]['routesMarkers'][_0x1a9f('0xf')]){var _0x34bca0=!0x0,_0x21c7c9=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714[_0x1a9f('0x490')][_0x1a9f('0x832')]);!(_0x34bca0=(_0x46312b=_0x5fefb5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x34bca0=!0x0)_0x46312b[_0x1a9f('0x11')]['object3d'][_0x1a9f('0x342')]=_0x490f64;}catch(_0x55d02c){_0x21c7c9=!0x0,_0x27246d=_0x55d02c;}finally{try{!_0x34bca0&&_0x5fefb5[_0x1a9f('0xd0')]&&_0x5fefb5['return']();}finally{if(_0x21c7c9)throw _0x27246d;}}}_0x5d8753=_0x490f64;}})),esmap['ESEffectTool']&&(esmap[_0x1a9f('0x53')][_0x1a9f('0x833')]=!0x0),_0x44aafb['on']('beforeLoad',function(_0x490f64){}),_0x44aafb['on']('tilePreLoad',function(_0x490f64){if(0x0<_0x128714[_0x1a9f('0x7f9')]['tileBuilidngThemes'][_0x1a9f('0xf')]&&_0x28617b['isSetRoomEffect']){var _0x34bca0=!0x0,_0x21c7c9=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x834')]);!(_0x34bca0=(_0x46312b=_0x5fefb5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x34bca0=!0x0){var _0x5d8753=_0x46312b[_0x1a9f('0x11')];_0x5d8753[_0x1a9f('0x5a7')]||(_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x835')](_0x5d8753),_0x5d8753[_0x1a9f('0x5a7')]=!0x0);}}catch(_0xe822d){_0x21c7c9=!0x0,_0x27246d=_0xe822d;}finally{try{!_0x34bca0&&_0x5fefb5[_0x1a9f('0xd0')]&&_0x5fefb5[_0x1a9f('0xd0')]();}finally{if(_0x21c7c9)throw _0x27246d;}}}}),_0x44aafb['on'](_0x1a9f('0x836'),function(_0x490f64){if(0x0<_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x834')][_0x1a9f('0xf')]&&_0x28617b[_0x1a9f('0x7ed')]){var _0x34bca0=!0x0,_0x21c7c9=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x834')]);!(_0x34bca0=(_0x46312b=_0x5fefb5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x34bca0=!0x0){var _0x5d8753=_0x46312b[_0x1a9f('0x11')];_0x128714['buildings'][_0x1a9f('0x837')](_0x490f64['id'],_0x5d8753);}}catch(_0x47b83e){_0x21c7c9=!0x0,_0x27246d=_0x47b83e;}finally{try{!_0x34bca0&&_0x5fefb5[_0x1a9f('0xd0')]&&_0x5fefb5[_0x1a9f('0xd0')]();}finally{if(_0x21c7c9)throw _0x27246d;}}}}),_0x44aafb['on'](_0x1a9f('0x838'),function(_0x490f64){}),_0x44aafb['on'](_0x1a9f('0x839'),function(_0x490f64){}),_0x44aafb['on'](_0x1a9f('0x83a'),function(_0x490f64){var _0x34bca0,_0x21c7c9=_0x490f64[_0x1a9f('0x375')][_0x1a9f('0x52')]||{};for(_0x34bca0 in _0x21c7c9=function(_0x490f64){if(null==_0x490f64)throw new TypeError('can\x20not\x20convert\x20null\x20or\x20undefined\x20to\x20object');for(var _0x21c7c9=Object(_0x490f64),_0x34bca0=arguments[_0x1a9f('0xf')],_0x27246d=Array(0x1<_0x34bca0?_0x34bca0-0x1:0x0),_0x46312b=0x1;_0x46312b<_0x34bca0;_0x46312b++)_0x27246d[_0x46312b-0x1]=arguments[_0x46312b];return _0x27246d[_0x1a9f('0x2a9')](function(_0x490f64){if(null!=_0x490f64)for(var _0x34bca0 in _0x490f64)Object[_0x1a9f('0xb')]['hasOwnProperty'][_0x1a9f('0xd')](_0x490f64,_0x34bca0)&&!0x1!==_0x490f64[_0x34bca0]&&(_0x21c7c9[_0x34bca0]=_0x490f64[_0x34bca0]);}),_0x21c7c9;}(_0x27246d,_0x21c7c9))void 0x0!==_0x46312b[_0x34bca0]&&_0x46312b[_0x34bca0]!==_0x21c7c9[_0x34bca0]&&(_0x21c7c9[_0x34bca0]=_0x46312b[_0x34bca0]);if(_0x490f64[_0x1a9f('0x375')]['Effect']&&_0x490f64['data'][_0x1a9f('0x52')]['effectThemeId']&&(_0x44aafb['effectId']=_0x490f64[_0x1a9f('0x375')][_0x1a9f('0x52')][_0x1a9f('0x4c')]),esmap[_0x1a9f('0x53')]['options']=_0x21c7c9,_0x27246d[_0x1a9f('0x82e')]&&_0x27246d[_0x1a9f('0x4c')]||!(0x0,_0x42de3f[_0x1a9f('0x35')])()){if(!_0x21c7c9[_0x1a9f('0x82e')]||!_0x21c7c9[_0x1a9f('0x4c')]){_0x490f64=(0x0,_0x42de3f[_0x1a9f('0x83b')])(_0x44aafb,_0x490f64[_0x1a9f('0x375')]);if(!_0x490f64)return void console[_0x1a9f('0xe4')](_0x1a9f('0x83c'),'color:red;');esmap[_0x1a9f('0x53')]['configPath']=_0x490f64;}}else _0x428f8f=(0x0,_0x42de3f[_0x1a9f('0x30')])(_0x44aafb,_0x27246d),esmap[_0x1a9f('0x53')][_0x1a9f('0x713')]=(0x0,_0x42de3f[_0x1a9f('0x30')])(_0x44aafb,_0x27246d,!0x0),esmap[_0x1a9f('0x53')][_0x1a9f('0x54')]=_0x428f8f,_0x27246d[_0x1a9f('0x83d')]&&_0x27246d['debugParams'][_0x1a9f('0x83e')]&&_0x27246d[_0x1a9f('0x83d')]['localEffectId']&&(esmap['ESEffectTool'][_0x1a9f('0x713')]=_0x27246d['debugParams'][_0x1a9f('0x83e')]+'/'+_0x27246d['debugParams'][_0x1a9f('0x83f')]+'/');_0x490f64=_0x428f8f||esmap['ESEffectTool'][_0x1a9f('0x713')];(0x0,_0x2bbaee[_0x1a9f('0x2bb')])(_0x490f64)[_0x1a9f('0x362')](function(_0x490f64){_0x26f3bd=_0x490f64,_0x2b1b65[_0x1a9f('0x7e0')]=!0x0,_0x1a0075(esmap[_0x1a9f('0x53')]['options']);});}),_0x44aafb['on'](_0x1a9f('0x840'),function(_0x490f64){(0x0,_0x178c6e[_0x1a9f('0xa')])(),(0x0,_0x4999ce[_0x1a9f('0xa')])(),_0x2b1b65[_0x1a9f('0x7e1')]=!0x0,_0x1a0075(esmap[_0x1a9f('0x53')]['options']);}),_0x44aafb['on'](_0x1a9f('0x826'),function(_0x490f64){}),_0x44aafb['on'](_0x1a9f('0x841'),function(_0x490f64){0x0<=_0x490f64[_0x1a9f('0x427')]['indexOf'](_0x1a9f('0x842'))&&_0x1a9f('0x821')==_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x843')]&&((0x0,_0x42de3f[_0x1a9f('0x35')])()?_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x844')](_0x490f64,_0x44aafb[_0x1a9f('0x507')][_0x1a9f('0x845')][_0x490f64[_0x1a9f('0x427')]],_0x128714['shadow']):_0x128714['models']['createInstanceModel'](_0x490f64,_0x44aafb[_0x1a9f('0x507')]['singleMesheDatas'][_0x490f64[_0x1a9f('0x427')]],_0x128714[_0x1a9f('0x7dd')]));}),_0x44aafb['on'](_0x1a9f('0x846'),function(_0x490f64){_0x44aafb[_0x1a9f('0x847')]['navData'][_0x490f64]&&_0x44aafb[_0x1a9f('0x847')][_0x1a9f('0x848')][_0x490f64]['Lines']&&!_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x849')]&&_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x830')]&&_0x128714[_0x1a9f('0x490')][_0x1a9f('0x84a')](_0x44aafb[_0x1a9f('0x847')]['navData'][_0x490f64][_0x1a9f('0x84b')],_0x490f64,_0x28617b['isTileRouteShine'],_0x28617b[_0x1a9f('0x84c')]);}),_0x44aafb['on']('modelLoadComplete',function(_0x490f64){var _0x34bca0=_0x44aafb[_0x1a9f('0x447')]['webgl2'];if(_0x34bca0&&_0x28617b['isShowShadow']&&_0x490f64[_0x1a9f('0x49c')]&&_0x26f3bd['shadow']&&_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x84d')](_0x490f64,_0x26f3bd['shadow']),_0x28617b[_0x1a9f('0x82f')]&&0x1<=_0x5f075d&&_0x34bca0){if(_0x26f3bd[_0x1a9f('0x48f')]&&Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x48f')])){_0x128714[_0x1a9f('0x491')][_0x1a9f('0x448')]&&(_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x84e')]=_0x128714[_0x1a9f('0x491')]['textureCube']);var _0x21c7c9=!0x0,_0x34bca0=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d['default'])(_0x26f3bd[_0x1a9f('0x48f')]);!(_0x21c7c9=(_0x46312b=_0x5fefb5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x21c7c9=!0x0)_0x46312b[_0x1a9f('0x11')]['name']==_0x490f64[_0x1a9f('0x84f')]&&_0x128714[_0x1a9f('0x48f')]['setModelsEffect'](_0x490f64[_0x1a9f('0x84f')],!_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x850')]&&_0x490f64['child']||_0x490f64[_0x1a9f('0x49c')],_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x850')],_0x26f3bd);}catch(_0x526338){_0x34bca0=!0x0,_0x27246d=_0x526338;}finally{try{!_0x21c7c9&&_0x5fefb5['return']&&_0x5fefb5[_0x1a9f('0xd0')]();}finally{if(_0x34bca0)throw _0x27246d;}}}_0x26f3bd[_0x1a9f('0x851')]&&Array[_0x1a9f('0xd6')](_0x26f3bd[_0x1a9f('0x851')])&&_0x128714[_0x1a9f('0x48f')]['setModelsEffect3'](!_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x850')]&&_0x490f64['child']||_0x490f64[_0x1a9f('0x49c')],_0x44aafb['options']['mergeModel3D'],_0x26f3bd),_0x44aafb[_0x1a9f('0x507')][_0x1a9f('0x852')]&&_0x44aafb[_0x1a9f('0x507')][_0x1a9f('0x852')][_0x490f64['model']]['ms']&&_0x44aafb[_0x1a9f('0x507')][_0x1a9f('0x852')][_0x490f64[_0x1a9f('0x84f')]]['ms']['mesh']&&_0x44aafb[_0x1a9f('0x507')]['modelStore'][_0x490f64['model']]['ms'][_0x1a9f('0x48')]&&_0x128714['models'][_0x1a9f('0x853')](_0x490f64[_0x1a9f('0x49c')],_0x44aafb['options'][_0x1a9f('0x850')],_0x44aafb['mapService'][_0x1a9f('0x852')][_0x490f64[_0x1a9f('0x84f')]]['ms']);}if((0x0,_0x42de3f[_0x1a9f('0x35')])()){var _0x34bca0=null,_0x5d8753=null;if(_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x850')]?_0x490f64[_0x1a9f('0x66e')]&&0x0<_0x490f64[_0x1a9f('0x66e')][_0x1a9f('0xf')]&&(_0x5d8753=(_0x34bca0=_0x490f64)[_0x1a9f('0x66e')][0x0][_0x1a9f('0x854')]):_0x5d8753=(_0x34bca0=_0x490f64)[_0x1a9f('0x854')],_0x5d8753&&_0x28617b[_0x1a9f('0x7e2')]){_0x126391||(_0x126391=new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x855'))](_0x1a9f('0x856'),esmap[_0x1a9f('0x857')]['EFFECT_MARKER']),esmap[_0x1a9f('0x53')][_0x1a9f('0x858')](_0x126391),_0x126391[_0x1a9f('0x859')]=[]);_0x27246d=_0x44aafb[_0x1a9f('0x847')][_0x1a9f('0x85a')][_0x5d8753];if(_0x27246d){var _0x428f8f,_0x2b1b65=!0x0,_0x56ebf4=!0x0,_0x2bbaee=!0x1,_0x4b141e=void 0x0;try{for(var _0x36b864,_0x1a0075=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x126391[_0x1a9f('0x859')]);!(_0x56ebf4=(_0x36b864=_0x1a0075[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x56ebf4=!0x0)if(_0x36b864[_0x1a9f('0x11')]===_0x5d8753){_0x2b1b65=!0x1;break;}}catch(_0x5c08ee){_0x2bbaee=!0x0,_0x4b141e=_0x5c08ee;}finally{try{!_0x56ebf4&&_0x1a0075[_0x1a9f('0xd0')]&&_0x1a0075[_0x1a9f('0xd0')]();}finally{if(_0x2bbaee)throw _0x4b141e;}}_0x2b1b65&&(_0x2bbaee=_0x34bca0[_0x1a9f('0x49c')][_0x1a9f('0x49')][_0x1a9f('0x85b')][_0x1a9f('0x85c')][_0x1a9f('0xd9')]['y']-_0x34bca0[_0x1a9f('0x49c')]['userData'][_0x1a9f('0x85b')][_0x1a9f('0x85c')][_0x1a9f('0xda')]['y'],_0x4b141e=Math['abs'](_0x34bca0[_0x1a9f('0x49c')]['userData'][_0x1a9f('0x85b')][_0x1a9f('0x85c')][_0x1a9f('0xd9')]['x']-_0x34bca0['o3d_'][_0x1a9f('0x49')][_0x1a9f('0x85b')]['box3'][_0x1a9f('0xda')]['x']),_0x428f8f=Math[_0x1a9f('0x1b8')](_0x34bca0[_0x1a9f('0x49c')][_0x1a9f('0x49')][_0x1a9f('0x85b')][_0x1a9f('0x85c')][_0x1a9f('0xd9')]['z']-_0x34bca0[_0x1a9f('0x49c')]['userData'][_0x1a9f('0x85b')]['box3'][_0x1a9f('0xda')]['z']),_0x4b141e=0.05*Math[_0x1a9f('0x1bc')](_0x4b141e*_0x4b141e+_0x428f8f*_0x428f8f),(_0x428f8f=new esmap['ESEffectTool']['EffectMarker'](esmap[_0x1a9f('0x271')]['CUBE_FLOAT'],{'x':_0x27246d['x'],'y':_0x27246d['y'],'height':_0x2bbaee+0x4*_0x4b141e,'radius':Math[_0x1a9f('0xda')](0xa,_0x4b141e),'showLevel':12.5}))[_0x1a9f('0x427')]=_0x5d8753,_0x428f8f[_0x1a9f('0x85d')]=_0x34bca0[_0x1a9f('0x49f')],_0x428f8f['o3d_']['name']=_0x1a9f('0x737'),_0x428f8f[_0x1a9f('0x49c')][_0x1a9f('0x46')]={'buildingId':_0x5d8753,'isOpen':!0x1},_0x44aafb[_0x1a9f('0x4fc')][_0x1a9f('0x85e')](_0x428f8f[_0x1a9f('0x49c')]),_0x126391['addMarker'](_0x428f8f),_0x126391[_0x1a9f('0x859')]['push'](_0x5d8753));}}_0x128714[_0x1a9f('0x48f')]['envTextureCube']&&!_0x128714[_0x1a9f('0x48f')]['envTextureCube']['isSetTileBuilding']&&(_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x85f')](_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x860')]),_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x860')]['isSetTileBuilding']=!0x0);}}),_0x44aafb['on'](_0x1a9f('0x861'),function(){_0x126391&&(_0x126391[_0x1a9f('0x342')]=!0x1);}),_0x44aafb['on']('buildingExit',function(){_0x126391&&(_0x126391[_0x1a9f('0x342')]=!0x0);}),_0x44aafb['on'](_0x1a9f('0x81a'),function(){0x0<_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x834')]['length']&&_0x28617b[_0x1a9f('0x7ed')]&&!_0x21c7c9&&(setTimeout(function(){var _0x490f64=!0x0,_0x34bca0=!0x1,_0x21c7c9=void 0x0;try{for(var _0x27246d,_0x46312b=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714['buildings'][_0x1a9f('0x834')]);!(_0x490f64=(_0x27246d=_0x46312b['next']())['done']);_0x490f64=!0x0)_0x27246d[_0x1a9f('0x11')]['material'][_0x1a9f('0x101')]=!0x0;}catch(_0x4d8552){_0x34bca0=!0x0,_0x21c7c9=_0x4d8552;}finally{try{!_0x490f64&&_0x46312b[_0x1a9f('0xd0')]&&_0x46312b[_0x1a9f('0xd0')]();}finally{if(_0x34bca0)throw _0x21c7c9;}}},0x1388),_0x21c7c9=!0x0);}),_0x44aafb['on']('buildingLoadComplete',function(_0x490f64){_0x5b4bc4(_0x490f64['id'],!0x1),_0x28617b[_0x1a9f('0x7dc')]&&_0x490f64[_0x1a9f('0x49c')]&&_0x26f3bd&&_0x26f3bd[_0x1a9f('0x7dd')]&&(_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x862')](_0x490f64,!0x1),esmap[_0x1a9f('0x53')][_0x1a9f('0x48f')][_0x1a9f('0x863')]());}),_0x44aafb['on'](_0x1a9f('0x864'),function(_0x490f64){_0x5b4bc4(_0x490f64['bid'],!0x0),_0x28617b[_0x1a9f('0x7dc')]&&_0x26f3bd[_0x1a9f('0x7dd')]&&setTimeout(function(){esmap[_0x1a9f('0x53')][_0x1a9f('0x48f')]['showShadow']();},0x1f4);}),_0x44aafb['on']('modelLoadedAll',function(_0x490f64){var _0x490f64=_0x490f64[_0x1a9f('0x49f')],_0x34bca0=(0x0,_0x42de3f[_0x1a9f('0x498')])(_0x490f64)[_0x1a9f('0x499')](0x1)['getLayersByTypes'](esmap[_0x1a9f('0x865')]['MODEL_IMAGE']);if(_0x34bca0&&_0x34bca0[0x0])for(var _0x21c7c9=0x0;_0x21c7c9<_0x34bca0[0x0][_0x1a9f('0x49c')]['children']['length'];_0x21c7c9++)for(var _0x27246d=_0x34bca0[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][_0x21c7c9],_0x46312b=0x0;_0x46312b<_0x27246d['material'][_0x1a9f('0xf')];_0x46312b++){var _0x5fefb5=_0x27246d[_0x1a9f('0x48')][_0x46312b];_0x5fefb5&&_0x5fefb5['userData'][_0x1a9f('0x866')]&&'model_loading'==_0x5fefb5['userData'][_0x1a9f('0x866')][_0x1a9f('0x427')]&&(_0x5fefb5['visible']=!0x1,_0x5fefb5[_0x1a9f('0x8f')]());}}),_0x44aafb['on'](_0x1a9f('0x4e9'),function(_0x490f64){esmap[_0x1a9f('0x53')]['showRoads']&&'2D'===_0x490f64?esmap[_0x1a9f('0x53')]['showRoads']=!0x1:!0x1===esmap['ESEffectTool'][_0x1a9f('0x831')]&&'3D'===_0x490f64&&(esmap['ESEffectTool'][_0x1a9f('0x831')]=!0x0);}),_0x44aafb['on']('controlchange',function(_0x490f64){_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x867')]();}),_0x44aafb['on'](_0x1a9f('0x868'),function(_0x490f64){_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x869')](_0x490f64['color']);}),_0x44aafb['on'](_0x1a9f('0x86a'),function(){esmap[_0x1a9f('0x7da')]&&esmap[_0x1a9f('0x7da')][_0x1a9f('0x7db')],_0x5fefb5[_0x1a9f('0x1ba')](_0x44aafb['controls'][_0x1a9f('0xc7')]),esmap[_0x1a9f('0x53')]['_controlMove']=!0x0;}),_0x44aafb['on'](_0x1a9f('0x86b'),function(){_0x5356b4(_0x26f3bd);}),_0x44aafb['on'](_0x1a9f('0x86c'),function(_0x490f64){_0x128714[_0x1a9f('0x340')](_0x490f64),_0x389d06[_0x1a9f('0x340')](_0x490f64),_0x140ade[_0x1a9f('0x2e4')]();}),_0x44aafb[_0x1a9f('0x81b')](_0x1a9f('0x8f'),function(){_0x36b864[_0x1a9f('0x86d')]();});},_0x36b864['Type']=_0xc75bd8['ESEffectsConstant'],_0x36b864[_0x1a9f('0x4a8')]=_0x389d06,_0x36b864[_0x1a9f('0x7f9')]={'dispose':function(_0x490f64){_0x128714['buildings'][_0x1a9f('0x8f')](_0x490f64);},'removeAll':function(){_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x33c')]();},'updateBuildingScanLight':function(_0x490f64,_0x34bca0){_0x1a9f('0x86e')===_0x490f64&&_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x86f')](_0x34bca0),_0x1a9f('0x870')===_0x490f64&&_0x128714['buildings']['updateTileBuildingCenterSpreadScan'](_0x34bca0),'radar_scan'===_0x490f64&&_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x871')](_0x34bca0);},'toggleBuildingScanLight':function(_0x490f64,_0x34bca0){_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x872')](_0x490f64,_0x34bca0);},'updateBuildingExtentLight':function(_0x490f64){_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x873')](_0x490f64);},'closeTileBuildingsLight':function(){_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x874')](!0x1);},'openTileBuildingsLight':function(){_0x128714['buildings'][_0x1a9f('0x874')](!0x0);},'toggleBuildingHighLight':function(_0x490f64){_0x490f64?_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x875')](!0x0):_0x128714[_0x1a9f('0x7f9')][_0x1a9f('0x875')](!0x1);}},_0x36b864[_0x1a9f('0x48c')]={'removeAll':function(){_0x128714['floors'][_0x1a9f('0x8f')]();},'settingControlFloor':function(_0x490f64){_0x128714[_0x1a9f('0x48c')]['controlFloorLayer']&&_0x490f64['id']&&_0x128714[_0x1a9f('0x48c')]['controlFloors'][_0x490f64['id']]&&(_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']]['_originPos']||(_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']]['_originPos']=_0x128714['floors'][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x42')]['clone']()),_0x490f64['x']&&_0x490f64['y'],void 0x0!==_0x490f64['offsetHeight']&&(!0x1===_0x490f64[_0x1a9f('0x4b9')]?_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x42')]['y']=_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x877')]['y']:_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x42')]['y']=_0x490f64[_0x1a9f('0x4b9')]),void 0x0!==_0x490f64[_0x1a9f('0x7c0')]&&(_0x128714['floors'][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x342')]=_0x490f64[_0x1a9f('0x7c0')]),_0x490f64[_0x1a9f('0x1ff')]&&(_0x128714[_0x1a9f('0x48c')][_0x1a9f('0x876')][_0x490f64['id']][_0x1a9f('0x48')]['opacity']=_0x490f64[_0x1a9f('0x1ff')]),_0x490f64[_0x1a9f('0x33d')]&&_0x128714[_0x1a9f('0x48c')]['fadeOut'](_0x490f64['id'],_0x490f64[_0x1a9f('0x2dd')]));}},_0x36b864[_0x1a9f('0x48d')]={'removeAll':function(){_0x128714[_0x1a9f('0x48d')]['disposeAll']();}},_0x36b864[_0x1a9f('0x48e')]={'updateAmbientLight':function(_0x490f64){_0x128714[_0x1a9f('0x48e')]['updateAmbientLight']({'intensity':_0x490f64,'isAnimate':!0x0});},'updateDirectLights':function(_0x490f64){var _0x34bca0=!0x0,_0x21c7c9=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x128714[_0x1a9f('0x48e')][_0x1a9f('0x878')]);!(_0x34bca0=(_0x46312b=_0x5fefb5['next']())['done']);_0x34bca0=!0x0){var _0x5d8753=_0x46312b[_0x1a9f('0x11')];_0x128714[_0x1a9f('0x48e')][_0x1a9f('0x879')](_0x5d8753,_0x490f64,!0x0);}}catch(_0x409fac){_0x21c7c9=!0x0,_0x27246d=_0x409fac;}finally{try{!_0x34bca0&&_0x5fefb5[_0x1a9f('0xd0')]&&_0x5fefb5[_0x1a9f('0xd0')]();}finally{if(_0x21c7c9)throw _0x27246d;}}},'recoverAmbientLight':function(){_0x128714[_0x1a9f('0x48e')]['updateAmbientLight']({'isAnimate':!0x0,'isRecover':!0x0});},'removeAll':function(){_0x128714[_0x1a9f('0x48e')][_0x1a9f('0x8f')]();},'getLights':function(){return _0x128714['lights'];}},_0x36b864['routes']={'removeAll':function(){_0x128714['routes'][_0x1a9f('0x33c')]();},'updateTileRoutesRandomStyle':function(_0x490f64){_0x44aafb['options'][_0x1a9f('0x830')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x84c')]&&_0x128714[_0x1a9f('0x490')]['updateTileRoutesStyle'](_0x490f64);},'recoverTileRoutesStyle':function(){_0x44aafb[_0x1a9f('0x4d')][_0x1a9f('0x830')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x84c')]&&_0x128714[_0x1a9f('0x490')][_0x1a9f('0x87a')]();},'toggleTileRoutesVisible':function(_0x490f64){_0x128714['routes'][_0x1a9f('0x87b')](_0x490f64);}},_0x36b864['skybox']={'removeAll':function(){_0x128714[_0x1a9f('0x491')][_0x1a9f('0x8f')]();},'getSkybox':function(){return _0x128714[_0x1a9f('0x491')][_0x1a9f('0x87c')]?_0x128714[_0x1a9f('0x491')]:null;},'updateSkybox':function(_0x490f64){_0x128714['skybox'][_0x1a9f('0x87d')](_0x490f64);}},_0x36b864[_0x1a9f('0x492')]={'removeAll':function(){_0x128714[_0x1a9f('0x492')]['disposeAll']();},'setStyle':function(_0x490f64,_0x34bca0){_0x128714[_0x1a9f('0x492')][_0x1a9f('0x30c')](_0x490f64,_0x34bca0);},'createWaveMarker':function(_0x490f64){_0x128714[_0x1a9f('0x492')]['createWaveMarker'](_0x490f64);},'updateWaveLines':function(_0x490f64,_0x34bca0){_0x128714[_0x1a9f('0x492')][_0x1a9f('0x87e')](_0x490f64,_0x34bca0);},'removeWaveLines':function(){_0x128714[_0x1a9f('0x492')][_0x1a9f('0x87f')]();}},_0x36b864[_0x1a9f('0x48f')]={'showBoatFoam':function(_0x490f64){if(_0x490f64['id']&&void 0x0!==_0x490f64[_0x1a9f('0x7c0')])for(var _0x34bca0=_0x128714['models'][_0x1a9f('0x880')],_0x21c7c9=0x0;_0x21c7c9<_0x34bca0[_0x1a9f('0xf')];_0x21c7c9++)if(_0x34bca0[_0x21c7c9]['id']===_0x490f64['id']){if(_0x34bca0[_0x21c7c9][_0x1a9f('0x48')]){_0x34bca0[_0x21c7c9][_0x1a9f('0x48')]['visible']=_0x490f64[_0x1a9f('0x7c0')],_0x490f64[_0x1a9f('0x341')]&&(_0x34bca0[_0x21c7c9][_0x1a9f('0x341')]=_0x490f64['speed']),_0x490f64['fps']&&_0x34bca0[_0x21c7c9][_0x1a9f('0x7ac')](_0x490f64[_0x1a9f('0x2fc')]);break;}console[_0x1a9f('0xe4')](_0x1a9f('0x881'),_0x490f64);}},'showTerrainGradient':function(_0x490f64){var _0x34bca0;_0x490f64['name']&&void 0x0!==_0x490f64[_0x1a9f('0x7c0')]&&(_0x34bca0=_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x882')])[_0x490f64[_0x1a9f('0x427')]]&&_0x34bca0[_0x490f64[_0x1a9f('0x427')]][_0x1a9f('0x3e8')]&&(_0x34bca0[_0x490f64[_0x1a9f('0x427')]][_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x7c0')][_0x1a9f('0x11')]=_0x490f64[_0x1a9f('0x7c0')]);},'setTerrainGradientConfig':function(_0x490f64){if(_0x490f64[_0x1a9f('0x427')]){var _0x34bca0=_0x128714['models'][_0x1a9f('0x882')];if(_0x34bca0[_0x490f64[_0x1a9f('0x427')]])return _0x34bca0[_0x490f64['name']][_0x1a9f('0x883')](_0x490f64);}},'getTerrainGradientConfig':function(_0x490f64){if(_0x490f64[_0x1a9f('0x427')]){var _0x34bca0=_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x882')];if(_0x34bca0[_0x490f64['name']])return _0x34bca0[_0x490f64[_0x1a9f('0x427')]][_0x1a9f('0x7b7')]();}},'toggleModelLights':function(_0x490f64){_0x128714[_0x1a9f('0x48f')]['lightBlend'][_0x1a9f('0x7a1')](_0x490f64),_0x128714[_0x1a9f('0x48f')]['toggleLightPoints'](_0x490f64);},'createModelLightPoints':function(){_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x884')]();},'showShadow':function(){_0x28617b[_0x1a9f('0x7dc')]&&_0x26f3bd[_0x1a9f('0x7dd')]&&(_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x0,_0x44aafb[_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0);},'closeShadow':function(){_0x28617b[_0x1a9f('0x7dc')]&&_0x26f3bd[_0x1a9f('0x7dd')]&&(_0x44aafb[_0x1a9f('0x447')]['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x1,_0x44aafb['mapView']['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0);},'getShadow':function(){return _0x128714[_0x1a9f('0x7dd')];},'setUvTransform':function(_0x490f64){if(_0x490f64['id'])for(var _0x34bca0=_0x128714[_0x1a9f('0x48f')][_0x1a9f('0x885')],_0x21c7c9=0x0;_0x21c7c9<_0x34bca0[_0x1a9f('0xf')];_0x21c7c9++)if(_0x34bca0[_0x21c7c9][_0x1a9f('0x886')]===_0x490f64['id']){_0x490f64[_0x1a9f('0x106')]&&(_0x490f64['offset']['x']&&(_0x34bca0[_0x21c7c9]['offset']['x']=_0x490f64['offset']['x']),_0x490f64['offset']['y']&&(_0x34bca0[_0x21c7c9]['offset']['y']=_0x490f64['offset']['y']));break;}},'setControlGroupObj':function(_0x490f64){var _0x34bca0=_0x490f64[_0x1a9f('0x887')],_0x21c7c9=_0x490f64[_0x1a9f('0x12')],_0x27246d=_0x490f64[_0x1a9f('0x1ff')],_0x46312b=_0x490f64[_0x1a9f('0x342')],_0x5fefb5=_0x128714['models'][_0x1a9f('0x888')];if(_0x5fefb5[_0x34bca0])for(var _0x5d8753 in _0x5fefb5[_0x34bca0])void 0x0!==_0x27246d&&_0x5fefb5[_0x34bca0][_0x5d8753][_0x1a9f('0x92')](function(_0x490f64){_0x1a9f('0x332')===_0x490f64['type']&&-0x1<_0x490f64['name'][_0x1a9f('0xc4')](_0x1a9f('0x889'))&&-0x1<_0x490f64[_0x1a9f('0x427')][_0x1a9f('0xc4')](_0x21c7c9)&&(_0x27246d&&0x0<_0x27246d&&(_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x49')][_0x1a9f('0x1ff')]||(_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x49')]['opacity']=_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x1ff')]),_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x27246d),!0x1===_0x27246d&&(_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x49')]['opacity']));}),void 0x0!==_0x46312b&&_0x5d8753===_0x21c7c9&&(_0x5fefb5[_0x34bca0][_0x5d8753],_0x5fefb5[_0x34bca0][_0x5d8753]['visible']=_0x46312b);},'setModelBloomLight':function(_0x490f64,_0x34bca0){_0x490f64&&_0x490f64['o3d_']&&_0x490f64[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x490f64){_0x1a9f('0x332')==_0x490f64[_0x1a9f('0xc6')]&&!0x1===_0x490f64['_isBloom']&&esmap[_0x1a9f('0x53')][_0x1a9f('0x494')][_0x1a9f('0x88a')](_0x490f64,_0x34bca0);});},'removeModelBloomLight':function(_0x490f64){_0x490f64&&_0x490f64[_0x1a9f('0x49c')]&&_0x490f64[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x490f64){'Mesh'==_0x490f64['type']&&!0x0===_0x490f64[_0x1a9f('0x88b')]&&esmap['ESEffectTool'][_0x1a9f('0x494')][_0x1a9f('0x88c')](_0x490f64);});}},_0x36b864['video']={'createVideoProjector':function(_0x490f64){return _0x128714['video'][_0x1a9f('0x88d')](_0x490f64);},'clearVideoProjector':function(){_0x128714[_0x1a9f('0x493')][_0x1a9f('0x2f4')]();},'showVisualField':function(_0x490f64){_0x128714[_0x1a9f('0x493')][_0x1a9f('0x71d')](_0x490f64);},'updateProjectorTarget':function(_0x490f64){_0x128714[_0x1a9f('0x493')]['updateProjectorTarget'](_0x490f64);},'isLockCameraControls':function(_0x490f64){_0x128714[_0x1a9f('0x493')]['isLockCameraControls'](_0x490f64);}},_0x36b864['screenEffect']={'setObjectBloomLight':function(_0x490f64,_0x34bca0){var _0x21c7c9=esmap[_0x1a9f('0x3e')][_0x1a9f('0x80d')]();if((_0x490f64 instanceof THREE[_0x1a9f('0x332')]||_0x490f64 instanceof THREE['Object3D'])&&(_0x490f64['layers'][_0x1a9f('0x211')](0x1),_0x490f64['_isBloom']=!0x0,_0x21c7c9[_0x1a9f('0x829')]&&_0x34bca0&&0x0<_0x34bca0&&_0x34bca0<0x1))if(Array['isArray'](_0x490f64[_0x1a9f('0x48')])){var _0x27246d=!0x0,_0x21c7c9=!0x1,_0x46312b=void 0x0;try{for(var _0x5fefb5,_0x5d8753=(0x0,_0x28594d['default'])(_0x490f64[_0x1a9f('0x48')]);!(_0x27246d=(_0x5fefb5=_0x5d8753[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x27246d=!0x0){var _0x428f8f=_0x5fefb5[_0x1a9f('0x11')],_0x2b1b65=(_0x428f8f[_0x1a9f('0x88e')]||(_0x428f8f[_0x1a9f('0x88e')]=_0x428f8f['color'][_0x1a9f('0x1af')]()),_0x428f8f[_0x1a9f('0x88e')][_0x1a9f('0x1af')]());_0x2b1b65[_0x1a9f('0x88f')](0x0,0x0,_0x34bca0-0x1),_0x428f8f[_0x1a9f('0x21e')][_0x1a9f('0x1ba')](_0x2b1b65);}}catch(_0x3fd2fd){_0x21c7c9=!0x0,_0x46312b=_0x3fd2fd;}finally{try{!_0x27246d&&_0x5d8753['return']&&_0x5d8753[_0x1a9f('0xd0')]();}finally{if(_0x21c7c9)throw _0x46312b;}}}else{_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x88e')]||(_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x88e')]=_0x490f64['material'][_0x1a9f('0x21e')][_0x1a9f('0x1af')]());_0x21c7c9=_0x490f64[_0x1a9f('0x48')]['_bloomOriginColor'][_0x1a9f('0x1af')]();_0x21c7c9['offsetHSL'](0x0,0x0,_0x34bca0-0x1),_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x1ba')](_0x21c7c9);}},'removeObjectBloomLight':function(_0x490f64){if(_0x490f64 instanceof THREE[_0x1a9f('0x332')])if(_0x490f64[_0x1a9f('0x4d0')][_0x1a9f('0x25c')](0x1),Array[_0x1a9f('0xd6')](_0x490f64[_0x1a9f('0x48')])){var _0x34bca0=!0x0,_0x21c7c9=!0x1,_0x27246d=void 0x0;try{for(var _0x46312b,_0x5fefb5=(0x0,_0x28594d[_0x1a9f('0xa')])(_0x490f64[_0x1a9f('0x48')]);!(_0x34bca0=(_0x46312b=_0x5fefb5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x34bca0=!0x0){var _0x5d8753=_0x46312b[_0x1a9f('0x11')];_0x5d8753[_0x1a9f('0x21e')][_0x1a9f('0x1ba')](_0x5d8753['_bloomOriginColor']);}}catch(_0x1693b8){_0x21c7c9=!0x0,_0x27246d=_0x1693b8;}finally{try{!_0x34bca0&&_0x5fefb5['return']&&_0x5fefb5[_0x1a9f('0xd0')]();}finally{if(_0x21c7c9)throw _0x27246d;}}}else _0x490f64[_0x1a9f('0x48')][_0x1a9f('0x21e')]['copy'](_0x490f64[_0x1a9f('0x48')][_0x1a9f('0x88e')]);else console['info']('not\x20support\x20this\x20obj');},'updateOutlineStyle':function(_0x490f64){_0x128714[_0x1a9f('0x819')][_0x1a9f('0x890')](_0x490f64);},'setObjectOutline':function(_0x490f64,_0x34bca0){_0x128714[_0x1a9f('0x819')]['setObjectOutline'](_0x490f64,_0x34bca0);},'removeObjectOutline':function(_0x490f64){_0x128714['postProcessing'][_0x1a9f('0x891')](_0x490f64);},'clearSelectedOutline':function(){_0x128714[_0x1a9f('0x819')][_0x1a9f('0x892')]();},'resetBackgroundColor':function(_0x490f64){_0x128714['postProcessing']['screenEffect'][_0x1a9f('0x893')]&&(_0x128714[_0x1a9f('0x819')]['screenEffect'][_0x1a9f('0x893')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x490f64),_0x128714[_0x1a9f('0x819')]['screenEffect']['relaceBgMaterial'][_0x1a9f('0x101')]=!0x0);}},_0x36b864[_0x1a9f('0x495')]=function(_0x490f64,_0x34bca0){_0x27246d||(_0x128714[_0x1a9f('0x48e')]['updateAllLightConfig']({'configs':_0x490f64}),_0x128714['lights']['updateLightProbe'](_0x490f64['envTexture']),_0x128714['skybox'][_0x1a9f('0x87d')](_0x490f64['skybox']),_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x40c')]&&('low'==esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')]['effectQuality']?esmap[_0x1a9f('0x53')][_0x1a9f('0x48f')][_0x1a9f('0x894')]():_0x128714[_0x1a9f('0x7dd')][_0x1a9f('0x895')]({'config':_0x490f64[_0x1a9f('0x7dd')],'isAnimate':!0x0})),setTimeout(function(){_0x27246d=!0x1,_0x34bca0&&_0x34bca0();},0x5dc));},_0x36b864[_0x1a9f('0x896')]=function(_0x490f64){_0x36b864[_0x1a9f('0x86d')](),_0x354b21(_0x490f64,esmap['ESEffectTool'][_0x1a9f('0x713')]);},_0x36b864['clearAll']=function(){_0x318432=_0x28617b=_0x26f3bd=null,_0x2a9eb4=!(_0x2b1b65={'json':_0x27246d=_0x38658e=_0x21c7c9=_0x2a9eb4=!0x1,'preload':!0x1}),_0x128714[_0x1a9f('0x4a9')](),_0x389d06[_0x1a9f('0x8f')](),_0x140ade[_0x1a9f('0xc3')]&&_0x140ade[_0x1a9f('0x351')](_0x1a9f('0x823'),_0x140ade['_listeners']['checkIsInLowDeviceComplete'][0x0]),_0x44aafb=null;},Object['defineProperty'](_0x36b864,_0x1a9f('0x897'),{'enumerable':!0x1,'get':function(){return _0x2a9eb4;},'set':function(_0x490f64){_0x2a9eb4=_0x490f64;}}),_0x490f64['default']=_0x36b864;},function(_0x33b52f,_0x27cdc6,_0xf98f5c){'use strict';Object[_0x1a9f('0x3')](_0x27cdc6,_0x1a9f('0x5'),{'value':!0x0});var _0x460390=_0x2f0c2a(_0xf98f5c(0x0)),_0x114e83=_0x2f0c2a(_0xf98f5c(0x1)),_0x19a8d0=function(_0x33b52f){if(_0x33b52f&&_0x33b52f['__esModule'])return _0x33b52f;var _0x27cdc6={};if(null!=_0x33b52f)for(var _0xf98f5c in _0x33b52f)Object[_0x1a9f('0xb')][_0x1a9f('0xc')]['call'](_0x33b52f,_0xf98f5c)&&(_0x27cdc6[_0xf98f5c]=_0x33b52f[_0xf98f5c]);return _0x27cdc6['default']=_0x33b52f,_0x27cdc6;}(_0xf98f5c(0xf0)),_0x3f299c=_0xf98f5c(0x62),_0xe9ef7f=_0xf98f5c(0x1a);function _0x2f0c2a(_0x33b52f){return _0x33b52f&&_0x33b52f[_0x1a9f('0x5')]?_0x33b52f:{'default':_0x33b52f};}function _0x591b04(){(0x0,_0x460390[_0x1a9f('0xa')])(this,_0x591b04),this[_0x1a9f('0x90')]=(0x0,_0xe9ef7f[_0x1a9f('0x33')])(),this['isCanRender']=!0x0,this[_0x1a9f('0x7f9')]=null,this[_0x1a9f('0x48c')]=null,this[_0x1a9f('0x48d')]=null,this[_0x1a9f('0x48e')]=null,this[_0x1a9f('0x490')]=null,this['skybox']=null,this[_0x1a9f('0x492')]=null,this[_0x1a9f('0x48f')]=null,this[_0x1a9f('0x819')]=null,this[_0x1a9f('0x7dd')]=null,this[_0x1a9f('0x1d4')]=null,this[_0x1a9f('0x493')]=null,this[_0x1a9f('0x82d')]();}(0x0,_0x114e83[_0x1a9f('0xa')])(_0x591b04,[{'key':_0x1a9f('0x82d'),'value':function(){this[_0x1a9f('0x48e')]=new _0x19a8d0[(_0x1a9f('0x7f0'))](),this[_0x1a9f('0x7f9')]=new _0x19a8d0['Buildings']({'lights':this[_0x1a9f('0x48e')]}),this['floors']=new _0x19a8d0['Floors'](),this[_0x1a9f('0x48d')]=new _0x19a8d0[(_0x1a9f('0x898'))](),this['routes']=new _0x19a8d0[(_0x1a9f('0x899'))](),this['skybox']=new _0x19a8d0[(_0x1a9f('0xba'))](),this[_0x1a9f('0x492')]=new _0x19a8d0['Water'](this[_0x1a9f('0x491')]),this[_0x1a9f('0x48f')]=new _0x19a8d0[(_0x1a9f('0x89a'))]({'water':this['water'],'lights':this[_0x1a9f('0x48e')]}),this[_0x1a9f('0x819')]=new _0x19a8d0[(_0x1a9f('0x816'))](),this[_0x1a9f('0x7dd')]=new _0x19a8d0[(_0x1a9f('0x89b'))](),this[_0x1a9f('0x1d4')]=new _0x19a8d0['Fog'](),this[_0x1a9f('0x493')]=new _0x19a8d0['Video']();}},{'key':_0x1a9f('0x7ef'),'value':function(_0x33b52f){var _0x27cdc6=_0x33b52f['type'],_0xf98f5c=_0x33b52f[_0x1a9f('0x89c')],_0x460390=_0x33b52f[_0x1a9f('0x375')];switch(_0x27cdc6){case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x7f8')]:_0xf98f5c[_0x1a9f('0x50b')]?this[_0x1a9f('0x7f9')]['createTileBuildingsEffect2'](_0xf98f5c):this[_0x1a9f('0x7f9')]['addBuildingsEffect'](_0xf98f5c[_0x1a9f('0x45')],_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x800')]:this[_0x1a9f('0x48c')]['setFloorMaterial'](_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')]['Ground']:this['ground'][_0x1a9f('0x89d')](_0xf98f5c);break;case _0x3f299c['ESEffectsConstant']['Lights']:_0xf98f5c[_0x1a9f('0x89e')]&&this[_0x1a9f('0x48e')][_0x1a9f('0x89f')](_0xf98f5c),_0xf98f5c[_0x1a9f('0x803')]&&this['lights'][_0x1a9f('0x8a0')](_0xf98f5c),_0xf98f5c['isAmbientLight']&&this[_0x1a9f('0x48e')][_0x1a9f('0x8a1')](_0xf98f5c),_0xf98f5c[_0x1a9f('0x8a2')]&&this[_0x1a9f('0x48e')][_0x1a9f('0x8a3')](_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x899')]:_0xf98f5c[_0x1a9f('0x8a4')]?this[_0x1a9f('0x490')][_0x1a9f('0x8a5')](0x1,_0xf98f5c):this[_0x1a9f('0x490')][_0x1a9f('0x8a6')](_0xf98f5c,_0x460390);break;case _0x3f299c[_0x1a9f('0x26d')]['Skybox']:this[_0x1a9f('0x491')][_0x1a9f('0x8a7')](_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x807')]:this[_0x1a9f('0x492')][_0x1a9f('0x8a8')](_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x89a')]:this[_0x1a9f('0x48f')][_0x1a9f('0x8a9')](_0xf98f5c,_0x460390);break;case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x816')]:this[_0x1a9f('0x819')][_0x1a9f('0x82d')](_0xf98f5c);break;case _0x3f299c[_0x1a9f('0x26d')]['Shadow']:this[_0x1a9f('0x7dd')]['init2'](_0xf98f5c);break;case _0x3f299c['ESEffectsConstant'][_0x1a9f('0x80b')]:this[_0x1a9f('0x1d4')]['init'](_0xf98f5c);}}},{'key':_0x1a9f('0x8aa'),'value':function(_0x33b52f){var _0x27cdc6=_0x33b52f[_0x1a9f('0xc6')];switch(_0x33b52f[_0x1a9f('0x8ab')],_0x33b52f[_0x1a9f('0x375')],_0x27cdc6){case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x7f8')]:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x800')]:case _0x3f299c[_0x1a9f('0x26d')]['Ground']:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x7f0')]:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x899')]:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0xba')]:case _0x3f299c['ESEffectsConstant']['Water']:}}},{'key':'removeEffect','value':function(_0x33b52f){var _0x27cdc6=_0x33b52f[_0x1a9f('0xc6')];switch(_0x33b52f[_0x1a9f('0x8ab')],_0x33b52f[_0x1a9f('0x375')],_0x27cdc6){case _0x3f299c[_0x1a9f('0x26d')]['Buildings']:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0x800')]:case _0x3f299c[_0x1a9f('0x26d')]['Ground']:case _0x3f299c[_0x1a9f('0x26d')]['Lights']:case _0x3f299c[_0x1a9f('0x26d')]['Routes']:case _0x3f299c[_0x1a9f('0x26d')][_0x1a9f('0xba')]:case _0x3f299c['ESEffectsConstant']['Water']:}}},{'key':_0x1a9f('0x4a9'),'value':function(){this[_0x1a9f('0x7f9')]['disposeAll'](),this[_0x1a9f('0x48c')][_0x1a9f('0x8f')](),this[_0x1a9f('0x48d')][_0x1a9f('0x33c')](),this[_0x1a9f('0x48e')][_0x1a9f('0x8f')](),this[_0x1a9f('0x490')][_0x1a9f('0x33c')](),this[_0x1a9f('0x491')][_0x1a9f('0x8f')](),this[_0x1a9f('0x492')][_0x1a9f('0x33c')](),this[_0x1a9f('0x48f')][_0x1a9f('0x33c')](),this['postProcessing']['dispose']();}},{'key':'render','value':function(_0x33b52f){this[_0x1a9f('0x824')]&&(this['buildings'][_0x1a9f('0x340')](_0x33b52f),this[_0x1a9f('0x490')][_0x1a9f('0x340')](_0x33b52f),this[_0x1a9f('0x492')]['render'](_0x33b52f),this[_0x1a9f('0x48c')][_0x1a9f('0x340')](_0x33b52f),this[_0x1a9f('0x48f')]['render'](_0x33b52f),this[_0x1a9f('0x819')]['render'](_0x33b52f));}},{'key':_0x1a9f('0x8f'),'value':function(){}}]),_0x27cdc6[_0x1a9f('0xa')]=_0x591b04;},function(_0x2f616b,_0x4487c4,_0x3f7859){'use strict';Object[_0x1a9f('0x3')](_0x4487c4,'__esModule',{'value':!0x0}),_0x4487c4[_0x1a9f('0x8ac')]=_0x4487c4[_0x1a9f('0x80b')]=_0x4487c4['Shadow']=_0x4487c4['PostProcessing']=_0x4487c4[_0x1a9f('0x89a')]=_0x4487c4[_0x1a9f('0x807')]=_0x4487c4['Skybox']=_0x4487c4[_0x1a9f('0x899')]=_0x4487c4[_0x1a9f('0x7f0')]=_0x4487c4[_0x1a9f('0x898')]=_0x4487c4['Floors']=_0x4487c4[_0x1a9f('0x7f8')]=void 0x0;var _0x2bedd8=_0x2832f6(_0x3f7859(0xf1)),_0x22e724=_0x2832f6(_0x3f7859(0xf2)),_0x7768d1=_0x2832f6(_0x3f7859(0xf3)),_0x292b28=_0x2832f6(_0x3f7859(0xf4)),_0x19d4f5=_0x2832f6(_0x3f7859(0xf6)),_0x6a20fe=_0x2832f6(_0x3f7859(0xfc)),_0x10ce39=_0x2832f6(_0x3f7859(0xfd)),_0x2fc02d=_0x2832f6(_0x3f7859(0xfe)),_0x57b302=_0x2832f6(_0x3f7859(0xff)),_0x4f5a90=_0x2832f6(_0x3f7859(0x109)),_0x25d02a=_0x2832f6(_0x3f7859(0x10a)),_0x3f7859=_0x2832f6(_0x3f7859(0x10b));function _0x2832f6(_0x2f616b){return _0x2f616b&&_0x2f616b[_0x1a9f('0x5')]?_0x2f616b:{'default':_0x2f616b};}_0x4487c4[_0x1a9f('0x7f8')]=_0x2bedd8[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x800')]=_0x22e724[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x898')]=_0x7768d1[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x7f0')]=_0x292b28[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x899')]=_0x19d4f5[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0xba')]=_0x6a20fe[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x807')]=_0x10ce39[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x89a')]=_0x2fc02d[_0x1a9f('0xa')],_0x4487c4['PostProcessing']=_0x57b302['default'],_0x4487c4[_0x1a9f('0x89b')]=_0x4f5a90[_0x1a9f('0xa')],_0x4487c4[_0x1a9f('0x80b')]=_0x25d02a[_0x1a9f('0xa')],_0x4487c4['Video']=_0x3f7859[_0x1a9f('0xa')];},function(_0x48ca57,_0x557edf,_0x5555d5){'use strict';Object[_0x1a9f('0x3')](_0x557edf,_0x1a9f('0x5'),{'value':!0x0});var _0x421d85=_0x4264a0(_0x5555d5(0x3d)),_0x145b5b=_0x4264a0(_0x5555d5(0x6)),_0x3cd3b7=_0x4264a0(_0x5555d5(0x0)),_0x9ec27b=_0x4264a0(_0x5555d5(0x1)),_0x290b4a=_0x5555d5(0x1a),_0x1cd138=function(_0x48ca57){if(_0x48ca57&&_0x48ca57[_0x1a9f('0x5')])return _0x48ca57;var _0x557edf={};if(null!=_0x48ca57)for(var _0x5555d5 in _0x48ca57)Object[_0x1a9f('0xb')]['hasOwnProperty'][_0x1a9f('0xd')](_0x48ca57,_0x5555d5)&&(_0x557edf[_0x5555d5]=_0x48ca57[_0x5555d5]);return _0x557edf[_0x1a9f('0xa')]=_0x48ca57,_0x557edf;}(_0x5555d5(0x40)),_0x14afd5=_0x5555d5(0x72);function _0x4264a0(_0x48ca57){return _0x48ca57&&_0x48ca57[_0x1a9f('0x5')]?_0x48ca57:{'default':_0x48ca57};}function _0x583dbe(_0x48ca57){_0x48ca57=_0x48ca57[_0x1a9f('0x48e')];(0x0,_0x3cd3b7[_0x1a9f('0xa')])(this,_0x583dbe),this[_0x1a9f('0x90')]=(0x0,_0x290b4a[_0x1a9f('0x33')])(),this['lights']=_0x48ca57,this[_0x1a9f('0x7fa')]=[],this[_0x1a9f('0x834')]=[],this[_0x1a9f('0x8ad')]=[],this[_0x1a9f('0x7f2')]=null,this['isCanUseScanStatus']={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this[_0x1a9f('0x7dc')]=!0x1;}(0x0,_0x9ec27b[_0x1a9f('0xa')])(_0x583dbe,[{'key':_0x1a9f('0x8ae'),'value':function(_0x48ca57,_0x557edf,_0x5555d5){_0x557edf={'map':this[_0x1a9f('0x90')],'id':_0x48ca57['id'],'mapView':_0x557edf,'isTileBuilding':_0x5555d5,'centerPos':_0x48ca57[_0x1a9f('0x8af')],'buildingColorStr':_0x48ca57['color'],'repeat':_0x48ca57['sideImgRepeatFactor'],'topRepeat':_0x48ca57[_0x1a9f('0x8b0')],'textureLightStrength':_0x48ca57[_0x1a9f('0x8b1')],'texPath':_0x48ca57[_0x1a9f('0x7f5')],'topTexPath':_0x48ca57[_0x1a9f('0x7f4')],'gradientTexPath':_0x48ca57['colorImg'],'emissiveTexPath':_0x48ca57[_0x1a9f('0x7fe')],'emissiveTexScale':_0x48ca57[_0x1a9f('0x8b2')],'emissiveColorStr':_0x48ca57['emissiveColor'],'opacity':_0x48ca57[_0x1a9f('0x1ff')],'isBreathColor':_0x48ca57['colorBreath'],'isBlending':_0x48ca57[_0x1a9f('0x8b3')],'isOpenScan':_0x48ca57[_0x1a9f('0x7fd')],'isShowHorizonScan':_0x48ca57['isShowHorizonScan'],'isShowVerticalScan':_0x48ca57[_0x1a9f('0x570')],'isShowCenterSpread':_0x48ca57[_0x1a9f('0x517')],'isShowRadarScan':_0x48ca57[_0x1a9f('0x518')],'hlColorStr':_0x48ca57[_0x1a9f('0x8b4')],'hlWidth':_0x48ca57[_0x1a9f('0x8b5')],'hlDiffuse':_0x48ca57['horizonScanDiffuse'],'hlExtent':_0x48ca57[_0x1a9f('0x8b6')],'hlSpeed':_0x48ca57[_0x1a9f('0x8b7')],'vlHeight':_0x48ca57[_0x1a9f('0x8b8')],'vlColorStr':_0x48ca57[_0x1a9f('0x8b9')],'vlExtent':_0x48ca57[_0x1a9f('0x8ba')],'vlSpeed':_0x48ca57['verticalScanSpeed'],'csColorStr':_0x48ca57[_0x1a9f('0x8bb')],'csMaxRadius':_0x48ca57[_0x1a9f('0x8bc')],'csSpeed':_0x48ca57[_0x1a9f('0x8bd')],'csCenterPos':_0x48ca57[_0x1a9f('0x8be')],'rdColorStr':_0x48ca57[_0x1a9f('0x8bf')],'radarRadius':_0x48ca57['radarScanRadius'],'radarSpeed':_0x48ca57['radarScanSpeed'],'radarCenterPos':_0x48ca57[_0x1a9f('0x8c0')],'radarTexPath':_0x48ca57[_0x1a9f('0x8c1')],'extentEffectConfig':_0x48ca57[_0x1a9f('0x7f7')],'screenSkyConfig':_0x48ca57['screenSky']};return _0x557edf['centerPos']&&(_0x557edf['centerPos']=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x557edf[_0x1a9f('0x537')]['x'],_0x557edf[_0x1a9f('0x537')]['y'])),_0x557edf[_0x1a9f('0x8c2')]&&_0x557edf[_0x1a9f('0x8c2')][_0x1a9f('0x8c3')]&&(_0x557edf['extentEffectConfig'][_0x1a9f('0x8c3')]=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x557edf[_0x1a9f('0x8c2')][_0x1a9f('0x8c3')]['x'],_0x557edf[_0x1a9f('0x8c2')][_0x1a9f('0x8c3')]['y'])),new _0x1cd138[(_0x1a9f('0xbc'))](_0x557edf);}},{'key':'addBuildingsEffect','value':function(_0x48ca57,_0x3e3836){_0x3e3836['openScan']&&this[_0x1a9f('0x8c4')](_0x3e3836);var _0x561cee=(0x0,_0x290b4a[_0x1a9f('0x498')])(0x0)[_0x1a9f('0x499')](_0x3e3836[_0x1a9f('0x8c5')]||0x1)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')]['MODEL'],esmap[_0x1a9f('0x865')][_0x1a9f('0x8c7')]]),_0x11462d=this['setBuildingsTheme'](_0x3e3836,this[_0x1a9f('0x90')][_0x1a9f('0x447')]);_0x11462d[_0x1a9f('0x2b5')]('canUpdate',function(){var _0x48ca57=!0x0,_0x557edf=!0x1,_0x5555d5=void 0x0;try{for(var _0x3cd3b7,_0x9ec27b=(0x0,_0x145b5b['default'])(_0x561cee);!(_0x48ca57=(_0x3cd3b7=_0x9ec27b[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x48ca57=!0x0){var _0x4264a0=_0x3cd3b7['value'],_0x421d85=!0x0,_0x583dbe=!0x1,_0x57fa63=void 0x0;try{for(var _0x1ed00c,_0x2af7eb=(0x0,_0x145b5b[_0x1a9f('0xa')])(_0x4264a0[_0x1a9f('0x49c')][_0x1a9f('0x32d')]);!(_0x421d85=(_0x1ed00c=_0x2af7eb[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x421d85=!0x0){var _0x297d97,_0x56c1dd=_0x1ed00c[_0x1a9f('0x11')],_0x49c0b7=(0x0,_0x290b4a[_0x1a9f('0x31')])(_0x56c1dd,_0x3e3836[_0x1a9f('0x45')]);if(_0x49c0b7){_0x56c1dd[_0x1a9f('0x48')][_0x49c0b7[_0x1a9f('0x49')][_0x1a9f('0x308')]]=_0x11462d[_0x1a9f('0x672')](),_0x11462d[_0x1a9f('0x3e7')]=_0x56c1dd,_0x1a9f('0x4fb')===_0x3e3836[_0x1a9f('0x2a4')]&&_0x3e3836[_0x1a9f('0x8c8')]&&((_0x297d97=new _0x1cd138[(_0x1a9f('0xab'))]({'colorStr':_0x3e3836[_0x1a9f('0x8c9')],'opacity':_0x3e3836['frameOpacity'],'depthTest':!0x1}))['createLineFrame'](_0x56c1dd,_0x56c1dd['geometry']),_0x56c1dd['position']['y']+=0x1,self['edgeLineFrameList'][_0x1a9f('0x70')](_0x297d97)),(0x0,_0x14afd5['setStandardMaterialParams'])(_0x56c1dd['material'][_0x49c0b7[_0x1a9f('0x49')][_0x1a9f('0x308')]],_0x3e3836);break;}}}catch(_0x5b15cb){_0x583dbe=!0x0,_0x57fa63=_0x5b15cb;}finally{try{!_0x421d85&&_0x2af7eb['return']&&_0x2af7eb[_0x1a9f('0xd0')]();}finally{if(_0x583dbe)throw _0x57fa63;}}}}catch(_0x3be22f){_0x557edf=!0x0,_0x5555d5=_0x3be22f;}finally{try{!_0x48ca57&&_0x9ec27b['return']&&_0x9ec27b[_0x1a9f('0xd0')]();}finally{if(_0x557edf)throw _0x5555d5;}}}),_0x11462d[_0x1a9f('0x45')]=_0x48ca57,_0x11462d[_0x1a9f('0x8ca')]=_0x3e3836,this['buildingsThemes']['push'](_0x11462d);}},{'key':_0x1a9f('0x7fb'),'value':function(_0x48ca57,_0x557edf,_0x5555d5){var _0x48ca57=(0x0,_0x290b4a[_0x1a9f('0x498')])(_0x48ca57)[_0x1a9f('0x499')](_0x5555d5||0x1)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')]['MODEL'],esmap[_0x1a9f('0x865')][_0x1a9f('0x8c7')]]),_0x3cd3b7=!0x0,_0x5555d5=!0x1,_0x9ec27b=void 0x0;try{for(var _0x4264a0,_0x421d85=(0x0,_0x145b5b[_0x1a9f('0xa')])(_0x48ca57);!(_0x3cd3b7=(_0x4264a0=_0x421d85['next']())[_0x1a9f('0xce')]);_0x3cd3b7=!0x0){var _0x583dbe=_0x4264a0[_0x1a9f('0x11')],_0x2dbacf=!0x0,_0x898eec=!0x1,_0xc09fa5=void 0x0;try{for(var _0x56bd56,_0x101dac=(0x0,_0x145b5b[_0x1a9f('0xa')])(_0x583dbe[_0x1a9f('0x49c')][_0x1a9f('0x32d')]);!(_0x2dbacf=(_0x56bd56=_0x101dac[_0x1a9f('0x79')]())['done']);_0x2dbacf=!0x0){var _0x482363=_0x56bd56['value'];if((0x0,_0x290b4a['getMaterialByRoomStyle'])(_0x482363,_0x557edf[_0x1a9f('0x45')])&&0x0<_0x482363[_0x1a9f('0x46')][_0x1a9f('0x66e')]['length']){_0x557edf[_0x1a9f('0x549')](_0x482363);break;}}}catch(_0x529e20){_0x898eec=!0x0,_0xc09fa5=_0x529e20;}finally{try{!_0x2dbacf&&_0x101dac[_0x1a9f('0xd0')]&&_0x101dac['return']();}finally{if(_0x898eec)throw _0xc09fa5;}}}}catch(_0x40d935){_0x5555d5=!0x0,_0x9ec27b=_0x40d935;}finally{try{!_0x3cd3b7&&_0x421d85['return']&&_0x421d85[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x9ec27b;}}}},{'key':_0x1a9f('0x8cb'),'value':function(_0x48ca57){for(var _0x557edf in this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cc')])0x0===this[_0x1a9f('0x834')][_0x1a9f('0xf')]?this['createTileBuildingsEffect'](_0x48ca57,0x0):this[_0x1a9f('0x834')][this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cc')][_0x557edf][_0x1a9f('0x8cd')]]||this[_0x1a9f('0x8ce')](_0x48ca57,this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cc')][_0x557edf][_0x1a9f('0x8cd')]);}},{'key':_0x1a9f('0x8ce'),'value':function(_0x48ca57,_0x557edf){_0x48ca57[_0x1a9f('0x7fd')]&&this[_0x1a9f('0x8c4')](_0x48ca57),_0x48ca57['id']=_0x557edf;var _0x557edf=this[_0x1a9f('0x8ae')](_0x48ca57,this[_0x1a9f('0x90')][_0x1a9f('0x447')],!0x0),_0x5555d5=(_0x557edf['themeList']=this['map'][_0x1a9f('0x43')][_0x1a9f('0x8cc')],_0x557edf[_0x1a9f('0x547')]=this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cf')],_0x557edf[_0x1a9f('0x7ee')]=_0x48ca57['envTexture'],_0x557edf[_0x1a9f('0x546')]=this[_0x1a9f('0x8d0')](),_0x557edf[_0x1a9f('0x672')]());(0x0,_0x14afd5[_0x1a9f('0x2ba')])(_0x5555d5,_0x48ca57),_0x48ca57[_0x1a9f('0x8d1')]&&(_0x557edf[_0x1a9f('0x8d1')]=_0x48ca57[_0x1a9f('0x8d1')]),_0x557edf[_0x1a9f('0x45')]=_0x48ca57[_0x1a9f('0x45')],this[_0x1a9f('0x7dc')]=_0x48ca57[_0x1a9f('0x7dd')],this['tileBuilidngThemes']['push'](_0x557edf);}},{'key':_0x1a9f('0x835'),'value':function(_0x48ca57){if(0x3e8<_0x48ca57['id']){for(var _0x557edf in this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cc')])if(this['map'][_0x1a9f('0x43')]['tileStyles'][_0x557edf][_0x1a9f('0x8cd')]===_0x48ca57['id']){this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8d2')][_0x48ca57['id']]=this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8cc')][_0x557edf]['material'];break;}}else this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8d2')][_0x48ca57['id']]=_0x48ca57['getMaterial']();}},{'key':_0x1a9f('0x837'),'value':function(_0x48ca57,_0x557edf){var _0x5555d5=this,_0x3cd3b7=this[_0x1a9f('0x90')]['getTileById'](_0x48ca57)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')]['MODEL'],esmap['ESLayerType'][_0x1a9f('0x8c7')]]);_0x557edf[_0x1a9f('0x3e8')]?this[_0x1a9f('0x8d3')](_0x3cd3b7,_0x557edf):_0x557edf[_0x1a9f('0x2b5')](_0x1a9f('0x589'),function(){_0x5555d5[_0x1a9f('0x8d3')](_0x3cd3b7,_0x557edf);});}},{'key':_0x1a9f('0x8d3'),'value':function(_0x48ca57,_0x557edf){var _0x5555d5=!0x0,_0x3cd3b7=!0x1,_0x9ec27b=void 0x0;try{for(var _0x4264a0,_0x421d85=(0x0,_0x145b5b['default'])(_0x48ca57);!(_0x5555d5=(_0x4264a0=_0x421d85[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x5555d5=!0x0){var _0x583dbe=_0x4264a0[_0x1a9f('0x11')],_0x71ef2f=!0x0,_0x41693c=!0x1,_0x22534f=void 0x0;try{for(var _0x400143,_0x1dc921=(0x0,_0x145b5b[_0x1a9f('0xa')])(_0x583dbe[_0x1a9f('0x49c')][_0x1a9f('0x32d')]);!(_0x71ef2f=(_0x400143=_0x1dc921['next']())['done']);_0x71ef2f=!0x0){var _0x565f9d=_0x400143['value'];0x0<_0x565f9d[_0x1a9f('0x46')]['brothers'][_0x1a9f('0xf')]&&(_0x557edf[_0x1a9f('0x549')](_0x565f9d),_0x557edf[_0x1a9f('0x8d1')]&&(_0x565f9d[_0x1a9f('0x323')]=_0x557edf[_0x1a9f('0x8d1')]),this[_0x1a9f('0x7dc')]&&(_0x565f9d['castShadow']=!0x0,_0x565f9d[_0x1a9f('0x69d')]=!0x0));}}catch(_0x1f4d17){_0x41693c=!0x0,_0x22534f=_0x1f4d17;}finally{try{!_0x71ef2f&&_0x1dc921['return']&&_0x1dc921[_0x1a9f('0xd0')]();}finally{if(_0x41693c)throw _0x22534f;}}}}catch(_0x44463b){_0x3cd3b7=!0x0,_0x9ec27b=_0x44463b;}finally{try{!_0x5555d5&&_0x421d85[_0x1a9f('0xd0')]&&_0x421d85[_0x1a9f('0xd0')]();}finally{if(_0x3cd3b7)throw _0x9ec27b;}}}},{'key':_0x1a9f('0x8d0'),'value':function(){for(var _0x48ca57={},_0x557edf=0x0,_0x5555d5=this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x8d4')]['Building'],_0x3cd3b7=0x0;_0x3cd3b7<_0x5555d5[_0x1a9f('0xf')];_0x3cd3b7++){var _0x9ec27b,_0x4264a0=_0x5555d5[_0x3cd3b7];0x2==+_0x4264a0[_0x1a9f('0x54a')]&&0x1!=+_0x4264a0[_0x1a9f('0x8d5')]&&(_0x48ca57[_0x557edf]||(_0x48ca57[_0x557edf]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x4264a0[_0x1a9f('0x8d6')]&&!_0x48ca57[_0x557edf][_0x1a9f('0x54d')][_0x4264a0['topimage']]&&(_0x9ec27b=(0x0,_0x421d85[_0x1a9f('0xa')])(_0x48ca57[_0x557edf][_0x1a9f('0x54d')])[_0x1a9f('0xf')]+0x1,_0x48ca57[_0x557edf][_0x1a9f('0x54d')][_0x9ec27b]=_0x4264a0[_0x1a9f('0x8d6')]),_0x4264a0[_0x1a9f('0x8d7')]&&!_0x48ca57[_0x557edf]['sideImgIndexMap'][_0x4264a0[_0x1a9f('0x8d7')]]&&(_0x9ec27b=(0x0,_0x421d85['default'])(_0x48ca57[_0x557edf]['sideImgIndexMap'])[_0x1a9f('0xf')]+0x1,_0x48ca57[_0x557edf][_0x1a9f('0x8d8')][_0x9ec27b]=_0x4264a0['sideimage'],0x4<=_0x9ec27b&&(_0x48ca57[++_0x557edf]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x48ca57;}},{'key':_0x1a9f('0x8c4'),'value':function(_0x48ca57){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b['default'])(_0x48ca57[_0x1a9f('0x8d9')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85=_0x9ec27b[_0x1a9f('0x11')],_0x583dbe=null,_0x581305=!0x0,_0x4ef3a8=!0x1,_0x15341c=void 0x0;try{for(var _0x362dd5,_0x209f5e=(0x0,_0x145b5b['default'])(this['buildingScanConfigs']);!(_0x581305=(_0x362dd5=_0x209f5e['next']())[_0x1a9f('0xce')]);_0x581305=!0x0){var _0x50f31b=_0x362dd5['value'];if(_0x50f31b[_0x1a9f('0xc6')]===_0x421d85){_0x583dbe=_0x50f31b;break;}}}catch(_0xa10db0){_0x4ef3a8=!0x0,_0x15341c=_0xa10db0;}finally{try{!_0x581305&&_0x209f5e['return']&&_0x209f5e[_0x1a9f('0xd0')]();}finally{if(_0x4ef3a8)throw _0x15341c;}}switch(_0x421d85){case _0x1a9f('0x8da'):_0x48ca57[_0x1a9f('0x516')]=!0x0,_0x48ca57[_0x1a9f('0x8af')]=_0x583dbe['lineScanCenter'],_0x48ca57[_0x1a9f('0x8b4')]=_0x583dbe[_0x1a9f('0x8db')],_0x48ca57[_0x1a9f('0x8b5')]=_0x583dbe[_0x1a9f('0x8dc')],_0x48ca57[_0x1a9f('0x8dd')]=_0x583dbe[_0x1a9f('0x8de')],_0x48ca57[_0x1a9f('0x8b6')]=_0x583dbe[_0x1a9f('0x8df')],_0x48ca57[_0x1a9f('0x8b7')]=_0x583dbe[_0x1a9f('0x8e0')],this[_0x1a9f('0x8e1')][_0x1a9f('0x8e2')]=!0x0;break;case'vertical_scan':_0x48ca57[_0x1a9f('0x570')]=!0x0,_0x48ca57[_0x1a9f('0x8b8')]=_0x583dbe['scanHeight'],_0x48ca57['verticalScanColor']=_0x583dbe[_0x1a9f('0x8db')],_0x48ca57[_0x1a9f('0x8ba')]=_0x583dbe[_0x1a9f('0x8df')],_0x48ca57['verticalScanSpeed']=_0x583dbe[_0x1a9f('0x8e0')],this[_0x1a9f('0x8e1')][_0x1a9f('0x8e3')]=!0x0;break;case _0x1a9f('0x870'):_0x48ca57[_0x1a9f('0x517')]=!0x0,_0x48ca57[_0x1a9f('0x8be')]=(0x0,_0x290b4a['coordTransToThree'])(_0x583dbe[_0x1a9f('0x8e4')]['x'],_0x583dbe['scanCenter']['y']),_0x48ca57[_0x1a9f('0x8bb')]=_0x583dbe[_0x1a9f('0x8db')],_0x48ca57[_0x1a9f('0x8bc')]=_0x583dbe[_0x1a9f('0x8e5')],_0x48ca57[_0x1a9f('0x8bd')]=_0x583dbe['scanSpeed'],this['isCanUseScanStatus'][_0x1a9f('0x8e6')]=!0x0;break;case _0x1a9f('0x8e7'):_0x48ca57[_0x1a9f('0x518')]=!0x0,_0x48ca57['radarScanCenterPos']=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x583dbe['scanCenter']['x'],_0x583dbe[_0x1a9f('0x8e4')]['y']),_0x48ca57[_0x1a9f('0x8e8')]=_0x583dbe[_0x1a9f('0x8e9')],_0x48ca57[_0x1a9f('0x8bf')]=_0x583dbe[_0x1a9f('0x8db')],_0x48ca57[_0x1a9f('0x8c1')]=(0x0,_0x290b4a[_0x1a9f('0x2f')])(_0x583dbe[_0x1a9f('0x8ea')]),this['isCanUseScanStatus'][_0x1a9f('0x8eb')]=!0x0;}}}catch(_0x1381fc){_0x5555d5=!0x0,_0x3cd3b7=_0x1381fc;}finally{try{!_0x557edf&&_0x4264a0['return']&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}},{'key':_0x1a9f('0x869'),'value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]&&_0x48ca57){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0)_0x9ec27b[_0x1a9f('0x11')][_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x52c')][_0x1a9f('0x11')][_0x1a9f('0x30c')](_0x48ca57);}catch(_0x5822b3){_0x5555d5=!0x0,_0x3cd3b7=_0x5822b3;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x875'),'value':function(_0x48ca57){if(0x0<this['tileBuilidngThemes']['length']){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0)_0x9ec27b[_0x1a9f('0x11')][_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x56b')]['value']=_0x48ca57;}catch(_0x406ad4){_0x5555d5=!0x0,_0x3cd3b7=_0x406ad4;}finally{try{!_0x557edf&&_0x4264a0['return']&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x86f'),'value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]&&this[_0x1a9f('0x8e1')]['horizonScan']){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85,_0x583dbe=_0x9ec27b[_0x1a9f('0x11')];_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x8ec')][_0x1a9f('0x11')]=!0x0,_0x48ca57['scanExtent']&&(_0x583dbe[_0x1a9f('0x51c')]=_0x48ca57[_0x1a9f('0x8df')],_0x583dbe[_0x1a9f('0x534')]=_0x583dbe[_0x1a9f('0x51c')][0x0],_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')]['hlTime'][_0x1a9f('0x11')]=_0x583dbe[_0x1a9f('0x51c')][0x0]),_0x48ca57['scanSpeed']&&(_0x583dbe[_0x1a9f('0x51d')]=_0x48ca57[_0x1a9f('0x8e0')]),_0x48ca57[_0x1a9f('0x8db')]&&_0x583dbe[_0x1a9f('0x539')]['setStyle'](_0x48ca57[_0x1a9f('0x8db')]),_0x48ca57[_0x1a9f('0x8dc')]&&(_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x51a')][_0x1a9f('0x11')]=_0x48ca57[_0x1a9f('0x8dc')]),_0x48ca57['lineScanCenter']&&(_0x421d85=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x48ca57[_0x1a9f('0x8af')]['x'],_0x48ca57[_0x1a9f('0x8af')]['y']),_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x537')][_0x1a9f('0x11')][_0x1a9f('0x1d')](_0x421d85['x'],_0x421d85['y']));}}catch(_0x35bf4a){_0x5555d5=!0x0,_0x3cd3b7=_0x35bf4a;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x8ed'),'value':function(_0x48ca57){if(0x0<this['tileBuilidngThemes'][_0x1a9f('0xf')]&&this['isCanUseScanStatus']['centerSpread']){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())['done']);_0x557edf=!0x0){var _0x421d85,_0x583dbe=_0x9ec27b[_0x1a9f('0x11')];_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x536')][_0x1a9f('0x11')]=0x0,_0x583dbe[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x8ec')][_0x1a9f('0x11')]=!0x0,_0x48ca57[_0x1a9f('0x8e0')]&&(_0x583dbe[_0x1a9f('0x523')]=_0x48ca57[_0x1a9f('0x8e0')]),_0x48ca57[_0x1a9f('0x8db')]&&_0x583dbe[_0x1a9f('0x8ee')]['setStyle'](_0x48ca57[_0x1a9f('0x8db')]),_0x48ca57['maxRadius']&&(_0x583dbe['csMaxRadius']=_0x48ca57[_0x1a9f('0x8e5')]),_0x48ca57[_0x1a9f('0x415')]&&(_0x583dbe[_0x1a9f('0x3e8')]['uniforms'][_0x1a9f('0x53c')][_0x1a9f('0x11')]=0x3e8*_0x48ca57[_0x1a9f('0x415')]),_0x48ca57['scanCenter']&&(_0x421d85=(0x0,_0x290b4a['coordTransToThree'])(_0x48ca57[_0x1a9f('0x8e4')]['x'],_0x48ca57['scanCenter']['y']),_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x53d')][_0x1a9f('0x11')][_0x1a9f('0x1d')](_0x421d85['x'],_0x421d85['y'])),_0x583dbe[_0x1a9f('0x536')]=0x0;}}catch(_0x24dfcf){_0x5555d5=!0x0,_0x3cd3b7=_0x24dfcf;}finally{try{!_0x557edf&&_0x4264a0['return']&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x871'),'value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x834')]['length']&&this[_0x1a9f('0x8e1')][_0x1a9f('0x8eb')]){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85,_0x583dbe=_0x9ec27b['value'];_0x583dbe['shader']['uniforms']['rdTime'][_0x1a9f('0x11')]=0x0,_0x583dbe['shader'][_0x1a9f('0x16a')][_0x1a9f('0x8ec')][_0x1a9f('0x11')]=!0x0,_0x48ca57[_0x1a9f('0x8e0')]&&(_0x583dbe[_0x1a9f('0x525')]=_0x48ca57[_0x1a9f('0x8e0')]),_0x48ca57[_0x1a9f('0x8db')]&&_0x583dbe['radarColor'][_0x1a9f('0x30c')](_0x48ca57[_0x1a9f('0x8db')]),_0x48ca57[_0x1a9f('0x8e9')]&&(_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x572')][_0x1a9f('0x11')]=_0x48ca57[_0x1a9f('0x8e9')]),_0x48ca57['scanCenter']&&(_0x421d85=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x48ca57[_0x1a9f('0x8e4')]['x'],_0x48ca57['scanCenter']['y']),_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x571')]['value'][_0x1a9f('0x1d')](_0x421d85['x'],_0x421d85['y'])),_0x583dbe['rdTime']=0x0;}}catch(_0x440ef6){_0x5555d5=!0x0,_0x3cd3b7=_0x440ef6;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x872'),'value':function(_0x48ca57,_0x557edf){if(_0x1a9f('0x8da')===_0x48ca57&&0x0<this[_0x1a9f('0x834')]['length']&&this[_0x1a9f('0x8e1')]['horizonScan']){var _0x5555d5=!0x0,_0x3cd3b7=!0x1,_0x9ec27b=void 0x0;try{for(var _0x4264a0,_0x421d85=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0x5555d5=(_0x4264a0=_0x421d85['next']())[_0x1a9f('0xce')]);_0x5555d5=!0x0){var _0x583dbe=_0x4264a0[_0x1a9f('0x11')];_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x534')][_0x1a9f('0x11')]=0x0,_0x583dbe[_0x1a9f('0x534')]=0x0,_0x583dbe[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x8ec')]['value']=_0x557edf;}}catch(_0x378808){_0x3cd3b7=!0x0,_0x9ec27b=_0x378808;}finally{try{!_0x5555d5&&_0x421d85['return']&&_0x421d85['return']();}finally{if(_0x3cd3b7)throw _0x9ec27b;}}}if('center_spread'===_0x48ca57&&0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]&&this['isCanUseScanStatus']['centerSpread']){var _0xaa044b=!0x0,_0x3cd3b7=!0x1,_0x9ec27b=void 0x0;try{for(var _0x71e892,_0x456c7c=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0xaa044b=(_0x71e892=_0x456c7c[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0xaa044b=!0x0){var _0x6d122b=_0x71e892[_0x1a9f('0x11')];_0x6d122b[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x536')]['value']=0x0,_0x6d122b[_0x1a9f('0x536')]=0x0,_0x6d122b[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x8ec')][_0x1a9f('0x11')]=_0x557edf;}}catch(_0x4ef4b7){_0x3cd3b7=!0x0,_0x9ec27b=_0x4ef4b7;}finally{try{!_0xaa044b&&_0x456c7c[_0x1a9f('0xd0')]&&_0x456c7c[_0x1a9f('0xd0')]();}finally{if(_0x3cd3b7)throw _0x9ec27b;}}}if(_0x1a9f('0x8e7')===_0x48ca57&&0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]&&this[_0x1a9f('0x8e1')]['radarScan']){var _0x63a3b6=!0x0,_0x3cd3b7=!0x1,_0x9ec27b=void 0x0;try{for(var _0x21e1e7,_0x571c0d=(0x0,_0x145b5b[_0x1a9f('0xa')])(this['tileBuilidngThemes']);!(_0x63a3b6=(_0x21e1e7=_0x571c0d['next']())[_0x1a9f('0xce')]);_0x63a3b6=!0x0){var _0x494922=_0x21e1e7[_0x1a9f('0x11')];_0x494922[_0x1a9f('0x3e8')][_0x1a9f('0x16a')][_0x1a9f('0x573')][_0x1a9f('0x11')]=0x0,_0x494922[_0x1a9f('0x573')]=0x0,_0x494922['shader'][_0x1a9f('0x16a')]['isShowScan'][_0x1a9f('0x11')]=_0x557edf;}}catch(_0x14fd95){_0x3cd3b7=!0x0,_0x9ec27b=_0x14fd95;}finally{try{!_0x63a3b6&&_0x571c0d[_0x1a9f('0xd0')]&&_0x571c0d[_0x1a9f('0xd0')]();}finally{if(_0x3cd3b7)throw _0x9ec27b;}}}}},{'key':_0x1a9f('0x873'),'value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85,_0x583dbe=_0x9ec27b[_0x1a9f('0x11')];_0x583dbe['isUseExtentEffect']&&(_0x48ca57['openLight']?(_0x421d85=(0x0,_0x290b4a[_0x1a9f('0x36')])(_0x48ca57[_0x1a9f('0x8c3')]['x'],_0x48ca57[_0x1a9f('0x8c3')]['y']),_0x583dbe['shader'][_0x1a9f('0x16a')][_0x1a9f('0x542')][_0x1a9f('0x11')][_0x1a9f('0x1d')](_0x421d85['x'],_0x421d85['y']),_0x583dbe[_0x1a9f('0x58e')](0x0,_0x48ca57[_0x1a9f('0x21c')])):_0x583dbe['toggleExtentLight'](_0x48ca57[_0x1a9f('0x21c')],0x0));}}catch(_0x227762){_0x5555d5=!0x0,_0x3cd3b7=_0x227762;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x874'),'value':function(_0x48ca57){if(0x0<this['tileBuilidngThemes']['length']){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85=_0x9ec27b['value'];_0x48ca57?_0x421d85[_0x1a9f('0x58c')](_0x421d85[_0x1a9f('0x58d')],0x1):_0x421d85['toggleColorLight'](_0x421d85['lightIntensity'],0.1);}}catch(_0x32a1c9){_0x5555d5=!0x0,_0x3cd3b7=_0x32a1c9;}finally{try{!_0x557edf&&_0x4264a0['return']&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':'setTileBuildingsEnvTexture','value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x834')]['length']){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x557edf=(_0x9ec27b=_0x4264a0[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85=_0x9ec27b[_0x1a9f('0x11')];_0x421d85[_0x1a9f('0x7ee')]&&(_0x421d85['material'][_0x1a9f('0x45c')]=_0x48ca57,_0x421d85[_0x1a9f('0x48')][_0x1a9f('0x2c3')]=_0x421d85['envTexture'][_0x1a9f('0x454')]||0x1,_0x421d85[_0x1a9f('0x48')][_0x1a9f('0x101')]=!0x0);}}catch(_0x1f0e6b){_0x5555d5=!0x0,_0x3cd3b7=_0x1f0e6b;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}},{'key':_0x1a9f('0x2e4'),'value':function(_0x48ca57){}},{'key':_0x1a9f('0x8f'),'value':function(_0x48ca57){for(var _0x557edf=-0x1,_0x5555d5=0x0,_0x3cd3b7=this[_0x1a9f('0x7fa')]['length'];_0x5555d5<_0x3cd3b7;_0x5555d5++)if(this['buildingsThemes'][_0x5555d5][_0x1a9f('0x45')]===_0x48ca57){this['buildingsThemes'][_0x5555d5][_0x1a9f('0x8f')](),_0x557edf=_0x5555d5;break;}-0x1<_0x557edf&&this[_0x1a9f('0x7fa')][_0x1a9f('0xc5')](_0x557edf,0x1);}},{'key':_0x1a9f('0x33c'),'value':function(){for(var _0x48ca57=0x0,_0x557edf=this[_0x1a9f('0x7fa')][_0x1a9f('0xf')];_0x48ca57<_0x557edf;_0x48ca57++)this['buildingsThemes'][_0x48ca57][_0x1a9f('0x8f')](),this[_0x1a9f('0x7fa')][_0x48ca57]=null;for(var _0x5555d5=0x0,_0x3cd3b7=this['edgeLineFrameList'][_0x1a9f('0xf')];_0x5555d5<_0x3cd3b7;_0x5555d5++)this[_0x1a9f('0x8ad')][_0x5555d5][_0x1a9f('0x8f')](),this[_0x1a9f('0x8ad')][_0x5555d5]=null;this[_0x1a9f('0x7fa')]['length']=0x0,this[_0x1a9f('0x8ad')][_0x1a9f('0xf')]=0x0;}},{'key':_0x1a9f('0x340'),'value':function(_0x48ca57){if(0x0<this[_0x1a9f('0x7fa')][_0x1a9f('0xf')]){var _0x557edf=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x9ec27b,_0x4264a0=(0x0,_0x145b5b['default'])(this['buildingsThemes']);!(_0x557edf=(_0x9ec27b=_0x4264a0['next']())[_0x1a9f('0xce')]);_0x557edf=!0x0){var _0x421d85=_0x9ec27b['value'];(0x0,_0x290b4a[_0x1a9f('0x2e')])(_0x421d85[_0x1a9f('0x3e8')]),_0x421d85[_0x1a9f('0x340')](_0x48ca57);}}catch(_0x52ed23){_0x5555d5=!0x0,_0x3cd3b7=_0x52ed23;}finally{try{!_0x557edf&&_0x4264a0[_0x1a9f('0xd0')]&&_0x4264a0['return']();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}if(0x0<this[_0x1a9f('0x834')][_0x1a9f('0xf')]){var _0x583dbe=!0x0,_0x5555d5=!0x1,_0x3cd3b7=void 0x0;try{for(var _0x3f4b64,_0x4c939a=(0x0,_0x145b5b[_0x1a9f('0xa')])(this[_0x1a9f('0x834')]);!(_0x583dbe=(_0x3f4b64=_0x4c939a[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x583dbe=!0x0){var _0x5778d5=_0x3f4b64[_0x1a9f('0x11')];(0x0,_0x290b4a[_0x1a9f('0x2e')])(_0x5778d5[_0x1a9f('0x3e8')]),_0x5778d5['render'](_0x48ca57);}}catch(_0x1d7d8a){_0x5555d5=!0x0,_0x3cd3b7=_0x1d7d8a;}finally{try{!_0x583dbe&&_0x4c939a[_0x1a9f('0xd0')]&&_0x4c939a[_0x1a9f('0xd0')]();}finally{if(_0x5555d5)throw _0x3cd3b7;}}}}}]),_0x557edf[_0x1a9f('0xa')]=_0x583dbe;},function(_0x505da3,_0x2387aa,_0x1cc294){'use strict';Object[_0x1a9f('0x3')](_0x2387aa,_0x1a9f('0x5'),{'value':!0x0});var _0x1f6bc0=_0x130c9e(_0x1cc294(0x6)),_0x310091=_0x130c9e(_0x1cc294(0x0)),_0x2f1f40=_0x130c9e(_0x1cc294(0x1)),_0x20e41b=_0x1cc294(0x1a),_0x1e02c9=function(_0x505da3){if(_0x505da3&&_0x505da3[_0x1a9f('0x5')])return _0x505da3;var _0x2387aa={};if(null!=_0x505da3)for(var _0x1cc294 in _0x505da3)Object[_0x1a9f('0xb')][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x505da3,_0x1cc294)&&(_0x2387aa[_0x1cc294]=_0x505da3[_0x1cc294]);return _0x2387aa['default']=_0x505da3,_0x2387aa;}(_0x1cc294(0x40)),_0xbd30cb=_0x1cc294(0x72);function _0x130c9e(_0x505da3){return _0x505da3&&_0x505da3['__esModule']?_0x505da3:{'default':_0x505da3};}function _0x487771(){(0x0,_0x310091[_0x1a9f('0xa')])(this,_0x487771),this[_0x1a9f('0x90')]=(0x0,_0x20e41b['getMapInstance'])(),this[_0x1a9f('0x8ef')]=[],this[_0x1a9f('0x8f0')]=[],this[_0x1a9f('0x8f1')]=null,this[_0x1a9f('0x876')]={};}(0x0,_0x2f1f40[_0x1a9f('0xa')])(_0x487771,[{'key':_0x1a9f('0x8f2'),'value':function(_0x505da3){var _0x197f31=this,_0x2387aa=!0x0,_0x1cc294=!0x1,_0x310091=void 0x0;try{for(var _0x2f1f40,_0x130c9e=(0x0,_0x1f6bc0[_0x1a9f('0xa')])(_0x505da3);!(_0x2387aa=(_0x2f1f40=_0x130c9e[_0x1a9f('0x79')]())['done']);_0x2387aa=!0x0){var _0x5a5ee1=_0x2f1f40[_0x1a9f('0x11')],_0x487771=(0x0,_0x20e41b[_0x1a9f('0x498')])(0x0)[_0x1a9f('0x499')](_0x5a5ee1[_0x1a9f('0x8c5')]||0x1);if(_0x487771){var _0x4fd279,_0x1f1233,_0x1a7892,_0x1eaec7,_0x4a15fe,_0x2d4419,_0x49c6c4,_0x4d9185,_0x1c92fc,_0x52e38d,_0x5201ca,_0x831b88,_0x353023=_0x487771['getLayersByTypes']([esmap[_0x1a9f('0x865')][_0x1a9f('0x8f3')]]);if(_0x1a9f('0x685')===_0x5a5ee1[_0x1a9f('0x8f4')]&&(_0x4fd279=_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0]['material'][0x0],_0x1f1233=new THREE[(_0x1a9f('0x562'))]({'color':_0x4fd279[_0x1a9f('0x21e')]}),(0x0,_0xbd30cb[_0x1a9f('0x2ba')])(_0x1f1233,_0x5a5ee1),_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0]['material'][0x0]=_0x1f1233,this[_0x1a9f('0x8ef')]['push'](_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0])),'points_spread'===_0x5a5ee1[_0x1a9f('0x8f4')]&&_0x5a5ee1[_0x1a9f('0x8f5')]){var _0x433a3c=_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0];if(Array[_0x1a9f('0xd6')](_0x433a3c['material'])){var _0x51b54f=!0x0,_0x3119d7=!0x1,_0x4bbfaf=void 0x0;try{for(var _0x298ce5,_0x43217e=(0x0,_0x1f6bc0[_0x1a9f('0xa')])(_0x433a3c[_0x1a9f('0x48')]);!(_0x51b54f=(_0x298ce5=_0x43217e['next']())[_0x1a9f('0xce')]);_0x51b54f=!0x0)_0x298ce5[_0x1a9f('0x11')][_0x1a9f('0x8f')]();}catch(_0x573b42){_0x3119d7=!0x0,_0x4bbfaf=_0x573b42;}finally{try{!_0x51b54f&&_0x43217e[_0x1a9f('0xd0')]&&_0x43217e[_0x1a9f('0xd0')]();}finally{if(_0x3119d7)throw _0x4bbfaf;}}}else _0x433a3c[_0x1a9f('0x48')][_0x1a9f('0x8f')]();_0x433a3c['geometry'][_0x1a9f('0x8f')]();var _0x11ba65=new THREE['TextureLoader']()['load']((0x0,_0x20e41b[_0x1a9f('0x2f')])(_0x5a5ee1[_0x1a9f('0x8f5')]['repeatImg'])),_0x9e3426=(_0x11ba65[_0x1a9f('0x4b0')]=this['map'][_0x1a9f('0x447')][_0x1a9f('0x4b1')]['capabilities'][_0x1a9f('0x4b3')](),new _0x1e02c9[(_0x1a9f('0x9f'))]({'speed':_0x5a5ee1['effectConfigs'][_0x1a9f('0x341')]})),_0x324db9=(_0x433a3c[_0x1a9f('0x91')]=new THREE[(_0x1a9f('0x3f0'))](_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x21c')],_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x21c')]),_0x433a3c[_0x1a9f('0x48')]=_0x9e3426[_0x1a9f('0x309')]({'texture':_0x11ba65,'repeat':_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x302')],'colorStr':_0x5a5ee1[_0x1a9f('0x8f5')]['color']}),_0x433a3c[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],_0x5a5ee1['offsetHeight']?_0x433a3c[_0x1a9f('0x42')]['y']+ +_0x5a5ee1[_0x1a9f('0x4b9')]:_0x433a3c[_0x1a9f('0x42')]['y']);_0x433a3c['position']['y']=_0x324db9,_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x8c3')]&&(0x0,_0x20e41b[_0x1a9f('0x34')])(_0x433a3c,_0x5a5ee1[_0x1a9f('0x8f5')]['center'],_0x324db9),this[_0x1a9f('0x8f0')]['push'](_0x9e3426);}_0x5a5ee1[_0x1a9f('0x21e')]&&_0x353023[0x0]['o3d_'][_0x1a9f('0x32d')][0x0][_0x1a9f('0x48')][0x0][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x5a5ee1[_0x1a9f('0x21e')]),_0x5a5ee1[_0x1a9f('0x8f6')]&&(_0x1a7892=_0x353023[0x0][_0x1a9f('0x49c')]['children'][0x0][_0x1a9f('0x48')][0x0],(_0x1eaec7=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x20e41b['getConfigAssetsPath'])(_0x5a5ee1['alphaTransitionImg'])))[_0x1a9f('0x349')]=THREE[_0x1a9f('0x552')],_0x1eaec7[_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x552')],_0x4a15fe=_0x5a5ee1[_0x1a9f('0x8f7')]||0x2710,_0x2d4419=new THREE[(_0x1a9f('0x3f0'))](_0x4a15fe,_0x4a15fe),_0x1a7892[_0x1a9f('0x1d0')]=!0x0,_0x1a7892[_0x1a9f('0x384')]=_0x1eaec7,_0x1a7892[_0x1a9f('0x101')]=!0x0,(_0x49c6c4=new THREE[(_0x1a9f('0x332'))](_0x2d4419,_0x1a7892))[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],_0x49c6c4['position']['y']=_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0][_0x1a9f('0x42')]['y']-0.5,_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x49c6c4)),_0x1a9f('0x8f8')===_0x5a5ee1[_0x1a9f('0x8f4')]&&_0x5a5ee1[_0x1a9f('0x8f5')]&&function(){var _0x505da3=null;if(_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x8f9')])(_0x505da3=0x0===_0x353023['length']?new THREE[(_0x1a9f('0x332'))](new THREE['PlaneBufferGeometry'](0x1,0x1),new THREE[(_0x1a9f('0x3e9'))]()):_0x353023[0x0]['o3d_'][_0x1a9f('0x32d')][0x0][_0x1a9f('0x1af')]())[_0x1a9f('0x427')]=_0x5a5ee1['effectConfigs'][_0x1a9f('0x8fa')],_0x197f31[_0x1a9f('0x876')][_0x5a5ee1['effectConfigs']['controlId']]=_0x505da3;else{if(_0x505da3=_0x353023[0x0][_0x1a9f('0x49c')][_0x1a9f('0x32d')][0x0],Array['isArray'](_0x505da3[_0x1a9f('0x48')])){var _0x2387aa=!0x0,_0x1cc294=!0x1,_0x310091=void 0x0;try{for(var _0x2f1f40,_0x130c9e=(0x0,_0x1f6bc0[_0x1a9f('0xa')])(_0x505da3['material']);!(_0x2387aa=(_0x2f1f40=_0x130c9e[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2387aa=!0x0)_0x2f1f40[_0x1a9f('0x11')][_0x1a9f('0x8f')]();}catch(_0x8d8cc7){_0x1cc294=!0x0,_0x310091=_0x8d8cc7;}finally{try{!_0x2387aa&&_0x130c9e[_0x1a9f('0xd0')]&&_0x130c9e[_0x1a9f('0xd0')]();}finally{if(_0x1cc294)throw _0x310091;}}}else _0x505da3[_0x1a9f('0x48')][_0x1a9f('0x8f')]();_0x505da3[_0x1a9f('0x91')][_0x1a9f('0x8f')]();}var _0x1cc294=null,_0x310091=(_0x5a5ee1['effectConfigs']['repeatImg']&&((_0x1cc294=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x20e41b[_0x1a9f('0x2f')])(_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x809')])))['wrapT']=THREE[_0x1a9f('0x34a')],_0x1cc294[_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x5a5ee1['effectConfigs']['anisotropy']&&(_0x1cc294[_0x1a9f('0x4b0')]=_0x197f31[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')]())),null),_0x487771=(_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x8fb')]&&((_0x310091=new THREE[(_0x1a9f('0xc8'))]()['load']((0x0,_0x20e41b[_0x1a9f('0x2f')])(_0x5a5ee1[_0x1a9f('0x8f5')]['scanRepeatImg'])))[_0x1a9f('0x349')]=THREE[_0x1a9f('0x34a')],_0x310091[_0x1a9f('0x3f8')]=THREE[_0x1a9f('0x34a')],_0x5a5ee1['effectConfigs']['anisotropy']&&(_0x310091[_0x1a9f('0x4b0')]=_0x197f31[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer'][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')]())),new _0x1e02c9['ClearSkyGround']({'colorStr':_0x5a5ee1['effectConfigs']['color'],'radius':_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x21c')],'repeat':_0x5a5ee1[_0x1a9f('0x8f5')]['repeat'],'transFactor':_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x456')],'materialType':_0x5a5ee1[_0x1a9f('0x8f5')]['materialType']})),_0x487771=(_0x197f31[_0x1a9f('0x8f0')][_0x1a9f('0x70')](_0x487771),_0x487771['createGround'](_0x1cc294,_0x310091)),_0x1cc294=_0x487771[_0x1a9f('0x91')],_0x4fd279=_0x487771['material'],_0x310091=(_0x505da3[_0x1a9f('0x91')]=_0x1cc294,_0x505da3[_0x1a9f('0x48')]=_0x4fd279,_0x505da3[_0x1a9f('0x1eb')]['x']=0.5*-Math['PI'],_0x505da3[_0x1a9f('0x427')]=_0x1a9f('0x8fc'),(0x0,_0xbd30cb[_0x1a9f('0x2ba')])(_0x4fd279,_0x5a5ee1[_0x1a9f('0x8f5')]),_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x1ff')]&&(_0x505da3[_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,_0x505da3[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x5a5ee1[_0x1a9f('0x8f5')]['opacity']),_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x69d')]&&(_0x505da3[_0x1a9f('0x69d')]=!0x0),_0x5a5ee1[_0x1a9f('0x4b9')]?_0x505da3['position']['y']+ +_0x5a5ee1[_0x1a9f('0x4b9')]:_0x505da3[_0x1a9f('0x42')]['y']);_0x505da3[_0x1a9f('0x42')]['y']=_0x310091,_0x5a5ee1[_0x1a9f('0x657')]&&(_0x505da3[_0x1a9f('0x42')]['x']=_0x5a5ee1[_0x1a9f('0x657')]['x'],_0x505da3[_0x1a9f('0x42')]['z']=_0x5a5ee1[_0x1a9f('0x657')]['y']),_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x21c')]&&_0x197f31[_0x1a9f('0x90')][_0x1a9f('0x447')]['camera'][_0x1a9f('0x386')]<=_0x5a5ee1['effectConfigs'][_0x1a9f('0x21c')]&&(_0x197f31[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x314')][_0x1a9f('0x386')]=_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x21c')]+0x3e8,_0x197f31['map'][_0x1a9f('0x447')][_0x1a9f('0x314')][_0x1a9f('0x641')]()),_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x8f9')]&&(_0x197f31[_0x1a9f('0x8f1')]||(_0x197f31[_0x1a9f('0x8f1')]=new THREE[(_0x1a9f('0x346'))](),_0x197f31[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x1c0')](_0x197f31[_0x1a9f('0x8f1')])),void 0x0!==_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x342')]&&(_0x505da3[_0x1a9f('0x342')]=_0x5a5ee1[_0x1a9f('0x8f5')][_0x1a9f('0x342')]),_0x197f31[_0x1a9f('0x8f1')][_0x1a9f('0x1c0')](_0x505da3)),_0x197f31[_0x1a9f('0x90')]['on'](_0x1a9f('0x4e9'),function(_0x505da3){_0x4fd279[_0x1a9f('0x342')]='2D'!==_0x505da3;});}(),_0x1a9f('0x8fd')===_0x5a5ee1[_0x1a9f('0x8f4')]&&_0x5a5ee1[_0x1a9f('0x8f5')]&&((_0x4d9185=_0x353023[0x0][_0x1a9f('0x49c')]['children'][0x0])['visible']=!0x1,_0x1c92fc=new _0x1e02c9[(_0x1a9f('0x8fe'))]({'texWidth':window['innerWidth'],'texHeight':window['innerHeight']}),_0x52e38d=new THREE[(_0x1a9f('0x3f0'))](0x3e8,0x3e8),_0x5201ca=_0x1c92fc[_0x1a9f('0x7')](_0x52e38d),_0x831b88=_0x5a5ee1[_0x1a9f('0x4b9')]?_0x4d9185[_0x1a9f('0x42')]['y']+ +_0x5a5ee1[_0x1a9f('0x4b9')]:_0x4d9185[_0x1a9f('0x42')]['y'],_0x5201ca[_0x1a9f('0x42')]['y']=_0x831b88,_0x5201ca[_0x1a9f('0x421')](-Math['PI']/0x2),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x5201ca)),!0x1===_0x5a5ee1[_0x1a9f('0x342')]&&(_0x353023[0x0]['o3d_']['children'][0x0]['visible']=!0x1);}}}catch(_0x539dcf){_0x1cc294=!0x0,_0x310091=_0x539dcf;}finally{try{!_0x2387aa&&_0x130c9e[_0x1a9f('0xd0')]&&_0x130c9e[_0x1a9f('0xd0')]();}finally{if(_0x1cc294)throw _0x310091;}}}},{'key':_0x1a9f('0x33d'),'value':function(_0x2387aa,_0x505da3){var _0x1cc294=this;new TWEEN[(_0x1a9f('0x2e0'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x505da3)[_0x1a9f('0x2e3')](function(_0x505da3){_0x1cc294['controlFloors'][_0x2387aa][_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x505da3['x'];})[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')]['In'])['start']();}},{'key':_0x1a9f('0x8f'),'value':function(){for(var _0x505da3=0x0,_0x2387aa=this[_0x1a9f('0x8ef')][_0x1a9f('0xf')];_0x505da3<_0x2387aa;_0x505da3++)this[_0x1a9f('0x8ef')][_0x505da3]['material'][0x0][_0x1a9f('0x8f')](),this[_0x1a9f('0x8ef')][_0x505da3][_0x1a9f('0x48')][0x0]=null;for(var _0x1cc294=this[_0x1a9f('0x8ef')]['length']=0x0,_0x310091=this[_0x1a9f('0x8f0')]['length'];_0x1cc294<_0x310091;_0x1cc294++)this['floorEffects'][_0x1cc294][_0x1a9f('0x8f')](),this[_0x1a9f('0x8f0')][_0x1cc294]=null;this[_0x1a9f('0x8f0')][_0x1a9f('0xf')]=0x0,this['controlFloorLayer']&&(this['controlFloorLayer'][_0x1a9f('0x8f')](),this['controlFloorLayer']=null);}},{'key':_0x1a9f('0x340'),'value':function(_0x505da3){if(0x0<this[_0x1a9f('0x8f0')][_0x1a9f('0xf')]){var _0x2387aa=!0x0,_0x1cc294=!0x1,_0x310091=void 0x0;try{for(var _0x2f1f40,_0x130c9e=(0x0,_0x1f6bc0[_0x1a9f('0xa')])(this[_0x1a9f('0x8f0')]);!(_0x2387aa=(_0x2f1f40=_0x130c9e[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2387aa=!0x0)_0x2f1f40['value'][_0x1a9f('0x340')](_0x505da3);}catch(_0x3edb9a){_0x1cc294=!0x0,_0x310091=_0x3edb9a;}finally{try{!_0x2387aa&&_0x130c9e[_0x1a9f('0xd0')]&&_0x130c9e[_0x1a9f('0xd0')]();}finally{if(_0x1cc294)throw _0x310091;}}}}}]),_0x2387aa[_0x1a9f('0xa')]=_0x487771;},function(_0x219441,_0x1f1924,_0x473dd4){'use strict';Object[_0x1a9f('0x3')](_0x1f1924,'__esModule',{'value':!0x0});var _0x1b53ce=_0x2357c1(_0x473dd4(0x6)),_0x33bfa7=_0x2357c1(_0x473dd4(0x0)),_0x373086=_0x2357c1(_0x473dd4(0x1)),_0x47868d=_0x473dd4(0x1a),_0x3cc070=function(_0x219441){if(_0x219441&&_0x219441[_0x1a9f('0x5')])return _0x219441;var _0x1f1924={};if(null!=_0x219441)for(var _0x473dd4 in _0x219441)Object['prototype'][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x219441,_0x473dd4)&&(_0x1f1924[_0x473dd4]=_0x219441[_0x473dd4]);return _0x1f1924[_0x1a9f('0xa')]=_0x219441,_0x1f1924;}(_0x473dd4(0x40)),_0x41d5f2=_0x473dd4(0x72);function _0x2357c1(_0x219441){return _0x219441&&_0x219441['__esModule']?_0x219441:{'default':_0x219441};}function _0x3e913b(){(0x0,_0x33bfa7[_0x1a9f('0xa')])(this,_0x3e913b),this[_0x1a9f('0x90')]=(0x0,_0x47868d[_0x1a9f('0x33')])(),this[_0x1a9f('0x8ff')]=[],this['edgeLineFrameList']=[],this[_0x1a9f('0x900')]=[];}(0x0,_0x373086[_0x1a9f('0xa')])(_0x3e913b,[{'key':_0x1a9f('0x89d'),'value':function(_0x297c0c){var _0x51faa3,_0x2e6749=(0x0,_0x47868d[_0x1a9f('0x498')])(0x0)[_0x1a9f('0x499')](0x1)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')]['MODEL'],esmap[_0x1a9f('0x865')][_0x1a9f('0x8c7')],esmap['ESLayerType'][_0x1a9f('0x8f3')]]);if(_0x297c0c[_0x1a9f('0x809')]&&((_0x51faa3=new _0x3cc070['GroundTexture']({'view':this[_0x1a9f('0x90')]['mapView'],'type':_0x297c0c[_0x1a9f('0x901')],'texPath':_0x297c0c[_0x1a9f('0x809')],'texScale':_0x297c0c[_0x1a9f('0x902')],'texRepeat':_0x297c0c[_0x1a9f('0x902')]?{'x':_0x297c0c[_0x1a9f('0x902')],'y':_0x297c0c['repeatScaleFactor']}:null}))['addEventListener'](_0x1a9f('0x44c'),function(){var _0x219441=!0x0,_0x1f1924=!0x1,_0x473dd4=void 0x0;try{for(var _0x33bfa7,_0x373086=(0x0,_0x1b53ce[_0x1a9f('0xa')])(_0x2e6749);!(_0x219441=(_0x33bfa7=_0x373086['next']())[_0x1a9f('0xce')]);_0x219441=!0x0){var _0x2357c1=_0x33bfa7[_0x1a9f('0x11')],_0x3e913b=!0x0,_0x180633=!0x1,_0x11f66a=void 0x0;try{for(var _0x1eedb1,_0x11ee4a=(0x0,_0x1b53ce[_0x1a9f('0xa')])(_0x2357c1['o3d_'][_0x1a9f('0x32d')]);!(_0x3e913b=(_0x1eedb1=_0x11ee4a[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3e913b=!0x0){var _0x59b1e2=_0x1eedb1[_0x1a9f('0x11')],_0x4ebe2c=(0x0,_0x47868d['getMaterialByRoomStyle'])(_0x59b1e2,_0x297c0c[_0x1a9f('0x45')]);if(_0x4ebe2c){_0x59b1e2['material'][_0x4ebe2c[_0x1a9f('0x49')]['index']]=_0x51faa3[_0x1a9f('0x672')](),_0x51faa3['targetMesh']=_0x59b1e2;break;}if(_0x1a9f('0x6e')===_0x59b1e2[_0x1a9f('0x73d')]&&_0x297c0c['floorNum']&&_0x297c0c[_0x1a9f('0x8c5')]===_0x59b1e2['datas_'][_0x1a9f('0x49b')]){_0x59b1e2[_0x1a9f('0x48')][0x0]=_0x51faa3[_0x1a9f('0x672')](),_0x51faa3[_0x1a9f('0x903')]=_0x59b1e2;break;}}}catch(_0x283c39){_0x180633=!0x0,_0x11f66a=_0x283c39;}finally{try{!_0x3e913b&&_0x11ee4a[_0x1a9f('0xd0')]&&_0x11ee4a[_0x1a9f('0xd0')]();}finally{if(_0x180633)throw _0x11f66a;}}}}catch(_0x3f1b4d){_0x1f1924=!0x0,_0x473dd4=_0x3f1b4d;}finally{try{!_0x219441&&_0x373086[_0x1a9f('0xd0')]&&_0x373086['return']();}finally{if(_0x1f1924)throw _0x473dd4;}}}),this['groundThemes'][_0x1a9f('0x70')](_0x51faa3)),_0x297c0c[_0x1a9f('0x2c0')]||_0x297c0c[_0x1a9f('0x2c1')]){var _0x219441=!0x0,_0x1f1924=!0x1,_0x473dd4=void 0x0;try{for(var _0x33bfa7,_0x373086=(0x0,_0x1b53ce[_0x1a9f('0xa')])(_0x2e6749);!(_0x219441=(_0x33bfa7=_0x373086['next']())[_0x1a9f('0xce')]);_0x219441=!0x0){var _0x2357c1=_0x33bfa7[_0x1a9f('0x11')],_0x3e913b=!0x0,_0x334c52=!0x1,_0x400998=void 0x0;try{for(var _0x300617,_0x340923=(0x0,_0x1b53ce['default'])(_0x2357c1[_0x1a9f('0x49c')]['children']);!(_0x3e913b=(_0x300617=_0x340923[_0x1a9f('0x79')]())['done']);_0x3e913b=!0x0){var _0x562fef=_0x300617[_0x1a9f('0x11')];if(_0x19f6d7=(0x0,_0x47868d[_0x1a9f('0x31')])(_0x562fef,_0x297c0c['roomStyle'])){var _0xbbde3c=_0x562fef['material'][_0x19f6d7['userData'][_0x1a9f('0x308')]],_0x419dad=new THREE[(_0x1a9f('0x562'))]({'color':_0xbbde3c[_0x1a9f('0x21e')]});(0x0,_0x41d5f2[_0x1a9f('0x2ba')])(_0x419dad,_0x297c0c),_0x562fef['material'][_0x19f6d7[_0x1a9f('0x49')]['index']]=_0x419dad;break;}}}catch(_0x40e4f8){_0x334c52=!0x0,_0x400998=_0x40e4f8;}finally{try{!_0x3e913b&&_0x340923[_0x1a9f('0xd0')]&&_0x340923[_0x1a9f('0xd0')]();}finally{if(_0x334c52)throw _0x400998;}}}}catch(_0x5ece4e){_0x1f1924=!0x0,_0x473dd4=_0x5ece4e;}finally{try{!_0x219441&&_0x373086['return']&&_0x373086[_0x1a9f('0xd0')]();}finally{if(_0x1f1924)throw _0x473dd4;}}}if(_0x297c0c['lineframe']){var _0x4a2c2e=!0x0,_0x1f1924=!0x1,_0x473dd4=void 0x0;try{for(var _0x1ebe7a,_0x30212c=(0x0,_0x1b53ce[_0x1a9f('0xa')])(_0x2e6749);!(_0x4a2c2e=(_0x1ebe7a=_0x30212c[_0x1a9f('0x79')]())['done']);_0x4a2c2e=!0x0){var _0x59f5be=_0x1ebe7a['value'],_0x4827e8=!0x0,_0x1a00a2=!0x1,_0x2f57a8=void 0x0;try{for(var _0xfeb756,_0x5cd7c3=(0x0,_0x1b53ce[_0x1a9f('0xa')])(_0x59f5be[_0x1a9f('0x49c')]['children']);!(_0x4827e8=(_0xfeb756=_0x5cd7c3[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4827e8=!0x0){var _0x19f6d7,_0x547df7=_0xfeb756[_0x1a9f('0x11')];if(_0x19f6d7=(0x0,_0x47868d[_0x1a9f('0x31')])(_0x547df7,_0x297c0c[_0x1a9f('0x45')])){var _0x19962c=new _0x3cc070[(_0x1a9f('0xab'))]({'colorStr':_0x297c0c['frameColor'],'opacity':_0x297c0c[_0x1a9f('0x8c8')],'depthTest':!0x0});_0x19962c['createLineFrame'](_0x547df7,_0x547df7['geometry']),_0x297c0c[_0x1a9f('0x359')]&&(_0x547df7[_0x1a9f('0x42')]['y']+=_0x297c0c['offsetY']),this[_0x1a9f('0x8ad')][_0x1a9f('0x70')](_0x19962c);break;}}}catch(_0x66a2d){_0x1a00a2=!0x0,_0x2f57a8=_0x66a2d;}finally{try{!_0x4827e8&&_0x5cd7c3[_0x1a9f('0xd0')]&&_0x5cd7c3[_0x1a9f('0xd0')]();}finally{if(_0x1a00a2)throw _0x2f57a8;}}}}catch(_0x1797e8){_0x1f1924=!0x0,_0x473dd4=_0x1797e8;}finally{try{!_0x4a2c2e&&_0x30212c['return']&&_0x30212c[_0x1a9f('0xd0')]();}finally{if(_0x1f1924)throw _0x473dd4;}}}}},{'key':_0x1a9f('0x8f'),'value':function(){}},{'key':_0x1a9f('0x33c'),'value':function(){for(var _0x219441=0x0,_0x1f1924=this[_0x1a9f('0x8ff')][_0x1a9f('0xf')];_0x219441<_0x1f1924;_0x219441++)this[_0x1a9f('0x8ff')][_0x219441]['dispose'](),this['groundThemes'][_0x219441]=null;for(var _0x473dd4=this[_0x1a9f('0x8ff')]['length']=0x0,_0x33bfa7=this[_0x1a9f('0x8ad')]['length'];_0x473dd4<_0x33bfa7;_0x473dd4++)this['edgeLineFrameList'][_0x473dd4][_0x1a9f('0x8f')](),this[_0x1a9f('0x8ad')][_0x473dd4]=null;this['edgeLineFrameList'][_0x1a9f('0xf')]=0x0;}}]),_0x1f1924[_0x1a9f('0xa')]=_0x3e913b;},function(_0x32f4f3,_0x3653c1,_0xfdc495){'use strict';Object[_0x1a9f('0x3')](_0x3653c1,_0x1a9f('0x5'),{'value':!0x0});var _0x302e63=_0x21d4dd(_0xfdc495(0x2e)),_0x7e0998=_0x21d4dd(_0xfdc495(0x6)),_0x48aff9=_0x21d4dd(_0xfdc495(0x0)),_0x359ab6=_0x21d4dd(_0xfdc495(0x1)),_0x4dc8a3=_0xfdc495(0x1a),_0x42b151=_0xfdc495(0xf5),_0x4679c2=_0x21d4dd(_0xfdc495(0x45));function _0x21d4dd(_0x32f4f3){return _0x32f4f3&&_0x32f4f3[_0x1a9f('0x5')]?_0x32f4f3:{'default':_0x32f4f3};}function _0x21640a(){(0x0,_0x48aff9[_0x1a9f('0xa')])(this,_0x21640a),this['map']=(0x0,_0x4dc8a3[_0x1a9f('0x33')])(),this[_0x1a9f('0x48f')]=null,this[_0x1a9f('0x804')]=null,this[_0x1a9f('0x904')]=[],this[_0x1a9f('0x878')]=[],this[_0x1a9f('0x905')]=null,this[_0x1a9f('0x860')]=null,this['envTextureCubes']=[];}(0x0,_0x359ab6[_0x1a9f('0xa')])(_0x21640a,[{'key':_0x1a9f('0x89f'),'value':function(_0x32f4f3){if(0x0!=_0x32f4f3[_0x1a9f('0xf')]){var _0x3653c1=!0x0,_0xfdc495=!0x1,_0x302e63=void 0x0;try{for(var _0x48aff9,_0x359ab6=(0x0,_0x7e0998['default'])(_0x32f4f3);!(_0x3653c1=(_0x48aff9=_0x359ab6[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3653c1=!0x0){var _0x42b151,_0x4679c2=_0x48aff9[_0x1a9f('0x11')],_0x21d4dd=new THREE[(_0x1a9f('0x906'))]();_0x4679c2[_0x1a9f('0x427')]&&(_0x21d4dd[_0x1a9f('0x427')]=_0x4679c2['name']),_0x4679c2[_0x1a9f('0x21e')]&&(_0x21d4dd[_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x4679c2[_0x1a9f('0x21e')])),_0x4679c2[_0x1a9f('0x454')]&&(_0x21d4dd[_0x1a9f('0x454')]=_0x4679c2['intensity']),_0x4679c2['extent']&&(_0x21d4dd[_0x1a9f('0x907')]=_0x4679c2[_0x1a9f('0x908')]),_0x4679c2[_0x1a9f('0x42')]&&(0x0,_0x4dc8a3['setPositionFromMc'])(_0x21d4dd,_0x4679c2[_0x1a9f('0x42')],_0x4679c2[_0x1a9f('0x42')][_0x1a9f('0x33b')]),(_0x4679c2[_0x1a9f('0x41f')]||esmap['ESEffectTool']['EFFECT_EDITOR'])&&(_0x42b151=new THREE[(_0x1a9f('0x909'))](_0x21d4dd,0x1e),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')]['add'](_0x42b151)),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x21d4dd),this[_0x1a9f('0x904')][_0x1a9f('0x70')](_0x21d4dd);}}catch(_0x47aa62){_0xfdc495=!0x0,_0x302e63=_0x47aa62;}finally{try{!_0x3653c1&&_0x359ab6[_0x1a9f('0xd0')]&&_0x359ab6['return']();}finally{if(_0xfdc495)throw _0x302e63;}}}}},{'key':'updatePointLights','value':function(_0x32f4f3,_0x3653c1){var _0xfdc495=!0x0,_0x302e63=!0x1,_0x48aff9=void 0x0;try{for(var _0x359ab6,_0x42b151=(0x0,_0x7e0998[_0x1a9f('0xa')])(this[_0x1a9f('0x89c')]);!(_0xfdc495=(_0x359ab6=_0x42b151['next']())[_0x1a9f('0xce')]);_0xfdc495=!0x0){var _0x4679c2=_0x359ab6[_0x1a9f('0x11')];if(_0x32f4f3[_0x1a9f('0x427')]===_0x4679c2[_0x1a9f('0x427')]){_0x32f4f3[_0x1a9f('0x21e')]&&(pointLight[_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x32f4f3[_0x1a9f('0x21e')])),_0x3653c1['intensity']&&(pointLight[_0x1a9f('0x454')]=_0x3653c1[_0x1a9f('0x454')]),_0x3653c1['extent']&&(pointLight[_0x1a9f('0x907')]=_0x3653c1['extent']),_0x3653c1[_0x1a9f('0x42')]&&(0x0,_0x4dc8a3[_0x1a9f('0x34')])(pointLight,_0x3653c1[_0x1a9f('0x42')],_0x3653c1[_0x1a9f('0x42')]['height']);break;}}}catch(_0x381a9e){_0x302e63=!0x0,_0x48aff9=_0x381a9e;}finally{try{!_0xfdc495&&_0x42b151[_0x1a9f('0xd0')]&&_0x42b151[_0x1a9f('0xd0')]();}finally{if(_0x302e63)throw _0x48aff9;}}}},{'key':'addDirectLights','value':function(_0x32f4f3){if(0x0!=_0x32f4f3[_0x1a9f('0xf')]){var _0x3653c1=!0x0,_0xfdc495=!0x1,_0x302e63=void 0x0;try{for(var _0x48aff9,_0x359ab6=(0x0,_0x7e0998['default'])(_0x32f4f3);!(_0x3653c1=(_0x48aff9=_0x359ab6[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3653c1=!0x0){var _0x42b151,_0x4679c2,_0x21d4dd,_0x21640a,_0xf2b269,_0x18e5d7=_0x48aff9['value'];_0x18e5d7[_0x1a9f('0x90a')]?((_0x42b151=this[_0x1a9f('0x90')]['mapView'][_0x18e5d7[_0x1a9f('0x90a')]])&&(_0x42b151[_0x1a9f('0x90b')]={},_0x18e5d7[_0x1a9f('0x90a')]&&(_0x42b151[_0x1a9f('0x427')]=_0x18e5d7[_0x1a9f('0x90a')]),!0x1===_0x18e5d7['visible']&&(_0x42b151[_0x1a9f('0x342')]=!0x1),_0x18e5d7[_0x1a9f('0x21e')]&&(_0x42b151[_0x1a9f('0x90b')][_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x1ba')](_0x42b151[_0x1a9f('0x21e')]),_0x42b151['color']=new THREE['Color']()[_0x1a9f('0x30c')](_0x18e5d7['color'])),_0x18e5d7[_0x1a9f('0x454')]&&(_0x42b151[_0x1a9f('0x90b')][_0x1a9f('0x454')]=_0x42b151[_0x1a9f('0x454')],_0x42b151[_0x1a9f('0x454')]=_0x18e5d7['intensity']),_0x18e5d7[_0x1a9f('0x22c')]&&(_0x42b151[_0x1a9f('0x90b')]['position']=new THREE[(_0x1a9f('0x1b5'))]()['copy'](_0x42b151[_0x1a9f('0x42')]),_0x42b151[_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x18e5d7['direction']['x'],_0x18e5d7[_0x1a9f('0x22c')]['y'],_0x18e5d7['direction']['z'])),void 0x0!==_0x18e5d7[_0x1a9f('0x2dc')]&&void 0x0!==_0x18e5d7[_0x1a9f('0x2cc')]&&(_0x4679c2=(0x0,_0x4dc8a3[_0x1a9f('0x58')])(_0x18e5d7[_0x1a9f('0x2cc')],_0x18e5d7['directionAngle']),_0x42b151[_0x1a9f('0x42')]['copy'](_0x4679c2),_0x42b151[_0x1a9f('0x2dc')]=_0x18e5d7[_0x1a9f('0x2dc')],_0x42b151[_0x1a9f('0x2cc')]=_0x18e5d7[_0x1a9f('0x2cc')]),_0x18e5d7['target']&&(_0x42b151[_0x1a9f('0x90b')][_0x1a9f('0xc7')]=new THREE[(_0x1a9f('0x1b5'))]()[_0x1a9f('0x1ba')](_0x42b151[_0x1a9f('0xc7')]),_0x42b151['target'][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x18e5d7['target']['x'],_0x18e5d7['target']['y'],_0x18e5d7['target']['z']),_0x42b151['target'][_0x1a9f('0x729')]()),(_0x18e5d7[_0x1a9f('0x41f')]||esmap['ESEffectTool'][_0x1a9f('0x90c')])&&(_0x21640a=0x64,_0xf2b269=new THREE[(_0x1a9f('0x90d'))](_0x42b151,_0x21640a),_0x42b151['helper']=_0xf2b269,this[_0x1a9f('0x90')]['mapView']['scene'][_0x1a9f('0x1c0')](_0xf2b269))),this[_0x1a9f('0x878')][_0x1a9f('0x70')](_0x42b151)):((_0x21d4dd=new THREE[(_0x1a9f('0x90e'))]())[_0x1a9f('0x90b')]={},_0x18e5d7['name']&&(_0x21d4dd[_0x1a9f('0x427')]=_0x18e5d7[_0x1a9f('0x427')]),_0x18e5d7['color']&&(_0x21d4dd[_0x1a9f('0x21e')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x18e5d7[_0x1a9f('0x21e')]),_0x21d4dd[_0x1a9f('0x90b')][_0x1a9f('0x21e')]=new THREE['Color']()[_0x1a9f('0x1ba')](_0x21d4dd[_0x1a9f('0x21e')])),_0x18e5d7['intensity']&&(_0x21d4dd[_0x1a9f('0x454')]=_0x18e5d7['intensity'],_0x21d4dd['_originConfig'][_0x1a9f('0x454')]=_0x18e5d7[_0x1a9f('0x454')]),_0x18e5d7[_0x1a9f('0x22c')]&&_0x21d4dd['position'][_0x1a9f('0x1d')](_0x18e5d7[_0x1a9f('0x22c')]['x'],_0x18e5d7[_0x1a9f('0x22c')]['y'],_0x18e5d7['direction']['z']),_0x18e5d7[_0x1a9f('0xc7')]&&(_0x21d4dd[_0x1a9f('0xc7')][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x18e5d7['target']['x'],_0x18e5d7['target']['y'],_0x18e5d7[_0x1a9f('0xc7')]['z']),_0x21d4dd['target']['updateMatrixWorld']()),void 0x0!==_0x18e5d7['directionAngle']&&void 0x0!==_0x18e5d7[_0x1a9f('0x2cc')]&&(_0x21d4dd[_0x1a9f('0x42')]['copy']((0x0,_0x4dc8a3[_0x1a9f('0x58')])(_0x18e5d7[_0x1a9f('0x2cc')],_0x18e5d7[_0x1a9f('0x2dc')])),_0x21d4dd[_0x1a9f('0x2dc')]=_0x18e5d7[_0x1a9f('0x2dc')],_0x21d4dd[_0x1a9f('0x2cc')]=_0x18e5d7[_0x1a9f('0x2cc')]),(_0x18e5d7[_0x1a9f('0x41f')]||esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')])&&(_0x21640a=0x64,_0xf2b269=new THREE[(_0x1a9f('0x90d'))](_0x21d4dd,_0x21640a),_0x21d4dd[_0x1a9f('0x70e')]=_0xf2b269,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0xf2b269)),_0x18e5d7['tileBuildingLight']&&(this[_0x1a9f('0x905')]=_0x21d4dd),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x21d4dd),this['directionalLights'][_0x1a9f('0x70')](_0x21d4dd));}}catch(_0x273584){_0xfdc495=!0x0,_0x302e63=_0x273584;}finally{try{!_0x3653c1&&_0x359ab6[_0x1a9f('0xd0')]&&_0x359ab6[_0x1a9f('0xd0')]();}finally{if(_0xfdc495)throw _0x302e63;}}}}},{'key':_0x1a9f('0x90f'),'value':function(_0x32f4f3,_0x3653c1,_0xfdc495){var _0x302e63=(0x0,_0x4dc8a3[_0x1a9f('0x58')])(_0x3653c1[_0x1a9f('0x2cc')],_0x3653c1[_0x1a9f('0x2dc')]);_0xfdc495[_0x1a9f('0x907')]&&_0x302e63[_0x1a9f('0x1be')](_0xfdc495[_0x1a9f('0x907')]),_0xfdc495['isInfinite']?(_0x32f4f3[_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x302e63),_0x32f4f3[_0x1a9f('0x42')][_0x1a9f('0x1bf')]()['multiplyScalar'](_0xfdc495[_0x1a9f('0x907')])[_0x1a9f('0x1c0')](new THREE[(_0x1a9f('0x1b5'))](this['map'][_0x1a9f('0x2c7')]['target']['x'],0x0,this[_0x1a9f('0x90')][_0x1a9f('0x2c7')]['target']['z'])),_0x32f4f3[_0x1a9f('0xc7')][_0x1a9f('0x42')]['copy'](new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')]['controls'][_0x1a9f('0xc7')]['x'],0x0,this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['z'])),_0x32f4f3[_0x1a9f('0xc7')][_0x1a9f('0x729')](!0x0)):_0x32f4f3[_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x302e63),_0x32f4f3[_0x1a9f('0x2dc')]=_0x3653c1[_0x1a9f('0x2dc')],_0x32f4f3[_0x1a9f('0x2cc')]=_0x3653c1[_0x1a9f('0x2cc')],_0x32f4f3['helper']&&(0x1<_0xfdc495[_0x1a9f('0x910')]&&_0x32f4f3[_0x1a9f('0x70e')][_0x1a9f('0x911')][_0x1a9f('0x1d5')][_0x1a9f('0x1be')](_0xfdc495[_0x1a9f('0x910')]),_0x32f4f3[_0x1a9f('0x70e')][_0x1a9f('0x2e4')]());}},{'key':_0x1a9f('0x879'),'value':function(_0x32f4f3,_0x3653c1,_0xfdc495){var _0x302e63=!0x0,_0x48aff9=!0x1,_0x359ab6=void 0x0;try{for(var _0x42b151,_0x4679c2=(0x0,_0x7e0998[_0x1a9f('0xa')])(_0x3653c1);!(_0x302e63=(_0x42b151=_0x4679c2[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x302e63=!0x0){var _0x21d4dd=_0x42b151[_0x1a9f('0x11')];_0x32f4f3[_0x1a9f('0x427')]===_0x21d4dd[_0x1a9f('0x427')]&&(!0x1===_0x21d4dd[_0x1a9f('0x342')]&&(_0x32f4f3[_0x1a9f('0x342')]=!0x1),_0x21d4dd[_0x1a9f('0x21e')]?_0x32f4f3['color']=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x21d4dd['color']):_0x32f4f3[_0x1a9f('0x90b')]&&_0x32f4f3[_0x1a9f('0x90b')][_0x1a9f('0x21e')]&&_0x32f4f3['color'][_0x1a9f('0x1ba')](_0x32f4f3[_0x1a9f('0x90b')][_0x1a9f('0x21e')]),_0x21d4dd[_0x1a9f('0x454')]?_0xfdc495?this[_0x1a9f('0x912')](_0x32f4f3,_0x21d4dd['intensity']):_0x32f4f3[_0x1a9f('0x454')]=_0x21d4dd[_0x1a9f('0x454')]:_0xfdc495?_0x32f4f3[_0x1a9f('0x90b')]&&_0x32f4f3[_0x1a9f('0x90b')][_0x1a9f('0x454')]&&this[_0x1a9f('0x912')](_0x32f4f3,_0x32f4f3[_0x1a9f('0x90b')][_0x1a9f('0x454')]):_0x32f4f3[_0x1a9f('0x90b')]&&_0x32f4f3[_0x1a9f('0x90b')]['intensity']&&(_0x32f4f3['intensity']=_0x32f4f3[_0x1a9f('0x90b')][_0x1a9f('0x454')]),void 0x0!==_0x3653c1[_0x1a9f('0x2dc')]&&void 0x0!==_0x3653c1['pitchAngle']&&(_0x32f4f3['position'][_0x1a9f('0x1ba')]((0x0,_0x4dc8a3['directionFromAlphaBeta'])(_0x3653c1[_0x1a9f('0x2cc')],_0x3653c1['directionAngle'])),_0x32f4f3[_0x1a9f('0x2dc')]=_0x3653c1['directionAngle'],_0x32f4f3['pitchAngle']=_0x3653c1[_0x1a9f('0x2cc')]));}}catch(_0x3d41bb){_0x48aff9=!0x0,_0x359ab6=_0x3d41bb;}finally{try{!_0x302e63&&_0x4679c2['return']&&_0x4679c2[_0x1a9f('0xd0')]();}finally{if(_0x48aff9)throw _0x359ab6;}}}},{'key':_0x1a9f('0x913'),'value':function(){var _0x32f4f3=!0x0,_0x3653c1=!0x1,_0xfdc495=void 0x0;try{for(var _0x302e63,_0x48aff9=(0x0,_0x7e0998[_0x1a9f('0xa')])(this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x32d')]);!(_0x32f4f3=(_0x302e63=_0x48aff9[_0x1a9f('0x79')]())['done']);_0x32f4f3=!0x0){var _0x359ab6=_0x302e63[_0x1a9f('0x11')];if('AmbientLight'==_0x359ab6['type']){this[_0x1a9f('0x804')]=_0x359ab6;break;}}}catch(_0x5a1462){_0x3653c1=!0x0,_0xfdc495=_0x5a1462;}finally{try{!_0x32f4f3&&_0x48aff9[_0x1a9f('0xd0')]&&_0x48aff9[_0x1a9f('0xd0')]();}finally{if(_0x3653c1)throw _0xfdc495;}}}},{'key':'updateAmbientLight','value':function(_0x32f4f3){if(!this[_0x1a9f('0x804')]){var _0x3653c1=!0x0,_0xfdc495=!0x1,_0x302e63=void 0x0;try{for(var _0x48aff9,_0x359ab6=(0x0,_0x7e0998[_0x1a9f('0xa')])(this['map'][_0x1a9f('0x447')]['scene'][_0x1a9f('0x32d')]);!(_0x3653c1=(_0x48aff9=_0x359ab6[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x3653c1=!0x0){var _0x42b151=_0x48aff9[_0x1a9f('0x11')];if(_0x1a9f('0x914')==_0x42b151['type']){this[_0x1a9f('0x804')]=_0x42b151;break;}}}catch(_0x3d5199){_0xfdc495=!0x0,_0x302e63=_0x3d5199;}finally{try{!_0x3653c1&&_0x359ab6[_0x1a9f('0xd0')]&&_0x359ab6['return']();}finally{if(_0xfdc495)throw _0x302e63;}}}this[_0x1a9f('0x804')]&&(_0x32f4f3[_0x1a9f('0x21e')]&&this[_0x1a9f('0x804')]['color'][_0x1a9f('0x30c')](_0x32f4f3['color']),_0x32f4f3[_0x1a9f('0x454')]&&(this['ambientLight']['_originIntensity']||(this[_0x1a9f('0x804')][_0x1a9f('0x915')]=this['ambientLight'][_0x1a9f('0x454')]),_0x32f4f3[_0x1a9f('0x5e6')]?this[_0x1a9f('0x912')](this['ambientLight'],_0x32f4f3[_0x1a9f('0x454')])[_0x1a9f('0x362')](function(){_0x32f4f3[_0x1a9f('0x34f')]&&_0x32f4f3[_0x1a9f('0x34f')]();}):this[_0x1a9f('0x804')]['intensity']=_0x32f4f3[_0x1a9f('0x454')]),_0x32f4f3[_0x1a9f('0x916')]&&this[_0x1a9f('0x912')](this[_0x1a9f('0x804')],this[_0x1a9f('0x804')][_0x1a9f('0x915')])['then'](function(){_0x32f4f3[_0x1a9f('0x34f')]&&_0x32f4f3['callback']();}));}},{'key':_0x1a9f('0x912'),'value':function(_0xfdc495,_0x3653c1){return new _0x302e63['default'](function(_0x32f4f3){new TWEEN[(_0x1a9f('0x2e0'))]({'intensity':_0xfdc495[_0x1a9f('0x454')]})['to']({'intensity':_0x3653c1},0x7d0)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x43a')][_0x1a9f('0x917')])[_0x1a9f('0x2e3')](function(_0x32f4f3,_0x3653c1){_0xfdc495[_0x1a9f('0x454')]=_0x32f4f3[_0x1a9f('0x454')];})[_0x1a9f('0x2e5')](function(){_0x32f4f3();})[_0x1a9f('0x2e2')]();});}},{'key':'updateAllLightConfig','value':function(_0x3653c1){var _0x32f4f3=_0x3653c1[_0x1a9f('0x89c')];if(_0x3653c1[_0x1a9f('0x5e6')],_0x3653c1[_0x1a9f('0x918')],_0x32f4f3['ambientLight']&&this['updateAmbientLight'](_0x32f4f3[_0x1a9f('0x804')]),_0x32f4f3[_0x1a9f('0x802')]){var _0xfdc495=!0x0,_0x3653c1=!0x1,_0x302e63=void 0x0;try{for(var _0x48aff9,_0x359ab6=(0x0,_0x7e0998[_0x1a9f('0xa')])(this[_0x1a9f('0x878')]);!(_0xfdc495=(_0x48aff9=_0x359ab6[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0xfdc495=!0x0){var _0x42b151=_0x48aff9[_0x1a9f('0x11')];this[_0x1a9f('0x879')](_0x42b151,_0x32f4f3[_0x1a9f('0x802')]);}}catch(_0x5a99e2){_0x3653c1=!0x0,_0x302e63=_0x5a99e2;}finally{try{!_0xfdc495&&_0x359ab6[_0x1a9f('0xd0')]&&_0x359ab6[_0x1a9f('0xd0')]();}finally{if(_0x3653c1)throw _0x302e63;}}}if(_0x32f4f3['pointLight']){var _0x4679c2=!0x0,_0x3653c1=!0x1,_0x302e63=void 0x0;try{for(var _0x21d4dd,_0x21640a=(0x0,_0x7e0998['default'])(this['pointLights']);!(_0x4679c2=(_0x21d4dd=_0x21640a[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4679c2=!0x0){var _0x5eb1a1=_0x21d4dd['value'];this[_0x1a9f('0x919')](_0x5eb1a1,_0x32f4f3[_0x1a9f('0x801')]);}}catch(_0x4577a){_0x3653c1=!0x0,_0x302e63=_0x4577a;}finally{try{!_0x4679c2&&_0x21640a[_0x1a9f('0xd0')]&&_0x21640a[_0x1a9f('0xd0')]();}finally{if(_0x3653c1)throw _0x302e63;}}}}},{'key':_0x1a9f('0x8a3'),'value':function(_0x32f4f3){_0x32f4f3&&_0x32f4f3[_0x1a9f('0x91a')]&&0x0<_0x32f4f3['imgPaths'][_0x1a9f('0xf')]&&!this[_0x1a9f('0x860')]&&(_0x32f4f3[_0x1a9f('0xc6')]&&_0x1a9f('0x91b')===_0x32f4f3[_0x1a9f('0xc6')]?this['createPMREMEnvTexture'](_0x32f4f3):this['envTextureCube']=this[_0x1a9f('0x91c')](_0x32f4f3));}},{'key':_0x1a9f('0x91c'),'value':function(_0x3653c1,_0x32f4f3){for(var _0xfdc495=this,_0x302e63=0x0,_0x48aff9=_0x3653c1[_0x1a9f('0x91a')][_0x1a9f('0xf')];_0x302e63<_0x48aff9;_0x302e63++)_0x32f4f3||(_0x3653c1['imgPaths'][_0x302e63]=(0x0,_0x4dc8a3[_0x1a9f('0x2f')])(_0x3653c1[_0x1a9f('0x91a')][_0x302e63]));return new THREE[(_0x1a9f('0xd4'))]()['load'](_0x3653c1[_0x1a9f('0x91a')],function(_0x32f4f3){_0x3653c1[_0x1a9f('0x759')]&&(_0x32f4f3['encoding']=THREE[_0x1a9f('0x739')]),!_0x3653c1[_0x1a9f('0x40c')]&&void 0x0!==_0x3653c1[_0x1a9f('0x40c')]||_0xfdc495['createLightProbe'](_0x3653c1),_0x32f4f3[_0x1a9f('0x427')]=_0x3653c1[_0x1a9f('0x427')]||'',_0xfdc495['envTextureCubes'][_0x1a9f('0x70')](_0x32f4f3);});}},{'key':_0x1a9f('0x91d'),'value':function(_0x32f4f3){this['lightProbe']=new THREE['LightProbe'](),this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this[_0x1a9f('0x91e')]),this[_0x1a9f('0x91e')][_0x1a9f('0x1ba')](_0x42b151[_0x1a9f('0x91f')][_0x1a9f('0x920')](this[_0x1a9f('0x860')])),_0x32f4f3['intensity']&&(this[_0x1a9f('0x91e')][_0x1a9f('0x454')]=_0x32f4f3[_0x1a9f('0x454')]);}},{'key':'updateLightProbe','value':function(_0x3653c1,_0x32f4f3){var _0xfdc495=this;if(this[_0x1a9f('0x91e')]&&_0x3653c1['name']){var _0x302e63=this[_0x1a9f('0x921')](_0x3653c1[_0x1a9f('0x427')]);if(_0x302e63)this[_0x1a9f('0x91e')][_0x1a9f('0x1ba')](_0x42b151['LightProbeGenerator'][_0x1a9f('0x920')](_0x302e63)),this[_0x1a9f('0x91e')]['intensity']=_0x3653c1[_0x1a9f('0x454')],this[_0x1a9f('0x48f')]&&this[_0x1a9f('0x48f')]['updateMaterialsEnvMap'](_0x302e63),this[_0x1a9f('0x860')]=_0x302e63;else{for(var _0x48aff9=0x0,_0x359ab6=_0x3653c1[_0x1a9f('0x91a')]['length'];_0x48aff9<_0x359ab6;_0x48aff9++)_0x32f4f3||(_0x3653c1[_0x1a9f('0x91a')][_0x48aff9]=(0x0,_0x4dc8a3[_0x1a9f('0x2f')])(_0x3653c1[_0x1a9f('0x91a')][_0x48aff9]));_0x4679c2[_0x1a9f('0xa')][_0x1a9f('0xd3')](_0x3653c1[_0x1a9f('0x91a')])[_0x1a9f('0x362')](function(_0x32f4f3){_0x32f4f3[_0x1a9f('0x427')]=_0x3653c1[_0x1a9f('0x427')],_0xfdc495[_0x1a9f('0x91e')]['copy'](_0x42b151[_0x1a9f('0x91f')][_0x1a9f('0x920')](_0x32f4f3)),_0xfdc495[_0x1a9f('0x91e')]['intensity']=_0x3653c1[_0x1a9f('0x454')],_0xfdc495[_0x1a9f('0x48f')]&&_0xfdc495[_0x1a9f('0x48f')][_0x1a9f('0x922')](_0x32f4f3),_0xfdc495['envTextureCube']=_0x32f4f3,_0xfdc495[_0x1a9f('0x923')][_0x1a9f('0x70')](_0x32f4f3);});}this['lightProbe'][_0x1a9f('0x454')]=_0x3653c1[_0x1a9f('0x454')];}}},{'key':_0x1a9f('0x924'),'value':function(_0x32f4f3,_0x3653c1){var _0xfdc495=this;_0x32f4f3!=_0x3653c1&&new TWEEN[(_0x1a9f('0x2e0'))]({'x':_0x32f4f3})['to']({'x':_0x3653c1},0x3e8)['easing'](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x43a')][_0x1a9f('0x917')])[_0x1a9f('0x2e3')](function(_0x32f4f3){_0xfdc495[_0x1a9f('0x91e')][_0x1a9f('0x454')]=_0x32f4f3['x'];})[_0x1a9f('0x2e2')]();}},{'key':_0x1a9f('0x921'),'value':function(_0x32f4f3){var _0x3653c1=!0x0,_0xfdc495=!0x1,_0x302e63=void 0x0;try{for(var _0x48aff9,_0x359ab6=(0x0,_0x7e0998[_0x1a9f('0xa')])(this[_0x1a9f('0x923')]);!(_0x3653c1=(_0x48aff9=_0x359ab6[_0x1a9f('0x79')]())['done']);_0x3653c1=!0x0){var _0x42b151=_0x48aff9[_0x1a9f('0x11')];if(_0x42b151['name']===_0x32f4f3)return _0x42b151;}}catch(_0x2e91ed){_0xfdc495=!0x0,_0x302e63=_0x2e91ed;}finally{try{!_0x3653c1&&_0x359ab6['return']&&_0x359ab6[_0x1a9f('0xd0')]();}finally{if(_0xfdc495)throw _0x302e63;}}return null;}},{'key':'createPMREMEnvTexture','value':function(_0x32f4f3){var _0x3653c1,_0xfdc495=this;0x1===_0x32f4f3[_0x1a9f('0x91a')][_0x1a9f('0xf')]&&(_0x32f4f3=(0x0,_0x4dc8a3[_0x1a9f('0x2f')])(_0x32f4f3['imgPaths'][0x0]),_0x3653c1=new ESWorldMapTools[(_0x1a9f('0xa2'))](this[_0x1a9f('0x90')]),this[_0x1a9f('0x860')]=new THREE['Texture'](),_0x3653c1[_0x1a9f('0x615')]({'texPath':_0x32f4f3,'resolutionSize':0x200})[_0x1a9f('0x362')](function(_0x32f4f3){_0xfdc495[_0x1a9f('0x860')]=_0x32f4f3;}));}},{'key':'dispose','value':function(){for(var _0x32f4f3=0x0,_0x3653c1=this['pointLights'][_0x1a9f('0xf')];_0x32f4f3<_0x3653c1;_0x32f4f3++)this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x93')](this[_0x1a9f('0x904')][_0x32f4f3]);for(var _0xfdc495=this['pointLights'][_0x1a9f('0xf')]=0x0,_0x302e63=this['directionalLights'][_0x1a9f('0xf')];_0xfdc495<_0x302e63;_0xfdc495++)this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')]['remove'](this[_0x1a9f('0x878')][_0xfdc495]);this['directionalLights'][_0x1a9f('0xf')]=0x0,this[_0x1a9f('0x91e')]&&(this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')]['remove'](this['lightProbe']),this[_0x1a9f('0x91e')]=null),this[_0x1a9f('0x860')]&&(this[_0x1a9f('0x860')][_0x1a9f('0x8f')](),this[_0x1a9f('0x860')]=null);for(var _0x48aff9=0x0,_0x359ab6=this['envTextureCubes'][_0x1a9f('0xf')];_0x48aff9<_0x359ab6;_0x48aff9++)this[_0x1a9f('0x923')][_0x48aff9]['dispose']();this[_0x1a9f('0x923')][_0x1a9f('0xf')]=0x0;}}]),_0x3653c1[_0x1a9f('0xa')]=_0x21640a;},function(_0x152ab4,_0x285c04,_0x388c69){'use strict';Object[_0x1a9f('0x3')](_0x285c04,_0x1a9f('0x5'),{'value':!0x0}),_0x285c04['LightProbeGenerator']={'fromCubeTexture':function(_0x152ab4){for(var _0x285c04,_0x388c69=0x0,_0x531a09=new THREE[(_0x1a9f('0x1b5'))](),_0x5579e0=new THREE[(_0x1a9f('0x1b5'))](),_0x5bf2fa=new THREE['Color'](),_0x3ede80=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x578231=new THREE['SphericalHarmonics3'](),_0x13a000=_0x578231[_0x1a9f('0x925')],_0x32a4c6=0x0;_0x32a4c6<0x6;_0x32a4c6++)for(var _0x431ff3=_0x152ab4[_0x1a9f('0x73e')][_0x32a4c6],_0x4556d1=_0x431ff3[_0x1a9f('0x33a')],_0x517a77=_0x431ff3[_0x1a9f('0x33b')],_0x2243e8=document[_0x1a9f('0x77')]('canvas'),_0x2243e8=(_0x2243e8[_0x1a9f('0x33a')]=_0x4556d1,_0x2243e8[_0x1a9f('0x33b')]=_0x517a77,_0x2243e8[_0x1a9f('0x3dc')]('2d')),_0x431ff3=(_0x2243e8['drawImage'](_0x431ff3,0x0,0x0,_0x4556d1,_0x517a77),_0x2243e8['getImageData'](0x0,0x0,_0x4556d1,_0x517a77)),_0x3fac68=_0x431ff3[_0x1a9f('0x375')],_0x350e10=_0x431ff3['width'],_0x58525a=0x2/_0x350e10,_0x41198f=0x0,_0x21fcb3=_0x3fac68[_0x1a9f('0xf')];_0x41198f<_0x21fcb3;_0x41198f+=0x4){_0x5bf2fa[_0x1a9f('0x1c1')](_0x3fac68[_0x41198f]/0xff,_0x3fac68[_0x41198f+0x1]/0xff,_0x3fac68[_0x41198f+0x2]/0xff),_0x5bf2fa[_0x1a9f('0x926')](_0x5bf2fa);var _0x5aa918=_0x41198f/0x4,_0x47815b=(_0x5aa918%_0x350e10+0.5)*_0x58525a-0x1,_0x4001d7=0x1-(Math[_0x1a9f('0x6e')](_0x5aa918/_0x350e10)+0.5)*_0x58525a;switch(_0x32a4c6){case 0x0:_0x531a09[_0x1a9f('0x1d')](-0x1,_0x4001d7,-_0x47815b);break;case 0x1:_0x531a09['set'](0x1,_0x4001d7,_0x47815b);break;case 0x2:_0x531a09['set'](-_0x47815b,0x1,-_0x4001d7);break;case 0x3:_0x531a09[_0x1a9f('0x1d')](-_0x47815b,-0x1,_0x4001d7);break;case 0x4:_0x531a09['set'](-_0x47815b,_0x4001d7,0x1);break;case 0x5:_0x531a09[_0x1a9f('0x1d')](_0x47815b,_0x4001d7,-0x1);}_0x5aa918=_0x531a09[_0x1a9f('0x927')](),_0x388c69+=_0x285c04=0x4/(Math['sqrt'](_0x5aa918)*_0x5aa918),_0x5579e0[_0x1a9f('0x1ba')](_0x531a09)[_0x1a9f('0x1bf')](),THREE[_0x1a9f('0x928')]['getBasisAt'](_0x5579e0,_0x3ede80);for(var _0x2797f6=0x0;_0x2797f6<0x9;_0x2797f6++)_0x13a000[_0x2797f6]['x']+=_0x3ede80[_0x2797f6]*_0x5bf2fa['r']*_0x285c04,_0x13a000[_0x2797f6]['y']+=_0x3ede80[_0x2797f6]*_0x5bf2fa['g']*_0x285c04,_0x13a000[_0x2797f6]['z']+=_0x3ede80[_0x2797f6]*_0x5bf2fa['b']*_0x285c04;}for(var _0x1965fc=0x4*Math['PI']/_0x388c69,_0x2797f6=0x0;_0x2797f6<0x9;_0x2797f6++)_0x13a000[_0x2797f6]['x']*=_0x1965fc,_0x13a000[_0x2797f6]['y']*=_0x1965fc,_0x13a000[_0x2797f6]['z']*=_0x1965fc;return new THREE[(_0x1a9f('0x929'))](_0x578231);}};},function(_0x155115,_0x1a6a94,_0x9c278f){'use strict';Object[_0x1a9f('0x3')](_0x1a6a94,_0x1a9f('0x5'),{'value':!0x0});var _0x130d77=_0x1bcfff(_0x9c278f(0x31)),_0x1c3779=_0x1bcfff(_0x9c278f(0x11)),_0x4170e1=_0x1bcfff(_0x9c278f(0x6)),_0x21ec0c=_0x1bcfff(_0x9c278f(0x0)),_0x1c6eaa=_0x1bcfff(_0x9c278f(0x1)),_0xa1da76=_0x9c278f(0x1a),_0x4298aa=function(_0x155115){if(_0x155115&&_0x155115[_0x1a9f('0x5')])return _0x155115;var _0x1a6a94={};if(null!=_0x155115)for(var _0x9c278f in _0x155115)Object[_0x1a9f('0xb')][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x155115,_0x9c278f)&&(_0x1a6a94[_0x9c278f]=_0x155115[_0x9c278f]);return _0x1a6a94[_0x1a9f('0xa')]=_0x155115,_0x1a6a94;}(_0x9c278f(0x40)),_0x5d2571=_0x1bcfff(_0x9c278f(0xf7));function _0x1bcfff(_0x155115){return _0x155115&&_0x155115[_0x1a9f('0x5')]?_0x155115:{'default':_0x155115};}function _0x1b3377(){(0x0,_0x21ec0c['default'])(this,_0x1b3377),this[_0x1a9f('0x90')]=(0x0,_0xa1da76[_0x1a9f('0x33')])(),this['tileRoute']=null,this[_0x1a9f('0x92a')]=new THREE[(_0x1a9f('0x1e5'))](),this['routesMarkers']=[],this[_0x1a9f('0x92b')]=!0x1,this[_0x1a9f('0x92c')]=null,this[_0x1a9f('0x92d')]={},this['isCanChangeTileRoutesStyle']=!0x1,this['isChangedTileRoutesStyle']=!0x1,this[_0x1a9f('0x92e')]=null,this[_0x1a9f('0x92f')]=new THREE[(_0x1a9f('0x1b7'))]();}_0x9c278f(0xf8),(0x0,_0x1c6eaa[_0x1a9f('0xa')])(_0x1b3377,[{'key':_0x1a9f('0x930'),'value':function(){var _0x155115=((0x0,_0xa1da76[_0x1a9f('0x35')])()||(0x0,_0xa1da76['checkIsParkEngine'])()?this[_0x1a9f('0x90')][_0x1a9f('0x39')](0x0):this['map'])[_0x1a9f('0x49d')](0x1);this[_0x1a9f('0x92a')][_0x1a9f('0x42')]['y']=_0x155115,this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x1c0')](this['routesLineGroup']);}},{'key':_0x1a9f('0x931'),'value':function(_0x155115,_0x1a6a94){_0x155115[_0x1a9f('0x932')]?_0x155115[_0x1a9f('0xcc')]=new THREE['TextureLoader']()[_0x1a9f('0xca')](getConfigAssetsPath(_0x155115['lineTexture'])):_0x155115['texture']=new THREE[(_0x1a9f('0xc8'))]()['load'](getConfigAssetsPath(_0x1a9f('0x7d8')));var _0x9c278f=new _0x4298aa[(_0x1a9f('0xa4'))]({'camera':_0x1a6a94[_0x1a9f('0x314')],'texture':_0x155115[_0x1a9f('0xcc')],'colorStr':_0x155115[_0x1a9f('0x21e')],'lineWidth':_0x155115[_0x1a9f('0x312')],'speed':_0x155115[_0x1a9f('0x341')]}),_0x21ec0c=(_0x9c278f['setResizeListen'](this[_0x1a9f('0x90')]),!0x0),_0x1a6a94=!0x1,_0x1c6eaa=void 0x0;try{for(var _0x1bcfff,_0x1b3377=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x155115[_0x1a9f('0x3f6')]);!(_0x21ec0c=(_0x1bcfff=_0x1b3377['next']())[_0x1a9f('0xce')]);_0x21ec0c=!0x0){var _0x5c008c=_0x1bcfff[_0x1a9f('0x11')],_0x34c793=[],_0x329369=_0x5c008c[_0x1a9f('0x429')][0x0],_0x41266e=!0x0,_0x53ba18=!0x1,_0x147d75=void 0x0;try{for(var _0x5c5980,_0x5b5442=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x5c008c[_0x1a9f('0x429')]);!(_0x41266e=(_0x5c5980=_0x5b5442['next']())['done']);_0x41266e=!0x0){var _0x48dd32,_0x594b50,_0x3eb853=_0x5c5980['value'];_0x155115[_0x1a9f('0x933')]&&(_0x48dd32=_0x5d2571[_0x1a9f('0xa')][_0x1a9f('0x35f')](_0x3eb853['x'],_0x3eb853['y']),_0x594b50=_0x5d2571[_0x1a9f('0xa')][_0x1a9f('0x35d')](_0x48dd32[0x0],_0x48dd32[0x1]),_0x3eb853['x']=_0x594b50[0x0],_0x3eb853['y']=_0x594b50[0x1]),_0x34c793[_0x1a9f('0x70')](new THREE['Vector3'](-_0x3eb853['x'],_0x3eb853[_0x1a9f('0x106')],_0x3eb853['y']));}}catch(_0x1b10a0){_0x53ba18=!0x0,_0x147d75=_0x1b10a0;}finally{try{!_0x41266e&&_0x5b5442['return']&&_0x5b5442[_0x1a9f('0xd0')]();}finally{if(_0x53ba18)throw _0x147d75;}}var _0x347030=_0x9c278f[_0x1a9f('0x321')](_0x34c793);(0x0,_0xa1da76[_0x1a9f('0x34')])(_0x347030,_0x329369,_0x155115[_0x1a9f('0x33b')]),_0x155115[_0x1a9f('0x934')]&&_0x347030['layers'][_0x1a9f('0x211')](0x1);}}catch(_0x555cb2){_0x1a6a94=!0x0,_0x1c6eaa=_0x555cb2;}finally{try{!_0x21ec0c&&_0x1b3377['return']&&_0x1b3377[_0x1a9f('0xd0')]();}finally{if(_0x1a6a94)throw _0x1c6eaa;}}return _0x9c278f;}},{'key':_0x1a9f('0x8a5'),'value':function(_0x155115,_0x1a6a94){if(this['initHeight'](),(0x0,_0xa1da76['checkIsParkEngine'])())_0x1a6a94[_0x1a9f('0x854')]&&this[_0x1a9f('0x90')]['mapService']['navData']&&this[_0x1a9f('0x90')][_0x1a9f('0x507')][_0x1a9f('0x848')][_0x1a6a94['mapId']]&&this[_0x1a9f('0x935')](this[_0x1a9f('0x90')][_0x1a9f('0x507')][_0x1a9f('0x848')][_0x1a6a94[_0x1a9f('0x854')]][_0x1a9f('0x936')][0x0],_0x1a6a94);else{var _0x9c278f=!0x0,_0x21ec0c=!0x1,_0x1c6eaa=void 0x0;try{for(var _0x1bcfff,_0x1b3377=(0x0,_0x4170e1[_0x1a9f('0xa')])(this[_0x1a9f('0x90')][_0x1a9f('0x937')]);!(_0x9c278f=(_0x1bcfff=_0x1b3377['next']())[_0x1a9f('0xce')]);_0x9c278f=!0x0){var _0xa9321=_0x1bcfff[_0x1a9f('0x11')];if(_0xa9321['floornum']===_0x155115){this[_0x1a9f('0x935')](_0xa9321,_0x1a6a94);break;}}}catch(_0x24b6f6){_0x21ec0c=!0x0,_0x1c6eaa=_0x24b6f6;}finally{try{!_0x9c278f&&_0x1b3377[_0x1a9f('0xd0')]&&_0x1b3377['return']();}finally{if(_0x21ec0c)throw _0x1c6eaa;}}}}},{'key':'computeNavDataToRoutesData','value':function(_0x155115,_0x1a6a94){var _0x9c278f,_0x21ec0c=(0x0,_0x1c3779[_0x1a9f('0xa')])({'height':0x47,'lineWidth':0x4,'color':_0x1a9f('0x938'),'routeList':[],'isHightLight':!0x1},_0x1a6a94);for(_0x9c278f in _0x155115[_0x1a9f('0x84b')]){var _0x1c6eaa,_0x1bcfff,_0x1b3377=_0x155115[_0x1a9f('0x84b')][_0x9c278f];_0x1b3377[_0x1a9f('0x939')]&&(0x4==_0x1b3377[_0x1a9f('0x939')]||0x5==_0x1b3377[_0x1a9f('0x939')])&&_0x1b3377[_0x1a9f('0x93a')]>=_0x1a6a94['rank'][0x0]&&_0x1b3377[_0x1a9f('0x93a')]<_0x1a6a94[_0x1a9f('0x93a')][0x1]&&(_0x1bcfff=_0x155115[_0x1a9f('0x93b')][_0x1b3377['sid']],_0x1b3377=_0x155115[_0x1a9f('0x93b')][_0x1b3377[_0x1a9f('0x93c')]],(_0x1c6eaa={'points':[]})[_0x1a9f('0x429')]['push']({'x':_0x1bcfff['X'],'y':_0x1bcfff['Y']},{'x':_0x1b3377['X'],'y':_0x1b3377['Y']}),_0x21ec0c[_0x1a9f('0x4cb')][_0x1a9f('0x70')](_0x1c6eaa));}var _0x1d30b3=this['createRoutesLine']({'color':_0x21ec0c[_0x1a9f('0x21e')],'list':_0x21ec0c['routeList'],'height':_0x21ec0c[_0x1a9f('0x33b')],'lineWidth':_0x21ec0c[_0x1a9f('0x312')],'lineTexture':_0x21ec0c[_0x1a9f('0x93d')],'isHightLight':_0x21ec0c['isHightLight'],'speed':_0x21ec0c[_0x1a9f('0x341')]},this[_0x1a9f('0x90')][_0x1a9f('0x447')]);this[_0x1a9f('0x92a')][_0x1a9f('0x1c0')](_0x1d30b3['object3d']),this[_0x1a9f('0x832')][_0x1a9f('0x70')](_0x1d30b3);}},{'key':_0x1a9f('0x8a6'),'value':function(_0x1a6a94,_0x9c278f){this[_0x1a9f('0x930')]();var _0x155115=(0x0,_0x1c3779[_0x1a9f('0xa')])({'height':0x47,'lineWidth':0x4,'color':_0x1a9f('0x938'),'routeList':[],'isHightLight':!0x1},_0x1a6a94),_0x21ec0c=[],_0x1c6eaa=!0x0,_0x1a6a94=!0x1,_0x1bcfff=void 0x0;try{for(var _0x1b3377,_0x50bdad=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x155115[_0x1a9f('0x93e')]);!(_0x1c6eaa=(_0x1b3377=_0x50bdad[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x1c6eaa=!0x0){var _0x3ad23c=_0x1b3377['value'];_0x21ec0c['push']({'color':_0x3ad23c[_0x1a9f('0x21e')],'rank':_0x3ad23c[_0x1a9f('0x93f')],'lineTexture':_0x3ad23c[_0x1a9f('0x93d')],'routeList':[]});}}catch(_0x5611f1){_0x1a6a94=!0x0,_0x1bcfff=_0x5611f1;}finally{try{!_0x1c6eaa&&_0x50bdad[_0x1a9f('0xd0')]&&_0x50bdad[_0x1a9f('0xd0')]();}finally{if(_0x1a6a94)throw _0x1bcfff;}}var _0x4d6f31=!0x0,_0x1a6a94=!0x1,_0x1bcfff=void 0x0;try{for(var _0x247c79,_0x2e1f6a=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x9c278f);!(_0x4d6f31=(_0x247c79=_0x2e1f6a[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4d6f31=!0x0){var _0x1f9304=_0x247c79['value'],_0x4b8f61={'points':[]},_0x30c0e4=(_0x4b8f61[_0x1a9f('0x429')]=JSON['parse'](_0x1f9304[_0x1a9f('0x940')]),!0x0),_0x47b025=!0x1,_0x1fd6d3=void 0x0;try{for(var _0x56ce17,_0x987f7e=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x21ec0c);!(_0x30c0e4=(_0x56ce17=_0x987f7e[_0x1a9f('0x79')]())['done']);_0x30c0e4=!0x0){var _0xa1da76=_0x56ce17[_0x1a9f('0x11')];'object'===(0x0,_0x130d77['default'])(_0xa1da76[_0x1a9f('0x93a')])&&+_0x1f9304[_0x1a9f('0x93f')]>=_0xa1da76[_0x1a9f('0x93a')][0x0]&&+_0x1f9304[_0x1a9f('0x93f')]<_0xa1da76[_0x1a9f('0x93a')][0x1]&&_0xa1da76['routeList'][_0x1a9f('0x70')](_0x4b8f61),_0x1a9f('0x8')==typeof _0xa1da76[_0x1a9f('0x93a')]&&_0x1f9304[_0x1a9f('0x93f')]==_0xa1da76[_0x1a9f('0x93a')]&&_0xa1da76[_0x1a9f('0x4cb')]['push'](_0x4b8f61);}}catch(_0x3b7db5){_0x47b025=!0x0,_0x1fd6d3=_0x3b7db5;}finally{try{!_0x30c0e4&&_0x987f7e[_0x1a9f('0xd0')]&&_0x987f7e[_0x1a9f('0xd0')]();}finally{if(_0x47b025)throw _0x1fd6d3;}}}}catch(_0x98d571){_0x1a6a94=!0x0,_0x1bcfff=_0x98d571;}finally{try{!_0x4d6f31&&_0x2e1f6a[_0x1a9f('0xd0')]&&_0x2e1f6a[_0x1a9f('0xd0')]();}finally{if(_0x1a6a94)throw _0x1bcfff;}}var _0x4298aa=!0x0,_0x9c278f=!0x1,_0x1a6a94=void 0x0;try{for(var _0x5d2571,_0x35817d=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x21ec0c);!(_0x4298aa=(_0x5d2571=_0x35817d[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4298aa=!0x0){var _0x1dcb70=_0x5d2571['value'],_0x5da249=this[_0x1a9f('0x931')]({'color':_0x1dcb70['color'],'list':_0x1dcb70[_0x1a9f('0x4cb')],'height':_0x155115[_0x1a9f('0x33b')],'lineWidth':_0x155115[_0x1a9f('0x312')],'coordTrans':_0x155115[_0x1a9f('0x933')],'lineTexture':_0x155115[_0x1a9f('0x93d')],'isHightLight':_0x155115['isHightLight'],'speed':_0x155115[_0x1a9f('0x341')]},map['mapView']);this[_0x1a9f('0x92a')]['add'](_0x5da249[_0x1a9f('0x343')]),this[_0x1a9f('0x832')][_0x1a9f('0x70')](_0x5da249);}}catch(_0x2c1b15){_0x9c278f=!0x0,_0x1a6a94=_0x2c1b15;}finally{try{!_0x4298aa&&_0x35817d[_0x1a9f('0xd0')]&&_0x35817d[_0x1a9f('0xd0')]();}finally{if(_0x9c278f)throw _0x1a6a94;}}}},{'key':_0x1a9f('0x84a'),'value':function(_0x155115,_0x1a6a94,_0x9c278f,_0x21ec0c){_0x21ec0c&&(this[_0x1a9f('0x941')]=_0x21ec0c),this[_0x1a9f('0x942')]();var _0x1c6eaa,_0x1bcfff=this[_0x1a9f('0x90')][_0x1a9f('0x943')](_0x1a6a94);if(_0x1bcfff){for(var _0x1b3377 in _0x155115){_0x1b3377=_0x155115[_0x1b3377];if(_0x1b3377[_0x1a9f('0x429')]=this['computeTileRoutesData'](_0x1b3377),_0x1b3377['points']=this[_0x1a9f('0x90')][_0x1a9f('0x944')]({'from':this[_0x1a9f('0x90')][_0x1a9f('0x945')],'to':this[_0x1a9f('0x90')][_0x1a9f('0x946')],'coords':_0x1b3377[_0x1a9f('0x429')],'flipX':!0x1}),this[_0x1a9f('0x92d')][_0x1b3377[_0x1a9f('0x63')]]){var _0x1bd196=this[_0x1a9f('0x92d')][_0x1b3377[_0x1a9f('0x63')]][_0x1a9f('0x4ea')](_0x1b3377[_0x1a9f('0x429')],new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')]['mapScene'][_0x1a9f('0x3b')],0x0,this[_0x1a9f('0x90')][_0x1a9f('0x3a')][_0x1a9f('0x3c')]));if(_0x21ec0c){var _0x1fc2bb=[],_0x14d8ba=_0x1bd196[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')];this[_0x1a9f('0x92f')][_0x1a9f('0x30c')](_0x1a9f('0x3f1'));for(var _0x1971a9=0x0;_0x1971a9<_0x14d8ba;_0x1971a9++)_0x1fc2bb[_0x1a9f('0x70')](this['tempColor']['r'],this[_0x1a9f('0x92f')]['g'],this[_0x1a9f('0x92f')]['b']);_0x1bd196[_0x1a9f('0x1f0')]('changeColor',new THREE[(_0x1a9f('0x10c'))](new Float32Array(_0x1fc2bb),0x3)),this[_0x1a9f('0x92d')][_0x1b3377[_0x1a9f('0x63')]]['idColorMapping'][_0x1b3377[_0x1a9f('0x947')]]={'count':_0x14d8ba,'colorStr':'#FFFFFF'};}this['tileRoutesMarkers'][_0x1b3377[_0x1a9f('0x63')]][_0x1a9f('0x948')][_0x1a9f('0x70')](_0x1bd196);}}for(var _0x25643d in this[_0x1a9f('0x92d')])0x0<this[_0x1a9f('0x92d')][_0x25643d]['geometries']['length']&&(_0x1c6eaa=this[_0x1a9f('0x949')](this[_0x1a9f('0x92d')][_0x25643d][_0x1a9f('0x948')]),_0x1c6eaa=new THREE['Mesh'](_0x1c6eaa,this['tileRoutesMarkers'][_0x25643d][_0x1a9f('0x94a')]),_0x9c278f&&_0x1c6eaa[_0x1a9f('0x4d0')][_0x1a9f('0x211')](0x1),_0x1c6eaa[_0x1a9f('0x323')]=0x14,_0x1c6eaa['tileCode']=_0x1a6a94,_0x1c6eaa[_0x1a9f('0x427')]='tile_route_line',_0x1c6eaa[_0x1a9f('0x94b')]=this['tileRoutesMarkers'][_0x25643d]['idColorMapping'],_0x1bcfff[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x1c6eaa),this['tileRoutesMarkers'][_0x25643d][_0x1a9f('0x948')][_0x1a9f('0xf')]=0x0,this[_0x1a9f('0x92d')][_0x25643d][_0x1a9f('0x94c')]={});}}},{'key':_0x1a9f('0x949'),'value':function(_0x155115){var _0x1a6a94=[],_0x9c278f=!0x0,_0x21ec0c=!0x1,_0x1c6eaa=void 0x0;try{for(var _0x1bcfff,_0x1b3377=(0x0,_0x4170e1[_0x1a9f('0xa')])(_0x155115);!(_0x9c278f=(_0x1bcfff=_0x1b3377[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x9c278f=!0x0){var _0x3a55e7=_0x1bcfff['value'];_0x1a6a94[_0x1a9f('0x70')](_0x3a55e7);}}catch(_0x3dc590){_0x21ec0c=!0x0,_0x1c6eaa=_0x3dc590;}finally{try{!_0x9c278f&&_0x1b3377[_0x1a9f('0xd0')]&&_0x1b3377[_0x1a9f('0xd0')]();}finally{if(_0x21ec0c)throw _0x1c6eaa;}}_0x155115=THREE[_0x1a9f('0x94d')][_0x1a9f('0x94e')](_0x1a6a94,!0x1);return _0x155115['addGroup'](0x0,_0x155115[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')],0x0),_0x155115;}},{'key':_0x1a9f('0x94f'),'value':function(_0x155115){for(var _0x1a6a94 in this['tileRoutesMarkers'])this[_0x1a9f('0x92d')][_0x1a6a94][_0x1a9f('0x4eb')](!0x0);for(var _0x9c278f=0x0,_0x21ec0c=this[_0x1a9f('0x90')][_0x1a9f('0x950')][_0x1a9f('0xf')];_0x9c278f<_0x21ec0c;_0x9c278f++)for(var _0x1c6eaa=0x0,_0x1bcfff=this[_0x1a9f('0x90')][_0x1a9f('0x950')][_0x9c278f][_0x1a9f('0x49c')][_0x1a9f('0x32d')][_0x1a9f('0xf')];_0x1c6eaa<_0x1bcfff;_0x1c6eaa++)if(_0x1a9f('0x951')===this['map']['tileList'][_0x9c278f][_0x1a9f('0x49c')]['children'][_0x1c6eaa][_0x1a9f('0x427')]){var _0x1b3377,_0x1505f2=this[_0x1a9f('0x90')][_0x1a9f('0x950')][_0x9c278f][_0x1a9f('0x49c')][_0x1a9f('0x32d')][_0x1c6eaa],_0x186bc3=_0x1505f2[_0x1a9f('0x91')]['attributes'][_0x1a9f('0x952')],_0xa2dceb=0x0;for(_0x1b3377 in _0x1505f2[_0x1a9f('0x94b')]){_0x1505f2[_0x1a9f('0x94b')][_0x1b3377]['colorStr']=_0x155115[Math['floor'](0x3*Math['random']())],this['tempColor']['setStyle'](_0x1505f2[_0x1a9f('0x94b')][_0x1b3377][_0x1a9f('0x30a')]);for(var _0x509c11=0x3*_0xa2dceb,_0x39d807=0x3*(_0xa2dceb+_0x1505f2[_0x1a9f('0x94b')][_0x1b3377]['count']);_0x509c11<_0x39d807;_0x509c11+=0x3)_0x186bc3[_0x1a9f('0xe0')][_0x509c11]=this[_0x1a9f('0x92f')]['r'],_0x186bc3['array'][_0x509c11+0x1]=this[_0x1a9f('0x92f')]['g'],_0x186bc3[_0x1a9f('0xe0')][_0x509c11+0x2]=this[_0x1a9f('0x92f')]['b'];_0xa2dceb+=_0x1505f2['lineColorMapping'][_0x1b3377][_0x1a9f('0x100')];}_0x186bc3[_0x1a9f('0x101')]=!0x0;}this[_0x1a9f('0x953')]=!0x0;}},{'key':'updateTileRoutesStyle','value':function(_0x155115){var _0x1a6a94=void 0x0,_0x9c278f=void 0x0;if(_0x155115?(_0x1a6a94=_0x155115[_0x1a9f('0x954')],_0x9c278f=_0x155115['lineScale'],this[_0x1a9f('0x92e')]=_0x155115):(_0x1a6a94=this[_0x1a9f('0x92e')]['colorList'],_0x9c278f=this[_0x1a9f('0x92e')][_0x1a9f('0x955')]),_0x1a6a94&&this['updateTileRoutesRandomColors'](_0x1a6a94),_0x9c278f)for(var _0x21ec0c in this[_0x1a9f('0x92d')])this['tileRoutesMarkers'][_0x21ec0c][_0x1a9f('0x4ec')](_0x9c278f);}},{'key':_0x1a9f('0x87a'),'value':function(){if(this[_0x1a9f('0x92e')]){for(var _0x155115 in this[_0x1a9f('0x92d')])this[_0x1a9f('0x92d')][_0x155115][_0x1a9f('0x4eb')](!0x1),this[_0x1a9f('0x92d')][_0x155115][_0x1a9f('0x4ec')](0x1);this[_0x1a9f('0x953')]=!0x1,this[_0x1a9f('0x92e')]=null;}}},{'key':'toggleTileRoutesVisible','value':function(){var _0x155115,_0x1a6a94=0x0<arguments['length']&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0x155115 in this[_0x1a9f('0x92d')])this[_0x1a9f('0x92d')][_0x155115][_0x1a9f('0x94a')][_0x1a9f('0x342')]=_0x1a6a94;}},{'key':'createTileRouteStyles','value':function(){if(!this[_0x1a9f('0x92b')]){for(var _0x155115 in this[_0x1a9f('0x956')]=new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x855'))](_0x1a9f('0x957'),esmap[_0x1a9f('0x857')]['EFFECT_MARKER']),esmap[_0x1a9f('0x53')][_0x1a9f('0x858')](this[_0x1a9f('0x956')]),this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0x958')]){var _0x1a6a94=this['map'][_0x1a9f('0x43')][_0x1a9f('0x958')][_0x155115],_0x9c278f=(_0x1a6a94[_0x1a9f('0x21e')]=esmap[_0x1a9f('0x3e')]['colorRGB2Hex'](_0x1a6a94[_0x1a9f('0x21e')]),null),_0x9c278f=(0x1==_0x1a6a94['filltype']&&(_0x9c278f=_0x1a6a94[_0x1a9f('0x21e')]),new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x959'))](esmap[_0x1a9f('0x271')][_0x1a9f('0x4e8')],{'color':_0x9c278f,'height':0x0,'lineWidth':1.5*_0x1a6a94['linewidth'],'imgUrl':0x2==_0x1a6a94['filltype']?_0x1a6a94[_0x1a9f('0x95a')]:null,'speed':_0x1a6a94[_0x1a9f('0x95b')]/0xc8,'isCanChangeStyle':this['isCanChangeTileRoutesStyle'],'opacity':_0x1a6a94[_0x1a9f('0x1ff')]}));this[_0x1a9f('0x956')]['addMarker'](_0x9c278f),this[_0x1a9f('0x92d')][_0x155115]=_0x9c278f,this[_0x1a9f('0x92d')][_0x155115]['geometries']=[],this[_0x1a9f('0x92d')][_0x155115][_0x1a9f('0x94c')]={};}this[_0x1a9f('0x92b')]=!0x0;}}},{'key':'computeTileRoutesData','value':function(_0x155115){var _0x1a6a94=_0x155115[_0x1a9f('0x95c')]['substring'](0x2,_0x155115[_0x1a9f('0x95c')][_0x1a9f('0xf')]-0x2)['split'](/,/),_0x9c278f={'x':0x0,'y':0x0};if(0x0!=_0x1a6a94['length']){for(var _0x21ec0c=[],_0x1c6eaa=0x0;_0x1c6eaa<_0x1a6a94[_0x1a9f('0xf')];_0x1c6eaa++){var _0x1bcfff=_0x1a6a94[_0x1c6eaa][_0x1a9f('0x5f')]('\x20'),_0x1b3377=+_0x1bcfff[0x2]||0x0;_0x21ec0c['push']({'x':+_0x1bcfff[0x0]+_0x9c278f['x'],'y':+_0x1bcfff[0x1]+_0x9c278f['y'],'offset':_0x1b3377}),0x0==_0x1c6eaa&&(_0x9c278f['x']=+_0x1bcfff[0x0],_0x9c278f['y']=+_0x1bcfff[0x1]);}return _0x21ec0c;}}},{'key':_0x1a9f('0x33c'),'value':function(){for(var _0x155115,_0x1a6a94=0x0,_0x9c278f=this['routesMarkers']['length'];_0x1a6a94<_0x9c278f;_0x1a6a94++)this[_0x1a9f('0x832')][_0x1a6a94][_0x1a9f('0x8f')](),this[_0x1a9f('0x832')][_0x1a6a94]=null;for(_0x155115 in this[_0x1a9f('0x832')][_0x1a9f('0xf')]=0x0,this[_0x1a9f('0x92c')]&&(this[_0x1a9f('0x92c')]['dispose'](),this[_0x1a9f('0x92c')]=null),this[_0x1a9f('0x92d')])delete this[_0x1a9f('0x92d')][_0x155115];}},{'key':_0x1a9f('0x340'),'value':function(){if(0x0<this[_0x1a9f('0x832')]['length']){var _0x155115=!0x0,_0x1a6a94=!0x1,_0x9c278f=void 0x0;try{for(var _0x21ec0c,_0x1c6eaa=(0x0,_0x4170e1['default'])(this[_0x1a9f('0x832')]);!(_0x155115=(_0x21ec0c=_0x1c6eaa[_0x1a9f('0x79')]())['done']);_0x155115=!0x0)_0x21ec0c[_0x1a9f('0x11')][_0x1a9f('0x340')]();}catch(_0x411bff){_0x1a6a94=!0x0,_0x9c278f=_0x411bff;}finally{try{!_0x155115&&_0x1c6eaa[_0x1a9f('0xd0')]&&_0x1c6eaa[_0x1a9f('0xd0')]();}finally{if(_0x1a6a94)throw _0x9c278f;}}}}}]),_0x1a6a94['default']=_0x1b3377;},function(_0x2ae407,_0x4b38b7,_0x494b2d){'use strict';Object['defineProperty'](_0x4b38b7,_0x1a9f('0x5'),{'value':!0x0});var _0x43f377=_0x21ccfd(_0x494b2d(0x0));function _0x21ccfd(_0x2ae407){return _0x2ae407&&_0x2ae407[_0x1a9f('0x5')]?_0x2ae407:{'default':_0x2ae407};}function _0x4468c5(){(0x0,_0x43f377[_0x1a9f('0xa')])(this,_0x4468c5);}(0x0,_0x21ccfd(_0x494b2d(0x1))['default'])(_0x4468c5,null,[{'key':_0x1a9f('0x35d'),'value':function(_0x2ae407,_0x4b38b7){var _0x494b2d=[],_0x2ae407=20037508.342789*_0x2ae407/0xb4,_0x4b38b7=Math[_0x1a9f('0x486')](Math[_0x1a9f('0x95d')]((0x5a+_0x4b38b7)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x494b2d['push'](_0x2ae407),_0x494b2d[_0x1a9f('0x70')](_0x4b38b7),_0x494b2d;}},{'key':_0x1a9f('0x35f'),'value':function(_0x2ae407,_0x4b38b7){var _0x494b2d=[],_0x2ae407=_0x2ae407/20037508.342789*0xb4,_0x4b38b7=_0x4b38b7/20037508.342789*0xb4,_0x4b38b7=0xb4/Math['PI']*(0x2*Math[_0x1a9f('0x95e')](Math[_0x1a9f('0x95f')](_0x4b38b7*Math['PI']/0xb4))-Math['PI']/0x2);return _0x494b2d['push'](_0x2ae407),_0x494b2d[_0x1a9f('0x70')](_0x4b38b7),_0x494b2d;}}]),_0x4b38b7[_0x1a9f('0xa')]=_0x4468c5;},function(_0x4e2aaa,_0x3e8ca8,_0x20e454){'use strict';var _0x24759d=_0x15bb8c(_0x20e454(0xaa)),_0xc66039=_0x15bb8c(_0x20e454(0xf9)),_0x5eb0bb=_0x15bb8c(_0x20e454(0x3d)),_0x3f8985=_0x15bb8c(_0x20e454(0x84));function _0x15bb8c(_0x4e2aaa){return _0x4e2aaa&&_0x4e2aaa[_0x1a9f('0x5')]?_0x4e2aaa:{'default':_0x4e2aaa};}THREE['BufferGeometryUtils2']={'computeTangents':function(_0x4e2aaa){var _0x51f007=_0x4e2aaa[_0x1a9f('0x308')],_0x3e8ca8=_0x4e2aaa[_0x1a9f('0x16b')];if(null!==_0x51f007&&void 0x0!==_0x3e8ca8[_0x1a9f('0x42')]&&void 0x0!==_0x3e8ca8[_0x1a9f('0x960')]&&void 0x0!==_0x3e8ca8['uv']){for(var _0x20e454=_0x51f007['array'],_0x15bb8c=_0x3e8ca8[_0x1a9f('0x42')][_0x1a9f('0xe0')],_0x36d798=_0x3e8ca8['normal'][_0x1a9f('0xe0')],_0x2d151b=_0x3e8ca8['uv']['array'],_0x112d1f=_0x15bb8c[_0x1a9f('0xf')]/0x3,_0x538c05=(void 0x0===_0x3e8ca8[_0x1a9f('0x961')]&&_0x4e2aaa[_0x1a9f('0x1f0')]('tangent',new THREE[(_0x1a9f('0x10c'))](new Float32Array(0x4*_0x112d1f),0x4)),_0x3e8ca8['tangent'][_0x1a9f('0xe0')]),_0x4691a7=[],_0x12b225=[],_0x161700=0x0;_0x161700<_0x112d1f;_0x161700++)_0x4691a7[_0x161700]=new THREE[(_0x1a9f('0x1b5'))](),_0x12b225[_0x161700]=new THREE[(_0x1a9f('0x1b5'))]();for(var _0x31c678,_0xdc6fe6,_0x576c91,_0x40f610,_0x51ad1e,_0x391c31,_0x55d450,_0x33585a,_0x12045e,_0x413b29,_0x34de8d,_0x489869,_0x3f8985,_0x3c7335,_0x6a57b7=new THREE[(_0x1a9f('0x1b5'))](),_0xe578bd=new THREE[(_0x1a9f('0x1b5'))](),_0x2f3997=new THREE[(_0x1a9f('0x1b5'))](),_0x18633f=new THREE[(_0x1a9f('0x1b3'))](),_0x2bda89=new THREE[(_0x1a9f('0x1b3'))](),_0x165709=new THREE[(_0x1a9f('0x1b3'))](),_0x2ac237=new THREE[(_0x1a9f('0x1b5'))](),_0x47c2ed=new THREE[(_0x1a9f('0x1b5'))](),_0x3ee9e4=_0x4e2aaa['groups'],_0x161700=0x0,_0x5597aa=(_0x3ee9e4=0x0===_0x3ee9e4[_0x1a9f('0xf')]?[{'start':0x0,'count':_0x20e454[_0x1a9f('0xf')]}]:_0x3ee9e4)['length'];_0x161700<_0x5597aa;++_0x161700)for(var _0x3ba77e=_0x4a3384=(_0x5eb0bb=_0x3ee9e4[_0x161700])[_0x1a9f('0x2e2')],_0x2846d2=_0x4a3384+_0x5eb0bb['count'];_0x3ba77e<_0x2846d2;_0x3ba77e+=0x3)_0x31c678=_0x20e454[_0x3ba77e+0x0],_0xdc6fe6=_0x20e454[_0x3ba77e+0x1],_0x576c91=_0x20e454[_0x3ba77e+0x2],0x0,_0x6a57b7['fromArray'](_0x15bb8c,0x3*_0x31c678),_0xe578bd[_0x1a9f('0x398')](_0x15bb8c,0x3*_0xdc6fe6),_0x2f3997['fromArray'](_0x15bb8c,0x3*_0x576c91),_0x18633f[_0x1a9f('0x398')](_0x2d151b,0x2*_0x31c678),_0x2bda89[_0x1a9f('0x398')](_0x2d151b,0x2*_0xdc6fe6),_0x165709['fromArray'](_0x2d151b,0x2*_0x576c91),_0x40f610=_0xe578bd['x']-_0x6a57b7['x'],_0x51ad1e=_0x2f3997['x']-_0x6a57b7['x'],_0x391c31=_0xe578bd['y']-_0x6a57b7['y'],_0x55d450=_0x2f3997['y']-_0x6a57b7['y'],_0x33585a=_0xe578bd['z']-_0x6a57b7['z'],_0x12045e=_0x2f3997['z']-_0x6a57b7['z'],_0x413b29=_0x2bda89['x']-_0x18633f['x'],_0x34de8d=_0x165709['x']-_0x18633f['x'],_0x489869=_0x2bda89['y']-_0x18633f['y'],_0x3f8985=_0x165709['y']-_0x18633f['y'],_0x2ac237['set']((_0x3f8985*_0x40f610-_0x489869*_0x51ad1e)*(_0x3c7335=0x1/(_0x413b29*_0x3f8985-_0x34de8d*_0x489869)),(_0x3f8985*_0x391c31-_0x489869*_0x55d450)*_0x3c7335,(_0x3f8985*_0x33585a-_0x489869*_0x12045e)*_0x3c7335),_0x47c2ed[_0x1a9f('0x1d')]((_0x413b29*_0x51ad1e-_0x34de8d*_0x40f610)*_0x3c7335,(_0x413b29*_0x55d450-_0x34de8d*_0x391c31)*_0x3c7335,(_0x413b29*_0x12045e-_0x34de8d*_0x33585a)*_0x3c7335),_0x4691a7[_0x31c678][_0x1a9f('0x1c0')](_0x2ac237),_0x4691a7[_0xdc6fe6][_0x1a9f('0x1c0')](_0x2ac237),_0x4691a7[_0x576c91][_0x1a9f('0x1c0')](_0x2ac237),_0x12b225[_0x31c678]['add'](_0x47c2ed),_0x12b225[_0xdc6fe6]['add'](_0x47c2ed),_0x12b225[_0x576c91]['add'](_0x47c2ed);for(var _0x279a3f,_0x24759d=new THREE[(_0x1a9f('0x1b5'))](),_0x5c9fa9=new THREE['Vector3'](),_0xc66039=new THREE['Vector3'](),_0x512d6d=new THREE['Vector3'](),_0x161700=0x0,_0x5597aa=_0x3ee9e4[_0x1a9f('0xf')];_0x161700<_0x5597aa;++_0x161700)for(var _0x5eb0bb,_0x4a3384,_0x3ba77e=_0x4a3384=(_0x5eb0bb=_0x3ee9e4[_0x161700])[_0x1a9f('0x2e2')],_0x2846d2=_0x4a3384+_0x5eb0bb['count'];_0x3ba77e<_0x2846d2;_0x3ba77e+=0x3)_0xae00be(_0x20e454[_0x3ba77e+0x0]),_0xae00be(_0x20e454[_0x3ba77e+0x1]),_0xae00be(_0x20e454[_0x3ba77e+0x2]);}function _0xae00be(_0x4e2aaa){_0xc66039[_0x1a9f('0x398')](_0x36d798,0x3*_0x4e2aaa),_0x512d6d[_0x1a9f('0x1ba')](_0xc66039),_0x279a3f=_0x4691a7[_0x4e2aaa],_0x24759d['copy'](_0x279a3f),_0x24759d[_0x1a9f('0x306')](_0xc66039['multiplyScalar'](_0xc66039[_0x1a9f('0x962')](_0x279a3f)))[_0x1a9f('0x1bf')](),_0x5c9fa9['crossVectors'](_0x512d6d,_0x279a3f),_0x279a3f=_0x5c9fa9[_0x1a9f('0x962')](_0x12b225[_0x4e2aaa]),_0x279a3f=_0x279a3f<0x0?-0x1:0x1,_0x538c05[0x4*_0x4e2aaa]=_0x24759d['x'],_0x538c05[0x4*_0x4e2aaa+0x1]=_0x24759d['y'],_0x538c05[0x4*_0x4e2aaa+0x2]=_0x24759d['z'],_0x538c05[0x4*_0x4e2aaa+0x3]=_0x279a3f;}},'splitBufferGeometryByLimit':function(_0x4e2aaa,_0x3e8ca8,_0x20e454){_0x20e454=(null===_0x20e454?0x1/0x0:_0x20e454)||0xc350;for(var _0x15bb8c=0x0,_0x30ab94=0x0,_0x3e83e1=[[]],_0xe34acb=0x0;_0xe34acb<_0x4e2aaa[_0x1a9f('0xf')];_0xe34acb++){var _0x3e6146=_0x4e2aaa[_0xe34acb];_0x3e6146[_0x1a9f('0x16b')][_0x1a9f('0x42')]&&((_0x15bb8c+=_0x3e6146[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')])<_0x20e454?(_0x3e83e1[_0x30ab94]instanceof Array||(_0x3e83e1[_0x30ab94]=[]),_0x3e83e1[_0x30ab94][_0x1a9f('0x70')](_0x3e6146)):(_0x15bb8c=0x0,_0x3e83e1[_0x30ab94]instanceof Array||(_0x3e83e1[_0x30ab94]=[]),_0x3e83e1[_0x30ab94][_0x1a9f('0x70')](_0x3e6146),_0x30ab94++));}for(var _0x154539=[],_0x351524=0x0;_0x351524<_0x3e83e1[_0x1a9f('0xf')];_0x351524++){var _0x2d4344=this['mergeBufferGeometries'](_0x3e83e1[_0x351524],_0x3e8ca8);_0x154539[_0x1a9f('0x70')](_0x2d4344);}return _0x154539;},'mergeBufferGeometries':function(_0x4e2aaa,_0x3e8ca8){for(var _0x20e454=null!==_0x4e2aaa[0x0][_0x1a9f('0x308')],_0x15bb8c=new _0x3f8985[(_0x1a9f('0xa'))]((0x0,_0x5eb0bb['default'])(_0x4e2aaa[0x0][_0x1a9f('0x16b')])),_0x30f1ea=new _0x3f8985[(_0x1a9f('0xa'))]((0x0,_0x5eb0bb[_0x1a9f('0xa')])(_0x4e2aaa[0x0][_0x1a9f('0x6a1')])),_0x115ee5={},_0x11a4ff={},_0x2a2957=new THREE[(_0x1a9f('0x32e'))](),_0x4609ca=0x0,_0x2cb7dc=0x0;_0x2cb7dc<_0x4e2aaa[_0x1a9f('0xf')];++_0x2cb7dc){var _0x3419d2,_0x4272c2,_0x4c2ce6=_0x4e2aaa[_0x2cb7dc];if(_0x20e454!=(null!==_0x4c2ce6[_0x1a9f('0x308')]))return null;for(_0x3419d2 in _0x4c2ce6[_0x1a9f('0x16b')]){if(!_0x15bb8c[_0x1a9f('0x963')](_0x3419d2))return null;void 0x0===_0x115ee5[_0x3419d2]&&(_0x115ee5[_0x3419d2]=[]),_0x115ee5[_0x3419d2][_0x1a9f('0x70')](_0x4c2ce6[_0x1a9f('0x16b')][_0x3419d2]);}for(_0x3419d2 in _0x4c2ce6[_0x1a9f('0x6a1')]){if(!_0x30f1ea[_0x1a9f('0x963')](_0x3419d2))return null;void 0x0===_0x11a4ff[_0x3419d2]&&(_0x11a4ff[_0x3419d2]=[]),_0x11a4ff[_0x3419d2][_0x1a9f('0x70')](_0x4c2ce6[_0x1a9f('0x6a1')][_0x3419d2]);}if(_0x2a2957[_0x1a9f('0x49')][_0x1a9f('0x964')]=_0x2a2957['userData'][_0x1a9f('0x964')]||[],_0x2a2957[_0x1a9f('0x49')][_0x1a9f('0x964')]['push'](_0x4c2ce6[_0x1a9f('0x49')]),_0x3e8ca8){if(_0x20e454)_0x4272c2=_0x4c2ce6['index'][_0x1a9f('0x100')];else{if(void 0x0===_0x4c2ce6[_0x1a9f('0x16b')][_0x1a9f('0x42')])return null;_0x4272c2=_0x4c2ce6['attributes'][_0x1a9f('0x42')][_0x1a9f('0x100')];}_0x2a2957[_0x1a9f('0x965')](_0x4609ca,_0x4272c2,_0x2cb7dc),_0x4609ca+=_0x4272c2;}}if(_0x20e454){for(var _0x4c103e=0x0,_0x36138d=[],_0x2cb7dc=0x0;_0x2cb7dc<_0x4e2aaa[_0x1a9f('0xf')];++_0x2cb7dc){for(var _0x14c90a=_0x4e2aaa[_0x2cb7dc][_0x1a9f('0x308')],_0x167896=0x0;_0x167896<_0x14c90a[_0x1a9f('0x100')];++_0x167896)_0x36138d[_0x1a9f('0x70')](_0x14c90a[_0x1a9f('0x72d')](_0x167896)+_0x4c103e);_0x4c103e+=_0x4e2aaa[_0x2cb7dc][_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')];}_0x2a2957['setIndex'](_0x36138d);}for(_0x3419d2 in _0x115ee5){var _0x36ffe1=this[_0x1a9f('0x966')](_0x115ee5[_0x3419d2]);if(!_0x36ffe1)return null;_0x2a2957['addAttribute'](_0x3419d2,_0x36ffe1);}for(_0x3419d2 in _0x11a4ff){var _0x4cbec3=_0x11a4ff[_0x3419d2][0x0][_0x1a9f('0xf')];if(0x0===_0x4cbec3)break;for(_0x2a2957[_0x1a9f('0x6a1')]=_0x2a2957[_0x1a9f('0x6a1')]||{},_0x2a2957[_0x1a9f('0x6a1')][_0x3419d2]=[],_0x2cb7dc=0x0;_0x2cb7dc<_0x4cbec3;++_0x2cb7dc){for(var _0x50b557=[],_0x167896=0x0;_0x167896<_0x11a4ff[_0x3419d2]['length'];++_0x167896)_0x50b557['push'](_0x11a4ff[_0x3419d2][_0x167896][_0x2cb7dc]);var _0xf9fb1f=this['mergeBufferAttributes'](_0x50b557);if(!_0xf9fb1f)return null;_0x2a2957[_0x1a9f('0x6a1')][_0x3419d2][_0x1a9f('0x70')](_0xf9fb1f);}}return _0x2a2957;},'mergeBufferAttributes':function(_0x4e2aaa){for(var _0x3e8ca8,_0x20e454,_0x15bb8c,_0x55517f=0x0,_0x443d6e=0x0;_0x443d6e<_0x4e2aaa[_0x1a9f('0xf')];++_0x443d6e){var _0x3e15fc=_0x4e2aaa[_0x443d6e];if(_0x3e15fc[_0x1a9f('0x967')])return null;if((_0x3e8ca8=void 0x0===_0x3e8ca8?_0x3e15fc[_0x1a9f('0xe0')][_0x1a9f('0x85')]:_0x3e8ca8)!==_0x3e15fc['array'][_0x1a9f('0x85')])return null;if((_0x20e454=void 0x0===_0x20e454?_0x3e15fc[_0x1a9f('0x10b')]:_0x20e454)!==_0x3e15fc[_0x1a9f('0x10b')])return null;if((_0x15bb8c=void 0x0===_0x15bb8c?_0x3e15fc[_0x1a9f('0x968')]:_0x15bb8c)!==_0x3e15fc[_0x1a9f('0x968')])return null;_0x55517f+=_0x3e15fc[_0x1a9f('0xe0')][_0x1a9f('0xf')];}for(var _0x31ddac=new _0x3e8ca8(_0x55517f),_0x537a10=0x0,_0x443d6e=0x0;_0x443d6e<_0x4e2aaa['length'];++_0x443d6e)_0x31ddac[_0x1a9f('0x1d')](_0x4e2aaa[_0x443d6e]['array'],_0x537a10),_0x537a10+=_0x4e2aaa[_0x443d6e]['array'][_0x1a9f('0xf')];return new THREE[(_0x1a9f('0x10c'))](_0x31ddac,_0x20e454,_0x15bb8c);},'interleaveAttributes':function(_0x4e2aaa){for(var _0x3e8ca8,_0x20e454=0x0,_0x15bb8c=0x0,_0x482871=0x0,_0x30b2a7=_0x4e2aaa['length'];_0x482871<_0x30b2a7;++_0x482871){var _0x20bd42=_0x4e2aaa[_0x482871];if((_0x3e8ca8=void 0x0===_0x3e8ca8?_0x20bd42['array'][_0x1a9f('0x85')]:_0x3e8ca8)!==_0x20bd42['array'][_0x1a9f('0x85')])return null;_0x20e454+=_0x20bd42[_0x1a9f('0xe0')]['length'],_0x15bb8c+=_0x20bd42['itemSize'];}for(var _0x25573c=new THREE['InterleavedBuffer'](new _0x3e8ca8(_0x20e454),_0x15bb8c),_0x5d4bcf=0x0,_0x453b3f=[],_0x381207=[_0x1a9f('0x72d'),_0x1a9f('0x72f'),_0x1a9f('0x969'),'getW'],_0x113286=[_0x1a9f('0x96a'),_0x1a9f('0x96b'),'setZ',_0x1a9f('0x96c')],_0x1c3c4f=0x0,_0x30b2a7=_0x4e2aaa[_0x1a9f('0xf')];_0x1c3c4f<_0x30b2a7;_0x1c3c4f++){var _0x37914d=(_0x20bd42=_0x4e2aaa[_0x1c3c4f])['itemSize'],_0x196cf6=_0x20bd42[_0x1a9f('0x100')],_0x989e91=new THREE[(_0x1a9f('0x42f'))](_0x25573c,_0x37914d,_0x5d4bcf,_0x20bd42[_0x1a9f('0x968')]);_0x453b3f[_0x1a9f('0x70')](_0x989e91),_0x5d4bcf+=_0x37914d;for(var _0x29231b=0x0;_0x29231b<_0x196cf6;_0x29231b++)for(var _0x18a72b=0x0;_0x18a72b<_0x37914d;_0x18a72b++)_0x989e91[_0x113286[_0x18a72b]](_0x29231b,_0x20bd42[_0x381207[_0x18a72b]](_0x29231b));}return _0x453b3f;},'estimateBytesUsed':function(_0x4e2aaa){var _0x3e8ca8,_0x20e454=0x0;for(_0x3e8ca8 in _0x4e2aaa['attributes']){var _0x15bb8c=_0x4e2aaa['getAttribute'](_0x3e8ca8);_0x20e454+=_0x15bb8c['count']*_0x15bb8c['itemSize']*_0x15bb8c[_0x1a9f('0xe0')][_0x1a9f('0x96d')];}var _0x1ebaf9=_0x4e2aaa[_0x1a9f('0x6a0')]();return _0x20e454+(_0x1ebaf9?_0x1ebaf9['count']*_0x1ebaf9[_0x1a9f('0x10b')]*_0x1ebaf9[_0x1a9f('0xe0')][_0x1a9f('0x96d')]:0x0);},'mergeVertices':function(_0x4e2aaa){for(var _0x3e8ca8=0x1<arguments['length']&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x3e8ca8=Math[_0x1a9f('0xd9')](_0x3e8ca8,_0xc66039['default']),_0x20e454={},_0x15bb8c=_0x4e2aaa[_0x1a9f('0x6a0')](),_0x44a9fc=_0x4e2aaa['getAttribute']('position'),_0x1b3db9=(_0x15bb8c||_0x44a9fc)['count'],_0x40e495=0x0,_0x23ba51=(0x0,_0x5eb0bb[_0x1a9f('0xa')])(_0x4e2aaa[_0x1a9f('0x16b')]),_0x5239ec={},_0x15a102={},_0x288ad1=[],_0x2398e7=['getX',_0x1a9f('0x72f'),'getZ','getW'],_0x43f85b=0x0,_0x3a5544=_0x23ba51[_0x1a9f('0xf')];_0x43f85b<_0x3a5544;_0x43f85b++)_0x5239ec[_0x5f5b30=_0x23ba51[_0x43f85b]]=[],(_0x58cce7=_0x4e2aaa['morphAttributes'][_0x5f5b30])&&(_0x15a102[_0x5f5b30]=new Array(_0x58cce7[_0x1a9f('0xf')])['fill']()[_0x1a9f('0x90')](function(){return[];}));for(var _0x44a9fc=(0x0,_0x24759d[_0x1a9f('0xa')])(0x1/_0x3e8ca8),_0x38054d=Math['pow'](0xa,_0x44a9fc),_0x43f85b=0x0;_0x43f85b<_0x1b3db9;_0x43f85b++){for(var _0x58702f=_0x15bb8c?_0x15bb8c[_0x1a9f('0x72d')](_0x43f85b):_0x43f85b,_0x565f38='',_0x11bbc8=0x0,_0x3a5544=_0x23ba51['length'];_0x11bbc8<_0x3a5544;_0x11bbc8++)for(var _0x5f5b30=_0x23ba51[_0x11bbc8],_0x4b3e39=(_0x3f8985=_0x4e2aaa[_0x1a9f('0x403')](_0x5f5b30))['itemSize'],_0x7714e=0x0;_0x7714e<_0x4b3e39;_0x7714e++)_0x565f38+=~~(_0x3f8985[_0x2398e7[_0x7714e]](_0x58702f)*_0x38054d)+',';if(_0x565f38 in _0x20e454)_0x288ad1[_0x1a9f('0x70')](_0x20e454[_0x565f38]);else{for(_0x11bbc8=0x0,_0x3a5544=_0x23ba51[_0x1a9f('0xf')];_0x11bbc8<_0x3a5544;_0x11bbc8++)for(var _0x5f5b30=_0x23ba51[_0x11bbc8],_0x3f8985=_0x4e2aaa['getAttribute'](_0x5f5b30),_0x58cce7=_0x4e2aaa[_0x1a9f('0x6a1')][_0x5f5b30],_0x4b3e39=_0x3f8985['itemSize'],_0x400a02=_0x5239ec[_0x5f5b30],_0x3033d3=_0x15a102[_0x5f5b30],_0x7714e=0x0;_0x7714e<_0x4b3e39;_0x7714e++){var _0x3ddf34=_0x2398e7[_0x7714e];if(_0x400a02[_0x1a9f('0x70')](_0x3f8985[_0x3ddf34](_0x58702f)),_0x58cce7)for(var _0x496de8=0x0,_0xe16abb=_0x58cce7[_0x1a9f('0xf')];_0x496de8<_0xe16abb;_0x496de8++)_0x3033d3[_0x496de8][_0x1a9f('0x70')](_0x58cce7[_0x496de8][_0x3ddf34](_0x58702f));}_0x20e454[_0x565f38]=_0x40e495,_0x288ad1['push'](_0x40e495),_0x40e495++;}}for(var _0x1e06c4=_0x4e2aaa[_0x1a9f('0x1af')](),_0x43f85b=0x0,_0x3a5544=_0x23ba51[_0x1a9f('0xf')];_0x43f85b<_0x3a5544;_0x43f85b++){var _0x5f5b30=_0x23ba51[_0x43f85b],_0x3f38cf=_0x4e2aaa['getAttribute'](_0x5f5b30),_0x3302dc=new _0x3f38cf['array'][(_0x1a9f('0x85'))](_0x5239ec[_0x5f5b30]);if(_0x3f38cf[_0x1a9f('0x967')]?_0x3f8985=new THREE['BufferAttribute'](_0x3302dc,_0x3f38cf[_0x1a9f('0x10b')],_0x3f38cf[_0x1a9f('0x10b')]):(_0x3f8985=_0x4e2aaa['getAttribute'](_0x5f5b30)[_0x1a9f('0x1af')]())[_0x1a9f('0x96e')](_0x3302dc),_0x1e06c4[_0x1a9f('0x1f0')](_0x5f5b30,_0x3f8985),_0x5f5b30 in _0x15a102)for(_0x11bbc8=0x0;_0x11bbc8<_0x15a102[_0x5f5b30][_0x1a9f('0xf')];_0x11bbc8++){var _0x436b94=_0x4e2aaa['morphAttributes'][_0x5f5b30][_0x11bbc8][_0x1a9f('0x1af')]();_0x436b94[_0x1a9f('0x96e')](new _0x436b94[(_0x1a9f('0xe0'))][(_0x1a9f('0x85'))](_0x15a102[_0x5f5b30][_0x11bbc8])),_0x1e06c4[_0x1a9f('0x6a1')][_0x5f5b30][_0x11bbc8]=_0x436b94;}}_0x3e8ca8=Uint8Array,_0x288ad1['length']>=Math[_0x1a9f('0x31f')](0x2,0x8)&&(_0x3e8ca8=Uint16Array),_0x44a9fc=new(_0x3e8ca8=_0x288ad1['length']>=(Math[_0x1a9f('0x31f')](0x2,0x10))?Uint32Array:_0x3e8ca8)(_0x288ad1),_0x288ad1=null;return null===_0x15bb8c?_0x288ad1=new THREE['BufferAttribute'](_0x44a9fc,0x1):(_0x288ad1=_0x4e2aaa[_0x1a9f('0x6a0')]()[_0x1a9f('0x1af')]())[_0x1a9f('0x96e')](_0x44a9fc),_0x1e06c4[_0x1a9f('0x39e')](_0x288ad1),_0x1e06c4;}};},function(_0x354c13,_0x4968f6,_0x4419e1){_0x354c13['exports']={'default':_0x4419e1(0xfa),'__esModule':!0x0};},function(_0x498a47,_0x5a9e80,_0x5620b2){_0x5620b2(0xfb),_0x498a47[_0x1a9f('0x0')]=Math[_0x1a9f('0x31f')](0x2,-0x34);},function(_0x3311d5,_0x5b1249,_0x3c428a){_0x3c428a=_0x3c428a(0x3);_0x3c428a(_0x3c428a['S'],'Number',{'EPSILON':Math['pow'](0x2,-0x34)});},function(_0xb72fea,_0x117d53,_0x3d1f66){'use strict';Object[_0x1a9f('0x3')](_0x117d53,_0x1a9f('0x5'),{'value':!0x0});var _0x8ec3d3=_0x18cae2(_0x3d1f66(0x6)),_0xa43fd9=_0x18cae2(_0x3d1f66(0x0)),_0x57cf22=_0x18cae2(_0x3d1f66(0x1)),_0x15c11a=_0x3d1f66(0x1a),_0x22a098=function(_0xb72fea){if(_0xb72fea&&_0xb72fea[_0x1a9f('0x5')])return _0xb72fea;var _0x117d53={};if(null!=_0xb72fea)for(var _0x3d1f66 in _0xb72fea)Object[_0x1a9f('0xb')][_0x1a9f('0xc')]['call'](_0xb72fea,_0x3d1f66)&&(_0x117d53[_0x3d1f66]=_0xb72fea[_0x3d1f66]);return _0x117d53[_0x1a9f('0xa')]=_0xb72fea,_0x117d53;}(_0x3d1f66(0x40)),_0x5d93d9=_0x18cae2(_0x3d1f66(0x45));function _0x18cae2(_0xb72fea){return _0xb72fea&&_0xb72fea['__esModule']?_0xb72fea:{'default':_0xb72fea};}function _0x520b8d(){(0x0,_0xa43fd9[_0x1a9f('0xa')])(this,_0x520b8d),this[_0x1a9f('0x90')]=(0x0,_0x15c11a['getMapInstance'])(),this[_0x1a9f('0x449')]=null,this[_0x1a9f('0x343')]=null,this[_0x1a9f('0x448')]=null,this[_0x1a9f('0x96f')]=[],this[_0x1a9f('0x970')]=!0x0,this[_0x1a9f('0x87c')]=null,this['shaderSky']=null;}(0x0,_0x57cf22[_0x1a9f('0xa')])(_0x520b8d,[{'key':_0x1a9f('0x971'),'value':function(_0xb72fea){this[_0x1a9f('0x87c')][_0x1a9f('0x491')]=_0xb72fea;}},{'key':_0x1a9f('0x87d'),'value':function(_0x117d53){var _0x3d1f66=this;if(this[_0x1a9f('0x87c')]&&_0x117d53[_0x1a9f('0x427')]){var _0xb72fea=this[_0x1a9f('0x921')](_0x117d53[_0x1a9f('0x427')]);if(_0xb72fea)this[_0x1a9f('0x970')]?this['skyboxSwitchAnimate'](this[_0x1a9f('0x87c')]['skyBox']['material']['uniforms'][_0x1a9f('0x455')][_0x1a9f('0x11')],_0xb72fea):this[_0x1a9f('0x972')](this[_0x1a9f('0x87c')][_0x1a9f('0x449')]['material']['uniforms'][_0x1a9f('0x45b')][_0x1a9f('0x11')],_0xb72fea),this[_0x1a9f('0x970')]=!this['isFirstTexCube'];else{for(var _0xa43fd9=0x0,_0x57cf22=_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')];_0xa43fd9<_0x57cf22;_0xa43fd9++)_0x117d53[_0x1a9f('0x91a')][_0xa43fd9]=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53[_0x1a9f('0x91a')][_0xa43fd9]);_0x5d93d9['default'][_0x1a9f('0xd3')](_0x117d53[_0x1a9f('0x91a')])[_0x1a9f('0x362')](function(_0xb72fea){_0xb72fea[_0x1a9f('0x427')]=_0x117d53['name'],_0x3d1f66[_0x1a9f('0x972')](null,_0xb72fea),_0x3d1f66[_0x1a9f('0x96f')][_0x1a9f('0x70')](_0xb72fea);});}}}},{'key':'skyboxSwitchAnimate','value':function(_0xb72fea,_0x117d53){var _0x3d1f66,_0xa43fd9,_0x57cf22=this;_0xb72fea?(_0xa43fd9=_0x3d1f66=0x0,this[_0x1a9f('0x970')]?(_0xa43fd9=0x0,this['skyboxTool'][_0x1a9f('0x449')][_0x1a9f('0x48')]['uniforms'][_0x1a9f('0x456')]['value']=_0x3d1f66=0x1,this[_0x1a9f('0x87c')][_0x1a9f('0x449')][_0x1a9f('0x48')]['uniforms']['tCube'][_0x1a9f('0x11')]=_0x117d53,this[_0x1a9f('0x87c')]['skyBox'][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x455')][_0x1a9f('0x11')]=_0xb72fea):(_0xa43fd9=0x1,this[_0x1a9f('0x87c')][_0x1a9f('0x449')][_0x1a9f('0x48')]['uniforms'][_0x1a9f('0x456')][_0x1a9f('0x11')]=_0x3d1f66=0x0,this[_0x1a9f('0x87c')][_0x1a9f('0x449')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x45b')]['value']=_0xb72fea,this['skyboxTool'][_0x1a9f('0x449')][_0x1a9f('0x48')][_0x1a9f('0x16a')]['tCube2']['value']=_0x117d53),new TWEEN[(_0x1a9f('0x2e0'))]({'x':_0x3d1f66})['to']({'x':_0xa43fd9},0x5dc)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x43a')][_0x1a9f('0x917')])[_0x1a9f('0x2e3')](function(_0xb72fea){_0x57cf22['skyboxTool'][_0x1a9f('0x449')][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x456')][_0x1a9f('0x11')]=_0xb72fea['x'];})[_0x1a9f('0x2e2')]()):(this['skyboxTool'][_0x1a9f('0x449')][_0x1a9f('0x48')][_0x1a9f('0x16a')]['transFactor']['value']=0x0,this[_0x1a9f('0x87c')]['skyBox'][_0x1a9f('0x48')][_0x1a9f('0x16a')][_0x1a9f('0x455')][_0x1a9f('0x11')]=_0x117d53,new TWEEN[(_0x1a9f('0x2e0'))]({'x':0x0})['to']({'x':0x1},0x5dc)[_0x1a9f('0x2e9')](TWEEN['Easing'][_0x1a9f('0x43a')][_0x1a9f('0x917')])[_0x1a9f('0x2e3')](function(_0xb72fea){_0x57cf22[_0x1a9f('0x87c')][_0x1a9f('0x449')]['material'][_0x1a9f('0x16a')][_0x1a9f('0x456')]['value']=_0xb72fea['x'];})[_0x1a9f('0x2e2')]());}},{'key':_0x1a9f('0x921'),'value':function(_0xb72fea){var _0x117d53=!0x0,_0x3d1f66=!0x1,_0xa43fd9=void 0x0;try{for(var _0x57cf22,_0x18cae2=(0x0,_0x8ec3d3['default'])(this[_0x1a9f('0x96f')]);!(_0x117d53=(_0x57cf22=_0x18cae2[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x117d53=!0x0){var _0x520b8d=_0x57cf22[_0x1a9f('0x11')];if(_0x520b8d[_0x1a9f('0x427')]===_0xb72fea)return _0x520b8d;}}catch(_0x3b90f3){_0x3d1f66=!0x0,_0xa43fd9=_0x3b90f3;}finally{try{!_0x117d53&&_0x18cae2[_0x1a9f('0xd0')]&&_0x18cae2['return']();}finally{if(_0x3d1f66)throw _0xa43fd9;}}return null;}},{'key':_0x1a9f('0x8a7'),'value':function(_0x117d53){var _0xb72fea,_0x3d1f66=this;if(_0x117d53&&('box'===_0x117d53[_0x1a9f('0xc6')]||_0x1a9f('0x475')===_0x117d53[_0x1a9f('0xc6')])&&(0x1===_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')]&&(_0xb72fea=(0x0,_0x15c11a['getConfigAssetsPath'])(_0x117d53[_0x1a9f('0x91a')][0x0]),this['skyboxTool']=new _0x22a098[(_0x1a9f('0xba'))]({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),this['skyboxTool']['type']=_0x117d53[_0x1a9f('0xc6')],_0x117d53[_0x1a9f('0x973')]?_0x5d93d9[_0x1a9f('0xa')][_0x1a9f('0xd5')](_0xb72fea)[_0x1a9f('0x362')](function(_0xb72fea){_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')]=_0xb72fea,_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x474')]();}):this[_0x1a9f('0x87c')][_0x1a9f('0x44d')](_0xb72fea,_0x117d53[_0x1a9f('0x310')],function(){_0x1a9f('0x974')===_0x117d53[_0x1a9f('0xc6')]&&_0x3d1f66['skyboxTool'][_0x1a9f('0x452')]({'size':_0x117d53['size'],'offsetY':_0x117d53[_0x1a9f('0x359')]}),_0x1a9f('0x475')===_0x117d53[_0x1a9f('0xc6')]&&_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x474')]();}),this['skyboxTool'][_0x1a9f('0x2b5')](_0x1a9f('0x44c'),function(){_0x3d1f66[_0x1a9f('0x448')]=_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')];})),0x6===_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')])){for(var _0xa43fd9=0x0,_0x57cf22=_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')];_0xa43fd9<_0x57cf22;_0xa43fd9++)_0x117d53[_0x1a9f('0x91a')][_0xa43fd9]=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53[_0x1a9f('0x91a')][_0xa43fd9]);this[_0x1a9f('0x87c')]=new _0x22a098[(_0x1a9f('0xba'))]({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),this[_0x1a9f('0x87c')][_0x1a9f('0xc6')]=_0x117d53['type'],this[_0x1a9f('0x87c')]['createSixPicCubeTexture'](_0x117d53[_0x1a9f('0x91a')],function(){var _0xb72fea;'box'===_0x117d53['type']&&((0x0,_0x15c11a['checkIsCityEngine'])()&&esmap[_0x1a9f('0x975')]?((_0xb72fea=!0x1,_0x15c11a[_0x1a9f('0x2d')])()&&(_0xb72fea=!0x0),_0x3d1f66['skyboxTool']['createBox']({'size':_0x117d53[_0x1a9f('0xe7')],'offsetY':_0x117d53[_0x1a9f('0x359')],'isCullGround':_0xb72fea,'intensity':_0x117d53[_0x1a9f('0x454')]}),_0x3d1f66['skyboxTool'][_0x1a9f('0x449')][_0x1a9f('0x342')]=!0x1):_0x3d1f66[_0x1a9f('0x87c')]['createBox']({'size':_0x117d53['size'],'offsetY':_0x117d53['offsetY'],'intensity':_0x117d53[_0x1a9f('0x454')]})),_0x1a9f('0x475')===_0x117d53[_0x1a9f('0xc6')]&&_0x3d1f66['skyboxTool']['setBackground']();}),this[_0x1a9f('0x87c')]['addEventListener'](_0x1a9f('0x44c'),function(){_0x3d1f66['textureCube']=_0x3d1f66['skyboxTool'][_0x1a9f('0x448')],_0x3d1f66[_0x1a9f('0x448')]['name']=_0x117d53[_0x1a9f('0x427')]||'',_0x3d1f66[_0x1a9f('0x96f')][_0x1a9f('0x70')](_0x3d1f66[_0x1a9f('0x448')]);});}if(_0x117d53&&_0x1a9f('0x976')===_0x117d53['type']&&(this['skyboxTool']=new _0x22a098['Skybox']({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),_0xb72fea=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53['imgPaths'][0x0])),this[_0x1a9f('0x87c')]['createGradientSky']({'radius':_0x117d53[_0x1a9f('0xe7')],'topColorStr':_0x117d53[_0x1a9f('0x45e')],'bottomColorStr':_0x117d53[_0x1a9f('0x45f')],'offset':_0x117d53[_0x1a9f('0x359')],'exponent':_0x117d53[_0x1a9f('0x461')],'texture':_0xb72fea})),_0x117d53&&_0x1a9f('0x977')===_0x117d53[_0x1a9f('0xc6')]&&(0x1===_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')]&&(_0xb72fea=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53['imgPaths'][0x0]),this['skyboxTool']=new _0x22a098[(_0x1a9f('0xba'))]({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),this[_0x1a9f('0x87c')][_0x1a9f('0xc6')]=_0x117d53[_0x1a9f('0xc6')],this['skyboxTool'][_0x1a9f('0x44d')](_0xb72fea,_0x117d53[_0x1a9f('0x310')],function(){_0x3d1f66[_0x1a9f('0x87c')]['createGradientCubeSky']({'size':_0x117d53[_0x1a9f('0xe7')],'offsetY':_0x117d53['offsetY'],'topColorStr':_0x117d53[_0x1a9f('0x45e')],'bottomColorStr':_0x117d53[_0x1a9f('0x45f')]});}),this[_0x1a9f('0x87c')][_0x1a9f('0x2b5')](_0x1a9f('0x44c'),function(){_0x3d1f66[_0x1a9f('0x448')]=_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')];})),0x6===_0x117d53[_0x1a9f('0x91a')]['length'])){for(var _0x18cae2=0x0,_0x520b8d=_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')];_0x18cae2<_0x520b8d;_0x18cae2++)_0x117d53['imgPaths'][_0x18cae2]=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53[_0x1a9f('0x91a')][_0x18cae2]);this['skyboxTool']=new _0x22a098[(_0x1a9f('0xba'))]({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),this[_0x1a9f('0x87c')][_0x1a9f('0xc6')]=_0x117d53['type'],this[_0x1a9f('0x87c')][_0x1a9f('0x44a')](_0x117d53[_0x1a9f('0x91a')],function(){_0x3d1f66[_0x1a9f('0x87c')]['createGradientCubeSky']({'size':_0x117d53[_0x1a9f('0xe7')],'offsetY':_0x117d53[_0x1a9f('0x359')],'topColorStr':_0x117d53[_0x1a9f('0x45e')],'bottomColorStr':_0x117d53[_0x1a9f('0x45f')]});}),this[_0x1a9f('0x87c')][_0x1a9f('0x2b5')](_0x1a9f('0x44c'),function(){_0x3d1f66['textureCube']=_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')];});}if(_0x117d53&&_0x1a9f('0x978')===_0x117d53[_0x1a9f('0xc6')]&&(0x1===_0x117d53['imgPaths'][_0x1a9f('0xf')]&&(_0xb72fea=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53[_0x1a9f('0x91a')][0x0]),this[_0x1a9f('0x87c')]=new _0x22a098['Skybox']({'mapView':this[_0x1a9f('0x90')][_0x1a9f('0x447')]}),this[_0x1a9f('0x87c')][_0x1a9f('0xc6')]=_0x117d53[_0x1a9f('0xc6')],this[_0x1a9f('0x87c')][_0x1a9f('0x44d')](_0xb72fea,_0x117d53['resolution'],function(){_0x3d1f66['skyboxTool'][_0x1a9f('0x979')]({'size':_0x117d53[_0x1a9f('0xe7')]});}),this['skyboxTool'][_0x1a9f('0x2b5')]('canUpdate',function(){_0x3d1f66['textureCube']=_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')];})),0x6===_0x117d53[_0x1a9f('0x91a')][_0x1a9f('0xf')])){for(var _0x8ec3d3=0x0,_0x9363af=_0x117d53['imgPaths'][_0x1a9f('0xf')];_0x8ec3d3<_0x9363af;_0x8ec3d3++)_0x117d53[_0x1a9f('0x91a')][_0x8ec3d3]=(0x0,_0x15c11a[_0x1a9f('0x2f')])(_0x117d53[_0x1a9f('0x91a')][_0x8ec3d3]);this['skyboxTool']=new _0x22a098[(_0x1a9f('0xba'))]({'mapView':this['map']['mapView']}),this[_0x1a9f('0x87c')][_0x1a9f('0xc6')]=_0x117d53[_0x1a9f('0xc6')],this['skyboxTool'][_0x1a9f('0x44a')](_0x117d53[_0x1a9f('0x91a')],function(){_0x3d1f66['skyboxTool']['createSphereCubeSky']({'size':_0x117d53[_0x1a9f('0xe7')]});}),this[_0x1a9f('0x87c')][_0x1a9f('0x2b5')](_0x1a9f('0x44c'),function(){_0x3d1f66[_0x1a9f('0x448')]=_0x3d1f66[_0x1a9f('0x87c')][_0x1a9f('0x448')];});}_0x117d53&&_0x1a9f('0x97a')===_0x117d53[_0x1a9f('0xc6')]&&(this[_0x1a9f('0x97b')]=new _0x22a098[(_0x1a9f('0xbb'))]({'camera':this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x314')]}),(0x0,_0x15c11a['getOS'])(),(_0xb72fea=!0x1,_0x15c11a['checkIsCityEngine'])()&&(0x0,_0x15c11a[_0x1a9f('0x2d')])()&&(_0xb72fea=!0x0),this[_0x1a9f('0x343')]=this[_0x1a9f('0x97b')]['create']({'isCullGround':_0xb72fea}),this[_0x1a9f('0x343')][_0x1a9f('0x342')]=!esmap[_0x1a9f('0x7da')][_0x1a9f('0x7db')],'day'===_0x117d53[_0x1a9f('0x8f4')]&&this['shaderSky'][_0x1a9f('0x47d')](this['shaderSky'][_0x1a9f('0x479')]),'night'===_0x117d53[_0x1a9f('0x8f4')]&&this[_0x1a9f('0x97b')]['setSkyConfig'](this[_0x1a9f('0x97b')][_0x1a9f('0x47a')]),_0x117d53[_0x1a9f('0x97c')]&&_0x117d53['bindLight'][_0x1a9f('0x427')]&&this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x117d53[_0x1a9f('0x97c')][_0x1a9f('0x427')]]&&(_0x117d53['bindLight'][_0x1a9f('0x97d')]&&(this[_0x1a9f('0x97b')]['theta']=_0x117d53[_0x1a9f('0x97c')][_0x1a9f('0x97d')]),_0x117d53[_0x1a9f('0x97c')][_0x1a9f('0x97e')]&&(this['shaderSky'][_0x1a9f('0x483')]=_0x117d53['bindLight']['verticalAngle']),this['shaderSky'][_0x1a9f('0x2e4')]()),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')]['add'](this[_0x1a9f('0x343')]),(0x0,_0x15c11a[_0x1a9f('0x35')])()&&this[_0x1a9f('0x97f')]());}},{'key':'bindTileMapLevelChange','value':function(){var _0x117d53=this,_0x3d1f66=(0x0,_0x15c11a[_0x1a9f('0x2d')])();this[_0x1a9f('0x90')]['on'](_0x1a9f('0x980'),function(_0xb72fea){_0xb72fea<(_0x3d1f66?0x10:0xd)?_0x117d53[_0x1a9f('0x343')]&&(_0x117d53[_0x1a9f('0x343')][_0x1a9f('0x342')]=!0x1):_0x117d53[_0x1a9f('0x343')]&&(_0x117d53['object3d'][_0x1a9f('0x342')]=!0x0);});}},{'key':'dispose','value':function(){this[_0x1a9f('0x448')]=null,this[_0x1a9f('0x87c')]&&this[_0x1a9f('0x87c')]['dispose'](),this[_0x1a9f('0x97b')]&&this[_0x1a9f('0x97b')]['dispose']();}}]),_0x117d53['default']=_0x520b8d;},function(_0x243f3f,_0xeeecb,_0x1cbc1f){'use strict';Object[_0x1a9f('0x3')](_0xeeecb,_0x1a9f('0x5'),{'value':!0x0});var _0x165f68=_0x9dbad(_0x1cbc1f(0x6)),_0x478ddf=_0x9dbad(_0x1cbc1f(0x0)),_0x6388f2=_0x9dbad(_0x1cbc1f(0x1)),_0x5afe42=_0x1cbc1f(0x1a),_0x53b370=function(_0x243f3f){if(_0x243f3f&&_0x243f3f['__esModule'])return _0x243f3f;var _0xeeecb={};if(null!=_0x243f3f)for(var _0x1cbc1f in _0x243f3f)Object[_0x1a9f('0xb')][_0x1a9f('0xc')]['call'](_0x243f3f,_0x1cbc1f)&&(_0xeeecb[_0x1cbc1f]=_0x243f3f[_0x1cbc1f]);return _0xeeecb[_0x1a9f('0xa')]=_0x243f3f,_0xeeecb;}(_0x1cbc1f(0x40)),_0x56fd5d=_0x1cbc1f(0x72);function _0x9dbad(_0x243f3f){return _0x243f3f&&_0x243f3f['__esModule']?_0x243f3f:{'default':_0x243f3f};}function _0x2fb6ac(_0x243f3f){(0x0,_0x478ddf['default'])(this,_0x2fb6ac),this['map']=(0x0,_0x5afe42['getMapInstance'])(),this[_0x1a9f('0x981')]=[],this['skybox']=_0x243f3f,this[_0x1a9f('0x982')]=null,this[_0x1a9f('0x983')]=null;}(0x0,_0x6388f2['default'])(_0x2fb6ac,[{'key':_0x1a9f('0x8a8'),'value':function(_0x243f3f){var _0xeeecb;_0x243f3f[_0x1a9f('0xc6')]&&_0x1a9f('0x84f')===_0x243f3f[_0x1a9f('0xc6')]?((_0xeeecb=this[_0x1a9f('0x984')](_0x243f3f))['name']=_0x243f3f[_0x1a9f('0x427')],this[_0x1a9f('0x981')][_0x1a9f('0x70')](_0xeeecb)):this[_0x1a9f('0x985')](_0x243f3f);}},{'key':_0x1a9f('0x984'),'value':function(_0x243f3f){var _0xeeecb=void 0x0,_0x1cbc1f=_0x243f3f[_0x1a9f('0x986')]?new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x5afe42[_0x1a9f('0x2f')])(_0x243f3f[_0x1a9f('0x986')])):new THREE[(_0x1a9f('0x1c6'))]();return _0x243f3f['skyImg']&&(_0xeeecb=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x5afe42[_0x1a9f('0x2f')])(_0x243f3f['skyImg']))),new _0x53b370[(_0x1a9f('0xa1'))]({'colorStr':_0x243f3f[_0x1a9f('0x21e')],'lightColorStr':_0x243f3f['lightColor'],'scale':_0x243f3f[_0x1a9f('0x1d5')],'speed':_0x243f3f[_0x1a9f('0x341')],'fluctuate':_0x243f3f[_0x1a9f('0x987')],'texture':_0x1cbc1f,'skyTexture':_0xeeecb,'texUvScale':_0x243f3f[_0x1a9f('0x988')],'flowAngle':_0x243f3f[_0x1a9f('0x676')],'opacity':_0x243f3f[_0x1a9f('0x1ff')]});}},{'key':'addWaterShape','value':function(_0x243f3f){var _0xeeecb=(0x0,_0x5afe42[_0x1a9f('0x498')])(0x0)[_0x1a9f('0x499')](_0x243f3f[_0x1a9f('0x8c5')]||0x1)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')][_0x1a9f('0x989')],esmap[_0x1a9f('0x865')][_0x1a9f('0x8c7')]]),_0x1cbc1f=this[_0x1a9f('0x984')](_0x243f3f),_0x478ddf=(_0x1cbc1f[_0x1a9f('0x309')](),!0x0),_0x6388f2=!0x1,_0x53b370=void 0x0;try{for(var _0x9dbad,_0x2fb6ac=(0x0,_0x165f68['default'])(_0xeeecb);!(_0x478ddf=(_0x9dbad=_0x2fb6ac['next']())[_0x1a9f('0xce')]);_0x478ddf=!0x0){var _0x363d16=_0x9dbad['value'],_0x335866=!0x0,_0x16797c=!0x1,_0x1f89ce=void 0x0;try{for(var _0x2344c2,_0x1cf2e9=(0x0,_0x165f68['default'])(_0x363d16[_0x1a9f('0x49c')]['children']);!(_0x335866=(_0x2344c2=_0x1cf2e9[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x335866=!0x0){var _0x4c3dc6=_0x2344c2['value'],_0x179c79=(0x0,_0x5afe42['getMaterialByRoomStyle'])(_0x4c3dc6,_0x243f3f[_0x1a9f('0x45')]);if(_0x179c79){_0x4c3dc6[_0x1a9f('0x48')][_0x179c79['userData'][_0x1a9f('0x308')]]=_0x1cbc1f[_0x1a9f('0x672')](),(0x0,_0x56fd5d[_0x1a9f('0x2ba')])(_0x4c3dc6[_0x1a9f('0x48')][_0x179c79['userData'][_0x1a9f('0x308')]],_0x243f3f),_0x1cbc1f['roomStyle']=_0x243f3f[_0x1a9f('0x45')],_0x1cbc1f[_0x1a9f('0x8ca')]=_0x243f3f,this[_0x1a9f('0x981')][_0x1a9f('0x70')](_0x1cbc1f);break;}}}catch(_0xcc115d){_0x16797c=!0x0,_0x1f89ce=_0xcc115d;}finally{try{!_0x335866&&_0x1cf2e9[_0x1a9f('0xd0')]&&_0x1cf2e9[_0x1a9f('0xd0')]();}finally{if(_0x16797c)throw _0x1f89ce;}}}}catch(_0x3a77cd){_0x6388f2=!0x0,_0x53b370=_0x3a77cd;}finally{try{!_0x478ddf&&_0x2fb6ac[_0x1a9f('0xd0')]&&_0x2fb6ac['return']();}finally{if(_0x6388f2)throw _0x53b370;}}}},{'key':'setStyle','value':function(_0x243f3f,_0xeeecb){for(var _0x1cbc1f=0x0;_0x1cbc1f<this[_0x1a9f('0x981')][_0x1a9f('0xf')];_0x1cbc1f++)if(_0x243f3f==this[_0x1a9f('0x981')][_0x1cbc1f]['name']){void 0x0!==_0xeeecb[_0x1a9f('0x98a')]&&(this[_0x1a9f('0x981')][_0x1cbc1f][_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,this[_0x1a9f('0x981')][_0x1cbc1f][_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0xeeecb[_0x1a9f('0x98a')]);break;}}},{'key':_0x1a9f('0x98b'),'value':function(_0x243f3f){this['waveEffectLayer']||(this[_0x1a9f('0x983')]=new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x855'))](_0x1a9f('0x98c'),esmap[_0x1a9f('0x857')][_0x1a9f('0x489')]),esmap[_0x1a9f('0x53')][_0x1a9f('0x858')](this[_0x1a9f('0x983')])),this['waveLineMarker']=new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x959'))](esmap[_0x1a9f('0x271')][_0x1a9f('0x4e8')],{'color':_0x243f3f[_0x1a9f('0x21e')],'speed':_0x243f3f[_0x1a9f('0x341')],'lineWidth':_0x243f3f[_0x1a9f('0x312')],'isShine':_0x243f3f[_0x1a9f('0x4af')],'imgUrl':_0x243f3f[_0x1a9f('0x4ab')],'seeThrough':!0x1}),_0x243f3f['height']&&(this[_0x1a9f('0x982')][_0x1a9f('0x49c')][_0x1a9f('0x42')]['y']=_0x243f3f['height']),this[_0x1a9f('0x983')]['addMarker'](this['waveLineMarker']);}},{'key':_0x1a9f('0x87e'),'value':function(_0x243f3f,_0xeeecb){for(var _0x1cbc1f,_0x478ddf=[],_0x6388f2=new THREE[(_0x1a9f('0x346'))](),_0x53b370=0x0,_0x9dbad=_0x243f3f['length'];_0x53b370<_0x9dbad;_0x53b370++){var _0x2fb6ac=new THREE['Vector2'](_0x243f3f[_0x53b370]['u'],_0x243f3f[_0x53b370]['v'])[_0x1a9f('0x1bf')]()[_0x1a9f('0x1be')](_0xeeecb),_0x2fb6ac=[{'x':_0x243f3f[_0x53b370]['x']-_0x2fb6ac['x']/0x2,'y':_0x243f3f[_0x53b370]['y']-_0x2fb6ac['y']/0x2,'offset':0x2},{'x':_0x243f3f[_0x53b370]['x']+_0x2fb6ac['x'],'y':_0x243f3f[_0x53b370]['y']+_0x2fb6ac['y'],'offset':0x2}],_0x2fb6ac=this['waveLineMarker'][_0x1a9f('0x4ea')](_0x2fb6ac,new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')][_0x1a9f('0x3a')]['sceneX_'],0x0,this['map'][_0x1a9f('0x3a')]['sceneZ_'])),_0x1a8ee4=_0x2fb6ac['getAttribute']('uv'),_0x15869f=Math[_0x1a9f('0x23')]();_0x1a8ee4[_0x1a9f('0x1d')](new Float32Array([_0x15869f,_0x15869f,_0x15869f,_0x15869f+0x1,_0x15869f+0x1,_0x15869f,_0x15869f+0x1,_0x15869f+0x1])),_0x478ddf[_0x1a9f('0x70')](_0x2fb6ac);}0x0<_0x478ddf['length']&&(_0x1cbc1f=this[_0x1a9f('0x949')](_0x478ddf),(_0x1cbc1f=new THREE[(_0x1a9f('0x332'))](_0x1cbc1f,this[_0x1a9f('0x982')][_0x1a9f('0x94a')]))[_0x1a9f('0x323')]=0x64,_0x6388f2[_0x1a9f('0x1c0')](_0x1cbc1f));for(var _0x2b95ee=0x0,_0x5dce01=_0x478ddf['length'];_0x2b95ee<_0x5dce01;_0x2b95ee++)_0x478ddf[_0x2b95ee][_0x1a9f('0x8f')]();this['waveLineMarker'][_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x6388f2);}},{'key':_0x1a9f('0x87f'),'value':function(){this[_0x1a9f('0x982')]=null,this[_0x1a9f('0x983')]&&this[_0x1a9f('0x983')][_0x1a9f('0x4a9')]();}},{'key':_0x1a9f('0x949'),'value':function(_0x243f3f){var _0xeeecb=[],_0x1cbc1f=!0x0,_0x478ddf=!0x1,_0x6388f2=void 0x0;try{for(var _0x53b370,_0x9dbad=(0x0,_0x165f68[_0x1a9f('0xa')])(_0x243f3f);!(_0x1cbc1f=(_0x53b370=_0x9dbad['next']())[_0x1a9f('0xce')]);_0x1cbc1f=!0x0){var _0x2fb6ac=_0x53b370[_0x1a9f('0x11')];_0xeeecb[_0x1a9f('0x70')](_0x2fb6ac);}}catch(_0x2a9b6d){_0x478ddf=!0x0,_0x6388f2=_0x2a9b6d;}finally{try{!_0x1cbc1f&&_0x9dbad[_0x1a9f('0xd0')]&&_0x9dbad[_0x1a9f('0xd0')]();}finally{if(_0x478ddf)throw _0x6388f2;}}_0x243f3f=THREE[_0x1a9f('0x94d')][_0x1a9f('0x94e')](_0xeeecb,!0x1);return _0x243f3f[_0x1a9f('0x965')](0x0,_0x243f3f[_0x1a9f('0x16b')][_0x1a9f('0x42')][_0x1a9f('0x100')],0x0),_0x243f3f;}},{'key':'disposeAll','value':function(){for(var _0x243f3f=0x0,_0xeeecb=this[_0x1a9f('0x981')][_0x1a9f('0xf')];_0x243f3f<_0xeeecb;_0x243f3f++)this['waterList'][_0x243f3f][_0x1a9f('0x8f')](),this[_0x1a9f('0x981')][_0x243f3f]=null;this[_0x1a9f('0x981')][_0x1a9f('0xf')]=0x0,this[_0x1a9f('0x983')]&&(this['waveEffectLayer'][_0x1a9f('0x4a9')](),this[_0x1a9f('0x982')]=null,this['waveEffectLayer']=null);}},{'key':_0x1a9f('0x340'),'value':function(_0x243f3f){if(0x0<this[_0x1a9f('0x981')][_0x1a9f('0xf')]){var _0xeeecb=!0x0,_0x1cbc1f=!0x1,_0x478ddf=void 0x0;try{for(var _0x6388f2,_0x53b370=(0x0,_0x165f68['default'])(this[_0x1a9f('0x981')]);!(_0xeeecb=(_0x6388f2=_0x53b370['next']())['done']);_0xeeecb=!0x0)_0x6388f2[_0x1a9f('0x11')]['render'](_0x243f3f);}catch(_0x4e6ca2){_0x1cbc1f=!0x0,_0x478ddf=_0x4e6ca2;}finally{try{!_0xeeecb&&_0x53b370[_0x1a9f('0xd0')]&&_0x53b370[_0x1a9f('0xd0')]();}finally{if(_0x1cbc1f)throw _0x478ddf;}}}}}]),_0xeeecb[_0x1a9f('0xa')]=_0x2fb6ac;},function(_0x1c270e,_0x4ed965,_0x9be806){'use strict';Object[_0x1a9f('0x3')](_0x4ed965,_0x1a9f('0x5'),{'value':!0x0});var _0x300996=_0x2ebb32(_0x9be806(0x3d)),_0x3f03fd=_0x2ebb32(_0x9be806(0x6)),_0x293455=_0x2ebb32(_0x9be806(0x0)),_0x330ad3=_0x2ebb32(_0x9be806(0x1)),_0x359fef=_0x9be806(0x1a),_0x54dfbb=function(_0x1c270e){if(_0x1c270e&&_0x1c270e[_0x1a9f('0x5')])return _0x1c270e;var _0x4ed965={};if(null!=_0x1c270e)for(var _0x9be806 in _0x1c270e)Object['prototype'][_0x1a9f('0xc')]['call'](_0x1c270e,_0x9be806)&&(_0x4ed965[_0x9be806]=_0x1c270e[_0x9be806]);return _0x4ed965[_0x1a9f('0xa')]=_0x1c270e,_0x4ed965;}(_0x9be806(0x40));function _0x2ebb32(_0x1c270e){return _0x1c270e&&_0x1c270e[_0x1a9f('0x5')]?_0x1c270e:{'default':_0x1c270e};}function _0x5e5156(_0x1c270e){var _0x4ed965=_0x1c270e['water'],_0x1c270e=_0x1c270e[_0x1a9f('0x48e')];(0x0,_0x293455['default'])(this,_0x5e5156),this['map']=(0x0,_0x359fef[_0x1a9f('0x33')])(),this[_0x1a9f('0x492')]=_0x4ed965,this[_0x1a9f('0x880')]=[],this[_0x1a9f('0x882')]={},this[_0x1a9f('0x885')]=[],this[_0x1a9f('0x98d')]=[],this[_0x1a9f('0x98e')]=[],this[_0x1a9f('0x98f')]=!0x1,this['modelsConfigs']=null,this[_0x1a9f('0x84e')]=null,this[_0x1a9f('0x48e')]=_0x1c270e,this[_0x1a9f('0x48e')]&&(this[_0x1a9f('0x48e')][_0x1a9f('0x48f')]=this),this['setEnvTextureMaterials']=[],this[_0x1a9f('0x990')]=new _0x54dfbb[(_0x1a9f('0xbd'))]({'map':this[_0x1a9f('0x90')]}),this[_0x1a9f('0x991')]=new _0x54dfbb['ModelLightBlend'](),this['lightPointsMeshs']={},this[_0x1a9f('0x992')]=null,this['instanceMeshs']=[],this[_0x1a9f('0x993')]={},this[_0x1a9f('0x888')]={};}(0x0,_0x330ad3[_0x1a9f('0xa')])(_0x5e5156,[{'key':_0x1a9f('0x994'),'value':function(_0x1c270e){var _0x4ed965=!0x0,_0x9be806=!0x1,_0x293455=void 0x0;try{for(var _0x330ad3,_0x2ebb32=(0x0,_0x3f03fd[_0x1a9f('0xa')])(this[_0x1a9f('0x80a')]);!(_0x4ed965=(_0x330ad3=_0x2ebb32['next']())['done']);_0x4ed965=!0x0){var _0x5e5156=_0x330ad3[_0x1a9f('0x11')];if(_0x5e5156['name']==_0x1c270e||_0x5e5156['id']==_0x1c270e)return _0x5e5156;}}catch(_0xba4d0b){_0x9be806=!0x0,_0x293455=_0xba4d0b;}finally{try{!_0x4ed965&&_0x2ebb32[_0x1a9f('0xd0')]&&_0x2ebb32[_0x1a9f('0xd0')]();}finally{if(_0x9be806)throw _0x293455;}}return null;}},{'key':_0x1a9f('0x995'),'value':function(_0x1c270e,_0x4ed965){var _0x9be806=!0x0,_0x293455=!0x1,_0x330ad3=void 0x0;try{for(var _0x2ebb32,_0x5e5156=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x4ed965);!(_0x9be806=(_0x2ebb32=_0x5e5156[_0x1a9f('0x79')]())['done']);_0x9be806=!0x0){var _0x59e59b=_0x2ebb32[_0x1a9f('0x11')];if(_0x59e59b[_0x1a9f('0x427')]==_0x1c270e)return _0x59e59b[_0x1a9f('0x996')];}}catch(_0x40d4c7){_0x293455=!0x0,_0x330ad3=_0x40d4c7;}finally{try{!_0x9be806&&_0x5e5156[_0x1a9f('0xd0')]&&_0x5e5156['return']();}finally{if(_0x293455)throw _0x330ad3;}}}},{'key':_0x1a9f('0x818'),'value':function(_0x1c270e){this[_0x1a9f('0x98f')]||(this[_0x1a9f('0x80a')]=_0x1c270e,this[_0x1a9f('0x98f')]=!0x0);}},{'key':'setModelsEffect3','value':function(_0x1c270e,_0x53e328,_0x2e252b){var _0x27c3e6=this,_0x5dece2=_0x1c270e['datas_'];_0x1c270e[_0x1a9f('0x92')](function(_0x1c270e){var _0x4ed965=null,_0x9be806=null;if(_0x53e328&&Array['isArray'](_0x1c270e['material'])?(_0x4ed965=_0x1c270e[_0x1a9f('0x48')][0x0],_0x9be806=_0x1c270e):_0x1c270e[_0x1a9f('0x48')]&&(_0x4ed965=_0x1c270e[_0x1a9f('0x48')],_0x9be806=_0x1c270e),_0x4ed965&&_0x4ed965[_0x1a9f('0x427')]&&0x0<=_0x4ed965['name'][_0x1a9f('0xc4')](_0x1a9f('0x889'))){var _0x293455=_0x27c3e6[_0x1a9f('0x997')](_0x4ed965['name']),_0x330ad3=!0x0,_0x2ebb32=!0x1,_0x5e5156=void 0x0;try{for(var _0x1cad65,_0x566e32=(0x0,_0x3f03fd['default'])(_0x293455);!(_0x330ad3=(_0x1cad65=_0x566e32[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x330ad3=!0x0){var _0x12b2cc=_0x1cad65[_0x1a9f('0x11')];_0x4ed965['_mesh']=_0x9be806,_0x27c3e6[_0x1a9f('0x998')](_0x2e252b,_0x12b2cc,_0x4ed965,_0x5dece2);}}catch(_0x121c53){_0x2ebb32=!0x0,_0x5e5156=_0x121c53;}finally{try{!_0x330ad3&&_0x566e32[_0x1a9f('0xd0')]&&_0x566e32['return']();}finally{if(_0x2ebb32)throw _0x5e5156;}}}if(0x0<=_0x1c270e[_0x1a9f('0x427')]['indexOf']('_ef_')){var _0x61c1b2=_0x27c3e6[_0x1a9f('0x997')](_0x1c270e[_0x1a9f('0x427')]);if(_0x1a9f('0x346')===_0x1c270e[_0x1a9f('0xc6')]||_0x1a9f('0x1e5')===_0x1c270e[_0x1a9f('0xc6')]){var _0x1639f1=!0x0,_0x293455=!0x1,_0x2ebb32=void 0x0;try{for(var _0x130e5e,_0x12212b=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x61c1b2);!(_0x1639f1=(_0x130e5e=_0x12212b['next']())[_0x1a9f('0xce')]);_0x1639f1=!0x0){var _0x2d66cb=_0x130e5e[_0x1a9f('0x11')];_0x27c3e6[_0x1a9f('0x998')](_0x2e252b,_0x2d66cb,_0x1c270e,_0x5dece2);}}catch(_0x51d34a){_0x293455=!0x0,_0x2ebb32=_0x51d34a;}finally{try{!_0x1639f1&&_0x12212b[_0x1a9f('0xd0')]&&_0x12212b[_0x1a9f('0xd0')]();}finally{if(_0x293455)throw _0x2ebb32;}}}_0x1c270e[_0x1a9f('0x92')](function(_0x1c270e){if('Mesh'===_0x1c270e[_0x1a9f('0xc6')]){var _0x4ed965=!0x0,_0x9be806=!0x1,_0x293455=void 0x0;try{for(var _0x330ad3,_0x2ebb32=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x61c1b2);!(_0x4ed965=(_0x330ad3=_0x2ebb32[_0x1a9f('0x79')]())['done']);_0x4ed965=!0x0){var _0x5e5156=_0x330ad3[_0x1a9f('0x11')];_0x27c3e6[_0x1a9f('0x998')](_0x2e252b,_0x5e5156,_0x1c270e,_0x5dece2);}}catch(_0x3f8998){_0x9be806=!0x0,_0x293455=_0x3f8998;}finally{try{!_0x4ed965&&_0x2ebb32[_0x1a9f('0xd0')]&&_0x2ebb32[_0x1a9f('0xd0')]();}finally{if(_0x9be806)throw _0x293455;}}}});}if(_0x1a9f('0x332')===_0x1c270e['type']&&0x0<=_0x1c270e[_0x1a9f('0x427')]['indexOf'](_0x1a9f('0x889'))){var _0x5e5156=_0x27c3e6[_0x1a9f('0x997')](_0x1c270e[_0x1a9f('0x427')]),_0x434225=!0x0,_0x293455=!0x1,_0x2ebb32=void 0x0;try{for(var _0x1fdb12,_0x2418b4=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x5e5156);!(_0x434225=(_0x1fdb12=_0x2418b4[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x434225=!0x0){var _0x173396=_0x1fdb12['value'];_0x27c3e6['matchModelEffectConfig'](_0x2e252b,_0x173396,_0x1c270e,_0x5dece2);}}catch(_0x509e44){_0x293455=!0x0,_0x2ebb32=_0x509e44;}finally{try{!_0x434225&&_0x2418b4[_0x1a9f('0xd0')]&&_0x2418b4[_0x1a9f('0xd0')]();}finally{if(_0x293455)throw _0x2ebb32;}}}});}},{'key':_0x1a9f('0x853'),'value':function(_0x1c270e,_0x2ebb32,_0x5e5156){var _0x227d97=this,_0x15b0b4=_0x1c270e[_0x1a9f('0x46')];_0x1c270e[_0x1a9f('0x92')](function(_0x1c270e){var _0x4ed965=null,_0x9be806=null;if(_0x2ebb32&&Array['isArray'](_0x1c270e[_0x1a9f('0x48')])?(_0x4ed965=_0x1c270e[_0x1a9f('0x48')][0x0],_0x9be806=_0x1c270e):_0x1c270e[_0x1a9f('0x48')]&&(_0x4ed965=_0x1c270e[_0x1a9f('0x48')],_0x9be806=_0x1c270e),_0x4ed965&&_0x4ed965[_0x1a9f('0x427')])for(var _0x293455 in _0x4ed965[_0x1a9f('0x999')]=_0x9be806,_0x5e5156[_0x1a9f('0x48')])_0x293455===_0x4ed965[_0x1a9f('0x427')]&&_0x227d97[_0x1a9f('0x99a')]('',_0x4ed965,_0x15b0b4,_0x5e5156[_0x1a9f('0x48')][_0x293455]);if(_0x1a9f('0x332')===_0x1c270e[_0x1a9f('0xc6')])for(var _0x330ad3 in _0x5e5156['mesh'])_0x330ad3===_0x1c270e[_0x1a9f('0x427')]&&_0x227d97[_0x1a9f('0x99a')]('',_0x1c270e,_0x15b0b4,_0x5e5156['mesh'][_0x330ad3]);});}},{'key':_0x1a9f('0x998'),'value':function(_0x1c270e,_0x4ed965,_0x9be806,_0x293455){if(_0x1c270e[_0x1a9f('0x851')]&&0x0<_0x1c270e['modelEffects'][_0x1a9f('0xf')]){var _0x330ad3=!0x0,_0x2ebb32=!0x1,_0x5e5156=void 0x0;try{for(var _0x2c1c14,_0x2315a2=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x1c270e[_0x1a9f('0x851')]);!(_0x330ad3=(_0x2c1c14=_0x2315a2[_0x1a9f('0x79')]())['done']);_0x330ad3=!0x0){var _0x326969=_0x2c1c14[_0x1a9f('0x11')];if(_0x326969['name']===_0x4ed965)if(!this[_0x1a9f('0x99a')](_0x4ed965,_0x9be806,_0x293455,_0x326969))break;}}catch(_0x12fc49){_0x2ebb32=!0x0,_0x5e5156=_0x12fc49;}finally{try{!_0x330ad3&&_0x2315a2[_0x1a9f('0xd0')]&&_0x2315a2[_0x1a9f('0xd0')]();}finally{if(_0x2ebb32)throw _0x5e5156;}}}}},{'key':_0x1a9f('0x99a'),'value':function(_0x1c270e,_0x4ed965,_0x9be806,_0x293455){if(!_0x293455[_0x1a9f('0x99b')]||'Object3D'!==_0x4ed965[_0x1a9f('0xc6')]&&_0x1a9f('0x1e5')!==_0x4ed965[_0x1a9f('0xc6')]||(this[_0x1a9f('0x888')][_0x9be806[_0x1a9f('0x427')]]||(this[_0x1a9f('0x888')][_0x9be806['name']]={}),void 0x0!==_0x293455[_0x1a9f('0x99b')][_0x1a9f('0x342')]&&(_0x4ed965[_0x1a9f('0x342')]=_0x293455[_0x1a9f('0x99b')][_0x1a9f('0x342')]),this[_0x1a9f('0x888')][_0x9be806[_0x1a9f('0x427')]][_0x1c270e]=_0x4ed965),_0x293455['anisotropy']&&_0x4ed965[_0x1a9f('0x90')]&&(_0x330ad3=this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')][_0x1a9f('0x4b3')](),_0x293455[_0x1a9f('0x4b0')]&&!_0x293455['anisotropy'][_0x1a9f('0x40c')]?_0x293455[_0x1a9f('0x4b0')]=_0x1a9f('0xd9')==_0x293455[_0x1a9f('0x4b0')]?_0x330ad3:_0x293455['anisotropy']:_0x293455[_0x1a9f('0x4b0')]=0x10==_0x293455[_0x1a9f('0x4b0')]?_0x330ad3:_0x293455[_0x1a9f('0x4b0')][_0x1a9f('0x11')],_0x4ed965['map']['anisotropy']=_0x293455[_0x1a9f('0x4b0')]),_0x293455[_0x1a9f('0x1cf')]&&('additive'==_0x293455['blending']||_0x293455[_0x1a9f('0x1cf')]['enabled']&&_0x293455[_0x1a9f('0x1cf')]['additive'])&&(_0x4ed965[_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x3fa')],_0x4ed965['depthWrite']=!0x1),void 0x0!==_0x293455['transparent']&&(_0x293455[_0x1a9f('0x1d0')][_0x1a9f('0x40c')]?(_0x4ed965[_0x1a9f('0x1d0')]=_0x293455[_0x1a9f('0x1d0')]['enabled'],_0x293455[_0x1a9f('0x1d0')]['opacity']&&_0x293455[_0x1a9f('0x1d0')][_0x1a9f('0x1ff')]<0x1&&(_0x4ed965['opacity']=_0x293455[_0x1a9f('0x1d0')]['opacity'])):_0x4ed965[_0x1a9f('0x1d0')]=_0x293455['transparent'],_0x4ed965[_0x1a9f('0x101')]=!0x0),_0x293455[_0x1a9f('0x8d1')]&&(_0x4ed965[_0x1a9f('0x323')]&&!_0x293455[_0x1a9f('0x8d1')]['enabled']?_0x4ed965['renderOrder']=_0x293455[_0x1a9f('0x8d1')]:_0x4ed965[_0x1a9f('0x323')]=_0x293455[_0x1a9f('0x8d1')][_0x1a9f('0x11')]),_0x293455[_0x1a9f('0x37a')]&&_0x293455[_0x1a9f('0x37a')][_0x1a9f('0x40c')]&&(_0x4ed965['side']=_0x293455[_0x1a9f('0x37a')][_0x1a9f('0x11')]),_0x293455[_0x1a9f('0x1d1')]&&void 0x0!==_0x4ed965[_0x1a9f('0x1d1')]&&(_0x293455[_0x1a9f('0x1d1')][_0x1a9f('0x40c')]?_0x4ed965['alphaTest']=_0x293455['alphaTest']['value']:_0x4ed965[_0x1a9f('0x1d1')]=_0x293455[_0x1a9f('0x1d1')]),void 0x0!==_0x293455[_0x1a9f('0x1d2')]&&(_0x293455[_0x1a9f('0x1d2')][_0x1a9f('0x40c')]?_0x4ed965[_0x1a9f('0x1d2')]=_0x293455[_0x1a9f('0x1d2')]['value']:_0x4ed965['depthWrite']=_0x293455[_0x1a9f('0x1d2')]),!_0x293455[_0x1a9f('0x99c')]||void 0x0!==_0x293455[_0x1a9f('0x99c')][_0x1a9f('0x40c')]&&!0x1===_0x293455[_0x1a9f('0x99c')][_0x1a9f('0x40c')]||(new _0x54dfbb['ModelFresnelEffect']()[_0x1a9f('0x309')](_0x4ed965),_0x4ed965['envMap']=this[_0x1a9f('0x48e')]['envTextureCube'],_0x4ed965['envMapIntensity']=_0x293455[_0x1a9f('0x99c')][_0x1a9f('0x454')]||0x14),_0x293455[_0x1a9f('0x7ee')]&&this['createEnvTexture'](_0x4ed965,_0x293455[_0x1a9f('0x7ee')]),_0x293455[_0x1a9f('0x7dd')]&&(_0x4ed965[_0x1a9f('0x69c')]=_0x293455[_0x1a9f('0x7dd')]['castShadow']||!0x1,_0x4ed965[_0x1a9f('0x69d')]=_0x293455[_0x1a9f('0x7dd')][_0x1a9f('0x69d')]||!0x1),_0x293455[_0x1a9f('0x99d')]&&esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x414')]&&(_0x293455[_0x1a9f('0x99d')][_0x1a9f('0x40c')],esmap[_0x1a9f('0x53')]['screenEffect']['setObjectBloomLight'](_0x4ed965,_0x293455[_0x1a9f('0x99d')][_0x1a9f('0x454')])),_0x293455[_0x1a9f('0x95c')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x414')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x494')]['setObjectOutline'](_0x4ed965),_0x293455[_0x1a9f('0x99e')]&&(void 0x0===_0x293455[_0x1a9f('0x99e')]['enabled']||!0x1!==_0x293455[_0x1a9f('0x99e')][_0x1a9f('0x40c')])){var _0x330ad3=null;if(_0x293455[_0x1a9f('0x99e')][_0x1a9f('0x21e')]&&(_0x5e5156=_0x293455[_0x1a9f('0x99e')]['lineOpacity']||0x1,_0x330ad3=this[_0x1a9f('0x99f')](_0x4ed965,_0x293455[_0x1a9f('0x99e')]['color'],_0x5e5156)),_0x293455[_0x1a9f('0x99e')]['faces'])if(Array['isArray'](_0x4ed965['material'])){var _0x2ebb32=!0x0,_0x5e5156=!0x1,_0x1bff3e=void 0x0;try{for(var _0x11464d,_0x912b85=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x4ed965['material']);!(_0x2ebb32=(_0x11464d=_0x912b85[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2ebb32=!0x0){var _0x484bcf=_0x11464d['value'];void 0x0!==_0x293455['lineFrame'][_0x1a9f('0x9a0')][_0x1a9f('0x342')]&&(_0x484bcf[_0x1a9f('0x342')]=_0x293455[_0x1a9f('0x99e')]['faces'][_0x1a9f('0x342')]),_0x484bcf[_0x1a9f('0x1d2')]=!0x1;}}catch(_0x1b81b4){_0x5e5156=!0x0,_0x1bff3e=_0x1b81b4;}finally{try{!_0x2ebb32&&_0x912b85[_0x1a9f('0xd0')]&&_0x912b85[_0x1a9f('0xd0')]();}finally{if(_0x5e5156)throw _0x1bff3e;}}}else void 0x0!==_0x293455[_0x1a9f('0x99e')][_0x1a9f('0x9a0')][_0x1a9f('0x342')]&&(_0x4ed965[_0x1a9f('0x48')][_0x1a9f('0x342')]=_0x293455[_0x1a9f('0x99e')][_0x1a9f('0x9a0')]['visible']),_0x4ed965['material']['depthWrite']=!0x1;_0x293455['lineFrame'][_0x1a9f('0x1ff')]&&(_0x4ed965[_0x1a9f('0x48')][_0x1a9f('0x1d0')]=!0x0,_0x4ed965[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x293455['lineFrame'][_0x1a9f('0x1ff')]),_0x1a9f('0x9a1')==_0x293455[_0x1a9f('0x99e')]['blending']&&(_0x4ed965['material'][_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x3fa')],_0x4ed965[_0x1a9f('0x48')][_0x1a9f('0x1d2')]=!0x1),_0x330ad3&&_0x293455[_0x1a9f('0x99e')]['unrealBloom']&&esmap[_0x1a9f('0x53')][_0x1a9f('0x494')][_0x1a9f('0x88a')](_0x330ad3,_0x293455[_0x1a9f('0x99e')][_0x1a9f('0x99d')]['intensity']);}_0x293455[_0x1a9f('0x9a2')]&&(_0x4ed965[_0x1a9f('0x9a3')]=!0x0),_0x293455[_0x1a9f('0x9a4')]&&this[_0x1a9f('0x9a5')](_0x4ed965,_0x293455['uvAnimation'],_0x9be806),_0x293455[_0x1a9f('0x9a6')]&&_0x4ed965[_0x1a9f('0x90')]&&_0x9be806&&_0x9be806['ID']&&(_0x5e5156=_0x4ed965[_0x1a9f('0x90')][_0x1a9f('0x1af')](),_0x4ed965[_0x1a9f('0x90')]=_0x5e5156,_0x4ed965[_0x1a9f('0x90')][_0x1a9f('0x886')]=_0x9be806['ID'],this[_0x1a9f('0x885')][_0x1a9f('0x70')](_0x4ed965[_0x1a9f('0x90')]),_0x4ed965['map']['needsUpdate']=!0x0,_0x4ed965[_0x1a9f('0x101')]=!0x0,this['map'][_0x1a9f('0x27f')]('modelEffectInitComplete',{'type':_0x1a9f('0x9a6'),'id':_0x4ed965[_0x1a9f('0x90')][_0x1a9f('0x886')]})),_0x293455[_0x1a9f('0x1ff')]&&(_0x4ed965['transparent']=!0x0,_0x4ed965[_0x1a9f('0x1ff')]=_0x293455[_0x1a9f('0x1ff')]),_0x293455[_0x1a9f('0x9a7')]&&_0x4ed965[_0x1a9f('0x90')]&&this['createTextureBlend'](_0x4ed965,_0x293455[_0x1a9f('0x9a7')],_0x9be806),_0x293455[_0x1a9f('0x9a8')]&&_0x4ed965[_0x1a9f('0x90')]&&(void 0x0===_0x293455[_0x1a9f('0x9a8')][_0x1a9f('0x40c')]||!0x1!==_0x293455[_0x1a9f('0x9a8')][_0x1a9f('0x40c')])&&this[_0x1a9f('0x9a9')](_0x4ed965,_0x293455['blendEffect'],_0x9be806),_0x293455[_0x1a9f('0x492')]&&(void 0x0!==_0x293455['water'][_0x1a9f('0x21e')]?this[_0x1a9f('0x984')](_0x4ed965,_0x293455[_0x1a9f('0x492')],_0x9be806):this[_0x1a9f('0x9aa')](_0x4ed965,_0x293455[_0x1a9f('0x492')],_0x9be806)),_0x293455[_0x1a9f('0x991')]&&_0x4ed965['map']&&this[_0x1a9f('0x9ab')](_0x4ed965,_0x293455[_0x1a9f('0x991')]),_0x293455[_0x1a9f('0x9ac')]&&(_0x293455[_0x1a9f('0x9ac')]['type']?(_0x4ed965[_0x1a9f('0x9ad')]=_0x1c270e,_0x4ed965[_0x1a9f('0x9ae')]=_0x293455[_0x1a9f('0x9ac')],_0x4ed965[_0x1a9f('0x9af')]=_0x293455[_0x1a9f('0x9ac')][_0x1a9f('0x9b0')]):(_0x4ed965[_0x1a9f('0x48')]['depthWrite']=!0x1,_0x4ed965[_0x1a9f('0x48')][_0x1a9f('0x1ff')]=0x0),this[_0x1a9f('0x9b1')][_0x4ed965[_0x1a9f('0x1f5')]]=_0x4ed965),_0x293455[_0x1a9f('0x9b2')]&&this[_0x1a9f('0x9b3')](_0x4ed965,_0x293455['terrain'],_0x9be806);}},{'key':_0x1a9f('0x9a5'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x293455,_0x330ad3,_0x2ebb32,_0x5e5156;_0x1c270e[_0x1a9f('0x90')]&&!_0x4ed965[_0x1a9f('0x40c')]?(_0x4ed965[_0x1a9f('0x612')]&&(_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x5bc')]=_0x4ed965[_0x1a9f('0x612')]),_0x4ed965[_0x1a9f('0x1eb')]&&(_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x9b4')]=_0x4ed965[_0x1a9f('0x1eb')]),_0x4ed965['useUv2']&&(_0x2ebb32=null,_0x293455=(_0x2ebb32=_0x1c270e['map'][_0x1a9f('0x73e')][_0x1a9f('0x403')](_0x1a9f('0x9b5'))||_0x1c270e[_0x1a9f('0x90')]['image'][_0x1a9f('0x9b6')])[_0x1a9f('0x9b7')]('/'),_0x330ad3=_0x2ebb32[_0x1a9f('0x9b8')](0x0,_0x293455+0x1),_0x2ebb32=(_0x293455=_0x2ebb32[_0x1a9f('0x9b8')](_0x293455+0x1,_0x2ebb32['length']))[_0x1a9f('0x5f')]('.')[0x0],_0x293455=_0x293455['split']('.')[0x1],_0x4ed965[_0x1a9f('0x9b9')][_0x1a9f('0x9ba')]?this[_0x1a9f('0x990')][_0x1a9f('0x5ab')](_0x1c270e,_0x330ad3+_0x2ebb32+_0x1a9f('0x9bb')+_0x293455):this[_0x1a9f('0x990')][_0x1a9f('0x5b3')](_0x1c270e,_0x330ad3+_0x2ebb32+'_ef_uv-animate.'+_0x293455,_0x4ed965[_0x1a9f('0x9b9')]['translate'])),_0x4ed965[_0x1a9f('0x9bc')]&&this[_0x1a9f('0x990')][_0x1a9f('0x5b8')](_0x1c270e[_0x1a9f('0x90')],_0x4ed965[_0x1a9f('0x9bc')]),this['modelUvAnimation']['textures'][_0x1a9f('0x70')](_0x1c270e[_0x1a9f('0x90')]),this['modelUvAnimation'][_0x1a9f('0x5a8')]()):_0x1c270e['map']&&_0x4ed965[_0x1a9f('0x40c')]&&(_0x4ed965[_0x1a9f('0x9bd')]?this[_0x1a9f('0x990')][_0x1a9f('0x5b8')](_0x1c270e['map'],{'imgWidth':_0x4ed965[_0x1a9f('0x5b9')],'imgHeight':_0x4ed965[_0x1a9f('0x5b9')],'row':_0x4ed965[_0x1a9f('0x5ba')],'column':_0x4ed965['column'],'fps':_0x4ed965[_0x1a9f('0x2fc')]}):((_0x4ed965[_0x1a9f('0x9be')]||_0x4ed965['translateY'])&&(_0x1c270e['map'][_0x1a9f('0x5bc')]={'x':_0x4ed965['translateX'],'y':_0x4ed965[_0x1a9f('0x9bf')]}),_0x4ed965[_0x1a9f('0x1eb')]&&(_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x9b4')]=_0x4ed965[_0x1a9f('0x1eb')]),_0x4ed965[_0x1a9f('0x9b9')]&&(_0x330ad3=null,_0x2ebb32=(_0x330ad3=_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')][_0x1a9f('0x403')](_0x1a9f('0x9b5'))||_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')][_0x1a9f('0x9b6')])[_0x1a9f('0x9b7')]('/'),_0x293455=_0x330ad3[_0x1a9f('0x9b8')](0x0,_0x2ebb32+0x1),_0x330ad3=(_0x2ebb32=_0x330ad3['substring'](_0x2ebb32+0x1,_0x330ad3[_0x1a9f('0xf')]))[_0x1a9f('0x5f')]('.')[0x0],_0x2ebb32=_0x2ebb32[_0x1a9f('0x5f')]('.')[0x1],_0x4ed965[_0x1a9f('0x9c0')]?this[_0x1a9f('0x990')][_0x1a9f('0x5ab')](_0x1c270e,_0x293455+_0x330ad3+_0x1a9f('0x9bb')+_0x2ebb32):(_0x5e5156=null,(_0x4ed965[_0x1a9f('0x9c1')]||_0x4ed965[_0x1a9f('0x9c2')])&&(_0x5e5156={'x':_0x4ed965[_0x1a9f('0x9c1')],'y':_0x4ed965[_0x1a9f('0x9c2')]}),this[_0x1a9f('0x990')][_0x1a9f('0x5b3')](_0x1c270e,_0x293455+_0x330ad3+_0x1a9f('0x9c3')+_0x2ebb32,_0x5e5156)))),this[_0x1a9f('0x990')][_0x1a9f('0x5a9')][_0x1a9f('0x70')](_0x1c270e[_0x1a9f('0x90')]),this[_0x1a9f('0x990')][_0x1a9f('0x5a8')](),esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')]&&(_0x1c270e[_0x1a9f('0x9c4')]=!0x0));}},{'key':_0x1a9f('0x91c'),'value':function(_0x1c270e,_0x4ed965){_0x1c270e[_0x1a9f('0x45c')]=this['lights']['envTextureCube'],_0x4ed965[_0x1a9f('0x2c0')]&&(_0x1c270e[_0x1a9f('0x2c0')]=_0x4ed965[_0x1a9f('0x2c0')]),_0x4ed965[_0x1a9f('0x2c1')]&&(_0x1c270e[_0x1a9f('0x2c1')]=_0x4ed965[_0x1a9f('0x2c1')]),!esmap[_0x1a9f('0x3e')]['getPlatform']()[_0x1a9f('0x829')]&&_0x4ed965[_0x1a9f('0x9c5')]?_0x1c270e[_0x1a9f('0x2c3')]=_0x4ed965[_0x1a9f('0x9c5')]:_0x1c270e[_0x1a9f('0x2c3')]=_0x4ed965['intensity']||0x1,_0x1c270e['needsUpdate']=!0x0,this['setEnvTextureMaterials'][_0x1a9f('0x70')](_0x1c270e);}},{'key':_0x1a9f('0x9ab'),'value':function(_0x1c270e,_0x4ed965){_0x4ed965[_0x1a9f('0x9c6')]&&(_0x1c270e[_0x1a9f('0x7a2')]=0x0),_0x4ed965[_0x1a9f('0x454')]&&(_0x1c270e[_0x1a9f('0x7a2')]=_0x4ed965['intensity']),this[_0x1a9f('0x991')]['createMaterial'](_0x1c270e),esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')]&&(_0x1c270e[_0x1a9f('0x9c4')]=!0x0);}},{'key':_0x1a9f('0x9c7'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x293455,_0x330ad3=null,_0x2ebb32=(_0x330ad3=_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')][_0x1a9f('0x403')](_0x1a9f('0x9b5'))||_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')][_0x1a9f('0x9b6')])['lastIndexOf']('/'),_0x5e5156=_0x330ad3[_0x1a9f('0x9b8')](0x0,_0x2ebb32+0x1),_0x2ebb32=_0x330ad3[_0x1a9f('0x9b8')](_0x2ebb32+0x1,_0x330ad3['length']),_0x330ad3=_0x2ebb32[_0x1a9f('0x5f')]('.')[0x0],_0x2ebb32=_0x2ebb32[_0x1a9f('0x5f')]('.')[0x1],_0x2d6273=(_0x1a9f('0x8')==typeof _0x4ed965['repeatFactor']&&(_0x4ed965['repeatFactor']=_0x4ed965[_0x1a9f('0x774')]['split'](',')[_0x1a9f('0x90')](Number)),_0x1a9f('0x8')==typeof _0x4ed965[_0x1a9f('0x775')]&&(_0x4ed965['isNoTileFactor']=_0x4ed965[_0x1a9f('0x775')]['split'](',')['map'](Number)),_0x4ed965['repeatFactor']),_0x174728=_0x4ed965[_0x1a9f('0x775')],_0x53cb47=_0x4ed965[_0x1a9f('0x9ba')],_0x837ab4=_0x4ed965[_0x1a9f('0x9c8')],_0x16a837=_0x4ed965['blendCount'],_0x99a424=_0x4ed965[_0x1a9f('0x77b')],_0x2a8e1e=null,_0x5212b5=(_0x4ed965['anisotropy']&&(_0x293455=this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x4b2')]['getMaxAnisotropy'](),_0x2a8e1e=_0x1a9f('0xd9')==_0x4ed965['anisotropy']?_0x293455:_0x4ed965['anisotropy']),new _0x54dfbb[(_0x1a9f('0x9a'))]({'repeatFactor':_0x2d6273?{'texture1':_0x2d6273[0x0],'texture2':_0x2d6273[0x1],'texture3':_0x2d6273[0x2],'texture4':_0x2d6273[0x3]}:null,'isNoTileFactor':_0x174728?{'texture1':_0x174728[0x0],'texture2':_0x174728[0x1],'texture3':_0x174728[0x2],'texture4':_0x174728[0x3]}:void 0x0,'texture2Path':_0x5e5156+_0x330ad3+_0x1a9f('0x9c9')+_0x2ebb32,'textureMaskPath':_0x5e5156+_0x330ad3+'_ef_mask.'+_0x2ebb32,'texture3Path':0x3<=_0x16a837?_0x5e5156+_0x330ad3+_0x1a9f('0x9ca')+_0x2ebb32:null,'texture4Path':0x4<=_0x16a837?_0x5e5156+_0x330ad3+_0x1a9f('0x9cb')+_0x2ebb32:null,'noisePath':(0x0,_0x359fef[_0x1a9f('0x2f')])(_0x1a9f('0x9cc')),'normalUvIndex':_0x837ab4?_0x4ed965[_0x1a9f('0x9cd')]||0x1:null,'normalFlipSide':_0x99a424,'anisotropy':_0x2a8e1e}));_0x1c270e[_0x1a9f('0x342')]=!0x1,_0x53cb47&&(_0x1c270e[_0x1a9f('0x1d0')]=!0x0),_0x5212b5[_0x1a9f('0x2b5')](_0x1a9f('0x44c'),function(){_0x5212b5[_0x1a9f('0x309')](_0x1c270e),esmap['ESEffectTool']['EFFECT_EDITOR']&&(_0x5212b5['blendCount']=_0x16a837,_0x1c270e[_0x1a9f('0x9c4')]=_0x5212b5),_0x1c270e[_0x1a9f('0x342')]=!0x0;});}},{'key':_0x1a9f('0x9a9'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x293455=null,_0x330ad3=(_0x293455=_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')]['getAttribute']('originalSrc')||_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')]['currentSrc'])[_0x1a9f('0x9b7')]('/'),_0x2ebb32=_0x293455[_0x1a9f('0x9b8')](0x0,_0x330ad3+0x1),_0x330ad3=_0x293455['substring'](_0x330ad3+0x1,_0x293455['length']),_0x293455=_0x330ad3['split']('.')[0x0],_0x330ad3=_0x330ad3[_0x1a9f('0x5f')]('.')[0x1],_0x5e5156=_0x4ed965['isUseAlphaMask'],_0x12d60c=_0x4ed965[_0x1a9f('0x9c8')],_0x16d719=new _0x54dfbb[(_0x1a9f('0x99'))]({'textureMaskPath':_0x5e5156?_0x2ebb32+_0x293455+'_ef_mask.'+_0x330ad3:null,'textureNormalPath':_0x12d60c?_0x2ebb32+_0x293455+_0x1a9f('0x9ce')+_0x330ad3:null,'isIgnoreAlpha':_0x4ed965[_0x1a9f('0x791')],'isUseScanEffect':_0x4ed965['isUseScanEffect'],'isUseUv2Light':_0x4ed965['isUseUv2Light'],'scanOffset':_0x4ed965[_0x1a9f('0x794')]});_0x1c270e['visible']=!0x1,_0x5e5156&&(_0x1c270e[_0x1a9f('0x1d0')]=!0x0),_0x16d719[_0x1a9f('0x2b5')]('canUpdate',function(){_0x16d719['createMaterial'](_0x1c270e),esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')]&&(_0x1c270e[_0x1a9f('0x9c4')]=_0x16d719),_0x1c270e[_0x1a9f('0x342')]=!0x0;}),this[_0x1a9f('0x98d')][_0x1a9f('0x70')](_0x16d719);}},{'key':_0x1a9f('0x9aa'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){if(!(_0x1c270e instanceof THREE[_0x1a9f('0x716')]))return!0x0;var _0x293455=null,_0x330ad3=_0x4ed965[_0x1a9f('0x427')],_0x2ebb32=_0x4ed965[_0x1a9f('0x9cf')],_0x5e5156=!0x0,_0x5e658a=!0x1,_0x754a04=void 0x0;try{for(var _0xe742b5,_0x233709=(0x0,_0x3f03fd[_0x1a9f('0xa')])(this[_0x1a9f('0x492')][_0x1a9f('0x981')]);!(_0x5e5156=(_0xe742b5=_0x233709['next']())[_0x1a9f('0xce')]);_0x5e5156=!0x0){var _0x38507c=_0xe742b5[_0x1a9f('0x11')];if(_0x38507c[_0x1a9f('0x427')]&&_0x38507c[_0x1a9f('0x427')]===_0x330ad3){_0x293455=_0x38507c;break;}}}catch(_0x331cfa){_0x5e658a=!0x0,_0x754a04=_0x331cfa;}finally{try{!_0x5e5156&&_0x233709[_0x1a9f('0xd0')]&&_0x233709[_0x1a9f('0xd0')]();}finally{if(_0x5e658a)throw _0x754a04;}}if(!_0x293455)return!0x0;_0x4ed965[_0x1a9f('0x2c0')]&&(_0x1c270e['roughness']=_0x4ed965[_0x1a9f('0x2c0')]),_0x4ed965[_0x1a9f('0x2c1')]&&(_0x1c270e['metalness']=_0x4ed965['metalness']),_0x4ed965[_0x1a9f('0x9ba')]&&(_0x5e658a=null,_0x754a04=(_0x5e658a=_0x1c270e[_0x1a9f('0x90')][_0x1a9f('0x73e')][_0x1a9f('0x403')](_0x1a9f('0x9b5'))||_0x1c270e[_0x1a9f('0x90')]['image'][_0x1a9f('0x9b6')])['lastIndexOf']('/'),_0x4ed965=_0x5e658a[_0x1a9f('0x9b8')](0x0,_0x754a04+0x1),_0x5e658a=(_0x754a04=_0x5e658a[_0x1a9f('0x9b8')](_0x754a04+0x1,_0x5e658a[_0x1a9f('0xf')]))[_0x1a9f('0x5f')]('.')[0x0],_0x754a04=_0x754a04['split']('.')[0x1],_0x293455[_0x1a9f('0x66c')]=_0x4ed965+_0x5e658a+_0x1a9f('0x9bb')+_0x754a04),_0x293455['createMaterial'](_0x1c270e,_0x2ebb32),esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')]&&(_0x1c270e[_0x1a9f('0x9c4')]=_0x293455);}},{'key':_0x1a9f('0x984'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){if(!(_0x1c270e instanceof THREE[_0x1a9f('0x716')]))return!0x0;var _0x293455=_0x4ed965['name'],_0x330ad3=_0x4ed965[_0x1a9f('0x9cf')],_0x2ebb32=void 0x0,_0x5e5156=_0x4ed965[_0x1a9f('0x9d0')]&&_0x4ed965[_0x1a9f('0x986')]?new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x359fef['getConfigAssetsPath'])(_0x4ed965['groundImg'])):new THREE[(_0x1a9f('0x1c6'))](),_0x5e5156=(_0x4ed965[_0x1a9f('0x545')]&&(_0x2ebb32=new THREE['TextureLoader']()[_0x1a9f('0xca')]((0x0,_0x359fef[_0x1a9f('0x2f')])(_0x4ed965[_0x1a9f('0x545')]))),new _0x54dfbb[(_0x1a9f('0xa1'))]({'colorStr':_0x4ed965[_0x1a9f('0x21e')],'lightColorStr':_0x4ed965['lightColor'],'scale':_0x4ed965['scale'],'speed':_0x4ed965[_0x1a9f('0x341')],'fluctuate':_0x4ed965[_0x1a9f('0x987')],'texture':_0x5e5156,'skyTexture':_0x2ebb32,'texUvScale':_0x4ed965[_0x1a9f('0x988')],'flowAngle':_0x4ed965[_0x1a9f('0x676')],'opacity':_0x4ed965[_0x1a9f('0x1ff')]}));_0x5e5156[_0x1a9f('0x427')]=_0x293455,_0x4ed965[_0x1a9f('0x9ba')]&&(_0x2ebb32=null,_0x293455=(_0x2ebb32=_0x1c270e['map'][_0x1a9f('0x73e')][_0x1a9f('0x403')](_0x1a9f('0x9b5'))||_0x1c270e['map'][_0x1a9f('0x73e')][_0x1a9f('0x9b6')])[_0x1a9f('0x9b7')]('/'),_0x4ed965=_0x2ebb32[_0x1a9f('0x9b8')](0x0,_0x293455+0x1),_0x2ebb32=(_0x293455=_0x2ebb32[_0x1a9f('0x9b8')](_0x293455+0x1,_0x2ebb32[_0x1a9f('0xf')]))['split']('.')[0x0],_0x293455=_0x293455[_0x1a9f('0x5f')]('.')[0x1],_0x5e5156['alphaMaskPath']=_0x4ed965+_0x2ebb32+_0x1a9f('0x9bb')+_0x293455),_0x5e5156[_0x1a9f('0x309')](_0x1c270e,_0x330ad3),this[_0x1a9f('0x492')][_0x1a9f('0x981')][_0x1a9f('0x70')](_0x5e5156),esmap['ESEffectTool']['EFFECT_EDITOR']&&(_0x1c270e['_effect']=_0x5e5156);}},{'key':'createTerrain','value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x9be806=[_0x9be806['o3d_'][_0x1a9f('0x49')]['modelinfo']['box3'][_0x1a9f('0xda')]['y'],_0x9be806[_0x1a9f('0x49c')][_0x1a9f('0x49')][_0x1a9f('0x85b')]['box3'][_0x1a9f('0xd9')]['y']],_0x9be806=_0x4ed965['heightExtent']||_0x9be806,_0x293455=(_0x1a9f('0x8')==typeof _0x4ed965[_0x1a9f('0x7ae')]&&(_0x9be806=_0x4ed965[_0x1a9f('0x7ae')][_0x1a9f('0x5f')](',')[_0x1a9f('0x90')](Number)),(_0x293455=_0x4ed965[_0x1a9f('0x986')])&&(0x0,_0x359fef['getConfigAssetsPath'])(_0x293455)),_0x9be806=new _0x54dfbb['ModelTerrain']({'heightExtent':_0x9be806,'gradientType':_0x4ed965[_0x1a9f('0x7af')],'isTransparentLight':_0x4ed965[_0x1a9f('0x4bd')],'texPath':_0x293455,'isShowSeaGroundEffect':_0x4ed965[_0x1a9f('0x7c8')],'seaGroundConfigs':_0x4ed965[_0x1a9f('0x9d1')]}),_0x293455=_0x1c270e;_0x4ed965[_0x1a9f('0x4bd')]&&(_0x1c270e['_mesh']['material']=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE[_0x1a9f('0x3f9')],'depthWrite':!0x1,'blending':THREE[_0x1a9f('0x3fa')]}),_0x293455=_0x1c270e[_0x1a9f('0x999')]['material']),_0x9be806['createMaterial'](_0x293455),_0x4ed965[_0x1a9f('0x427')]&&(this['gradientTerrainList'][_0x4ed965[_0x1a9f('0x427')]]=_0x9be806),_0x4ed965[_0x1a9f('0x454')]&&_0x293455[_0x1a9f('0x21e')][_0x1a9f('0x63d')](_0x4ed965['intensity']),this['modelTerrainList'][_0x1a9f('0x70')](_0x9be806),esmap[_0x1a9f('0x53')][_0x1a9f('0x90c')]&&(_0x1c270e[_0x1a9f('0x9c4')]=_0x9be806);}},{'key':_0x1a9f('0x867'),'value':function(){if(0x0<(0x0,_0x300996[_0x1a9f('0xa')])(this['lightPointsMeshs'])[_0x1a9f('0xf')])for(var _0x1c270e in this[_0x1a9f('0x9b1')])this[_0x1a9f('0x9b1')][_0x1c270e][_0x1a9f('0x9b0')]&&this[_0x1a9f('0x9b1')][_0x1c270e]['lookAt'](this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x314')][_0x1a9f('0x42')]);}},{'key':_0x1a9f('0x9d2'),'value':function(_0x1c270e){var _0x9be806=this,_0x4ed965=_0x1c270e[_0x1a9f('0x7c0')],_0x4ed965=void 0x0!==_0x4ed965&&_0x4ed965,_0x1c270e=_0x1c270e['time'],_0x1c270e=void 0x0===_0x1c270e?1.5:_0x1c270e;0x0<(0x0,_0x300996[_0x1a9f('0xa')])(this[_0x1a9f('0x9b1')])['length']&&new TWEEN[(_0x1a9f('0x2e0'))]({'x':_0x4ed965?0x0:0x1})['to']({'x':_0x4ed965?0x1:0x0},0x3e8*_0x1c270e)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x43a')][_0x1a9f('0x917')])[_0x1a9f('0x2e3')](function(_0x1c270e){for(var _0x4ed965 in _0x9be806['lightPointsMeshs'])_0x9be806[_0x1a9f('0x9b1')][_0x4ed965][_0x1a9f('0x48')][_0x1a9f('0x1ff')]=_0x1c270e['x'];})[_0x1a9f('0x2e2')]();}},{'key':_0x1a9f('0x9d3'),'value':function(_0x1c270e){return new esmap['ESEffectTool'][(_0x1a9f('0x959'))](esmap[_0x1a9f('0x271')][_0x1a9f('0x4d8')],{'pointSize':_0x1c270e[_0x1a9f('0x425')],'color':_0x1c270e[_0x1a9f('0x21e')],'points':_0x1c270e['points'],'height':_0x1c270e['height'],'animateType':_0x1c270e[_0x1a9f('0x4b5')],'isShine':!0x0,'showLevel':_0x1c270e[_0x1a9f('0x502')],'seeThrough':_0x1c270e['seeThrough']});}},{'key':_0x1a9f('0x884'),'value':function(){if(0x0<(0x0,_0x300996[_0x1a9f('0xa')])(this[_0x1a9f('0x9b1')])[_0x1a9f('0xf')]){var _0x1c270e,_0x4ed965=[];for(_0x1c270e in this[_0x1a9f('0x9b1')]){var _0x9be806=new THREE[(_0x1a9f('0x1b5'))](),_0x293455=(this['lightPointsMeshs'][_0x1c270e][_0x1a9f('0x9d4')](_0x9be806),this['map'][_0x1a9f('0x9d5')]({'x':_0x9be806['x'],'y':_0x9be806['y'],'z':_0x9be806['z']}));_0x4ed965[_0x1a9f('0x70')]({'styleId':this['lightPointsMeshs'][_0x1c270e][_0x1a9f('0x9ad')],'styleConfig':this[_0x1a9f('0x9b1')][_0x1c270e][_0x1a9f('0x9ae')],'x':_0x293455['x'],'y':_0x293455['y'],'height':_0x9be806['y']}),this[_0x1a9f('0x9b1')][_0x1c270e]['parent']?this[_0x1a9f('0x9b1')][_0x1c270e][_0x1a9f('0x5f6')][_0x1a9f('0x93')](this['lightPointsMeshs'][_0x1c270e]):this[_0x1a9f('0x9b1')][_0x1c270e][_0x1a9f('0x342')]=!0x1;}this['lightPointsLayer']=new esmap[(_0x1a9f('0x53'))][(_0x1a9f('0x855'))](_0x1a9f('0x9ac'),esmap[_0x1a9f('0x857')][_0x1a9f('0x489')]),esmap[_0x1a9f('0x53')][_0x1a9f('0x858')](this[_0x1a9f('0x992')]);for(var _0x330ad3,_0x2ebb32={},_0x5e5156=0x0,_0x375aa0=_0x4ed965[_0x1a9f('0xf')];_0x5e5156<_0x375aa0;_0x5e5156++)_0x4ed965[_0x5e5156][_0x1a9f('0x9d6')]&&(_0x4ed965[_0x5e5156][_0x1a9f('0x9d6')][_0x1a9f('0x21e')]&&!_0x2ebb32[_0x4ed965[_0x5e5156][_0x1a9f('0x8ab')]]?_0x2ebb32[_0x4ed965[_0x5e5156]['styleId']]=[]:_0x4ed965[_0x5e5156][_0x1a9f('0x8ab')]&&_0x2ebb32[_0x4ed965[_0x5e5156]['styleId']]&&_0x2ebb32[_0x4ed965[_0x5e5156]['styleId']][_0x1a9f('0x70')](_0x4ed965[_0x5e5156]));for(_0x330ad3 in _0x2ebb32){var _0x19b34d=[],_0x4c0cdd=_0x2ebb32[_0x330ad3][0x0][_0x1a9f('0x9d6')],_0x6af38a=!0x0,_0x2698b1=!0x1,_0x36111b=void 0x0;try{for(var _0x57c9e1,_0xdef3e3=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x2ebb32[_0x330ad3]);!(_0x6af38a=(_0x57c9e1=_0xdef3e3[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x6af38a=!0x0){var _0x24b413=_0x57c9e1[_0x1a9f('0x11')];_0x19b34d[_0x1a9f('0x70')]({'x':_0x24b413['x'],'y':_0x24b413['y'],'height':_0x24b413[_0x1a9f('0x33b')]});}}catch(_0x3a4d07){_0x2698b1=!0x0,_0x36111b=_0x3a4d07;}finally{try{!_0x6af38a&&_0xdef3e3[_0x1a9f('0xd0')]&&_0xdef3e3[_0x1a9f('0xd0')]();}finally{if(_0x2698b1)throw _0x36111b;}}_0x2698b1=this[_0x1a9f('0x9d3')]({'height':_0x4c0cdd[_0x1a9f('0x4b9')]||0x0,'pointSize':_0x4c0cdd[_0x1a9f('0x425')]||0xf,'color':_0x4c0cdd[_0x1a9f('0x21e')],'animateType':_0x1a9f('0x5a3'),'points':_0x19b34d});this['lightPointsLayer']['addMarker'](_0x2698b1);}}}},{'key':_0x1a9f('0x997'),'value':function(_0x1c270e){return _0x1c270e[_0x1a9f('0x5f')](_0x1a9f('0x889'))[0x1]['split']('_');}},{'key':'setRenderOrder','value':function(_0x1c270e,_0x4ed965){_0x1c270e&&_0x4ed965&&(_0x1c270e[_0x1a9f('0x323')]=_0x4ed965);}},{'key':_0x1a9f('0x9d7'),'value':function(_0x1c270e,_0x4ed965){_0x1c270e&&void 0x0!==_0x4ed965&&(_0x1c270e[_0x1a9f('0x1d0')]=_0x4ed965);}},{'key':_0x1a9f('0x922'),'value':function(_0x1c270e){for(var _0x4ed965=0x0,_0x9be806=this[_0x1a9f('0x9d8')][_0x1a9f('0xf')];_0x4ed965<_0x9be806;_0x4ed965++)_0x1c270e&&(this[_0x1a9f('0x9d8')][_0x4ed965]['envMap']=_0x1c270e),this[_0x1a9f('0x9d8')]['needsUpdate']=!0x0;}},{'key':_0x1a9f('0x99f'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){return new _0x54dfbb[(_0x1a9f('0xab'))]({'colorStr':_0x4ed965,'opacity':_0x9be806})[_0x1a9f('0x5f8')](_0x1c270e,_0x1c270e[_0x1a9f('0x91')]);}},{'key':_0x1a9f('0x9d9'),'value':function(_0x1c270e,_0x4ed965){var _0x9be806=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')]((0x0,_0x359fef[_0x1a9f('0x2f')])(_0x4ed965[_0x1a9f('0x93d')]));new _0x54dfbb[(_0x1a9f('0xa4'))]({'camera':this['map']['mapView'][_0x1a9f('0x314')],'texture':_0x9be806,'colorStr':_0x4ed965[_0x1a9f('0x21e')],'lineWidth':_0x4ed965[_0x1a9f('0x312')]})[_0x1a9f('0x32c')](_0x1c270e);}},{'key':_0x1a9f('0x9da'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x293455,_0x3b824d=this,_0x330ad3=_0x1c270e[_0x1a9f('0x9db')],_0x2666df=void 0x0,_0x16db97=void 0x0,_0x3f8cb0=_0x330ad3[_0x1a9f('0x9dc')][_0x1a9f('0x7e0')]['ms']||{},_0x20f7b0=_0x330ad3['scene'][_0x1a9f('0x42')],_0xb5cbad=new THREE['Vector3'](),_0x3c0d0e=new THREE['Vector3']();for(_0x293455 in new THREE[(_0x1a9f('0x9dd'))]()[_0x1a9f('0x9de')](_0x330ad3[_0x1a9f('0x443')])[_0x1a9f('0x5f3')](_0x330ad3['scene']['position']),_0x330ad3[_0x1a9f('0x443')]['position'][_0x1a9f('0x1be')](-0x1),_0x330ad3[_0x1a9f('0x443')][_0x1a9f('0x92')](function(_0x1c270e){if(_0x1c270e instanceof THREE['Mesh']){if(_0xb5cbad[_0x1a9f('0x1d')](_0x20f7b0['x']+_0x1c270e['position']['x'],_0x20f7b0['y']+_0x1c270e['position']['y'],_0x20f7b0['z']+_0x1c270e['position']['z']),_0x3c0d0e[_0x1a9f('0x1d')](THREE[_0x1a9f('0x18')][_0x1a9f('0x9df')](_0x1c270e[_0x1a9f('0x1eb')]['x']),THREE[_0x1a9f('0x18')][_0x1a9f('0x9df')](_0x1c270e[_0x1a9f('0x1eb')]['y']),THREE['Math'][_0x1a9f('0x9df')](_0x1c270e[_0x1a9f('0x1eb')]['z'])),_0x3c0d0e=_0x3c0d0e[_0x1a9f('0x41b')](),_0x2666df=_0x1c270e[_0x1a9f('0x91')][_0x1a9f('0x1af')](),0x0<=(_0x16db97=_0x1c270e[_0x1a9f('0x48')][_0x1a9f('0x1af')]())[_0x1a9f('0x427')]['indexOf']('_ef_')){var _0x1c270e=_0x3b824d[_0x1a9f('0x997')](_0x16db97['name']),_0x4ed965=!0x0,_0x9be806=!0x1,_0x293455=void 0x0;try{for(var _0x330ad3,_0x2ebb32=(0x0,_0x3f03fd['default'])(_0x1c270e);!(_0x4ed965=(_0x330ad3=_0x2ebb32['next']())['done']);_0x4ed965=!0x0){var _0x5e5156=_0x330ad3['value'];_0x3b824d['matchModelEffectConfig'](_0x3b824d[_0x1a9f('0x80a')],_0x5e5156,_0x16db97);}}catch(_0x544128){_0x9be806=!0x0,_0x293455=_0x544128;}finally{try{!_0x4ed965&&_0x2ebb32[_0x1a9f('0xd0')]&&_0x2ebb32[_0x1a9f('0xd0')]();}finally{if(_0x9be806)throw _0x293455;}}}_0x3f8cb0[_0x1a9f('0x48')]&&0x0<(0x0,_0x300996[_0x1a9f('0xa')])(_0x3f8cb0[_0x1a9f('0x48')])[_0x1a9f('0xf')]&&_0x3f8cb0[_0x1a9f('0x48')][_0x16db97[_0x1a9f('0x427')]]&&_0x3b824d['settingModelEffects']('',_0x16db97,null,_0x3f8cb0[_0x1a9f('0x48')][_0x16db97[_0x1a9f('0x427')]]);}}),_0x4ed965){var _0x2ebb32=null,_0x5e5156=(_0x2ebb32=(0x0,_0x359fef[_0x1a9f('0x35')])()?this[_0x1a9f('0x90')]['getTileById'](_0x293455):((0x0,_0x359fef[_0x1a9f('0x3d')])()?_0x1c270e['building']:(0x0,_0x359fef[_0x1a9f('0x498')])())[_0x1a9f('0x499')](_0x293455)[_0x1a9f('0x9e0')]('mapmodel3ds')[0x0],_0x4ed965[_0x293455]),_0x1f43c9=[],_0x1dc42b=[],_0x131e95=[],_0x2e0eeb=!0x0,_0x2234a8=!0x1,_0x2f4b15=void 0x0;try{for(var _0x5108d7,_0x37ded1=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x5e5156);!(_0x2e0eeb=(_0x5108d7=_0x37ded1[_0x1a9f('0x79')]())['done']);_0x2e0eeb=!0x0){var _0x3e031f,_0x44b205=_0x5108d7[_0x1a9f('0x11')];_0x1f43c9[_0x1a9f('0x70')](_0x44b205[_0x1a9f('0x42')]['x']+_0xb5cbad['x'],_0x44b205['position']['y']+_0xb5cbad['y'],_0x44b205['position']['z']+_0xb5cbad['z']),_0x44b205[_0x1a9f('0x9e1')]?(_0x3e031f=_0x44b205[_0x1a9f('0x9e1')][_0x1a9f('0x5f')](','),_0x131e95[_0x1a9f('0x70')](+_0x3e031f[0x0]+_0x3c0d0e['x'],+_0x3e031f[0x1]+_0x3c0d0e['y'],+_0x3e031f[0x2]+_0x3c0d0e['z'])):_0x131e95[_0x1a9f('0x70')](0x0,0x0,0x0),_0x1dc42b[_0x1a9f('0x70')](_0x44b205[_0x1a9f('0x1d5')]['x'],_0x44b205[_0x1a9f('0x1d5')]['y'],_0x44b205['scale']['z']);}}catch(_0x55c444){_0x2234a8=!0x0,_0x2f4b15=_0x55c444;}finally{try{!_0x2e0eeb&&_0x37ded1['return']&&_0x37ded1[_0x1a9f('0xd0')]();}finally{if(_0x2234a8)throw _0x2f4b15;}}_0x2234a8=new _0x54dfbb[(_0x1a9f('0x9c'))]({'material':_0x16db97,'geometry':_0x2666df,'num':_0x5e5156['length'],'camera':this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x314')],'shadowCamera':_0x9be806[_0x1a9f('0x696')],'pos':_0x1f43c9,'rot':_0x131e95,'scale':_0x1dc42b});_0x2234a8[_0x1a9f('0x343')][_0x1a9f('0x427')]=_0x1c270e[_0x1a9f('0x427')],_0x3f8cb0[_0x1a9f('0x1e4')]&&(0x0,_0x300996[_0x1a9f('0xa')])(_0x3f8cb0['mesh'])['length'],_0x2ebb32[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x2234a8['object3d']),this[_0x1a9f('0x9e2')]['push'](_0x2234a8);}}},{'key':_0x1a9f('0x844'),'value':function(_0x1c270e,_0x4ed965,_0x9be806){var _0x293455,_0xba3948,_0x55b5b5,_0x4b2c7e,_0x3202b4,_0x3e084d,_0x330ad3,_0x152608=this,_0x45f427={},_0x117c44=null;for(_0x330ad3 in this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]]||(_0x293455=_0x1c270e['gltfObj'],_0x55b5b5=_0xba3948=void 0x0,_0x45f427=_0x293455[_0x1a9f('0x9dc')][_0x1a9f('0x7e0')]['ms']||{},_0x4b2c7e=_0x293455[_0x1a9f('0x443')][_0x1a9f('0x42')],_0x3202b4=new THREE[(_0x1a9f('0x1b5'))](),_0x3e084d=new THREE[(_0x1a9f('0x1b5'))](),new THREE[(_0x1a9f('0x9dd'))]()[_0x1a9f('0x9de')](_0x293455[_0x1a9f('0x443')])[_0x1a9f('0x5f3')](_0x293455['scene']['position']),_0x293455[_0x1a9f('0x443')]['position'][_0x1a9f('0x1be')](-0x1),_0x293455[_0x1a9f('0x443')][_0x1a9f('0x92')](function(_0x1c270e){if(_0x1c270e instanceof THREE['Mesh']){if(_0x3202b4['set'](_0x4b2c7e['x']+_0x1c270e['position']['x'],_0x4b2c7e['y']+_0x1c270e[_0x1a9f('0x42')]['y'],_0x4b2c7e['z']+_0x1c270e['position']['z']),_0x3e084d[_0x1a9f('0x1d')](THREE[_0x1a9f('0x18')][_0x1a9f('0x9df')](_0x1c270e['rotation']['x']),THREE[_0x1a9f('0x18')][_0x1a9f('0x9df')](_0x1c270e[_0x1a9f('0x1eb')]['y']),THREE[_0x1a9f('0x18')]['radToDeg'](_0x1c270e[_0x1a9f('0x1eb')]['z'])),_0x3e084d=_0x3e084d[_0x1a9f('0x41b')](),_0xba3948=_0x1c270e[_0x1a9f('0x91')]['clone'](),_0x55b5b5=_0x1c270e[_0x1a9f('0x48')][_0x1a9f('0x1af')](),_0x117c44=_0x1c270e[_0x1a9f('0x427')],0x0<=_0x55b5b5[_0x1a9f('0x427')][_0x1a9f('0xc4')](_0x1a9f('0x889'))){var _0x1c270e=_0x152608[_0x1a9f('0x997')](_0x55b5b5[_0x1a9f('0x427')]),_0x4ed965=!0x0,_0x9be806=!0x1,_0x293455=void 0x0;try{for(var _0x330ad3,_0x2ebb32=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x1c270e);!(_0x4ed965=(_0x330ad3=_0x2ebb32[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x4ed965=!0x0){var _0x5e5156=_0x330ad3[_0x1a9f('0x11')];_0x152608['matchModelEffectConfig'](_0x152608[_0x1a9f('0x80a')],_0x5e5156,_0x55b5b5);}}catch(_0x4e25b8){_0x9be806=!0x0,_0x293455=_0x4e25b8;}finally{try{!_0x4ed965&&_0x2ebb32[_0x1a9f('0xd0')]&&_0x2ebb32['return']();}finally{if(_0x9be806)throw _0x293455;}}}_0x45f427[_0x1a9f('0x48')]&&0x0<(0x0,_0x300996['default'])(_0x45f427[_0x1a9f('0x48')])['length']&&_0x45f427[_0x1a9f('0x48')][_0x55b5b5[_0x1a9f('0x427')]]&&_0x152608[_0x1a9f('0x99a')]('',_0x55b5b5,null,_0x45f427['material'][_0x55b5b5[_0x1a9f('0x427')]]);}}),this['tileInstanceModels'][_0x1c270e['name']]={'material':_0x55b5b5,'geometry':_0xba3948,'offsetPos':_0x3202b4,'rotation':_0x3e084d}),_0x4ed965){var _0x2ebb32=this[_0x1a9f('0x90')][_0x1a9f('0x943')](_0x330ad3);if(_0x2ebb32){var _0x5e5156=_0x4ed965[_0x330ad3],_0x4f654a=[],_0x4e2fa6=[],_0xfc3123=[],_0x17ed4b=!0x0,_0x2c00f3=!0x1,_0x521726=void 0x0;try{for(var _0x1dcf41,_0x2a55b2=(0x0,_0x3f03fd[_0x1a9f('0xa')])(_0x5e5156);!(_0x17ed4b=(_0x1dcf41=_0x2a55b2['next']())['done']);_0x17ed4b=!0x0){var _0x191b48,_0x359fef=_0x1dcf41['value'];_0x4f654a[_0x1a9f('0x70')](_0x359fef['position']['x']+this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]]['offsetPos']['x'],_0x359fef[_0x1a9f('0x42')]['y']+this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]][_0x1a9f('0x9e3')]['y']*_0x359fef['scale']['y'],_0x359fef[_0x1a9f('0x42')]['z']+this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]][_0x1a9f('0x9e3')]['z']),_0x359fef[_0x1a9f('0x9e1')]?(_0x191b48=_0x359fef[_0x1a9f('0x9e1')][_0x1a9f('0x5f')](','),_0xfc3123['push'](+_0x191b48[0x0]+this['tileInstanceModels'][_0x1c270e['name']][_0x1a9f('0x1eb')]['x'],+_0x191b48[0x1]+this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]]['rotation']['y'],+_0x191b48[0x2]+this[_0x1a9f('0x993')][_0x1c270e[_0x1a9f('0x427')]][_0x1a9f('0x1eb')]['z'])):_0xfc3123[_0x1a9f('0x70')](0x0,0x0,0x0),_0x4e2fa6[_0x1a9f('0x70')](_0x359fef[_0x1a9f('0x1d5')]['x'],_0x359fef[_0x1a9f('0x1d5')]['y'],_0x359fef[_0x1a9f('0x1d5')]['z']);}}catch(_0x4dd6ae){_0x2c00f3=!0x0,_0x521726=_0x4dd6ae;}finally{try{!_0x17ed4b&&_0x2a55b2[_0x1a9f('0xd0')]&&_0x2a55b2[_0x1a9f('0xd0')]();}finally{if(_0x2c00f3)throw _0x521726;}}_0x2c00f3=new _0x54dfbb[(_0x1a9f('0x9c'))]({'material':this['tileInstanceModels'][_0x1c270e[_0x1a9f('0x427')]]['material'],'geometry':this[_0x1a9f('0x993')][_0x1c270e['name']]['geometry'],'num':_0x5e5156['length'],'camera':this['map']['mapView']['camera'],'shadowCamera':_0x9be806[_0x1a9f('0x696')],'pos':_0x4f654a,'rot':_0xfc3123,'scale':_0x4e2fa6});_0x2c00f3[_0x1a9f('0x343')][_0x1a9f('0x427')]=_0x1c270e['name'],_0x2ebb32[_0x1a9f('0x49c')][_0x1a9f('0x1c0')](_0x2c00f3[_0x1a9f('0x343')]),_0x45f427[_0x1a9f('0x1e4')]&&0x0<(0x0,_0x300996['default'])(_0x45f427[_0x1a9f('0x1e4')])['length']&&_0x117c44&&_0x45f427[_0x1a9f('0x1e4')][_0x117c44]&&_0x152608[_0x1a9f('0x99a')]('',_0x2c00f3[_0x1a9f('0x343')][_0x1a9f('0x32d')][0x0],null,_0x45f427[_0x1a9f('0x1e4')][_0x117c44]),this[_0x1a9f('0x9e2')][_0x1a9f('0x70')](_0x2c00f3),delete _0x4ed965[_0x330ad3];}}}},{'key':_0x1a9f('0x33c'),'value':function(){this[_0x1a9f('0x882')]={},this[_0x1a9f('0x98e')]['length']=0x0,this[_0x1a9f('0x885')][_0x1a9f('0xf')]=0x0,this['modelUvAnimation'][_0x1a9f('0x8f')]();var _0x1c270e=!0x0,_0x4ed965=!0x1,_0x9be806=void 0x0;try{for(var _0x293455,_0x330ad3=(0x0,_0x3f03fd['default'])(this[_0x1a9f('0x98d')]);!(_0x1c270e=(_0x293455=_0x330ad3[_0x1a9f('0x79')]())['done']);_0x1c270e=!0x0)_0x293455[_0x1a9f('0x11')][_0x1a9f('0x8f')]();}catch(_0x48fcb1){_0x4ed965=!0x0,_0x9be806=_0x48fcb1;}finally{try{!_0x1c270e&&_0x330ad3[_0x1a9f('0xd0')]&&_0x330ad3['return']();}finally{if(_0x4ed965)throw _0x9be806;}}this[_0x1a9f('0x9d8')]['length']=0x0,this[_0x1a9f('0x991')][_0x1a9f('0x8f')](),this[_0x1a9f('0x9b1')]={},this[_0x1a9f('0x992')]&&this[_0x1a9f('0x992')][_0x1a9f('0x4a9')]();var _0x2ebb32=!0x0,_0x4ed965=!(this[_0x1a9f('0x993')]={}),_0x9be806=void 0x0;try{for(var _0x5e5156,_0x278d26=(0x0,_0x3f03fd['default'])(this['instanceMeshs']);!(_0x2ebb32=(_0x5e5156=_0x278d26[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2ebb32=!0x0)_0x5e5156[_0x1a9f('0x11')][_0x1a9f('0x8f')]();}catch(_0x36e08d){_0x4ed965=!0x0,_0x9be806=_0x36e08d;}finally{try{!_0x2ebb32&&_0x278d26[_0x1a9f('0xd0')]&&_0x278d26[_0x1a9f('0xd0')]();}finally{if(_0x4ed965)throw _0x9be806;}}this['instanceMeshs'][_0x1a9f('0xf')]=0x0,this['modelsControlGroups']={};}},{'key':_0x1a9f('0x340'),'value':function(_0x1c270e){if(this[_0x1a9f('0x990')]['update'](_0x1c270e),0x0<this['boatFoams'][_0x1a9f('0xf')])for(var _0x4ed965=0x0,_0x9be806=this[_0x1a9f('0x880')][_0x1a9f('0xf')];_0x4ed965<_0x9be806;_0x4ed965++)this[_0x1a9f('0x880')][_0x4ed965][_0x1a9f('0x340')](_0x1c270e);if(0x0<this[_0x1a9f('0x98d')]['length'])for(var _0x293455=0x0,_0x330ad3=this[_0x1a9f('0x98d')][_0x1a9f('0xf')];_0x293455<_0x330ad3;_0x293455++)this[_0x1a9f('0x98d')][_0x293455][_0x1a9f('0x340')](_0x1c270e);if(0x0<this['modelTerrainList']['length'])for(var _0x2ebb32=0x0,_0x5e5156=this[_0x1a9f('0x98e')][_0x1a9f('0xf')];_0x2ebb32<_0x5e5156;_0x2ebb32++)this[_0x1a9f('0x98e')][_0x2ebb32]['render'](_0x1c270e);}}]),_0x4ed965[_0x1a9f('0xa')]=_0x5e5156;},function(_0x6bb96c,_0x5399e9,_0x23fa8b){'use strict';Object[_0x1a9f('0x3')](_0x5399e9,_0x1a9f('0x5'),{'value':!0x0});var _0x814b9b=_0x467824(_0x23fa8b(0x0)),_0x37c293=_0x467824(_0x23fa8b(0x1)),_0x58d0cd=_0x23fa8b(0x1a),_0x309596=_0x467824(_0x23fa8b(0x100));function _0x467824(_0x6bb96c){return _0x6bb96c&&_0x6bb96c['__esModule']?_0x6bb96c:{'default':_0x6bb96c};}function _0x37c81d(){(0x0,_0x814b9b['default'])(this,_0x37c81d),this[_0x1a9f('0x90')]=(0x0,_0x58d0cd[_0x1a9f('0x33')])(),this['enabled']=!0x1,this[_0x1a9f('0x494')]=null,this[_0x1a9f('0x9e4')]=[];}(0x0,_0x37c293[_0x1a9f('0xa')])(_0x37c81d,[{'key':'init','value':function(_0x6bb96c){var _0x5399e9=this;this[_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x494')]=new _0x309596[(_0x1a9f('0xa'))]({'map':this[_0x1a9f('0x90')]}),this[_0x1a9f('0x494')][_0x1a9f('0x82d')](_0x6bb96c),this['map']['on'](_0x1a9f('0x748'),function(_0x6bb96c){_0x5399e9[_0x1a9f('0x494')]['enabled']&&_0x5399e9[_0x1a9f('0x494')][_0x1a9f('0x748')](_0x6bb96c[_0x1a9f('0x33a')],_0x6bb96c['height']);});}},{'key':'bindOutlineSelection','value':function(){var _0x5399e9;this[_0x1a9f('0x494')][_0x1a9f('0x9e5')]&&(_0x5399e9=this)['map']['on'](_0x1a9f('0x9e6'),function(_0x6bb96c){_0x6bb96c[_0x1a9f('0x9e7')]==esmap[_0x1a9f('0x9e8')]['MODEL3D']&&(_0x5399e9[_0x1a9f('0x9e4')]['length']=0x0,_0x5399e9[_0x1a9f('0x9e4')][_0x1a9f('0x70')](_0x6bb96c[_0x1a9f('0x49c')]),_0x5399e9[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9e9')]=_0x5399e9[_0x1a9f('0x9e4')]);});}},{'key':_0x1a9f('0x890'),'value':function(_0x6bb96c){_0x6bb96c['color']&&this[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9ea')][_0x1a9f('0x30c')](_0x6bb96c['color']),_0x6bb96c['hiddenEdgeColor']&&this[_0x1a9f('0x494')]['outlinePass']['hiddenEdgeColor'][_0x1a9f('0x30c')](_0x6bb96c[_0x1a9f('0x9eb')]),_0x6bb96c[_0x1a9f('0x9ec')]&&(this[_0x1a9f('0x494')]['outlinePass']['edgeStrength']=_0x6bb96c[_0x1a9f('0x9ec')]),_0x6bb96c['edgeSpread']&&(this[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9ed')]=_0x6bb96c[_0x1a9f('0x9ee')]),_0x6bb96c[_0x1a9f('0x9ef')]&&(this[_0x1a9f('0x494')][_0x1a9f('0x9e5')]['edgeThickness']=_0x6bb96c[_0x1a9f('0x9ef')]),_0x6bb96c[_0x1a9f('0x9f0')]&&(this[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9f1')]=_0x6bb96c[_0x1a9f('0x9f0')],this[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9f2')]=!0x0),_0x6bb96c['blinkPeriod']=_0x6bb96c[_0x1a9f('0x9f3')]||2.5,this[_0x1a9f('0x494')]['outlinePass'][_0x1a9f('0x9f4')]=_0x6bb96c[_0x1a9f('0x5a4')]?_0x6bb96c[_0x1a9f('0x9f3')]:0x0;}},{'key':_0x1a9f('0x9f5'),'value':function(_0x6bb96c,_0x5399e9){this[_0x1a9f('0x494')]&&(this['screenEffect'][_0x1a9f('0x9e5')][_0x1a9f('0x9e9')][_0x1a9f('0x70')](_0x6bb96c),_0x5399e9?this[_0x1a9f('0x890')](_0x5399e9):this['updateOutlineStyle'](this[_0x1a9f('0x494')]['defaultOutlineConfig']));}},{'key':_0x1a9f('0x891'),'value':function(_0x6bb96c){if(this['screenEffect']&&0x0<this[_0x1a9f('0x494')][_0x1a9f('0x9e5')]['selectedObjects'][_0x1a9f('0xf')])for(var _0x5399e9=0x0,_0x23fa8b=this[_0x1a9f('0x494')][_0x1a9f('0x9e5')][_0x1a9f('0x9e9')][_0x1a9f('0xf')];_0x5399e9<_0x23fa8b;_0x5399e9++)if(this[_0x1a9f('0x494')][_0x1a9f('0x9e5')]['selectedObjects'][_0x5399e9][_0x1a9f('0x1f5')]===_0x6bb96c[_0x1a9f('0x1f5')]){this['screenEffect'][_0x1a9f('0x9e5')][_0x1a9f('0x9e9')][_0x1a9f('0xc5')](_0x5399e9,0x1);break;}}},{'key':_0x1a9f('0x892'),'value':function(){this[_0x1a9f('0x494')]&&(this['screenEffect'][_0x1a9f('0x9e5')][_0x1a9f('0x9e9')]['length']=0x0);}},{'key':_0x1a9f('0x8f'),'value':function(){this['screenEffect']&&(this[_0x1a9f('0x494')][_0x1a9f('0x8f')](),this[_0x1a9f('0x892')](),this[_0x1a9f('0x9e4')]['length']=0x0);}},{'key':_0x1a9f('0x340'),'value':function(){this[_0x1a9f('0x494')]&&this['map'][_0x1a9f('0x4d')][_0x1a9f('0x815')]&&this[_0x1a9f('0x494')][_0x1a9f('0x340')]();}}]),_0x5399e9[_0x1a9f('0xa')]=_0x37c81d;},function(_0x3d0d16,_0x3179ad,_0x2d2f6f){'use strict';Object[_0x1a9f('0x3')](_0x3179ad,_0x1a9f('0x5'),{'value':!0x0});var _0x431ca3=_0x56217e(_0x2d2f6f(0x11)),_0x1ec5f0=_0x56217e(_0x2d2f6f(0x0)),_0x32c241=_0x56217e(_0x2d2f6f(0x1));function _0x56217e(_0x3d0d16){return _0x3d0d16&&_0x3d0d16['__esModule']?_0x3d0d16:{'default':_0x3d0d16};}function _0x5b08d4(_0x3d0d16){_0x3d0d16=_0x3d0d16[_0x1a9f('0x90')];(0x0,_0x1ec5f0[_0x1a9f('0xa')])(this,_0x5b08d4),this['map']=_0x3d0d16,this['enabled']=!0x0,this[_0x1a9f('0x9f6')]=null,this[_0x1a9f('0x9f7')]=!0x1,this['bloomComposer']=null,this[_0x1a9f('0x9f8')]=null,this[_0x1a9f('0x9f9')]=null,this['bloomFinalPass']=null,this['outlinePass']=null,this['scale']=0x1,this['originSize']={'width':this['map'][_0x1a9f('0x447')]['w_'],'height':this[_0x1a9f('0x90')][_0x1a9f('0x447')]['h_']},this['scaleSize']={'width':this[_0x1a9f('0x90')][_0x1a9f('0x447')]['w_']*this[_0x1a9f('0x1d5')],'height':this[_0x1a9f('0x90')][_0x1a9f('0x447')]['h_']*this[_0x1a9f('0x1d5')]},this[_0x1a9f('0x9fa')]=new THREE['Layers'](),this['bloomLayer'][_0x1a9f('0x1d')](0x1),this[_0x1a9f('0x9fb')]={},this[_0x1a9f('0x9fc')]=new THREE[(_0x1a9f('0x3e9'))]({'color':_0x1a9f('0x9fd')}),this[_0x1a9f('0x9fe')]=new THREE[(_0x1a9f('0x1b7'))](0x0),this['originBgTexture']=null,this['relaceBgMaterial']=null,this[_0x1a9f('0x9ff')]=null;}_0x2d2f6f(0x1a),_0x2d2f6f(0x101),_0x2d2f6f(0x102),_0x2d2f6f(0x103),_0x2d2f6f(0x104),_0x2d2f6f(0x105),_0x2d2f6f(0x106),_0x2d2f6f(0x107),_0x2d2f6f(0x108),(0x0,_0x32c241[_0x1a9f('0xa')])(_0x5b08d4,[{'key':'init','value':function(_0x3d0d16){var _0x3179ad,_0x2d2f6f=this['map'][_0x1a9f('0x447')][_0x1a9f('0x4b1')],_0x1ec5f0=this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'],_0x32c241=this[_0x1a9f('0x90')][_0x1a9f('0x447')]['camera'],_0x56217e=(_0x2d2f6f[_0x1a9f('0xa00')](),this[_0x1a9f('0x1d5')]=1.5,this[_0x1a9f('0x90')][_0x1a9f('0x4d')][_0x1a9f('0xa01')]||this[_0x1a9f('0x90')][_0x1a9f('0x4d')]['perspective']),_0x5b08d4=(_0x2d2f6f['capabilities']['isWebGL2']?(_0x5b08d4={'format':_0x56217e?THREE[_0x1a9f('0xa02')]:THREE[_0x1a9f('0x444')],'stencilBuffer':!0x1},_0x508f8c=_0x2d2f6f[_0x1a9f('0xa03')](new THREE[(_0x1a9f('0x1b3'))]()),_0x508f8c=new THREE['WebGLMultisampleRenderTarget'](_0x508f8c['width'],_0x508f8c['height'],_0x5b08d4),this[_0x1a9f('0x9f6')]=new THREE[(_0x1a9f('0xa04'))](_0x2d2f6f,_0x508f8c),this['isWebGL2']=!0x0):this[_0x1a9f('0x9f6')]=new THREE['EffectComposer'](_0x2d2f6f),new THREE[(_0x1a9f('0xa05'))](_0x1ec5f0,_0x32c241)),_0x508f8c=(this[_0x1a9f('0x9f8')]=new THREE[(_0x1a9f('0xa06'))](THREE[_0x1a9f('0xa07')]),null);this[_0x1a9f('0x9f7')]||((_0x508f8c=new THREE[(_0x1a9f('0xa06'))](THREE['CopyShader']))[_0x1a9f('0xa08')]=!0x1),_0x3d0d16[_0x1a9f('0x95c')]&&(this[_0x1a9f('0x9ff')]=(0x0,_0x431ca3[_0x1a9f('0xa')])({'color':'#FFFFFF','edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x3d0d16[_0x1a9f('0x95c')]),_0x3179ad=esmap['ESMapUtil'][_0x1a9f('0x80d')](),this['outlinePass']=new THREE[(_0x1a9f('0xa09'))](new THREE[(_0x1a9f('0x1b3'))](this[_0x1a9f('0xa0a')]['width'],this[_0x1a9f('0xa0a')]['height']),_0x1ec5f0,_0x32c241),this[_0x1a9f('0x9e5')][_0x1a9f('0x9ea')]['setStyle'](this['defaultOutlineConfig'][_0x1a9f('0x21e')]),this[_0x1a9f('0x9ff')]['hiddenEdgeColor']&&this[_0x1a9f('0x9e5')][_0x1a9f('0x9eb')][_0x1a9f('0x30c')](this[_0x1a9f('0x9ff')]['hiddenEdgeColor']),this[_0x1a9f('0x9e5')][_0x1a9f('0xa0b')]=this[_0x1a9f('0x9ff')]['edgeWidth'],this[_0x1a9f('0x9e5')][_0x1a9f('0x9ef')]=this[_0x1a9f('0x9ff')][_0x1a9f('0x9ef')],_0x3179ad[_0x1a9f('0x80f')]&&0x0<=['iPhone',_0x1a9f('0x811'),'iPod'][_0x1a9f('0xc4')](_0x3179ad[_0x1a9f('0x80f')])&&(this['outlinePass']['edgeStrength']*=0x4,this[_0x1a9f('0x9e5')]['edgeThickness']*=0x4),this[_0x1a9f('0x9e5')][_0x1a9f('0x9ed')]=this['defaultOutlineConfig'][_0x1a9f('0x9ee')],this[_0x1a9f('0x9e5')]['pulsePeriod']=this[_0x1a9f('0x9ff')][_0x1a9f('0x5a4')]?this[_0x1a9f('0x9ff')][_0x1a9f('0x9f3')]:0x0),_0x3d0d16['unrealBloom']&&(_0x1ec5f0=(0x0,_0x431ca3[_0x1a9f('0xa')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE[(_0x1a9f('0x1b7'))](0x0)},_0x3d0d16[_0x1a9f('0x99d')]),this[_0x1a9f('0x9f9')]=new THREE[(_0x1a9f('0xa0c'))](new THREE[(_0x1a9f('0x1b3'))](this[_0x1a9f('0xa0a')][_0x1a9f('0x33a')],this['originSize'][_0x1a9f('0x33b')]),1.5,0.4,0.85),this[_0x1a9f('0x9f9')]['renderToScreen']=!0x1,this[_0x1a9f('0x9f9')][_0x1a9f('0xa0d')]=_0x1ec5f0[_0x1a9f('0xa0e')],this[_0x1a9f('0x9f9')][_0x1a9f('0xa0f')]=_0x1ec5f0[_0x1a9f('0xa10')],this[_0x1a9f('0x9f9')][_0x1a9f('0x21c')]=_0x1ec5f0[_0x1a9f('0xa11')],this[_0x1a9f('0xa12')]=new THREE['EffectComposer'](_0x2d2f6f),this[_0x1a9f('0xa12')][_0x1a9f('0xa08')]=!0x1,this[_0x1a9f('0xa12')][_0x1a9f('0xa13')](_0x5b08d4),this['isWebGL2']||this[_0x1a9f('0xa12')][_0x1a9f('0xa13')](this[_0x1a9f('0x9f8')]),this['isWebGL2']||this[_0x1a9f('0xa12')][_0x1a9f('0xa13')](_0x508f8c),this[_0x1a9f('0xa12')][_0x1a9f('0xa13')](this[_0x1a9f('0x9f9')]),this['bloomFinalPass']=new THREE[(_0x1a9f('0xa06'))](new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this[_0x1a9f('0xa12')]['renderTarget2'][_0x1a9f('0xcc')]}},'vertexShader':_0x1a9f('0xa14'),'fragmentShader':_0x1a9f('0xa15'),'defines':{}}),_0x1a9f('0xa16')),this['bloomFinalPass'][_0x1a9f('0xa17')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')]['background']?this['map']['mapView']['scene']['background']instanceof THREE[_0x1a9f('0x1c6')]&&(this['originBgTexture']=this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x475')]):_0x56217e||(this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x475')]=_0x1ec5f0[_0x1a9f('0xa18')],esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')][_0x1a9f('0x806')]||(_0x32c241=new THREE['Color'](this[_0x1a9f('0x90')][_0x1a9f('0x43')][_0x1a9f('0xa19')]),this[_0x1a9f('0x893')]=new THREE[(_0x1a9f('0x3e9'))]({'color':_0x32c241,'side':THREE[_0x1a9f('0x441')]}),this[_0x1a9f('0x893')]['onBeforeCompile']=function(_0x3d0d16){_0x3d0d16[_0x1a9f('0x56')]=_0x3d0d16[_0x1a9f('0x56')][_0x1a9f('0x239')](_0x1a9f('0x3ff'),_0x1a9f('0xa1a'));},(_0x3179ad=new THREE['Mesh'](new THREE[(_0x1a9f('0x442'))](0x1,0x1,0x1),this['relaceBgMaterial']))['scale'][_0x1a9f('0x1d')](0x989680,0x989680,0x989680),this[_0x1a9f('0x90')]['mapView']['scene'][_0x1a9f('0x1c0')](_0x3179ad)))),this[_0x1a9f('0x9f6')][_0x1a9f('0xa13')](_0x5b08d4),_0x3d0d16['unrealBloom']&&this['composer'][_0x1a9f('0xa13')](this['bloomFinalPass']),_0x3d0d16['outline']&&this[_0x1a9f('0x9f6')][_0x1a9f('0xa13')](this['outlinePass']),this[_0x1a9f('0x9f7')]||this['composer'][_0x1a9f('0xa13')](this[_0x1a9f('0x9f8')]),this[_0x1a9f('0x707')](this[_0x1a9f('0x1d5')]);}},{'key':_0x1a9f('0x707'),'value':function(_0x3d0d16){this[_0x1a9f('0x1d5')]=_0x3d0d16,this['size']={'width':this[_0x1a9f('0xa0a')]['width']*this[_0x1a9f('0x1d5')],'height':this['originSize']['height']*this[_0x1a9f('0x1d5')]};}},{'key':'resize','value':function(_0x3d0d16,_0x3179ad){this[_0x1a9f('0xa0a')][_0x1a9f('0x33a')]=_0x3d0d16,this[_0x1a9f('0xa0a')]['height']=_0x3179ad,this[_0x1a9f('0x707')](this[_0x1a9f('0x1d5')]);}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x893')]&&(this[_0x1a9f('0x893')][_0x1a9f('0x8f')](),this[_0x1a9f('0x893')]=null),this[_0x1a9f('0xa1b')]&&(this[_0x1a9f('0xa1b')]=null);}},{'key':_0x1a9f('0x340'),'value':function(){this[_0x1a9f('0x9f6')]&&(this[_0x1a9f('0xa12')]&&this[_0x1a9f('0xa1c')](),this[_0x1a9f('0x9f6')][_0x1a9f('0x340')](),'3D'==this['map']['viewMode_']?this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0xa1d')][_0x1a9f('0x340')](this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')],this[_0x1a9f('0x90')]['mapView']['camera']):(this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')]['render'](this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')],this[_0x1a9f('0x90')][_0x1a9f('0x447')]['cameraTop']),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0xa1d')]['render'](this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'],this['map'][_0x1a9f('0x447')]['cameraTop'])),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')]['clearDepth'](),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x340')](this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0xa1e')],this['map'][_0x1a9f('0x447')][_0x1a9f('0xa1f')]));}},{'key':_0x1a9f('0xa1c'),'value':function(){this[_0x1a9f('0xa1b')]&&(this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene']['background']=this[_0x1a9f('0x9fe')]),this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1d4')]&&(this['map']['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1d4')]['_originColor']||(this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1d4')][_0x1a9f('0xa20')]=new THREE['Color']()[_0x1a9f('0x1ba')](this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1d4')][_0x1a9f('0x21e')])),this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x1d4')][_0x1a9f('0x21e')]['copy'](this['darkColor'])),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x92')](this['darkenNonBloomed']['bind'](this)),this[_0x1a9f('0xa12')]['render'](),this[_0x1a9f('0xa1b')]&&(this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')][_0x1a9f('0x475')]=this[_0x1a9f('0xa1b')]),this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x1d4')]&&this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1d4')][_0x1a9f('0x21e')][_0x1a9f('0x1ba')](this[_0x1a9f('0x90')][_0x1a9f('0x447')]['scene'][_0x1a9f('0x1d4')][_0x1a9f('0xa20')]),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x92')](this[_0x1a9f('0xa21')][_0x1a9f('0x9')](this));}},{'key':_0x1a9f('0xa22'),'value':function(_0x3d0d16){_0x3d0d16[_0x1a9f('0x48')]&&!0x1===this[_0x1a9f('0x9fa')][_0x1a9f('0x5b')](_0x3d0d16[_0x1a9f('0x4d0')])&&(this['materials'][_0x3d0d16[_0x1a9f('0x1f5')]]=_0x3d0d16[_0x1a9f('0x48')],!0x1!==_0x3d0d16['material'][_0x1a9f('0x342')]&&(_0x1a9f('0xa23')==_0x3d0d16[_0x1a9f('0xc6')]?_0x3d0d16['material'][_0x1a9f('0x342')]=!0x1:_0x3d0d16[_0x1a9f('0x48')]=this[_0x1a9f('0x9fc')]));}},{'key':'restoreMaterial','value':function(_0x3d0d16){this[_0x1a9f('0x9fb')][_0x3d0d16[_0x1a9f('0x1f5')]]&&(_0x3d0d16[_0x1a9f('0x48')]=this[_0x1a9f('0x9fb')][_0x3d0d16[_0x1a9f('0x1f5')]],delete this['materials'][_0x3d0d16[_0x1a9f('0x1f5')]]),_0x1a9f('0xa23')==_0x3d0d16[_0x1a9f('0xc6')]&&(_0x3d0d16['material']['visible']=!0x0);}},{'key':'size','set':function(_0x3d0d16){this[_0x1a9f('0xa12')]&&this[_0x1a9f('0xa12')][_0x1a9f('0x108')](_0x3d0d16[_0x1a9f('0x33a')],_0x3d0d16[_0x1a9f('0x33b')]),this[_0x1a9f('0x9f7')]||this[_0x1a9f('0x9f8')][_0x1a9f('0x16a')][_0x1a9f('0x310')]['value']['set'](0x1/_0x3d0d16[_0x1a9f('0x33a')],0x1/_0x3d0d16[_0x1a9f('0x33b')]),this[_0x1a9f('0x9f6')]&&this['composer'][_0x1a9f('0x108')](_0x3d0d16[_0x1a9f('0x33a')],_0x3d0d16['height']);}}]),_0x3179ad['default']=_0x5b08d4;},function(_0x2a254b,_0x21b27e,_0x1799b2){'use strict';var _0x861507,_0x177aaf,_0x1799b2=_0x1799b2(0x11),_0x1799b2=_0x1799b2&&_0x1799b2[_0x1a9f('0x5')]?_0x1799b2:{'default':_0x1799b2};function _0x4c75b1(_0x2a254b){this[_0x1a9f('0x999')]=new THREE['Mesh'](_0x177aaf,_0x2a254b);}THREE[_0x1a9f('0xa04')]=function(_0x2a254b,_0x21b27e){var _0x1799b2,_0x861507;this[_0x1a9f('0x4b1')]=_0x2a254b,void 0x0===_0x21b27e?(_0x1799b2={'minFilter':THREE[_0x1a9f('0x634')],'magFilter':THREE[_0x1a9f('0x634')],'format':THREE['RGBAFormat'],'stencilBuffer':!0x1},_0x861507=_0x2a254b[_0x1a9f('0xa24')](new THREE[(_0x1a9f('0x1b3'))]()),this[_0x1a9f('0xa25')]=_0x2a254b[_0x1a9f('0xa00')](),this[_0x1a9f('0xa26')]=_0x861507[_0x1a9f('0x33a')],this['_height']=_0x861507[_0x1a9f('0x33b')],(_0x21b27e=new THREE[(_0x1a9f('0x639'))](this['_width']*this[_0x1a9f('0xa25')],this['_height']*this['_pixelRatio'],_0x1799b2))['texture'][_0x1a9f('0x427')]=_0x1a9f('0xa27')):(this[_0x1a9f('0xa25')]=0x1,this[_0x1a9f('0xa26')]=_0x21b27e['width'],this[_0x1a9f('0xa28')]=_0x21b27e['height']),this[_0x1a9f('0xa29')]=_0x21b27e,this[_0x1a9f('0xa2a')]=_0x21b27e[_0x1a9f('0x1af')](),this[_0x1a9f('0xa2a')][_0x1a9f('0xcc')][_0x1a9f('0x427')]='EffectComposer.rt2',this[_0x1a9f('0xa2b')]=this[_0x1a9f('0xa29')],this['readBuffer']=this[_0x1a9f('0xa2a')],this[_0x1a9f('0xa08')]=!0x0,this[_0x1a9f('0xa2c')]=[],void 0x0===THREE[_0x1a9f('0xa2d')]&&console[_0x1a9f('0x1f3')]('THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader'),void 0x0===THREE[_0x1a9f('0xa06')]&&console[_0x1a9f('0x1f3')](_0x1a9f('0xa2e')),this[_0x1a9f('0xa2f')]=new THREE['ShaderPass'](THREE[_0x1a9f('0xa2d')]),this[_0x1a9f('0xa30')]=new THREE['Clock']();},(0x0,_0x1799b2[_0x1a9f('0xa')])(THREE[_0x1a9f('0xa04')][_0x1a9f('0xb')],{'swapBuffers':function(){var _0x2a254b=this[_0x1a9f('0xa31')];this[_0x1a9f('0xa31')]=this[_0x1a9f('0xa2b')],this[_0x1a9f('0xa2b')]=_0x2a254b;},'addPass':function(_0x2a254b){this['passes'][_0x1a9f('0x70')](_0x2a254b);var _0x21b27e=this['renderer'][_0x1a9f('0xa03')](new THREE[(_0x1a9f('0x1b3'))]());_0x2a254b[_0x1a9f('0x108')](_0x21b27e[_0x1a9f('0x33a')],_0x21b27e['height']);},'insertPass':function(_0x2a254b,_0x21b27e){this['passes']['splice'](_0x21b27e,0x0,_0x2a254b);},'isLastEnabledPass':function(_0x2a254b){for(var _0x21b27e=_0x2a254b+0x1;_0x21b27e<this[_0x1a9f('0xa2c')]['length'];_0x21b27e++)if(this[_0x1a9f('0xa2c')][_0x21b27e]['enabled'])return!0x1;return!0x0;},'render':function(_0x2a254b){void 0x0===_0x2a254b&&(_0x2a254b=this['clock']['getDelta']());for(var _0x21b27e,_0x1799b2,_0x861507=this['renderer']['getRenderTarget'](),_0x177aaf=!0x1,_0x4c75b1=this[_0x1a9f('0xa2c')][_0x1a9f('0xf')],_0x38dabd=0x0;_0x38dabd<_0x4c75b1;_0x38dabd++)!0x1!==(_0x1799b2=this[_0x1a9f('0xa2c')][_0x38dabd])[_0x1a9f('0x40c')]&&(_0x1799b2['renderToScreen']=this[_0x1a9f('0xa08')]&&this[_0x1a9f('0xa32')](_0x38dabd),_0x1799b2['render'](this[_0x1a9f('0x4b1')],this[_0x1a9f('0xa2b')],this[_0x1a9f('0xa31')],_0x2a254b,_0x177aaf),_0x1799b2[_0x1a9f('0xa17')]&&(_0x177aaf&&((_0x21b27e=this['renderer']['context'])[_0x1a9f('0xa33')](_0x21b27e[_0x1a9f('0xa34')],0x1,0xffffffff),this[_0x1a9f('0xa2f')][_0x1a9f('0x340')](this[_0x1a9f('0x4b1')],this[_0x1a9f('0xa2b')],this[_0x1a9f('0xa31')],_0x2a254b),_0x21b27e[_0x1a9f('0xa33')](_0x21b27e[_0x1a9f('0xa35')],0x1,0xffffffff)),this[_0x1a9f('0xa36')]()),void 0x0!==THREE['MaskPass']&&(_0x1799b2 instanceof THREE[_0x1a9f('0xa37')]?_0x177aaf=!0x0:_0x1799b2 instanceof THREE[_0x1a9f('0xa38')]&&(_0x177aaf=!0x1)));this[_0x1a9f('0x4b1')][_0x1a9f('0x630')](_0x861507);},'reset':function(_0x2a254b){var _0x21b27e;void 0x0===_0x2a254b&&(_0x21b27e=this[_0x1a9f('0x4b1')][_0x1a9f('0xa24')](new THREE[(_0x1a9f('0x1b3'))]()),this['_pixelRatio']=this[_0x1a9f('0x4b1')][_0x1a9f('0xa00')](),this[_0x1a9f('0xa26')]=_0x21b27e[_0x1a9f('0x33a')],this[_0x1a9f('0xa28')]=_0x21b27e['height'],(_0x2a254b=this[_0x1a9f('0xa29')][_0x1a9f('0x1af')]())[_0x1a9f('0x108')](this[_0x1a9f('0xa26')]*this[_0x1a9f('0xa25')],this[_0x1a9f('0xa28')]*this[_0x1a9f('0xa25')])),this['renderTarget1'][_0x1a9f('0x8f')](),this[_0x1a9f('0xa2a')]['dispose'](),this[_0x1a9f('0xa29')]=_0x2a254b,this[_0x1a9f('0xa2a')]=_0x2a254b[_0x1a9f('0x1af')](),this['writeBuffer']=this[_0x1a9f('0xa29')],this[_0x1a9f('0xa31')]=this['renderTarget2'];},'setSize':function(_0x2a254b,_0x21b27e){this[_0x1a9f('0xa26')]=_0x2a254b,this[_0x1a9f('0xa28')]=_0x21b27e;var _0x1799b2=this[_0x1a9f('0xa26')]*this[_0x1a9f('0xa25')],_0x861507=this[_0x1a9f('0xa28')]*this['_pixelRatio'];this[_0x1a9f('0xa29')][_0x1a9f('0x108')](_0x1799b2,_0x861507),this[_0x1a9f('0xa2a')][_0x1a9f('0x108')](_0x1799b2,_0x861507);for(var _0x177aaf=0x0;_0x177aaf<this['passes'][_0x1a9f('0xf')];_0x177aaf++)this['passes'][_0x177aaf]['setSize'](_0x1799b2,_0x861507);},'setPixelRatio':function(_0x2a254b){this['_pixelRatio']=_0x2a254b,this[_0x1a9f('0x108')](this[_0x1a9f('0xa26')],this['_height']);}}),THREE[_0x1a9f('0xa39')]=function(){this['enabled']=!0x0,this[_0x1a9f('0xa17')]=!0x0,this[_0x1a9f('0x2f4')]=!0x1,this[_0x1a9f('0xa08')]=!0x1;},(0x0,_0x1799b2[_0x1a9f('0xa')])(THREE['Pass'][_0x1a9f('0xb')],{'setSize':function(){},'render':function(){console['error']('THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.');}}),THREE[_0x1a9f('0xa39')]['FullScreenQuad']=(_0x861507=new THREE[(_0x1a9f('0x61f'))](-0x1,0x1,0x1,-0x1,0x0,0x1),_0x177aaf=new THREE['PlaneBufferGeometry'](0x2,0x2),Object[_0x1a9f('0x3')](_0x4c75b1[_0x1a9f('0xb')],_0x1a9f('0x48'),{'get':function(){return this[_0x1a9f('0x999')][_0x1a9f('0x48')];},'set':function(_0x2a254b){this[_0x1a9f('0x999')][_0x1a9f('0x48')]=_0x2a254b;}}),(0x0,_0x1799b2[_0x1a9f('0xa')])(_0x4c75b1[_0x1a9f('0xb')],{'render':function(_0x2a254b){_0x2a254b[_0x1a9f('0x340')](this[_0x1a9f('0x999')],_0x861507);}}),_0x4c75b1);},function(_0x3580ff,_0x927928,_0x6a0608){'use strict';var _0xb73e43=_0x3d808f(_0x6a0608(0x22)),_0x6a0608=_0x3d808f(_0x6a0608(0x11));function _0x3d808f(_0x3580ff){return _0x3580ff&&_0x3580ff[_0x1a9f('0x5')]?_0x3580ff:{'default':_0x3580ff};}THREE[_0x1a9f('0xa05')]=function(_0x3580ff,_0x927928,_0x6a0608,_0xb73e43,_0x3d808f){THREE[_0x1a9f('0xa39')][_0x1a9f('0xd')](this),this[_0x1a9f('0x443')]=_0x3580ff,this[_0x1a9f('0x314')]=_0x927928,this[_0x1a9f('0xa3a')]=_0x6a0608,this[_0x1a9f('0xa3b')]=_0xb73e43,this['clearAlpha']=void 0x0!==_0x3d808f?_0x3d808f:0x0,this[_0x1a9f('0x2f4')]=!0x0,this['clearDepth']=!0x1,this['needsSwap']=!0x1;},THREE[_0x1a9f('0xa05')][_0x1a9f('0xb')]=(0x0,_0x6a0608[_0x1a9f('0xa')])((0x0,_0xb73e43[_0x1a9f('0xa')])(THREE['Pass'][_0x1a9f('0xb')]),{'constructor':THREE['RenderPass'],'render':function(_0x3580ff,_0x927928,_0x6a0608){var _0xb73e43,_0x3d808f,_0x4a7bd3=_0x3580ff['autoClear'];_0x3580ff['autoClear']=!0x1,this['scene']['overrideMaterial']=this[_0x1a9f('0xa3a')],this[_0x1a9f('0xa3b')]&&(_0xb73e43=_0x3580ff[_0x1a9f('0xa3c')]()[_0x1a9f('0x1bb')](),_0x3d808f=_0x3580ff[_0x1a9f('0xa3d')](),_0x3580ff[_0x1a9f('0xa3e')](this[_0x1a9f('0xa3b')],this[_0x1a9f('0xa3f')])),this['clearDepth']&&_0x3580ff[_0x1a9f('0xa40')](),_0x3580ff['setRenderTarget'](this[_0x1a9f('0xa08')]?null:_0x6a0608),this[_0x1a9f('0x2f4')]&&_0x3580ff[_0x1a9f('0x2f4')](_0x3580ff[_0x1a9f('0xa41')],_0x3580ff[_0x1a9f('0xa42')],_0x3580ff[_0x1a9f('0xa43')]),_0x3580ff['render'](this[_0x1a9f('0x443')],this[_0x1a9f('0x314')]),this[_0x1a9f('0xa3b')]&&_0x3580ff[_0x1a9f('0xa3e')](_0xb73e43,_0x3d808f),this[_0x1a9f('0x443')]['overrideMaterial']=null,_0x3580ff['autoClear']=_0x4a7bd3;}});},function(_0x1293a6,_0x253c86,_0x1a333d){'use strict';var _0xed0ca5=_0x14bec9(_0x1a333d(0x22)),_0xb667d7=_0x14bec9(_0x1a333d(0x11));function _0x14bec9(_0x1293a6){return _0x1293a6&&_0x1293a6['__esModule']?_0x1293a6:{'default':_0x1293a6};}THREE[_0x1a9f('0xa06')]=function(_0x1293a6,_0x253c86){THREE[_0x1a9f('0xa39')]['call'](this),this[_0x1a9f('0xa44')]=void 0x0!==_0x253c86?_0x253c86:'tDiffuse',_0x1293a6 instanceof THREE[_0x1a9f('0x1e2')]?(this['uniforms']=_0x1293a6['uniforms'],this[_0x1a9f('0x48')]=_0x1293a6):_0x1293a6&&(this[_0x1a9f('0x16a')]=THREE['UniformsUtils'][_0x1a9f('0x1af')](_0x1293a6[_0x1a9f('0x16a')]),this[_0x1a9f('0x48')]=new THREE['ShaderMaterial']({'defines':(0x0,_0xb667d7[_0x1a9f('0xa')])({},_0x1293a6[_0x1a9f('0x169')]),'uniforms':this[_0x1a9f('0x16a')],'vertexShader':_0x1293a6['vertexShader'],'fragmentShader':_0x1293a6['fragmentShader']})),this[_0x1a9f('0xa45')]=new THREE[(_0x1a9f('0xa39'))]['FullScreenQuad'](this[_0x1a9f('0x48')]);},THREE['ShaderPass'][_0x1a9f('0xb')]=(0x0,_0xb667d7['default'])((0x0,_0xed0ca5['default'])(THREE[_0x1a9f('0xa39')][_0x1a9f('0xb')]),{'constructor':THREE[_0x1a9f('0xa06')],'render':function(_0x1293a6,_0x253c86,_0x1a333d){this['uniforms'][this[_0x1a9f('0xa44')]]&&(this['uniforms'][this[_0x1a9f('0xa44')]][_0x1a9f('0x11')]=_0x1a333d[_0x1a9f('0xcc')]),this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0x48')],this[_0x1a9f('0xa08')]?_0x1293a6[_0x1a9f('0x630')](null):(_0x1293a6[_0x1a9f('0x630')](_0x253c86),this['clear']&&_0x1293a6[_0x1a9f('0x2f4')](_0x1293a6[_0x1a9f('0xa41')],_0x1293a6['autoClearDepth'],_0x1293a6[_0x1a9f('0xa43')])),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x1293a6);}});},function(_0x39f162,_0xb61729,_0x6ba820){'use strict';var _0x4adbf1=_0x4cd384(_0x6ba820(0x22)),_0x6ba820=_0x4cd384(_0x6ba820(0x11));function _0x4cd384(_0x39f162){return _0x39f162&&_0x39f162[_0x1a9f('0x5')]?_0x39f162:{'default':_0x39f162};}THREE[_0x1a9f('0xa0c')]=function(_0x39f162,_0xb61729,_0x6ba820,_0x4adbf1){THREE[_0x1a9f('0xa39')][_0x1a9f('0xd')](this),this['strength']=void 0x0!==_0xb61729?_0xb61729:0x1,this[_0x1a9f('0x21c')]=_0x6ba820,this[_0x1a9f('0xa0d')]=_0x4adbf1,this['resolution']=void 0x0!==_0x39f162?new THREE[(_0x1a9f('0x1b3'))](_0x39f162['x'],_0x39f162['y']):new THREE['Vector2'](0x100,0x100),this[_0x1a9f('0xa3b')]=new THREE['Color'](0x0,0x0,0x0);var _0x4cd384={'minFilter':THREE[_0x1a9f('0x634')],'magFilter':THREE['LinearFilter'],'format':THREE[_0x1a9f('0xa02')]},_0x19a0d2=(this['renderTargetsHorizontal']=[],this[_0x1a9f('0xa46')]=[],this[_0x1a9f('0xa47')]=0x5,Math[_0x1a9f('0x41b')](this[_0x1a9f('0x310')]['x']/0x2)),_0x38d84d=Math[_0x1a9f('0x41b')](this[_0x1a9f('0x310')]['y']/0x2);this['renderTargetBright']=new THREE[(_0x1a9f('0x639'))](_0x19a0d2,_0x38d84d,_0x4cd384),this[_0x1a9f('0xa48')][_0x1a9f('0xcc')][_0x1a9f('0x427')]=_0x1a9f('0xa49'),this[_0x1a9f('0xa48')]['texture']['generateMipmaps']=!0x1;for(var _0x101008=0x0;_0x101008<this[_0x1a9f('0xa47')];_0x101008++){var _0x3fde6f=new THREE[(_0x1a9f('0x639'))](_0x19a0d2,_0x38d84d,_0x4cd384),_0x3fde6f=(_0x3fde6f[_0x1a9f('0xcc')][_0x1a9f('0x427')]='UnrealBloomPass.h'+_0x101008,_0x3fde6f[_0x1a9f('0xcc')]['generateMipmaps']=!0x1,this['renderTargetsHorizontal']['push'](_0x3fde6f),new THREE[(_0x1a9f('0x639'))](_0x19a0d2,_0x38d84d,_0x4cd384));_0x3fde6f['texture'][_0x1a9f('0x427')]='UnrealBloomPass.v'+_0x101008,_0x3fde6f[_0x1a9f('0xcc')][_0x1a9f('0x636')]=!0x1,this[_0x1a9f('0xa46')]['push'](_0x3fde6f),_0x19a0d2=Math[_0x1a9f('0x41b')](_0x19a0d2/0x2),_0x38d84d=Math[_0x1a9f('0x41b')](_0x38d84d/0x2);}void 0x0===THREE[_0x1a9f('0xa4a')]&&console['error'](_0x1a9f('0xa4b'));for(var _0x6ba820=THREE[_0x1a9f('0xa4a')],_0x5bdb4d=(this[_0x1a9f('0xa4c')]=THREE[_0x1a9f('0x643')]['clone'](_0x6ba820['uniforms']),this[_0x1a9f('0xa4c')][_0x1a9f('0xa4d')][_0x1a9f('0x11')]=_0x4adbf1,this[_0x1a9f('0xa4c')][_0x1a9f('0xa4e')][_0x1a9f('0x11')]=0.01,this[_0x1a9f('0xa4f')]=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':this['highPassUniforms'],'vertexShader':_0x6ba820['vertexShader'],'fragmentShader':_0x6ba820[_0x1a9f('0x57')],'defines':{}}),this[_0x1a9f('0xa50')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x19a0d2=Math['round'](this[_0x1a9f('0x310')]['x']/0x2),_0x38d84d=Math[_0x1a9f('0x41b')](this['resolution']['y']/0x2),_0x101008=0x0;_0x101008<this[_0x1a9f('0xa47')];_0x101008++)this[_0x1a9f('0xa50')]['push'](this[_0x1a9f('0xa51')](_0x5bdb4d[_0x101008])),this[_0x1a9f('0xa50')][_0x101008]['uniforms']['texSize']['value']=new THREE[(_0x1a9f('0x1b3'))](_0x19a0d2,_0x38d84d),_0x19a0d2=Math[_0x1a9f('0x41b')](_0x19a0d2/0x2),_0x38d84d=Math['round'](_0x38d84d/0x2);this[_0x1a9f('0xa52')]=this[_0x1a9f('0xa53')](this[_0x1a9f('0xa47')]),this[_0x1a9f('0xa52')][_0x1a9f('0x16a')][_0x1a9f('0xa54')][_0x1a9f('0x11')]=this['renderTargetsVertical'][0x0][_0x1a9f('0xcc')],this[_0x1a9f('0xa52')][_0x1a9f('0x16a')][_0x1a9f('0xa55')]['value']=this[_0x1a9f('0xa46')][0x1][_0x1a9f('0xcc')],this[_0x1a9f('0xa52')]['uniforms'][_0x1a9f('0xa56')]['value']=this['renderTargetsVertical'][0x2][_0x1a9f('0xcc')],this['compositeMaterial'][_0x1a9f('0x16a')][_0x1a9f('0xa57')][_0x1a9f('0x11')]=this[_0x1a9f('0xa46')][0x3]['texture'],this[_0x1a9f('0xa52')][_0x1a9f('0x16a')][_0x1a9f('0xa58')]['value']=this[_0x1a9f('0xa46')][0x4]['texture'],this[_0x1a9f('0xa52')][_0x1a9f('0x16a')]['bloomStrength'][_0x1a9f('0x11')]=_0xb61729,this[_0x1a9f('0xa52')][_0x1a9f('0x16a')][_0x1a9f('0xa11')][_0x1a9f('0x11')]=0.1,this['compositeMaterial']['needsUpdate']=!0x0,this[_0x1a9f('0xa52')]['uniforms'][_0x1a9f('0xa59')]['value']=[0x1,0.8,0.6,0.4,0.2],this[_0x1a9f('0xa5a')]=[new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1),new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1),new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)],this[_0x1a9f('0xa52')][_0x1a9f('0x16a')]['bloomTintColors'][_0x1a9f('0x11')]=this[_0x1a9f('0xa5a')],void 0x0===THREE[_0x1a9f('0xa2d')]&&console['error'](_0x1a9f('0xa5b'));_0x39f162=THREE[_0x1a9f('0xa2d')];this['copyUniforms']=THREE[_0x1a9f('0x643')][_0x1a9f('0x1af')](_0x39f162['uniforms']),this[_0x1a9f('0xa5c')][_0x1a9f('0x1ff')][_0x1a9f('0x11')]=0x1,this[_0x1a9f('0xa5d')]=new THREE[(_0x1a9f('0x1e2'))]({'uniforms':this['copyUniforms'],'vertexShader':_0x39f162[_0x1a9f('0x56')],'fragmentShader':_0x39f162[_0x1a9f('0x57')],'blending':THREE[_0x1a9f('0x3fa')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0xa17')]=!0x1,this[_0x1a9f('0xa5e')]=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0xa5f')]=0x1,this[_0x1a9f('0x8d5')]=new THREE['MeshBasicMaterial'](),this[_0x1a9f('0xa45')]=new THREE['Pass']['FullScreenQuad'](null);},THREE['UnrealBloomPass'][_0x1a9f('0xb')]=(0x0,_0x6ba820[_0x1a9f('0xa')])((0x0,_0x4adbf1[_0x1a9f('0xa')])(THREE['Pass'][_0x1a9f('0xb')]),{'constructor':THREE[_0x1a9f('0xa0c')],'dispose':function(){for(var _0x39f162=0x0;_0x39f162<this[_0x1a9f('0xa60')][_0x1a9f('0xf')];_0x39f162++)this['renderTargetsHorizontal'][_0x39f162][_0x1a9f('0x8f')]();for(_0x39f162=0x0;_0x39f162<this['renderTargetsVertical']['length'];_0x39f162++)this[_0x1a9f('0xa46')][_0x39f162][_0x1a9f('0x8f')]();this[_0x1a9f('0xa48')]['dispose']();},'setSize':function(_0x39f162,_0xb61729){var _0x6ba820=Math['round'](_0x39f162/0x2),_0x4adbf1=Math['round'](_0xb61729/0x2);this[_0x1a9f('0xa48')][_0x1a9f('0x108')](_0x6ba820,_0x4adbf1);for(var _0x4cd384=0x0;_0x4cd384<this['nMips'];_0x4cd384++)this[_0x1a9f('0xa60')][_0x4cd384][_0x1a9f('0x108')](_0x6ba820,_0x4adbf1),this['renderTargetsVertical'][_0x4cd384][_0x1a9f('0x108')](_0x6ba820,_0x4adbf1),this[_0x1a9f('0xa50')][_0x4cd384][_0x1a9f('0x16a')][_0x1a9f('0xa61')]['value']=new THREE[(_0x1a9f('0x1b3'))](_0x6ba820,_0x4adbf1),_0x6ba820=Math[_0x1a9f('0x41b')](_0x6ba820/0x2),_0x4adbf1=Math['round'](_0x4adbf1/0x2);},'render':function(_0x39f162,_0xb61729,_0x6ba820,_0x4adbf1,_0x4cd384){this['oldClearColor'][_0x1a9f('0x1ba')](_0x39f162[_0x1a9f('0xa3c')]()),this[_0x1a9f('0xa5f')]=_0x39f162['getClearAlpha']();for(var _0x5b32f8=_0x39f162['autoClear'],_0x13b085=(_0x39f162[_0x1a9f('0xa62')]=!0x1,_0x39f162['setClearColor'](this['clearColor'],0x0),_0x4cd384&&_0x39f162[_0x1a9f('0xa63')]['disable'](_0x39f162['context']['STENCIL_TEST']),this[_0x1a9f('0xa08')]&&(this['fsQuad']['material']=this[_0x1a9f('0x8d5')],this[_0x1a9f('0x8d5')][_0x1a9f('0x90')]=_0x6ba820['texture'],_0x39f162[_0x1a9f('0x630')](null),_0x39f162[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x39f162)),this['highPassUniforms'][_0x1a9f('0xa64')]['value']=_0x6ba820['texture'],this[_0x1a9f('0xa4c')][_0x1a9f('0xa4d')]['value']=this['threshold'],this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xa4f')],_0x39f162[_0x1a9f('0x630')](this[_0x1a9f('0xa48')]),_0x39f162[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x39f162),this[_0x1a9f('0xa48')]),_0x58b500=0x0;_0x58b500<this[_0x1a9f('0xa47')];_0x58b500++)this[_0x1a9f('0xa45')]['material']=this[_0x1a9f('0xa50')][_0x58b500],this[_0x1a9f('0xa50')][_0x58b500][_0x1a9f('0x16a')]['colorTexture'][_0x1a9f('0x11')]=_0x13b085[_0x1a9f('0xcc')],this[_0x1a9f('0xa50')][_0x58b500][_0x1a9f('0x16a')]['direction']['value']=THREE[_0x1a9f('0xa0c')][_0x1a9f('0xa65')],_0x39f162[_0x1a9f('0x630')](this[_0x1a9f('0xa60')][_0x58b500]),_0x39f162[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')]['render'](_0x39f162),this[_0x1a9f('0xa50')][_0x58b500][_0x1a9f('0x16a')][_0x1a9f('0xa66')][_0x1a9f('0x11')]=this[_0x1a9f('0xa60')][_0x58b500][_0x1a9f('0xcc')],this[_0x1a9f('0xa50')][_0x58b500][_0x1a9f('0x16a')]['direction'][_0x1a9f('0x11')]=THREE[_0x1a9f('0xa0c')]['BlurDirectionY'],_0x39f162[_0x1a9f('0x630')](this['renderTargetsVertical'][_0x58b500]),_0x39f162[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x39f162),_0x13b085=this['renderTargetsVertical'][_0x58b500];this[_0x1a9f('0xa45')]['material']=this[_0x1a9f('0xa52')],this['compositeMaterial'][_0x1a9f('0x16a')][_0x1a9f('0xa10')][_0x1a9f('0x11')]=this[_0x1a9f('0xa0f')],this[_0x1a9f('0xa52')]['uniforms'][_0x1a9f('0xa11')][_0x1a9f('0x11')]=this[_0x1a9f('0x21c')],this[_0x1a9f('0xa52')][_0x1a9f('0x16a')][_0x1a9f('0xa5a')]['value']=this[_0x1a9f('0xa5a')],_0x39f162[_0x1a9f('0x630')](this['renderTargetsHorizontal'][0x0]),_0x39f162['clear'](),this['fsQuad'][_0x1a9f('0x340')](_0x39f162),this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xa5d')],this[_0x1a9f('0xa5c')][_0x1a9f('0xa64')][_0x1a9f('0x11')]=this[_0x1a9f('0xa60')][0x0][_0x1a9f('0xcc')],_0x4cd384&&_0x39f162[_0x1a9f('0xa63')][_0x1a9f('0x211')](_0x39f162['context'][_0x1a9f('0xa67')]),this[_0x1a9f('0xa08')]?_0x39f162['setRenderTarget'](null):_0x39f162[_0x1a9f('0x630')](_0x6ba820),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x39f162),_0x39f162[_0x1a9f('0xa3e')](this[_0x1a9f('0xa5e')],this['oldClearAlpha']),_0x39f162['autoClear']=_0x5b32f8;},'getSeperableBlurMaterial':function(_0x39f162){return new THREE[(_0x1a9f('0x1e2'))]({'defines':{'KERNEL_RADIUS':_0x39f162,'SIGMA':_0x39f162},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE['Vector2'](0.5,0.5)},'direction':{'value':new THREE[(_0x1a9f('0x1b3'))](0.5,0.5)}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':_0x1a9f('0xa68')});},'getCompositeMaterial':function(_0x39f162){return new THREE['ShaderMaterial']({'defines':{'NUM_MIPS':_0x39f162},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x1a9f('0x61c'),'fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}'});}}),THREE[_0x1a9f('0xa0c')]['BlurDirectionX']=new THREE[(_0x1a9f('0x1b3'))](0x1,0x0),THREE[_0x1a9f('0xa0c')][_0x1a9f('0xa69')]=new THREE[(_0x1a9f('0x1b3'))](0x0,0x1);},function(_0x2dec31,_0x39844f,_0x26a004){'use strict';THREE[_0x1a9f('0xa2d')]={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':[_0x1a9f('0xa6a'),_0x1a9f('0x176'),_0x1a9f('0xa6b'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}']['join']('\x0a'),'fragmentShader':[_0x1a9f('0x433'),_0x1a9f('0xa6c'),_0x1a9f('0xa6a'),'void\x20main()\x20{','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);',_0x1a9f('0xa6d'),'}']['join']('\x0a')};},function(_0x2ab41e,_0x246dda,_0x53a587){'use strict';THREE[_0x1a9f('0xa4a')]={'shaderID':_0x1a9f('0xa6e'),'uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE['Color'](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':['varying\x20vec2\x20vUv;',_0x1a9f('0x176'),_0x1a9f('0xa6b'),_0x1a9f('0xa6f'),'}'][_0x1a9f('0x111')]('\x0a'),'fragmentShader':[_0x1a9f('0xa6c'),'uniform\x20vec3\x20defaultColor;','uniform\x20float\x20defaultOpacity;',_0x1a9f('0xa70'),_0x1a9f('0xa71'),_0x1a9f('0xa6a'),'void\x20main()\x20{',_0x1a9f('0xa72'),_0x1a9f('0xa73'),_0x1a9f('0xa74'),_0x1a9f('0xa75'),'float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);',_0x1a9f('0xa76'),'}'][_0x1a9f('0x111')]('\x0a')};},function(_0xda1afe,_0x30a365,_0x21b3fa){'use strict';THREE[_0x1a9f('0xa07')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE[(_0x1a9f('0x1b3'))](0x1/0x400,0x1/0x200)}},'vertexShader':[_0x1a9f('0xa6a'),_0x1a9f('0x176'),_0x1a9f('0xa6b'),_0x1a9f('0xa6f'),'}'][_0x1a9f('0x111')]('\x0a'),'fragmentShader':[_0x1a9f('0xa77'),'',_0x1a9f('0xa6c'),'',_0x1a9f('0xa78'),'',_0x1a9f('0xa6a'),'','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','',_0x1a9f('0xa79'),_0x1a9f('0xa7a'),_0x1a9f('0xa7b'),'//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com',_0x1a9f('0xa7c'),'//','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//',_0x1a9f('0xa7d'),'//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions',_0x1a9f('0xa7e'),'//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright',_0x1a9f('0xa7f'),_0x1a9f('0xa80'),_0x1a9f('0xa81'),_0x1a9f('0xa82'),_0x1a9f('0xa83'),'//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived',_0x1a9f('0xa84'),'//',_0x1a9f('0xa85'),'//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE',_0x1a9f('0xa86'),_0x1a9f('0xa87'),'//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,',_0x1a9f('0xa88'),_0x1a9f('0xa89'),_0x1a9f('0xa8a'),_0x1a9f('0xa8b'),'//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE',_0x1a9f('0xa8c'),'//',_0x1a9f('0xa79'),'','#define\x20FXAA_PC\x201',_0x1a9f('0xa8d'),_0x1a9f('0xa8e'),'','#define\x20FXAA_GREEN_AS_LUMA\x201','','/*--------------------------------------------------------------------------*/',_0x1a9f('0xa8f'),'\x20\x20\x20\x20//',_0x1a9f('0xa90'),_0x1a9f('0xa91'),_0x1a9f('0xa92'),_0x1a9f('0xa93'),_0x1a9f('0xa94'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xa96'),'\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xa97'),_0x1a9f('0xa98'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xa99'),_0x1a9f('0xa9a'),_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xa9b'),_0x1a9f('0xa9c'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xa9d'),'\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200',_0x1a9f('0x11e'),_0x1a9f('0xa9e'),_0x1a9f('0xa9f'),'\x20\x20\x20\x20//',_0x1a9f('0xaa0'),_0x1a9f('0xaa1'),'\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.','\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.',_0x1a9f('0xa93'),_0x1a9f('0xaa2'),_0x1a9f('0xaa3'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,',_0x1a9f('0xaa4'),_0x1a9f('0xaa5'),_0x1a9f('0xaa6'),_0x1a9f('0xaa7'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x201\x20=\x20On.',_0x1a9f('0xaa8'),'\x20\x20\x20\x20//',_0x1a9f('0xaa9'),'#endif',_0x1a9f('0xa95'),_0x1a9f('0xaaa'),_0x1a9f('0xa93'),_0x1a9f('0xaab'),_0x1a9f('0xaac'),'\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.',_0x1a9f('0xaad'),_0x1a9f('0xa93'),_0x1a9f('0xaae'),'\x20\x20\x20\x20//\x200\x20=\x20Off.',_0x1a9f('0xa93'),_0x1a9f('0xaaf'),_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_DISCARD','\x20\x20\x20\x20//',_0x1a9f('0xab0'),_0x1a9f('0xab1'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.',_0x1a9f('0xab2'),_0x1a9f('0xab3'),_0x1a9f('0xa93'),'\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200',_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xab4'),'\x20\x20\x20\x20//',_0x1a9f('0xab5'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets',_0x1a9f('0xab6'),'\x20\x20\x20\x20//',_0x1a9f('0xab7'),_0x1a9f('0xab8'),'\x20\x20\x20\x20#endif',_0x1a9f('0xab9'),_0x1a9f('0xab8'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5',_0x1a9f('0xab8'),_0x1a9f('0x162'),_0x1a9f('0xaba'),_0x1a9f('0xabb'),'\x20\x20\x20\x20#endif',_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xabc'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)',_0x1a9f('0xabd'),_0x1a9f('0x162'),_0x1a9f('0xabe'),_0x1a9f('0xabd'),_0x1a9f('0x162'),_0x1a9f('0xab9'),_0x1a9f('0xabd'),'\x20\x20\x20\x20#endif',_0x1a9f('0xabf'),_0x1a9f('0xac0'),'\x20\x20\x20\x20#endif',_0x1a9f('0x11e'),'','',_0x1a9f('0xac1'),_0x1a9f('0xac2'),_0x1a9f('0xac3'),'NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!',_0x1a9f('0xac4'),_0x1a9f('0xac5'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.',_0x1a9f('0xac6'),_0x1a9f('0xac7'),_0x1a9f('0xac8'),_0x1a9f('0xa93'),_0x1a9f('0xac9'),'\x20\x20\x20\x20//\x20-----------------------------------------------------------------------',_0x1a9f('0xaca'),_0x1a9f('0xacb'),_0x1a9f('0xacc'),_0x1a9f('0xa93'),_0x1a9f('0xacd'),'\x20\x20\x20\x20//\x20-----------------------------------------------------------------------',_0x1a9f('0xace'),'\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance',_0x1a9f('0xacf'),_0x1a9f('0xa93'),_0x1a9f('0xad0'),_0x1a9f('0x11e'),'','','/*============================================================================','',_0x1a9f('0xad1'),'',_0x1a9f('0xac4'),'',_0x1a9f('0xac1'),_0x1a9f('0xad2'),_0x1a9f('0xac4'),_0x1a9f('0xad3'),_0x1a9f('0xad4'),_0x1a9f('0xad5'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#endif',_0x1a9f('0xa95'),_0x1a9f('0xad6'),_0x1a9f('0xad7'),_0x1a9f('0xad8'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1a9f('0xad9'),_0x1a9f('0xada'),_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)',_0x1a9f('0xadb'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1a9f('0xadd'),_0x1a9f('0xade'),'#endif',_0x1a9f('0xa95'),_0x1a9f('0xadf'),_0x1a9f('0xae0'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae3'),_0x1a9f('0xae4'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xae5'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207',_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x1a9f('0xae6'),_0x1a9f('0xae7'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0',_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)',_0x1a9f('0xae8'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x1a9f('0xae9'),_0x1a9f('0xaea'),_0x1a9f('0x11e'),'',_0x1a9f('0xac1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS',_0x1a9f('0xac4'),_0x1a9f('0xaeb'),_0x1a9f('0xad4'),_0x1a9f('0xad5'),_0x1a9f('0xaec'),_0x1a9f('0xaed'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xaee'),_0x1a9f('0xad7'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xaef'),'#endif',_0x1a9f('0xa95'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)',_0x1a9f('0xadb'),_0x1a9f('0xad8'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1a9f('0xae1'),_0x1a9f('0xae2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xaf0'),_0x1a9f('0xae0'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),_0x1a9f('0xaf1'),_0x1a9f('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xaf2'),_0x1a9f('0xaf3'),_0x1a9f('0xad8'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),_0x1a9f('0xaf4'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xaf5'),_0x1a9f('0xae8'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x1a9f('0xaf6'),_0x1a9f('0xae9'),_0x1a9f('0xaf7'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xaf8'),_0x1a9f('0xaf9'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x1a9f('0xafa'),_0x1a9f('0xafb'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xafc'),_0x1a9f('0xafd'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),_0x1a9f('0xaf6'),_0x1a9f('0xafa'),_0x1a9f('0xafe'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0',_0x1a9f('0xaff'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xb00'),_0x1a9f('0xb01'),_0x1a9f('0xad8'),_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),_0x1a9f('0xaf6'),_0x1a9f('0xafa'),_0x1a9f('0xafe'),_0x1a9f('0xb02'),_0x1a9f('0xb03'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xb04'),_0x1a9f('0xb05'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1a9f('0xadc'),_0x1a9f('0xae1'),_0x1a9f('0xae2'),_0x1a9f('0xae6'),_0x1a9f('0xaf6'),_0x1a9f('0xafa'),_0x1a9f('0xafe'),_0x1a9f('0xb02'),_0x1a9f('0xb06'),_0x1a9f('0xb07'),_0x1a9f('0xb08'),_0x1a9f('0x11e'),'',_0x1a9f('0xac1'),_0x1a9f('0xb09'),_0x1a9f('0xac4'),_0x1a9f('0xb0a'),_0x1a9f('0xb05'),_0x1a9f('0xad8'),_0x1a9f('0xb0b'),_0x1a9f('0xb0c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0',_0x1a9f('0xb0d'),_0x1a9f('0xb0e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0',_0x1a9f('0xb02'),_0x1a9f('0xb06'),_0x1a9f('0xb07'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0',_0x1a9f('0x11e'),'','','',_0x1a9f('0xac1'),'','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','',_0x1a9f('0xac4'),_0x1a9f('0xb0f'),_0x1a9f('0xb10'),_0x1a9f('0xb11'),_0x1a9f('0xb12'),'\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2',_0x1a9f('0xb13'),_0x1a9f('0xb14'),_0x1a9f('0xb15'),_0x1a9f('0xb16'),'\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3',_0x1a9f('0xb17'),_0x1a9f('0xb18'),_0x1a9f('0xb19'),_0x1a9f('0xb1a'),_0x1a9f('0xb1b'),_0x1a9f('0xb10'),_0x1a9f('0xb1c'),_0x1a9f('0xb12'),'\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2',_0x1a9f('0xb1d'),_0x1a9f('0xb1e'),'\x20\x20\x20\x20#define\x20FxaaHalf\x20half','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3','\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)',_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xb1f'),_0x1a9f('0xb20'),_0x1a9f('0xb21'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xb22'),_0x1a9f('0xb23'),'\x20\x20\x20\x20//\x20\x20#version\x20120','\x20\x20\x20\x20//\x20And\x20at\x20least,',_0x1a9f('0xb24'),_0x1a9f('0xb25'),_0x1a9f('0xb26'),_0x1a9f('0xb27'),_0x1a9f('0xb28'),'\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20#endif',_0x1a9f('0xb29'),_0x1a9f('0xb2a'),_0x1a9f('0xb2b'),_0x1a9f('0xb2c'),_0x1a9f('0xb2d'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','\x20\x20\x20\x20#endif','#endif',_0x1a9f('0xa95'),_0x1a9f('0xb2e'),'\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better',_0x1a9f('0xb2f'),_0x1a9f('0xb30'),_0x1a9f('0xb29'),_0x1a9f('0xb2a'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)',_0x1a9f('0xb2c'),_0x1a9f('0xb2d'),_0x1a9f('0xb31'),_0x1a9f('0x162'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),'#if\x20(FXAA_HLSL_3\x20==\x201)',_0x1a9f('0xb32'),'\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D',_0x1a9f('0xb33'),_0x1a9f('0xb34'),'#endif','/*--------------------------------------------------------------------------*/',_0x1a9f('0xb35'),_0x1a9f('0xb36'),_0x1a9f('0xb37'),_0x1a9f('0xb38'),_0x1a9f('0xb39'),_0x1a9f('0x11e'),_0x1a9f('0xa95'),_0x1a9f('0xb3a'),_0x1a9f('0xb36'),_0x1a9f('0xb37'),_0x1a9f('0xb38'),_0x1a9f('0xb39'),'\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)',_0x1a9f('0xb3b'),'#endif','','',_0x1a9f('0xac1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION',_0x1a9f('0xac4'),_0x1a9f('0xb3c'),_0x1a9f('0xb3d'),_0x1a9f('0xb1b'),_0x1a9f('0xb3e'),_0x1a9f('0x11e'),'','','','',_0x1a9f('0xac1'),'',_0x1a9f('0xb3f'),'',_0x1a9f('0xac4'),_0x1a9f('0xb40'),_0x1a9f('0xa95'),_0x1a9f('0xb41'),_0x1a9f('0xa93'),_0x1a9f('0xb42'),_0x1a9f('0xb43'),'\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.',_0x1a9f('0xb42'),'\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,',_0x1a9f('0xa93'),_0x1a9f('0xb44'),_0x1a9f('0xb45'),_0x1a9f('0xb46'),_0x1a9f('0xb47'),_0x1a9f('0xb48'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.',_0x1a9f('0xb49'),_0x1a9f('0xb4a'),_0x1a9f('0xb4b'),_0x1a9f('0xb4c'),_0x1a9f('0xa93'),_0x1a9f('0xb4d'),_0x1a9f('0xb49'),_0x1a9f('0xb4e'),_0x1a9f('0xb4f'),'\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,',_0x1a9f('0xa93'),_0x1a9f('0xb50'),_0x1a9f('0xb51'),_0x1a9f('0xb52'),_0x1a9f('0xb53'),_0x1a9f('0xb54'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x1a9f('0xb51'),'\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.',_0x1a9f('0xb55'),_0x1a9f('0xb56'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)','\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels',_0x1a9f('0xb57'),_0x1a9f('0xb58'),_0x1a9f('0xa93'),_0x1a9f('0xb59'),_0x1a9f('0xb5a'),_0x1a9f('0xb51'),_0x1a9f('0xb5b'),_0x1a9f('0xb5c'),_0x1a9f('0xb5d'),_0x1a9f('0xb5e'),_0x1a9f('0xb5f'),_0x1a9f('0xa93'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x1a9f('0xb60'),_0x1a9f('0xb51'),_0x1a9f('0xb61'),_0x1a9f('0xb62'),_0x1a9f('0xb63'),_0x1a9f('0xb64'),_0x1a9f('0xb65'),'\x20\x20\x20\x20//',_0x1a9f('0xb50'),_0x1a9f('0xb66'),_0x1a9f('0xb67'),_0x1a9f('0xb68'),'\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.',_0x1a9f('0xb69'),_0x1a9f('0xb6a'),_0x1a9f('0xb6b'),_0x1a9f('0xb6c'),'\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off',_0x1a9f('0xb6d'),'\x20\x20\x20\x20//',_0x1a9f('0xb50'),_0x1a9f('0xb6e'),'\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x1a9f('0xb6f'),'\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)',_0x1a9f('0xb70'),_0x1a9f('0xb71'),_0x1a9f('0xb72'),_0x1a9f('0xb73'),_0x1a9f('0xb74'),_0x1a9f('0xa93'),_0x1a9f('0xb50'),_0x1a9f('0xb75'),_0x1a9f('0xb67'),_0x1a9f('0xb76'),_0x1a9f('0xb77'),_0x1a9f('0xb78'),_0x1a9f('0xb79'),'\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,',_0x1a9f('0xb7a'),'\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!',_0x1a9f('0xb7b'),_0x1a9f('0xb7c'),_0x1a9f('0xb7d'),_0x1a9f('0xa93'),_0x1a9f('0xb59'),_0x1a9f('0xb7e'),_0x1a9f('0xb67'),_0x1a9f('0xb7f'),'\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,',_0x1a9f('0xb80'),'\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.',_0x1a9f('0xb81'),'\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)',_0x1a9f('0xb82'),_0x1a9f('0xb83'),_0x1a9f('0xb84'),_0x1a9f('0xa93'),_0x1a9f('0xb59'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.',_0x1a9f('0xb67'),_0x1a9f('0xb7f'),_0x1a9f('0xb85'),_0x1a9f('0xb86'),_0x1a9f('0xb87'),'\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.',_0x1a9f('0xb88'),_0x1a9f('0xb89'),'\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)',_0x1a9f('0xb8a'),_0x1a9f('0xb8b'),_0x1a9f('0xa93'),_0x1a9f('0xb59'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.',_0x1a9f('0xb67'),_0x1a9f('0xb76'),_0x1a9f('0xb88'),_0x1a9f('0xb8c'),_0x1a9f('0xb8d'),_0x1a9f('0xb8e'),_0x1a9f('0xb8f'),_0x1a9f('0xb90'),'\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,',_0x1a9f('0xb7a'),'\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green',_0x1a9f('0xb91'),'\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,',_0x1a9f('0xb7c'),_0x1a9f('0xb92'),_0x1a9f('0xa93'),_0x1a9f('0xb93'),_0x1a9f('0xb94'),_0x1a9f('0xb95'),_0x1a9f('0xb96'),_0x1a9f('0xb97'),_0x1a9f('0xb98'),_0x1a9f('0xb99'),_0x1a9f('0xa95'),_0x1a9f('0xb9a'),_0x1a9f('0xb9b'),_0x1a9f('0xb9c'),_0x1a9f('0xb29'),_0x1a9f('0xb9d'),_0x1a9f('0xb9e'),_0x1a9f('0xb9f'),_0x1a9f('0xba0'),_0x1a9f('0xba1'),_0x1a9f('0xba2'),_0x1a9f('0xba3'),_0x1a9f('0xba4'),_0x1a9f('0xba5'),_0x1a9f('0xba6'),_0x1a9f('0xba7'),_0x1a9f('0xba8'),_0x1a9f('0xba9'),_0x1a9f('0xbaa'),_0x1a9f('0xba4'),_0x1a9f('0xbab'),_0x1a9f('0xbac'),_0x1a9f('0xba4'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z',_0x1a9f('0xbad'),_0x1a9f('0xbae'),_0x1a9f('0xbaf'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z',_0x1a9f('0xbb0'),_0x1a9f('0x191'),_0x1a9f('0xbb1'),_0x1a9f('0xba5'),_0x1a9f('0xbb2'),_0x1a9f('0xba8'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));',_0x1a9f('0xbb3'),_0x1a9f('0xba8'),_0x1a9f('0xbb4'),_0x1a9f('0xbb5'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));',_0x1a9f('0xbb6'),_0x1a9f('0xba4'),_0x1a9f('0x162'),_0x1a9f('0xa95'),_0x1a9f('0xbb7'),_0x1a9f('0xbb8'),_0x1a9f('0xbb9'),_0x1a9f('0xbba'),_0x1a9f('0xbbb'),'\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);',_0x1a9f('0xbbc'),'\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);',_0x1a9f('0xbbd'),_0x1a9f('0xbbe'),_0x1a9f('0xbbf'),'\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;',_0x1a9f('0xa95'),_0x1a9f('0xbc0'),_0x1a9f('0xbab'),_0x1a9f('0xbc1'),_0x1a9f('0xba8'),_0x1a9f('0xbc2'),_0x1a9f('0xba4'),_0x1a9f('0xa95'),_0x1a9f('0xbc3'),_0x1a9f('0xbc4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));',_0x1a9f('0xbc5'),_0x1a9f('0xbc6'),_0x1a9f('0xba8'),_0x1a9f('0xbc7'),_0x1a9f('0xbc8'),_0x1a9f('0xbc9'),_0x1a9f('0xbca'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1a9f('0x191'),_0x1a9f('0xbcb'),'\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));',_0x1a9f('0x162'),_0x1a9f('0xa95'),_0x1a9f('0xbcc'),'\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;',_0x1a9f('0xbcd'),_0x1a9f('0xbce'),_0x1a9f('0xbcf'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xbd0'),_0x1a9f('0xbd1'),_0x1a9f('0xbd2'),'\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;',_0x1a9f('0xa95'),_0x1a9f('0xbd3'),_0x1a9f('0xbd4'),_0x1a9f('0xbd5'),_0x1a9f('0xbd6'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;',_0x1a9f('0xbd7'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;',_0x1a9f('0xbd8'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xbd9'),_0x1a9f('0xbda'),_0x1a9f('0xbdb'),'\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;','/*--------------------------------------------------------------------------*/',_0x1a9f('0xbdc'),_0x1a9f('0xbdd'),_0x1a9f('0xbde'),'\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;',_0x1a9f('0xa95'),_0x1a9f('0xbdf'),'\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;',_0x1a9f('0xbe0'),_0x1a9f('0xbe1'),'\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);',_0x1a9f('0xbe2'),_0x1a9f('0xbe3'),_0x1a9f('0xbe4'),_0x1a9f('0xa95'),'\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20posB.x\x20=\x20posM.x;','\x20\x20\x20\x20posB.y\x20=\x20posM.y;','\x20\x20\x20\x20FxaaFloat2\x20offNP;','\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;',_0x1a9f('0xbe5'),'\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;',_0x1a9f('0xbe6'),_0x1a9f('0xa95'),'\x20\x20\x20\x20FxaaFloat2\x20posN;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;',_0x1a9f('0xbe7'),_0x1a9f('0xbe8'),_0x1a9f('0xbe9'),'\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;',_0x1a9f('0xbea'),'\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;',_0x1a9f('0xbeb'),_0x1a9f('0xbec'),_0x1a9f('0xbed'),_0x1a9f('0xbee'),_0x1a9f('0xa95'),_0x1a9f('0xbef'),'\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1a9f('0xbf0'),_0x1a9f('0xbf1'),_0x1a9f('0xbf2'),_0x1a9f('0xbf3'),_0x1a9f('0xbf4'),_0x1a9f('0xbf5'),_0x1a9f('0xa95'),_0x1a9f('0xbf6'),_0x1a9f('0xbf7'),_0x1a9f('0xbf8'),_0x1a9f('0xbf9'),_0x1a9f('0xbfa'),_0x1a9f('0xbfb'),_0x1a9f('0xbfc'),_0x1a9f('0xbfd'),_0x1a9f('0xbfe'),_0x1a9f('0xbff'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;',_0x1a9f('0xc00'),_0x1a9f('0xa95'),_0x1a9f('0xc01'),_0x1a9f('0xc02'),_0x1a9f('0xc03'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1a9f('0xc04'),_0x1a9f('0xc05'),_0x1a9f('0xc06'),_0x1a9f('0xc07'),_0x1a9f('0xc08'),_0x1a9f('0xc09'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1a9f('0xc0a'),_0x1a9f('0xc0b'),_0x1a9f('0xa95'),_0x1a9f('0xc0c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1a9f('0xc0d'),_0x1a9f('0xc0e'),_0x1a9f('0xc0f'),_0x1a9f('0xc10'),_0x1a9f('0xc11'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;',_0x1a9f('0xc12'),_0x1a9f('0xc13'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;',_0x1a9f('0xa95'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{',_0x1a9f('0xc14'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1a9f('0xc15'),_0x1a9f('0xc16'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;',_0x1a9f('0xc17'),_0x1a9f('0xc18'),_0x1a9f('0xc19'),_0x1a9f('0xc1a'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xc1b'),_0x1a9f('0xc1c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x1a9f('0xc1d'),_0x1a9f('0xc1e'),_0x1a9f('0xc1f'),_0x1a9f('0xc20'),_0x1a9f('0xc21'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1a9f('0xc22'),_0x1a9f('0xc23'),_0x1a9f('0xa95'),_0x1a9f('0xc24'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{',_0x1a9f('0xc25'),_0x1a9f('0xc26'),_0x1a9f('0xc27'),_0x1a9f('0xc28'),_0x1a9f('0xc29'),_0x1a9f('0xc2a'),_0x1a9f('0xc2b'),_0x1a9f('0xc2c'),_0x1a9f('0xc2d'),_0x1a9f('0xc2e'),_0x1a9f('0xc2f'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xc30'),_0x1a9f('0xbf6'),_0x1a9f('0xbf7'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1a9f('0xbf9'),_0x1a9f('0xbfa'),_0x1a9f('0xbfb'),'\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;',_0x1a9f('0xc31'),'\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;',_0x1a9f('0xc32'),_0x1a9f('0xa95'),_0x1a9f('0xc33'),_0x1a9f('0xc02'),_0x1a9f('0xc03'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1a9f('0xc04'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x1a9f('0xc34'),_0x1a9f('0xc35'),_0x1a9f('0xc36'),_0x1a9f('0xc37'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;',_0x1a9f('0xa95'),_0x1a9f('0xc38'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{',_0x1a9f('0xc39'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1a9f('0xc0e'),_0x1a9f('0xc0f'),_0x1a9f('0xc10'),_0x1a9f('0xc3a'),_0x1a9f('0xc3b'),_0x1a9f('0xc12'),_0x1a9f('0xc3c'),_0x1a9f('0xc3d'),_0x1a9f('0xa95'),_0x1a9f('0xc3e'),_0x1a9f('0xc3f'),_0x1a9f('0xc14'),_0x1a9f('0xc40'),_0x1a9f('0xc41'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x1a9f('0xc16'),_0x1a9f('0xc42'),_0x1a9f('0xc43'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;',_0x1a9f('0xc18'),_0x1a9f('0xc44'),_0x1a9f('0xc45'),_0x1a9f('0xa95'),_0x1a9f('0xc46'),_0x1a9f('0xc1c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x1a9f('0xc1d'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1a9f('0xc1f'),_0x1a9f('0xc20'),_0x1a9f('0xc21'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;',_0x1a9f('0xc47'),_0x1a9f('0xa95'),_0x1a9f('0xc48'),_0x1a9f('0xc49'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xc4a'),_0x1a9f('0xc4b'),_0x1a9f('0xa95'),_0x1a9f('0xc4c'),_0x1a9f('0xba3'),_0x1a9f('0xa95'),_0x1a9f('0xc4d'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1a9f('0xa95'),'\x20\x20\x20\x20}',_0x1a9f('0x162'),_0x1a9f('0xa95'),_0x1a9f('0xc4e'),_0x1a9f('0xc4f'),_0x1a9f('0xa95'),_0x1a9f('0xc48'),_0x1a9f('0xc49'),_0x1a9f('0xa95'),_0x1a9f('0xc4a'),_0x1a9f('0xc4b'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xc4c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','/*--------------------------------------------------------------------------*/',_0x1a9f('0xc4d'),_0x1a9f('0xba4'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0x13e'),_0x1a9f('0xa95'),_0x1a9f('0xc50'),_0x1a9f('0xc51'),'\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;',_0x1a9f('0xc52'),_0x1a9f('0xa95'),_0x1a9f('0xc53'),_0x1a9f('0xc54'),'\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;',_0x1a9f('0xc55'),'/*--------------------------------------------------------------------------*/',_0x1a9f('0xc56'),_0x1a9f('0xc57'),_0x1a9f('0xc58'),_0x1a9f('0xc59'),_0x1a9f('0xc5a'),_0x1a9f('0xc5b'),_0x1a9f('0xa95'),_0x1a9f('0xc5c'),_0x1a9f('0xc5d'),_0x1a9f('0xc5e'),'\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);',_0x1a9f('0x191'),_0x1a9f('0xc5f'),_0x1a9f('0x162'),'}',_0x1a9f('0xa9e'),_0x1a9f('0x11e'),'',_0x1a9f('0x176'),_0x1a9f('0xc60'),_0x1a9f('0xc61'),_0x1a9f('0xc62'),'\x20\x20\x20\x20tDiffuse,',_0x1a9f('0xc63'),_0x1a9f('0xc63'),_0x1a9f('0xc64'),_0x1a9f('0xc62'),_0x1a9f('0xc62'),_0x1a9f('0xc62'),_0x1a9f('0xc65'),_0x1a9f('0xc66'),_0x1a9f('0xc67'),_0x1a9f('0xc68'),_0x1a9f('0xc68'),_0x1a9f('0xc68'),_0x1a9f('0xc69'),_0x1a9f('0xc6a'),'',_0x1a9f('0xc6b'),'\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','}'][_0x1a9f('0x111')]('\x0a')};},function(_0x59471a,_0x4b6ec0,_0x4315ad){'use strict';var _0x78a734=_0x312fa6(_0x4315ad(0x22)),_0x4315ad=_0x312fa6(_0x4315ad(0x11));function _0x312fa6(_0x59471a){return _0x59471a&&_0x59471a[_0x1a9f('0x5')]?_0x59471a:{'default':_0x59471a};}THREE[_0x1a9f('0xa09')]=function(_0x59471a,_0x4b6ec0,_0x4315ad,_0x78a734){this[_0x1a9f('0xc6c')]=_0x4b6ec0,this[_0x1a9f('0xc6d')]=_0x4315ad,this[_0x1a9f('0x9e9')]=void 0x0!==_0x78a734?_0x78a734:[],this['visibleEdgeColor']=new THREE[(_0x1a9f('0x1b7'))](0x1,0x1,0x1),this[_0x1a9f('0x9eb')]=new THREE['Color'](0.1,0.04,0.02),this[_0x1a9f('0x9ed')]=0x0,this['usePatternTexture']=!0x1,this[_0x1a9f('0x9ef')]=0x1,this[_0x1a9f('0xa0b')]=0x3,this['downSampleRatio']=0x2,this[_0x1a9f('0x9f4')]=0x0,THREE[_0x1a9f('0xa39')][_0x1a9f('0xd')](this),this[_0x1a9f('0x310')]=void 0x0!==_0x59471a?new THREE['Vector2'](_0x59471a['x'],_0x59471a['y']):new THREE['Vector2'](0x100,0x100);var _0x312fa6,_0x4b6ec0={'minFilter':THREE[_0x1a9f('0x634')],'magFilter':THREE[_0x1a9f('0x634')],'format':THREE['RGBAFormat']},_0x4315ad=Math[_0x1a9f('0x41b')](this['resolution']['x']/this[_0x1a9f('0xc6e')]),_0x78a734=Math[_0x1a9f('0x41b')](this[_0x1a9f('0x310')]['y']/this[_0x1a9f('0xc6e')]),_0x59471a=(this[_0x1a9f('0xc6f')]=new THREE[(_0x1a9f('0x3e9'))]({'color':0xffffff}),this[_0x1a9f('0xc6f')]['side']=THREE['DoubleSide'],this[_0x1a9f('0xc70')]=new THREE[(_0x1a9f('0x639'))](this['resolution']['x'],this['resolution']['y'],_0x4b6ec0),this['renderTargetMaskBuffer'][_0x1a9f('0xcc')][_0x1a9f('0x427')]=_0x1a9f('0xc71'),this['renderTargetMaskBuffer'][_0x1a9f('0xcc')]['generateMipmaps']=!0x1,this[_0x1a9f('0x703')]=new THREE[(_0x1a9f('0xc72'))](),this[_0x1a9f('0x703')][_0x1a9f('0x37a')]=THREE[_0x1a9f('0x3f9')],this[_0x1a9f('0x703')]['depthPacking']=THREE['RGBADepthPacking'],this['depthMaterial'][_0x1a9f('0x1cf')]=THREE[_0x1a9f('0x61e')],this[_0x1a9f('0xc73')]=this[_0x1a9f('0xc74')](),this['prepareMaskMaterial'][_0x1a9f('0x37a')]=THREE['DoubleSide'],this[_0x1a9f('0xc73')][_0x1a9f('0x57')]=(_0x59471a=this['prepareMaskMaterial'][_0x1a9f('0x57')],_0x312fa6=this[_0x1a9f('0xc6d')][_0x1a9f('0xc75')]?_0x1a9f('0xc76'):_0x1a9f('0xc77'),_0x59471a[_0x1a9f('0x239')](/DEPTH_TO_VIEW_Z/g,_0x312fa6+_0x1a9f('0xc78'))),this[_0x1a9f('0xc79')]=new THREE[(_0x1a9f('0x639'))](this[_0x1a9f('0x310')]['x'],this[_0x1a9f('0x310')]['y'],_0x4b6ec0),this['renderTargetDepthBuffer'][_0x1a9f('0xcc')][_0x1a9f('0x427')]='OutlinePass.depth',this['renderTargetDepthBuffer'][_0x1a9f('0xcc')]['generateMipmaps']=!0x1,this[_0x1a9f('0xc7a')]=new THREE['WebGLRenderTarget'](_0x4315ad,_0x78a734,_0x4b6ec0),this[_0x1a9f('0xc7a')]['texture'][_0x1a9f('0x427')]=_0x1a9f('0xc7b'),this[_0x1a9f('0xc7a')][_0x1a9f('0xcc')][_0x1a9f('0x636')]=!0x1,this[_0x1a9f('0xc7c')]=new THREE[(_0x1a9f('0x639'))](_0x4315ad,_0x78a734,_0x4b6ec0),this[_0x1a9f('0xc7c')]['texture'][_0x1a9f('0x427')]=_0x1a9f('0xc7d'),this[_0x1a9f('0xc7c')]['texture']['generateMipmaps']=!0x1,this[_0x1a9f('0xc7e')]=new THREE[(_0x1a9f('0x639'))](Math[_0x1a9f('0x41b')](_0x4315ad/0x2),Math[_0x1a9f('0x41b')](_0x78a734/0x2),_0x4b6ec0),this[_0x1a9f('0xc7e')][_0x1a9f('0xcc')][_0x1a9f('0x427')]=_0x1a9f('0xc7f'),this[_0x1a9f('0xc7e')]['texture']['generateMipmaps']=!0x1,this[_0x1a9f('0xc80')]=this[_0x1a9f('0xc81')](),this[_0x1a9f('0xc82')]=new THREE[(_0x1a9f('0x639'))](_0x4315ad,_0x78a734,_0x4b6ec0),this[_0x1a9f('0xc82')][_0x1a9f('0xcc')][_0x1a9f('0x427')]='OutlinePass.edge1',this[_0x1a9f('0xc82')][_0x1a9f('0xcc')][_0x1a9f('0x636')]=!0x1,this['renderTargetEdgeBuffer2']=new THREE[(_0x1a9f('0x639'))](Math[_0x1a9f('0x41b')](_0x4315ad/0x2),Math['round'](_0x78a734/0x2),_0x4b6ec0),this[_0x1a9f('0xc83')][_0x1a9f('0xcc')][_0x1a9f('0x427')]=_0x1a9f('0xc84'),this[_0x1a9f('0xc83')][_0x1a9f('0xcc')][_0x1a9f('0x636')]=!0x1,this[_0x1a9f('0xc85')]=this[_0x1a9f('0xa51')](0x4),this[_0x1a9f('0xc85')][_0x1a9f('0x16a')][_0x1a9f('0xa61')][_0x1a9f('0x11')]=new THREE['Vector2'](_0x4315ad,_0x78a734),this[_0x1a9f('0xc85')][_0x1a9f('0x16a')][_0x1a9f('0xc86')][_0x1a9f('0x11')]=0x1,this[_0x1a9f('0xc87')]=this[_0x1a9f('0xa51')](0x4),this['separableBlurMaterial2'][_0x1a9f('0x16a')]['texSize'][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b3'))](Math[_0x1a9f('0x41b')](_0x4315ad/0x2),Math[_0x1a9f('0x41b')](_0x78a734/0x2)),this['separableBlurMaterial2'][_0x1a9f('0x16a')][_0x1a9f('0xc86')]['value']=0x4,this[_0x1a9f('0xc88')]=this[_0x1a9f('0xc89')](),void 0x0===THREE[_0x1a9f('0xa2d')]&&console['error'](_0x1a9f('0xc8a')),THREE[_0x1a9f('0xa2d')]);this['copyUniforms']=THREE[_0x1a9f('0x643')][_0x1a9f('0x1af')](_0x59471a[_0x1a9f('0x16a')]),this[_0x1a9f('0xa5c')]['opacity']['value']=0x1,this[_0x1a9f('0xa5d')]=new THREE['ShaderMaterial']({'uniforms':this['copyUniforms'],'vertexShader':_0x59471a['vertexShader'],'fragmentShader':_0x59471a[_0x1a9f('0x57')],'blending':THREE['NoBlending'],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this['enabled']=!0x0,this['needsSwap']=!0x1,this[_0x1a9f('0xa5e')]=new THREE['Color'](),this['oldClearAlpha']=0x1,this['fsQuad']=new THREE['Pass'][(_0x1a9f('0xc8b'))](null),this['tempPulseColor1']=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0xc8c')]=new THREE[(_0x1a9f('0x1b7'))](),this[_0x1a9f('0xc8d')]=new THREE[(_0x1a9f('0x330'))]();},THREE[_0x1a9f('0xa09')][_0x1a9f('0xb')]=(0x0,_0x4315ad[_0x1a9f('0xa')])((0x0,_0x78a734['default'])(THREE['Pass']['prototype']),{'constructor':THREE['OutlinePass'],'dispose':function(){this['renderTargetMaskBuffer'][_0x1a9f('0x8f')](),this[_0x1a9f('0xc79')][_0x1a9f('0x8f')](),this[_0x1a9f('0xc7a')][_0x1a9f('0x8f')](),this[_0x1a9f('0xc7c')][_0x1a9f('0x8f')](),this[_0x1a9f('0xc7e')]['dispose'](),this[_0x1a9f('0xc82')][_0x1a9f('0x8f')](),this[_0x1a9f('0xc83')]['dispose']();},'setSize':function(_0x59471a,_0x4b6ec0){this[_0x1a9f('0xc70')][_0x1a9f('0x108')](_0x59471a,_0x4b6ec0);_0x59471a=Math[_0x1a9f('0x41b')](_0x59471a/this['downSampleRatio']),_0x4b6ec0=Math[_0x1a9f('0x41b')](_0x4b6ec0/this['downSampleRatio']);this[_0x1a9f('0xc7a')][_0x1a9f('0x108')](_0x59471a,_0x4b6ec0),this['renderTargetBlurBuffer1']['setSize'](_0x59471a,_0x4b6ec0),this['renderTargetEdgeBuffer1'][_0x1a9f('0x108')](_0x59471a,_0x4b6ec0),this[_0x1a9f('0xc85')][_0x1a9f('0x16a')]['texSize'][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b3'))](_0x59471a,_0x4b6ec0),_0x59471a=Math[_0x1a9f('0x41b')](_0x59471a/0x2),_0x4b6ec0=Math[_0x1a9f('0x41b')](_0x4b6ec0/0x2),this[_0x1a9f('0xc7e')]['setSize'](_0x59471a,_0x4b6ec0),this['renderTargetEdgeBuffer2'][_0x1a9f('0x108')](_0x59471a,_0x4b6ec0),this[_0x1a9f('0xc87')][_0x1a9f('0x16a')]['texSize'][_0x1a9f('0x11')]=new THREE[(_0x1a9f('0x1b3'))](_0x59471a,_0x4b6ec0);},'changeVisibilityOfSelectedObjects':function(_0x4b6ec0){function _0x59471a(_0x59471a){_0x59471a[_0x1a9f('0xc8e')]&&(_0x4b6ec0?(_0x59471a[_0x1a9f('0x342')]=_0x59471a[_0x1a9f('0x49')][_0x1a9f('0xc8f')],delete _0x59471a[_0x1a9f('0x49')][_0x1a9f('0xc8f')]):(_0x59471a[_0x1a9f('0x49')]['oldVisible']=_0x59471a[_0x1a9f('0x342')],_0x59471a[_0x1a9f('0x342')]=_0x4b6ec0));}for(var _0x4315ad=0x0;_0x4315ad<this[_0x1a9f('0x9e9')][_0x1a9f('0xf')];_0x4315ad++)this[_0x1a9f('0x9e9')][_0x4315ad][_0x1a9f('0x92')](_0x59471a);},'changeVisibilityOfNonSelectedObjects':function(_0x312fa6){var _0x5747fa=[];function _0x59471a(_0x59471a){_0x59471a[_0x1a9f('0xc8e')]&&_0x5747fa[_0x1a9f('0x70')](_0x59471a);}for(var _0x4b6ec0=0x0;_0x4b6ec0<this[_0x1a9f('0x9e9')][_0x1a9f('0xf')];_0x4b6ec0++)this['selectedObjects'][_0x4b6ec0][_0x1a9f('0x92')](_0x59471a);this[_0x1a9f('0xc6c')]['traverse'](function(_0x59471a){if(_0x59471a['isMesh']||_0x59471a['isLine']||_0x59471a[_0x1a9f('0xc90')]){for(var _0x4b6ec0,_0x4315ad=!0x1,_0x78a734=0x0;_0x78a734<_0x5747fa['length'];_0x78a734++)if(_0x5747fa[_0x78a734]['id']===_0x59471a['id']){_0x4315ad=!0x0;break;}_0x4315ad||(_0x4b6ec0=_0x59471a['visible'],_0x312fa6&&!_0x59471a['bVisible']||(_0x59471a[_0x1a9f('0x342')]=_0x312fa6),_0x59471a[_0x1a9f('0xc91')]=_0x4b6ec0);}});},'updateTextureMatrix':function(){this[_0x1a9f('0xc8d')][_0x1a9f('0x1d')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x1a9f('0xc8d')][_0x1a9f('0xc92')](this[_0x1a9f('0xc6d')]['projectionMatrix']),this[_0x1a9f('0xc8d')][_0x1a9f('0xc92')](this['renderCamera'][_0x1a9f('0x6fb')]);},'render':function(_0x59471a,_0x4b6ec0,_0x4315ad,_0x78a734,_0x312fa6){var _0x2ac380,_0x32fe69;0x0<this[_0x1a9f('0x9e9')][_0x1a9f('0xf')]&&(this['oldClearColor'][_0x1a9f('0x1ba')](_0x59471a[_0x1a9f('0xa3c')]()),this[_0x1a9f('0xa5f')]=_0x59471a[_0x1a9f('0xa3d')](),_0x2ac380=_0x59471a[_0x1a9f('0xa62')],_0x59471a[_0x1a9f('0xa62')]=!0x1,_0x312fa6&&_0x59471a[_0x1a9f('0xa63')][_0x1a9f('0x25c')](_0x59471a['context'][_0x1a9f('0xa67')]),_0x59471a[_0x1a9f('0xa3e')](0xffffff,0x1),this[_0x1a9f('0xc93')](!0x1),_0x32fe69=this[_0x1a9f('0xc6c')][_0x1a9f('0x475')],this['renderScene']['background']=null,this[_0x1a9f('0xc6c')]['overrideMaterial']=this[_0x1a9f('0x703')],_0x59471a['setRenderTarget'](this[_0x1a9f('0xc79')]),_0x59471a['clear'](),_0x59471a[_0x1a9f('0x340')](this[_0x1a9f('0xc6c')],this[_0x1a9f('0xc6d')]),this['changeVisibilityOfSelectedObjects'](!0x0),this['updateTextureMatrix'](),this[_0x1a9f('0xc94')](!0x1),this[_0x1a9f('0xc6c')][_0x1a9f('0xa3a')]=this['prepareMaskMaterial'],this[_0x1a9f('0xc73')]['uniforms'][_0x1a9f('0xc95')]['value']=new THREE[(_0x1a9f('0x1b3'))](this[_0x1a9f('0xc6d')][_0x1a9f('0x313')],this[_0x1a9f('0xc6d')][_0x1a9f('0x386')]),this[_0x1a9f('0xc73')]['uniforms'][_0x1a9f('0xc96')][_0x1a9f('0x11')]=this[_0x1a9f('0xc79')][_0x1a9f('0xcc')],this[_0x1a9f('0xc73')][_0x1a9f('0x16a')][_0x1a9f('0xc8d')]['value']=this[_0x1a9f('0xc8d')],_0x59471a[_0x1a9f('0x630')](this[_0x1a9f('0xc70')]),_0x59471a[_0x1a9f('0x2f4')](),_0x59471a[_0x1a9f('0x340')](this[_0x1a9f('0xc6c')],this[_0x1a9f('0xc6d')]),this[_0x1a9f('0xc6c')][_0x1a9f('0xa3a')]=null,this[_0x1a9f('0xc94')](!0x0),this[_0x1a9f('0xc6c')][_0x1a9f('0x475')]=_0x32fe69,this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xa5d')],this[_0x1a9f('0xa5c')][_0x1a9f('0xa64')][_0x1a9f('0x11')]=this[_0x1a9f('0xc70')][_0x1a9f('0xcc')],_0x59471a[_0x1a9f('0x630')](this['renderTargetMaskDownSampleBuffer']),_0x59471a[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x59471a),this[_0x1a9f('0xc97')][_0x1a9f('0x1ba')](this[_0x1a9f('0x9ea')]),this[_0x1a9f('0xc8c')][_0x1a9f('0x1ba')](this[_0x1a9f('0x9eb')]),0x0<this[_0x1a9f('0x9f4')]&&(_0x32fe69=0.625+0.75*Math['cos'](0.01*performance[_0x1a9f('0x2b0')]()/this[_0x1a9f('0x9f4')])/0x2,this[_0x1a9f('0xc97')][_0x1a9f('0x1be')](_0x32fe69),this[_0x1a9f('0xc8c')][_0x1a9f('0x1be')](_0x32fe69)),this['fsQuad'][_0x1a9f('0x48')]=this['edgeDetectionMaterial'],this[_0x1a9f('0xc80')]['uniforms'][_0x1a9f('0x9f0')][_0x1a9f('0x11')]=this[_0x1a9f('0xc7a')][_0x1a9f('0xcc')],this[_0x1a9f('0xc80')][_0x1a9f('0x16a')][_0x1a9f('0xa61')][_0x1a9f('0x11')]=new THREE['Vector2'](this['renderTargetMaskDownSampleBuffer'][_0x1a9f('0x33a')],this['renderTargetMaskDownSampleBuffer'][_0x1a9f('0x33b')]),this[_0x1a9f('0xc80')]['uniforms'][_0x1a9f('0x9ea')][_0x1a9f('0x11')]=this[_0x1a9f('0xc97')],this[_0x1a9f('0xc80')][_0x1a9f('0x16a')][_0x1a9f('0x9eb')][_0x1a9f('0x11')]=this['tempPulseColor2'],_0x59471a[_0x1a9f('0x630')](this[_0x1a9f('0xc82')]),_0x59471a[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x59471a),this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xc85')],this[_0x1a9f('0xc85')]['uniforms'][_0x1a9f('0xa66')][_0x1a9f('0x11')]=this[_0x1a9f('0xc82')][_0x1a9f('0xcc')],this[_0x1a9f('0xc85')][_0x1a9f('0x16a')]['direction'][_0x1a9f('0x11')]=THREE[_0x1a9f('0xa09')][_0x1a9f('0xa65')],this[_0x1a9f('0xc85')]['uniforms'][_0x1a9f('0xc86')][_0x1a9f('0x11')]=this['edgeThickness'],_0x59471a[_0x1a9f('0x630')](this['renderTargetBlurBuffer1']),_0x59471a[_0x1a9f('0x2f4')](),this['fsQuad']['render'](_0x59471a),this[_0x1a9f('0xc85')][_0x1a9f('0x16a')][_0x1a9f('0xa66')][_0x1a9f('0x11')]=this[_0x1a9f('0xc7c')][_0x1a9f('0xcc')],this['separableBlurMaterial1'][_0x1a9f('0x16a')]['direction'][_0x1a9f('0x11')]=THREE[_0x1a9f('0xa09')]['BlurDirectionY'],_0x59471a['setRenderTarget'](this[_0x1a9f('0xc82')]),_0x59471a[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')]['render'](_0x59471a),this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xc87')],this[_0x1a9f('0xc87')][_0x1a9f('0x16a')]['colorTexture'][_0x1a9f('0x11')]=this[_0x1a9f('0xc82')][_0x1a9f('0xcc')],this[_0x1a9f('0xc87')][_0x1a9f('0x16a')][_0x1a9f('0x22c')]['value']=THREE[_0x1a9f('0xa09')][_0x1a9f('0xa65')],_0x59471a['setRenderTarget'](this['renderTargetBlurBuffer2']),_0x59471a[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x59471a),this[_0x1a9f('0xc87')][_0x1a9f('0x16a')][_0x1a9f('0xa66')][_0x1a9f('0x11')]=this[_0x1a9f('0xc7e')]['texture'],this[_0x1a9f('0xc87')][_0x1a9f('0x16a')]['direction'][_0x1a9f('0x11')]=THREE[_0x1a9f('0xa09')]['BlurDirectionY'],_0x59471a[_0x1a9f('0x630')](this[_0x1a9f('0xc83')]),_0x59471a[_0x1a9f('0x2f4')](),this[_0x1a9f('0xa45')][_0x1a9f('0x340')](_0x59471a),this[_0x1a9f('0xa45')]['material']=this[_0x1a9f('0xc88')],this['overlayMaterial'][_0x1a9f('0x16a')]['maskTexture']['value']=this[_0x1a9f('0xc70')]['texture'],this[_0x1a9f('0xc88')][_0x1a9f('0x16a')]['edgeTexture1'][_0x1a9f('0x11')]=this[_0x1a9f('0xc82')][_0x1a9f('0xcc')],this[_0x1a9f('0xc88')]['uniforms'][_0x1a9f('0xc98')]['value']=this[_0x1a9f('0xc83')]['texture'],this['overlayMaterial'][_0x1a9f('0x16a')][_0x1a9f('0x9f1')]['value']=this[_0x1a9f('0x9f1')],this['overlayMaterial'][_0x1a9f('0x16a')][_0x1a9f('0xa0b')][_0x1a9f('0x11')]=this[_0x1a9f('0xa0b')],this['overlayMaterial'][_0x1a9f('0x16a')][_0x1a9f('0x9ed')]['value']=this['edgeGlow'],this[_0x1a9f('0xc88')]['uniforms'][_0x1a9f('0x9f2')]['value']=this[_0x1a9f('0x9f2')],_0x312fa6&&_0x59471a[_0x1a9f('0xa63')][_0x1a9f('0x211')](_0x59471a[_0x1a9f('0xa63')][_0x1a9f('0xa67')]),_0x59471a['setRenderTarget'](_0x4315ad),this[_0x1a9f('0xa45')]['render'](_0x59471a),_0x59471a[_0x1a9f('0xa3e')](this[_0x1a9f('0xa5e')],this[_0x1a9f('0xa5f')]),_0x59471a[_0x1a9f('0xa62')]=_0x2ac380),this[_0x1a9f('0xa08')]&&(this[_0x1a9f('0xa45')][_0x1a9f('0x48')]=this[_0x1a9f('0xa5d')],this[_0x1a9f('0xa5c')][_0x1a9f('0xa64')][_0x1a9f('0x11')]=_0x4315ad[_0x1a9f('0xcc')],_0x59471a[_0x1a9f('0x630')](null),this['fsQuad'][_0x1a9f('0x340')](_0x59471a));},'getPrepareMaskMaterial':function(){return new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE['Vector2'](0.5,0.5)},'textureMatrix':{'value':new THREE['Matrix4']()}},'vertexShader':['varying\x20vec4\x20projTexCoord;',_0x1a9f('0xc99'),_0x1a9f('0xc9a'),_0x1a9f('0x176'),'\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);',_0x1a9f('0xc9b'),_0x1a9f('0xc9c'),_0x1a9f('0xc9d'),'}'][_0x1a9f('0x111')]('\x0a'),'fragmentShader':['#include\x20<packing>',_0x1a9f('0xc99'),_0x1a9f('0xc9e'),'uniform\x20sampler2D\x20depthTexture;','uniform\x20vec2\x20cameraNearFar;',_0x1a9f('0x176'),_0x1a9f('0xc9f'),_0x1a9f('0xca0'),'\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;',_0x1a9f('0xca1'),'}'][_0x1a9f('0x111')]('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x1a9f('0x1b3'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x1a9f('0x1b5'))](0x1,0x1,0x1)}},'vertexShader':_0x1a9f('0x61c'),'fragmentShader':_0x1a9f('0xca2')});},'getSeperableBlurMaterial':function(_0x59471a){return new THREE[(_0x1a9f('0x1e2'))]({'defines':{'MAX_RADIUS':_0x59471a},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x1a9f('0x1b3'))](0.5,0.5)},'direction':{'value':new THREE[(_0x1a9f('0x1b3'))](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':_0x1a9f('0x61c'),'fragmentShader':_0x1a9f('0xca3')});},'getOverlayMaterial':function(){return new THREE[(_0x1a9f('0x1e2'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':_0x1a9f('0x61c'),'fragmentShader':_0x1a9f('0xca4'),'blending':THREE[_0x1a9f('0x3fa')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE[_0x1a9f('0xa09')]['BlurDirectionX']=new THREE[(_0x1a9f('0x1b3'))](0x1,0x0),THREE[_0x1a9f('0xa09')][_0x1a9f('0xa69')]=new THREE[(_0x1a9f('0x1b3'))](0x0,0x1);},function(_0x412f99,_0x4cd775,_0x3c4a03){'use strict';Object[_0x1a9f('0x3')](_0x4cd775,_0x1a9f('0x5'),{'value':!0x0});var _0x1cca35=_0x3a6202(_0x3c4a03(0x6)),_0x2822f9=_0x3a6202(_0x3c4a03(0x0)),_0x203633=_0x3a6202(_0x3c4a03(0x1)),_0x3b33a8=_0x3c4a03(0x1a);function _0x3a6202(_0x412f99){return _0x412f99&&_0x412f99[_0x1a9f('0x5')]?_0x412f99:{'default':_0x412f99};}function _0xabdedd(){(0x0,_0x2822f9[_0x1a9f('0xa')])(this,_0xabdedd),this[_0x1a9f('0x90')]=(0x0,_0x3b33a8[_0x1a9f('0x33')])(),this[_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0xca5')]=!0x1,this['isRealTimeUpdate']=!0x1,this['shadowLight']=null,this['shadowConfigs']={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this[_0x1a9f('0x696')]=null,this['shadowCameraHelper']=null,this[_0x1a9f('0xca6')]=new THREE[(_0x1a9f('0xca7'))]();}(0x0,_0x203633[_0x1a9f('0xa')])(_0xabdedd,[{'key':_0x1a9f('0xca8'),'value':function(_0x412f99){_0x412f99[_0x1a9f('0xca9')]&&(this[_0x1a9f('0x696')]=new THREE[(_0x1a9f('0x649'))](0x2d,0x1,_0x412f99[_0x1a9f('0xca9')]['nearFactor'],_0x412f99[_0x1a9f('0xca9')][_0x1a9f('0xcaa')]));}},{'key':_0x1a9f('0x82d'),'value':function(_0x412f99){this[_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')]['mapView']['renderer'][_0x1a9f('0x81d')]['autoUpdate']=!!_0x412f99['debug'],this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x81d')]['type']=THREE[_0x1a9f('0xcab')];var _0x4cd775,_0x3c4a03=this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x412f99[_0x1a9f('0x7de')]];_0x412f99['resolution']&&(this['shadowConfigs'][_0x1a9f('0xcac')]=_0x412f99[_0x1a9f('0x310')],this[_0x1a9f('0xca9')][_0x1a9f('0xcad')]=_0x412f99[_0x1a9f('0x310')]),_0x3c4a03&&(_0x412f99[_0x1a9f('0xca9')]?(_0x3c4a03[_0x1a9f('0x42')]['set'](_0x412f99[_0x1a9f('0xca9')]['position']['x'],_0x412f99[_0x1a9f('0xca9')][_0x1a9f('0x42')]['y'],_0x412f99[_0x1a9f('0xca9')][_0x1a9f('0x42')]['z']),(_0x4cd775=new THREE[(_0x1a9f('0x346'))]())['position'][_0x1a9f('0x1d')](_0x412f99[_0x1a9f('0xca9')][_0x1a9f('0xc7')]['x'],_0x412f99[_0x1a9f('0xca9')]['target']['y'],_0x412f99[_0x1a9f('0xca9')]['target']['z']),this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')]['add'](_0x4cd775),_0x3c4a03[_0x1a9f('0xc7')]=_0x4cd775,_0x3c4a03[_0x1a9f('0x69c')]=!0x0):(_0x3c4a03['position']['set'](0x1f4,0x2bc,-0x1f4),_0x3c4a03['target'][_0x1a9f('0x42')][_0x1a9f('0x1d')](0x0,0x0,0x0),_0x3c4a03['castShadow']=!0x0,this[_0x1a9f('0x696')]=new THREE[(_0x1a9f('0x649'))](0x2d,0x1,0x2bc,0x4e2)),_0x3c4a03[_0x1a9f('0x7dd')]=new THREE['LightShadow'](this[_0x1a9f('0x696')]),_0x3c4a03[_0x1a9f('0x7dd')][_0x1a9f('0xcae')]=0x2,_0x3c4a03[_0x1a9f('0x7dd')]['bias']=_0x412f99[_0x1a9f('0xcaf')]||this[_0x1a9f('0xca9')][_0x1a9f('0xcaf')],_0x3c4a03[_0x1a9f('0x7dd')][_0x1a9f('0xcae')]=_0x412f99[_0x1a9f('0xcae')]||this[_0x1a9f('0xca9')][_0x1a9f('0xcae')],_0x3c4a03[_0x1a9f('0x7dd')][_0x1a9f('0x21c')]=this[_0x1a9f('0xca9')][_0x1a9f('0x21c')],_0x3c4a03[_0x1a9f('0x7dd')]['mapSize'][_0x1a9f('0x33a')]=this[_0x1a9f('0xca9')][_0x1a9f('0xcac')],_0x3c4a03[_0x1a9f('0x7dd')][_0x1a9f('0x62d')][_0x1a9f('0x33b')]=this[_0x1a9f('0xca9')][_0x1a9f('0xcad')],_0x412f99[_0x1a9f('0x41f')]&&(_0x4cd775=new THREE[(_0x1a9f('0xcb0'))](_0x3c4a03[_0x1a9f('0x7dd')][_0x1a9f('0x314')]),this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x4cd775),this[_0x1a9f('0xcb1')]=_0x4cd775),this['shadowLight']=_0x3c4a03,this[_0x1a9f('0xcb2')](_0x412f99));}},{'key':_0x1a9f('0xcb3'),'value':function(_0x412f99){this[_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')]['shadowMap'][_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0xcb4')]=!!_0x412f99[_0x1a9f('0x41f')],this[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer']['shadowMap'][_0x1a9f('0xc6')]=THREE[_0x1a9f('0xcab')];var _0x4cd775=this['map'][_0x1a9f('0x447')][_0x412f99[_0x1a9f('0x7de')]],_0x3c4a03=(_0x412f99[_0x1a9f('0x310')]&&(this['shadowConfigs'][_0x1a9f('0xcac')]=_0x412f99[_0x1a9f('0x310')],this[_0x1a9f('0xca9')][_0x1a9f('0xcad')]=_0x412f99[_0x1a9f('0x310')]),this['shadowCamera']=new THREE[(_0x1a9f('0x649'))](0x2d,0x1,0xa,0x3e8),new THREE[(_0x1a9f('0x346'))]());this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x3c4a03),_0x4cd775[_0x1a9f('0xc7')]=_0x3c4a03,_0x4cd775[_0x1a9f('0x69c')]=!0x0,_0x4cd775[_0x1a9f('0x7dd')]=new THREE['LightShadow'](this['shadowCamera']),_0x4cd775['shadow'][_0x1a9f('0x21c')]=0.1,_0x4cd775[_0x1a9f('0x7dd')][_0x1a9f('0xcaf')]=_0x412f99[_0x1a9f('0xcaf')]||this[_0x1a9f('0xca9')][_0x1a9f('0xcaf')],_0x4cd775['shadow'][_0x1a9f('0xcae')]=_0x412f99['normalBias']||this[_0x1a9f('0xca9')][_0x1a9f('0xcae')],_0x4cd775[_0x1a9f('0x7dd')][_0x1a9f('0x21c')]=this[_0x1a9f('0xca9')]['radius'],_0x4cd775[_0x1a9f('0x7dd')][_0x1a9f('0x62d')]['width']=this[_0x1a9f('0xca9')][_0x1a9f('0xcac')],_0x4cd775[_0x1a9f('0x7dd')][_0x1a9f('0x62d')][_0x1a9f('0x33b')]=this['shadowConfigs'][_0x1a9f('0xcad')],_0x412f99[_0x1a9f('0x41f')]&&(_0x3c4a03=new THREE[(_0x1a9f('0xcb0'))](_0x4cd775[_0x1a9f('0x7dd')]['camera']),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x3c4a03),this['shadowCameraHelper']=_0x3c4a03),this[_0x1a9f('0xcb5')]=_0x4cd775;}},{'key':'initTileMapShadow','value':function(_0x412f99,_0x4cd775){this[_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')]['enabled']=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer'][_0x1a9f('0x81d')][_0x1a9f('0xcb4')]=!!_0x4cd775[_0x1a9f('0x41f')],this[_0x1a9f('0x90')][_0x1a9f('0x447')]['renderer'][_0x1a9f('0x81d')][_0x1a9f('0xc6')]=THREE['PCFSoftShadowMap'],_0x4cd775[_0x1a9f('0x310')]&&(this['shadowConfigs'][_0x1a9f('0xcac')]=_0x4cd775[_0x1a9f('0x310')],this[_0x1a9f('0xca9')]['mapHeight']=_0x4cd775['resolution']),this[_0x1a9f('0x696')]=new THREE[(_0x1a9f('0x649'))](0x2d,0x1,0xa,0x3e8);var _0x3c4a03=new THREE[(_0x1a9f('0x346'))]();this['map'][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x3c4a03),_0x412f99[_0x1a9f('0xc7')]=_0x3c4a03,_0x412f99[_0x1a9f('0x69c')]=!0x0,_0x412f99[_0x1a9f('0x7dd')]=new THREE[(_0x1a9f('0xcb6'))](this[_0x1a9f('0x696')]),_0x412f99[_0x1a9f('0x7dd')][_0x1a9f('0x21c')]=0.1,_0x412f99[_0x1a9f('0x7dd')][_0x1a9f('0xcaf')]=_0x4cd775[_0x1a9f('0xcaf')]||this[_0x1a9f('0xca9')]['bias'],_0x412f99[_0x1a9f('0x7dd')]['normalBias']=_0x4cd775[_0x1a9f('0xcae')]||this[_0x1a9f('0xca9')]['normalBias'],_0x412f99['shadow'][_0x1a9f('0x21c')]=this[_0x1a9f('0xca9')]['radius'],_0x412f99[_0x1a9f('0x7dd')][_0x1a9f('0x62d')]['width']=this[_0x1a9f('0xca9')][_0x1a9f('0xcac')],_0x412f99[_0x1a9f('0x7dd')][_0x1a9f('0x62d')][_0x1a9f('0x33b')]=this[_0x1a9f('0xca9')][_0x1a9f('0xcad')],_0x4cd775[_0x1a9f('0x41f')]&&(_0x3c4a03=new THREE[(_0x1a9f('0xcb0'))](_0x412f99[_0x1a9f('0x7dd')]['camera']),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x3c4a03),this['shadowCameraHelper']=_0x3c4a03),this['shadowLight']=_0x412f99,this[_0x1a9f('0xcb5')];}},{'key':_0x1a9f('0x7df'),'value':function(_0x412f99,_0x4cd775,_0x3c4a03){var _0x2822f9,_0x203633;_0x412f99&&this[_0x1a9f('0x696')]&&(_0x2822f9=Math[_0x1a9f('0xd9')](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xcb7')](),0xbb8),esmap[_0x1a9f('0x53')][_0x1a9f('0xcb8')]&&this[_0x1a9f('0xca5')]&&!this['isRealTimeUpdate']&&this[_0x1a9f('0x90')][_0x1a9f('0x2c7')]['target'][_0x1a9f('0x2cf')](_0x412f99['target'][_0x1a9f('0x42')])<Math['max'](0.25*_0x2822f9,0x64)||(_0x203633=(0x0,_0x3b33a8[_0x1a9f('0x58')])(_0x412f99['pitchAngle'],_0x412f99[_0x1a9f('0x2dc')]),_0x412f99[_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x203633),_0x412f99['position'][_0x1a9f('0x1bf')]()['multiplyScalar'](_0x2822f9)['add'](new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['x'],0x0,this[_0x1a9f('0x90')]['controls'][_0x1a9f('0xc7')]['z'])),_0x412f99[_0x1a9f('0xc7')][_0x1a9f('0x42')][_0x1a9f('0x1ba')](new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['x'],0x0,this[_0x1a9f('0x90')]['controls'][_0x1a9f('0xc7')]['z'])),_0x412f99[_0x1a9f('0xc7')][_0x1a9f('0x729')](!0x0),this[_0x1a9f('0x696')]['near']=0.4*_0x2822f9,this[_0x1a9f('0x696')]['far']=0.4*_0x2822f9*0x3,this[_0x1a9f('0x696')][_0x1a9f('0x641')](),_0x4cd775['debug']&&(_0x412f99[_0x1a9f('0x70e')][_0x1a9f('0x2e4')](),this[_0x1a9f('0xcb1')]&&this[_0x1a9f('0xcb1')][_0x1a9f('0x2e4')]()),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0,this[_0x1a9f('0xca5')]=!0x0));}},{'key':_0x1a9f('0x895'),'value':function(_0x412f99){var _0x4cd775=this,_0x3c4a03=_0x412f99['config'],_0x2822f9=_0x412f99[_0x1a9f('0x5e6')],_0x412f99=_0x412f99[_0x1a9f('0x918')],_0x412f99=void 0x0===_0x412f99?1.5:_0x412f99;void 0x0===_0x2822f9||_0x2822f9?new TWEEN['Tween']({'posX':this['shadowLight']['position']['x'],'posY':this['shadowLight'][_0x1a9f('0x42')]['y'],'posZ':this[_0x1a9f('0xcb5')][_0x1a9f('0x42')]['z'],'targetX':this[_0x1a9f('0xcb5')]['target'][_0x1a9f('0x42')]['x'],'targetY':this[_0x1a9f('0xcb5')][_0x1a9f('0xc7')]['position']['y'],'targetZ':this[_0x1a9f('0xcb5')][_0x1a9f('0xc7')][_0x1a9f('0x42')]['z']})['to']({'posX':_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0x42')]['x'],'posY':_0x3c4a03[_0x1a9f('0xca9')]['position']['y'],'posZ':_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0x42')]['z'],'targetX':_0x3c4a03[_0x1a9f('0xca9')]['target']['x'],'targetY':_0x3c4a03['shadowConfigs'][_0x1a9f('0xc7')]['y'],'targetZ':_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0xc7')]['z']},0x3e8*_0x412f99)['easing'](TWEEN[_0x1a9f('0x2ea')]['Linear']['None'])[_0x1a9f('0x43b')](function(){_0x4cd775[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0xcb4')]=!0x0;})['onUpdate'](function(_0x412f99){_0x4cd775[_0x1a9f('0xcb5')][_0x1a9f('0x42')]['set'](_0x412f99[_0x1a9f('0xcb9')],_0x412f99[_0x1a9f('0xcba')],_0x412f99[_0x1a9f('0xcbb')]),_0x4cd775[_0x1a9f('0xcb5')]['target'][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x412f99[_0x1a9f('0xcbc')],_0x412f99[_0x1a9f('0xcbd')],_0x412f99[_0x1a9f('0xcbe')]);})[_0x1a9f('0x2e5')](function(){_0x4cd775[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')]['autoUpdate']=!0x1,_0x4cd775[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x40c')]=!0x0,_0x4cd775[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0;})['start']():(this[_0x1a9f('0xcb5')][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0x42')]['x'],_0x3c4a03[_0x1a9f('0xca9')]['position']['y'],_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0x42')]['z']),this['shadowLight'][_0x1a9f('0xc7')][_0x1a9f('0x42')][_0x1a9f('0x1d')](_0x3c4a03['shadowConfigs']['target']['x'],_0x3c4a03[_0x1a9f('0xca9')][_0x1a9f('0xc7')]['y'],_0x3c4a03[_0x1a9f('0xca9')]['target']['z']),this[_0x1a9f('0x696')]=new THREE['PerspectiveCamera'](0x2d,0x1,_0x3c4a03[_0x1a9f('0xca9')]['nearFactor'],_0x3c4a03[_0x1a9f('0xca9')]['farFactor']));}},{'key':_0x1a9f('0xcbf'),'value':function(_0x412f99,_0x4cd775,_0x3c4a03,_0x2822f9){var _0x203633;_0x412f99&&_0x412f99[_0x1a9f('0x905')]&&(_0x203633=Math['max'](this['map']['controls'][_0x1a9f('0xcb7')](),0xfa0),_0x2822f9&&this['map']['controls'][_0x1a9f('0xc7')][_0x1a9f('0x2cf')](_0x412f99['tileBuildingLight'][_0x1a9f('0xc7')][_0x1a9f('0x42')])<Math['max'](0.25*_0x203633,0x64)||(_0x4cd775['position'][_0x1a9f('0x1d')](this[_0x1a9f('0x90')]['controls'][_0x1a9f('0xc7')]['x'],0x0,this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['z']),_0x4cd775[_0x1a9f('0x1d5')][_0x1a9f('0x1d')](0xa*_0x203633,0xa*_0x203633,0x1),_0x2822f9=(0x0,_0x3b33a8[_0x1a9f('0x58')])(_0x412f99[_0x1a9f('0x905')][_0x1a9f('0x2cc')],_0x412f99[_0x1a9f('0x905')]['directionAngle']),_0x412f99['tileBuildingLight'][_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x2822f9),_0x412f99[_0x1a9f('0x905')][_0x1a9f('0x42')][_0x1a9f('0x1bf')]()[_0x1a9f('0x1be')](_0x203633)[_0x1a9f('0x1c0')](new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')]['target']['x'],0x0,this[_0x1a9f('0x90')]['controls'][_0x1a9f('0xc7')]['z'])),_0x412f99[_0x1a9f('0x905')][_0x1a9f('0xc7')][_0x1a9f('0x42')][_0x1a9f('0x1ba')](new THREE[(_0x1a9f('0x1b5'))](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')]['target']['x'],0x0,this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['z'])),_0x412f99['tileBuildingLight'][_0x1a9f('0xc7')]['updateMatrixWorld'](!0x0),this[_0x1a9f('0x696')][_0x1a9f('0x313')]=0.7*_0x203633,this[_0x1a9f('0x696')][_0x1a9f('0x386')]=1.4*_0x203633,this[_0x1a9f('0x696')]['updateProjectionMatrix'](),_0x3c4a03[_0x1a9f('0x41f')]&&(_0x412f99['tileBuildingLight']['helper'][_0x1a9f('0x2e4')](),this[_0x1a9f('0xcb1')]['update']()),this['map'][_0x1a9f('0x447')]['renderer'][_0x1a9f('0x81d')][_0x1a9f('0x101')]=!0x0));}},{'key':_0x1a9f('0xcb2'),'value':function(_0x412f99){var _0x4cd775=(0x0,_0x3b33a8[_0x1a9f('0x498')])(0x0)[_0x1a9f('0x499')](0x1)[_0x1a9f('0x8c6')]([esmap[_0x1a9f('0x865')][_0x1a9f('0x989')],esmap[_0x1a9f('0x865')]['MODEL_BASE'],esmap['ESLayerType']['FLOOR_BASE']]),_0x3c4a03=!0x0,_0x2822f9=!0x1,_0x203633=void 0x0;try{for(var _0x3a6202,_0xabdedd=(0x0,_0x1cca35['default'])(_0x4cd775);!(_0x3c4a03=(_0x3a6202=_0xabdedd[_0x1a9f('0x79')]())['done']);_0x3c4a03=!0x0){var _0x40707d=_0x3a6202[_0x1a9f('0x11')],_0x177677=!0x0,_0x1020f5=!0x1,_0x3ce159=void 0x0;try{for(var _0x3559ea,_0x212799=(0x0,_0x1cca35['default'])(_0x40707d[_0x1a9f('0x49c')][_0x1a9f('0x32d')]);!(_0x177677=(_0x3559ea=_0x212799[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x177677=!0x0){var _0x224eb9=_0x3559ea[_0x1a9f('0x11')];if(_0x224eb9['datas_']['brothers']){var _0x111845=!0x0,_0x3946ab=!0x1,_0x136d22=void 0x0;try{for(var _0x14b9d6,_0x29f553=(0x0,_0x1cca35[_0x1a9f('0xa')])(_0x224eb9[_0x1a9f('0x46')][_0x1a9f('0x66e')]);!(_0x111845=(_0x14b9d6=_0x29f553[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x111845=!0x0){var _0x13b59c=_0x14b9d6['value'],_0x1d0f8c=+_0x412f99[_0x1a9f('0xcc0')]||0x5;if(_0x13b59c[_0x1a9f('0xcc1')]>_0x1d0f8c){_0x224eb9[_0x1a9f('0x69c')]=!0x0;break;}_0x224eb9[_0x1a9f('0x69d')]=!0x0;break;}}catch(_0x28bff4){_0x3946ab=!0x0,_0x136d22=_0x28bff4;}finally{try{!_0x111845&&_0x29f553[_0x1a9f('0xd0')]&&_0x29f553['return']();}finally{if(_0x3946ab)throw _0x136d22;}}}else _0x224eb9[_0x1a9f('0x69d')]=!0x0;_0x224eb9[_0x1a9f('0x46')][_0x1a9f('0xcc2')];}}catch(_0x541a85){_0x1020f5=!0x0,_0x3ce159=_0x541a85;}finally{try{!_0x177677&&_0x212799[_0x1a9f('0xd0')]&&_0x212799[_0x1a9f('0xd0')]();}finally{if(_0x1020f5)throw _0x3ce159;}}}}catch(_0x30935c){_0x2822f9=!0x0,_0x203633=_0x30935c;}finally{try{!_0x3c4a03&&_0xabdedd['return']&&_0xabdedd[_0x1a9f('0xd0')]();}finally{if(_0x2822f9)throw _0x203633;}}}},{'key':'setBuildingRoomShadow','value':function(_0x412f99,_0x4cd775){_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){'Mesh'===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69c')]=_0x4cd775,_0x412f99[_0x1a9f('0x69d')]=_0x4cd775,_0x412f99['material'][_0x1a9f('0x101')]=!0x0);});}},{'key':'setModelShadow','value':function(_0x412f99,_0x4cd775){var _0x3c4a03=this,_0x2822f9=+_0x4cd775['castMinHeight']||0x5;if(_0x412f99[_0x1a9f('0x66e')]){var _0x203633=!0x0,_0x3a6202=!0x1,_0xabdedd=void 0x0;try{for(var _0x5bfc29,_0x5a1a85=(0x0,_0x1cca35[_0x1a9f('0xa')])(_0x412f99['brothers']);!(_0x203633=(_0x5bfc29=_0x5a1a85[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x203633=!0x0){var _0x529071=_0x5bfc29[_0x1a9f('0x11')];_0x529071[_0x1a9f('0xcc1')]>_0x2822f9?_0x412f99[_0x1a9f('0x49c')]['traverse'](function(_0x412f99){'Mesh'===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69c')]=!0x0,_0x412f99[_0x1a9f('0x69d')]=!0x1);}):_0x412f99['o3d_'][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69d')]=!0x0,_0x412f99[_0x1a9f('0x69c')]=!0x1);}),-0x1!=_0x529071['model'][_0x1a9f('0xc4')](_0x1a9f('0xcc3'))?_0x412f99[_0x1a9f('0x49c')]['traverse'](function(_0x412f99){'Mesh'===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99['receiveShadow']=!0x0,_0x412f99[_0x1a9f('0x69c')]=!0x1);}):-0x1!=_0x529071[_0x1a9f('0x84f')]['indexOf']('-castShadow')?_0x412f99[_0x1a9f('0x49c')]['traverse'](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99['receiveShadow']=!0x1,_0x412f99['castShadow']=!0x0);}):-0x1!=_0x529071[_0x1a9f('0x84f')][_0x1a9f('0xc4')](_0x1a9f('0xcc4'))&&_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69d')]=!0x0,_0x412f99[_0x1a9f('0x69c')]=!0x0);});}}catch(_0x4bf99b){_0x3a6202=!0x0,_0xabdedd=_0x4bf99b;}finally{try{!_0x203633&&_0x5a1a85[_0x1a9f('0xd0')]&&_0x5a1a85[_0x1a9f('0xd0')]();}finally{if(_0x3a6202)throw _0xabdedd;}}}else _0x412f99[_0x1a9f('0xcc5')]&&(_0x412f99[_0x1a9f('0xcc1')]>_0x2822f9?_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){'Mesh'===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69c')]=!0x0,_0x412f99['receiveShadow']=!0x1);}):_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69d')]=!0x0,_0x412f99['castShadow']=!0x1);}),-0x1!=_0x412f99['model'][_0x1a9f('0xc4')](_0x1a9f('0xcc3'))?_0x412f99['o3d_'][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x332')===_0x412f99['type']&&(_0x412f99[_0x1a9f('0x69d')]=!0x0,_0x412f99[_0x1a9f('0x69c')]=!0x1);}):-0x1!=_0x412f99[_0x1a9f('0x84f')][_0x1a9f('0xc4')](_0x1a9f('0xcc6'))?_0x412f99['o3d_']['traverse'](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99['receiveShadow']=!0x1,_0x412f99[_0x1a9f('0x69c')]=!0x0);}):-0x1!=_0x412f99[_0x1a9f('0x84f')][_0x1a9f('0xc4')](_0x1a9f('0xcc4'))&&_0x412f99[_0x1a9f('0x49c')]['traverse'](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99['receiveShadow']=!0x0,_0x412f99[_0x1a9f('0x69c')]=!0x0);}));_0x4cd775[_0x1a9f('0xcc7')]&&(_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x0,!0x0);}),_0x412f99[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x412f99){_0x1a9f('0x346')!==_0x412f99['type']&&_0x1a9f('0x1e5')!==_0x412f99['type']||(_0x412f99[_0x1a9f('0x427')]&&-0x1<_0x412f99[_0x1a9f('0x427')][_0x1a9f('0xc4')]('__no_receive_shadow')?_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x0,!0x1):_0x412f99[_0x1a9f('0x427')]&&-0x1<_0x412f99['name']['indexOf'](_0x1a9f('0xcc9'))?_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x1,!0x0):_0x412f99['name']&&-0x1<_0x412f99[_0x1a9f('0x427')]['indexOf'](_0x1a9f('0xcca'))&&_0x3c4a03['setModelObjShadowConfig'](_0x412f99,!0x1,!0x1)),_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99['name']&&-0x1<_0x412f99[_0x1a9f('0x427')]['indexOf'](_0x1a9f('0xccb'))?_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x0,!0x1):_0x412f99[_0x1a9f('0x427')]&&-0x1<_0x412f99[_0x1a9f('0x427')][_0x1a9f('0xc4')](_0x1a9f('0xcc9'))?_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x1,!0x0):_0x412f99[_0x1a9f('0x427')]&&-0x1<_0x412f99[_0x1a9f('0x427')][_0x1a9f('0xc4')]('__no_shadow')&&_0x3c4a03[_0x1a9f('0xcc8')](_0x412f99,!0x1,!0x1));}));}},{'key':_0x1a9f('0xcc8'),'value':function(_0x412f99,_0x4cd775,_0x3c4a03){'Object3D'!==_0x412f99[_0x1a9f('0xc6')]&&_0x1a9f('0x1e5')!==_0x412f99[_0x1a9f('0xc6')]||_0x412f99[_0x1a9f('0x92')](function(_0x412f99){'Mesh'===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69c')]=_0x4cd775,_0x412f99[_0x1a9f('0x69d')]=_0x3c4a03);}),_0x1a9f('0x332')===_0x412f99[_0x1a9f('0xc6')]&&(_0x412f99[_0x1a9f('0x69c')]=_0x4cd775,_0x412f99[_0x1a9f('0x69d')]=_0x3c4a03);}},{'key':'setMergeMeshShadow','value':function(_0x412f99){var _0x4cd775=new THREE[(_0x1a9f('0xc72'))]({'depthPacking':THREE[_0x1a9f('0x702')]}),_0x3c4a03=this;_0x4cd775[_0x1a9f('0x3ea')]=function(_0x412f99){_0x412f99[_0x1a9f('0x16a')][_0x1a9f('0x6fa')]={'value':_0x3c4a03[_0x1a9f('0x696')][_0x1a9f('0x6fb')]},_0x412f99[_0x1a9f('0x56')]=_0x412f99['vertexShader']['replace'](_0x1a9f('0x6fd'),_0x1a9f('0x6fd')+_0x3c4a03[_0x1a9f('0x6c5')])[_0x1a9f('0x239')](_0x1a9f('0x463'),_0x1a9f('0x704')+_0x3c4a03[_0x1a9f('0x6e3')])[_0x1a9f('0x239')](_0x1a9f('0x46b'),_0x3c4a03[_0x1a9f('0x6ff')]);},_0x412f99['customDepthMaterial']=_0x4cd775;}},{'key':_0x1a9f('0xccc'),'value':function(){var _0x412f99=new THREE[(_0x1a9f('0xccd'))]()['setFromUnitVectors'](new THREE[(_0x1a9f('0x1b5'))](0x0,0x1,0x0),this[_0x1a9f('0xcb5')][_0x1a9f('0x42')]),_0x412f99=new THREE[(_0x1a9f('0x1b5'))](0x1,0x0,0x0)[_0x1a9f('0xcce')](_0x412f99);this[_0x1a9f('0xcb5')][_0x1a9f('0x42')]['applyAxisAngle'](_0x412f99,0x14);}}]),_0x4cd775['default']=_0xabdedd;},function(_0x39afea,_0x4bb783,_0x19379e){'use strict';Object[_0x1a9f('0x3')](_0x4bb783,'__esModule',{'value':!0x0});var _0x2d6806=_0x25ab82(_0x19379e(0x0)),_0x362c71=_0x25ab82(_0x19379e(0x1)),_0x15efdb=_0x19379e(0x1a);function _0x25ab82(_0x39afea){return _0x39afea&&_0x39afea[_0x1a9f('0x5')]?_0x39afea:{'default':_0x39afea};}function _0x331007(){(0x0,_0x2d6806[_0x1a9f('0xa')])(this,_0x331007),this[_0x1a9f('0x90')]=(0x0,_0x15efdb[_0x1a9f('0x33')])(),this[_0x1a9f('0x1d4')]=null;}(0x0,_0x362c71[_0x1a9f('0xa')])(_0x331007,[{'key':_0x1a9f('0x82d'),'value':function(_0x39afea){_0x1a9f('0x31c')===_0x39afea[_0x1a9f('0xc6')]&&(this[_0x1a9f('0x1d4')]=new THREE['Fog'](0xffffff,0x0,0x3e8),_0x39afea[_0x1a9f('0x21e')]&&this['fog']['color'][_0x1a9f('0x30c')](_0x39afea['color']),_0x39afea[_0x1a9f('0x313')]&&(this['fog'][_0x1a9f('0x313')]=_0x39afea['near']),_0x39afea[_0x1a9f('0x386')]&&(this['fog'][_0x1a9f('0x386')]=_0x39afea[_0x1a9f('0x386')]),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')]['fog']=this['fog']),'exp2'===_0x39afea[_0x1a9f('0xc6')]&&(this[_0x1a9f('0x1d4')]=new THREE[(_0x1a9f('0xccf'))](0xcccccc,0.002),_0x39afea['color']&&this[_0x1a9f('0x1d4')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x39afea[_0x1a9f('0x21e')]),_0x39afea['density']&&(this[_0x1a9f('0x1d4')][_0x1a9f('0xcd0')]=_0x39afea['density']),this[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1d4')]=this[_0x1a9f('0x1d4')]);}},{'key':_0x1a9f('0x2e4'),'value':function(_0x39afea){'linear'===_0x39afea['type']&&(_0x39afea[_0x1a9f('0x21e')]&&(this[_0x1a9f('0x1d4')]['color'][_0x1a9f('0x30c')](_0x39afea['color']),this['fog'][_0x1a9f('0xa20')]&&this[_0x1a9f('0x1d4')][_0x1a9f('0xa20')]['setStyle'](_0x39afea[_0x1a9f('0x21e')])),_0x39afea['near']&&(this[_0x1a9f('0x1d4')][_0x1a9f('0x313')]=_0x39afea['near']),_0x39afea[_0x1a9f('0x386')]&&(this['fog'][_0x1a9f('0x386')]=_0x39afea['far'])),_0x1a9f('0xcd1')===_0x39afea[_0x1a9f('0xc6')]&&(_0x39afea[_0x1a9f('0x21e')]&&(this[_0x1a9f('0x1d4')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x39afea['color']),this[_0x1a9f('0x1d4')][_0x1a9f('0xa20')]&&this[_0x1a9f('0x1d4')][_0x1a9f('0xa20')]['setStyle'](_0x39afea['color'])),_0x39afea['density']&&(this['fog'][_0x1a9f('0xcd0')]=_0x39afea[_0x1a9f('0xcd0')]));}}]),_0x4bb783[_0x1a9f('0xa')]=_0x331007;},function(_0x3e3d09,_0x9ac0e5,_0x246687){'use strict';Object['defineProperty'](_0x9ac0e5,_0x1a9f('0x5'),{'value':!0x0});var _0x100eed=_0x53f725(_0x246687(0x0)),_0x45a474=_0x53f725(_0x246687(0x1)),_0x3ef2d7=_0x246687(0x1a),_0x120c64=function(_0x3e3d09){if(_0x3e3d09&&_0x3e3d09[_0x1a9f('0x5')])return _0x3e3d09;var _0x9ac0e5={};if(null!=_0x3e3d09)for(var _0x246687 in _0x3e3d09)Object[_0x1a9f('0xb')]['hasOwnProperty'][_0x1a9f('0xd')](_0x3e3d09,_0x246687)&&(_0x9ac0e5[_0x246687]=_0x3e3d09[_0x246687]);return _0x9ac0e5['default']=_0x3e3d09,_0x9ac0e5;}(_0x246687(0x40));function _0x53f725(_0x3e3d09){return _0x3e3d09&&_0x3e3d09[_0x1a9f('0x5')]?_0x3e3d09:{'default':_0x3e3d09};}function _0x1225e8(){(0x0,_0x100eed['default'])(this,_0x1225e8),this[_0x1a9f('0x90')]=null,this[_0x1a9f('0x493')]=null;}(0x0,_0x45a474[_0x1a9f('0xa')])(_0x1225e8,[{'key':_0x1a9f('0x88d'),'value':function(_0x3e3d09){this[_0x1a9f('0x90')]=(0x0,_0x3ef2d7['getMapInstance'])();var _0x9ac0e5=(0x0,_0x3ef2d7[_0x1a9f('0x37')])(_0x3e3d09['position']['x'],_0x3e3d09['position']['y']),_0x9ac0e5=new THREE[(_0x1a9f('0x1b5'))](_0x9ac0e5['x'],_0x3e3d09[_0x1a9f('0x42')][_0x1a9f('0x33b')],_0x9ac0e5['y']),_0x246687=(0x0,_0x3ef2d7['innerCoordTransToThree'])(_0x3e3d09[_0x1a9f('0xc7')]['x'],_0x3e3d09[_0x1a9f('0xc7')]['y']),_0x246687=new THREE['Vector3'](_0x246687['x'],_0x3e3d09['target'][_0x1a9f('0x33b')],_0x246687['y']);return this[_0x1a9f('0x493')]=new _0x120c64[(_0x1a9f('0x9b'))]({'map':this[_0x1a9f('0x90')],'position':_0x9ac0e5,'target':_0x246687,'receiveLayer':_0x3e3d09[_0x1a9f('0x710')],'far':_0x3e3d09[_0x1a9f('0x386')],'fov':_0x3e3d09[_0x1a9f('0x708')],'videoAspect':_0x3e3d09[_0x1a9f('0x709')],'isShowHelper':_0x3e3d09['showProjectorRange'],'isShowFarPlane':_0x3e3d09[_0x1a9f('0xcd2')]}),this[_0x1a9f('0x493')];}},{'key':_0x1a9f('0x71d'),'value':function(_0x3e3d09,_0x9ac0e5){this['video']&&this['video'][_0x1a9f('0x71d')](_0x3e3d09?_0x1a9f('0xcd3'):_0x1a9f('0x3f1'));}},{'key':_0x1a9f('0xcd4'),'value':function(_0x3e3d09){this[_0x1a9f('0x493')]&&(_0x3e3d09=new THREE[(_0x1a9f('0x1b5'))](_0x3e3d09['x'],_0x3e3d09['y'],_0x3e3d09['z']),this['video'][_0x1a9f('0x735')](_0x3e3d09));}},{'key':'isLockCameraControls','value':function(_0x3e3d09){this[_0x1a9f('0x493')]&&this[_0x1a9f('0x493')]['isLockCameraControls'](_0x3e3d09);}},{'key':'clear','value':function(){this[_0x1a9f('0x493')]&&(this[_0x1a9f('0x493')][_0x1a9f('0x8f')](),this['video']=null);}}]),_0x9ac0e5[_0x1a9f('0xa')]=_0x1225e8;},function(_0x45b8f2,_0x3fad94,_0x3927bd){'use strict';Object[_0x1a9f('0x3')](_0x3fad94,_0x1a9f('0x5'),{'value':!0x0});var _0x131cc4=_0x16e060(_0x3927bd(0x0));function _0x16e060(_0x45b8f2){return _0x45b8f2&&_0x45b8f2[_0x1a9f('0x5')]?_0x45b8f2:{'default':_0x45b8f2};}function _0x5b67e6(){(0x0,_0x131cc4[_0x1a9f('0xa')])(this,_0x5b67e6),this['isCanRender']=!0x1,this[_0x1a9f('0xcd5')]=[];}(0x0,_0x16e060(_0x3927bd(0x1))['default'])(_0x5b67e6,[{'key':_0x1a9f('0x1c0'),'value':function(_0x45b8f2){this[_0x1a9f('0xcd5')][_0x1a9f('0x70')](_0x45b8f2);}},{'key':_0x1a9f('0x93'),'value':function(_0x45b8f2){_0x45b8f2=this['allMarkerList'][_0x1a9f('0xc4')](_0x45b8f2);-0x1<_0x45b8f2&&this[_0x1a9f('0xcd5')][_0x1a9f('0xc5')](_0x45b8f2,0x1);}},{'key':_0x1a9f('0x340'),'value':function(_0x45b8f2){if(this['isCanRender'])for(var _0x3fad94=0x0,_0x3927bd=this[_0x1a9f('0xcd5')][_0x1a9f('0xf')];_0x3fad94<_0x3927bd;_0x3fad94++)this['allMarkerList'][_0x3fad94][_0x1a9f('0x504')](_0x45b8f2);}},{'key':_0x1a9f('0x2f4'),'value':function(){this[_0x1a9f('0xcd5')][_0x1a9f('0xf')]=0x0;}},{'key':_0x1a9f('0x8f'),'value':function(){for(var _0x45b8f2=0x0,_0x3fad94=this[_0x1a9f('0xcd5')][_0x1a9f('0xf')];_0x45b8f2<_0x3fad94;_0x45b8f2++)this['allMarkerList'][_0x45b8f2][_0x1a9f('0x8f')]();this[_0x1a9f('0xcd5')][_0x1a9f('0xf')]=0x0;}}]),_0x3fad94[_0x1a9f('0xa')]=_0x5b67e6;},function(_0xead927,_0x47993e,_0x278436){'use strict';Object[_0x1a9f('0x3')](_0x47993e,_0x1a9f('0x5'),{'value':!0x0});var _0x951110=_0x5bc7d3(_0x278436(0x0)),_0x30f331=_0x5bc7d3(_0x278436(0x1)),_0x40f576=_0x5bc7d3(_0x278436(0x10e)),_0x5f34ce=_0x5bc7d3(_0x278436(0x3b)),_0x4de215=_0x5bc7d3(_0x278436(0x74));function _0x5bc7d3(_0xead927){return _0xead927&&_0xead927[_0x1a9f('0x5')]?_0xead927:{'default':_0xead927};}function _0x5e384e(){_0x407002['update']();}var _0x407002=null,_0x278436=((0x0,_0x30f331['default'])(_0x1766f4,[{'key':_0x1a9f('0x7e9'),'value':function(){_0x407002=new _0x40f576[(_0x1a9f('0xa'))](this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x314')],this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0xcd6')]),this[_0x1a9f('0xcd7')]=new _0x4de215[(_0x1a9f('0xa'))](this['map'],_0x407002),_0x407002[_0x1a9f('0x40c')]=!0x0,_0x407002['enablePan']=!0x1,_0x407002[_0x1a9f('0x2ee')]=!0x1,_0x407002[_0x1a9f('0x72b')]=0.00001;var _0xead927=this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0xc7')][_0x1a9f('0x1af')]()['sub'](this['map'][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')]['clone']())[_0x1a9f('0x1bf')](),_0xead927=this['map'][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')][_0x1a9f('0x1af')]()[_0x1a9f('0x1c0')](_0xead927[_0x1a9f('0x1be')](0.00001));_0x407002['object'][_0x1a9f('0x42')][_0x1a9f('0x1ba')](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')]),_0x407002[_0x1a9f('0xc7')][_0x1a9f('0x1ba')](_0xead927),_0x407002[_0x1a9f('0x6')][_0x1a9f('0x40b')](_0xead927),this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x40c')]=!0x1,this[_0x1a9f('0x90')]['mapView']['renderer'][_0x1a9f('0xcd8')]=!0x1,_0x407002['autoRotate']=!0x1,_0x407002['autoRotateSpeed']=0.4,_0x407002['rotateSpeed']=0.5,this[_0x1a9f('0x90')]['on'](_0x1a9f('0x2e4'),_0x5e384e);}},{'key':_0x1a9f('0x7eb'),'value':function(){_0x407002[_0x1a9f('0x8f')](),_0x407002=null,this[_0x1a9f('0x90')]['controls'][_0x1a9f('0x40c')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0xcd8')]=!0x0,this[_0x1a9f('0x90')]['off']('update',_0x5e384e);}},{'key':_0x1a9f('0xcd9'),'value':function(){_0x407002[_0x1a9f('0x8f')](),_0x407002=null,this['map']['controls']['enabled']=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x4b1')][_0x1a9f('0xcd8')]=!0x0,this[_0x1a9f('0x90')][_0x1a9f('0xcda')](_0x1a9f('0x2e4'),_0x5e384e);var _0xead927=this[_0x1a9f('0x90')][_0x1a9f('0x7e5')](0x0);_0xead927&&(this['map'][_0x1a9f('0x2c7')][_0x1a9f('0xc7')][_0x1a9f('0x1ba')](_0xead927),this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x40b')](_0xead927),this['map'][_0x1a9f('0x2c7')][_0x1a9f('0x2e4')]());}},{'key':_0x1a9f('0xcdb'),'value':function(_0xead927,_0x47993e,_0x278436){new TWEEN['Tween']({'angle':_0xead927})['to']({'angle':_0x47993e},0x3e8)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')][_0x1a9f('0x2eb')])['onUpdate'](function(_0xead927,_0x47993e){_0x407002['update']({'forcePhi':THREE[_0x1a9f('0x18')]['degToRad'](_0xead927[_0x1a9f('0x1ec')])});})[_0x1a9f('0x2e5')](function(){_0x278436&&_0x278436();})['start']();}},{'key':_0x1a9f('0xcdc'),'value':function(_0xead927){_0xead927[_0x1a9f('0xcdd')];var _0xead927=_0xead927['radius'],_0x47993e=this,_0x278436=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](esmap['ESEffectTool']['configPath']+_0x1a9f('0x7d1')),_0xead927=new THREE[(_0x1a9f('0x3f0'))](_0xead927,_0xead927),_0x278436=new THREE[(_0x1a9f('0x3e9'))]({'map':_0x278436,'transparent':!0x0});this[_0x1a9f('0xcde')]=new THREE[(_0x1a9f('0x332'))](_0xead927,_0x278436),this[_0x1a9f('0xcde')][_0x1a9f('0x323')]=0x46,this['map']['mapView'][_0x1a9f('0x443')][_0x1a9f('0x1c0')](this[_0x1a9f('0xcde')]),this[_0x1a9f('0x90')]['on'](_0x1a9f('0x34c'),function(_0xead927){_0x47993e['pickAnimateObj']&&_0xead927[_0x1a9f('0xcdf')]&&_0xead927[_0x1a9f('0x6')]&&'Mesh'===_0xead927[_0x1a9f('0x6')][_0x1a9f('0xc6')]&&'floor'===_0xead927[_0x1a9f('0x6')][_0x1a9f('0x73d')]&&!_0x47993e[_0x1a9f('0xce0')]&&_0x47993e[_0x1a9f('0xce1')](_0xead927);});}},{'key':'updateGroundPick','value':function(_0xead927){this[_0x1a9f('0xce0')]=!0x0;var _0x47993e,_0x278436=_0xead927[_0x1a9f('0x336')][_0x1a9f('0x1af')](),_0x951110=this[_0x1a9f('0x90')][_0x1a9f('0x9d5')](_0x278436);this['checkIsCanMove'](_0x951110)?((_0x951110=_0xead927['face'][_0x1a9f('0x960')][_0x1a9f('0x1af')]())[_0x1a9f('0xce2')](_0xead927[_0x1a9f('0x6')][_0x1a9f('0x38c')]),_0x951110[_0x1a9f('0x1be')](0.1),_0x951110[_0x1a9f('0x1c0')](_0x278436),(_0x47993e=_0xead927[_0x1a9f('0xcdf')]['normal']['clone']())[_0x1a9f('0xce2')](_0xead927[_0x1a9f('0x6')][_0x1a9f('0x38c')]),_0x47993e['multiplyScalar'](0.05),_0x47993e['add'](_0x278436),this[_0x1a9f('0xcde')][_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x47993e),this[_0x1a9f('0xcde')][_0x1a9f('0x40b')](_0x951110),this[_0x1a9f('0xce3')](new THREE['Vector3'](_0x47993e['x'],this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x314')][_0x1a9f('0x42')]['y'],_0x47993e['z']))):this[_0x1a9f('0xce0')]=!0x1;}},{'key':_0x1a9f('0xce4'),'value':function(_0xead927){_0xead927=this[_0x1a9f('0x90')][_0x1a9f('0x727')]({'startCoord':{'x':_0xead927['x'],'y':_0xead927['y'],'z':0x3},'endCoord':{'x':_0xead927['x'],'y':_0xead927['y'],'z':0x0},'debug':!0x1,'mode':_0x1a9f('0x1e4')});if(_0xead927&&0x3*0.99<0x3-_0xead927[_0x1a9f('0x336')]['y'])return!0x0;return!0x1;}},{'key':_0x1a9f('0xce3'),'value':function(_0xead927){this[_0x1a9f('0xce0')]=!0x1;var _0x278436,_0x47993e=_0xead927[_0x1a9f('0x1af')]()['distanceTo'](this['map'][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')]),_0x47993e=(_0x407002[_0x1a9f('0xce5')]=_0x278436=0.1*_0x47993e,_0x407002['target']['clone']()[_0x1a9f('0x306')](this[_0x1a9f('0x90')]['controls'][_0x1a9f('0x6')][_0x1a9f('0x42')][_0x1a9f('0x1af')]())[_0x1a9f('0x1bf')]()),_0x47993e=this['map'][_0x1a9f('0x2c7')]['object'][_0x1a9f('0x42')][_0x1a9f('0x1af')]()[_0x1a9f('0x1c0')](_0x47993e['multiplyScalar'](_0x278436));_0x407002[_0x1a9f('0xc7')]=_0x47993e,new TWEEN[(_0x1a9f('0x2e0'))](_0x407002[_0x1a9f('0xc7')])['to'](_0xead927,0x7d0)[_0x1a9f('0x2e9')](TWEEN[_0x1a9f('0x2ea')][_0x1a9f('0x2e1')][_0x1a9f('0xce6')])[_0x1a9f('0x2e3')](function(_0xead927,_0x47993e){_0x407002[_0x1a9f('0xce5')]=(_0x278436-0.00001)*(0x1-_0x47993e)+0.00001;})['onComplete'](function(){})['start']();}},{'key':_0x1a9f('0xce7'),'value':function(_0xead927){var _0x47993e=this,_0x278436=_0xead927[_0x1a9f('0x1af')]()[_0x1a9f('0x306')](this[_0x1a9f('0x90')][_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')][_0x1a9f('0x1af')]())[_0x1a9f('0x1bf')](),_0x278436=_0xead927['clone']()[_0x1a9f('0x1c0')](_0x278436[_0x1a9f('0x1be')](0.00001));THREE['Math']['radToDeg'](_0x407002[_0x1a9f('0xce8')]()),THREE[_0x1a9f('0x18')]['radToDeg'](_0x407002[_0x1a9f('0xce9')]()),_0x47993e[_0x1a9f('0xcd7')][_0x1a9f('0x2da')](_0xead927[_0x1a9f('0x1af')](),_0x278436,0x7d0,function(){_0x47993e['isLockGroundPick']=!0x1;});}},{'key':_0x1a9f('0xcea'),'value':function(_0xead927,_0x47993e){_0x407002[_0x1a9f('0xc7')][_0x1a9f('0x1ba')](_0x47993e),new TWEEN[(_0x1a9f('0x2e0'))](_0xead927)['to'](_0x47993e,0x7d0)['easing'](TWEEN['Easing']['Quadratic'][_0x1a9f('0x2eb')])['onUpdate'](function(_0xead927,_0x47993e){_0x47993e<0.99&&_0x407002[_0x1a9f('0x6')][_0x1a9f('0x42')]['copy'](_0xead927);})['start']();}},{'key':_0x1a9f('0xceb'),'value':function(_0xead927,_0x47993e){_0x47993e=new THREE['Mesh'](new THREE[(_0x1a9f('0x472'))](0x2),new THREE[(_0x1a9f('0x3e9'))]({'color':_0x47993e}));_0x47993e[_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0xead927),this[_0x1a9f('0x90')][_0x1a9f('0x447')][_0x1a9f('0x443')][_0x1a9f('0x1c0')](_0x47993e);}},{'key':_0x1a9f('0xcec'),'value':function(){_0x5f34ce[_0x1a9f('0xa')][_0x1a9f('0xced')](this[_0x1a9f('0xcde')]),this[_0x1a9f('0xcde')]=null;}}]),_0x1766f4);function _0x1766f4(_0xead927){(0x0,_0x951110['default'])(this,_0x1766f4),this['map']=_0xead927,this[_0x1a9f('0xcde')]=null,this[_0x1a9f('0xcee')]=new _0x4de215[(_0x1a9f('0xa'))](this['map'],this['map'][_0x1a9f('0x2c7')]),this[_0x1a9f('0xcd7')]=null,this[_0x1a9f('0xce0')]=!0x1;}_0x47993e['default']=_0x278436;},function(_0x4fd50f,_0x18d511,_0x9a0af7){'use strict';Object[_0x1a9f('0x3')](_0x18d511,_0x1a9f('0x5'),{'value':!0x0});var _0x26a271=_0x4adcc7(_0x9a0af7(0x59)),_0x9a0af7=_0x4adcc7(_0x9a0af7(0x22));function _0x4adcc7(_0x4fd50f){return _0x4fd50f&&_0x4fd50f[_0x1a9f('0x5')]?_0x4fd50f:{'default':_0x4fd50f};}function _0x364cd0(_0x4fd50f,_0x18d511){this[_0x1a9f('0x6')]=_0x4fd50f,this[_0x1a9f('0xcef')]=void 0x0!==_0x18d511?_0x18d511:document,this[_0x1a9f('0x40c')]=!0x0,this['target']=new THREE['Vector3'](),this[_0x1a9f('0x72b')]=0x0,this[_0x1a9f('0xce5')]=0x1/0x0,this[_0x1a9f('0xcf0')]=0x0,this[_0x1a9f('0xcf1')]=0x1/0x0,this[_0x1a9f('0xcf2')]=0x0,this[_0x1a9f('0xcf3')]=Math['PI'],this[_0x1a9f('0xcf4')]=-0x1/0x0,this[_0x1a9f('0xcf5')]=0x1/0x0,this[_0x1a9f('0xcf6')]=!0x1,this[_0x1a9f('0xcf7')]=0.25,this[_0x1a9f('0x2ee')]=!0x0,this['zoomSpeed']=0x1,this[_0x1a9f('0x2ed')]=!0x0,this[_0x1a9f('0x59e')]=0x1,this[_0x1a9f('0x2ec')]=!0x0,this[_0x1a9f('0xcf8')]=0x1,this[_0x1a9f('0xcf9')]=!0x1,this[_0x1a9f('0xcfa')]=0x7,this['autoRotate']=!0x1,this['autoRotateSpeed']=0x2,this['enableKeys']=!0x0,this[_0x1a9f('0x20')]={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this['mouseButtons']={'LEFT':THREE[_0x1a9f('0xcfb')][_0x1a9f('0xcfc')],'MIDDLE':THREE[_0x1a9f('0xcfb')][_0x1a9f('0xcfd')],'RIGHT':THREE[_0x1a9f('0xcfb')][_0x1a9f('0xcfe')]},this['target0']=this[_0x1a9f('0xc7')][_0x1a9f('0x1af')](),this[_0x1a9f('0xcff')]=this[_0x1a9f('0x6')]['position'][_0x1a9f('0x1af')](),this[_0x1a9f('0xd00')]=this[_0x1a9f('0x6')][_0x1a9f('0xd01')],this[_0x1a9f('0xce8')]=function(){return _0x2c7a45[_0x1a9f('0x483')];},this[_0x1a9f('0xce9')]=function(){return _0x2c7a45['theta'];},this[_0x1a9f('0xd02')]=function(){_0x2590f8[_0x1a9f('0xd03')]['copy'](_0x2590f8[_0x1a9f('0xc7')]),_0x2590f8[_0x1a9f('0xcff')]['copy'](_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x42')]),_0x2590f8[_0x1a9f('0xd00')]=_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')];},this[_0x1a9f('0x20c')]=function(){_0x2590f8[_0x1a9f('0xc7')][_0x1a9f('0x1ba')](_0x2590f8[_0x1a9f('0xd03')]),_0x2590f8['object'][_0x1a9f('0x42')][_0x1a9f('0x1ba')](_0x2590f8[_0x1a9f('0xcff')]),_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')]=_0x2590f8[_0x1a9f('0xd00')],_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x641')](),_0x2590f8[_0x1a9f('0x44b')](_0x37844b),_0x2590f8[_0x1a9f('0x2e4')](),_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')];},this[_0x1a9f('0x2e4')]=(_0x9a0af7=new THREE['Vector3'](),_0x26a271=new THREE['Quaternion']()[_0x1a9f('0xd05')](_0x4fd50f['up'],new THREE[(_0x1a9f('0x1b5'))](0x0,0x1,0x0)),_0x4adcc7=_0x26a271['clone']()[_0x1a9f('0xd06')](),_0x364cd0=new THREE[(_0x1a9f('0x1b5'))](),_0x2ea67d=new THREE[(_0x1a9f('0xccd'))](),function(_0x4fd50f){var _0x18d511=_0x2590f8[_0x1a9f('0x6')]['position'];return _0x9a0af7['copy'](_0x18d511)['sub'](_0x2590f8[_0x1a9f('0xc7')]),_0x9a0af7[_0x1a9f('0xcce')](_0x26a271),_0x2c7a45['setFromVector3'](_0x9a0af7),_0x2590f8[_0x1a9f('0xd07')]&&_0x2418d3===_0x5cec0d[_0x1a9f('0xd04')]&&_0x4c2146(0x2*Math['PI']/0x3c/0x3c*_0x2590f8['autoRotateSpeed']),_0x2c7a45['theta']+=_0x574d4d[_0x1a9f('0x478')],_0x2c7a45[_0x1a9f('0x483')]+=_0x574d4d['phi'],_0x4fd50f&&(_0x4fd50f[_0x1a9f('0xc')]('forceTheta')&&(_0x2c7a45[_0x1a9f('0x478')]=_0x4fd50f[_0x1a9f('0xd08')],_0x574d4d['theta']=0x0),_0x4fd50f[_0x1a9f('0xc')](_0x1a9f('0xd09'))&&(_0x2c7a45['phi']=_0x4fd50f[_0x1a9f('0xd09')],_0x574d4d[_0x1a9f('0x483')]=0x0),_0x4fd50f['hasOwnProperty'](_0x1a9f('0xd0a'))&&(_0x2c7a45[_0x1a9f('0x21c')]=_0x4fd50f[_0x1a9f('0xd0a')],_0x232223=0x1)),_0x2c7a45[_0x1a9f('0x478')]=Math[_0x1a9f('0xd9')](_0x2590f8[_0x1a9f('0xcf4')],Math[_0x1a9f('0xda')](_0x2590f8[_0x1a9f('0xcf5')],_0x2c7a45[_0x1a9f('0x478')])),_0x2c7a45['phi']=Math[_0x1a9f('0xd9')](_0x2590f8['minPolarAngle'],Math[_0x1a9f('0xda')](_0x2590f8[_0x1a9f('0xcf3')],_0x2c7a45[_0x1a9f('0x483')])),_0x2c7a45['makeSafe'](),_0x2c7a45[_0x1a9f('0x21c')]*=_0x232223,_0x2c7a45[_0x1a9f('0x21c')]=Math[_0x1a9f('0xd9')](_0x2590f8[_0x1a9f('0x72b')],Math[_0x1a9f('0xda')](_0x2590f8[_0x1a9f('0xce5')],_0x2c7a45[_0x1a9f('0x21c')])),_0x2590f8[_0x1a9f('0xc7')][_0x1a9f('0x1c0')](_0x372a61),_0x9a0af7[_0x1a9f('0xd0b')](_0x2c7a45),_0x9a0af7[_0x1a9f('0xcce')](_0x4adcc7),_0x18d511['copy'](_0x2590f8[_0x1a9f('0xc7')])[_0x1a9f('0x1c0')](_0x9a0af7),_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x40b')](_0x2590f8['target']),!0x0===_0x2590f8[_0x1a9f('0xcf6')]?(_0x574d4d[_0x1a9f('0x478')]*=0x1-_0x2590f8[_0x1a9f('0xcf7')],_0x574d4d[_0x1a9f('0x483')]*=0x1-_0x2590f8['dampingFactor'],_0x372a61[_0x1a9f('0x1be')](0x1-_0x2590f8[_0x1a9f('0xcf7')])):(_0x574d4d[_0x1a9f('0x1d')](0x0,0x0,0x0),_0x372a61[_0x1a9f('0x1d')](0x0,0x0,0x0)),_0x232223=0x1,!(!(_0x4350a5||_0x364cd0[_0x1a9f('0xd0c')](_0x2590f8['object'][_0x1a9f('0x42')])>_0x4f05f7||0x8*(0x1-_0x2ea67d[_0x1a9f('0x962')](_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd0d')]))>_0x4f05f7)||(_0x2590f8[_0x1a9f('0x44b')](_0x37844b),_0x364cd0['copy'](_0x2590f8[_0x1a9f('0x6')]['position']),_0x2ea67d[_0x1a9f('0x1ba')](_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd0d')]),_0x4350a5=!0x1));}),this[_0x1a9f('0x8f')]=function(){_0x2590f8['domElement'][_0x1a9f('0x351')](_0x1a9f('0xd0e'),_0x1653af,!0x1),_0x2590f8[_0x1a9f('0xcef')]['removeEventListener'](_0x1a9f('0xd0f'),_0x4bac38,!0x1),_0x2590f8['domElement'][_0x1a9f('0x351')](_0x1a9f('0xd10'),_0x35be0c,!0x1),_0x2590f8[_0x1a9f('0xcef')]['removeEventListener']('touchstart',_0x580fcf,!0x1),_0x2590f8['domElement'][_0x1a9f('0x351')]('touchend',_0x134bd9,!0x1),_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0x351')](_0x1a9f('0xd11'),_0x55fd9b,!0x1),document[_0x1a9f('0x351')](_0x1a9f('0xd12'),_0xf7b145,!0x1),document['removeEventListener']('mouseup',_0x2ffc9f,!0x1),window['removeEventListener'](_0x1a9f('0xd13'),_0x1139bf,!0x1);};var _0x9a0af7,_0x26a271,_0x4adcc7,_0x364cd0,_0x2ea67d,_0x2590f8=this,_0x37844b={'type':_0x1a9f('0xd14')},_0x37c3fa={'type':_0x1a9f('0x2e2')},_0x4db98e={'type':_0x1a9f('0xd15')},_0x5cec0d={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')],_0x4f05f7=0.000001,_0x2c7a45=new THREE[(_0x1a9f('0xca7'))](),_0x574d4d=new THREE[(_0x1a9f('0xca7'))](),_0x232223=0x1,_0x372a61=new THREE['Vector3'](),_0x4350a5=!0x1,_0x4121b5=new THREE[(_0x1a9f('0x1b3'))](),_0x5add87=new THREE[(_0x1a9f('0x1b3'))](),_0x54f62b=new THREE[(_0x1a9f('0x1b3'))](),_0x34083a=new THREE[(_0x1a9f('0x1b3'))](),_0x159d6a=new THREE[(_0x1a9f('0x1b3'))](),_0xc0df30=new THREE['Vector2'](),_0x5a31d2=new THREE[(_0x1a9f('0x1b3'))](),_0x38396b=new THREE['Vector2'](),_0x195dc1=new THREE[(_0x1a9f('0x1b3'))]();function _0x3988f3(){return Math[_0x1a9f('0x31f')](0.95,_0x2590f8[_0x1a9f('0x2ca')]);}function _0x4c2146(_0x4fd50f){_0x574d4d[_0x1a9f('0x478')]-=_0x4fd50f;}function _0xcc8de1(_0x4fd50f){_0x574d4d[_0x1a9f('0x483')]-=_0x4fd50f;}function _0x469949(_0x4fd50f,_0x18d511){_0x520b36[_0x1a9f('0xd16')](_0x18d511,0x0),_0x520b36[_0x1a9f('0x1be')](-_0x4fd50f),_0x372a61[_0x1a9f('0x1c0')](_0x520b36);}function _0x213036(_0x4fd50f,_0x18d511){!0x0===_0x2590f8[_0x1a9f('0xcf9')]?_0x51499f[_0x1a9f('0xd16')](_0x18d511,0x1):(_0x51499f[_0x1a9f('0xd16')](_0x18d511,0x0),_0x51499f['crossVectors'](_0x2590f8[_0x1a9f('0x6')]['up'],_0x51499f)),_0x51499f['multiplyScalar'](_0x4fd50f),_0x372a61[_0x1a9f('0x1c0')](_0x51499f);}var _0x520b36,_0x51499f,_0xe0a187,_0x520b36=new THREE['Vector3'](),_0x243e3d=(_0x51499f=new THREE[(_0x1a9f('0x1b5'))](),_0xe0a187=new THREE['Vector3'](),function(_0x4fd50f,_0x18d511){var _0x9a0af7,_0x26a271=_0x2590f8[_0x1a9f('0xcef')]===document?_0x2590f8['domElement'][_0x1a9f('0xd17')]:_0x2590f8[_0x1a9f('0xcef')];_0x2590f8[_0x1a9f('0x6')]['isPerspectiveCamera']?(_0x9a0af7=_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x42')],_0xe0a187[_0x1a9f('0x1ba')](_0x9a0af7)[_0x1a9f('0x306')](_0x2590f8[_0x1a9f('0xc7')]),_0x9a0af7=_0xe0a187[_0x1a9f('0xf')](),_0x9a0af7*=Math[_0x1a9f('0x95d')](_0x2590f8[_0x1a9f('0x6')]['fov']/0x2*Math['PI']/0xb4),_0x469949(0x2*_0x4fd50f*_0x9a0af7/_0x26a271[_0x1a9f('0xd18')],_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x76c')]),_0x213036(0x2*_0x18d511*_0x9a0af7/_0x26a271[_0x1a9f('0xd18')],_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x76c')])):_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd19')]?(_0x469949(_0x4fd50f*(_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x742')]-_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x35b')])/_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')]/_0x26a271[_0x1a9f('0xd1a')],_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x76c')]),_0x213036(_0x18d511*(_0x2590f8[_0x1a9f('0x6')]['top']-_0x2590f8['object']['bottom'])/_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')]/_0x26a271[_0x1a9f('0xd18')],_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0x76c')])):_0x2590f8[_0x1a9f('0x2ec')]=!0x1;});function _0x56a670(_0x4fd50f){_0x2590f8[_0x1a9f('0x6')]['isPerspectiveCamera']?_0x232223/=_0x4fd50f:_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd19')]?(_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')]=Math['max'](_0x2590f8['minZoom'],Math['min'](_0x2590f8[_0x1a9f('0xcf1')],_0x2590f8[_0x1a9f('0x6')]['zoom']*_0x4fd50f)),_0x2590f8[_0x1a9f('0x6')]['updateProjectionMatrix'](),_0x4350a5=!0x0):_0x2590f8[_0x1a9f('0x2ee')]=!0x1;}function _0x5ab152(_0x4fd50f){_0x2590f8['object']['isPerspectiveCamera']?_0x232223*=_0x4fd50f:_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd19')]?(_0x2590f8[_0x1a9f('0x6')][_0x1a9f('0xd01')]=Math['max'](_0x2590f8[_0x1a9f('0xcf0')],Math['min'](_0x2590f8['maxZoom'],_0x2590f8['object'][_0x1a9f('0xd01')]/_0x4fd50f)),_0x2590f8['object'][_0x1a9f('0x641')](),_0x4350a5=!0x0):_0x2590f8[_0x1a9f('0x2ee')]=!0x1;}function _0x5ed91e(_0x4fd50f){_0x34083a['set'](_0x4fd50f[_0x1a9f('0x357')],_0x4fd50f[_0x1a9f('0x35a')]);}function _0x4bac38(_0x4fd50f){if(!0x1!==_0x2590f8[_0x1a9f('0x40c')]){switch(_0x4fd50f[_0x1a9f('0xd1b')](),(_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0xd1c')]?_0x2590f8[_0x1a9f('0xcef')]:window)[_0x1a9f('0xd1c')](),_0x4fd50f[_0x1a9f('0xd1d')]){case _0x2590f8['mouseButtons'][_0x1a9f('0xcfc')]:if(_0x4fd50f['ctrlKey']||_0x4fd50f['metaKey']||_0x4fd50f[_0x1a9f('0xd1e')]){if(!0x1===_0x2590f8[_0x1a9f('0x2ec')])return;_0x5ed91e(_0x4fd50f),_0x2418d3=_0x5cec0d['PAN'];}else{if(!0x1===_0x2590f8[_0x1a9f('0x2ed')])return;_0x4121b5[_0x1a9f('0x1d')](_0x4fd50f[_0x1a9f('0x357')],_0x4fd50f[_0x1a9f('0x35a')]),_0x2418d3=_0x5cec0d[_0x1a9f('0xd1f')];}break;case _0x2590f8['mouseButtons'][_0x1a9f('0xcfd')]:if(!0x1===_0x2590f8[_0x1a9f('0x2ee')])return;_0x5a31d2[_0x1a9f('0x1d')](_0x4fd50f[_0x1a9f('0x357')],_0x4fd50f[_0x1a9f('0x35a')]),_0x2418d3=_0x5cec0d[_0x1a9f('0xd20')];break;case _0x2590f8[_0x1a9f('0xd21')][_0x1a9f('0xcfe')]:if(!0x1===_0x2590f8[_0x1a9f('0x2ec')])return;_0x5ed91e(_0x4fd50f),_0x2418d3=_0x5cec0d[_0x1a9f('0xd22')];}_0x2418d3!==_0x5cec0d[_0x1a9f('0xd04')]&&(document[_0x1a9f('0x2b5')](_0x1a9f('0xd12'),_0xf7b145,!0x1),document[_0x1a9f('0x2b5')](_0x1a9f('0xd23'),_0x2ffc9f,!0x1),_0x2590f8[_0x1a9f('0x44b')](_0x37c3fa));}}function _0xf7b145(_0x4fd50f){var _0x18d511;if(!0x1!==_0x2590f8[_0x1a9f('0x40c')])switch(_0x4fd50f[_0x1a9f('0xd1b')](),_0x2418d3){case _0x5cec0d[_0x1a9f('0xd1f')]:if(!0x1===_0x2590f8[_0x1a9f('0x2ed')])return;_0x5add87[_0x1a9f('0x1d')](_0x4fd50f[_0x1a9f('0x357')],_0x4fd50f[_0x1a9f('0x35a')]),_0x54f62b[_0x1a9f('0x327')](_0x5add87,_0x4121b5)['multiplyScalar'](_0x2590f8[_0x1a9f('0x59e')]),_0x18d511=_0x2590f8[_0x1a9f('0xcef')]===document?_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0xd17')]:_0x2590f8[_0x1a9f('0xcef')],_0x4c2146(0x2*Math['PI']*_0x54f62b['x']/_0x18d511[_0x1a9f('0xd18')]),_0xcc8de1(0x2*Math['PI']*_0x54f62b['y']/_0x18d511[_0x1a9f('0xd18')]),_0x4121b5['copy'](_0x5add87),_0x2590f8[_0x1a9f('0x2e4')]();break;case _0x5cec0d['DOLLY']:if(!0x1===_0x2590f8[_0x1a9f('0x2ee')])return;_0x38396b[_0x1a9f('0x1d')](_0x4fd50f['clientX'],_0x4fd50f[_0x1a9f('0x35a')]),_0x195dc1[_0x1a9f('0x327')](_0x38396b,_0x5a31d2),0x0<_0x195dc1['y']?_0x56a670(_0x3988f3()):_0x195dc1['y']<0x0&&_0x5ab152(_0x3988f3()),_0x5a31d2[_0x1a9f('0x1ba')](_0x38396b),_0x2590f8[_0x1a9f('0x2e4')]();break;case _0x5cec0d[_0x1a9f('0xd22')]:if(!0x1===_0x2590f8['enablePan'])return;_0x159d6a[_0x1a9f('0x1d')](_0x4fd50f[_0x1a9f('0x357')],_0x4fd50f['clientY']),_0xc0df30['subVectors'](_0x159d6a,_0x34083a)['multiplyScalar'](_0x2590f8['panSpeed']),_0x243e3d(_0xc0df30['x'],_0xc0df30['y']),_0x34083a[_0x1a9f('0x1ba')](_0x159d6a),_0x2590f8[_0x1a9f('0x2e4')]();}}function _0x2ffc9f(_0x4fd50f){!0x1!==_0x2590f8[_0x1a9f('0x40c')]&&(document['removeEventListener']('mousemove',_0xf7b145,!0x1),document[_0x1a9f('0x351')](_0x1a9f('0xd23'),_0x2ffc9f,!0x1),_0x2590f8[_0x1a9f('0x44b')](_0x4db98e),_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')]);}function _0x35be0c(_0x4fd50f){!0x1===_0x2590f8[_0x1a9f('0x40c')]||!0x1===_0x2590f8[_0x1a9f('0x2ee')]||_0x2418d3!==_0x5cec0d[_0x1a9f('0xd04')]&&_0x2418d3!==_0x5cec0d[_0x1a9f('0xd1f')]||(_0x4fd50f['preventDefault'](),_0x4fd50f[_0x1a9f('0xd24')](),_0x2590f8[_0x1a9f('0x44b')](_0x37c3fa),(_0x4fd50f=_0x4fd50f)[_0x1a9f('0xd25')]<0x0?_0x5ab152(_0x3988f3()):0x0<_0x4fd50f[_0x1a9f('0xd25')]&&_0x56a670(_0x3988f3()),_0x2590f8[_0x1a9f('0x2e4')](),_0x2590f8['dispatchEvent'](_0x4db98e));}function _0x1139bf(_0x4fd50f){if(!0x1!==_0x2590f8[_0x1a9f('0x40c')]&&!0x1!==_0x2590f8[_0x1a9f('0xd26')]&&!0x1!==_0x2590f8[_0x1a9f('0x2ec')]){var _0x18d511=!0x1;switch(_0x4fd50f[_0x1a9f('0xd27')]){case _0x2590f8['keys']['UP']:_0x243e3d(0x0,_0x2590f8[_0x1a9f('0xcfa')]),_0x18d511=!0x0;break;case _0x2590f8[_0x1a9f('0x20')]['BOTTOM']:_0x243e3d(0x0,-_0x2590f8[_0x1a9f('0xcfa')]),_0x18d511=!0x0;break;case _0x2590f8['keys'][_0x1a9f('0xcfc')]:_0x243e3d(_0x2590f8[_0x1a9f('0xcfa')],0x0),_0x18d511=!0x0;break;case _0x2590f8[_0x1a9f('0x20')]['RIGHT']:_0x243e3d(-_0x2590f8[_0x1a9f('0xcfa')],0x0),_0x18d511=!0x0;}_0x18d511&&(_0x4fd50f[_0x1a9f('0xd1b')](),_0x2590f8['update']());}}function _0x580fcf(_0x4fd50f){if(!0x1!==_0x2590f8[_0x1a9f('0x40c')]){switch(_0x4fd50f[_0x1a9f('0xd1b')](),_0x4fd50f[_0x1a9f('0xd28')][_0x1a9f('0xf')]){case 0x1:if(!0x1===_0x2590f8[_0x1a9f('0x2ed')])return;_0x4121b5[_0x1a9f('0x1d')](_0x4fd50f['touches'][0x0]['pageX'],_0x4fd50f['touches'][0x0][_0x1a9f('0xd29')]),_0x2418d3=_0x5cec0d[_0x1a9f('0xd2a')];break;case 0x2:if(!0x1===_0x2590f8[_0x1a9f('0x2ee')]&&!0x1===_0x2590f8[_0x1a9f('0x2ec')])return;_0x18d511=_0x4fd50f,_0x2590f8[_0x1a9f('0x2ee')]&&(_0x26a271=_0x18d511[_0x1a9f('0xd28')][0x0][_0x1a9f('0xd2b')]-_0x18d511[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd2b')],_0x9a0af7=_0x18d511[_0x1a9f('0xd28')][0x0][_0x1a9f('0xd29')]-_0x18d511[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd29')],_0x26a271=Math[_0x1a9f('0x1bc')](_0x26a271*_0x26a271+_0x9a0af7*_0x9a0af7),_0x5a31d2[_0x1a9f('0x1d')](0x0,_0x26a271)),_0x2590f8[_0x1a9f('0x2ec')]&&(_0x9a0af7=0.5*(_0x18d511[_0x1a9f('0xd28')][0x0][_0x1a9f('0xd2b')]+_0x18d511[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd2b')]),_0x26a271=0.5*(_0x18d511[_0x1a9f('0xd28')][0x0]['pageY']+_0x18d511[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd29')]),_0x34083a[_0x1a9f('0x1d')](_0x9a0af7,_0x26a271)),_0x2418d3=_0x5cec0d['TOUCH_DOLLY_PAN'];break;default:_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')];}var _0x18d511,_0x9a0af7,_0x26a271;_0x2418d3!==_0x5cec0d[_0x1a9f('0xd04')]&&_0x2590f8[_0x1a9f('0x44b')](_0x37c3fa);}}function _0x55fd9b(_0x4fd50f){var _0x18d511,_0x9a0af7,_0x26a271;if(!0x1!==_0x2590f8[_0x1a9f('0x40c')])switch(_0x4fd50f['preventDefault'](),_0x4fd50f['stopPropagation'](),_0x4fd50f['touches'][_0x1a9f('0xf')]){case 0x1:if(!0x1===_0x2590f8[_0x1a9f('0x2ed')])return;if(_0x2418d3!==_0x5cec0d['TOUCH_ROTATE'])return;_0x5add87[_0x1a9f('0x1d')](_0x4fd50f['touches'][0x0][_0x1a9f('0xd2b')],_0x4fd50f[_0x1a9f('0xd28')][0x0][_0x1a9f('0xd29')]),_0x54f62b[_0x1a9f('0x327')](_0x4121b5,_0x5add87)[_0x1a9f('0x1be')](_0x2590f8[_0x1a9f('0x59e')]),_0x26a271=_0x2590f8[_0x1a9f('0xcef')]===document?_0x2590f8[_0x1a9f('0xcef')]['body']:_0x2590f8[_0x1a9f('0xcef')],_0x4c2146(0x2*Math['PI']*_0x54f62b['x']/_0x26a271[_0x1a9f('0xd18')]),_0xcc8de1(0x2*Math['PI']*_0x54f62b['y']/_0x26a271[_0x1a9f('0xd18')]),_0x4121b5[_0x1a9f('0x1ba')](_0x5add87),_0x2590f8[_0x1a9f('0x2e4')]();break;case 0x2:if(!0x1===_0x2590f8[_0x1a9f('0x2ee')]&&!0x1===_0x2590f8[_0x1a9f('0x2ec')])return;if(_0x2418d3!==_0x5cec0d['TOUCH_DOLLY_PAN'])return;_0x26a271=_0x4fd50f,_0x2590f8[_0x1a9f('0x2ee')]&&(_0x9a0af7=_0x26a271[_0x1a9f('0xd28')][0x0][_0x1a9f('0xd2b')]-_0x26a271['touches'][0x1][_0x1a9f('0xd2b')],_0x18d511=_0x26a271[_0x1a9f('0xd28')][0x0]['pageY']-_0x26a271[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd29')],_0x9a0af7=Math['sqrt'](_0x9a0af7*_0x9a0af7+_0x18d511*_0x18d511),_0x38396b[_0x1a9f('0x1d')](0x0,_0x9a0af7),_0x195dc1[_0x1a9f('0x1d')](0x0,Math[_0x1a9f('0x31f')](_0x38396b['y']/_0x5a31d2['y'],_0x2590f8[_0x1a9f('0x2ca')])),_0x56a670(_0x195dc1['y']),_0x5a31d2[_0x1a9f('0x1ba')](_0x38396b)),_0x2590f8[_0x1a9f('0x2ec')]&&(_0x18d511=0.5*(_0x26a271['touches'][0x0][_0x1a9f('0xd2b')]+_0x26a271[_0x1a9f('0xd28')][0x1]['pageX']),_0x9a0af7=0.5*(_0x26a271[_0x1a9f('0xd28')][0x0]['pageY']+_0x26a271[_0x1a9f('0xd28')][0x1][_0x1a9f('0xd29')]),_0x159d6a[_0x1a9f('0x1d')](_0x18d511,_0x9a0af7),_0xc0df30[_0x1a9f('0x327')](_0x159d6a,_0x34083a)[_0x1a9f('0x1be')](_0x2590f8[_0x1a9f('0xcf8')]),_0x243e3d(_0xc0df30['x'],_0xc0df30['y']),_0x34083a[_0x1a9f('0x1ba')](_0x159d6a)),_0x2590f8[_0x1a9f('0x2e4')]();break;default:_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')];}}function _0x134bd9(_0x4fd50f){!0x1!==_0x2590f8[_0x1a9f('0x40c')]&&(_0x2590f8[_0x1a9f('0x44b')](_0x4db98e),_0x2418d3=_0x5cec0d[_0x1a9f('0xd04')]);}function _0x1653af(_0x4fd50f){!0x1!==_0x2590f8[_0x1a9f('0x40c')]&&_0x4fd50f[_0x1a9f('0xd1b')]();}_0x2590f8['domElement']['addEventListener'](_0x1a9f('0xd0e'),_0x1653af,!0x1),_0x2590f8['domElement'][_0x1a9f('0x2b5')](_0x1a9f('0xd0f'),_0x4bac38,!0x1),_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0x2b5')]('wheel',_0x35be0c,!0x1),_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0x2b5')]('touchstart',_0x580fcf,!0x1),_0x2590f8[_0x1a9f('0xcef')][_0x1a9f('0x2b5')](_0x1a9f('0xd2c'),_0x134bd9,!0x1),_0x2590f8[_0x1a9f('0xcef')]['addEventListener']('touchmove',_0x55fd9b,!0x1),window[_0x1a9f('0x2b5')]('keydown',_0x1139bf,!0x1),this[_0x1a9f('0x2e4')]();}_0x364cd0[_0x1a9f('0xb')]=(0x0,_0x9a0af7['default'])(THREE[_0x1a9f('0xc2')][_0x1a9f('0xb')]),(0x0,_0x26a271[_0x1a9f('0xa')])((_0x364cd0[_0x1a9f('0xb')][_0x1a9f('0x85')]=_0x364cd0)[_0x1a9f('0xb')],{'center':{'get':function(){return this[_0x1a9f('0xc7')];}},'noZoom':{'get':function(){return!this[_0x1a9f('0x2ee')];},'set':function(_0x4fd50f){this[_0x1a9f('0x2ee')]=!_0x4fd50f;}},'noRotate':{'get':function(){return!this[_0x1a9f('0x2ed')];},'set':function(_0x4fd50f){this['enableRotate']=!_0x4fd50f;}},'noPan':{'get':function(){return!this['enablePan'];},'set':function(_0x4fd50f){this[_0x1a9f('0x2ec')]=!_0x4fd50f;}},'noKeys':{'get':function(){return!this[_0x1a9f('0xd26')];},'set':function(_0x4fd50f){this[_0x1a9f('0xd26')]=!_0x4fd50f;}},'staticMoving':{'get':function(){return!this[_0x1a9f('0xcf6')];},'set':function(_0x4fd50f){this[_0x1a9f('0xcf6')]=!_0x4fd50f;}},'dynamicDampingFactor':{'get':function(){return this[_0x1a9f('0xcf7')];},'set':function(_0x4fd50f){this[_0x1a9f('0xcf7')]=_0x4fd50f;}}}),_0x18d511['default']=_0x364cd0;},function(_0x1537b0,_0x3160d6,_0x1d9582){'use strict';Object[_0x1a9f('0x3')](_0x3160d6,_0x1a9f('0x5'),{'value':!0x0});var _0x24f10e=_0x10f28e(_0x1d9582(0x2e)),_0x5cbfde=_0x10f28e(_0x1d9582(0x0)),_0x1d9582=_0x10f28e(_0x1d9582(0x1));function _0x10f28e(_0x1537b0){return _0x1537b0&&_0x1537b0['__esModule']?_0x1537b0:{'default':_0x1537b0};}var _0x11e93e=null,_0x1d9582=((0x0,_0x1d9582[_0x1a9f('0xa')])(_0x2a57ce,[{'key':_0x1a9f('0x7'),'value':function(_0x1537b0){var _0x3160d6=_0x1537b0[_0x1a9f('0x8c5')],_0x1d9582=void 0x0===_0x3160d6?0x1:_0x3160d6,_0x3160d6=_0x1537b0[_0x1a9f('0x350')],_0x5cbfde=_0x1537b0['miniMapImgPath'],_0x10f28e=_0x1537b0['miniMapImgHeight'],_0x3a2c62=_0x1537b0[_0x1a9f('0xd2d')],_0x46f454=_0x1537b0['cameraViewImgHeight'],_0x1537b0=_0x1537b0['fixCameraViewImgOffset'],_0x1de534=void 0x0===_0x1537b0?0x3:_0x1537b0,_0x4b3c8e=this,_0x1537b0=(this['container']=_0x3160d6,[]),_0x44c514=document[_0x1a9f('0x77')](_0x1a9f('0xd2e')),_0x58e619=(_0x44c514[_0x1a9f('0x65')]=_0x5cbfde,_0x44c514[_0x1a9f('0x63')][_0x1a9f('0x33b')]=_0x10f28e+'px',_0x1537b0[_0x1a9f('0x70')](new _0x24f10e[(_0x1a9f('0xa'))](function(_0x1537b0){_0x44c514[_0x1a9f('0xd2f')]=function(){_0x1537b0();};})),this[_0x1a9f('0x350')][_0x1a9f('0x64')](_0x44c514),document['createElement'](_0x1a9f('0xd30'))),_0x1aac09=(_0x58e619[_0x1a9f('0x63')][_0x1a9f('0x42')]=_0x1a9f('0xd31'),document['createElement'](_0x1a9f('0xd2e')));_0x1aac09['src']=_0x3a2c62,_0x1aac09['style'][_0x1a9f('0x42')]=_0x1a9f('0xd32'),_0x1aac09[_0x1a9f('0x63')][_0x1a9f('0x33b')]=_0x46f454+'px',_0x58e619[_0x1a9f('0x64')](_0x1aac09),_0x1537b0[_0x1a9f('0x70')](new _0x24f10e[(_0x1a9f('0xa'))](function(_0x1537b0){_0x1aac09[_0x1a9f('0xd2f')]=function(){_0x1537b0();};})),this[_0x1a9f('0x350')][_0x1a9f('0x64')](_0x58e619),_0x24f10e['default'][_0x1a9f('0xd2')](_0x1537b0)[_0x1a9f('0x362')](function(_0x1537b0){var _0x5cbfde=_0x44c514[_0x1a9f('0x33a')],_0x10f28e=_0x44c514[_0x1a9f('0x33b')],_0x3a2c62=_0x1aac09[_0x1a9f('0x33b')],_0x46f454=(_0x58e619[_0x1a9f('0x63')][_0x1a9f('0x33a')]=_0x5cbfde,_0x58e619[_0x1a9f('0x63')][_0x1a9f('0x33b')]=_0x10f28e,_0x58e619['style'][_0x1a9f('0x63f')]=-_0x10f28e+'px',_0x1aac09[_0x1a9f('0x63')][_0x1a9f('0xd33')]=_0x1de534+_0x1a9f('0xd34')+(_0x3a2c62/0x2+_0x1de534)+'px',_0x4b3c8e[_0x1a9f('0x90')]['mapView'][_0x1a9f('0x314')]),_0x3160d6=_0x4b3c8e[_0x1a9f('0x90')][_0x1a9f('0xd35')][_0x1d9582],_0x24f10e=_0x3160d6[_0x1a9f('0xd36')]-_0x3160d6['minx'],_0x2663f8=_0x3160d6[_0x1a9f('0xd37')]-_0x3160d6[_0x1a9f('0xd38')],_0x1b3e1d=_0x3160d6[_0x1a9f('0xd39')],_0x4d8912=_0x3160d6[_0x1a9f('0xd37')];_0x11e93e=function(_0x1537b0){var _0x3160d6=_0x4b3c8e[_0x1a9f('0x90')][_0x1a9f('0x9d5')](_0x46f454['position']),_0x1d9582=_0x3160d6['x']-_0x1b3e1d,_0x3160d6=_0x3160d6['y']-_0x4d8912,_0x3160d6=_0x10f28e*(_0x3160d6/_0x2663f8);_0x1aac09[_0x1a9f('0x63')]['left']=_0x5cbfde*(_0x1d9582/_0x24f10e)+'px',_0x1aac09[_0x1a9f('0x63')][_0x1a9f('0x63f')]=-(_0x3160d6+(_0x3a2c62/0x2+_0x1de534))+'px',_0x1aac09['style'][_0x1a9f('0xd3a')]=_0x1a9f('0xd3b')+(_0x4b3c8e[_0x1a9f('0x90')][_0x1a9f('0x7e7')]-0x5a)+_0x1a9f('0xd3c');},_0x4b3c8e[_0x1a9f('0x90')]['on'](_0x1a9f('0xd3d'),_0x11e93e);});}},{'key':'remove','value':function(){this['container'][_0x1a9f('0xd3e')]='',this['map'][_0x1a9f('0xcda')]('controlchange',_0x11e93e);}}]),_0x2a57ce);function _0x2a57ce(_0x1537b0){(0x0,_0x5cbfde[_0x1a9f('0xa')])(this,_0x2a57ce),this['map']=_0x1537b0,this[_0x1a9f('0x350')]=null;}_0x3160d6[_0x1a9f('0xa')]=_0x1d9582;},function(_0x4bbc51,_0x2c2119,_0x50822a){'use strict';Object[_0x1a9f('0x3')](_0x2c2119,_0x1a9f('0x5'),{'value':!0x0});var _0x3ae7c8,_0x35e120=_0xf916b7(_0x50822a(0x2e)),_0x2d1fc5=_0xf916b7(_0x50822a(0x111)),_0x527eab=_0xf916b7(_0x50822a(0x114)),_0x213f07=_0xf916b7(_0x50822a(0x6)),_0x2960af=_0xf916b7(_0x50822a(0x2d)),_0x25038a=_0xf916b7(_0x50822a(0x0)),_0x8955bd=_0xf916b7(_0x50822a(0x1)),_0x1da729=_0xf916b7(_0x50822a(0x34)),_0x1dbefe=_0xf916b7(_0x50822a(0x35));function _0xf916b7(_0x4bbc51){return _0x4bbc51&&_0x4bbc51[_0x1a9f('0x5')]?_0x4bbc51:{'default':_0x4bbc51};}function _0x1ea4a7(){(0x0,_0x25038a[_0x1a9f('0xa')])(this,_0x1ea4a7);var _0x4bbc51=(0x0,_0x1da729[_0x1a9f('0xa')])(this,(_0x1ea4a7['__proto__']||(0x0,_0x2960af[_0x1a9f('0xa')])(_0x1ea4a7))[_0x1a9f('0xd')](this));return _0x4bbc51['beginTime']=(performance||Date)[_0x1a9f('0x2b0')](),_0x4bbc51[_0x1a9f('0xd3f')]=_0x4bbc51[_0x1a9f('0xd40')],_0x4bbc51['frames']=0x0,_0x4bbc51[_0x1a9f('0x2fc')]=0x0,_0x4bbc51[_0x1a9f('0xd41')]=!0x1,_0x4bbc51[_0x1a9f('0xd42')]=[],_0x4bbc51[_0x1a9f('0xd43')]=[],_0x4bbc51;}_0x50822a=_0x50822a(0x44)[_0x1a9f('0xc2')],(0x0,_0x1dbefe['default'])(_0x1ea4a7,_0x50822a),(0x0,_0x8955bd[_0x1a9f('0xa')])(_0x1ea4a7,[{'key':_0x1a9f('0xd44'),'value':function(){this[_0x1a9f('0xd40')]=(performance||Date)[_0x1a9f('0x2b0')]();}},{'key':'end','value':function(){this[_0x1a9f('0x1c8')]++;var _0x4bbc51=(performance||Date)[_0x1a9f('0x2b0')]();return _0x4bbc51>=this[_0x1a9f('0xd3f')]+0x3e8&&(this[_0x1a9f('0x2fc')]=0x3e8*this[_0x1a9f('0x1c8')]/(_0x4bbc51-this[_0x1a9f('0xd3f')]),0xa<this[_0x1a9f('0xd42')]['length']?this[_0x1a9f('0xd42')][_0x1a9f('0xf')]=0x0:this[_0x1a9f('0xd42')][_0x1a9f('0x70')](this[_0x1a9f('0x2fc')]),this[_0x1a9f('0xd3f')]=_0x4bbc51,this[_0x1a9f('0x1c8')]=0x0),_0x4bbc51;}},{'key':'update','value':function(){this[_0x1a9f('0xd40')]=this['end']();}},{'key':_0x1a9f('0xd45'),'value':function(_0x4bbc51,_0x2c2119){var _0x50822a=_0x4bbc51[_0x1a9f('0xf')],_0x2c2119=Math['floor'](_0x50822a*_0x2c2119/0x2),_0x4bbc51=_0x4bbc51[_0x1a9f('0xd46')](function(_0x4bbc51,_0x2c2119){return _0x4bbc51-_0x2c2119;})[_0x1a9f('0x22')](_0x2c2119,_0x50822a-_0x2c2119);return _0x4bbc51[_0x1a9f('0xd47')](function(_0x4bbc51,_0x2c2119){return _0x4bbc51+_0x2c2119;},0x0)/_0x4bbc51['length'];}},{'key':_0x1a9f('0xd48'),'value':function(){var _0x4bbc51=0x0,_0x2c2119=!0x0,_0x50822a=!0x1,_0x3ae7c8=void 0x0;try{for(var _0x35e120,_0x2d1fc5=(0x0,_0x213f07['default'])(this[_0x1a9f('0xd42')]);!(_0x2c2119=(_0x35e120=_0x2d1fc5[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x2c2119=!0x0)_0x4bbc51+=_0x35e120[_0x1a9f('0x11')];}catch(_0x227f99){_0x50822a=!0x0,_0x3ae7c8=_0x227f99;}finally{try{!_0x2c2119&&_0x2d1fc5['return']&&_0x2d1fc5[_0x1a9f('0xd0')]();}finally{if(_0x50822a)throw _0x3ae7c8;}}return _0x4bbc51/this[_0x1a9f('0xd42')][_0x1a9f('0xf')];}},{'key':_0x1a9f('0x822'),'value':(_0x3ae7c8=(0x0,_0x527eab[_0x1a9f('0xa')])(_0x2d1fc5[_0x1a9f('0xa')]['mark'](function _0x4bbc51(_0x2c2119,_0x50822a){var _0x3ae7c8,_0x35e120;return _0x2d1fc5[_0x1a9f('0xa')][_0x1a9f('0xd49')](function(_0x4bbc51){for(;;)switch(_0x4bbc51[_0x1a9f('0xd4a')]=_0x4bbc51[_0x1a9f('0x79')]){case 0x0:_0x3ae7c8=0x0;case 0x1:if(_0x3ae7c8<_0x2c2119)return _0x4bbc51[_0x1a9f('0x79')]=0x4,this[_0x1a9f('0xd4b')](0x3e8);_0x4bbc51[_0x1a9f('0x79')]=0x9;break;case 0x4:0x0<this['_tempFrameRateList']['length']&&this[_0x1a9f('0xd43')][_0x1a9f('0x70')](this['computeAverageFps']()),this[_0x1a9f('0xd42')][_0x1a9f('0xf')]=0x0;case 0x6:_0x3ae7c8++,_0x4bbc51[_0x1a9f('0x79')]=0x1;break;case 0x9:_0x35e120=this[_0x1a9f('0xd45')](this[_0x1a9f('0xd43')],0.2),this[_0x1a9f('0x44b')]({'type':_0x1a9f('0x823'),'fps':+_0x35e120[_0x1a9f('0x687')](0x1)}),_0x50822a&&this['checkIsInLowDevice'](_0x2c2119,!0x0);case 0xc:case _0x1a9f('0xd15'):return _0x4bbc51['stop']();}},_0x4bbc51,this);})),function(_0x4bbc51,_0x2c2119){return _0x3ae7c8[_0x1a9f('0x15')](this,arguments);})},{'key':_0x1a9f('0xd4b'),'value':function(_0x2c2119){return new _0x35e120['default'](function(_0x4bbc51){setTimeout(_0x4bbc51,_0x2c2119);});}}]),_0x2c2119[_0x1a9f('0xa')]=_0x1ea4a7;},function(_0x31bf6c,_0x5cd9d5,_0x42d095){_0x31bf6c['exports']=_0x42d095(0x112);},function(_0x56c342,_0x4a7eac,_0x5cdc47){var _0x39ceb3=function(){return this;}()||Function('return\x20this')(),_0x430728=_0x39ceb3[_0x1a9f('0xd4c')]&&0x0<=Object[_0x1a9f('0x95')](_0x39ceb3)['indexOf'](_0x1a9f('0xd4c')),_0x3d13a8=_0x430728&&_0x39ceb3[_0x1a9f('0xd4c')];if(_0x39ceb3[_0x1a9f('0xd4c')]=void 0x0,_0x56c342[_0x1a9f('0x0')]=_0x5cdc47(0x113),_0x430728)_0x39ceb3[_0x1a9f('0xd4c')]=_0x3d13a8;else try{delete _0x39ceb3[_0x1a9f('0xd4c')];}catch(_0x102e96){_0x39ceb3[_0x1a9f('0xd4c')]=void 0x0;}},function(_0x55b6e1,_0x16f84a){!function(_0x16f84a){'use strict';var _0x3d85f6,_0x5c9001,_0x424559,_0x439b02,_0x312d5e,_0x34599b,_0x5bacb4,_0x252c5d=Object[_0x1a9f('0xb')],_0x3b5cae=_0x252c5d[_0x1a9f('0xc')],_0x9d9595='function'==typeof Symbol?Symbol:{},_0x14daad=_0x9d9595[_0x1a9f('0x78')]||_0x1a9f('0x8b'),_0x371acd=_0x9d9595[_0x1a9f('0x268')]||_0x1a9f('0xd4d'),_0x2c89dd=_0x9d9595[_0x1a9f('0x2')]||'@@toStringTag',_0x9d9595=_0x1a9f('0x6')==typeof _0x55b6e1,_0x44453b=_0x16f84a[_0x1a9f('0xd4c')];function _0x18605f(_0x16f84a,_0x5bacb4,_0x252c5d,_0x9d9595){var _0x14daad,_0x371acd,_0x2c89dd,_0x44453b,_0x5bacb4=_0x5bacb4&&_0x5bacb4[_0x1a9f('0xb')]instanceof _0x3f2f76?_0x5bacb4:_0x3f2f76,_0x5bacb4=Object['create'](_0x5bacb4[_0x1a9f('0xb')]),_0x9d9595=new _0x37bed8(_0x9d9595||[]);return _0x5bacb4['_invoke']=(_0x14daad=_0x16f84a,_0x371acd=_0x252c5d,_0x2c89dd=_0x9d9595,_0x44453b=_0x5c9001,function(_0x16f84a,_0x5bacb4){if(_0x44453b===_0x439b02)throw new Error(_0x1a9f('0xd4e'));if(_0x44453b===_0x312d5e){if('throw'===_0x16f84a)throw _0x5bacb4;return _0xd874d();}for(_0x2c89dd[_0x1a9f('0xd4f')]=_0x16f84a,_0x2c89dd[_0x1a9f('0xd50')]=_0x5bacb4;;){var _0x252c5d=_0x2c89dd[_0x1a9f('0xd51')];if(_0x252c5d){_0x252c5d=function _0x16f84a(_0x5bacb4,_0x252c5d){var _0x9d9595=_0x5bacb4[_0x1a9f('0x78')][_0x252c5d[_0x1a9f('0xd4f')]];if(_0x9d9595===_0x3d85f6){if(_0x252c5d[_0x1a9f('0xd51')]=null,_0x1a9f('0xd52')===_0x252c5d['method']){if(_0x5bacb4[_0x1a9f('0x78')]['return']&&(_0x252c5d[_0x1a9f('0xd4f')]='return',_0x252c5d[_0x1a9f('0xd50')]=_0x3d85f6,_0x16f84a(_0x5bacb4,_0x252c5d),_0x1a9f('0xd52')===_0x252c5d[_0x1a9f('0xd4f')]))return _0x34599b;_0x252c5d[_0x1a9f('0xd4f')]=_0x1a9f('0xd52'),_0x252c5d[_0x1a9f('0xd50')]=new TypeError(_0x1a9f('0xd53'));}return _0x34599b;}_0x9d9595=_0x148e0b(_0x9d9595,_0x5bacb4['iterator'],_0x252c5d[_0x1a9f('0xd50')]);if(_0x1a9f('0xd52')===_0x9d9595['type'])return _0x252c5d[_0x1a9f('0xd4f')]=_0x1a9f('0xd52'),_0x252c5d[_0x1a9f('0xd50')]=_0x9d9595[_0x1a9f('0xd50')],_0x252c5d[_0x1a9f('0xd51')]=null,_0x34599b;_0x9d9595=_0x9d9595[_0x1a9f('0xd50')];return _0x9d9595?_0x9d9595['done']?(_0x252c5d[_0x5bacb4[_0x1a9f('0xd54')]]=_0x9d9595[_0x1a9f('0x11')],_0x252c5d[_0x1a9f('0x79')]=_0x5bacb4[_0x1a9f('0xd55')],_0x1a9f('0xd0')!==_0x252c5d[_0x1a9f('0xd4f')]&&(_0x252c5d[_0x1a9f('0xd4f')]=_0x1a9f('0x79'),_0x252c5d[_0x1a9f('0xd50')]=_0x3d85f6),_0x252c5d[_0x1a9f('0xd51')]=null,_0x34599b):_0x9d9595:(_0x252c5d['method']='throw',_0x252c5d[_0x1a9f('0xd50')]=new TypeError(_0x1a9f('0xd56')),_0x252c5d[_0x1a9f('0xd51')]=null,_0x34599b);}(_0x252c5d,_0x2c89dd);if(_0x252c5d){if(_0x252c5d===_0x34599b)continue;return _0x252c5d;}}if('next'===_0x2c89dd[_0x1a9f('0xd4f')])_0x2c89dd[_0x1a9f('0xd57')]=_0x2c89dd[_0x1a9f('0xd58')]=_0x2c89dd[_0x1a9f('0xd50')];else if(_0x1a9f('0xd52')===_0x2c89dd['method']){if(_0x44453b===_0x5c9001)throw _0x44453b=_0x312d5e,_0x2c89dd[_0x1a9f('0xd50')];_0x2c89dd[_0x1a9f('0xd59')](_0x2c89dd[_0x1a9f('0xd50')]);}else _0x1a9f('0xd0')===_0x2c89dd[_0x1a9f('0xd4f')]&&_0x2c89dd[_0x1a9f('0xd5a')]('return',_0x2c89dd[_0x1a9f('0xd50')]);_0x44453b=_0x439b02;_0x252c5d=_0x148e0b(_0x14daad,_0x371acd,_0x2c89dd);if(_0x1a9f('0x960')===_0x252c5d[_0x1a9f('0xc6')]){if(_0x44453b=_0x2c89dd[_0x1a9f('0xce')]?_0x312d5e:_0x424559,_0x252c5d['arg']!==_0x34599b)return{'value':_0x252c5d[_0x1a9f('0xd50')],'done':_0x2c89dd['done']};}else'throw'===_0x252c5d[_0x1a9f('0xc6')]&&(_0x44453b=_0x312d5e,_0x2c89dd['method']=_0x1a9f('0xd52'),_0x2c89dd[_0x1a9f('0xd50')]=_0x252c5d[_0x1a9f('0xd50')]);}}),_0x5bacb4;}function _0x148e0b(_0x16f84a,_0x5bacb4,_0x252c5d){try{return{'type':_0x1a9f('0x960'),'arg':_0x16f84a[_0x1a9f('0xd')](_0x5bacb4,_0x252c5d)};}catch(_0x2573e0){return{'type':_0x1a9f('0xd52'),'arg':_0x2573e0};}}function _0x3f2f76(){}function _0x5649fe(){}function _0x24a3e4(){}function _0x26b427(_0x16f84a){[_0x1a9f('0x79'),'throw',_0x1a9f('0xd0')]['forEach'](function(_0x5bacb4){_0x16f84a[_0x5bacb4]=function(_0x16f84a){return this[_0x1a9f('0xd5b')](_0x5bacb4,_0x16f84a);};});}function _0x24c487(_0x2c89dd){var _0x5bacb4;this[_0x1a9f('0xd5b')]=function(_0x252c5d,_0x9d9595){function _0x16f84a(){return new Promise(function(_0x16f84a,_0x5bacb4){!function _0x5bacb4(_0x16f84a,_0x252c5d,_0x9d9595,_0x14daad){_0x16f84a=_0x148e0b(_0x2c89dd[_0x16f84a],_0x2c89dd,_0x252c5d);if(_0x1a9f('0xd52')===_0x16f84a[_0x1a9f('0xc6')])_0x14daad(_0x16f84a[_0x1a9f('0xd50')]);else{var _0x371acd=_0x16f84a[_0x1a9f('0xd50')],_0x252c5d=_0x371acd[_0x1a9f('0x11')];if(_0x252c5d&&_0x1a9f('0x6')==typeof _0x252c5d&&_0x3b5cae[_0x1a9f('0xd')](_0x252c5d,_0x1a9f('0xd5c')))return Promise[_0x1a9f('0xde')](_0x252c5d['__await'])['then'](function(_0x16f84a){_0x5bacb4('next',_0x16f84a,_0x9d9595,_0x14daad);},function(_0x16f84a){_0x5bacb4(_0x1a9f('0xd52'),_0x16f84a,_0x9d9595,_0x14daad);});Promise[_0x1a9f('0xde')](_0x252c5d)['then'](function(_0x16f84a){_0x371acd[_0x1a9f('0x11')]=_0x16f84a,_0x9d9595(_0x371acd);},_0x14daad);}}(_0x252c5d,_0x9d9595,_0x16f84a,_0x5bacb4);});}return _0x5bacb4=_0x5bacb4?_0x5bacb4[_0x1a9f('0x362')](_0x16f84a,_0x16f84a):_0x16f84a();};}function _0x24e0bc(_0x16f84a){var _0x5bacb4={'tryLoc':_0x16f84a[0x0]};0x1 in _0x16f84a&&(_0x5bacb4[_0x1a9f('0xd5d')]=_0x16f84a[0x1]),0x2 in _0x16f84a&&(_0x5bacb4['finallyLoc']=_0x16f84a[0x2],_0x5bacb4[_0x1a9f('0xd5e')]=_0x16f84a[0x3]),this[_0x1a9f('0xd5f')][_0x1a9f('0x70')](_0x5bacb4);}function _0x412dd2(_0x16f84a){var _0x5bacb4=_0x16f84a[_0x1a9f('0xd60')]||{};_0x5bacb4[_0x1a9f('0xc6')]=_0x1a9f('0x960'),delete _0x5bacb4[_0x1a9f('0xd50')],_0x16f84a[_0x1a9f('0xd60')]=_0x5bacb4;}function _0x37bed8(_0x16f84a){this[_0x1a9f('0xd5f')]=[{'tryLoc':_0x1a9f('0x428')}],_0x16f84a[_0x1a9f('0x2a9')](_0x24e0bc,this),this[_0x1a9f('0x20c')](!0x0);}function _0x11ae88(_0x5bacb4){if(_0x5bacb4){var _0x252c5d,_0x16f84a=_0x5bacb4[_0x14daad];if(_0x16f84a)return _0x16f84a[_0x1a9f('0xd')](_0x5bacb4);if(_0x1a9f('0x16')==typeof _0x5bacb4['next'])return _0x5bacb4;if(!isNaN(_0x5bacb4[_0x1a9f('0xf')]))return _0x252c5d=-0x1,(_0x16f84a=function _0x16f84a(){for(;++_0x252c5d<_0x5bacb4['length'];)if(_0x3b5cae[_0x1a9f('0xd')](_0x5bacb4,_0x252c5d))return _0x16f84a['value']=_0x5bacb4[_0x252c5d],_0x16f84a[_0x1a9f('0xce')]=!0x1,_0x16f84a;return _0x16f84a[_0x1a9f('0x11')]=_0x3d85f6,_0x16f84a['done']=!0x0,_0x16f84a;})['next']=_0x16f84a;}return{'next':_0xd874d};}function _0xd874d(){return{'value':_0x3d85f6,'done':!0x0};}_0x44453b?_0x9d9595&&(_0x55b6e1[_0x1a9f('0x0')]=_0x44453b):((_0x44453b=_0x16f84a[_0x1a9f('0xd4c')]=_0x9d9595?_0x55b6e1['exports']:{})['wrap']=_0x18605f,_0x5c9001=_0x1a9f('0xd61'),_0x424559='suspendedYield',_0x439b02=_0x1a9f('0xd62'),_0x312d5e='completed',_0x34599b={},(_0x16f84a={})[_0x14daad]=function(){return this;},(_0x9d9595=(_0x9d9595=Object[_0x1a9f('0xc1')])&&_0x9d9595(_0x9d9595(_0x11ae88([]))))&&_0x9d9595!==_0x252c5d&&_0x3b5cae[_0x1a9f('0xd')](_0x9d9595,_0x14daad)&&(_0x16f84a=_0x9d9595),_0x5bacb4=_0x24a3e4[_0x1a9f('0xb')]=_0x3f2f76[_0x1a9f('0xb')]=Object['create'](_0x16f84a),(_0x5649fe[_0x1a9f('0xb')]=_0x5bacb4[_0x1a9f('0x85')]=_0x24a3e4)[_0x1a9f('0x85')]=_0x5649fe,_0x24a3e4[_0x2c89dd]=_0x5649fe[_0x1a9f('0xd63')]=_0x1a9f('0xd64'),_0x44453b[_0x1a9f('0xd65')]=function(_0x16f84a){_0x16f84a=_0x1a9f('0x16')==typeof _0x16f84a&&_0x16f84a[_0x1a9f('0x85')];return!!_0x16f84a&&(_0x16f84a===_0x5649fe||_0x1a9f('0xd64')===(_0x16f84a[_0x1a9f('0xd63')]||_0x16f84a[_0x1a9f('0x427')]));},_0x44453b[_0x1a9f('0xd66')]=function(_0x16f84a){return Object[_0x1a9f('0x2ef')]?Object[_0x1a9f('0x2ef')](_0x16f84a,_0x24a3e4):(_0x16f84a[_0x1a9f('0x2f1')]=_0x24a3e4,_0x2c89dd in _0x16f84a||(_0x16f84a[_0x2c89dd]='GeneratorFunction')),_0x16f84a[_0x1a9f('0xb')]=Object['create'](_0x5bacb4),_0x16f84a;},_0x44453b['awrap']=function(_0x16f84a){return{'__await':_0x16f84a};},_0x26b427(_0x24c487[_0x1a9f('0xb')]),_0x24c487[_0x1a9f('0xb')][_0x371acd]=function(){return this;},_0x44453b[_0x1a9f('0xd67')]=_0x24c487,_0x44453b[_0x1a9f('0xd68')]=function(_0x16f84a,_0x5bacb4,_0x252c5d,_0x9d9595){var _0x14daad=new _0x24c487(_0x18605f(_0x16f84a,_0x5bacb4,_0x252c5d,_0x9d9595));return _0x44453b[_0x1a9f('0xd65')](_0x5bacb4)?_0x14daad:_0x14daad[_0x1a9f('0x79')]()[_0x1a9f('0x362')](function(_0x16f84a){return _0x16f84a['done']?_0x16f84a[_0x1a9f('0x11')]:_0x14daad[_0x1a9f('0x79')]();});},_0x26b427(_0x5bacb4),_0x5bacb4[_0x2c89dd]='Generator',_0x5bacb4[_0x14daad]=function(){return this;},_0x5bacb4[_0x1a9f('0x21')]=function(){return'[object\x20Generator]';},_0x44453b['keys']=function(_0x252c5d){var _0x16f84a,_0x9d9595=[];for(_0x16f84a in _0x252c5d)_0x9d9595[_0x1a9f('0x70')](_0x16f84a);return _0x9d9595['reverse'](),function _0x16f84a(){for(;_0x9d9595[_0x1a9f('0xf')];){var _0x5bacb4=_0x9d9595[_0x1a9f('0x209')]();if(_0x5bacb4 in _0x252c5d)return _0x16f84a[_0x1a9f('0x11')]=_0x5bacb4,_0x16f84a[_0x1a9f('0xce')]=!0x1,_0x16f84a;}return _0x16f84a[_0x1a9f('0xce')]=!0x0,_0x16f84a;};},_0x44453b[_0x1a9f('0x7a')]=_0x11ae88,_0x37bed8[_0x1a9f('0xb')]={'constructor':_0x37bed8,'reset':function(_0x16f84a){if(this[_0x1a9f('0xd4a')]=0x0,this[_0x1a9f('0x79')]=0x0,this[_0x1a9f('0xd57')]=this[_0x1a9f('0xd58')]=_0x3d85f6,this[_0x1a9f('0xce')]=!0x1,this[_0x1a9f('0xd51')]=null,this[_0x1a9f('0xd4f')]='next',this[_0x1a9f('0xd50')]=_0x3d85f6,this[_0x1a9f('0xd5f')][_0x1a9f('0x2a9')](_0x412dd2),!_0x16f84a)for(var _0x5bacb4 in this)'t'===_0x5bacb4[_0x1a9f('0x7e')](0x0)&&_0x3b5cae['call'](this,_0x5bacb4)&&!isNaN(+_0x5bacb4[_0x1a9f('0x22')](0x1))&&(this[_0x5bacb4]=_0x3d85f6);},'stop':function(){this[_0x1a9f('0xce')]=!0x0;var _0x16f84a=this[_0x1a9f('0xd5f')][0x0][_0x1a9f('0xd60')];if(_0x1a9f('0xd52')===_0x16f84a[_0x1a9f('0xc6')])throw _0x16f84a['arg'];return this[_0x1a9f('0xd69')];},'dispatchException':function(_0x252c5d){if(this[_0x1a9f('0xce')])throw _0x252c5d;var _0x9d9595=this;function _0x16f84a(_0x16f84a,_0x5bacb4){return _0x371acd[_0x1a9f('0xc6')]=_0x1a9f('0xd52'),_0x371acd[_0x1a9f('0xd50')]=_0x252c5d,_0x9d9595['next']=_0x16f84a,_0x5bacb4&&(_0x9d9595['method']=_0x1a9f('0x79'),_0x9d9595['arg']=_0x3d85f6),!!_0x5bacb4;}for(var _0x5bacb4=this[_0x1a9f('0xd5f')][_0x1a9f('0xf')]-0x1;0x0<=_0x5bacb4;--_0x5bacb4){var _0x14daad=this[_0x1a9f('0xd5f')][_0x5bacb4],_0x371acd=_0x14daad[_0x1a9f('0xd60')];if(_0x1a9f('0x428')===_0x14daad['tryLoc'])return _0x16f84a(_0x1a9f('0xd15'));if(_0x14daad[_0x1a9f('0xd6a')]<=this[_0x1a9f('0xd4a')]){var _0x2c89dd=_0x3b5cae[_0x1a9f('0xd')](_0x14daad,_0x1a9f('0xd5d')),_0x44453b=_0x3b5cae[_0x1a9f('0xd')](_0x14daad,'finallyLoc');if(_0x2c89dd&&_0x44453b){if(this[_0x1a9f('0xd4a')]<_0x14daad[_0x1a9f('0xd5d')])return _0x16f84a(_0x14daad[_0x1a9f('0xd5d')],!0x0);if(this[_0x1a9f('0xd4a')]<_0x14daad[_0x1a9f('0xd6b')])return _0x16f84a(_0x14daad[_0x1a9f('0xd6b')]);}else if(_0x2c89dd){if(this['prev']<_0x14daad[_0x1a9f('0xd5d')])return _0x16f84a(_0x14daad[_0x1a9f('0xd5d')],!0x0);}else{if(!_0x44453b)throw new Error(_0x1a9f('0xd6c'));if(this[_0x1a9f('0xd4a')]<_0x14daad[_0x1a9f('0xd6b')])return _0x16f84a(_0x14daad['finallyLoc']);}}}},'abrupt':function(_0x16f84a,_0x5bacb4){for(var _0x252c5d=this[_0x1a9f('0xd5f')]['length']-0x1;0x0<=_0x252c5d;--_0x252c5d){var _0x9d9595=this['tryEntries'][_0x252c5d];if(_0x9d9595[_0x1a9f('0xd6a')]<=this[_0x1a9f('0xd4a')]&&_0x3b5cae['call'](_0x9d9595,_0x1a9f('0xd6b'))&&this[_0x1a9f('0xd4a')]<_0x9d9595[_0x1a9f('0xd6b')]){var _0x14daad=_0x9d9595;break;}}var _0x371acd=(_0x14daad=_0x14daad&&(_0x1a9f('0xd6d')===_0x16f84a||_0x1a9f('0xd6e')===_0x16f84a)&&_0x14daad['tryLoc']<=_0x5bacb4&&_0x5bacb4<=_0x14daad[_0x1a9f('0xd6b')]?null:_0x14daad)?_0x14daad[_0x1a9f('0xd60')]:{};return _0x371acd[_0x1a9f('0xc6')]=_0x16f84a,_0x371acd['arg']=_0x5bacb4,_0x14daad?(this[_0x1a9f('0xd4f')]=_0x1a9f('0x79'),this[_0x1a9f('0x79')]=_0x14daad[_0x1a9f('0xd6b')],_0x34599b):this[_0x1a9f('0x2cd')](_0x371acd);},'complete':function(_0x16f84a,_0x5bacb4){if(_0x1a9f('0xd52')===_0x16f84a[_0x1a9f('0xc6')])throw _0x16f84a['arg'];return _0x1a9f('0xd6d')===_0x16f84a[_0x1a9f('0xc6')]||_0x1a9f('0xd6e')===_0x16f84a['type']?this[_0x1a9f('0x79')]=_0x16f84a[_0x1a9f('0xd50')]:_0x1a9f('0xd0')===_0x16f84a[_0x1a9f('0xc6')]?(this[_0x1a9f('0xd69')]=this['arg']=_0x16f84a[_0x1a9f('0xd50')],this[_0x1a9f('0xd4f')]='return',this[_0x1a9f('0x79')]=_0x1a9f('0xd15')):'normal'===_0x16f84a[_0x1a9f('0xc6')]&&_0x5bacb4&&(this[_0x1a9f('0x79')]=_0x5bacb4),_0x34599b;},'finish':function(_0x16f84a){for(var _0x5bacb4=this[_0x1a9f('0xd5f')][_0x1a9f('0xf')]-0x1;0x0<=_0x5bacb4;--_0x5bacb4){var _0x252c5d=this['tryEntries'][_0x5bacb4];if(_0x252c5d[_0x1a9f('0xd6b')]===_0x16f84a)return this[_0x1a9f('0x2cd')](_0x252c5d[_0x1a9f('0xd60')],_0x252c5d['afterLoc']),_0x412dd2(_0x252c5d),_0x34599b;}},'catch':function(_0x16f84a){for(var _0x5bacb4=this[_0x1a9f('0xd5f')][_0x1a9f('0xf')]-0x1;0x0<=_0x5bacb4;--_0x5bacb4){var _0x252c5d,_0x9d9595,_0x14daad=this[_0x1a9f('0xd5f')][_0x5bacb4];if(_0x14daad[_0x1a9f('0xd6a')]===_0x16f84a)return _0x1a9f('0xd52')===(_0x252c5d=_0x14daad[_0x1a9f('0xd60')])[_0x1a9f('0xc6')]&&(_0x9d9595=_0x252c5d[_0x1a9f('0xd50')],_0x412dd2(_0x14daad)),_0x9d9595;}throw new Error(_0x1a9f('0xd6f'));},'delegateYield':function(_0x16f84a,_0x5bacb4,_0x252c5d){return this[_0x1a9f('0xd51')]={'iterator':_0x11ae88(_0x16f84a),'resultName':_0x5bacb4,'nextLoc':_0x252c5d},_0x1a9f('0x79')===this[_0x1a9f('0xd4f')]&&(this['arg']=_0x3d85f6),_0x34599b;}});}(function(){return this;}()||Function(_0x1a9f('0x19'))());},function(_0x2e7f2f,_0x2312c5,_0x14c614){'use strict';_0x2312c5['__esModule']=!0x0;var _0x14c614=_0x14c614(0x2e),_0x51c848=_0x14c614&&_0x14c614[_0x1a9f('0x5')]?_0x14c614:{'default':_0x14c614};_0x2312c5['default']=function(_0x2e7f2f){return function(){var _0x3e6916=_0x2e7f2f[_0x1a9f('0x15')](this,arguments);return new _0x51c848[(_0x1a9f('0xa'))](function(_0x2e19da,_0x2de099){return function _0x2312c5(_0x2e7f2f,_0x14c614){try{var _0x29851f=_0x3e6916[_0x2e7f2f](_0x14c614),_0x1378f8=_0x29851f[_0x1a9f('0x11')];}catch(_0x3476f7){return void _0x2de099(_0x3476f7);}if(!_0x29851f['done'])return _0x51c848[_0x1a9f('0xa')]['resolve'](_0x1378f8)[_0x1a9f('0x362')](function(_0x2e7f2f){_0x2312c5(_0x1a9f('0x79'),_0x2e7f2f);},function(_0x2e7f2f){_0x2312c5(_0x1a9f('0xd52'),_0x2e7f2f);});_0x2e19da(_0x1378f8);}(_0x1a9f('0x79'));});};};},function(_0x15c017,_0x58824a,_0x50b6f3){'use strict';Object[_0x1a9f('0x3')](_0x58824a,'__esModule',{'value':!0x0});var _0x50b6f3=_0x50b6f3(0x6),_0x5630a5=_0x50b6f3&&_0x50b6f3[_0x1a9f('0x5')]?_0x50b6f3:{'default':_0x50b6f3};_0x58824a[_0x1a9f('0xa')]=function(){esmap['ESMapUtil']['searchEffectMarker']=function(_0x15c017,_0x58824a,_0x50b6f3,_0x28da36){if(!_0x50b6f3&&_0x50b6f3[_0x1a9f('0x505')])_0x28da36([]);else{var _0x24143f=[],_0x15c017=_0x15c017['getFloor'](_0x58824a),_0x53d077=!0x0,_0x58824a=!0x1,_0x424ae8=void 0x0;try{for(var _0x42cc63,_0x4731f9=(0x0,_0x5630a5[_0x1a9f('0xa')])(_0x15c017[_0x1a9f('0x49a')]);!(_0x53d077=(_0x42cc63=_0x4731f9['next']())[_0x1a9f('0xce')]);_0x53d077=!0x0){var _0x5716e2=_0x42cc63[_0x1a9f('0x11')],_0x53054e=!0x0,_0x36ec31=!0x1,_0x37fa2d=void 0x0;try{for(var _0x291ec6,_0x1d2bf1=(0x0,_0x5630a5[_0x1a9f('0xa')])(_0x5716e2[_0x1a9f('0x32d')]);!(_0x53054e=(_0x291ec6=_0x1d2bf1[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x53054e=!0x0){var _0x348278=_0x291ec6[_0x1a9f('0x11')];_0x348278['markerType']===_0x50b6f3[_0x1a9f('0x505')]&&(_0x50b6f3[_0x1a9f('0xd70')]?Array[_0x1a9f('0xd6')](_0x50b6f3[_0x1a9f('0xd70')])&&0x0<_0x50b6f3['names'][_0x1a9f('0xf')]?0x0<=_0x50b6f3[_0x1a9f('0xd70')][_0x1a9f('0xc4')](_0x348278[_0x1a9f('0x427')])&&_0x24143f[_0x1a9f('0x70')](_0x348278):_0x50b6f3[_0x1a9f('0xd70')]===_0x348278[_0x1a9f('0x427')]&&_0x24143f[_0x1a9f('0x70')](_0x348278):_0x24143f[_0x1a9f('0x70')](_0x348278));}}catch(_0x4a9258){_0x36ec31=!0x0,_0x37fa2d=_0x4a9258;}finally{try{!_0x53054e&&_0x1d2bf1['return']&&_0x1d2bf1[_0x1a9f('0xd0')]();}finally{if(_0x36ec31)throw _0x37fa2d;}}}}catch(_0x199927){_0x58824a=!0x0,_0x424ae8=_0x199927;}finally{try{!_0x53d077&&_0x4731f9['return']&&_0x4731f9[_0x1a9f('0xd0')]();}finally{if(_0x58824a)throw _0x424ae8;}}_0x28da36(_0x24143f);}},esmap[_0x1a9f('0xd71')][_0x1a9f('0xd72')][_0x1a9f('0xb')][_0x1a9f('0xd73')]=function(_0x15c017){esmap[_0x1a9f('0x53')]['screenEffect'][_0x1a9f('0x9f5')](this['o3d_'],_0x15c017);},esmap[_0x1a9f('0xd71')][_0x1a9f('0xd72')][_0x1a9f('0xb')][_0x1a9f('0xd74')]=function(){esmap['ESEffectTool'][_0x1a9f('0x494')]['removeObjectOutline'](this['o3d_']);},esmap[_0x1a9f('0xd71')]['ESModel3D'][_0x1a9f('0xb')][_0x1a9f('0xd75')]=function(_0x496f22){this[_0x1a9f('0x49c')][_0x1a9f('0x92')](function(_0x15c017){if('Mesh'===_0x15c017[_0x1a9f('0xc6')])if(0x0<_0x15c017['material']['length']){var _0x58824a=!0x0,_0x50b6f3=!0x1,_0x288b75=void 0x0;try{for(var _0x27a319,_0x247787=(0x0,_0x5630a5[_0x1a9f('0xa')])(mesh['material']);!(_0x58824a=(_0x27a319=_0x247787[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x58824a=!0x0){var _0x24a5d1=_0x27a319[_0x1a9f('0x11')];_0x24a5d1 instanceof THREE[_0x1a9f('0x716')]&&(_0x24a5d1[_0x1a9f('0x9a3')]=!0x0,_0x24a5d1[_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x496f22));}}catch(_0x510d4c){_0x50b6f3=!0x0,_0x288b75=_0x510d4c;}finally{try{!_0x58824a&&_0x247787[_0x1a9f('0xd0')]&&_0x247787[_0x1a9f('0xd0')]();}finally{if(_0x50b6f3)throw _0x288b75;}}}else _0x15c017['material'][_0x1a9f('0x9a3')]=!0x0,_0x15c017[_0x1a9f('0x48')][_0x1a9f('0x21e')][_0x1a9f('0x30c')](_0x496f22);});},esmap['ES3DMarker'][_0x1a9f('0xd72')][_0x1a9f('0xb')][_0x1a9f('0xd76')]=function(_0x15c017){_0x15c017['id']=this['ID'],esmap['ESEffectTool'][_0x1a9f('0x48f')]['showBoatFoam'](_0x15c017);},esmap[_0x1a9f('0xd71')][_0x1a9f('0xd72')][_0x1a9f('0xb')][_0x1a9f('0xd77')]=function(_0x15c017){_0x15c017['id']=this['ID'],esmap[_0x1a9f('0x53')][_0x1a9f('0x48f')][_0x1a9f('0xd77')](_0x15c017);},esmap[_0x1a9f('0xd78')][_0x1a9f('0xb')][_0x1a9f('0xd73')]=function(){esmap[_0x1a9f('0x53')][_0x1a9f('0x494')][_0x1a9f('0x9f5')](this[_0x1a9f('0x49c')]);},esmap['ESPolygonMarker'][_0x1a9f('0xb')][_0x1a9f('0xd74')]=function(){esmap[_0x1a9f('0x53')][_0x1a9f('0x494')]['removeObjectOutline'](this[_0x1a9f('0x49c')]);},esmap[_0x1a9f('0xd78')]['prototype'][_0x1a9f('0xd79')]=function(_0x15c017){this[_0x1a9f('0x49c')]['children']&&0x0<this['o3d_']['children'][_0x1a9f('0xf')]&&esmap[_0x1a9f('0x53')]['screenEffect'][_0x1a9f('0x88a')](this['o3d_'][_0x1a9f('0x32d')][0x0]),this[_0x1a9f('0x73e')]&&esmap[_0x1a9f('0x53')][_0x1a9f('0x494')][_0x1a9f('0x88a')](this[_0x1a9f('0x49c')],_0x15c017);},esmap[_0x1a9f('0xd7a')]['prototype'][_0x1a9f('0xd79')]=function(_0x15c017){var _0x58824a=!0x0,_0x50b6f3=!0x1,_0x5ef0e3=void 0x0;try{for(var _0x3aa68f,_0x243157=(0x0,_0x5630a5['default'])(this['o3d_']['children']);!(_0x58824a=(_0x3aa68f=_0x243157[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x58824a=!0x0){var _0x484d10=_0x3aa68f['value'];esmap['ESEffectTool'][_0x1a9f('0x494')][_0x1a9f('0x88a')](_0x484d10,_0x15c017);}}catch(_0x51eb22){_0x50b6f3=!0x0,_0x5ef0e3=_0x51eb22;}finally{try{!_0x58824a&&_0x243157[_0x1a9f('0xd0')]&&_0x243157[_0x1a9f('0xd0')]();}finally{if(_0x50b6f3)throw _0x5ef0e3;}}};};},function(_0x5c2f13,_0x23fb59,_0x394bc1){'use strict';Object[_0x1a9f('0x3')](_0x23fb59,_0x1a9f('0x5'),{'value':!0x0});var _0x394bc1=_0x394bc1(0x6),_0x561ef0=_0x394bc1&&_0x394bc1[_0x1a9f('0x5')]?_0x394bc1:{'default':_0x394bc1};_0x23fb59[_0x1a9f('0xa')]=function(){esmap[_0x1a9f('0xd7b')][_0x1a9f('0xb')]['getEffectLayersByNames']=function(_0x5c2f13){if(!_0x5c2f13)return[];if(!this[_0x1a9f('0x49a')])return[];var _0x23fb59=[],_0x394bc1=this[_0x1a9f('0x49a')];if(Array[_0x1a9f('0xd6')](_0x5c2f13)&&0x0<_0x5c2f13[_0x1a9f('0xf')]){var _0x2aabb2=!0x0,_0x352496=!0x1,_0x2827cd=void 0x0;try{for(var _0x28e8f2,_0x523fc5=(0x0,_0x561ef0[_0x1a9f('0xa')])(_0x394bc1);!(_0x2aabb2=(_0x28e8f2=_0x523fc5[_0x1a9f('0x79')]())['done']);_0x2aabb2=!0x0){var _0x5348b4=_0x28e8f2[_0x1a9f('0x11')];0x0<=_0x5c2f13[_0x1a9f('0xc4')](_0x5348b4[_0x1a9f('0x427')])&&_0x23fb59[_0x1a9f('0x70')](_0x5348b4);}}catch(_0x4fd21d){_0x352496=!0x0,_0x2827cd=_0x4fd21d;}finally{try{!_0x2aabb2&&_0x523fc5['return']&&_0x523fc5[_0x1a9f('0xd0')]();}finally{if(_0x352496)throw _0x2827cd;}}}else{var _0x1a15e4=!0x0,_0x352496=!0x1,_0x2827cd=void 0x0;try{for(var _0x3601ab,_0x558267=(0x0,_0x561ef0['default'])(_0x394bc1);!(_0x1a15e4=(_0x3601ab=_0x558267[_0x1a9f('0x79')]())[_0x1a9f('0xce')]);_0x1a15e4=!0x0){var _0x558929=_0x3601ab[_0x1a9f('0x11')];_0x558929[_0x1a9f('0x427')]===_0x5c2f13&&_0x23fb59[_0x1a9f('0x70')](_0x558929);}}catch(_0x2ba48e){_0x352496=!0x0,_0x2827cd=_0x2ba48e;}finally{try{!_0x1a15e4&&_0x558267[_0x1a9f('0xd0')]&&_0x558267['return']();}finally{if(_0x352496)throw _0x2827cd;}}}return _0x23fb59;};};},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(_0x1e4dd3,_0x14d6ea,_0x20652e){'use strict';var _0x4e0685=_0x20652e(0x187);window[_0x1a9f('0xd7c')]=_0x4e0685,_0x20652e(0x189);},function(_0x2a1d4a,_0x1d0399,_0x3a1416){'use strict';!function(_0x5f9367){_0x34c94a(_0x3a1416(0x31));var _0x345ee5,_0x1e674e=_0x34c94a(_0x3a1416(0x22)),_0x356d3=_0x34c94a(_0x3a1416(0x3d));function _0x34c94a(_0x345ee5){return _0x345ee5&&_0x345ee5['__esModule']?_0x345ee5:{'default':_0x345ee5};}function _0x3cd571(){this[_0x1a9f('0xd7d')]={},this[_0x1a9f('0xd7e')]={};}_0x3cd571[_0x1a9f('0xb')]={'getAll':function(){return(0x0,_0x356d3[_0x1a9f('0xa')])(this['_tweens'])[_0x1a9f('0x90')](function(_0x345ee5){return this[_0x1a9f('0xd7d')][_0x345ee5];}[_0x1a9f('0x9')](this));},'removeAll':function(){this[_0x1a9f('0xd7d')]={};},'add':function(_0x345ee5){this['_tweens'][_0x345ee5[_0x1a9f('0xd7f')]()]=_0x345ee5,this[_0x1a9f('0xd7e')][_0x345ee5['getId']()]=_0x345ee5;},'remove':function(_0x345ee5){delete this[_0x1a9f('0xd7d')][_0x345ee5[_0x1a9f('0xd7f')]()],delete this[_0x1a9f('0xd7e')][_0x345ee5[_0x1a9f('0xd7f')]()];},'update':function(_0x345ee5,_0x5f9367){var _0x1e674e=(0x0,_0x356d3[_0x1a9f('0xa')])(this[_0x1a9f('0xd7d')]);if(0x0===_0x1e674e[_0x1a9f('0xf')])return!0x1;for(_0x345ee5=void 0x0!==_0x345ee5?_0x345ee5:_0x5a4360[_0x1a9f('0x2b0')]();0x0<_0x1e674e[_0x1a9f('0xf')];){this['_tweensAddedDuringUpdate']={};for(var _0x34c94a=0x0;_0x34c94a<_0x1e674e[_0x1a9f('0xf')];_0x34c94a++){var _0x3cd571=this['_tweens'][_0x1e674e[_0x34c94a]];_0x3cd571&&!0x1===_0x3cd571[_0x1a9f('0x2e4')](_0x345ee5)&&(_0x3cd571['_isPlaying']=!0x1,_0x5f9367||delete this[_0x1a9f('0xd7d')][_0x1e674e[_0x34c94a]]);}_0x1e674e=(0x0,_0x356d3[_0x1a9f('0xa')])(this[_0x1a9f('0xd7e')]);}return!0x0;}};var _0x424e3b,_0x5a4360=new _0x3cd571();_0x5a4360[_0x1a9f('0x1e5')]=_0x3cd571,_0x5a4360['_nextId']=0x0,_0x5a4360[_0x1a9f('0xd80')]=function(){return _0x5a4360[_0x1a9f('0xd81')]++;},_0x1a9f('0x1')==typeof self&&void 0x0!==_0x5f9367&&_0x5f9367['hrtime']?_0x5a4360[_0x1a9f('0x2b0')]=function(){var _0x345ee5=_0x5f9367['hrtime']();return 0x3e8*_0x345ee5[0x0]+_0x345ee5[0x1]/0xf4240;}:_0x1a9f('0x1')!=typeof self&&void 0x0!==self[_0x1a9f('0xd82')]&&void 0x0!==self[_0x1a9f('0xd82')][_0x1a9f('0x2b0')]?_0x5a4360[_0x1a9f('0x2b0')]=self[_0x1a9f('0xd82')][_0x1a9f('0x2b0')][_0x1a9f('0x9')](self['performance']):void 0x0!==Date[_0x1a9f('0x2b0')]?_0x5a4360[_0x1a9f('0x2b0')]=Date['now']:_0x5a4360['now']=function(){return new Date()['getTime']();},_0x5a4360[_0x1a9f('0x2e0')]=function(_0x345ee5,_0x5f9367){this[_0x1a9f('0xd83')]=_0x345ee5,this['_valuesStart']={},this[_0x1a9f('0xd84')]={},this[_0x1a9f('0xd85')]={},this[_0x1a9f('0xd86')]=0x3e8,this[_0x1a9f('0xd87')]=0x0,this[_0x1a9f('0xd88')]=void 0x0,this[_0x1a9f('0xd89')]=!0x1,this[_0x1a9f('0xd8a')]=!0x1,this[_0x1a9f('0xd8b')]=!0x1,this[_0x1a9f('0xd8c')]=0x0,this[_0x1a9f('0xd8d')]=null,this[_0x1a9f('0xd8e')]=_0x5a4360[_0x1a9f('0x2ea')]['Linear'][_0x1a9f('0x917')],this[_0x1a9f('0xd8f')]=_0x5a4360['Interpolation']['Linear'],this['_chainedTweens']=[],this[_0x1a9f('0xd90')]=null,this[_0x1a9f('0xd91')]=!0x1,this[_0x1a9f('0xd92')]=null,this[_0x1a9f('0xd93')]=null,this[_0x1a9f('0xd94')]=null,this[_0x1a9f('0xd95')]=null,this[_0x1a9f('0xd96')]=_0x5f9367||_0x5a4360,this['_id']=_0x5a4360[_0x1a9f('0xd80')]();},_0x5a4360['Tween'][_0x1a9f('0xb')]={'getId':function(){return this[_0x1a9f('0x947')];},'isPlaying':function(){return this[_0x1a9f('0xd8a')];},'to':function(_0x345ee5,_0x5f9367){return this[_0x1a9f('0xd84')]=(0x0,_0x1e674e[_0x1a9f('0xa')])(_0x345ee5),void 0x0!==_0x5f9367&&(this[_0x1a9f('0xd86')]=_0x5f9367),this;},'duration':function(_0x345ee5){return this[_0x1a9f('0xd86')]=_0x345ee5,this;},'start':function(_0x345ee5){for(var _0x5f9367 in this[_0x1a9f('0xd96')][_0x1a9f('0x1c0')](this),this[_0x1a9f('0xd8a')]=!0x0,this[_0x1a9f('0xd91')]=!0x1,this[_0x1a9f('0xd8d')]=void 0x0!==_0x345ee5?_0x1a9f('0x8')==typeof _0x345ee5?_0x5a4360[_0x1a9f('0x2b0')]()+parseFloat(_0x345ee5):_0x345ee5:_0x5a4360[_0x1a9f('0x2b0')](),this[_0x1a9f('0xd8d')]+=this[_0x1a9f('0xd8c')],this[_0x1a9f('0xd84')]){if(this[_0x1a9f('0xd84')][_0x5f9367]instanceof Array){if(0x0===this[_0x1a9f('0xd84')][_0x5f9367][_0x1a9f('0xf')])continue;this[_0x1a9f('0xd84')][_0x5f9367]=[this[_0x1a9f('0xd83')][_0x5f9367]][_0x1a9f('0xd97')](this[_0x1a9f('0xd84')][_0x5f9367]);}void 0x0!==this[_0x1a9f('0xd83')][_0x5f9367]&&(this[_0x1a9f('0xd98')][_0x5f9367]=this[_0x1a9f('0xd83')][_0x5f9367],this[_0x1a9f('0xd98')][_0x5f9367]instanceof Array==0x0&&(this['_valuesStart'][_0x5f9367]*=0x1),this[_0x1a9f('0xd85')][_0x5f9367]=this['_valuesStart'][_0x5f9367]||0x0);}return this;},'stop':function(){return this[_0x1a9f('0xd8a')]&&(this[_0x1a9f('0xd96')]['remove'](this),this[_0x1a9f('0xd8a')]=!0x1,null!==this[_0x1a9f('0xd95')]&&this[_0x1a9f('0xd95')](this[_0x1a9f('0xd83')]),this[_0x1a9f('0xd99')]()),this;},'end':function(){return this[_0x1a9f('0x2e4')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x345ee5=0x0,_0x5f9367=this[_0x1a9f('0xd9a')][_0x1a9f('0xf')];_0x345ee5<_0x5f9367;_0x345ee5++)this[_0x1a9f('0xd9a')][_0x345ee5][_0x1a9f('0xd9b')]();},'group':function(_0x345ee5){return this[_0x1a9f('0xd96')]=_0x345ee5,this;},'delay':function(_0x345ee5){return this[_0x1a9f('0xd8c')]=_0x345ee5,this;},'repeat':function(_0x345ee5){return this[_0x1a9f('0xd87')]=_0x345ee5,this;},'repeatDelay':function(_0x345ee5){return this[_0x1a9f('0xd88')]=_0x345ee5,this;},'yoyo':function(_0x345ee5){return this[_0x1a9f('0xd89')]=_0x345ee5,this;},'easing':function(_0x345ee5){return this[_0x1a9f('0xd8e')]=_0x345ee5,this;},'interpolation':function(_0x345ee5){return this[_0x1a9f('0xd8f')]=_0x345ee5,this;},'chain':function(){return this[_0x1a9f('0xd9a')]=arguments,this;},'onStart':function(_0x345ee5){return this[_0x1a9f('0xd90')]=_0x345ee5,this;},'onUpdate':function(_0x345ee5){return this[_0x1a9f('0xd92')]=_0x345ee5,this;},'onRepeat':function(_0x345ee5){return this[_0x1a9f('0xd93')]=_0x345ee5,this;},'onComplete':function(_0x345ee5){return this[_0x1a9f('0xd94')]=_0x345ee5,this;},'onStop':function(_0x345ee5){return this[_0x1a9f('0xd95')]=_0x345ee5,this;},'update':function(_0x345ee5){var _0x5f9367,_0x1e674e,_0x34c94a,_0x3cd571,_0x356d3,_0x424e3b;if(_0x345ee5<this['_startTime'])return!0x0;for(_0x5f9367 in!0x1===this[_0x1a9f('0xd91')]&&(null!==this['_onStartCallback']&&this[_0x1a9f('0xd90')](this[_0x1a9f('0xd83')]),this[_0x1a9f('0xd91')]=!0x0),_0x1e674e=(_0x345ee5-this[_0x1a9f('0xd8d')])/this[_0x1a9f('0xd86')],_0x1e674e=0x0===this[_0x1a9f('0xd86')]||0x1<_0x1e674e?0x1:_0x1e674e,_0x34c94a=this[_0x1a9f('0xd8e')](_0x1e674e),this['_valuesEnd'])void 0x0!==this[_0x1a9f('0xd98')][_0x5f9367]&&(_0x3cd571=this[_0x1a9f('0xd98')][_0x5f9367]||0x0,(_0x356d3=this['_valuesEnd'][_0x5f9367])instanceof Array?this[_0x1a9f('0xd83')][_0x5f9367]=this[_0x1a9f('0xd8f')](_0x356d3,_0x34c94a):_0x1a9f('0x14')==typeof(_0x356d3=_0x1a9f('0x8')==typeof _0x356d3?'+'===_0x356d3[_0x1a9f('0x7e')](0x0)||'-'===_0x356d3['charAt'](0x0)?_0x3cd571+parseFloat(_0x356d3):parseFloat(_0x356d3):_0x356d3)&&(this[_0x1a9f('0xd83')][_0x5f9367]=_0x3cd571+(_0x356d3-_0x3cd571)*_0x34c94a));if(null!==this[_0x1a9f('0xd92')]&&this[_0x1a9f('0xd92')](this[_0x1a9f('0xd83')],_0x1e674e),0x1!==_0x1e674e)return!0x0;if(0x0<this[_0x1a9f('0xd87')]){for(_0x5f9367 in isFinite(this[_0x1a9f('0xd87')])&&this['_repeat']--,this[_0x1a9f('0xd85')])_0x1a9f('0x8')==typeof this[_0x1a9f('0xd84')][_0x5f9367]&&(this['_valuesStartRepeat'][_0x5f9367]=this[_0x1a9f('0xd85')][_0x5f9367]+parseFloat(this[_0x1a9f('0xd84')][_0x5f9367])),this['_yoyo']&&(_0x424e3b=this[_0x1a9f('0xd85')][_0x5f9367],this['_valuesStartRepeat'][_0x5f9367]=this[_0x1a9f('0xd84')][_0x5f9367],this[_0x1a9f('0xd84')][_0x5f9367]=_0x424e3b),this[_0x1a9f('0xd98')][_0x5f9367]=this[_0x1a9f('0xd85')][_0x5f9367];return this[_0x1a9f('0xd89')]&&(this[_0x1a9f('0xd8b')]=!this[_0x1a9f('0xd8b')]),void 0x0!==this[_0x1a9f('0xd88')]?this[_0x1a9f('0xd8d')]=_0x345ee5+this[_0x1a9f('0xd88')]:this[_0x1a9f('0xd8d')]=_0x345ee5+this[_0x1a9f('0xd8c')],null!==this[_0x1a9f('0xd93')]&&this['_onRepeatCallback'](this[_0x1a9f('0xd83')]),!0x0;}null!==this[_0x1a9f('0xd94')]&&this[_0x1a9f('0xd94')](this['_object']);for(var _0x5a4360=0x0,_0x2a1d4a=this['_chainedTweens'][_0x1a9f('0xf')];_0x5a4360<_0x2a1d4a;_0x5a4360++)this[_0x1a9f('0xd9a')][_0x5a4360][_0x1a9f('0x2e2')](this[_0x1a9f('0xd8d')]+this['_duration']);return!0x1;}},_0x5a4360[_0x1a9f('0x2ea')]={'Linear':{'None':function(_0x345ee5){return _0x345ee5;}},'Quadratic':{'In':function(_0x345ee5){return _0x345ee5*_0x345ee5;},'Out':function(_0x345ee5){return _0x345ee5*(0x2-_0x345ee5);},'InOut':function(_0x345ee5){return(_0x345ee5*=0x2)<0x1?0.5*_0x345ee5*_0x345ee5:-0.5*(--_0x345ee5*(_0x345ee5-0x2)-0x1);}},'Cubic':{'In':function(_0x345ee5){return _0x345ee5*_0x345ee5*_0x345ee5;},'Out':function(_0x345ee5){return--_0x345ee5*_0x345ee5*_0x345ee5+0x1;},'InOut':function(_0x345ee5){return(_0x345ee5*=0x2)<0x1?0.5*_0x345ee5*_0x345ee5*_0x345ee5:0.5*((_0x345ee5-=0x2)*_0x345ee5*_0x345ee5+0x2);}},'Quartic':{'In':function(_0x345ee5){return _0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5;},'Out':function(_0x345ee5){return 0x1- --_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5;},'InOut':function(_0x345ee5){return(_0x345ee5*=0x2)<0x1?0.5*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5:-0.5*((_0x345ee5-=0x2)*_0x345ee5*_0x345ee5*_0x345ee5-0x2);}},'Quintic':{'In':function(_0x345ee5){return _0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5;},'Out':function(_0x345ee5){return--_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5+0x1;},'InOut':function(_0x345ee5){return(_0x345ee5*=0x2)<0x1?0.5*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5:0.5*((_0x345ee5-=0x2)*_0x345ee5*_0x345ee5*_0x345ee5*_0x345ee5+0x2);}},'Sinusoidal':{'In':function(_0x345ee5){return 0x1-Math[_0x1a9f('0x5a')](_0x345ee5*Math['PI']/0x2);},'Out':function(_0x345ee5){return Math[_0x1a9f('0x59')](_0x345ee5*Math['PI']/0x2);},'InOut':function(_0x345ee5){return 0.5*(0x1-Math['cos'](Math['PI']*_0x345ee5));}},'Exponential':{'In':function(_0x345ee5){return 0x0===_0x345ee5?0x0:Math[_0x1a9f('0x31f')](0x400,_0x345ee5-0x1);},'Out':function(_0x345ee5){return 0x1===_0x345ee5?0x1:0x1-Math[_0x1a9f('0x31f')](0x2,-0xa*_0x345ee5);},'InOut':function(_0x345ee5){return 0x0===_0x345ee5?0x0:0x1===_0x345ee5?0x1:(_0x345ee5*=0x2)<0x1?0.5*Math[_0x1a9f('0x31f')](0x400,_0x345ee5-0x1):0.5*(0x2-Math['pow'](0x2,-0xa*(_0x345ee5-0x1)));}},'Circular':{'In':function(_0x345ee5){return 0x1-Math[_0x1a9f('0x1bc')](0x1-_0x345ee5*_0x345ee5);},'Out':function(_0x345ee5){return Math[_0x1a9f('0x1bc')](0x1- --_0x345ee5*_0x345ee5);},'InOut':function(_0x345ee5){return(_0x345ee5*=0x2)<0x1?-0.5*(Math[_0x1a9f('0x1bc')](0x1-_0x345ee5*_0x345ee5)-0x1):0.5*(Math['sqrt'](0x1-(_0x345ee5-=0x2)*_0x345ee5)+0x1);}},'Elastic':{'In':function(_0x345ee5){return 0x0===_0x345ee5?0x0:0x1===_0x345ee5?0x1:-Math['pow'](0x2,0xa*(_0x345ee5-0x1))*Math['sin'](0x5*(_0x345ee5-1.1)*Math['PI']);},'Out':function(_0x345ee5){return 0x0===_0x345ee5?0x0:0x1===_0x345ee5?0x1:Math[_0x1a9f('0x31f')](0x2,-0xa*_0x345ee5)*Math[_0x1a9f('0x59')](0x5*(_0x345ee5-0.1)*Math['PI'])+0x1;},'InOut':function(_0x345ee5){return 0x0===_0x345ee5?0x0:0x1===_0x345ee5?0x1:(_0x345ee5*=0x2)<0x1?-0.5*Math[_0x1a9f('0x31f')](0x2,0xa*(_0x345ee5-0x1))*Math[_0x1a9f('0x59')](0x5*(_0x345ee5-1.1)*Math['PI']):0.5*Math[_0x1a9f('0x31f')](0x2,-0xa*(_0x345ee5-0x1))*Math[_0x1a9f('0x59')](0x5*(_0x345ee5-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x345ee5){return _0x345ee5*_0x345ee5*(2.70158*_0x345ee5-1.70158);},'Out':function(_0x345ee5){return--_0x345ee5*_0x345ee5*(2.70158*_0x345ee5+1.70158)+0x1;},'InOut':function(_0x345ee5){var _0x5f9367=2.5949095;return(_0x345ee5*=0x2)<0x1?_0x345ee5*_0x345ee5*((0x1+_0x5f9367)*_0x345ee5-_0x5f9367)*0.5:0.5*((_0x345ee5-=0x2)*_0x345ee5*((0x1+_0x5f9367)*_0x345ee5+_0x5f9367)+0x2);}},'Bounce':{'In':function(_0x345ee5){return 0x1-_0x5a4360['Easing'][_0x1a9f('0xd9c')]['Out'](0x1-_0x345ee5);},'Out':function(_0x345ee5){return _0x345ee5<0x1/2.75?7.5625*_0x345ee5*_0x345ee5:_0x345ee5<0x2/2.75?7.5625*(_0x345ee5-=1.5/2.75)*_0x345ee5+0.75:_0x345ee5<2.5/2.75?7.5625*(_0x345ee5-=2.25/2.75)*_0x345ee5+0.9375:7.5625*(_0x345ee5-=2.625/2.75)*_0x345ee5+0.984375;},'InOut':function(_0x345ee5){return _0x345ee5<0.5?0.5*_0x5a4360[_0x1a9f('0x2ea')]['Bounce']['In'](0x2*_0x345ee5):0.5*_0x5a4360[_0x1a9f('0x2ea')][_0x1a9f('0xd9c')][_0x1a9f('0x2eb')](0x2*_0x345ee5-0x1)+0.5;}}},_0x5a4360[_0x1a9f('0xd9d')]={'Linear':function(_0x345ee5,_0x5f9367){var _0x1e674e=_0x345ee5[_0x1a9f('0xf')]-0x1,_0x34c94a=_0x1e674e*_0x5f9367,_0x3cd571=Math[_0x1a9f('0x6e')](_0x34c94a),_0x356d3=_0x5a4360[_0x1a9f('0xd9d')][_0x1a9f('0xd9e')][_0x1a9f('0x43a')];return _0x5f9367<0x0?_0x356d3(_0x345ee5[0x0],_0x345ee5[0x1],_0x34c94a):0x1<_0x5f9367?_0x356d3(_0x345ee5[_0x1e674e],_0x345ee5[_0x1e674e-0x1],_0x1e674e-_0x34c94a):_0x356d3(_0x345ee5[_0x3cd571],_0x345ee5[_0x1e674e<_0x3cd571+0x1?_0x1e674e:_0x3cd571+0x1],_0x34c94a-_0x3cd571);},'Bezier':function(_0x345ee5,_0x5f9367){for(var _0x1e674e=0x0,_0x34c94a=_0x345ee5[_0x1a9f('0xf')]-0x1,_0x3cd571=Math[_0x1a9f('0x31f')],_0x356d3=_0x5a4360[_0x1a9f('0xd9d')][_0x1a9f('0xd9e')][_0x1a9f('0xd9f')],_0x424e3b=0x0;_0x424e3b<=_0x34c94a;_0x424e3b++)_0x1e674e+=_0x3cd571(0x1-_0x5f9367,_0x34c94a-_0x424e3b)*_0x3cd571(_0x5f9367,_0x424e3b)*_0x345ee5[_0x424e3b]*_0x356d3(_0x34c94a,_0x424e3b);return _0x1e674e;},'CatmullRom':function(_0x345ee5,_0x5f9367){var _0x1e674e=_0x345ee5[_0x1a9f('0xf')]-0x1,_0x34c94a=_0x1e674e*_0x5f9367,_0x3cd571=Math['floor'](_0x34c94a),_0x356d3=_0x5a4360['Interpolation'][_0x1a9f('0xd9e')][_0x1a9f('0xda0')];return _0x345ee5[0x0]===_0x345ee5[_0x1e674e]?_0x356d3(_0x345ee5[((_0x3cd571=_0x5f9367<0x0?Math[_0x1a9f('0x6e')](_0x34c94a=_0x1e674e*(0x1+_0x5f9367)):_0x3cd571)-0x1+_0x1e674e)%_0x1e674e],_0x345ee5[_0x3cd571],_0x345ee5[(_0x3cd571+0x1)%_0x1e674e],_0x345ee5[(_0x3cd571+0x2)%_0x1e674e],_0x34c94a-_0x3cd571):_0x5f9367<0x0?_0x345ee5[0x0]-(_0x356d3(_0x345ee5[0x0],_0x345ee5[0x0],_0x345ee5[0x1],_0x345ee5[0x1],-_0x34c94a)-_0x345ee5[0x0]):0x1<_0x5f9367?_0x345ee5[_0x1e674e]-(_0x356d3(_0x345ee5[_0x1e674e],_0x345ee5[_0x1e674e],_0x345ee5[_0x1e674e-0x1],_0x345ee5[_0x1e674e-0x1],_0x34c94a-_0x1e674e)-_0x345ee5[_0x1e674e]):_0x356d3(_0x345ee5[_0x3cd571?_0x3cd571-0x1:0x0],_0x345ee5[_0x3cd571],_0x345ee5[_0x1e674e<_0x3cd571+0x1?_0x1e674e:_0x3cd571+0x1],_0x345ee5[_0x1e674e<_0x3cd571+0x2?_0x1e674e:_0x3cd571+0x2],_0x34c94a-_0x3cd571);},'Utils':{'Linear':function(_0x345ee5,_0x5f9367,_0x1e674e){return(_0x5f9367-_0x345ee5)*_0x1e674e+_0x345ee5;},'Bernstein':function(_0x345ee5,_0x5f9367){var _0x1e674e=_0x5a4360[_0x1a9f('0xd9d')][_0x1a9f('0xd9e')]['Factorial'];return _0x1e674e(_0x345ee5)/_0x1e674e(_0x5f9367)/_0x1e674e(_0x345ee5-_0x5f9367);},'Factorial':(_0x424e3b=[0x1],function(_0x345ee5){var _0x5f9367=0x1;if(_0x424e3b[_0x345ee5])return _0x424e3b[_0x345ee5];for(var _0x1e674e=_0x345ee5;0x1<_0x1e674e;_0x1e674e--)_0x5f9367*=_0x1e674e;return _0x424e3b[_0x345ee5]=_0x5f9367;}),'CatmullRom':function(_0x345ee5,_0x5f9367,_0x1e674e,_0x34c94a,_0x3cd571){var _0x345ee5=0.5*(_0x1e674e-_0x345ee5),_0x34c94a=0.5*(_0x34c94a-_0x5f9367),_0x356d3=_0x3cd571*_0x3cd571;return _0x3cd571*_0x356d3*(0x2*_0x5f9367-0x2*_0x1e674e+_0x345ee5+_0x34c94a)+(-0x3*_0x5f9367+0x3*_0x1e674e-0x2*_0x345ee5-_0x34c94a)*_0x356d3+_0x345ee5*_0x3cd571+_0x5f9367;}}},void 0x0!==(_0x345ee5=function(){return _0x5a4360;}[_0x1a9f('0x15')](_0x1d0399,[]))&&(_0x2a1d4a['exports']=_0x345ee5);}[_0x1a9f('0xd')](this,_0x3a1416(0x188));},function(_0x7b67b3,_0x53bdbe){var _0x29a275,_0x540486,_0x7b67b3=_0x7b67b3['exports']={};function _0x8b3b4c(){throw new Error(_0x1a9f('0xda1'));}function _0x3662eb(){throw new Error(_0x1a9f('0xda2'));}try{_0x29a275=_0x1a9f('0x16')==typeof setTimeout?setTimeout:_0x8b3b4c;}catch(_0x37f753){_0x29a275=_0x8b3b4c;}try{_0x540486=_0x1a9f('0x16')==typeof clearTimeout?clearTimeout:_0x3662eb;}catch(_0x33e394){_0x540486=_0x3662eb;}function _0x4788ae(_0x53bdbe){if(_0x29a275===setTimeout)return setTimeout(_0x53bdbe,0x0);if((_0x29a275===_0x8b3b4c||!_0x29a275)&&setTimeout)return(_0x29a275=setTimeout)(_0x53bdbe,0x0);try{return _0x29a275(_0x53bdbe,0x0);}catch(_0x193b83){try{return _0x29a275[_0x1a9f('0xd')](null,_0x53bdbe,0x0);}catch(_0x1d3a51){return _0x29a275['call'](this,_0x53bdbe,0x0);}}}var _0x537137,_0x1ca01f=[],_0x409bba=!0x1,_0xe45edb=-0x1;function _0xb094e1(){_0x409bba&&_0x537137&&(_0x409bba=!0x1,_0x537137[_0x1a9f('0xf')]?_0x1ca01f=_0x537137[_0x1a9f('0xd97')](_0x1ca01f):_0xe45edb=-0x1,_0x1ca01f[_0x1a9f('0xf')]&&_0x32e871());}function _0x32e871(){if(!_0x409bba){for(var _0x7b67b3=_0x4788ae(_0xb094e1),_0x53bdbe=(_0x409bba=!0x0,_0x1ca01f[_0x1a9f('0xf')]);_0x53bdbe;){for(_0x537137=_0x1ca01f,_0x1ca01f=[];++_0xe45edb<_0x53bdbe;)_0x537137&&_0x537137[_0xe45edb]['run']();_0xe45edb=-0x1,_0x53bdbe=_0x1ca01f[_0x1a9f('0xf')];}_0x537137=null,_0x409bba=!0x1,function(_0x53bdbe){if(_0x540486===clearTimeout)return clearTimeout(_0x53bdbe);if((_0x540486===_0x3662eb||!_0x540486)&&clearTimeout)return(_0x540486=clearTimeout)(_0x53bdbe);try{_0x540486(_0x53bdbe);}catch(_0x472011){try{return _0x540486['call'](null,_0x53bdbe);}catch(_0x19cb35){return _0x540486[_0x1a9f('0xd')](this,_0x53bdbe);}}}(_0x7b67b3);}}function _0x5a0848(_0x7b67b3,_0x53bdbe){this[_0x1a9f('0xda3')]=_0x7b67b3,this['array']=_0x53bdbe;}function _0x5b562d(){}_0x7b67b3[_0x1a9f('0x2af')]=function(_0x7b67b3){var _0x53bdbe=new Array(arguments['length']-0x1);if(0x1<arguments[_0x1a9f('0xf')])for(var _0x29a275=0x1;_0x29a275<arguments[_0x1a9f('0xf')];_0x29a275++)_0x53bdbe[_0x29a275-0x1]=arguments[_0x29a275];_0x1ca01f['push'](new _0x5a0848(_0x7b67b3,_0x53bdbe)),0x1!==_0x1ca01f['length']||_0x409bba||_0x4788ae(_0x32e871);},_0x5a0848[_0x1a9f('0xb')][_0x1a9f('0xda4')]=function(){this[_0x1a9f('0xda3')][_0x1a9f('0x15')](null,this['array']);},_0x7b67b3['title']='browser',_0x7b67b3[_0x1a9f('0xda5')]=!0x0,_0x7b67b3[_0x1a9f('0xda6')]={},_0x7b67b3['argv']=[],_0x7b67b3[_0x1a9f('0x71')]='',_0x7b67b3[_0x1a9f('0xda7')]={},_0x7b67b3['on']=_0x5b562d,_0x7b67b3[_0x1a9f('0xda8')]=_0x5b562d,_0x7b67b3[_0x1a9f('0x81b')]=_0x5b562d,_0x7b67b3['off']=_0x5b562d,_0x7b67b3[_0x1a9f('0xda9')]=_0x5b562d,_0x7b67b3['removeAllListeners']=_0x5b562d,_0x7b67b3['emit']=_0x5b562d,_0x7b67b3[_0x1a9f('0xdaa')]=_0x5b562d,_0x7b67b3[_0x1a9f('0xdab')]=_0x5b562d,_0x7b67b3[_0x1a9f('0xdac')]=function(_0x7b67b3){return[];},_0x7b67b3[_0x1a9f('0xdad')]=function(_0x7b67b3){throw new Error(_0x1a9f('0xdae'));},_0x7b67b3[_0x1a9f('0xdaf')]=function(){return'/';},_0x7b67b3[_0x1a9f('0xdb0')]=function(_0x7b67b3){throw new Error(_0x1a9f('0xdb1'));},_0x7b67b3['umask']=function(){return 0x0;};},function(_0x2b0038,_0x35cd51,_0x313810){'use strict';if(_0x313810(0xc0),_0x313810(0x18a),!esmap)throw new Error(_0x1a9f('0x488'));},function(_0x48b414,_0x3c75e1,_0x549091){'use strict';var _0x1e6e16=_0x58483b(_0x549091(0x31)),_0x5c09b3=_0x58483b(_0x549091(0x2e)),_0x453c13=_0x58483b(_0x549091(0x6)),_0xe3f845=_0x58483b(_0x549091(0x11)),_0x32ff74=function(_0x48b414){if(_0x48b414&&_0x48b414[_0x1a9f('0x5')])return _0x48b414;var _0x3c75e1={};if(null!=_0x48b414)for(var _0x549091 in _0x48b414)Object['prototype'][_0x1a9f('0xc')][_0x1a9f('0xd')](_0x48b414,_0x549091)&&(_0x3c75e1[_0x549091]=_0x48b414[_0x549091]);return _0x3c75e1['default']=_0x48b414,_0x3c75e1;}(_0x549091(0x40)),_0x216908=_0x58483b(_0x549091(0x18b)),_0x5f427d=_0x549091(0x18c),_0x114b20=_0x549091(0x1a);function _0x58483b(_0x48b414){return _0x48b414&&_0x48b414[_0x1a9f('0x5')]?_0x48b414:{'default':_0x48b414};}var _0x257e75,_0x478743,_0x58c27d,_0x4dc259,_0x127126,_0x20e41e,_0x5d29a6,_0x5e46b5,_0x2e55a7,_0x28df33,_0x25b92b,_0x2f0501,_0x165e1c,_0x59758d={};function _0x5dd9dc(){esmap[_0x1a9f('0x7da')]['_tempRaf']&&cancelAnimationFrame(esmap['ESTileMap'][_0x1a9f('0xdb2')]),esmap[_0x1a9f('0xdb3')]=!0x0,_0x5e46b5=!0x1,_0x25b92b=_0x2e55a7=_0x127126=_0x4dc259=_0x58c27d=_0x257e75=null,_0x478743[_0x1a9f('0x4a1')](_0x1a9f('0xdb4')),_0x478743=null;}function _0x15e0a2(_0xe3f845){_0x58c27d=_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0xdb5')]||'amap',!_0xe3f845[_0x1a9f('0xdb6')]&&_0x257e75[_0x1a9f('0x847')][_0x1a9f('0xdb7')]&&(_0xe3f845['tileUrl']=_0x257e75[_0x1a9f('0x847')]['tileurl'][0x0]),_0xe3f845['tileUrl']&&-0x1<_0xe3f845['tileUrl'][_0x1a9f('0xc4')]('|')&&((_0x48b414=function(){for(var _0x48b414={},_0x3c75e1=_0xe3f845[_0x1a9f('0xdb6')][_0x1a9f('0x5f')]('|'),_0x549091=0x1;_0x549091<_0x3c75e1[_0x1a9f('0xf')];_0x549091++){var _0x1e6e16=_0x3c75e1[_0x549091][_0x1a9f('0x5f')]('=');_0x48b414[_0x1e6e16[0x0]]=_0x1e6e16[0x1];}return _0x48b414;}())[_0x1a9f('0xdb8')]&&(_0xe3f845[_0x1a9f('0xdb9')]=+_0x48b414[_0x1a9f('0xdb8')]),_0x48b414[_0x1a9f('0xdba')]&&(_0xe3f845[_0x1a9f('0xdbb')]=+_0x48b414[_0x1a9f('0xdba')]),_0x48b414[_0x1a9f('0xdbc')]&&(_0x48b414[_0x1a9f('0xdbc')]=JSON[_0x1a9f('0x2be')](_0x48b414[_0x1a9f('0xdbc')])),_0x48b414[_0x1a9f('0xdbc')]&&(_0xe3f845[_0x1a9f('0xdbd')]={'min':_0x48b414[_0x1a9f('0xdbc')][0x0],'max':_0x48b414[_0x1a9f('0xdbc')][0x1]}),_0xe3f845[_0x1a9f('0xdb6')]=_0xe3f845[_0x1a9f('0xdb6')][_0x1a9f('0x5f')]('|')[0x0]),_0xe3f845[_0x1a9f('0xdb9')]&&(esmap[_0x1a9f('0x7da')][_0x1a9f('0xdb9')]=_0xe3f845['tileSourceLevelOffset']);var _0x3c75e1,_0x549091,_0x1e6e16,_0x48b414=esmap[_0x1a9f('0x3e')][_0x1a9f('0xdbe')](),_0x216908={'tileUrl':_0xe3f845[_0x1a9f('0xdb6')],'tileTheme':_0xe3f845['tileTheme'],'isShowWater':_0xe3f845[_0x1a9f('0x3e1')],'isShowTileSourceLicense':_0xe3f845[_0x1a9f('0xdbf')],'isOpenControllerInertia':_0xe3f845['isOpenControllerInertia'],'tileSourceMaxLevel':_0xe3f845[_0x1a9f('0xdbb')],'tileSourceZoom':_0xe3f845['tileSourceLevelExtent'],'tileSourceLevelOffset':_0xe3f845[_0x1a9f('0xdb9')],'isInitShow':_0xe3f845[_0x1a9f('0xdc0')]},_0x58483b=_0x216908[_0x1a9f('0xdb6')],_0x5e46b5=_0x216908[_0x1a9f('0x3e1')],_0x28df33=_0x216908[_0x1a9f('0xdbf')],_0x453c13=_0x216908[_0x1a9f('0xdc1')],_0x5dd9dc=_0x216908[_0x1a9f('0xdbb')],_0x15e0a2=_0x216908[_0x1a9f('0xdc2')],_0x216908=_0x216908[_0x1a9f('0xdc0')],_0x36d31a=new ESTileMap['Extent'](_0x1a9f('0xdc3'),-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x264a03=_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0x350')],_0x3f5c25=_0x5f427d[_0x1a9f('0xdc4')],_0x264a03=(_0x5e46b5&&(_0x4dc259=new _0x32ff74[(_0x1a9f('0xb8'))]({'isShowWater':!0x0,'originColor':_0x3f5c25[_0x1a9f('0xdc5')],'replaceColor':_0x3f5c25[_0x1a9f('0xdc6')]}),_0x3f5c25[_0x1a9f('0xdc7')]=new THREE[(_0x1a9f('0xc8'))]()[_0x1a9f('0xca')](_0x5f427d[_0x1a9f('0xdc4')][_0x1a9f('0xdc8')])),(_0x478743=new ESTileMap[(_0x1a9f('0xdc9'))](_0x264a03,_0x36d31a,{'scene3D':_0x257e75['mapView'][_0x1a9f('0x443')],'camera':_0x257e75['mapView'][_0x1a9f('0x314')],'renderer':_0x257e75['mapView']['renderer'],'disableSkirt':!0x0,'maxSubdivisionLevel':_0x5dd9dc||0x13,'mapType':_0x58c27d,'tileOptions':_0x3f5c25,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))[_0x1a9f('0xdca')]=!0x1,esmap['EffectManager']&&(_0x478743[_0x1a9f('0xdcb')]=_0x5f427d[_0x1a9f('0xdc4')],esmap[_0x1a9f('0xdcc')][_0x1a9f('0xdcd')]=_0x478743),_0x5e46b5&&_0x4dc259[_0x1a9f('0x3e3')](_0x478743),new ESTileMap['ESTileControls'](_0x478743,_0x257e75['mapView'][_0x1a9f('0x350')],_0x257e75));if(_0x478743['camera'][_0x1a9f('0xdce')][_0x1a9f('0x2c7')]=_0x264a03,_0x257e75[_0x1a9f('0xdcf')](_0x264a03),_0x257e75[_0x1a9f('0x5f4')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xdd0')][_0x1a9f('0x9')](_0x257e75[_0x1a9f('0x2c7')]),_0x257e75[_0x1a9f('0x2c7')]['addEventListener'](_0x1a9f('0xdd1'),function(_0x48b414){_0x257e75[_0x1a9f('0xdd2')]=_0x48b414[_0x1a9f('0x503')],_0x257e75[_0x1a9f('0x27f')](_0x1a9f('0x980'),_0x48b414[_0x1a9f('0x503')]),esmap['ESEffectTool'][_0x1a9f('0x491')][_0x1a9f('0xdd3')]()&&_0x1d3705(_0x48b414[_0x1a9f('0x503')]);}),_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x2b5')](_0x1a9f('0x2e2'),function(_0x48b414){_0x257e75[_0x1a9f('0x27f')](_0x1a9f('0x86a')),_0x165e1c[_0x1a9f('0x1ba')](_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]);}),_0x257e75[_0x1a9f('0x2c7')]['addEventListener'](_0x1a9f('0xd15'),function(_0x48b414){_0x257e75[_0x1a9f('0xdd4')](),_0x257e75[_0x1a9f('0x27f')](_0x1a9f('0xdd5'));}),esmap[_0x1a9f('0x53')]['options'][_0x1a9f('0x7dc')]&&_0x2e55a7[_0x1a9f('0x7dd')]&&(_0x3c75e1=esmap[_0x1a9f('0x53')]['models']['getShadow'](),_0x549091=esmap['ESEffectTool']['lights'][_0x1a9f('0xdd6')](),_0x3c75e1[_0x1a9f('0xdd7')](_0x549091[_0x1a9f('0x905')],_0x2e55a7[_0x1a9f('0x7dd')]),(_0x5dd9dc=new THREE['MeshLambertMaterial']({'color':_0x1a9f('0x426'),'transparent':!0x0,'depthWrite':!0x1}))[_0x1a9f('0x3ea')]=function(_0x48b414){_0x48b414[_0x1a9f('0x57')]=_0x48b414[_0x1a9f('0x57')][_0x1a9f('0x239')](_0x1a9f('0x3ee'),_0x1a9f('0xdd8'));},(_0x1e6e16=new THREE[(_0x1a9f('0x332'))](new THREE[(_0x1a9f('0x3f0'))](0x1,0x1),_0x5dd9dc))['rotation']['x']=0.5*-Math['PI'],_0x1e6e16[_0x1a9f('0x69d')]=!0x0,_0x257e75[_0x1a9f('0x447')][_0x1a9f('0x443')]['add'](_0x1e6e16),_0x3c75e1[_0x1a9f('0xcbf')](_0x549091,_0x1e6e16,_0x2e55a7[_0x1a9f('0x7dd')]),_0x257e75['on']('tileModelInited',function(_0x48b414){setTimeout(function(){_0x3c75e1[_0x1a9f('0xcbf')](_0x549091,_0x1e6e16,_0x2e55a7['shadow']);},0xfa0);}),_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x2b5')]('change',function(_0x48b414){_0x3c75e1[_0x1a9f('0xcbf')](_0x549091,_0x1e6e16,_0x2e55a7[_0x1a9f('0x7dd')],_0x165e1c);})),_0x453c13?(_0x257e75[_0x1a9f('0x2c7')]['enableDamping']=!0x0,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf7')]=0.1,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x59e')]=0.08,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf8')]=0.25):(_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf6')]=!0x1,_0x257e75[_0x1a9f('0x2c7')]['rotateSpeed']=0.7,_0x257e75[_0x1a9f('0x2c7')]['panSpeed']=1.6),_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xdd9')]=!0x1,_0x257e75['controls']['autoRotateSpeed']=0.1,_0x28df33){for(var _0x3f5c25=_0x257e75['options'][_0x1a9f('0x350')],_0x3cb37d=_0x58483b,_0x5e46b5=document[_0x1a9f('0x77')](_0x1a9f('0xd30')),_0x264a03=(_0x5e46b5['style'][_0x1a9f('0x42')]=_0x1a9f('0xd32'),_0x5e46b5[_0x1a9f('0x63')][_0x1a9f('0x640')]=0x0,_0x5e46b5[_0x1a9f('0x63')][_0x1a9f('0x742')]=0x0,_0x5e46b5[_0x1a9f('0x63')]['height']=_0x1a9f('0xdda'),_0x5e46b5[_0x1a9f('0x63')][_0x1a9f('0xddb')]=_0x1a9f('0xddc'),_0x5e46b5[_0x1a9f('0x63')][_0x1a9f('0xddd')]=_0x1a9f('0xdde'),_0x5e46b5['style'][_0x1a9f('0x475')]=_0x1a9f('0xddf'),_0x5e46b5[_0x1a9f('0x63')][_0x1a9f('0xde0')]=_0x1a9f('0xde1'),document[_0x1a9f('0x77')]('a')),_0x33a763=(_0x264a03['setAttribute'](_0x1a9f('0xde2'),_0x1a9f('0xde3')),_0x264a03[_0x1a9f('0x690')]('target',_0x1a9f('0xde4')),_0x264a03[_0x1a9f('0x63')][_0x1a9f('0x21e')]=_0x1a9f('0xde5'),_0x264a03[_0x1a9f('0x63')]['textDecoration']=_0x1a9f('0x29f'),_0x264a03[_0x1a9f('0xde6')]=_0x1a9f('0x2a'),_0x5e46b5[_0x1a9f('0x64')](_0x264a03),document[_0x1a9f('0x77')]('a')),_0xd047c3=[{'url':'google.cn','text':_0x1a9f('0xde7'),'link':_0x1a9f('0xde8')},{'url':_0x1a9f('0xde9'),'text':_0x1a9f('0xdea'),'link':_0x1a9f('0xdeb')},{'url':_0x1a9f('0xdec'),'text':'\x20|\x20Â©\x20å¤©å°å¾\x20','link':'https://map.tianditu.gov.cn'},{'url':_0x1a9f('0xded'),'text':'\x20|\x20Â©\x20GeoQ\x20','link':_0x1a9f('0xdee')}],_0x58fa7f=0x0;_0x58fa7f<_0xd047c3[_0x1a9f('0xf')];_0x58fa7f++)if(-0x1<_0x3cb37d[_0x1a9f('0xc4')](_0xd047c3[_0x58fa7f][_0x1a9f('0x95a')])){_0x33a763[_0x1a9f('0xde6')]=_0xd047c3[_0x58fa7f][_0x1a9f('0xdef')],_0x33a763[_0x1a9f('0x690')](_0x1a9f('0xde2'),_0xd047c3[_0x58fa7f][_0x1a9f('0xdf0')]),_0x33a763[_0x1a9f('0x690')](_0x1a9f('0xc7'),_0x1a9f('0xde4'));break;}_0x33a763[_0x1a9f('0x63')]['color']=_0x1a9f('0x60b'),_0x33a763['style'][_0x1a9f('0xdf1')]='none',_0x33a763[_0x1a9f('0x63')]['paddingRight']=_0x1a9f('0xde1'),_0x5e46b5['appendChild'](_0x33a763),_0x3f5c25['appendChild'](_0x5e46b5);}var _0x2325b0,_0x5dd9dc=_0x257e75['options'][_0x1a9f('0x350')],_0x453c13=document['createElement']('div'),_0x28df33=(_0x453c13[_0x1a9f('0x63')][_0x1a9f('0x42')]='absolute',_0x453c13[_0x1a9f('0x63')]['top']=0x0,_0x453c13[_0x1a9f('0x63')][_0x1a9f('0x35b')]=0x0,_0x453c13['style'][_0x1a9f('0x33a')]=_0x1a9f('0xdf2'),_0x453c13[_0x1a9f('0x63')][_0x1a9f('0x33b')]=_0x1a9f('0xdf2'),_0x453c13[_0x1a9f('0x63')]['backgroundColor']=_0x1a9f('0x60b'),_0x5dd9dc[_0x1a9f('0x64')](_0x453c13),_0x25b92b=_0x453c13,esmap[_0x1a9f('0xdf3')]=function(_0x48b414){_0x25b92b&&(_0x25b92b[_0x1a9f('0x63')]['display']=_0x48b414?_0x1a9f('0xdf4'):'none');},new ESTileMap[(_0x1a9f('0xdf5'))]({'extent':_0x36d31a,'format':_0x1a9f('0xdf6'),'url':_0x58483b||_0x1a9f('0xdf7'),'attribution':{'name':_0x1a9f('0xdf8')},'tileMatrixSet':'PM','zoom':_0x15e0a2,'projection':_0x1a9f('0xdc3'),'isInverted':_0x1a9f('0xdf9')==_0x257e75['coordSystem']})),_0x264a03=new ESTileMap[(_0x1a9f('0xdfa'))](_0x1a9f('0xdb4'),{'source':_0x28df33,'sourceType':_0x1a9f('0x35e')}),_0x42117e=(_0x478743[_0x1a9f('0xdfb')](_0x264a03),_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x4d0')][_0x1a9f('0x70')](_0x264a03),_0x59758d[_0x1a9f('0xdcd')]=_0x478743,_0x59758d['currLayer']=_0x264a03,!(_0x478743[_0x1a9f('0x3e5')][_0x1a9f('0x343')][_0x1a9f('0x42')]['y']=-0x1)===_0x216908&&(_0x478743[_0x1a9f('0x3e5')][_0x1a9f('0x343')][_0x1a9f('0x342')]=!0x1),_0x257e75['on'](_0x1a9f('0x86c'),function(_0x48b414){TWEEN[_0x1a9f('0x2e4')](),esmap[_0x1a9f('0xdb3')]||(_0x478743['notifyChange'](_0x478743['camera'][_0x1a9f('0xdce')]),_0x4dc259&&_0x4dc259[_0x1a9f('0x2e4')]());}),_0x127126=new _0x32ff74['CameraFlyTo'](_0x478743,_0x257e75[_0x1a9f('0x2c7')]),_0x59758d[_0x1a9f('0xdfc')]=function(_0x48b414){_0x127126[_0x1a9f('0xdfc')]({'direction':_0x48b414['direction']||esmap[_0x1a9f('0x2ce')]['NORTH'],'position':new THREE[(_0x1a9f('0x1b5'))](-_0x48b414['x'],0x0,_0x48b414['y']),'radiusFactor':_0x48b414[_0x1a9f('0x2cb')]||0x7d0,'pitchAngle':_0x48b414[_0x1a9f('0xdfd')]||0x2d,'complete':_0x48b414[_0x1a9f('0x34f')]});},_0x257e75['cameraFlyTo']=function(_0x48b414){var _0x3c75e1,_0x549091;function _0x1e6e16(){_0x127126[_0x1a9f('0x7e3')]({'targetPos':_0x3c75e1,'radius':_0x48b414['radius'],'pitchAngle':_0x48b414[_0x1a9f('0x2cc')],'directionAngle':_0x48b414[_0x1a9f('0x2dc')],'time':_0x48b414[_0x1a9f('0x2dd')],'callback':_0x48b414[_0x1a9f('0x34f')],'tileUpdateCallbacks':{'start':_0x257e75[_0x1a9f('0x2c7')]['cameraAnimateStart'],'update':_0x257e75['controls'][_0x1a9f('0xdfe')],'complete':_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xdff')]}});}_0x48b414[_0x1a9f('0x21c')]?(_0x3c75e1=null,_0x3c75e1=_0x48b414[_0x1a9f('0x49f')]&&_0x48b414['fnum']?(_0x549091=_0x257e75[_0x1a9f('0x7e5')]({'bid':_0x48b414[_0x1a9f('0x49f')],'fnum':_0x48b414[_0x1a9f('0x4a0')]}),_0x257e75[_0x1a9f('0x26')](_0x549091)):_0x257e75[_0x1a9f('0x26')]({'x':_0x48b414['x'],'y':_0x48b414['y'],'z':_0x48b414['z']||0x0}),_0x549091=_0x257e75['controls'][_0x1a9f('0xe00')](_0x48b414['radius']),0xf<_0x257e75[_0x1a9f('0x2c7')]['_earthZoom']&&_0x549091<=0xf&&_0x48b414['pitchAngle']<THREE['Math'][_0x1a9f('0x9df')](_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')])?_0x48b414[_0x1a9f('0xe02')]?setTimeout(function(){_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe03')](_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')],0x1f4,function(){_0x1e6e16();});},0x3e8*_0x48b414[_0x1a9f('0xe02')]):_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe03')](_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')],0x1f4,function(){_0x1e6e16();}):_0x48b414[_0x1a9f('0xe02')]?setTimeout(function(){_0x1e6e16();},0x3e8*_0x48b414[_0x1a9f('0xe02')]):_0x1e6e16()):console[_0x1a9f('0x1f3')](_0x1a9f('0xe04'));},_0x257e75[_0x1a9f('0x7e4')]=function(_0x48b414,_0x3c75e1){var _0x549091=null,_0x1e6e16=_0x48b414&&_0x3c75e1?(_0x549091=_0x257e75[_0x1a9f('0x7e5')]({'bid':_0x48b414,'fnum':_0x3c75e1}),_0x257e75[_0x1a9f('0x26')](_0x549091)):(_0x549091=_0x257e75['coordThreeToMap']({'x':_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['x'],'y':_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['y'],'z':_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]['z']}),_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xc7')]),_0x1e6e16=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x6')][_0x1a9f('0x42')][_0x1a9f('0x2cf')](_0x1e6e16);return _0x48b414&&_0x3c75e1?{'directionAngle':+_0x257e75['rotateAngle'][_0x1a9f('0x687')](0x2),'pitchAngle':+_0x257e75[_0x1a9f('0xdfd')]['toFixed'](0x2),'radius':+_0x1e6e16['toFixed'](0x2),'x':+_0x549091['x'][_0x1a9f('0x687')](0x2),'y':+_0x549091['y'][_0x1a9f('0x687')](0x2),'z':0x0,'bid':_0x48b414,'fnum':_0x3c75e1,'time':0x3}:{'directionAngle':+_0x257e75['rotateAngle']['toFixed'](0x2),'pitchAngle':+_0x257e75['tiltAngle']['toFixed'](0x2),'radius':+_0x1e6e16['toFixed'](0x2),'x':+_0x549091['x'][_0x1a9f('0x687')](0x2),'y':+_0x549091['y']['toFixed'](0x2),'z':+_0x549091['z'][_0x1a9f('0x687')](0x1),'time':0x3};},_0x257e75[_0x1a9f('0xe05')]=_0x577ae1,_0xe3f845['scaleLevel']||0x8),_0x1ed962=(_0x257e75['tileService']['preLoadBuildingId']?esmap[_0x1a9f('0x3e')][_0x1a9f('0xe06')](_0x48b414):(_0x3f5c25={'startZoom':_0x42117e},_0x5e46b5=(0x0,_0x114b20[_0x1a9f('0x36')])(_0x257e75[_0x1a9f('0x4d')]['center']['x'],_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0x8c3')]['y']),_0x5dd9dc=new THREE['Vector3'](_0x5e46b5['x'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe07')](_0x3f5c25['startZoom']),_0x5e46b5['y']),_0x453c13=new THREE[(_0x1a9f('0x1b5'))](_0x5e46b5['x'],0x0,_0x5e46b5['y']),_0x478743[_0x1a9f('0x3e5')][_0x1a9f('0x343')][_0x1a9f('0x42')][_0x1a9f('0x1d')](-_0x257e75['mapScene'][_0x1a9f('0x3b')],0x0,-_0x257e75['mapScene'][_0x1a9f('0x3c')]),_0x257e75[_0x1a9f('0x847')][_0x1a9f('0xe08')]?_0x257e75['cameraFlyTo'](_0x257e75[_0x1a9f('0x847')][_0x1a9f('0xe08')]):(_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe09')](_0x5dd9dc,_0x453c13,_0x3f5c25[_0x1a9f('0xe0a')]),_0x257e75[_0x1a9f('0x2c7')]['update']({'forceTheta':Math['PI']+THREE[_0x1a9f('0x18')][_0x1a9f('0x2de')](_0x257e75['options']['defaultAngle'])}))),void 0x0===_0x59758d[_0x1a9f('0xe0b')]&&Object[_0x1a9f('0x3')](_0x59758d,_0x1a9f('0xe0b'),{'get':function(){return _0x5d29a6;},'set':function(_0x48b414){_0x2f0501||_0x48b414===_0x5d29a6||(_0x48b414===esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0d')]?(_0x2f0501=!0x0,_0x257e75[_0x1a9f('0xe0e')]={'mode':esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0d')],'force2D':!0x0,'time':0x1,'callback':function(){_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')]=0x0,_0x257e75[_0x1a9f('0x2c7')]['maxNearGroundPolarAngle']=0x0,_0x478743[_0x1a9f('0x314')][_0x1a9f('0xdce')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0x6')],_0x5d29a6=_0x48b414,_0x2f0501=!0x1;}},esmap[_0x1a9f('0x53')][_0x1a9f('0x490')][_0x1a9f('0x87b')](!0x1)):_0x48b414===esmap['ESViewMode'][_0x1a9f('0xe0f')]&&(_0x2f0501=!0x0,_0x257e75[_0x1a9f('0xe0e')]={'mode':esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0f')],'force2D':!0x0,'time':0x1,'callback':function(){_0x5d29a6=_0x48b414,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe10')]=_0x257e75['controls'][_0x1a9f('0xe11')],_0x257e75[_0x1a9f('0x2c7')]['checkIsUseNearGroundPolarAngle'](),_0x2f0501=!0x1,_0x478743[_0x1a9f('0x314')][_0x1a9f('0xdce')]=_0x257e75[_0x1a9f('0x2c7')]['object'];}},esmap[_0x1a9f('0x53')][_0x1a9f('0x490')][_0x1a9f('0x87b')](!0x0)));}}),void 0x0===_0x59758d['viewMode']&&Object[_0x1a9f('0x3')](_0x59758d,_0x1a9f('0xe0e'),{'get':function(){return _0x20e41e;},'set':function(_0x48b414){_0x48b414===esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0d')]?(_0x20e41e=_0x48b414,_0x257e75['controls'][_0x1a9f('0xe01')]=0x0,_0x257e75['controls'][_0x1a9f('0xe11')]=_0x257e75['controls']['maxNearGroundPolarAngle'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')]=0x0,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe10')]=0x0):_0x48b414===esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0f')]&&(_0x20e41e=_0x48b414,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')]=0.3*Math['PI'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')]=0.3*Math['PI'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe10')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe11')]);}}),void 0x0===_0x59758d[_0x1a9f('0xd07')]&&Object['defineProperty'](_0x59758d,_0x1a9f('0xd07'),{'get':function(){return _0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xd07')];},'set':function(_0x48b414){_0x257e75['controls'][_0x1a9f('0xd07')]=_0x48b414;}}),void 0x0===_0x59758d[_0x1a9f('0xdbb')]&&Object['defineProperty'](_0x59758d,_0x1a9f('0xdbb'),{'get':function(){return _0x478743[_0x1a9f('0x3e5')]['maxSubdivisionLevel'];},'set':function(_0x48b414){_0x478743['tileLayer']['maxSubdivisionLevel']=_0x48b414;}}),_0x257e75[_0x1a9f('0x3a')][_0x1a9f('0xe12')][_0x1a9f('0x342')]=!0x0,_0xe3f845['scaleLevel']),_0x36d31a=0x0;_0xe3f845['scaleLevelAnimate']&&(_0x1ed962=_0xe3f845['scaleLevelAnimate'][_0x1a9f('0xe13')],_0x36d31a=_0xe3f845['scaleLevelAnimate'][_0x1a9f('0x212')]),_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0xe0e')]==esmap['ESViewMode']['MODE_2D']&&(_0xe3f845[_0x1a9f('0xe14')]=0.1),_0x1ed962<_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0xe15')]&&console[_0x1a9f('0xe4')](_0x1a9f('0xe16')+(_0xe3f845[_0x1a9f('0xe17')]?_0x1a9f('0xe18'):_0x1a9f('0xdd2'))+'\x20in\x20ESTileMap.',_0x1a9f('0xe19')),_0x257e75['tileService']['preLoadBuildingId']?_0x46a8d9({'targetLevel':_0x1ed962,'startZoom':_0x42117e,'scaleLevel':_0xe3f845[_0x1a9f('0xdd2')],'scaleLevelAnimate':_0xe3f845[_0x1a9f('0xe17')]}):(_0x257e75[_0x1a9f('0x447')][_0x1a9f('0x350')][_0x1a9f('0x63')][_0x1a9f('0xe1a')]=_0x1a9f('0xe1b'),_0x2325b0={'isNeedAnimate':_0xe3f845[_0x1a9f('0xe17')],'targetLevel':_0x1ed962,'duration':_0x36d31a,'initPitchAngle':_0xe3f845['initPitchAngle']},new _0x5c09b3[(_0x1a9f('0xa'))](function(_0x48b414,_0x3c75e1){!_0x2325b0[_0x1a9f('0xe1c')]&&_0x257e75[_0x1a9f('0x847')][_0x1a9f('0xe08')]?_0x48b414():_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe1d')](_0x2325b0[_0x1a9f('0xe13')],0x3e8*_0x2325b0[_0x1a9f('0x212')],function(){_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe03')](THREE[_0x1a9f('0x18')]['degToRad'](_0x2325b0[_0x1a9f('0xe14')]),0x3e8,function(){_0x48b414();}),_0x2325b0[_0x1a9f('0xe1e')]&&_0x5d516f();});})['then'](function(){_0x46a8d9({'targetLevel':_0x1ed962,'startZoom':_0x42117e,'scaleLevel':_0xe3f845[_0x1a9f('0xdd2')],'scaleLevelAnimate':_0xe3f845[_0x1a9f('0xe17')]}),_0xe3f845[_0x1a9f('0xe1f')]&&new _0x32ff74[(_0x1a9f('0xb7'))](_0x257e75[_0x1a9f('0x447')]['container'],_0x478743,_0x59758d['currLayer'],_0x1a9f('0xe20'),function(_0x48b414){})[_0x1a9f('0x82d')]();}));}function _0x46a8d9(_0x48b414){_0x257e75['fire'](_0x1a9f('0xe21'),{'level':_0x48b414[_0x1a9f('0xe17')]?_0x48b414[_0x1a9f('0xe0a')]:_0x48b414['scaleLevel']}),_0x1d3705(_0x48b414[_0x1a9f('0xe13')]),_0x257e75['updateTile']=!0x0,_0x257e75[_0x1a9f('0xdd4')](),_0x257e75[_0x1a9f('0x4d')]['viewMode']==esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0d')]&&(esmap[_0x1a9f('0x7da')]['viewMode']=esmap[_0x1a9f('0xe0c')]['MODE_2D']);}function _0x577ae1(_0x48b414){var _0x3c75e1=null,_0x549091=0x1;if('number'==typeof _0x48b414)_0x3c75e1=_0x48b414;else if(_0x1a9f('0x6')===(void 0x0===_0x48b414?_0x1a9f('0x1'):(0x0,_0x1e6e16[_0x1a9f('0xa')])(_0x48b414))){if(!_0x48b414[_0x1a9f('0x11')])return;_0x3c75e1=_0x48b414[_0x1a9f('0x11')],_0x48b414[_0x1a9f('0x2dd')]&&(_0x549091=_0x48b414['time']);}0xf<_0x257e75['controls']['_earthZoom']&&_0x3c75e1<=0xf&&_0x257e75[_0x1a9f('0xdfd')]>_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')]?_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe03')](_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')],0x1f4,function(){_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe1d')](_0x3c75e1,0x3e8*(_0x549091-0.5),function(){_0x48b414[_0x1a9f('0x2e5')]&&_0x48b414[_0x1a9f('0x2e5')](),_0x257e75[_0x1a9f('0xdd4')]();});}):_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe1d')](_0x3c75e1,0x3e8*_0x549091,function(){_0x48b414[_0x1a9f('0x2e5')]&&_0x48b414[_0x1a9f('0x2e5')](),_0x257e75[_0x1a9f('0xdd4')]();});}function _0x1d3705(_0x48b414){var _0x3c75e1=esmap[_0x1a9f('0x53')][_0x1a9f('0x491')]['getSkybox']();_0x3c75e1&&_0x3c75e1[_0x1a9f('0x87c')]&&_0x3c75e1[_0x1a9f('0x87c')][_0x1a9f('0x449')]&&(_0x1a9f('0x974')==_0x3c75e1[_0x1a9f('0x87c')]['type']&&_0x48b414<(_0x28df33?0x10:0xe)&&_0x478743[_0x1a9f('0x3e5')]['object3d'][_0x1a9f('0x342')]?(_0x3c75e1[_0x1a9f('0x87c')][_0x1a9f('0xc6')],_0x3c75e1[_0x1a9f('0x87c')][_0x1a9f('0x449')]['visible']=!0x1):_0x3c75e1[_0x1a9f('0x87c')]['skyBox'][_0x1a9f('0x342')]=!0x0);}function _0x5d516f(){new _0x216908[(_0x1a9f('0xa'))]({'container':_0x257e75[_0x1a9f('0x447')][_0x1a9f('0x350')],'tileView':_0x478743,'tileLayer':_0x59758d[_0x1a9f('0xe22')],'callback':function(_0x48b414){_0x257e75[_0x1a9f('0x27f')]('tileClick',{'x':-_0x48b414['x'],'y':_0x48b414['z']});}})[_0x1a9f('0x82d')]();}esmap[_0x1a9f('0x7da')]=_0x59758d,_0x127126=_0x4dc259=_0x58c27d=_0x478743=_0x257e75=null,_0x20e41e=esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0f')],_0x5d29a6=esmap[_0x1a9f('0xe0c')][_0x1a9f('0xe0f')],_0x5e46b5=!0x1,_0x28df33=(_0x2e55a7=null,_0x114b20['getOS'])(),_0x25b92b=null,_0x2f0501=!0x1,_0x165e1c=new THREE['Vector3'](),_0x59758d[_0x1a9f('0x82d')]=function(_0x28df33){_0x28df33=(0x0,_0xe3f845[_0x1a9f('0xa')])({'effectThemeSrc':null,'effectThemeId':null,'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null,'isInitShow':!0x0},_0x28df33),(_0x257e75=esmap[_0x1a9f('0x2a')][_0x1a9f('0x2b')])['registerClickEvent']=_0x5d516f,_0x28df33[_0x1a9f('0xe23')]&&(selectEffect=!0x0,_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0xe24')]=!0x0),_0x28df33['pickableBuildings']&&(_0x257e75['options'][_0x1a9f('0xe25')]=_0x28df33['pickableBuildings']),esmap[_0x1a9f('0x975')]=!0x0,void 0x0!==esmap[_0x1a9f('0xdb3')]&&(esmap[_0x1a9f('0xdb3')]=!0x1),_0x257e75['on']('beforeLoad',function(){}),_0x257e75['on']('preLoadComplete',function(_0x48b414){if(!_0x5e46b5){var _0x3c75e1,_0x1e6e16;if(_0x5e46b5=!0x0,_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0x8c3')]['x'],_0x257e75[_0x1a9f('0x4d')][_0x1a9f('0x8c3')]['y'],_0x28df33[_0x1a9f('0xdb6')]){for(var _0x549091=_0x257e75[_0x1a9f('0xe26')][_0x1a9f('0x5f')](','),_0xe3f845=!0x1,_0x216908=0x0;_0x216908<_0x549091[_0x1a9f('0xf')];_0x216908++)if(-0x1<_0x28df33[_0x1a9f('0xdb6')]['indexOf'](_0x549091[_0x216908])){_0xe3f845=!0x0;break;}if(!(_0xe3f845=_0x1a9f('0xe27')===esmap[_0x1a9f('0x3e')][_0x1a9f('0xe28')](document[_0x1a9f('0x364')])||_0x1a9f('0xe29')===esmap[_0x1a9f('0x3e')][_0x1a9f('0xe28')](document[_0x1a9f('0x364')])||'X3t3SGlzWmVwSGdO'===esmap[_0x1a9f('0x3e')][_0x1a9f('0xe28')](document[_0x1a9f('0x364')])||_0xe3f845))return void console[_0x1a9f('0xe4')](_0x1a9f('0xe2a'));}if(''===_0x28df33[_0x1a9f('0xdb6')]||!_0x28df33['tileUrl']&&!_0x257e75[_0x1a9f('0x847')][_0x1a9f('0xdb7')][0x0])return _0x257e75['updateTile']=!0x0,void _0x257e75['updateTileView']();esmap[_0x1a9f('0x53')]&&esmap[_0x1a9f('0x53')]['configPath']&&esmap[_0x1a9f('0x53')]['configPath'],_0x257e75[_0x1a9f('0x3a')][_0x1a9f('0xe12')]['visible']=!0x1,esmap[_0x1a9f('0x7da')][_0x1a9f('0x7db')]=!0x0,esmap[_0x1a9f('0x53')][_0x1a9f('0x833')]?(_0x3c75e1=(0x0,_0x114b20['selectCityMapEffectConfigPath'])(_0x257e75,esmap[_0x1a9f('0x53')][_0x1a9f('0x4d')]),_0x1e6e16=_0x3c75e1,new _0x5c09b3['default'](function(_0x3c75e1,_0x549091){new THREE[(_0x1a9f('0x2bd'))]()[_0x1a9f('0xca')](_0x1e6e16+_0x1a9f('0xe2b'),function(_0x48b414){_0x3c75e1(JSON[_0x1a9f('0x2be')](_0x48b414));},null,function(_0x48b414){console[_0x1a9f('0x1f3')]('ESTileMap\x20Theme\x20need\x20'+_0x1e6e16+_0x1a9f('0xe2b')),_0x549091(_0x48b414);});})['then'](function(_0x48b414){if((_0x2e55a7=_0x48b414)[_0x1a9f('0xe2c')]){_0x5f427d[_0x1a9f('0xdc4')][_0x1a9f('0xe2d')]=!0x0;var _0x3c75e1=_0x48b414[_0x1a9f('0xe2c')],_0x549091=(_0x3c75e1['fogColor']&&_0x5f427d[_0x1a9f('0xdc4')]['fogColor'][_0x1a9f('0x30c')](_0x3c75e1[_0x1a9f('0x418')]),_0x3c75e1[_0x1a9f('0x5ed')]&&_0x5f427d[_0x1a9f('0xdc4')]['groundColor'][_0x1a9f('0x30c')](_0x3c75e1[_0x1a9f('0x5ed')]),_0x3c75e1['skyColor']&&_0x5f427d[_0x1a9f('0xdc4')]['skyColor'][_0x1a9f('0x30c')](_0x3c75e1[_0x1a9f('0xe2e')]),_0x3c75e1[_0x1a9f('0xe2f')]&&(_0x5f427d[_0x1a9f('0xdc4')][_0x1a9f('0xe30')]=!0x0,_0x5f427d['DEFAULT_THEME']['colorMapping']=(0x0,_0x5f427d[_0x1a9f('0xe31')])(_0x3c75e1[_0x1a9f('0xe2f')][_0x1a9f('0xe32')],_0x3c75e1[_0x1a9f('0xe2f')][_0x1a9f('0x93e')])),!0x0),_0x1e6e16=!0x1,_0xe3f845=void 0x0;try{for(var _0x216908,_0x58483b=(0x0,_0x453c13[_0x1a9f('0xa')])([_0x1a9f('0xe33'),'brightness',_0x1a9f('0xe34'),_0x1a9f('0xe35'),_0x1a9f('0xe36'),'gamma']);!(_0x549091=(_0x216908=_0x58483b['next']())[_0x1a9f('0xce')]);_0x549091=!0x0){var _0x5e46b5=_0x216908[_0x1a9f('0x11')];_0x3c75e1['hasOwnProperty'](_0x5e46b5)&&(_0x5f427d['DEFAULT_THEME'][_0x5e46b5]=_0x3c75e1[_0x5e46b5]);}}catch(_0x517cb5){_0x1e6e16=!0x0,_0xe3f845=_0x517cb5;}finally{try{!_0x549091&&_0x58483b[_0x1a9f('0xd0')]&&_0x58483b[_0x1a9f('0xd0')]();}finally{if(_0x1e6e16)throw _0xe3f845;}}}_0x48b414[_0x1a9f('0xe37')]&&(_0x1e6e16=_0x48b414[_0x1a9f('0xe37')],_0x5f427d[_0x1a9f('0xdc4')]['isShowWater']=_0x28df33[_0x1a9f('0x3e1')],_0x5f427d['DEFAULT_THEME']['waterSkyTexPath']=(0x0,_0x114b20[_0x1a9f('0x2f')])(_0x1e6e16[_0x1a9f('0x545')]),_0x1e6e16[_0x1a9f('0x3e0')]&&(_0x5f427d[_0x1a9f('0xdc4')][_0x1a9f('0xdc5')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x1e6e16[_0x1a9f('0x3e0')])),_0x1e6e16['replaceColor']&&(_0x5f427d['DEFAULT_THEME'][_0x1a9f('0xdc6')]=new THREE[(_0x1a9f('0x1b7'))]()['setStyle'](_0x1e6e16[_0x1a9f('0x3e2')])),_0x1e6e16[_0x1a9f('0xe38')]&&(_0x5f427d['DEFAULT_THEME'][_0x1a9f('0xe39')]=new THREE[(_0x1a9f('0x1b7'))]()[_0x1a9f('0x30c')](_0x1e6e16[_0x1a9f('0xe38')]))),_0x15e0a2(_0x28df33);})):_0x15e0a2(_0x28df33);}}),_0x257e75['on']('viewModeChanged',function(_0x48b414){_0x257e75[_0x1a9f('0x2c7')]['enableRotate']='2D'!==_0x48b414;}),_0x257e75[_0x1a9f('0x81b')]('dispose',function(){_0x5dd9dc();});},_0x59758d[_0x1a9f('0xe3a')]=_0x577ae1,_0x59758d[_0x1a9f('0x86d')]=_0x5dd9dc,_0x59758d[_0x1a9f('0xe3b')]={'getTargetLoLaFromPos':function(_0x48b414){return ESTileMap[_0x1a9f('0xe3c')]['getLoLaFromWorldPos']({'mapType':'google','x':_0x48b414[0x0],'z':_0x48b414[0x1]});},'getTargetPosFromLoLa':function(_0x48b414){_0x48b414=ESTileMap[_0x1a9f('0xe3c')]['getWorldPosFromLoLa']({'mapType':_0x1a9f('0x35e'),'longitude':_0x48b414[0x0],'latitude':_0x48b414[0x1]});return new THREE[(_0x1a9f('0x1b5'))](_0x48b414['x'],0x0,_0x48b414['z']);},'setControlsConfigs':function(_0x48b414){_0x257e75['controls']['isLockEarthZoom']=!0x0,_0x48b414[_0x1a9f('0xe3d')]&&_0x48b414[_0x1a9f('0xe3d')]>=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe3e')]&&(_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe3e')]=_0x48b414[_0x1a9f('0xe3d')]),_0x48b414['maxLevel']&&_0x48b414[_0x1a9f('0xe3f')]<=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe40')]&&(_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe40')]=_0x48b414[_0x1a9f('0xe3f')]),void 0x0!==_0x48b414[_0x1a9f('0xcf3')]&&(_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')],_0x257e75['controls'][_0x1a9f('0xe11')]=_0x257e75[_0x1a9f('0x2c7')]['maxNearGroundPolarAngle'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')]=_0x48b414[_0x1a9f('0xcf3')],_0x257e75['controls'][_0x1a9f('0xe10')]=_0x48b414['maxPolarAngle']);},'resetControlsConfigs':function(){_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe41')]=!0x1,_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe3e')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe42')],_0x257e75[_0x1a9f('0x2c7')]['maxEarthZoom']=_0x257e75['controls']['_maxEarthZoom'],_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xcf3')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe01')],_0x257e75['controls'][_0x1a9f('0xe10')]=_0x257e75[_0x1a9f('0x2c7')][_0x1a9f('0xe11')];},'toggleTileLayer':function(_0x48b414){_0x478743&&(_0x478743[_0x1a9f('0x3e5')][_0x1a9f('0x342')]=_0x48b414,esmap[_0x1a9f('0x53')][_0x1a9f('0x490')][_0x1a9f('0x87b')](_0x48b414));},'setAlpha':function(_0x48b414,_0x3c75e1){_0x1a9f('0x14')!=typeof _0x48b414&&_0x1a9f('0x14')!=typeof _0x3c75e1||_0x478743&&(_0x48b414<0x1?(_0x478743[_0x1a9f('0xe43')]=!0x0,_0x478743[_0x1a9f('0xe44')]=!0x0,_0x478743[_0x1a9f('0xe45')]=_0x48b414,_0x478743['_sortOrder']=_0x3c75e1):_0x478743[_0x1a9f('0xe44')]=!0x1);}};},function(_0x25d436,_0x4d6bd4,_0x5f567e){'use strict';Object[_0x1a9f('0x3')](_0x4d6bd4,_0x1a9f('0x5'),{'value':!0x0});var _0xc8805a=_0x5c7501(_0x5f567e(0x0));function _0x5c7501(_0x25d436){return _0x25d436&&_0x25d436[_0x1a9f('0x5')]?_0x25d436:{'default':_0x25d436};}function _0x76d8ce(_0x25d436){var _0x4d6bd4=_0x25d436['container'],_0x5f567e=_0x25d436[_0x1a9f('0xe46')],_0x5c7501=_0x25d436[_0x1a9f('0x3e5')],_0x25d436=_0x25d436[_0x1a9f('0x34f')];(0x0,_0xc8805a['default'])(this,_0x76d8ce),this[_0x1a9f('0x350')]=_0x4d6bd4,this[_0x1a9f('0x2c6')]=_0x5f567e,this[_0x1a9f('0x34d')]=_0x5c7501,this[_0x1a9f('0xe47')]=this['mouseDown'][_0x1a9f('0x9')](this),this[_0x1a9f('0xe48')]=this[_0x1a9f('0xe49')][_0x1a9f('0x9')](this),this[_0x1a9f('0xe4a')]=this['mouseMove'][_0x1a9f('0x9')](this),this['_touchstart']=this[_0x1a9f('0xe4b')][_0x1a9f('0x9')](this),this['_touchmove']=this[_0x1a9f('0xe4c')](this),this[_0x1a9f('0xe4d')]=this[_0x1a9f('0xe49')]['bind'](this),this[_0x1a9f('0xe4e')]=!0x1,this['moveCount']=0x0,this[_0x1a9f('0x34f')]=_0x25d436;}(0x0,_0x5c7501(_0x5f567e(0x1))[_0x1a9f('0xa')])(_0x76d8ce,[{'key':_0x1a9f('0x82d'),'value':function(){this[_0x1a9f('0x350')][_0x1a9f('0x2b5')](_0x1a9f('0xd0f'),this['_mousedown'],!0x1),this[_0x1a9f('0x350')]['addEventListener'](_0x1a9f('0xd23'),this[_0x1a9f('0xe48')],!0x1),this[_0x1a9f('0x350')]['addEventListener']('mousemove',this[_0x1a9f('0xe4a')],!0x1),this['container'][_0x1a9f('0x2b5')](_0x1a9f('0xe4f'),this[_0x1a9f('0xe50')],!0x1),this['container'][_0x1a9f('0x2b5')](_0x1a9f('0xd2c'),this['_touchend'],!0x1),this[_0x1a9f('0x350')][_0x1a9f('0x2b5')]('touchmove',this[_0x1a9f('0xe51')],!0x1);}},{'key':_0x1a9f('0x8f'),'value':function(){this[_0x1a9f('0x350')][_0x1a9f('0x351')](_0x1a9f('0xd0f'),this[_0x1a9f('0xe47')],!0x1),this['container'][_0x1a9f('0x351')](_0x1a9f('0xd23'),this['_mouseup'],!0x1),this[_0x1a9f('0x350')]['removeEventListener'](_0x1a9f('0xd12'),this[_0x1a9f('0xe4a')],!0x1),this[_0x1a9f('0x350')]['removeEventListener'](_0x1a9f('0xe4f'),this[_0x1a9f('0xe50')],!0x1),this[_0x1a9f('0x350')][_0x1a9f('0x351')](_0x1a9f('0xd2c'),this[_0x1a9f('0xe4d')],!0x1),this['container'][_0x1a9f('0x351')](_0x1a9f('0xd11'),this[_0x1a9f('0xe51')],!0x1);}},{'key':_0x1a9f('0x352'),'value':function(_0x25d436){var _0x25d436=_0x25d436||window['event'],_0x4d6bd4=_0x25d436[_0x1a9f('0xc7')]||_0x25d436[_0x1a9f('0x354')];return _0x25d436[_0x1a9f('0x355')]||(_0x4d6bd4=_0x4d6bd4[_0x1a9f('0x356')](),_0x25d436[_0x1a9f('0x357')]-_0x4d6bd4[_0x1a9f('0x35b')]);}},{'key':_0x1a9f('0x358'),'value':function(_0x25d436){var _0x25d436=_0x25d436||window['event'],_0x4d6bd4=_0x25d436[_0x1a9f('0xc7')]||_0x25d436[_0x1a9f('0x354')];return _0x25d436[_0x1a9f('0x359')]||(_0x4d6bd4=_0x4d6bd4[_0x1a9f('0x356')](),_0x25d436['clientY']-_0x4d6bd4[_0x1a9f('0x35b')]);}},{'key':_0x1a9f('0xe4b'),'value':function(){this[_0x1a9f('0xe4e')]=!0x1,this[_0x1a9f('0xe52')]=0x0;}},{'key':'mouseMove','value':function(){this[_0x1a9f('0xe4e')]=!0x0,this['moveCount']++;}},{'key':_0x1a9f('0xe49'),'value':function(_0x25d436){var _0x4d6bd4;this['isMouseMove']&&0x1<this[_0x1a9f('0xe52')]||(_0x4d6bd4=this['getOffsetX'](_0x25d436),_0x25d436=this[_0x1a9f('0x358')](_0x25d436),0x0<(_0x4d6bd4=this[_0x1a9f('0x2c6')][_0x1a9f('0x35c')]({'x':_0x4d6bd4,'y':_0x25d436},this[_0x1a9f('0x34d')]))[_0x1a9f('0xf')]&&this['callback']&&(_0x4d6bd4[0x0][_0x1a9f('0x336')]['y']=0x0,this[_0x1a9f('0x34f')](_0x4d6bd4[0x0][_0x1a9f('0x336')])));}}]),_0x4d6bd4[_0x1a9f('0xa')]=_0x76d8ce;},function(_0x5cf633,_0x2273c4,_0x5ff577){'use strict';Object[_0x1a9f('0x3')](_0x2273c4,_0x1a9f('0x5'),{'value':!0x0});var _0x31c194={'fogColor':new THREE['Color'](0xc8d4e4),'skyColor':new THREE[(_0x1a9f('0x1b7'))](0xc5dafb),'groundColor':new THREE['Color'](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x2273c4[_0x1a9f('0xdc4')]=_0x31c194,_0x2273c4[_0x1a9f('0xe31')]=function(_0x5cf633,_0x2273c4){for(var _0x5ff577=document[_0x1a9f('0x77')]('canvas'),_0x5ff577=(_0x5ff577[_0x1a9f('0x33a')]=0x100,_0x5ff577[_0x1a9f('0x33b')]=0x100,_0x5ff577[_0x1a9f('0x3dc')]('2d')),_0x31c194=_0x5ff577['createLinearGradient'](0x0,0x0,0x100,0x0),_0x3fb0ab=0x0,_0x5ce2d3=_0x5cf633[_0x1a9f('0xf')];_0x3fb0ab<_0x5ce2d3;_0x3fb0ab++)_0x31c194[_0x1a9f('0x3dd')](_0x5cf633[_0x3fb0ab],_0x2273c4[_0x3fb0ab]);_0x5ff577[_0x1a9f('0x3df')]=_0x31c194,_0x5ff577[_0x1a9f('0x60c')](0x0,0x0,0x100,0x1);_0x5ff577=new Uint8Array(_0x5ff577[_0x1a9f('0x7ce')](0x0,0x0,0x100,0x1)[_0x1a9f('0x375')][_0x1a9f('0x37f')]),_0x5ff577=new THREE[(_0x1a9f('0xe53'))](_0x5ff577,0x100,0x1);return _0x5ff577[_0x1a9f('0x617')]=_0x5ff577[_0x1a9f('0x633')]=THREE[_0x1a9f('0x634')],_0x5ff577[_0x1a9f('0x101')]=!0x0,_0x5ff577;};}]);

